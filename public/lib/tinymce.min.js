(()=>{var e=[,e=>{(function(){"use strict";var t=function(e){if(e===null){return"null"}if(e===undefined){return"undefined"}var t=typeof e;if(t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")){return"array"}if(t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")){return"string"}return t};var o=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1};var n=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)};var s=function(e,t){return r((function(o,n){return e.eq(t(o),t(n))}))};var r=function(e){return{eq:e}};var a=r((function(e,t){return e===t}));var c=a;var i=function(e){return r((function(t,o){if(t.length!==o.length){return false}var n=t.length;for(var s=0;s<n;s++){if(!e.eq(t[s],o[s])){return false}}return true}))};var l=function(e,t){return s(i(e),(function(e){return n(e,t)}))};var d=function(e){return r((function(t,o){var n=Object.keys(t);var s=Object.keys(o);if(!l(c).eq(n,s)){return false}var r=n.length;for(var a=0;a<r;a++){var i=n[a];if(!e.eq(t[i],o[i])){return false}}return true}))};var u=r((function(e,n){if(e===n){return true}var s=t(e);var r=t(n);if(s!==r){return false}if(o(s)){return e===n}else if(s==="array"){return i(u).eq(e,n)}else if(s==="object"){return d(u).eq(e,n)}return false}));const f=Object.getPrototypeOf;const m=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const g=e=>{const t=typeof e;if(e===null){return"null"}else if(t==="object"&&Array.isArray(e)){return"array"}else if(t==="object"&&m(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return t}};const p=e=>t=>g(t)===e;const h=e=>t=>typeof t===e;const y=e=>t=>e===t;const b=(e,t)=>k(e)&&m(e,t,((e,t)=>f(e)===t));const v=p("string");const k=p("object");const w=e=>b(e,Object);const _=p("array");const x=y(null);const C=h("boolean");const S=y(undefined);const z=e=>e===null||e===undefined;const O=e=>!z(e);const T=h("function");const E=h("number");const D=(e,t)=>{if(_(e)){for(let o=0,n=e.length;o<n;++o){if(!t(e[o])){return false}}return true}return false};const A=()=>{};const N=(e,t)=>(...o)=>e(t.apply(null,o));const M=(e,t)=>o=>e(t(o));const R=e=>()=>e;const B=e=>e;const L=(e,t)=>e===t;function H(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const I=e=>t=>!e(t);const P=e=>()=>{throw new Error(e)};const F=e=>e();const V=e=>{e()};const j=R(false);const Z=R(true);class U{constructor(e,t){this.tag=e;this.value=t}static some(e){return new U(true,e)}static none(){return U.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return U.some(e(this.value))}else{return U.none()}}bind(e){if(this.tag){return e(this.value)}else{return U.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return U.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return O(e)?U.some(e):U.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}U.singletonNone=new U(false);const q=Array.prototype.slice;const W=Array.prototype.indexOf;const $=Array.prototype.push;const G=(e,t)=>W.call(e,t);const K=(e,t)=>{const o=G(e,t);return o===-1?U.none():U.some(o)};const Y=(e,t)=>G(e,t)>-1;const X=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const J=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const Q=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const ee=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}};const te=(e,t)=>{const o=[];const n=[];for(let s=0,r=e.length;s<r;s++){const r=e[s];const a=t(r,s)?o:n;a.push(r)}return{pass:o,fail:n}};const oe=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const ne=(e,t,o)=>{ee(e,((e,n)=>{o=t(o,e,n)}));return o};const se=(e,t,o)=>{Q(e,((e,n)=>{o=t(o,e,n)}));return o};const re=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return U.some(s)}else if(o(s,n)){break}}return U.none()};const ae=(e,t)=>re(e,t,j);const ce=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return U.some(o)}}return U.none()};const ie=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!_(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}$.apply(t,e[o])}return t};const le=(e,t)=>ie(J(e,t));const de=(e,t)=>{for(let o=0,n=e.length;o<n;++o){const n=e[o];if(t(n,o)!==true){return false}}return true};const ue=e=>{const t=q.call(e,0);t.reverse();return t};const fe=(e,t)=>oe(e,(e=>!Y(t,e)));const me=(e,t)=>{const o={};for(let n=0,s=e.length;n<s;n++){const s=e[n];o[String(s)]=t(s,n)}return o};const ge=(e,t)=>{const o=q.call(e,0);o.sort(t);return o};const pe=(e,t)=>t>=0&&t<e.length?U.some(e[t]):U.none();const he=e=>pe(e,0);const ye=e=>pe(e,e.length-1);const be=T(Array.from)?Array.from:e=>q.call(e);const ve=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return U.none()};const ke=(e,t)=>{const o=[];const n=T(t)?e=>X(o,(o=>t(o,e))):e=>Y(o,e);for(let t=0,s=e.length;t<s;t++){const s=e[t];if(!n(s)){o.push(s)}}return o};const we=Object.keys;const _e=Object.hasOwnProperty;const xe=(e,t)=>{const o=we(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const Ce=(e,t)=>Se(e,((e,o)=>({k:o,v:t(e,o)})));const Se=(e,t)=>{const o={};xe(e,((e,n)=>{const s=t(e,n);o[s.k]=s.v}));return o};const ze=e=>(t,o)=>{e[o]=t};const Oe=(e,t,o,n)=>{xe(e,((e,s)=>{(t(e,s)?o:n)(e,s)}))};const Te=(e,t)=>{const o={};const n={};Oe(e,t,ze(o),ze(n));return{t:o,f:n}};const Ee=(e,t)=>{const o={};Oe(e,t,ze(o),A);return o};const De=(e,t)=>{const o=[];xe(e,((e,n)=>{o.push(t(e,n))}));return o};const Ae=e=>De(e,B);const Ne=(e,t)=>Me(e,t)?U.from(e[t]):U.none();const Me=(e,t)=>_e.call(e,t);const Re=(e,t)=>Me(e,t)&&e[t]!==undefined&&e[t]!==null;const Be=(e,t,o=u)=>d(o).eq(e,t);const Le=e=>{const t={};Q(e,(e=>{t[e]={}}));return we(t)};const He=e=>e.length!==undefined;const Ie=Array.isArray;const Pe=e=>{if(!Ie(e)){const t=[];for(let o=0,n=e.length;o<n;o++){t[o]=e[o]}return t}else{return e}};const Fe=(e,t,o)=>{if(!e){return false}o=o||e;if(He(e)){for(let n=0,s=e.length;n<s;n++){if(t.call(o,e[n],n,e)===false){return false}}}else{for(const n in e){if(Me(e,n)){if(t.call(o,e[n],n,e)===false){return false}}}}return true};const Ve=(e,t)=>{const o=[];Fe(e,((n,s)=>{o.push(t(n,s,e))}));return o};const je=(e,t)=>{const o=[];Fe(e,((n,s)=>{if(!t||t(n,s,e)){o.push(n)}}));return o};const Ze=(e,t)=>{if(e){for(let o=0,n=e.length;o<n;o++){if(e[o]===t){return o}}}return-1};const Ue=(e,t,o,n)=>{let s=S(o)?e[0]:o;for(let o=0;o<e.length;o++){s=t.call(n,s,e[o],o)}return s};const qe=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){if(t.call(o,e[n],n,e)){return n}}return-1};const We=e=>e[e.length-1];const $e=e=>{let t=false;let o;return(...n)=>{if(!t){t=true;o=e.apply(null,n)}return o}};const Ge=(e,t,o,n)=>{const s=e.isiOS()&&/ipad/i.test(o)===true;const r=e.isiOS()&&!s;const a=e.isiOS()||e.isAndroid();const c=a||n("(pointer:coarse)");const i=s||!r&&a&&n("(min-device-width:768px)");const l=r||a&&!i;const d=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===false;const u=!l&&!i&&!d;return{isiPad:R(s),isiPhone:R(r),isTablet:R(i),isPhone:R(l),isTouch:R(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:R(d),isDesktop:R(u)}};const Ke=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t)){return n}}return undefined};const Ye=(e,t)=>{const o=Ke(e,t);if(!o){return{major:0,minor:0}}const n=e=>Number(t.replace(o,"$"+e));return Qe(n(1),n(2))};const Xe=(e,t)=>{const o=String(t).toLowerCase();if(e.length===0){return Je()}return Ye(e,o)};const Je=()=>Qe(0,0);const Qe=(e,t)=>({major:e,minor:t});const et={nu:Qe,detect:Xe,unknown:Je};const tt=(e,t)=>ve(t.brands,(t=>{const o=t.brand.toLowerCase();return ae(e,(e=>{var t;return o===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:et.nu(parseInt(t.version,10),0)})))}));const ot=(e,t)=>{const o=String(t).toLowerCase();return ae(e,(e=>e.search(o)))};const nt=(e,t)=>ot(e,t).map((e=>{const o=et.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const st=(e,t)=>ot(e,t).map((e=>{const o=et.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const rt=(e,t)=>e.substring(t);const at=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const ct=(e,t)=>lt(e,t)?rt(e,t.length):e;const it=(e,t,o=0,n)=>{const s=e.indexOf(t,o);if(s!==-1){return S(n)?true:s+t.length<=n}else{return false}};const lt=(e,t)=>at(e,t,0);const dt=(e,t)=>at(e,t,e.length-t.length);const ut=e=>t=>t.replace(e,"");const ft=ut(/^\s+|\s+$/g);const mt=ut(/^\s+/g);const gt=ut(/\s+$/g);const pt=e=>e.length>0;const ht=e=>!pt(e);const yt=(e,t)=>t<=0?"":new Array(t+1).join(e);const bt=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?U.none():U.some(o)};const vt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;const kt=e=>t=>it(t,e);const wt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>it(e,"edge/")&&it(e,"chrome")&&it(e,"safari")&&it(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,vt],search:e=>it(e,"chrome")&&!it(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>it(e,"msie")||it(e,"trident")},{name:"Opera",versionRegexes:[vt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:kt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:kt("firefox")},{name:"Safari",versionRegexes:[vt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(it(e,"safari")||it(e,"mobile/"))&&it(e,"applewebkit")}];const _t=[{name:"Windows",search:kt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>it(e,"iphone")||it(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:kt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:kt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:kt("linux"),versionRegexes:[]},{name:"Solaris",search:kt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:kt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:kt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];const xt={browsers:R(wt),oses:R(_t)};const Ct="Edge";const St="Chromium";const zt="IE";const Ot="Opera";const Tt="Firefox";const Et="Safari";const Dt=()=>At({current:undefined,version:et.unknown()});const At=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isEdge:n(Ct),isChromium:n(St),isIE:n(zt),isOpera:n(Ot),isFirefox:n(Tt),isSafari:n(Et)}};const Nt={unknown:Dt,nu:At,edge:R(Ct),chromium:R(St),ie:R(zt),opera:R(Ot),firefox:R(Tt),safari:R(Et)};const Mt="Windows";const Rt="iOS";const Bt="Android";const Lt="Linux";const Ht="macOS";const It="Solaris";const Pt="FreeBSD";const Ft="ChromeOS";const Vt=()=>jt({current:undefined,version:et.unknown()});const jt=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isWindows:n(Mt),isiOS:n(Rt),isAndroid:n(Bt),isMacOS:n(Ht),isLinux:n(Lt),isSolaris:n(It),isFreeBSD:n(Pt),isChromeOS:n(Ft)}};const Zt={unknown:Vt,nu:jt,windows:R(Mt),ios:R(Rt),android:R(Bt),linux:R(Lt),macos:R(Ht),solaris:R(It),freebsd:R(Pt),chromeos:R(Ft)};const Ut=(e,t,o)=>{const n=xt.browsers();const s=xt.oses();const r=t.bind((e=>tt(n,e))).orThunk((()=>nt(n,e))).fold(Nt.unknown,Nt.nu);const a=st(s,e).fold(Zt.unknown,Zt.nu);const c=Ge(a,r,e,o);return{browser:r,os:a,deviceType:c}};const qt={detect:Ut};const Wt=e=>window.matchMedia(e).matches;let $t=$e((()=>qt.detect(navigator.userAgent,U.from(navigator.userAgentData),Wt)));const Gt=()=>$t();const Kt=navigator.userAgent;const Yt=Gt();const Xt=Yt.browser;const Jt=Yt.os;const Qt=Yt.deviceType;const eo=Kt.indexOf("Windows Phone")!==-1;const to={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Xt.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Xt.isIE(),windowsPhone:eo,browser:{current:Xt.current,version:Xt.version,isChromium:Xt.isChromium,isEdge:Xt.isEdge,isFirefox:Xt.isFirefox,isIE:Xt.isIE,isOpera:Xt.isOpera,isSafari:Xt.isSafari},os:{current:Jt.current,version:Jt.version,isAndroid:Jt.isAndroid,isChromeOS:Jt.isChromeOS,isFreeBSD:Jt.isFreeBSD,isiOS:Jt.isiOS,isLinux:Jt.isLinux,isMacOS:Jt.isMacOS,isSolaris:Jt.isSolaris,isWindows:Jt.isWindows},deviceType:{isDesktop:Qt.isDesktop,isiPad:Qt.isiPad,isiPhone:Qt.isiPhone,isPhone:Qt.isPhone,isTablet:Qt.isTablet,isTouch:Qt.isTouch,isWebView:Qt.isWebView}};const oo=/^\s*|\s*$/g;const no=e=>z(e)?"":(""+e).replace(oo,"");const so=(e,t)=>{if(!t){return e!==undefined}if(t==="array"&&Ie(e)){return true}return typeof e===t};const ro=(e,t,o={})=>{const n=v(e)?e.split(t||","):e||[];let s=n.length;while(s--){o[n[s]]={}}return o};const ao=Me;const co=(e,...t)=>{for(let o=0;o<t.length;o++){const n=t[o];for(const t in n){if(Me(n,t)){const o=n[t];if(o!==undefined){e[t]=o}}}}return e};const io=function(e,t,o,n){n=n||this;if(e){if(o){e=e[o]}Fe(e,((e,s)=>{if(t.call(n,e,s,o)===false){return false}else{io(e,t,o,n);return true}}))}};const lo=(e,t=window)=>{const o=e.split(".");for(let e=0,n=o.length;e<n;e++){t=t[o[e]];if(!t){break}}return t};const uo=(e,t)=>{if(_(e)){return e}else if(e===""){return[]}else{return Ve(e.split(t||","),no)}};const fo=e=>{const t=to.cacheSuffix;if(t){e+=(e.indexOf("?")===-1?"?":"&")+t}return e};const mo={trim:no,isArray:Ie,is:so,toArray:Pe,makeMap:ro,each:Fe,map:Ve,grep:je,inArray:Ze,hasOwn:ao,extend:co,walk:io,resolve:lo,explode:uo,_addCacheSuffix:fo};const go=(e,t,o=L)=>e.exists((e=>o(e,t)));const po=e=>{const t=[];const o=e=>{t.push(e)};for(let t=0;t<e.length;t++){e[t].each(o)}return t};const ho=(e,t,o)=>e.isSome()&&t.isSome()?U.some(o(e.getOrDie(),t.getOrDie())):U.none();const yo=(e,t,o,n)=>e.isSome()&&t.isSome()&&o.isSome()?U.some(n(e.getOrDie(),t.getOrDie(),o.getOrDie())):U.none();const bo=(e,t)=>e?U.some(t):U.none();typeof window!=="undefined"?window:Function("return this;")();const vo=8;const ko=9;const wo=11;const _o=1;const xo=3;const Co=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const So=e=>e.dom.nodeType;const zo=e=>t=>So(t)===e;const Oo=e=>So(e)===vo||Co(e)==="#comment";const To=zo(_o);const Eo=zo(xo);const Do=zo(ko);const Ao=zo(wo);const No=e=>t=>To(t)&&Co(t)===e;const Mo=(e,t,o)=>{if(v(o)||C(o)||E(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const Ro=(e,t,o)=>{Mo(e.dom,t,o)};const Bo=(e,t)=>{const o=e.dom;xe(t,((e,t)=>{Mo(o,t,e)}))};const Lo=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?undefined:o};const Ho=(e,t)=>U.from(Lo(e,t));const Io=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):false};const Po=(e,t)=>{e.dom.removeAttribute(t)};const Fo=e=>{const t=e.dom.attributes;return t===undefined||t===null||t.length===0};const Vo=e=>se(e.dom.attributes,((e,t)=>{e[t.name]=t.value;return e}),{});const jo=(e,t)=>{const o=Lo(e,t);return o===undefined||o===""?[]:o.split(" ")};const Zo=(e,t,o)=>{const n=jo(e,t);const s=n.concat([o]);Ro(e,t,s.join(" "));return true};const Uo=(e,t,o)=>{const n=oe(jo(e,t),(e=>e!==o));if(n.length>0){Ro(e,t,n.join(" "))}else{Po(e,t)}return false};const qo=e=>e.dom.classList!==undefined;const Wo=e=>jo(e,"class");const $o=(e,t)=>Zo(e,"class",t);const Go=(e,t)=>Uo(e,"class",t);const Ko=(e,t)=>{if(Y(Wo(e),t)){return Go(e,t)}else{return $o(e,t)}};const Yo=(e,t)=>{if(qo(e)){e.dom.classList.add(t)}else{$o(e,t)}};const Xo=e=>{const t=qo(e)?e.dom.classList:Wo(e);if(t.length===0){Po(e,"class")}};const Jo=(e,t)=>{if(qo(e)){const o=e.dom.classList;o.remove(t)}else{Go(e,t)}Xo(e)};const Qo=(e,t)=>{const o=qo(e)?e.dom.classList.toggle(t):Ko(e,t);Xo(e);return o};const en=(e,t)=>qo(e)&&e.dom.classList.contains(t);const tn=e=>e.style!==undefined&&T(e.style.getPropertyValue);const on=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return rn(n.childNodes[0])};const nn=(e,t)=>{const o=t||document;const n=o.createElement(e);return rn(n)};const sn=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return rn(n)};const rn=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const an=(e,t,o)=>U.from(e.dom.elementFromPoint(t,o)).map(rn);const cn={fromHtml:on,fromTag:nn,fromText:sn,fromDom:rn,fromPoint:an};const ln=(e,t)=>{const o=[];const n=e=>{o.push(e);return t(e)};let s=t(e);do{s=s.bind(n)}while(s.isSome());return o};const dn=(e,t)=>{const o=e.dom;if(o.nodeType!==_o){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const un=e=>e.nodeType!==_o&&e.nodeType!==ko&&e.nodeType!==wo||e.childElementCount===0;const fn=(e,t)=>{const o=t===undefined?document:t.dom;return un(o)?[]:J(o.querySelectorAll(e),cn.fromDom)};const mn=(e,t)=>{const o=t===undefined?document:t.dom;return un(o)?U.none():U.from(o.querySelector(e)).map(cn.fromDom)};const gn=(e,t)=>e.dom===t.dom;const pn=(e,t)=>{const o=e.dom;const n=t.dom;return o===n?false:o.contains(n)};const hn=e=>cn.fromDom(e.dom.ownerDocument);const yn=e=>Do(e)?e:hn(e);const bn=e=>cn.fromDom(yn(e).dom.documentElement);const vn=e=>cn.fromDom(yn(e).dom.defaultView);const kn=e=>U.from(e.dom.parentNode).map(cn.fromDom);const wn=e=>U.from(e.dom.parentElement).map(cn.fromDom);const _n=(e,t)=>{const o=T(t)?t:j;let n=e.dom;const s=[];while(n.parentNode!==null&&n.parentNode!==undefined){const e=n.parentNode;const t=cn.fromDom(e);s.push(t);if(o(t)===true){break}else{n=e}}return s};const xn=e=>{const t=t=>oe(t,(t=>!gn(e,t)));return kn(e).map(Tn).map(t).getOr([])};const Cn=e=>U.from(e.dom.previousSibling).map(cn.fromDom);const Sn=e=>U.from(e.dom.nextSibling).map(cn.fromDom);const zn=e=>ue(ln(e,Cn));const On=e=>ln(e,Sn);const Tn=e=>J(e.dom.childNodes,cn.fromDom);const En=(e,t)=>{const o=e.dom.childNodes;return U.from(o[t]).map(cn.fromDom)};const Dn=e=>En(e,0);const An=e=>En(e,e.dom.childNodes.length-1);const Nn=e=>e.dom.childNodes.length;const Mn=e=>{const t=e.dom.head;if(t===null||t===undefined){throw new Error("Head is not available yet")}return cn.fromDom(t)};const Rn=e=>Ao(e)&&O(e.dom.host);const Bn=T(Element.prototype.attachShadow)&&T(Node.prototype.getRootNode);const Ln=R(Bn);const Hn=Bn?e=>cn.fromDom(e.dom.getRootNode()):yn;const In=e=>Rn(e)?e:Mn(yn(e));const Pn=e=>Rn(e)?e:cn.fromDom(yn(e).dom.body);const Fn=e=>{const t=Hn(e);return Rn(t)?U.some(t):U.none()};const Vn=e=>cn.fromDom(e.dom.host);const jn=e=>{if(Ln()&&O(e.target)){const t=cn.fromDom(e.target);if(To(t)&&Zn(t)){if(e.composed&&e.composedPath){const t=e.composedPath();if(t){return he(t)}}}}return U.from(e.target)};const Zn=e=>O(e.dom.shadowRoot);const Un=e=>{const t=Eo(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return Fn(cn.fromDom(t)).fold((()=>o.body.contains(t)),M(Un,Vn))};const qn=(e,t,o)=>{if(!v(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(tn(e)){e.style.setProperty(t,o)}};const Wn=(e,t)=>{if(tn(e)){e.style.removeProperty(t)}};const $n=(e,t,o)=>{const n=e.dom;qn(n,t,o)};const Gn=(e,t)=>{const o=e.dom;xe(t,((e,t)=>{qn(o,t,e)}))};const Kn=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!Un(e)?Yn(o,t):s};const Yn=(e,t)=>tn(e)?e.style.getPropertyValue(t):"";const Xn=(e,t)=>{const o=e.dom;const n=Yn(o,t);return U.from(n).filter((e=>e.length>0))};const Jn=e=>{const t={};const o=e.dom;if(tn(o)){for(let e=0;e<o.style.length;e++){const n=o.style.item(e);t[n]=o.style[n]}}return t};const Qn=(e,t)=>{const o=e.dom;Wn(o,t);if(go(Ho(e,"style").map(ft),"")){Po(e,"style")}};const es=e=>e.dom.offsetWidth;const ts=(e,t)=>{const o=kn(e);o.each((o=>{o.dom.insertBefore(t.dom,e.dom)}))};const os=(e,t)=>{const o=Sn(e);o.fold((()=>{const o=kn(e);o.each((e=>{ss(e,t)}))}),(e=>{ts(e,t)}))};const ns=(e,t)=>{const o=Dn(e);o.fold((()=>{ss(e,t)}),(o=>{e.dom.insertBefore(t.dom,o.dom)}))};const ss=(e,t)=>{e.dom.appendChild(t.dom)};const rs=(e,t)=>{ts(e,t);ss(t,e)};const as=(e,t)=>{Q(t,((o,n)=>{const s=n===0?e:t[n-1];os(s,o)}))};const cs=(e,t)=>{Q(t,(t=>{ss(e,t)}))};const is=e=>{e.dom.textContent="";Q(Tn(e),(e=>{ls(e)}))};const ls=e=>{const t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};const ds=e=>{const t=Tn(e);if(t.length>0){as(e,t)}ls(e)};const us=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;return Tn(cn.fromDom(n))};const fs=e=>J(e,cn.fromDom);const ms=e=>e.dom.innerHTML;const gs=(e,t)=>{const o=hn(e);const n=o.dom;const s=cn.fromDom(n.createDocumentFragment());const r=us(t,n);cs(s,r);is(e);ss(e,s)};const ps=e=>{const t=cn.fromTag("div");const o=cn.fromDom(e.dom.cloneNode(true));ss(t,o);return ms(t)};const hs=(e,t,o,n,s,r,a)=>({target:e,x:t,y:o,stop:n,prevent:s,kill:r,raw:a});const ys=e=>{const t=cn.fromDom(jn(e).getOr(e.target));const o=()=>e.stopPropagation();const n=()=>e.preventDefault();const s=N(n,o);return hs(t,e.clientX,e.clientY,o,n,s,e)};const bs=(e,t)=>o=>{if(e(o)){t(ys(o))}};const vs=(e,t,o,n,s)=>{const r=bs(o,n);e.dom.addEventListener(t,r,s);return{unbind:H(ws,e,t,r,s)}};const ks=(e,t,o,n)=>vs(e,t,o,n,false);const ws=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)};const _s=(e,t)=>{const o=(o,n)=>_s(e+o,t+n);return{left:e,top:t,translate:o}};const xs=_s;const Cs=e=>{const t=e.getBoundingClientRect();return xs(t.left,t.top)};const Ss=(e,t)=>{if(e!==undefined){return e}else{return t!==undefined?t:0}};const zs=e=>{const t=e.dom.ownerDocument;const o=t.body;const n=t.defaultView;const s=t.documentElement;if(o===e.dom){return xs(o.offsetLeft,o.offsetTop)}const r=Ss(n===null||n===void 0?void 0:n.pageYOffset,s.scrollTop);const a=Ss(n===null||n===void 0?void 0:n.pageXOffset,s.scrollLeft);const c=Ss(s.clientTop,o.clientTop);const i=Ss(s.clientLeft,o.clientLeft);return Os(e).translate(a-i,r-c)};const Os=e=>{const t=e.dom;const o=t.ownerDocument;const n=o.body;if(n===t){return xs(n.offsetLeft,n.offsetTop)}if(!Un(e)){return xs(0,0)}return Cs(t)};const Ts=e=>{const t=e!==undefined?e.dom:document;const o=t.body.scrollLeft||t.documentElement.scrollLeft;const n=t.body.scrollTop||t.documentElement.scrollTop;return xs(o,n)};const Es=(e,t,o)=>{const n=o!==undefined?o.dom:document;const s=n.defaultView;if(s){s.scrollTo(e,t)}};const Ds=(e,t)=>{const o=Gt().browser.isSafari();if(o&&T(e.dom.scrollIntoViewIfNeeded)){e.dom.scrollIntoViewIfNeeded(false)}else{e.dom.scrollIntoView(t)}};const As=e=>{const t=e===undefined?window:e;if(Gt().browser.isFirefox()){return U.none()}else{return U.from(t.visualViewport)}};const Ns=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n});const Ms=e=>{const t=e===undefined?window:e;const o=t.document;const n=Ts(cn.fromDom(o));return As(t).fold((()=>{const e=t.document.documentElement;const o=e.clientWidth;const s=e.clientHeight;return Ns(n.left,n.top,o,s)}),(e=>Ns(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)))};const Rs=(e,t)=>oe(Tn(e),t);const Bs=(e,t)=>{let o=[];Q(Tn(e),(e=>{if(t(e)){o=o.concat([e])}o=o.concat(Bs(e,t))}));return o};var Ls=(e,t,o,n,s)=>{if(e(o,n)){return U.some(o)}else if(T(s)&&s(o)){return U.none()}else{return t(o,n,s)}};const Hs=(e,t,o)=>{let n=e.dom;const s=T(o)?o:j;while(n.parentNode){n=n.parentNode;const e=cn.fromDom(n);if(t(e)){return U.some(e)}else if(s(e)){break}}return U.none()};const Is=(e,t,o)=>{const n=(e,t)=>t(e);return Ls(n,Hs,e,t,o)};const Ps=(e,t)=>{const o=e.dom;if(!o.parentNode){return U.none()}return Fs(cn.fromDom(o.parentNode),(o=>!gn(e,o)&&t(o)))};const Fs=(e,t)=>{const o=e=>t(cn.fromDom(e));const n=ae(e.dom.childNodes,o);return n.map(cn.fromDom)};const Vs=(e,t)=>{const o=e=>{for(let n=0;n<e.childNodes.length;n++){const s=cn.fromDom(e.childNodes[n]);if(t(s)){return U.some(s)}const r=o(e.childNodes[n]);if(r.isSome()){return r}}return U.none()};return o(e.dom)};const js=(e,t,o)=>Hs(e,(e=>dn(e,t)),o);const Zs=(e,t)=>mn(t,e);const Us=(e,t,o)=>{const n=(e,t)=>dn(e,t);return Ls(n,js,e,t,o)};const qs=(e,t,o)=>js(e,t,o).isSome();class Ws{constructor(e,t){this.node=e;this.rootNode=t;this.current=this.current.bind(this);this.next=this.next.bind(this);this.prev=this.prev.bind(this);this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){this.node=this.findSibling(this.node,"firstChild","nextSibling",e);return this.node}prev(e){this.node=this.findSibling(this.node,"lastChild","previousSibling",e);return this.node}prev2(e){this.node=this.findPreviousNode(this.node,e);return this.node}findSibling(e,t,o,n){if(e){if(!n&&e[t]){return e[t]}if(e!==this.rootNode){let t=e[o];if(t){return t}for(let n=e.parentNode;n&&n!==this.rootNode;n=n.parentNode){t=n[o];if(t){return t}}}}return undefined}findPreviousNode(e,t){if(e){const o=e.previousSibling;if(this.rootNode&&o===this.rootNode){return}if(o){if(!t){for(let e=o.lastChild;e;e=e.lastChild){if(!e.lastChild){return e}}}return o}const n=e.parentNode;if(n&&n!==this.rootNode){return n}}return undefined}}const $s=e=>t=>!!t&&t.nodeType===e;const Gs=e=>!!e&&!Object.getPrototypeOf(e);const Ks=$s(1);const Ys=e=>{const t=e.toLowerCase();return e=>O(e)&&e.nodeName.toLowerCase()===t};const Xs=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const o=e.nodeName.toLowerCase();return Y(t,o)}return false}};const Js=(e,t)=>{const o=t.toLowerCase().split(" ");return t=>{if(Ks(t)){const n=t.ownerDocument.defaultView;if(n){for(let s=0;s<o.length;s++){const r=n.getComputedStyle(t,null);const a=r?r.getPropertyValue(e):null;if(a===o[s]){return true}}}}return false}};const Qs=e=>t=>Ks(t)&&t.hasAttribute(e);const er=(e,t)=>o=>Ks(o)&&o.getAttribute(e)===t;const tr=e=>Ks(e)&&e.hasAttribute("data-mce-bogus");const or=e=>Ks(e)&&e.getAttribute("data-mce-bogus")==="all";const nr=e=>Ks(e)&&e.tagName==="TABLE";const sr=e=>t=>{if(Ks(t)){if(t.contentEditable===e){return true}if(t.getAttribute("data-mce-contenteditable")===e){return true}}return false};const rr=Xs(["textarea","input"]);const ar=$s(3);const cr=$s(4);const ir=$s(7);const lr=$s(8);const dr=$s(9);const ur=$s(11);const fr=Ys("br");const mr=Ys("img");const gr=sr("true");const pr=sr("false");const hr=Xs(["td","th"]);const yr=Xs(["td","th","caption"]);const br=Xs(["video","audio","object","embed"]);const vr=Ys("li");const kr="\ufeff";const wr=" ";const _r=e=>e===kr;const xr=e=>e.replace(/\uFEFF/g,"");const Cr=(e,t)=>fn(t,e);const Sr=(e,t)=>{const o=o=>{if(!e(o)){throw new Error("Can only get "+t+" value of a "+t+" node")}return n(o).getOr("")};const n=t=>e(t)?U.from(t.dom.nodeValue):U.none();const s=(o,n)=>{if(!e(o)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}o.dom.nodeValue=n};return{get:o,getOption:n,set:s}};const zr=Sr(Eo,"text");const Or=e=>zr.get(e);const Tr=e=>zr.getOption(e);const Er=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"];const Dr=["td","th"];const Ar=["thead","tbody","tfoot"];const Nr=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"];const Mr=["h1","h2","h3","h4","h5","h6"];const Rr=["li","dd","dt"];const Br=["ul","ol","dl"];const Lr=["pre","script","textarea","style"];const Hr=["pre"].concat(Mr);const Ir=e=>{let t;return o=>{t=t?t:me(e,Z);return Me(t,Co(o))}};const Pr=Ir(Er);const Fr=e=>Co(e)==="table";const Vr=e=>To(e)&&!Pr(e);const jr=e=>To(e)&&Co(e)==="br";const Zr=Ir(Nr);const Ur=Ir(Br);const qr=Ir(Rr);const Wr=Ir(Ar);const $r=Ir(Dr);const Gr=Ir(Lr);const Kr=Ir(Hr);const Yr=e=>Kr(e)||Vr(e);const Xr=e=>{const t=[];let o=e.dom;while(o){t.push(cn.fromDom(o));o=o.lastChild}return t};const Jr=e=>{const t=Cr(e,"br");const o=oe(Xr(e).slice(-1),jr);if(t.length===o.length){Q(o,ls)}};const Qr=()=>{const e=cn.fromTag("br");Ro(e,"data-mce-bogus","1");return e};const ea=e=>{is(e);ss(e,Qr())};const ta=e=>{An(e).each((t=>{Cn(t).each((o=>{if(Pr(e)&&jr(t)&&Pr(o)){ls(t)}}))}))};const oa=kr;const na=_r;const sa=xr;const ra=Ks;const aa=ar;const ca=e=>{if(aa(e)){e=e.parentNode}return ra(e)&&e.hasAttribute("data-mce-caret")};const ia=e=>aa(e)&&na(e.data);const la=e=>ca(e)||ia(e);const da=e=>e.firstChild!==e.lastChild||!fr(e.firstChild);const ua=(e,t)=>{var o;const n=(o=e.ownerDocument)!==null&&o!==void 0?o:document;const s=n.createTextNode(oa);const r=e.parentNode;if(!t){const t=e.nextSibling;if(aa(t)){if(la(t)){return t}if(pa(t)){t.splitText(1);return t}}if(e.nextSibling){r===null||r===void 0?void 0:r.insertBefore(s,e.nextSibling)}else{r===null||r===void 0?void 0:r.appendChild(s)}}else{const t=e.previousSibling;if(aa(t)){if(la(t)){return t}if(ha(t)){return t.splitText(t.data.length-1)}}r===null||r===void 0?void 0:r.insertBefore(s,e)}return s};const fa=e=>{const t=e.container();if(!ar(t)){return false}return t.data.charAt(e.offset())===oa||e.isAtStart()&&ia(t.previousSibling)};const ma=e=>{const t=e.container();if(!ar(t)){return false}return t.data.charAt(e.offset()-1)===oa||e.isAtEnd()&&ia(t.nextSibling)};const ga=(e,t,o)=>{var n;const s=(n=t.ownerDocument)!==null&&n!==void 0?n:document;const r=s.createElement(e);r.setAttribute("data-mce-caret",o?"before":"after");r.setAttribute("data-mce-bogus","all");r.appendChild(Qr().dom);const a=t.parentNode;if(!o){if(t.nextSibling){a===null||a===void 0?void 0:a.insertBefore(r,t.nextSibling)}else{a===null||a===void 0?void 0:a.appendChild(r)}}else{a===null||a===void 0?void 0:a.insertBefore(r,t)}return r};const pa=e=>aa(e)&&e.data[0]===oa;const ha=e=>aa(e)&&e.data[e.data.length-1]===oa;const ya=e=>{var t;const o=e.getElementsByTagName("br");const n=o[o.length-1];if(tr(n)){(t=n.parentNode)===null||t===void 0?void 0:t.removeChild(n)}};const ba=e=>{if(e&&e.hasAttribute("data-mce-caret")){ya(e);e.removeAttribute("data-mce-caret");e.removeAttribute("data-mce-bogus");e.removeAttribute("style");e.removeAttribute("data-mce-style");e.removeAttribute("_moz_abspos");return e}return null};const va=e=>ca(e.startContainer);const ka=gr;const wa=pr;const _a=fr;const xa=ar;const Ca=Xs(["script","style","textarea"]);const Sa=Xs(["img","input","textarea","hr","iframe","video","audio","object","embed"]);const za=Xs(["table"]);const Oa=la;const Ta=e=>{if(Oa(e)){return false}if(xa(e)){return!Ca(e.parentNode)}return Sa(e)||_a(e)||za(e)||Da(e)};const Ea=e=>Ks(e)&&e.getAttribute("unselectable")==="true";const Da=e=>!Ea(e)&&wa(e);const Aa=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(Da(o)){return false}if(ka(o)){return true}}return true};const Na=e=>{if(!Da(e)){return false}return!se(be(e.getElementsByTagName("*")),((e,t)=>e||ka(t)),false)};const Ma=e=>Sa(e)||Na(e);const Ra=(e,t)=>Ta(e)&&Aa(e,t);const Ba=/^[ \t\r\n]*$/;const La=e=>Ba.test(e);const Ha=e=>" \f\t\v".indexOf(e)!==-1;const Ia=e=>e==="\n"||e==="\r";const Pa=(e,t)=>t<e.length&&t>=0?Ia(e[t]):false;const Fa=(e,t=4,o=true,n=true)=>{const s=yt(" ",t);const r=e.replace(/\t/g,s);const a=se(r,((e,t)=>{if(Ha(t)||t===wr){if(e.pcIsSpace||e.str===""&&o||e.str.length===r.length-1&&n||Pa(r,e.str.length+1)){return{pcIsSpace:false,str:e.str+wr}}else{return{pcIsSpace:true,str:e.str+" "}}}else{return{pcIsSpace:Ia(t),str:e.str+t}}}),{pcIsSpace:false,str:""});return a.str};const Va=(e,t)=>{const o=cn.fromDom(t);const n=cn.fromDom(e);return qs(n,"pre,code",H(gn,o))};const ja=(e,t)=>ar(e)&&La(e.data)&&!Va(e,t);const Za=e=>Ks(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"));const Ua=(e,t)=>Ta(e)&&!ja(e,t)||Za(e)||qa(e);const qa=Qs("data-mce-bookmark");const Wa=Qs("data-mce-bogus");const $a=er("data-mce-bogus","all");const Ga=(e,t)=>{let o=0;if(Ua(e,e)){return false}else{let n=e.firstChild;if(!n){return true}const s=new Ws(n,e);do{if(t){if($a(n)){n=s.next(true);continue}if(Wa(n)){n=s.next();continue}}if(fr(n)){o++;n=s.next();continue}if(Ua(n,e)){return false}n=s.next()}while(n);return o<=1}};const Ka=(e,t=true)=>Ga(e.dom,t);const Ya="data-mce-block";const Xa=e=>oe(we(e),(e=>!/[A-Z]/.test(e)));const Ja=e=>Xa(e).join(",");const Qa=(e,t)=>{if(O(t.querySelector(e))){t.setAttribute(Ya,"true");if(t.getAttribute("data-mce-selected")==="inline-boundary"){t.removeAttribute("data-mce-selected")}return true}else{t.removeAttribute(Ya);return false}};const ec=(e,t)=>{const o=Ja(e.getTransparentElements());const n=Ja(e.getBlockElements());return oe(t.querySelectorAll(o),(e=>Qa(n,e)))};const tc=(e,t)=>{var o;const n=t?"lastChild":"firstChild";for(let t=e[n];t;t=t[n]){if(Ka(cn.fromDom(t))){(o=t.parentNode)===null||o===void 0?void 0:o.removeChild(t);return}}};const oc=(e,t)=>{const o=document.createRange();const n=e.parentNode;if(n){o.setStartBefore(e);o.setEndBefore(t);const s=o.extractContents();tc(s,true);o.setStartAfter(t);o.setEndAfter(e);const r=o.extractContents();tc(r,false);if(!Ka(cn.fromDom(s))){n.insertBefore(s,e)}if(!Ka(cn.fromDom(t))){n.insertBefore(t,e)}if(!Ka(cn.fromDom(r))){n.insertBefore(r,e)}n.removeChild(e)}};const nc=(e,t,o)=>{const n=e.getBlockElements();const s=cn.fromDom(t);const r=e=>Co(e)in n;const a=e=>gn(e,s);Q(fs(o),(t=>{Hs(t,r,a).each((o=>{const n=Rs(t,(t=>r(t)&&!e.isValidChild(Co(o),Co(t))));if(n.length>0){const t=wn(o);Q(n,(e=>{Hs(e,r,a).each((t=>{oc(t.dom,e.dom)}))}));t.each((t=>ec(e,t.dom)))}}))}))};const sc=(e,t)=>{const o=ec(e,t);nc(e,t,o)};const rc=(e,t)=>{if(lc(e,t)){const o=Ja(e.getBlockElements());Qa(o,t)}};const ac=(e,t,o)=>{const n=e=>gn(e,cn.fromDom(t));const s=_n(cn.fromDom(o),n);pe(s,s.length-2).filter(To).fold((()=>sc(e,t)),(t=>sc(e,t.dom)))};const cc=e=>e.hasAttribute(Ya);const ic=(e,t)=>Me(e.getTransparentElements(),t);const lc=(e,t)=>Ks(t)&&ic(e,t.nodeName);const dc=(e,t)=>lc(e,t)&&cc(t);const uc=(e,t)=>t.type===1&&ic(e,t.name)&&v(t.attr(Ya));const fc=(e,t)=>t.type===1&&ic(e,t.name)&&S(t.attr(Ya));const mc=Gt().browser;const gc=e=>ae(e,To);const pc=e=>{if(mc.isFirefox()&&Co(e)==="table"){return gc(Tn(e)).filter((e=>Co(e)==="caption")).bind((e=>gc(On(e)).map((t=>{const o=t.dom.offsetTop;const n=e.dom.offsetTop;const s=e.dom.offsetHeight;return o<=n?-s:0})))).getOr(0)}else{return 0}};const hc=(e,t)=>e.children&&Y(e.children,t);const yc=(e,t,o)=>{let n=0,s=0;const r=e.ownerDocument;o=o?o:e;if(t){if(o===e&&t.getBoundingClientRect&&Kn(cn.fromDom(e),"position")==="static"){const o=t.getBoundingClientRect();n=o.left+(r.documentElement.scrollLeft||e.scrollLeft)-r.documentElement.clientLeft;s=o.top+(r.documentElement.scrollTop||e.scrollTop)-r.documentElement.clientTop;return{x:n,y:s}}let a=t;while(a&&a!==o&&a.nodeType&&!hc(a,o)){const e=a;n+=e.offsetLeft||0;s+=e.offsetTop||0;a=e.offsetParent}a=t.parentNode;while(a&&a!==o&&a.nodeType&&!hc(a,o)){n-=a.scrollLeft||0;s-=a.scrollTop||0;a=a.parentNode}s+=pc(cn.fromDom(t))}return{x:n,y:s}};const bc=(e,t={})=>{let o=0;const n={};const s=cn.fromDom(e);const r=yn(s);const a=t.maxLoadTime||5e3;const c=e=>{t.referrerPolicy=e};const i=e=>{t.contentCssCors=e};const l=e=>{ss(In(s),e)};const d=e=>{const t=In(s);Zs(t,"#"+e).each(ls)};const u=e=>Ne(n,e).getOrThunk((()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})));const f=o=>new Promise(((s,c)=>{let i;const d=mo._addCacheSuffix(o);const f=u(d);n[d]=f;f.count++;const m=(e,t)=>{Q(e,V);f.status=t;f.passed=[];f.failed=[];if(i){i.onload=null;i.onerror=null;i=null}};const g=()=>m(f.passed,2);const p=()=>m(f.failed,3);const h=(e,t)=>{if(!e()){if(Date.now()-v<a){setTimeout(t)}else{p()}}};const y=()=>{h((()=>{const t=e.styleSheets;let o=t.length;while(o--){const e=t[o];const n=e.ownerNode;if(n&&i&&n.id===i.id){g();return true}}return false}),y)};if(s){f.passed.push(s)}if(c){f.failed.push(c)}if(f.status===1){return}if(f.status===2){g();return}if(f.status===3){p();return}f.status=1;const b=cn.fromTag("link",r.dom);Bo(b,{rel:"stylesheet",type:"text/css",id:f.id});const v=Date.now();if(t.contentCssCors){Ro(b,"crossOrigin","anonymous")}if(t.referrerPolicy){Ro(b,"referrerpolicy",t.referrerPolicy)}i=b.dom;i.onload=y;i.onerror=p;l(b);Ro(b,"href",d)}));const m=e=>{const t=Promise.allSettled(J(e,(e=>f(e).then(R(e)))));return t.then((e=>{const t=te(e,(e=>e.status==="fulfilled"));if(t.fail.length>0){return Promise.reject(J(t.fail,(e=>e.reason)))}else{return J(t.pass,(e=>e.value))}}))};const g=e=>{const t=mo._addCacheSuffix(e);Ne(n,t).each((e=>{const o=--e.count;if(o===0){delete n[t];d(e.id)}}))};const p=e=>{Q(e,(e=>{g(e)}))};return{load:f,loadAll:m,unload:g,unloadAll:p,_setReferrerPolicy:c,_setContentCssCors:i}};const vc=()=>{const e=new WeakMap;const t=(t,o)=>{const n=Hn(t);const s=n.dom;return U.from(e.get(s)).getOrThunk((()=>{const t=bc(s,o);e.set(s,t);return t}))};return{forElement:t}};const kc=vc();const wc=e=>e.nodeName.toLowerCase()==="span";const _c=(e,t)=>O(e)&&(Ua(e,t)||Vr(cn.fromDom(e)));const xc=(e,t)=>{const o=new Ws(e,t).prev(false);const n=new Ws(e,t).next(false);const s=S(o)||_c(o,t);const r=S(n)||_c(n,t);return s&&r};const Cc=e=>wc(e)&&e.getAttribute("data-mce-type")==="bookmark";const Sc=(e,t)=>ar(e)&&e.data.length>0&&xc(e,t);const zc=e=>Ks(e)?e.childNodes.length>0:false;const Oc=e=>ur(e)||dr(e);const Tc=(e,t,o)=>{var n;const s=o||t;if(Ks(t)&&Cc(t)){return t}const r=t.childNodes;for(let t=r.length-1;t>=0;t--){Tc(e,r[t],s)}if(Ks(t)){const e=t.childNodes;if(e.length===1&&Cc(e[0])){(n=t.parentNode)===null||n===void 0?void 0:n.insertBefore(e[0],t)}}if(!Oc(t)&&!Ua(t,s)&&!zc(t)&&!Sc(t,s)){e.remove(t)}return t};const Ec=mo.makeMap;const Dc=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g;const Ac=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g;const Nc=/[<>&\"\']/g;const Mc=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi;const Rc={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};const Bc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"};const Lc={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":`'`};const Hc=e=>{const t=cn.fromTag("div").dom;t.innerHTML=e;return t.textContent||t.innerText||e};const Ic=(e,t)=>{const o={};if(e){const n=e.split(",");t=t||10;for(let e=0;e<n.length;e+=2){const s=String.fromCharCode(parseInt(n[e],t));if(!Bc[s]){const t="&"+n[e+1]+";";o[s]=t;o[t]=s}}return o}else{return undefined}};const Pc=Ic("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,"+"5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,"+"5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,"+"5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,"+"68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,"+"6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,"+"6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,"+"75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,"+"7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,"+"7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,"+"sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,"+"st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,"+"t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,"+"tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,"+"u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,"+"81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,"+"8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,"+"8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,"+"8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,"+"8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,"+"nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,"+"rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,"+"Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,"+"80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,"+"811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);const Fc=(e,t)=>e.replace(t?Dc:Ac,(e=>Bc[e]||e));const Vc=e=>(""+e).replace(Nc,(e=>Bc[e]||e));const jc=(e,t)=>e.replace(t?Dc:Ac,(e=>{if(e.length>1){return"&#"+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+";"}return Bc[e]||"&#"+e.charCodeAt(0)+";"}));const Zc=(e,t,o)=>{const n=o||Pc;return e.replace(t?Dc:Ac,(e=>Bc[e]||n[e]||e))};const Uc=(e,t)=>{const o=Ic(t)||Pc;const n=(e,t)=>e.replace(t?Dc:Ac,(e=>{if(Bc[e]!==undefined){return Bc[e]}if(o[e]!==undefined){return o[e]}if(e.length>1){return"&#"+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+";"}return"&#"+e.charCodeAt(0)+";"}));const s=(e,t)=>Zc(e,t,o);const r=Ec(e.replace(/\+/g,","));if(r.named&&r.numeric){return n}if(r.named){if(t){return s}return Zc}if(r.numeric){return jc}return Fc};const qc=e=>e.replace(Mc,((e,t)=>{if(t){if(t.charAt(0).toLowerCase()==="x"){t=parseInt(t.substr(1),16)}else{t=parseInt(t,10)}if(t>65535){t-=65536;return String.fromCharCode(55296+(t>>10),56320+(t&1023))}return Rc[t]||String.fromCharCode(t)}return Lc[e]||Pc[e]||Hc(e)}));const Wc={encodeRaw:Fc,encodeAllRaw:Vc,encodeNumeric:jc,encodeNamed:Zc,getEncodeFunc:Uc,decode:qc};const $c={};const Gc={};const Kc={};const Yc=mo.makeMap,Xc=mo.each,Jc=mo.extend,Qc=mo.explode,ei=mo.inArray;const ti=(e,t)=>{e=mo.trim(e);return e?e.split(t||" "):[]};const oi=(e,t={})=>{const o=Yc(e," ",Yc(e.toUpperCase()," "));return Jc(o,t)};const ni=e=>oi("td th li dt dd figcaption caption details summary",e.getTextBlockElements());const si=e=>{const t={};let o,n;let s,r;const a=(e,n="",s="")=>{const r=ti(s);const a=ti(e);let c=a.length;while(c--){const e=ti([o,n].join(" "));t[a[c]]={attributes:me(e,(()=>({}))),attributesOrder:e,children:me(r,R(Kc))}}};const c=(e,o)=>{const n=ti(e);const s=ti(o);let r=n.length;while(r--){const e=t[n[r]];for(let t=0,o=s.length;t<o;t++){e.attributes[s[t]]={};e.attributesOrder.push(s[t])}}};if($c[e]){return $c[e]}o="id accesskey class dir lang style tabindex title role";n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul";s="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd "+"label map noscript object q s samp script select small span strong sub sup "+"textarea u var #text #comment";if(e!=="html4"){const e="a ins del canvas map";o+=" contenteditable contextmenu draggable dropzone "+"hidden spellcheck translate";n+=" article aside details dialog figure main header footer hgroup section nav "+e;s+=" audio canvas command datalist mark meter output picture "+"progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){o+=" xml:lang";const e="acronym applet basefont big font strike tt";s=[s,e].join(" ");Xc(ti(e),(e=>{a(e,"",s)}));const t="center dir isindex noframes";n=[n,t].join(" ");r=[n,s].join(" ");Xc(ti(t),(e=>{a(e,"",r)}))}r=r||[n,s].join(" ");a("html","manifest","head body");a("head","","base command link meta noscript script style title");a("title hr noscript br");a("base","href target");a("link","href rel media hreflang type sizes hreflang");a("meta","name http-equiv content charset");a("style","media type scoped");a("script","src async defer type charset");a("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus "+"onhashchange onload onmessage onoffline ononline onpagehide onpageshow "+"onpopstate onresize onscroll onstorage onunload",r);a("address dt dd div caption","",r);a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",s);a("blockquote","cite",r);a("ol","reversed start type","li");a("ul","","li");a("li","value",r);a("dl","","dt dd");a("a","href target rel media hreflang type",r);a("q","cite",s);a("ins del","cite datetime",r);a("img","src sizes srcset alt usemap ismap width height");a("iframe","src name width height",r);a("embed","src type width height");a("object","data type typemustmatch name usemap form width height",[r,"param"].join(" "));a("param","name value");a("map","name",[r,"area"].join(" "));a("area","alt coords shape href target rel media hreflang type");a("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":""));a("colgroup","span","col");a("col","span");a("tbody thead tfoot","","tr");a("tr","","td th");a("td","colspan rowspan headers",r);a("th","colspan rowspan headers scope abbr",r);a("form","accept-charset action autocomplete enctype method name novalidate target",r);a("fieldset","disabled form name",[r,"legend"].join(" "));a("label","form for",s);a("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate "+"formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");a("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:s);a("select","disabled form multiple name required size","option optgroup");a("optgroup","disabled label","option");a("option","disabled label selected value");a("textarea","cols dirname disabled form maxlength name readonly required rows wrap");a("menu","type label",[r,"li"].join(" "));a("noscript","",r);if(e!=="html4"){a("wbr");a("ruby","",[s,"rt rp"].join(" "));a("figcaption","",r);a("mark rt rp summary bdi","",s);a("canvas","width height",r);a("video","src crossorigin poster preload autoplay mediagroup loop "+"muted controls width height buffered",[r,"track source"].join(" "));a("audio","src crossorigin preload autoplay mediagroup loop muted controls "+"buffered volume",[r,"track source"].join(" "));a("picture","","img source");a("source","src srcset type media sizes");a("track","kind src srclang label default");a("datalist","",[s,"option"].join(" "));a("article section nav aside main header footer","",r);a("hgroup","","h1 h2 h3 h4 h5 h6");a("figure","",[r,"figcaption"].join(" "));a("time","datetime",s);a("dialog","open",r);a("command","type label icon disabled checked radiogroup command");a("output","for form name",s);a("progress","value max",s);a("meter","value min max low high optimum",s);a("details","open",[r,"summary"].join(" "));a("keygen","autofocus challenge disabled form keytype name")}if(e!=="html5-strict"){c("script","language xml:space");c("style","xml:space");c("object","declare classid code codebase codetype archive standby align border hspace vspace");c("embed","align name hspace vspace");c("param","valuetype type");c("a","charset name rev shape coords");c("br","clear");c("applet","codebase archive code object alt name width height align hspace vspace");c("img","name longdesc align border hspace vspace");c("iframe","longdesc frameborder marginwidth marginheight scrolling align");c("font basefont","size color face");c("input","usemap align");c("select");c("textarea");c("h1 h2 h3 h4 h5 h6 div p legend caption","align");c("ul","type compact");c("li","type");c("ol dl menu dir","compact");c("pre","width xml:space");c("hr","align noshade size width");c("isindex","prompt");c("table","summary width frame rules cellspacing cellpadding align bgcolor");c("col","width align char charoff valign");c("colgroup","width align char charoff valign");c("thead","align char charoff valign");c("tr","align char charoff valign bgcolor");c("th","axis align char charoff valign nowrap bgcolor width height");c("form","accept");c("td","abbr axis scope align char charoff valign nowrap bgcolor width height");c("tfoot","align char charoff valign");c("tbody","align char charoff valign");c("area","nohref");c("body","background bgcolor text link vlink alink")}if(e!=="html4"){c("input button select textarea","autofocus");c("input textarea","placeholder");c("a","download");c("link script img","crossorigin");c("img","loading");c("iframe","sandbox seamless allow allowfullscreen loading")}if(e!=="html4"){Q([t.video,t.audio],(e=>{delete e.children.audio;delete e.children.video}))}Xc(ti("a form meter progress dfn"),(e=>{if(t[e]){delete t[e].children[e]}}));delete t.caption.children.table;delete t.script;$c[e]=t;return t};const ri=(e,t)=>{if(e){const o={};if(v(e)){e={"*":e}}Xc(e,((e,n)=>{o[n]=o[n.toUpperCase()]=t==="map"?Yc(e,/[, ]/):Qc(e,/[, ]/)}));return o}else{return undefined}};const ai=(e={})=>{var t;const o={};const n={};let s=[];const r={};const a={};const c=(t,o,n)=>{const s=e[t];if(!s){let e=Gc[t];if(!e){e=oi(o,n);Gc[t]=e}return e}else{return Yc(s,/[, ]/,Yc(s.toUpperCase(),/[, ]/))}};const i=(t=e.schema)!==null&&t!==void 0?t:"html5";const l=si(i);if(e.verify_html===false){e.valid_elements="*[*]"}const d=ri(e.valid_styles);const u=ri(e.invalid_styles,"map");const f=ri(e.valid_classes,"map");const m=c("whitespace_elements","pre script noscript style textarea video audio iframe object code");const g=c("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");const p=c("void_elements","area base basefont br col frame hr img input isindex link "+"meta param embed source wbr track");const h=c("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize "+"noshade nowrap readonly selected autoplay loop controls allowfullscreen");const y="td th iframe video audio object script code";const b=c("non_empty_elements",y+" pre",p);const v=c("move_caret_before_on_enter_elements",y+" table",p);const k=c("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form "+"blockquote center dir fieldset header footer article section hgroup aside main nav figure");const w=c("block_elements","hr table tbody thead tfoot "+"th tr td li ol ul caption dl dt dd noscript menu isindex option "+"datalist select optgroup figcaption details summary",k);const _=c("text_inline_elements","span strong b em i font s strike u var cite "+"dfn code mark q sup sub samp");const x=c("transparent_elements","a ins del canvas map");Xc("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(e=>{a[e]=new RegExp("</"+e+"[^>]*>","gi")}));const C=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$");const S=e=>{const t=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/;const r=/[*?+]/;if(e){const a=ti(e,",");let c;let i;if(o["@"]){c=o["@"].attributes;i=o["@"].attributesOrder}for(let e=0,l=a.length;e<l;e++){let l=t.exec(a[e]);if(l){const e=l[1];const t=l[2];const a=l[3];const d=l[5];const u={};const f=[];const m={attributes:u,attributesOrder:f};if(e==="#"){m.paddEmpty=true}if(e==="-"){m.removeEmpty=true}if(l[4]==="!"){m.removeEmptyAttrs=true}if(c){xe(c,((e,t)=>{u[t]=e}));if(i){f.push(...i)}}if(d){const e=ti(d,"|");for(let t=0,o=e.length;t<o;t++){l=n.exec(e[t]);if(l){const e={};const t=l[1];const o=l[2].replace(/[\\:]:/g,":");const n=l[3];const s=l[4];if(t==="!"){m.attributesRequired=m.attributesRequired||[];m.attributesRequired.push(o);e.required=true}if(t==="-"){delete u[o];f.splice(ei(f,o),1);continue}if(n){if(n==="="){m.attributesDefault=m.attributesDefault||[];m.attributesDefault.push({name:o,value:s});e.defaultValue=s}if(n==="~"){m.attributesForced=m.attributesForced||[];m.attributesForced.push({name:o,value:s});e.forcedValue=s}if(n==="<"){e.validValues=Yc(s,"?")}}if(r.test(o)){const t=e;m.attributePatterns=m.attributePatterns||[];t.pattern=C(o);m.attributePatterns.push(t)}else{if(!u[o]){f.push(o)}u[o]=e}}}}if(!c&&t==="@"){c=u;i=f}if(a){m.outputName=t;o[a]=m}if(r.test(t)){const e=m;e.pattern=C(t);s.push(e)}else{o[t]=m}}}}};const z=e=>{s=[];Q(we(o),(e=>{delete o[e]}));S(e);Xc(l,((e,t)=>{n[t]=e.children}))};const O=e=>{const t=/^(~)?(.+)$/;if(e){delete Gc.text_block_elements;delete Gc.block_elements;Xc(ti(e,","),(e=>{const s=t.exec(e);if(s){const e=s[1]==="~";const t=e?"span":"div";const a=s[2];n[a]=n[t];r[a]=t;b[a.toUpperCase()]={};b[a]={};if(!e){w[a.toUpperCase()]={};w[a]={}}if(!o[a]){let e=o[t];e=Jc({},e);delete e.removeEmptyAttrs;delete e.removeEmpty;o[a]=e}Xc(n,((e,o)=>{if(e[t]){n[o]=e=Jc({},n[o]);e[a]=e[t]}}))}}))}};const T=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete $c[i];if(e){Xc(ti(e,","),(e=>{const o=t.exec(e);if(o){const e=o[1];let t;if(e){t=n[o[2]]}else{t=n[o[2]]={"#comment":{}}}t=n[o[2]];Xc(ti(o[3],"|"),(o=>{if(e==="-"){delete t[o]}else{t[o]={}}}))}}))}};const E=e=>{const t=o[e];if(t){return t}let n=s.length;while(n--){const t=s[n];if(t.pattern.test(e)){return t}}return undefined};if(!e.valid_elements){Xc(l,((e,t)=>{o[t]={attributes:e.attributes,attributesOrder:e.attributesOrder};n[t]=e.children}));Xc(ti("strong/b em/i"),(e=>{const t=ti(e,"/");o[t[1]].outputName=t[0]}));Xc(_,((t,n)=>{if(o[n]){if(e.padd_empty_block_inline_children){o[n].paddInEmptyBlock=true}o[n].removeEmpty=true}}));Xc(ti("ol ul blockquote a table tbody"),(e=>{if(o[e]){o[e].removeEmpty=true}}));Xc(ti("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(e=>{o[e].paddEmpty=true}));Xc(ti("span"),(e=>{o[e].removeEmptyAttrs=true}))}else{z(e.valid_elements)}O(e.custom_elements);T(e.valid_children);S(e.extended_valid_elements);T("+ol[ul|ol],+ul[ul|ol]");Xc({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},((e,t)=>{if(o[t]){o[t].parentsRequired=ti(e)}}));if(e.invalid_elements){Xc(Qc(e.invalid_elements),(e=>{if(o[e]){delete o[e]}}))}if(!E("span")){S("span[!data-mce-type|*]")}const D=R(d);const A=R(u);const N=R(f);const M=R(h);const B=R(w);const L=R(k);const H=R(_);const I=R(Object.seal(p));const P=R(g);const F=R(b);const V=R(v);const j=R(m);const Z=R(x);const U=R(Object.seal(a));const q=(e,t)=>{const o=n[e.toLowerCase()];return!!(o&&o[t.toLowerCase()])};const W=(e,t)=>{const o=E(e);if(o){if(t){if(o.attributes[t]){return true}const e=o.attributePatterns;if(e){let o=e.length;while(o--){if(e[o].pattern.test(t)){return true}}}}else{return true}}return false};const $=R(r);return{type:i,children:n,elements:o,getValidStyles:D,getValidClasses:N,getBlockElements:B,getInvalidStyles:A,getVoidElements:I,getTextBlockElements:L,getTextInlineElements:H,getBoolAttrs:M,getElementRule:E,getSelfClosingElements:P,getNonEmptyElements:F,getMoveCaretBeforeOnEnterElements:V,getWhitespaceElements:j,getTransparentElements:Z,getSpecialElements:U,isValidChild:q,isValid:W,getCustomElements:$,addValidElements:S,setValidElements:z,addCustomElements:O,addValidChildren:T}};const ci=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi;const n=/\s*([^:]+):\s*([^;]+);?/g;const s=/\s+$/;const r={};let a;let c;const i=kr;if(t){a=t.getValidStyles();c=t.getInvalidStyles()}const l=(`\\" \\' \\; \\: ; : `+i).split(" ");for(let e=0;e<l.length;e++){r[l[e]]=i+e;r[i+e]=l[e]}const d={parse:t=>{const a={};let c=false;const l=e.url_converter;const u=e.url_converter_scope||d;const f=(e,t,o)=>{const n=a[e+"-top"+t];if(!n){return}const s=a[e+"-right"+t];if(!s){return}const r=a[e+"-bottom"+t];if(!r){return}const c=a[e+"-left"+t];if(!c){return}const i=[n,s,r,c];let l=i.length-1;while(l--){if(i[l]!==i[l+1]){break}}if(l>-1&&o){return}a[e+t]=l===-1?i[0]:i.join(" ");delete a[e+"-top"+t];delete a[e+"-right"+t];delete a[e+"-bottom"+t];delete a[e+"-left"+t]};const m=e=>{const t=a[e];if(!t){return}const o=t.split(" ");let n=o.length;while(n--){if(o[n]!==o[0]){return false}}a[e]=o[0];return true};const g=(e,t,o,n)=>{if(!m(t)){return}if(!m(o)){return}if(!m(n)){return}a[e]=a[t]+" "+a[o]+" "+a[n];delete a[t];delete a[o];delete a[n]};const p=e=>{c=true;return r[e]};const h=(e,t)=>{if(c){e=e.replace(/\uFEFF[0-9]/g,(e=>r[e]))}if(!t){e=e.replace(/\\([\'\";:])/g,"$1")}return e};const y=e=>String.fromCharCode(parseInt(e.slice(1),16));const b=e=>e.replace(/\\[0-9a-f]+/gi,y);const v=(t,o,n,s,r,a)=>{r=r||a;if(r){r=h(r);return`'`+r.replace(/\'/g,`\\'`)+`'`}o=h(o||n||s||"");if(!e.allow_script_urls){const t=o.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t)){return""}if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t)){return""}}if(l){o=l.call(u,o,"style")}return`url('`+o.replace(/\'/g,`\\'`)+`')`};if(t){t=t.replace(/[\u0000-\u001F]/g,"");t=t.replace(/\\[\"\';:\uFEFF]/g,p).replace(/\"[^\"]+\"|\'[^\']+\'/g,(e=>e.replace(/[;:]/g,p)));let r;while(r=n.exec(t)){n.lastIndex=r.index+r[0].length;let t=r[1].replace(s,"").toLowerCase();let l=r[2].replace(s,"");if(t&&l){t=b(t);l=b(l);if(t.indexOf(i)!==-1||t.indexOf('"')!==-1){continue}if(!e.allow_script_urls&&(t==="behavior"||/expression\s*\(|\/\*|\*\//.test(l))){continue}if(t==="font-weight"&&l==="700"){l="bold"}else if(t==="color"||t==="background-color"){l=l.toLowerCase()}l=l.replace(o,v);a[t]=c?h(l,true):l}}f("border","",true);f("border","-width");f("border","-color");f("border","-style");f("padding","");f("margin","");g("border","border-width","border-style","border-color");if(a.border==="medium none"){delete a.border}if(a["border-image"]==="none"){delete a["border-image"]}}return a},serialize:(e,t)=>{let o="";const n=(t,n)=>{const s=n[t];if(s){for(let t=0,n=s.length;t<n;t++){const n=s[t];const r=e[n];if(r){o+=(o.length>0?" ":"")+n+": "+r+";"}}}};const s=(e,t)=>{if(!c||!t){return true}let o=c["*"];if(o&&o[e]){return false}o=c[t];return!(o&&o[e])};if(t&&a){n("*",a);n(t,a)}else{xe(e,((e,n)=>{if(e&&s(n,t)){o+=(o.length>0?" ":"")+n+": "+e+";"}}))}return o}};return d};const ii={keyLocation:true,layerX:true,layerY:true,returnValue:true,webkitMovementX:true,webkitMovementY:true,keyIdentifier:true,mozPressure:true};const li=e=>e instanceof Event||T(e.initEvent);const di=e=>e.isDefaultPrevented===Z||e.isDefaultPrevented===j;const ui=e=>z(e.preventDefault)||li(e);const fi=(e,t)=>{const o=t!==null&&t!==void 0?t:{};for(const t in e){if(!Me(ii,t)){o[t]=e[t]}}if(O(e.composedPath)){o.composedPath=()=>e.composedPath()}return o};const mi=(e,t,o,n)=>{var s;const r=fi(t,n);r.type=e;if(z(r.target)){r.target=(s=r.srcElement)!==null&&s!==void 0?s:o}if(ui(t)){r.preventDefault=()=>{r.defaultPrevented=true;r.isDefaultPrevented=Z;if(T(t.preventDefault)){t.preventDefault()}};r.stopPropagation=()=>{r.cancelBubble=true;r.isPropagationStopped=Z;if(T(t.stopPropagation)){t.stopPropagation()}};r.stopImmediatePropagation=()=>{r.isImmediatePropagationStopped=Z;r.stopPropagation()};if(!di(r)){r.isDefaultPrevented=r.defaultPrevented===true?Z:j;r.isPropagationStopped=r.cancelBubble===true?Z:j;r.isImmediatePropagationStopped=j}}return r};const gi="mce-data-";const pi=/^(?:mouse|contextmenu)|click/;const hi=(e,t,o,n)=>{e.addEventListener(t,o,n||false)};const yi=(e,t,o,n)=>{e.removeEventListener(t,o,n||false)};const bi=e=>O(e)&&pi.test(e.type);const vi=(e,t)=>{const o=mi(e.type,e,document,t);if(bi(e)&&S(e.pageX)&&!S(e.clientX)){const t=o.target.ownerDocument||document;const n=t.documentElement;const s=t.body;const r=o;r.pageX=e.clientX+(n&&n.scrollLeft||s&&s.scrollLeft||0)-(n&&n.clientLeft||s&&s.clientLeft||0);r.pageY=e.clientY+(n&&n.scrollTop||s&&s.scrollTop||0)-(n&&n.clientTop||s&&s.clientTop||0)}return o};const ki=(e,t,o)=>{const n=e.document,s={type:"ready"};if(o.domLoaded){t(s);return}const r=()=>n.readyState==="complete"||n.readyState==="interactive"&&n.body;const a=()=>{yi(e,"DOMContentLoaded",a);yi(e,"load",a);if(!o.domLoaded){o.domLoaded=true;t(s)}e=null};if(r()){a()}else{hi(e,"DOMContentLoaded",a)}if(!o.domLoaded){hi(e,"load",a)}};class wi{constructor(){this.domLoaded=false;this.events={};this.count=1;this.expando=gi+(+new Date).toString(32);this.hasFocusIn="onfocusin"in document.documentElement;this.count=1}bind(e,t,o,n){const s=this;let r;const a=window;const c=e=>{s.executeHandlers(vi(e||a.event),i)};if(!e||ar(e)||lr(e)){return o}let i;if(!e[s.expando]){i=s.count++;e[s.expando]=i;s.events[i]={}}else{i=e[s.expando]}n=n||e;const l=t.split(" ");let d=l.length;while(d--){let t=l[d];let u=c;let f=false;let m=false;if(t==="DOMContentLoaded"){t="ready"}if(s.domLoaded&&t==="ready"&&e.readyState==="complete"){o.call(n,vi({type:t}));continue}if(!s.hasFocusIn&&(t==="focusin"||t==="focusout")){f=true;m=t==="focusin"?"focus":"blur";u=e=>{const t=vi(e||a.event);t.type=t.type==="focus"?"focusin":"focusout";s.executeHandlers(t,i)}}r=s.events[i][t];if(!r){s.events[i][t]=r=[{func:o,scope:n}];r.fakeName=m;r.capture=f;r.nativeHandler=u;if(t==="ready"){ki(e,u,s)}else{hi(e,m||t,u,f)}}else{if(t==="ready"&&s.domLoaded){o(vi({type:t}))}else{r.push({func:o,scope:n})}}}e=r=null;return o}unbind(e,t,o){if(!e||ar(e)||lr(e)){return this}const n=e[this.expando];if(n){let s=this.events[n];if(t){const n=t.split(" ");let r=n.length;while(r--){const t=n[r];const a=s[t];if(a){if(o){let e=a.length;while(e--){if(a[e].func===o){const o=a.nativeHandler;const n=a.fakeName,r=a.capture;const c=a.slice(0,e).concat(a.slice(e+1));c.nativeHandler=o;c.fakeName=n;c.capture=r;s[t]=c}}}if(!o||a.length===0){delete s[t];yi(e,a.fakeName||t,a.nativeHandler,a.capture)}}}}else{xe(s,((t,o)=>{yi(e,t.fakeName||o,t.nativeHandler,t.capture)}));s={}}for(const e in s){if(Me(s,e)){return this}}delete this.events[n];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,o){return this.dispatch(e,t,o)}dispatch(e,t,o){if(!e||ar(e)||lr(e)){return this}const n=vi({type:t,target:e},o);do{const t=e[this.expando];if(t){this.executeHandlers(n,t)}e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!n.isPropagationStopped());return this}clean(e){if(!e||ar(e)||lr(e)){return this}if(e[this.expando]){this.unbind(e)}if(!e.getElementsByTagName){e=e.document}if(e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName("*");let o=t.length;while(o--){e=t[o];if(e[this.expando]){this.unbind(e)}}}return this}destroy(){this.events={}}cancel(e){if(e){e.preventDefault();e.stopImmediatePropagation()}return false}executeHandlers(e,t){const o=this.events[t];const n=o&&o[e.type];if(n){for(let t=0,o=n.length;t<o;t++){const o=n[t];if(o&&o.func.call(o.scope,e)===false){e.preventDefault()}if(e.isImmediatePropagationStopped()){return}}}}}wi.Event=new wi;const _i=mo.each;const xi=mo.grep;const Ci="data-mce-style";const Si=mo.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," ");const zi=(e,t,o)=>{if(z(o)||o===""){Po(e,t)}else{Ro(e,t,o)}};const Oi=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()));const Ti=(e,t)=>{let o=0;if(e){for(let n=e.nodeType,s=e.previousSibling;s;s=s.previousSibling){const e=s.nodeType;if(t&&ar(s)){if(e===n||!s.data.length){continue}}o++;n=e}}return o};const Ei=(e,t)=>{const o=Lo(t,"style");const n=e.serialize(e.parse(o),Co(t));zi(t,Ci,n)};const Di=(e,t)=>{if(E(e)){return Me(Si,t)?e+"":e+"px"}else{return e}};const Ai=(e,t,o)=>{const n=Oi(t);if(z(o)||o===""){Qn(e,n)}else{$n(e,n,Di(o,n))}};const Ni=(e,t,o)=>{const n=t.keep_values;const s={set:(e,n,s)=>{const r=cn.fromDom(e);if(T(t.url_converter)&&O(n)){n=t.url_converter.call(t.url_converter_scope||o(),String(n),s,e)}const a="data-mce-"+s;zi(r,a,n);zi(r,s,n)},get:(e,t)=>{const o=cn.fromDom(e);return Lo(o,"data-mce-"+t)||Lo(o,t)}};const r={style:{set:(t,o)=>{const s=cn.fromDom(t);if(n){zi(s,Ci,o)}Po(s,"style");if(v(o)){Gn(s,e.parse(o))}},get:t=>{const o=cn.fromDom(t);const n=Lo(o,Ci)||Lo(o,"style");return e.serialize(e.parse(n),Co(o))}}};if(n){r.href=r.src=s}return r};const Mi=(e,t={})=>{const o={};const n=window;const s={};let r=0;const a=true;const c=true;const i=kc.forElement(cn.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy});const l=[];const d=t.schema?t.schema:ai({});const u=ci({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema);const f=t.ownEvents?new wi:wi.Event;const m=d.getBlockElements();const g=e=>{if(v(e)){return Me(m,e)}else{return Ks(e)&&(Me(m,e.nodeName)||dc(d,e))}};const p=t=>t&&e&&v(t)?e.getElementById(t):t;const h=e=>{const t=p(e);return O(t)?cn.fromDom(t):null};const y=(e,t,o="")=>{let n;const s=h(e);if(O(s)&&To(s)){const e=Fe[t];if(e&&e.get){n=e.get(s.dom,t)}else{n=Lo(s,t)}}return O(n)?n:o};const b=e=>{const t=p(e);return z(t)?[]:t.attributes};const k=(e,o,n)=>{U(e,(e=>{if(Ks(e)){const s=cn.fromDom(e);const r=n===""?null:n;const a=Lo(s,o);const c=Fe[o];if(c&&c.set){c.set(s.dom,r,o)}else{zi(s,o,r)}if(a!==r&&t.onSetAttrib){t.onSetAttrib({attrElm:s.dom,attrName:o,attrValue:r})}}}))};const w=(e,t)=>e.cloneNode(t);const x=()=>t.root_element||e.body;const C=e=>{const t=Ms(e);return{x:t.x,y:t.y,w:t.width,h:t.height}};const S=(t,o)=>yc(e.body,p(t),o);const E=(e,o,n)=>{U(e,(e=>{const s=cn.fromDom(e);Ai(s,o,n);if(t.update_styles){Ei(u,s)}}))};const D=(e,o)=>{U(e,(e=>{const n=cn.fromDom(e);xe(o,((e,t)=>{Ai(n,t,e)}));if(t.update_styles){Ei(u,n)}}))};const N=(e,t,o)=>{const n=p(e);if(z(n)||!Ks(n)){return undefined}if(o){return Kn(cn.fromDom(n),Oi(t))}else{t=t.replace(/-(\D)/g,((e,t)=>t.toUpperCase()));if(t==="float"){t="cssFloat"}return n.style?n.style[t]:undefined}};const M=e=>{const t=p(e);if(!t){return{w:0,h:0}}let o=N(t,"width");let n=N(t,"height");if(!o||o.indexOf("px")===-1){o="0"}if(!n||n.indexOf("px")===-1){n="0"}return{w:parseInt(o,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}};const B=e=>{const t=p(e);const o=S(t);const n=M(t);return{x:o.x,y:o.y,w:n.w,h:n.h}};const L=(e,t)=>{if(!e){return false}const o=_(e)?e:[e];return X(o,(e=>dn(cn.fromDom(e),t)))};const H=(e,t,o,n)=>{const s=[];let r=p(e);n=n===undefined;const a=o||(x().nodeName!=="BODY"?x().parentNode:null);if(v(t)){if(t==="*"){t=Ks}else{const e=t;t=t=>L(t,e)}}while(r){if(r===a||z(r.nodeType)||dr(r)||ur(r)){break}if(!t||t(r)){if(n){s.push(r)}else{return[r]}}r=r.parentNode}return n?s:null};const I=(e,t,o)=>{const n=H(e,t,o,false);return n&&n.length>0?n[0]:null};const P=(e,t,o)=>{let n=t;if(e){if(v(t)){n=e=>L(e,t)}for(let t=e[o];t;t=t[o]){if(T(n)&&n(t)){return t}}}return null};const F=(e,t)=>P(e,t,"nextSibling");const V=(e,t)=>P(e,t,"previousSibling");const j=e=>T(e.querySelectorAll);const Z=(o,n)=>{var s,r;const a=(r=(s=p(n))!==null&&s!==void 0?s:t.root_element)!==null&&r!==void 0?r:e;return j(a)?be(a.querySelectorAll(o)):[]};const U=function(e,t,o){const n=o!==null&&o!==void 0?o:this;if(_(e)){const o=[];_i(e,((e,s)=>{const r=p(e);if(r){o.push(t.call(n,r,s))}}));return o}else{const o=p(e);return!o?false:t.call(n,o)}};const q=(e,t)=>{U(e,(e=>{xe(t,((t,o)=>{k(e,o,t)}))}))};const W=(e,t)=>{U(e,(e=>{const o=cn.fromDom(e);gs(o,t)}))};const $=(t,o,n,s,r)=>U(t,(t=>{const a=v(o)?e.createElement(o):o;if(O(n)){q(a,n)}if(s){if(!v(s)&&s.nodeType){a.appendChild(s)}else if(v(s)){W(a,s)}}return!r?t.appendChild(a):a}));const G=(t,o,n)=>$(e.createElement(t),t,o,n,true);const K=Wc.decode;const Y=Wc.encodeAllRaw;const J=(e,t,o="")=>{let n="<"+e;for(const e in t){if(Re(t,e)){n+=" "+e+'="'+Y(t[e])+'"'}}if(ht(o)&&Me(d.getVoidElements(),e)){return n+" />"}else{return n+">"+o+"</"+e+">"}};const ee=t=>{const o=e.createElement("div");const n=e.createDocumentFragment();n.appendChild(o);if(t){o.innerHTML=t}let s;while(s=o.firstChild){n.appendChild(s)}n.removeChild(o);return n};const te=(e,t)=>U(e,(e=>{const o=cn.fromDom(e);if(t){Q(Tn(o),(e=>{if(Eo(e)&&e.dom.length===0){ls(e)}else{ts(o,e)}}))}ls(o);return o.dom}));const oe=e=>U(e,(e=>{const t=e.attributes;for(let o=t.length-1;o>=0;o--){e.removeAttributeNode(t.item(o))}}));const ne=e=>u.parse(e);const se=(e,t)=>u.serialize(e,t);const re=t=>{if(Pe!==Mi.DOM&&e===document){if(o[t]){return}o[t]=true}let n=e.getElementById("mceDefaultStyles");if(!n){n=e.createElement("style");n.id="mceDefaultStyles";n.type="text/css";const t=e.head;if(t.firstChild){t.insertBefore(n,t.firstChild)}else{t.appendChild(n)}}if(n.styleSheet){n.styleSheet.cssText+=t}else{n.appendChild(e.createTextNode(t))}};const ae=e=>{if(!e){e=""}Q(e.split(","),(e=>{s[e]=true;i.load(e).catch(A)}))};const ce=(e,t,o)=>{U(e,(e=>{if(Ks(e)){const n=cn.fromDom(e);const s=t.split(" ");Q(s,(e=>{if(O(o)){const t=o?Yo:Jo;t(n,e)}else{Qo(n,e)}}))}}))};const ie=(e,t)=>{ce(e,t,true)};const le=(e,t)=>{ce(e,t,false)};const ue=(e,t)=>{const o=h(e);const n=t.split(" ");return O(o)&&de(n,(e=>en(o,e)))};const fe=e=>{U(e,(e=>Qn(cn.fromDom(e),"display")))};const me=e=>{U(e,(e=>$n(cn.fromDom(e),"display","none")))};const ge=e=>{const t=h(e);return O(t)&&go(Xn(t,"display"),"none")};const pe=e=>(!e?"mce_":e)+r++;const he=e=>{const t=h(e);if(O(t)){return Ks(t.dom)?t.dom.outerHTML:ps(t)}else{return""}};const ye=(e,t)=>{U(e,(e=>{if(Ks(e)){e.outerHTML=t}}))};const ve=(e,t)=>{const o=p(t);return U(e,(e=>{const t=o===null||o===void 0?void 0:o.parentNode;const n=o===null||o===void 0?void 0:o.nextSibling;if(t){if(n){t.insertBefore(e,n)}else{t.appendChild(e)}}return e}))};const ke=(e,t,o)=>U(t,(n=>{var s;const r=_(t)?e.cloneNode(true):e;if(o){_i(xi(n.childNodes),(e=>{r.appendChild(e)}))}(s=n.parentNode)===null||s===void 0?void 0:s.replaceChild(r,n);return n}));const we=(e,t)=>{if(e.nodeName!==t.toUpperCase()){const o=G(t);_i(b(e),(t=>{k(o,t.nodeName,y(e,t.nodeName))}));ke(o,e,true);return o}else{return e}};const _e=(e,t)=>{let o=e;while(o){let e=t;while(e&&o!==e){e=e.parentNode}if(o===e){break}o=o.parentNode}if(!o&&e.ownerDocument){return e.ownerDocument.documentElement}else{return o}};const Ce=e=>{if(Ks(e)){const t=e.nodeName.toLowerCase()==="a"&&!y(e,"href")&&y(e,"id");if(y(e,"name")||y(e,"data-mce-bookmark")||t){return true}}return false};const Se=(e,t)=>{let o=0;if(Ce(e)){return false}const n=e.firstChild;if(n){const s=new Ws(n,e);const r=d?d.getWhitespaceElements():{};const a=t||(d?d.getNonEmptyElements():null);let c=n;do{if(Ks(c)){const e=c.getAttribute("data-mce-bogus");if(e){c=s.next(e==="all");continue}const t=c.nodeName.toLowerCase();if(a&&a[t]){if(t==="br"){o++;c=s.next();continue}return false}if(Ce(c)){return false}}if(lr(c)){return false}if(ar(c)&&!La(c.data)){return false}if(ar(c)&&c.parentNode&&r[c.parentNode.nodeName]&&La(c.data)){return false}c=s.next()}while(c)}return o<=1};const ze=()=>e.createRange();const Oe=(e,t,o)=>{let n=ze();let s;let r;if(e&&t&&e.parentNode&&t.parentNode){const a=e.parentNode;n.setStart(a,Ti(e));n.setEnd(t.parentNode,Ti(t));s=n.extractContents();n=ze();n.setStart(t.parentNode,Ti(t)+1);n.setEnd(a,Ti(e)+1);r=n.extractContents();a.insertBefore(Tc(Pe,s),e);if(o){a.insertBefore(o,e)}else{a.insertBefore(t,e)}a.insertBefore(Tc(Pe,r),e);te(e);return o||t}else{return undefined}};const Te=(o,s,r,a)=>{if(_(o)){let e=o.length;const t=[];while(e--){t[e]=Te(o[e],s,r,a)}return t}else{if(t.collect&&(o===e||o===n)){l.push([o,s,r,a])}return f.bind(o,s,r,a||Pe)}};const Ee=(t,o,s)=>{if(_(t)){let e=t.length;const n=[];while(e--){n[e]=Ee(t[e],o,s)}return n}else{if(l.length>0&&(t===e||t===n)){let e=l.length;while(e--){const[n,r,a]=l[e];if(t===n&&(!o||o===r)&&(!s||s===a)){f.unbind(n,r,a)}}}return f.unbind(t,o,s)}};const De=(e,t,o)=>f.dispatch(e,t,o);const Ae=(e,t,o)=>f.dispatch(e,t,o);const Ne=e=>{if(e&&Ks(e)){const t=e.getAttribute("data-mce-contenteditable");if(t&&t!=="inherit"){return t}return e.contentEditable!=="inherit"?e.contentEditable:null}else{return null}};const Be=e=>{const t=x();let o=null;for(let n=e;n&&n!==t;n=n.parentNode){o=Ne(n);if(o!==null){break}}return o};const Le=()=>{if(l.length>0){let e=l.length;while(e--){const[t,o,n]=l[e];f.unbind(t,o,n)}}xe(s,((e,t)=>{i.unload(t);delete s[t]}))};const He=(e,t)=>e===t||t.contains(e);const Ie=e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset;const Pe={doc:e,settings:t,win:n,files:s,stdMode:a,boxModel:c,styleSheetLoader:i,boundEvents:l,styles:u,schema:d,events:f,isBlock:g,root:null,clone:w,getRoot:x,getViewPort:C,getRect:B,getSize:M,getParent:I,getParents:H,get:p,getNext:F,getPrev:V,select:Z,is:L,add:$,create:G,createHTML:J,createFragment:ee,remove:te,setStyle:E,getStyle:N,setStyles:D,removeAllAttribs:oe,setAttrib:k,setAttribs:q,getAttrib:y,getPos:S,parseStyle:ne,serializeStyle:se,addStyle:re,loadCSS:ae,addClass:ie,removeClass:le,hasClass:ue,toggleClass:ce,show:fe,hide:me,isHidden:ge,uniqueId:pe,setHTML:W,getOuterHTML:he,setOuterHTML:ye,decode:K,encode:Y,insertAfter:ve,replace:ke,rename:we,findCommonAncestor:_e,run:U,getAttribs:b,isEmpty:Se,createRng:ze,nodeIndex:Ti,split:Oe,bind:Te,unbind:Ee,fire:Ae,dispatch:De,getContentEditable:Ne,getContentEditableParent:Be,destroy:Le,isChildOf:He,dumpRng:Ie};const Fe=Ni(u,t,R(Pe));return Pe};Mi.DOM=Mi(document);Mi.nodeIndex=Ti;const Ri=Mi.DOM;const Bi=0;const Li=1;const Hi=2;const Ii=3;class Pi{constructor(e={}){this.states={};this.queue=[];this.scriptLoadedCallbacks={};this.queueLoadedCallbacks=[];this.loading=false;this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise(((t,o)=>{const n=Ri;let s;const r=()=>{n.remove(i);if(s){s.onerror=s.onload=s=null}};const a=()=>{r();t()};const c=()=>{r();o("Failed to load script: "+e)};const i=n.uniqueId();s=document.createElement("script");s.id=i;s.type="text/javascript";s.src=mo._addCacheSuffix(e);if(this.settings.referrerPolicy){n.setAttrib(s,"referrerpolicy",this.settings.referrerPolicy)}s.onload=a;s.onerror=c;(document.getElementsByTagName("head")[0]||document.body).appendChild(s)}))}isDone(e){return this.states[e]===Hi}markDone(e){this.states[e]=Hi}add(e){const t=this;t.queue.push(e);const o=t.states[e];if(o===undefined){t.states[e]=Bi}return new Promise(((o,n)=>{if(!t.scriptLoadedCallbacks[e]){t.scriptLoadedCallbacks[e]=[]}t.scriptLoadedCallbacks[e].push({resolve:o,reject:n})}))}load(e){return this.add(e)}remove(e){delete this.states[e];delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;this.queue=[];return this.loadScripts(e)}loadScripts(e){const t=this;const o=(e,o)=>{Ne(t.scriptLoadedCallbacks,o).each((t=>{Q(t,(t=>t[e](o)))}));delete t.scriptLoadedCallbacks[o]};const n=e=>{const t=oe(e,(e=>e.status==="rejected"));if(t.length>0){return Promise.reject(le(t,(({reason:e})=>_(e)?e:[e])))}else{return Promise.resolve()}};const s=e=>Promise.allSettled(J(e,(e=>{if(t.states[e]===Hi){o("resolve",e);return Promise.resolve()}else if(t.states[e]===Ii){o("reject",e);return Promise.reject(e)}else{t.states[e]=Li;return t.loadScript(e).then((()=>{t.states[e]=Hi;o("resolve",e);const r=t.queue;if(r.length>0){t.queue=[];return s(r).then(n)}else{return Promise.resolve()}}),(()=>{t.states[e]=Ii;o("reject",e);return Promise.reject(e)}))}})));const r=e=>{t.loading=true;return s(e).then((e=>{t.loading=false;const o=t.queueLoadedCallbacks.shift();U.from(o).each(V);return n(e)}))};const a=Le(e);if(t.loading){return new Promise(((e,o)=>{t.queueLoadedCallbacks.push((()=>r(a).then(e,o)))}))}else{return r(a)}}}Pi.ScriptLoader=new Pi;const Fi=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const Vi=e=>k(e)&&Me(e,"raw");const ji=e=>_(e)&&e.length>1;const Zi={};const Ui=Fi("en");const qi=()=>Ne(Zi,Ui.get());const Wi=()=>Ce(Zi,(e=>({...e})));const $i=e=>{if(e){Ui.set(e)}};const Gi=()=>Ui.get();const Ki=(e,t)=>{let o=Zi[e];if(!o){Zi[e]=o={}}xe(t,((e,t)=>{o[t.toLowerCase()]=e}))};const Yi=e=>{const t=qi().getOr({});const o=e=>{if(T(e)){return Object.prototype.toString.call(e)}return!n(e)?""+e:""};const n=e=>e===""||e===null||e===undefined;const s=e=>{const n=o(e);return Ne(t,n.toLowerCase()).map(o).getOr(n)};const r=e=>e.replace(/{context:\w+}$/,"");if(n(e)){return""}if(Vi(e)){return o(e.raw)}if(ji(e)){const t=e.slice(1);const n=s(e[0]).replace(/\{([0-9]+)\}/g,((e,n)=>Me(t,n)?o(t[n]):e));return r(n)}return r(s(e))};const Xi=()=>qi().bind((e=>Ne(e,"_dir"))).exists((e=>e==="rtl"));const Ji=e=>Me(Zi,e);const Qi={getData:Wi,setCode:$i,getCode:Gi,add:Ki,translate:Yi,isRtl:Xi,hasCode:Ji};const el=()=>{const e=[];const t={};const o={};const n=[];const s=(e,t)=>{const o=oe(n,(o=>o.name===e&&o.state===t));Q(o,(e=>e.resolve()))};const r=e=>Me(t,e);const a=e=>Me(o,e);const c=e=>{if(o[e]){return o[e].instance}return undefined};const i=(e,o)=>{const n=Qi.getCode();const s=","+(o||"")+",";if(!n||o&&s.indexOf(","+n+",")===-1){return}Pi.ScriptLoader.add(t[e]+"/langs/"+n+".js")};const l=(e,t)=>{if(el.languageLoad!==false){if(r(e)){i(e,t)}else{g(e,"loaded").then((()=>i(e,t)))}}};const d=(t,n)=>{e.push(n);o[t]={instance:n};s(t,"added");return n};const u=e=>{delete t[e];delete o[e]};const f=(e,t)=>{if(v(t)){return v(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}}else{return t}};const m=(e,n)=>{if(t[e]){return Promise.resolve()}let r=v(n)?n:n.prefix+n.resource+n.suffix;if(r.indexOf("/")!==0&&r.indexOf("://")===-1){r=el.baseURL+"/"+r}t[e]=r.substring(0,r.lastIndexOf("/"));const a=()=>{s(e,"loaded");return Promise.resolve()};if(o[e]){return a()}else{return Pi.ScriptLoader.add(r).then(a)}};const g=(e,t="added")=>{if(t==="added"&&a(e)){return Promise.resolve()}else if(t==="loaded"&&r(e)){return Promise.resolve()}else{return new Promise((o=>{n.push({name:e,state:t,resolve:o})}))}};return{items:e,urls:t,lookup:o,get:c,requireLangPack:l,add:d,remove:u,createUrl:f,load:m,waitFor:g}};el.languageLoad=true;el.baseURL="";el.PluginManager=el();el.ThemeManager=el();el.ModelManager=el();const tl=e=>{const t=Fi(U.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(U.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(U.some(e))};return{clear:n,isSet:s,get:r,set:a}};const ol=e=>{const t=Fi(U.none());const o=()=>t.get().each((e=>clearInterval(e)));const n=()=>{o();t.set(U.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=n=>{o();t.set(U.some(setInterval(n,e)))};return{clear:n,isSet:s,get:r,set:a}};const nl=()=>{const e=tl(A);const t=t=>e.get().each(t);return{...e,on:t}};const sl=(e,t)=>{let o=null;const n=()=>{if(!x(o)){clearTimeout(o);o=null}};const s=(...n)=>{if(x(o)){o=setTimeout((()=>{o=null;e.apply(null,n)}),t)}};return{cancel:n,throttle:s}};const rl=(e,t)=>{let o=null;const n=()=>{if(!x(o)){clearTimeout(o);o=null}};const s=(...s)=>{n();o=setTimeout((()=>{o=null;e.apply(null,s)}),t)};return{cancel:n,throttle:s}};const al=R("mce-annotation");const cl=R("data-mce-annotation");const il=R("data-mce-annotation-uid");const ll=R("data-mce-annotation-active");const dl=R("data-mce-annotation-classes");const ul=R("data-mce-annotation-attrs");const fl=e=>t=>gn(t,e);const ml=(e,t)=>{const o=e.selection.getRng();const n=cn.fromDom(o.startContainer);const s=cn.fromDom(e.getBody());const r=t.fold((()=>"."+al()),(e=>`[${cl()}="${e}"]`));const a=En(n,o.startOffset).getOr(n);const c=Us(a,r,fl(s));return c.bind((t=>Ho(t,`${il()}`).bind((o=>Ho(t,`${cl()}`).map((t=>{const n=hl(e,o);return{uid:o,name:t,elements:n}}))))))};const gl=e=>To(e)&&en(e,al());const pl=(e,t)=>Io(e,"data-mce-bogus")||qs(e,'[data-mce-bogus="all"]',fl(t));const hl=(e,t)=>{const o=cn.fromDom(e.getBody());const n=Cr(o,`[${il()}="${t}"]`);return oe(n,(e=>!pl(e,o)))};const yl=(e,t)=>{const o=cn.fromDom(e.getBody());const n=Cr(o,`[${cl()}="${t}"]`);const s={};Q(n,(e=>{if(!pl(e,o)){const t=Lo(e,il());const o=Ne(s,t).getOr([]);s[t]=o.concat([e])}}));return s};const bl=(e,t)=>{const o=Fi({});const n=()=>({listeners:[],previous:nl()});const s=(e,t)=>{r(e,(e=>{t(e);return e}))};const r=(e,t)=>{const s=o.get();const r=Ne(s,e).getOrThunk(n);const a=t(r);s[e]=a;o.set(s)};const a=(e,t,o)=>{s(e,(n=>{Q(n.listeners,(n=>n(true,e,{uid:t,nodes:J(o,(e=>e.dom))})))}))};const c=e=>{s(e,(t=>{Q(t.listeners,(t=>t(false,e)))}))};const i=(t,o)=>{Q(hl(e,t),(e=>{if(o){Ro(e,ll(),"true")}else{Po(e,ll())}}))};const l=rl((()=>{const o=ge(t.getNames());Q(o,(t=>{r(t,(o=>{const n=o.previous.get();ml(e,U.some(t)).fold((()=>{n.each((e=>{c(t);o.previous.clear();i(e,false)}))}),(({uid:e,name:t,elements:s})=>{if(!go(n,e)){n.each((e=>i(e,false)));a(t,e,s);o.previous.set(e);i(e,true)}}));return{previous:o.previous,listeners:o.listeners}}))}))}),30);e.on("remove",(()=>{l.cancel()}));e.on("NodeChange",(()=>{l.throttle()}));const d=(e,t)=>{r(e,(e=>({previous:e.previous,listeners:e.listeners.concat([t])})))};return{addListener:d}};const vl=(e,t)=>{const o=cl();const n=e=>U.from(e.attr(o)).bind(t.lookup);const s=e=>{var t,o;e.attr(il(),null);e.attr(cl(),null);e.attr(ll(),null);const n=U.from(e.attr(ul())).map((e=>e.split(","))).getOr([]);const s=U.from(e.attr(dl())).map((e=>e.split(","))).getOr([]);Q(n,(t=>e.attr(t,null)));const r=(o=(t=e.attr("class"))===null||t===void 0?void 0:t.split(" "))!==null&&o!==void 0?o:[];const a=fe(r,[al()].concat(s));e.attr("class",a.length>0?a.join(" "):null);e.attr(dl(),null);e.attr(ul(),null)};e.serializer.addTempAttr(ll());e.serializer.addAttributeFilter(o,(e=>{for(const t of e){n(t).each((e=>{if(e.persistent===false){if(t.name==="span"){t.unwrap()}else{s(t)}}}))}}))};const kl=()=>{const e={};const t=(t,o)=>{e[t]={name:t,settings:o}};const o=t=>Ne(e,t).map((e=>e.settings));const n=()=>we(e);return{register:t,lookup:o,getNames:n}};let wl=0;const _l=e=>{const t=new Date;const o=t.getTime();const n=Math.floor(Math.random()*1e9);wl++;return e+"_"+n+wl+String(o)};const xl=(e,t)=>{Q(t,(t=>{Yo(e,t)}))};const Cl=(e,t)=>{Q(t,(t=>{Jo(e,t)}))};const Sl=(e,t)=>cn.fromDom(e.dom.cloneNode(t));const zl=e=>Sl(e,false);const Ol=e=>Sl(e,true);const Tl=(e,t)=>{const o=cn.fromTag(t);const n=Vo(e);Bo(o,n);return o};const El=(e,t)=>{const o=Tl(e,t);os(e,o);const n=Tn(e);cs(o,n);ls(e);return o};const Dl=(e,t,o=j)=>{const n=new Ws(e,t);const s=e=>{let t;do{t=n[e]()}while(t&&!ar(t)&&!o(t));return U.from(t).filter(ar)};return{current:()=>U.from(n.current()).filter(ar),next:()=>s("next"),prev:()=>s("prev"),prev2:()=>s("prev2")}};const Al=(e,t)=>{const o=t?t:t=>e.isBlock(t)||fr(t)||pr(t);const n=(e,t,o,s)=>{if(ar(e)){const o=s(e,t,e.data);if(o!==-1){return U.some({container:e,offset:o})}}return o().bind((e=>n(e.container,e.offset,o,s)))};const s=(t,s,r,a)=>{const c=Dl(t,a!==null&&a!==void 0?a:e.getRoot(),o);return n(t,s,(()=>c.prev().map((e=>({container:e,offset:e.length})))),r).getOrNull()};const r=(t,s,r,a)=>{const c=Dl(t,a!==null&&a!==void 0?a:e.getRoot(),o);return n(t,s,(()=>c.next().map((e=>({container:e,offset:0})))),r).getOrNull()};return{backwards:s,forwards:r}};const Nl=Math.round;const Ml=e=>{if(!e){return{left:0,top:0,bottom:0,right:0,width:0,height:0}}return{left:Nl(e.left),top:Nl(e.top),bottom:Nl(e.bottom),right:Nl(e.right),width:Nl(e.width),height:Nl(e.height)}};const Rl=(e,t)=>{e=Ml(e);if(t){e.right=e.left}else{e.left=e.left+e.width;e.right=e.left}e.width=0;return e};const Bl=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right;const Ll=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2;const Hl=(e,t)=>{const o=Math.min(t.height/2,e.height/2);if(e.bottom-o<t.top){return true}if(e.top>t.bottom){return false}return Ll(t.top-e.bottom,e,t)};const Il=(e,t)=>{if(e.top>t.bottom){return true}if(e.bottom<t.top){return false}return Ll(t.bottom-e.top,e,t)};const Pl=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom;const Fl=e=>se(e,((e,t)=>e.fold((()=>U.some(t)),(e=>{const o=Math.min(t.left,e.left);const n=Math.min(t.top,e.top);const s=Math.max(t.right,e.right);const r=Math.max(t.bottom,e.bottom);return U.some({top:n,right:s,bottom:r,left:o,width:s-o,height:r-n})}))),U.none());const Vl=(e,t,o)=>{const n=Math.max(Math.min(t,e.left+e.width),e.left);const s=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-n)*(t-n)+(o-s)*(o-s))};const jl=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));const Zl=(e,t,o)=>Math.min(Math.max(e,t),o);const Ul=e=>{const t=e.startContainer,o=e.startOffset;if(t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1){return t.childNodes[o]}return null};const ql=(e,t)=>{if(Ks(e)&&e.hasChildNodes()){const o=e.childNodes;const n=Zl(t,0,o.length-1);return o[n]}else{return e}};const Wl=(e,t)=>{if(t<0&&Ks(e)&&e.hasChildNodes()){return undefined}else{return ql(e,t)}};const $l=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ؚ"+"ً-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް"+"߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़"+"ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣ"+"ਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼"+"ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗ"+"ୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖ"+"ౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ"+"്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູ"+"ົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗ"+"ྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴ"+"ႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵"+"ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘ"+"ᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴"+"ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩ"+"ᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹"+"᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⳱"+"⵿ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱"+"ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼ"+"ꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁"+"ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]");const Gl=e=>v(e)&&e.charCodeAt(0)>=768&&$l.test(e);const Kl=(...e)=>t=>{for(let o=0;o<e.length;o++){if(e[o](t)){return true}}return false};const Yl=(...e)=>t=>{for(let o=0;o<e.length;o++){if(!e[o](t)){return false}}return true};const Xl=Ks;const Jl=Ta;const Ql=Js("display","block table");const ed=Js("float","left right");const td=Yl(Xl,Jl,I(ed));const od=I(Js("white-space","pre pre-line pre-wrap"));const nd=ar;const sd=fr;const rd=Mi.nodeIndex;const ad=Wl;const cd=e=>e?e.createRange():Mi.DOM.createRng();const id=e=>v(e)&&/[\r\n\t ]/.test(e);const ld=e=>!!e.setStart&&!!e.setEnd;const dd=e=>{const t=e.startContainer;const o=e.startOffset;if(id(e.toString())&&od(t.parentNode)&&ar(t)){const e=t.data;if(id(e[o-1])||id(e[o+1])){return true}}return false};const ud=e=>{const t=e.ownerDocument;const o=cd(t);const n=t.createTextNode(wr);const s=e.parentNode;s.insertBefore(n,e);o.setStart(n,0);o.setEnd(n,1);const r=Ml(o.getBoundingClientRect());s.removeChild(n);return r};const fd=e=>{const t=e.startContainer;const o=e.endContainer;const n=e.startOffset;const s=e.endOffset;if(t===o&&ar(o)&&n===0&&s===1){const t=e.cloneRange();t.setEndAfter(o);return gd(t)}else{return null}};const md=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0;const gd=e=>{var t;let o;const n=e.getClientRects();if(n.length>0){o=Ml(n[0])}else{o=Ml(e.getBoundingClientRect())}if(!ld(e)&&sd(e)&&md(o)){return ud(e)}if(md(o)&&ld(e)){return(t=fd(e))!==null&&t!==void 0?t:o}return o};const pd=(e,t)=>{const o=Rl(e,t);o.width=1;o.right=o.left+1;return o};const hd=e=>{const t=[];const o=e=>{if(e.height===0){return}if(t.length>0){if(Bl(e,t[t.length-1])){return}}t.push(e)};const n=(e,t)=>{const n=cd(e.ownerDocument);if(t<e.data.length){if(Gl(e.data[t])){return}if(Gl(e.data[t-1])){n.setStart(e,t);n.setEnd(e,t+1);if(!dd(n)){o(pd(gd(n),false));return}}}if(t>0){n.setStart(e,t-1);n.setEnd(e,t);if(!dd(n)){o(pd(gd(n),false))}}if(t<e.data.length){n.setStart(e,t);n.setEnd(e,t+1);if(!dd(n)){o(pd(gd(n),true))}}};const s=e.container();const r=e.offset();if(nd(s)){n(s,r);return t}if(Xl(s)){if(e.isAtEnd()){const e=ad(s,r);if(nd(e)){n(e,e.data.length)}if(td(e)&&!sd(e)){o(pd(gd(e),false))}}else{const a=ad(s,r);if(nd(a)){n(a,0)}if(td(a)&&e.isAtEnd()){o(pd(gd(a),false));return t}const c=ad(e.container(),e.offset()-1);if(td(c)&&!sd(c)){if(Ql(c)||Ql(a)||!td(a)){o(pd(gd(c),false))}}if(td(a)){o(pd(gd(a),true))}}}return t};const yd=(e,t,o)=>{const n=()=>{if(nd(e)){return t===0}return t===0};const s=()=>{if(nd(e)){return t>=e.data.length}return t>=e.childNodes.length};const r=()=>{const o=cd(e.ownerDocument);o.setStart(e,t);o.setEnd(e,t);return o};const a=()=>{if(!o){o=hd(yd(e,t))}return o};const c=()=>a().length>0;const i=o=>o&&e===o.container()&&t===o.offset();const l=o=>ad(e,o?t-1:t);return{container:R(e),offset:R(t),toRange:r,getClientRects:a,isVisible:c,isAtStart:n,isAtEnd:s,isEqual:i,getNode:l}};yd.fromRangeStart=e=>yd(e.startContainer,e.startOffset);yd.fromRangeEnd=e=>yd(e.endContainer,e.endOffset);yd.after=e=>yd(e.parentNode,rd(e)+1);yd.before=e=>yd(e.parentNode,rd(e));yd.isAbove=(e,t)=>ho(he(t.getClientRects()),ye(e.getClientRects()),Hl).getOr(false);yd.isBelow=(e,t)=>ho(ye(t.getClientRects()),he(e.getClientRects()),Il).getOr(false);yd.isAtStart=e=>e?e.isAtStart():false;yd.isAtEnd=e=>e?e.isAtEnd():false;yd.isTextPosition=e=>e?ar(e.container()):false;yd.isElementPosition=e=>!yd.isTextPosition(e);const bd=(e,t)=>{if(ar(t)&&t.data.length===0){e.remove(t)}};const vd=(e,t,o)=>{t.insertNode(o);bd(e,o.previousSibling);bd(e,o.nextSibling)};const kd=(e,t,o)=>{const n=U.from(o.firstChild);const s=U.from(o.lastChild);t.insertNode(o);n.each((t=>bd(e,t.previousSibling)));s.each((t=>bd(e,t.nextSibling)))};const wd=(e,t,o)=>{if(ur(o)){kd(e,t,o)}else{vd(e,t,o)}};const _d=ar;const xd=tr;const Cd=Mi.nodeIndex;const Sd=e=>{const t=e.parentNode;if(xd(t)){return Sd(t)}return t};const zd=e=>{if(!e){return[]}return Ue(e.childNodes,((e,t)=>{if(xd(t)&&t.nodeName!=="BR"){e=e.concat(zd(t))}else{e.push(t)}return e}),[])};const Od=(e,t)=>{let o=e;while(o=o.previousSibling){if(!_d(o)){break}t+=o.data.length}return t};const Td=e=>t=>e===t;const Ed=e=>{let t,o;t=zd(Sd(e));o=qe(t,Td(e),e);t=t.slice(0,o+1);const n=Ue(t,((e,o,n)=>{if(_d(o)&&_d(t[n-1])){e++}return e}),0);t=je(t,Xs([e.nodeName]));o=qe(t,Td(e),e);return o-n};const Dd=e=>{const t=_d(e)?"text()":e.nodeName.toLowerCase();return t+"["+Ed(e)+"]"};const Ad=(e,t,o)=>{const n=[];for(let s=t.parentNode;s&&s!==e;s=s.parentNode){if(o&&o(s)){break}n.push(s)}return n};const Nd=(e,t)=>{let o=[];let n=t.container();let s=t.offset();let r;if(_d(n)){r=Od(n,s)}else{const e=n.childNodes;if(s>=e.length){r="after";s=e.length-1}else{r="before"}n=e[s]}o.push(Dd(n));let a=Ad(e,n);a=je(a,I(tr));o=o.concat(Ve(a,(e=>Dd(e))));return o.reverse().join("/")+","+r};const Md=(e,t,o)=>{let n=zd(e);n=je(n,((e,t)=>!_d(e)||!_d(n[t-1])));n=je(n,Xs([t]));return n[o]};const Rd=(e,t)=>{let o=e;let n=0;while(_d(o)){const s=o.data.length;if(t>=n&&t<=n+s){e=o;t=t-n;break}if(!_d(o.nextSibling)){e=o;t=s;break}n+=s;o=o.nextSibling}if(_d(e)&&t>e.data.length){t=e.data.length}return yd(e,t)};const Bd=(e,t)=>{if(!t){return null}const o=t.split(",");const n=o[0].split("/");const s=o.length>1?o[1]:"before";const r=Ue(n,((e,t)=>{const o=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);if(!o){return null}if(o[1]==="text()"){o[1]="#text"}return Md(e,o[1],parseInt(o[2],10))}),e);if(!r){return null}if(!_d(r)&&r.parentNode){let e;if(s==="after"){e=Cd(r)+1}else{e=Cd(r)}return yd(r.parentNode,e)}return Rd(r,parseInt(s,10))};const Ld=pr;const Hd=(e,t,o)=>{let n=e(t.data.slice(0,o)).length;for(let o=t.previousSibling;o&&ar(o);o=o.previousSibling){n+=e(o.data).length}return n};const Id=(e,t,o,n,s)=>{const r=s?n.startContainer:n.endContainer;let a=s?n.startOffset:n.endOffset;const c=[];const i=e.getRoot();if(ar(r)){c.push(o?Hd(t,r,a):a)}else{let t=0;const n=r.childNodes;if(a>=n.length&&n.length){t=1;a=Math.max(0,n.length-1)}c.push(e.nodeIndex(n[a],o)+t)}for(let t=r;t&&t!==i;t=t.parentNode){c.push(e.nodeIndex(t,o))}return c};const Pd=(e,t,o,n)=>{const s=t.dom;const r=Id(s,e,o,n,true);const a=t.isForward();const c=va(n)?{isFakeCaret:true}:{};if(!t.isCollapsed()){const t=Id(s,e,o,n,false);return{start:r,end:t,forward:a,...c}}else{return{start:r,forward:a,...c}}};const Fd=(e,t,o)=>{let n=0;mo.each(e.select(t),(e=>{if(e.getAttribute("data-mce-bogus")==="all"){return}else if(e===o){return false}else{n++;return}}));return n};const Vd=(e,t)=>{let o=t?e.startContainer:e.endContainer;let n=t?e.startOffset:e.endOffset;if(Ks(o)&&o.nodeName==="TR"){const s=o.childNodes;o=s[Math.min(t?n:n-1,s.length-1)];if(o){n=t?0:o.childNodes.length;if(t){e.setStart(o,n)}else{e.setEnd(o,n)}}}};const jd=e=>{Vd(e,true);Vd(e,false);return e};const Zd=(e,t)=>{if(Ks(e)){e=ql(e,t);if(Ld(e)){return e}}if(la(e)){if(ar(e)&&ca(e)){e=e.parentNode}let t=e.previousSibling;if(Ld(t)){return t}t=e.nextSibling;if(Ld(t)){return t}}return undefined};const Ud=e=>Zd(e.startContainer,e.startOffset)||Zd(e.endContainer,e.endOffset);const qd=(e,t,o)=>{const n=o.getNode();const s=o.getRng();if(n.nodeName==="IMG"||Ld(n)){const e=n.nodeName;return{name:e,index:Fd(o.dom,e,n)}}const r=Ud(s);if(r){const e=r.tagName;return{name:e,index:Fd(o.dom,e,r)}}return Pd(e,o,t,s)};const Wd=e=>{const t=e.getRng();return{start:Nd(e.dom.getRoot(),yd.fromRangeStart(t)),end:Nd(e.dom.getRoot(),yd.fromRangeEnd(t)),forward:e.isForward()}};const $d=e=>({rng:e.getRng(),forward:e.isForward()});const Gd=(e,t,o)=>{const n={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",n,"&#xFEFF;"):e.create("span",n)};const Kd=(e,t)=>{const o=e.dom;let n=e.getRng();const s=o.uniqueId();const r=e.isCollapsed();const a=e.getNode();const c=a.nodeName;const i=e.isForward();if(c==="IMG"){return{name:c,index:Fd(o,c,a)}}const l=jd(n.cloneRange());if(!r){l.collapse(false);const e=Gd(o,s+"_end",t);wd(o,l,e)}n=jd(n);n.collapse(true);const d=Gd(o,s+"_start",t);wd(o,n,d);e.moveToBookmark({id:s,keep:true,forward:i});return{id:s,forward:i}};const Yd=(e,t,o=false)=>{if(t===2){return qd(sa,o,e)}else if(t===3){return Wd(e)}else if(t){return $d(e)}else{return Kd(e,false)}};const Xd=H(qd,B,true);const Jd=e=>{const t=t=>t(e);const o=R(e);const n=()=>s;const s={tag:true,inner:e,fold:(t,o)=>o(e),isValue:Z,isError:j,map:t=>tu.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:t=>{t(e)},toOptional:()=>U.some(e)};return s};const Qd=e=>{const t=()=>o;const o={tag:false,inner:e,fold:(t,o)=>t(e),isValue:j,isError:Z,map:t,mapError:t=>tu.error(t(e)),bind:t,exists:j,forall:Z,getOr:B,or:B,getOrThunk:F,orThunk:F,getOrDie:P(String(e)),each:A,toOptional:U.none};return o};const eu=(e,t)=>e.fold((()=>Qd(t)),Jd);const tu={value:Jd,error:Qd,fromOption:eu};const ou=e=>{if(!_(e)){throw new Error("cases must be an array")}if(e.length===0){throw new Error("there must be at least one case")}const t=[];const o={};Q(e,((n,s)=>{const r=we(n);if(r.length!==1){throw new Error("one and only one name per case")}const a=r[0];const c=n[a];if(o[a]!==undefined){throw new Error("duplicate key detected:"+a)}else if(a==="cata"){throw new Error("cannot have a case named cata (sorry)")}else if(!_(c)){throw new Error("case arguments must be an array")}t.push(a);o[a]=(...o)=>{const n=o.length;if(n!==c.length){throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+n)}const r=e=>{const n=we(e);if(t.length!==n.length){throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","))}const s=de(t,(e=>Y(n,e)));if(!s){throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "))}return e[a].apply(null,o)};return{fold:(...t)=>{if(t.length!==e.length){throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)}const n=t[s];return n.apply(null,o)},match:r,log:e=>{console.log(e,{constructors:t,constructor:a,params:o})}}}}));return o};const nu={generate:ou};nu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const su=e=>{const t=[];const o=[];Q(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{o.push(e)}))}));return{errors:t,values:o}};const ru=e=>e.type==="inline-command"||e.type==="inline-format";const au=e=>e.type==="block-command"||e.type==="block-format";const cu=e=>{const t=t=>tu.error({message:t,pattern:e});const o=(o,n,s)=>{if(e.format!==undefined){let s;if(_(e.format)){if(!de(e.format,v)){return t(o+" pattern has non-string items in the `format` array")}s=e.format}else if(v(e.format)){s=[e.format]}else{return t(o+" pattern has non-string `format` parameter")}return tu.value(n(s))}else if(e.cmd!==undefined){if(!v(e.cmd)){return t(o+" pattern has non-string `cmd` parameter")}return tu.value(s(e.cmd,e.value))}else{return t(o+" pattern is missing both `format` and `cmd` parameters")}};if(!k(e)){return t("Raw pattern is not an object")}if(!v(e.start)){return t("Raw pattern is missing `start` parameter")}if(e.end!==undefined){if(!v(e.end)){return t("Inline pattern has non-string `end` parameter")}if(e.start.length===0&&e.end.length===0){return t("Inline pattern has empty `start` and `end` parameters")}let n=e.start;let s=e.end;if(s.length===0){s=n;n=""}return o("Inline",(e=>({type:"inline-format",start:n,end:s,format:e})),((e,t)=>({type:"inline-command",start:n,end:s,cmd:e,value:t})))}else if(e.replacement!==undefined){if(!v(e.replacement)){return t("Replacement pattern has non-string `replacement` parameter")}if(e.start.length===0){return t("Replacement pattern has empty `start` parameter")}return tu.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement})}else{if(e.start.length===0){return t("Block pattern has empty `start` parameter")}return o("Block",(t=>({type:"block-format",start:e.start,format:t[0]})),((t,o)=>({type:"block-command",start:e.start,cmd:t,value:o})))}};const iu=e=>oe(e,au);const lu=e=>oe(e,ru);const du=(e,t)=>({inlinePatterns:lu(e),blockPatterns:iu(e),dynamicPatternsLookup:t});const uu=e=>{const t=su(J(e,cu));Q(t.errors,(e=>console.error(e.message,e.pattern)));return t.values};const fu=e=>t=>{const o=e(t);return uu(o)};const mu=Gt().deviceType;const gu=mu.isTouch();const pu=Mi.DOM;const hu=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return se(t,((e,t)=>{const o=t.split("=");const n=o[0];const s=o.length>1?o[1]:n;e[ft(n)]=ft(s);return e}),{})};const yu=e=>b(e,RegExp);const bu=e=>t=>t.options.get(e);const vu=e=>v(e)||k(e);const ku=(e,t="")=>o=>{const n=v(o);if(n){if(o.indexOf("=")!==-1){const s=hu(o);return{value:Ne(s,e.id).getOr(t),valid:n}}else{return{value:o,valid:n}}}else{return{valid:false,message:"Must be a string."}}};const wu=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id});t("selector",{processor:"string"});t("target",{processor:"object"});t("suffix",{processor:"string"});t("cache_suffix",{processor:"string"});t("base_url",{processor:"string"});t("referrer_policy",{processor:"string",default:""});t("language_load",{processor:"boolean",default:true});t("inline",{processor:"boolean",default:false});t("iframe_attrs",{processor:"object",default:{}});t("doctype",{processor:"string",default:"<!DOCTYPE html>"});t("document_base_url",{processor:"string",default:e.documentBaseUrl});t("body_id",{processor:ku(e,"tinymce"),default:"tinymce"});t("body_class",{processor:ku(e),default:""});t("content_security_policy",{processor:"string",default:""});t("br_in_pre",{processor:"boolean",default:true});t("forced_root_block",{processor:e=>{const t=v(e)&&pt(e);if(t){return{value:e,valid:t}}else{return{valid:false,message:"Must be a non-empty string."}}},default:"p"});t("forced_root_block_attrs",{processor:"object",default:{}});t("newline_behavior",{processor:e=>{const t=Y(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:false,message:"Must be one of: block, linebreak, invert or default."}},default:"default"});t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"});t("no_newline_selector",{processor:"string",default:""});t("keep_styles",{processor:"boolean",default:true});t("end_container_on_empty_block",{processor:e=>{if(C(e)){return{valid:true,value:e}}else if(v(e)){return{valid:true,value:e}}else{return{valid:false,message:"Must be boolean or a string"}}},default:"blockquote"});t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"});t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"});t("font_size_classes",{processor:"string",default:""});t("automatic_uploads",{processor:"boolean",default:true});t("images_reuse_filename",{processor:"boolean",default:false});t("images_replace_blob_uris",{processor:"boolean",default:true});t("icons",{processor:"string",default:""});t("icons_url",{processor:"string",default:""});t("images_upload_url",{processor:"string",default:""});t("images_upload_base_path",{processor:"string",default:""});t("images_upload_credentials",{processor:"boolean",default:false});t("images_upload_handler",{processor:"function"});t("language",{processor:"string",default:"en"});t("language_url",{processor:"string",default:""});t("entity_encoding",{processor:"string",default:"named"});t("indent",{processor:"boolean",default:true});t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,"+"tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"});t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,"+"tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"});t("indent_use_margin",{processor:"boolean",default:false});t("indentation",{processor:"string",default:"40px"});t("content_css",{processor:e=>{const t=e===false||v(e)||D(e,v);if(t){if(v(e)){return{value:J(e.split(","),ft),valid:t}}else if(_(e)){return{value:e,valid:t}}else if(e===false){return{value:[],valid:t}}else{return{value:e,valid:t}}}else{return{valid:false,message:"Must be false, a string or an array of strings."}}},default:bf(e)?[]:["default"]});t("content_style",{processor:"string"});t("content_css_cors",{processor:"boolean",default:false});t("font_css",{processor:e=>{const t=v(e)||D(e,v);if(t){const o=_(e)?e:J(e.split(","),ft);return{value:o,valid:t}}else{return{valid:false,message:"Must be a string or an array of strings."}}},default:[]});t("inline_boundaries",{processor:"boolean",default:true});t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"});t("object_resizing",{processor:e=>{const t=C(e)||v(e);if(t){if(e===false||mu.isiPhone()||mu.isiPad()){return{value:"",valid:t}}else{return{value:e===true?"table,img,figure.image,div,video,iframe":e,valid:t}}}else{return{valid:false,message:"Must be boolean or a string"}}},default:!gu});t("resize_img_proportional",{processor:"boolean",default:true});t("event_root",{processor:"object"});t("service_message",{processor:"string"});t("theme",{processor:e=>e===false||v(e)||T(e),default:"silver"});t("theme_url",{processor:"string"});t("formats",{processor:"object"});t("format_empty_lines",{processor:"boolean",default:false});t("format_noneditable_selector",{processor:"string",default:""});t("preview_styles",{processor:e=>{const t=e===false||v(e);if(t){return{value:e===false?"":e,valid:t}}else{return{valid:false,message:"Must be false or a string"}}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"});t("custom_ui_selector",{processor:"string",default:""});t("hidden_input",{processor:"boolean",default:true});t("submit_patch",{processor:"boolean",default:true});t("encoding",{processor:"string"});t("add_form_submit_trigger",{processor:"boolean",default:true});t("add_unload_trigger",{processor:"boolean",default:true});t("custom_undo_redo_levels",{processor:"number",default:0});t("disable_nodechange",{processor:"boolean",default:false});t("readonly",{processor:"boolean",default:false});t("plugins",{processor:"string[]",default:[]});t("external_plugins",{processor:"object"});t("forced_plugins",{processor:"string[]"});t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"});t("model_url",{processor:"string"});t("block_unsupported_drop",{processor:"boolean",default:true});t("visual",{processor:"boolean",default:true});t("visual_table_class",{processor:"string",default:"mce-item-table"});t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"});t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."});t("setup",{processor:"function"});t("init_instance_callback",{processor:"function"});t("url_converter",{processor:"function",default:e.convertURL});t("url_converter_scope",{processor:"object",default:e});t("urlconverter_callback",{processor:"function"});t("allow_conditional_comments",{processor:"boolean",default:false});t("allow_html_data_urls",{processor:"boolean",default:false});t("allow_svg_data_urls",{processor:"boolean"});t("allow_html_in_named_anchor",{processor:"boolean",default:false});t("allow_script_urls",{processor:"boolean",default:false});t("allow_unsafe_link_target",{processor:"boolean",default:false});t("convert_fonts_to_spans",{processor:"boolean",default:true,deprecated:true});t("fix_list_elements",{processor:"boolean",default:false});t("preserve_cdata",{processor:"boolean",default:false});t("remove_trailing_brs",{processor:"boolean"});t("inline_styles",{processor:"boolean",default:true,deprecated:true});t("element_format",{processor:"string",default:"html"});t("entities",{processor:"string"});t("schema",{processor:"string",default:"html5"});t("convert_urls",{processor:"boolean",default:true});t("relative_urls",{processor:"boolean",default:true});t("remove_script_host",{processor:"boolean",default:true});t("custom_elements",{processor:"string"});t("extended_valid_elements",{processor:"string"});t("invalid_elements",{processor:"string"});t("invalid_styles",{processor:vu});t("valid_children",{processor:"string"});t("valid_classes",{processor:vu});t("valid_elements",{processor:"string"});t("valid_styles",{processor:vu});t("verify_html",{processor:"boolean",default:true});t("auto_focus",{processor:e=>v(e)||e===true});t("browser_spellcheck",{processor:"boolean",default:false});t("protect",{processor:"array"});t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"});t("deprecation_warnings",{processor:"boolean",default:true});t("a11y_advanced_options",{processor:"boolean",default:false});t("api_key",{processor:"string"});t("paste_block_drop",{processor:"boolean",default:false});t("paste_data_images",{processor:"boolean",default:true});t("paste_preprocess",{processor:"function"});t("paste_postprocess",{processor:"function"});t("paste_webkit_styles",{processor:"string",default:"none"});t("paste_remove_styles_if_webkit",{processor:"boolean",default:true});t("paste_merge_formats",{processor:"boolean",default:true});t("smart_paste",{processor:"boolean",default:true});t("paste_as_text",{processor:"boolean",default:false});t("paste_tab_spaces",{processor:"number",default:4});t("text_patterns",{processor:e=>{if(D(e,k)||e===false){const t=e===false?[]:e;return{value:uu(t),valid:true}}else{return{valid:false,message:"Must be an array of objects or false."}}},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]});t("text_patterns_lookup",{processor:e=>{if(T(e)){return{value:fu(e),valid:true}}else{return{valid:false,message:"Must be a single function"}}},default:e=>[]});t("noneditable_class",{processor:"string",default:"mceNonEditable"});t("editable_class",{processor:"string",default:"mceEditable"});t("noneditable_regexp",{processor:e=>{if(D(e,yu)){return{value:e,valid:true}}else if(yu(e)){return{value:[e],valid:true}}else{return{valid:false,message:"Must be a RegExp or an array of RegExp."}}},default:[]});t("table_tab_navigation",{processor:"boolean",default:true});e.on("ScriptsLoaded",(()=>{t("directionality",{processor:"string",default:Qi.isRtl()?"rtl":undefined});t("placeholder",{processor:"string",default:pu.getAttrib(e.getElement(),"placeholder")})}))};const _u=bu("iframe_attrs");const xu=bu("doctype");const Cu=bu("document_base_url");const Su=bu("body_id");const zu=bu("body_class");const Ou=bu("content_security_policy");const Tu=bu("br_in_pre");const Eu=bu("forced_root_block");const Du=bu("forced_root_block_attrs");const Au=bu("newline_behavior");const Nu=bu("br_newline_selector");const Mu=bu("no_newline_selector");const Ru=bu("keep_styles");const Bu=bu("end_container_on_empty_block");const Lu=bu("automatic_uploads");const Hu=bu("images_reuse_filename");const Iu=bu("images_replace_blob_uris");const Pu=bu("icons");const Fu=bu("icons_url");const Vu=bu("images_upload_url");const ju=bu("images_upload_base_path");const Zu=bu("images_upload_credentials");const Uu=bu("images_upload_handler");const qu=bu("content_css_cors");const Wu=bu("referrer_policy");const $u=bu("language");const Gu=bu("language_url");const Ku=bu("indent_use_margin");const Yu=bu("indentation");const Xu=bu("content_css");const Ju=bu("content_style");const Qu=bu("font_css");const ef=bu("directionality");const tf=bu("inline_boundaries_selector");const of=bu("object_resizing");const nf=bu("resize_img_proportional");const sf=bu("placeholder");const rf=bu("event_root");const af=bu("service_message");const cf=bu("theme");const lf=bu("theme_url");const df=bu("model");const uf=bu("model_url");const ff=bu("inline_boundaries");const mf=bu("formats");const gf=bu("preview_styles");const pf=bu("format_empty_lines");const hf=bu("format_noneditable_selector");const yf=bu("custom_ui_selector");const bf=bu("inline");const vf=bu("hidden_input");const kf=bu("submit_patch");const wf=bu("add_form_submit_trigger");const _f=bu("add_unload_trigger");const xf=bu("custom_undo_redo_levels");const Cf=bu("disable_nodechange");const Sf=bu("readonly");const zf=bu("content_css_cors");const Of=bu("plugins");const Tf=bu("external_plugins");const Ef=bu("block_unsupported_drop");const Df=bu("visual");const Af=bu("visual_table_class");const Nf=bu("visual_anchor_class");const Mf=bu("iframe_aria_text");const Rf=bu("setup");const Bf=bu("init_instance_callback");const Lf=bu("urlconverter_callback");const Hf=bu("auto_focus");const If=bu("browser_spellcheck");const Pf=bu("protect");const Ff=bu("paste_block_drop");const Vf=bu("paste_data_images");const jf=bu("paste_preprocess");const Zf=bu("paste_postprocess");const Uf=bu("paste_webkit_styles");const qf=bu("paste_remove_styles_if_webkit");const Wf=bu("paste_merge_formats");const $f=bu("smart_paste");const Gf=bu("paste_as_text");const Kf=bu("paste_tab_spaces");const Yf=bu("allow_html_data_urls");const Xf=bu("text_patterns");const Jf=bu("text_patterns_lookup");const Qf=bu("noneditable_class");const em=bu("editable_class");const tm=bu("noneditable_regexp");const om=bu("preserve_cdata");const nm=e=>e.options.isSet("text_patterns_lookup");const sm=e=>mo.explode(e.options.get("font_size_style_values"));const rm=e=>mo.explode(e.options.get("font_size_classes"));const am=e=>e.options.get("encoding")==="xml";const cm=e=>mo.explode(e.options.get("images_file_types"));const im=bu("table_tab_navigation");const lm=Ks;const dm=ar;const um=e=>{const t=e.parentNode;if(t){t.removeChild(e)}};const fm=e=>{const t=sa(e);return{count:e.length-t.length,text:t}};const mm=e=>{let t;while((t=e.data.lastIndexOf(oa))!==-1){e.deleteData(t,1)}};const gm=(e,t)=>{km(e);return t};const pm=(e,t)=>{const o=fm(e.data.substr(0,t.offset()));const n=fm(e.data.substr(t.offset()));const s=o.text+n.text;if(s.length>0){mm(e);return yd(e,t.offset()-o.count)}else{return t}};const hm=(e,t)=>{const o=t.container();const n=K(be(o.childNodes),e).map((e=>e<t.offset()?yd(o,t.offset()-1):t)).getOr(t);km(e);return n};const ym=(e,t)=>dm(e)&&t.container()===e?pm(e,t):gm(e,t);const bm=(e,t)=>t.container()===e.parentNode?hm(e,t):gm(e,t);const vm=(e,t)=>yd.isTextPosition(t)?ym(e,t):bm(e,t);const km=e=>{if(lm(e)&&la(e)){if(da(e)){e.removeAttribute("data-mce-caret")}else{um(e)}}if(dm(e)){mm(e);if(e.data.length===0){um(e)}}};const wm=pr;const _m=br;const xm=hr;const Cm="*[contentEditable=false],video,audio,embed,object";const Sm=(e,t,o)=>{const n=Rl(t.getBoundingClientRect(),o);let s;let r;if(e.tagName==="BODY"){const t=e.ownerDocument.documentElement;s=e.scrollLeft||t.scrollLeft;r=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();s=e.scrollLeft-t.left;r=e.scrollTop-t.top}n.left+=s;n.right+=s;n.top+=r;n.bottom+=r;n.width=1;let a=t.offsetWidth-t.clientWidth;if(a>0){if(o){a*=-1}n.left+=a;n.right+=a}return n};const zm=e=>{var t,o;const n=Cr(cn.fromDom(e),Cm);for(let e=0;e<n.length;e++){const s=n[e].dom;let r=s.previousSibling;if(ha(r)){const e=r.data;if(e.length===1){(t=r.parentNode)===null||t===void 0?void 0:t.removeChild(r)}else{r.deleteData(e.length-1,1)}}r=s.nextSibling;if(pa(r)){const e=r.data;if(e.length===1){(o=r.parentNode)===null||o===void 0?void 0:o.removeChild(r)}else{r.deleteData(0,1)}}}};const Om=(e,t,o,n)=>{const s=nl();let r;let a;const c=Eu(e);const i=e.dom;const l=(e,n)=>{let r;d();if(xm(n)){return null}if(o(n)){const o=ga(c,n,e);const l=Sm(t,n,e);i.setStyle(o,"top",l.top);a=o;const d=i.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});i.setStyles(d,{...l});i.add(t,d);s.set({caret:d,element:n,before:e});if(e){i.addClass(d,"mce-visual-caret-before")}u();r=n.ownerDocument.createRange();r.setStart(o,0);r.setEnd(o,0)}else{a=ua(n,e);r=n.ownerDocument.createRange();if(Em(a.nextSibling)){r.setStart(a,0);r.setEnd(a,0)}else{r.setStart(a,1);r.setEnd(a,1)}return r}return r};const d=()=>{zm(t);if(a){km(a);a=null}s.on((e=>{i.remove(e.caret);s.clear()}));if(r){clearInterval(r);r=undefined}};const u=()=>{r=setInterval((()=>{s.on((e=>{if(n()){i.toggleClass(e.caret,"mce-visual-caret-hidden")}else{i.addClass(e.caret,"mce-visual-caret-hidden")}}))}),500)};const f=()=>{s.on((e=>{const o=Sm(t,e.element,e.before);i.setStyles(e.caret,{...o})}))};const m=()=>clearInterval(r);const g=()=>".mce-visual-caret {"+"position: absolute;"+"background-color: black;"+"background-color: currentcolor;"+"}"+".mce-visual-caret-hidden {"+"display: none;"+"}"+"*[data-mce-caret] {"+"position: absolute;"+"left: -1000px;"+"right: auto;"+"top: 0;"+"margin: 0;"+"padding: 0;"+"}";return{show:l,hide:d,getCss:g,reposition:f,destroy:m}};const Tm=()=>to.browser.isFirefox();const Em=e=>wm(e)||_m(e);const Dm=e=>Em(e)||nr(e)&&Tm();const Am=gr;const Nm=pr;const Mm=br;const Rm=Js("display","block table table-cell table-caption list-item");const Bm=la;const Lm=ca;const Hm=Ks;const Im=ar;const Pm=Ta;const Fm=e=>e>0;const Vm=e=>e<0;const jm=(e,t)=>{let o;while(o=e(t)){if(!Lm(o)){return o}}return null};const Zm=(e,t,o,n,s)=>{const r=new Ws(e,n);const a=Nm(e)||Lm(e);let c;if(Vm(t)){if(a){c=jm(r.prev.bind(r),true);if(o(c)){return c}}while(c=jm(r.prev.bind(r),s)){if(o(c)){return c}}}if(Fm(t)){if(a){c=jm(r.next.bind(r),true);if(o(c)){return c}}while(c=jm(r.next.bind(r),s)){if(o(c)){return c}}}return null};const Um=(e,t)=>{const o=e=>Am(e.dom);const n=e=>e.dom===t;return Hs(cn.fromDom(e),o,n).map((e=>e.dom)).getOr(t)};const qm=(e,t)=>{while(e&&e!==t){if(Rm(e)){return e}e=e.parentNode}return null};const Wm=(e,t,o)=>qm(e.container(),o)===qm(t.container(),o);const $m=(e,t)=>{if(!t){return U.none()}const o=t.container();const n=t.offset();if(!Hm(o)){return U.none()}return U.from(o.childNodes[n+e])};const Gm=(e,t)=>{var o;const n=(o=t.ownerDocument)!==null&&o!==void 0?o:document;const s=n.createRange();if(e){s.setStartBefore(t);s.setEndBefore(t)}else{s.setStartAfter(t);s.setEndAfter(t)}return s};const Km=(e,t,o)=>qm(t,e)===qm(o,e);const Ym=(e,t,o)=>{const n=e?"previousSibling":"nextSibling";let s=o;while(s&&s!==t){let e=s[n];if(e&&Bm(e)){e=e[n]}if(Nm(e)||Mm(e)){if(Km(t,e,s)){return e}break}if(Pm(e)){break}s=s.parentNode}return null};const Xm=H(Gm,true);const Jm=H(Gm,false);const Qm=(e,t,o)=>{let n;const s=H(Ym,true,t);const r=H(Ym,false,t);const a=o.startContainer;const c=o.startOffset;if(ca(a)){const e=Im(a)?a.parentNode:a;const t=e.getAttribute("data-mce-caret");if(t==="before"){n=e.nextSibling;if(Dm(n)){return Xm(n)}}if(t==="after"){n=e.previousSibling;if(Dm(n)){return Jm(n)}}}if(!o.collapsed){return o}if(ar(a)){if(Bm(a)){if(e===1){n=r(a);if(n){return Xm(n)}n=s(a);if(n){return Jm(n)}}if(e===-1){n=s(a);if(n){return Jm(n)}n=r(a);if(n){return Xm(n)}}return o}if(ha(a)&&c>=a.data.length-1){if(e===1){n=r(a);if(n){return Xm(n)}}return o}if(pa(a)&&c<=1){if(e===-1){n=s(a);if(n){return Jm(n)}}return o}if(c===a.data.length){n=r(a);if(n){return Xm(n)}return o}if(c===0){n=s(a);if(n){return Jm(n)}return o}}return o};const eg=(e,t)=>$m(e?0:-1,t).filter(Nm);const tg=(e,t,o)=>{const n=Qm(e,t,o);return e===-1?yd.fromRangeStart(n):yd.fromRangeEnd(n)};const og=e=>U.from(e.getNode()).map(cn.fromDom);const ng=e=>U.from(e.getNode(true)).map(cn.fromDom);const sg=(e,t)=>{let o=t;while(o=e(o)){if(o.isVisible()){return o}}return o};const rg=(e,t)=>{const o=Wm(e,t);if(!o&&fr(e.getNode())){return true}return o};var ag;(function(e){e[e["Backwards"]=-1]="Backwards";e[e["Forwards"]=1]="Forwards"})(ag||(ag={}));const cg=pr;const ig=ar;const lg=Ks;const dg=fr;const ug=Ta;const fg=Ma;const mg=Ra;const gg=(e,t)=>{const o=[];let n=e;while(n&&n!==t){o.push(n);n=n.parentNode}return o};const pg=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){return e.childNodes[t]}return null};const hg=(e,t)=>{if(Fm(e)){if(ug(t.previousSibling)&&!ig(t.previousSibling)){return yd.before(t)}if(ig(t)){return yd(t,0)}}if(Vm(e)){if(ug(t.nextSibling)&&!ig(t.nextSibling)){return yd.after(t)}if(ig(t)){return yd(t,t.data.length)}}if(Vm(e)){if(dg(t)){return yd.before(t)}return yd.after(t)}return yd.before(t)};const yg=(e,t)=>{const o=t.nextSibling;if(o&&ug(o)){if(ig(o)){return yd(o,0)}else{return yd.before(o)}}else{return bg(ag.Forwards,yd.after(t),e)}};const bg=(e,t,o)=>{let n;let s;let r;let a;if(!lg(o)||!t){return null}if(t.isEqual(yd.after(o))&&o.lastChild){a=yd.after(o.lastChild);if(Vm(e)&&ug(o.lastChild)&&lg(o.lastChild)){return dg(o.lastChild)?yd.before(o.lastChild):a}}else{a=t}const c=a.container();let i=a.offset();if(ig(c)){if(Vm(e)&&i>0){return yd(c,--i)}if(Fm(e)&&i<c.length){return yd(c,++i)}n=c}else{if(Vm(e)&&i>0){s=pg(c,i-1);if(ug(s)){if(!fg(s)){r=Zm(s,e,mg,s);if(r){if(ig(r)){return yd(r,r.data.length)}return yd.after(r)}}if(ig(s)){return yd(s,s.data.length)}return yd.before(s)}}if(Fm(e)&&i<c.childNodes.length){s=pg(c,i);if(ug(s)){if(dg(s)){return yg(o,s)}if(!fg(s)){r=Zm(s,e,mg,s);if(r){if(ig(r)){return yd(r,0)}return yd.before(r)}}if(ig(s)){return yd(s,0)}return yd.after(s)}}n=s?s:a.getNode()}if(n&&(Fm(e)&&a.isAtEnd()||Vm(e)&&a.isAtStart())){n=Zm(n,e,Z,o,true);if(mg(n,o)){return hg(e,n)}}s=n?Zm(n,e,mg,o):n;const l=We(oe(gg(c,o),cg));if(l&&(!s||!l.contains(s))){if(Fm(e)){a=yd.after(l)}else{a=yd.before(l)}return a}if(s){return hg(e,s)}return null};const vg=e=>({next:t=>bg(ag.Forwards,t,e),prev:t=>bg(ag.Backwards,t,e)});const kg=(e,t,o)=>{const n=e?yd.before(o):yd.after(o);return Og(e,t,n)};const wg=e=>fr(e)?yd.before(e):yd.after(e);const _g=e=>{if(yd.isTextPosition(e)){return e.offset()===0}else{return Ta(e.getNode())}};const xg=e=>{if(yd.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else{return Ta(e.getNode(true))}};const Cg=(e,t)=>!yd.isTextPosition(e)&&!yd.isTextPosition(t)&&e.getNode()===t.getNode(true);const Sg=e=>!yd.isTextPosition(e)&&fr(e.getNode());const zg=(e,t,o)=>{if(e){return!Cg(t,o)&&!Sg(t)&&xg(t)&&_g(o)}else{return!Cg(o,t)&&_g(t)&&xg(o)}};const Og=(e,t,o)=>{const n=vg(t);return U.from(e?n.next(o):n.prev(o))};const Tg=(e,t,o)=>Og(e,t,o).bind((n=>{if(Wm(o,n,t)&&zg(e,o,n)){return Og(e,t,n)}else{return U.some(n)}}));const Eg=(e,t,o,n)=>Tg(e,t,o).bind((o=>n(o)?Eg(e,t,o,n):U.some(o)));const Dg=(e,t)=>{const o=e?t.firstChild:t.lastChild;if(ar(o)){return U.some(yd(o,e?0:o.data.length))}else if(o){if(Ta(o)){return U.some(e?yd.before(o):wg(o))}else{return kg(e,t,o)}}else{return U.none()}};const Ag=H(Og,true);const Ng=H(Og,false);const Mg=H(Dg,true);const Rg=H(Dg,false);const Bg="_mce_caret";const Lg=e=>Ks(e)&&e.id===Bg;const Hg=(e,t)=>{let o=t;while(o&&o!==e){if(Lg(o)){return o}o=o.parentNode}return null};const Ig=e=>v(e.start);const Pg=e=>Me(e,"rng");const Fg=e=>Me(e,"id");const Vg=e=>Me(e,"name");const jg=e=>mo.isArray(e.start);const Zg=e=>!Vg(e)&&C(e.forward)?e.forward:true;const Ug=(e,t)=>{if(Ks(t)&&e.isBlock(t)&&!t.innerHTML){t.innerHTML='<br data-mce-bogus="1" />'}return t};const qg=(e,t)=>{const o=U.from(Bd(e.getRoot(),t.start));const n=U.from(Bd(e.getRoot(),t.end));return ho(o,n,((o,n)=>{const s=e.createRng();s.setStart(o.container(),o.offset());s.setEnd(n.container(),n.offset());return{range:s,forward:Zg(t)}}))};const Wg=(e,t)=>{var o;const n=(o=e.ownerDocument)!==null&&o!==void 0?o:document;const s=n.createTextNode(oa);e.appendChild(s);t.setStart(s,0);t.setEnd(s,0)};const $g=e=>!e.hasChildNodes();const Gg=(e,t)=>Rg(e).fold(j,(e=>{t.setStart(e.container(),e.offset());t.setEnd(e.container(),e.offset());return true}));const Kg=(e,t,o)=>{if($g(t)&&Hg(e,t)){Wg(t,o);return true}else{return false}};const Yg=(e,t,o,n)=>{const s=o[t?"start":"end"];const r=e.getRoot();if(s){let e=r;let o=s[0];for(let t=s.length-1;e&&t>=1;t--){const o=e.childNodes;if(Kg(r,e,n)){return true}if(s[t]>o.length-1){if(Kg(r,e,n)){return true}return Gg(e,n)}e=o[s[t]]}if(ar(e)){o=Math.min(s[0],e.data.length)}if(Ks(e)){o=Math.min(s[0],e.childNodes.length)}if(t){n.setStart(e,o)}else{n.setEnd(e,o)}}return true};const Xg=e=>ar(e)&&e.data.length>0;const Jg=(e,t,o)=>{const n=e.get(o.id+"_"+t);const s=n===null||n===void 0?void 0:n.parentNode;const r=o.keep;if(n&&s){let a;let c;if(t==="start"){if(!r){a=s;c=e.nodeIndex(n)}else{if(n.hasChildNodes()){a=n.firstChild;c=1}else if(Xg(n.nextSibling)){a=n.nextSibling;c=0}else if(Xg(n.previousSibling)){a=n.previousSibling;c=n.previousSibling.data.length}else{a=s;c=e.nodeIndex(n)+1}}}else{if(!r){a=s;c=e.nodeIndex(n)}else{if(n.hasChildNodes()){a=n.firstChild;c=1}else if(Xg(n.previousSibling)){a=n.previousSibling;c=n.previousSibling.data.length}else{a=s;c=e.nodeIndex(n)}}}if(!r){const s=n.previousSibling;const r=n.nextSibling;mo.each(mo.grep(n.childNodes),(e=>{if(ar(e)){e.data=e.data.replace(/\uFEFF/g,"")}}));let i;while(i=e.get(o.id+"_"+t)){e.remove(i,true)}if(ar(r)&&ar(s)&&!to.browser.isOpera()){const t=s.data.length;s.appendData(r.data);e.remove(r);a=s;c=t}}return U.some(yd(a,c))}else{return U.none()}};const Qg=(e,t)=>{const o=e.createRng();if(Yg(e,true,t,o)&&Yg(e,false,t,o)){return U.some({range:o,forward:Zg(t)})}else{return U.none()}};const ep=(e,t)=>{const o=Jg(e,"start",t);const n=Jg(e,"end",t);return ho(o,n.or(o),((o,n)=>{const s=e.createRng();s.setStart(Ug(e,o.container()),o.offset());s.setEnd(Ug(e,n.container()),n.offset());return{range:s,forward:Zg(t)}}))};const tp=(e,t)=>U.from(e.select(t.name)[t.index]).map((t=>{const o=e.createRng();o.selectNode(t);return{range:o,forward:true}}));const op=(e,t)=>{const o=e.dom;if(t){if(jg(t)){return Qg(o,t)}else if(Ig(t)){return qg(o,t)}else if(Fg(t)){return ep(o,t)}else if(Vg(t)){return tp(o,t)}else if(Pg(t)){return U.some({range:t.rng,forward:Zg(t)})}}return U.none()};const np=(e,t,o)=>Yd(e,t,o);const sp=(e,t)=>{op(e,t).each((({range:t,forward:o})=>{e.setRng(t,o)}))};const rp=e=>Ks(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark";const ap=e=>t=>e===t;const cp=ap(wr);const ip=e=>e!==""&&" \f\n\r\t\v".indexOf(e)!==-1;const lp=e=>!ip(e)&&!cp(e)&&!_r(e);const dp=e=>({value:e});const up=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()};const fp=e=>{const t=up(e.red)+up(e.green)+up(e.blue);return dp(t)};const mp=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i;const gp=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i;const pp=(e,t,o,n)=>({red:e,green:t,blue:o,alpha:n});const hp=(e,t,o,n)=>{const s=parseInt(e,10);const r=parseInt(t,10);const a=parseInt(o,10);const c=parseFloat(n);return pp(s,r,a,c)};const yp=e=>{if(e==="transparent"){return U.some(pp(0,0,0,0))}const t=mp.exec(e);if(t!==null){return U.some(hp(t[1],t[2],t[3],"1"))}const o=gp.exec(e);if(o!==null){return U.some(hp(o[1],o[2],o[3],o[4]))}return U.none()};const bp=e=>yp(e).map(fp).map((e=>"#"+e.value)).getOr(e);const vp=e=>{const t=[];if(e){for(let o=0;o<e.rangeCount;o++){t.push(e.getRangeAt(o))}}return t};const kp=e=>le(e,(e=>{const t=Ul(e);return t?[cn.fromDom(t)]:[]}));const wp=e=>vp(e).length>1;const _p=e=>oe(kp(e),$r);const xp=e=>Cr(e,"td[data-mce-selected],th[data-mce-selected]");const Cp=(e,t)=>{const o=xp(t);return o.length>0?o:_p(e)};const Sp=e=>Cp(vp(e.selection.getSel()),cn.fromDom(e.getBody()));const zp=(e,t)=>js(e,"table",t);const Op=e=>{const t=e.startContainer,o=e.startOffset;if(ar(t)){return o===0?U.some(cn.fromDom(t)):U.none()}else{return U.from(t.childNodes[o]).map(cn.fromDom)}};const Tp=e=>{const t=e.endContainer,o=e.endOffset;if(ar(t)){return o===t.data.length?U.some(cn.fromDom(t)):U.none()}else{return U.from(t.childNodes[o-1]).map(cn.fromDom)}};const Ep=e=>Dn(e).fold(R([e]),(t=>[e].concat(Ep(t))));const Dp=e=>An(e).fold(R([e]),(t=>{if(Co(t)==="br"){return Cn(t).map((t=>[e].concat(Dp(t)))).getOr([])}else{return[e].concat(Dp(t))}}));const Ap=(e,t)=>ho(Op(t),Tp(t),((t,o)=>{const n=ae(Ep(e),H(gn,t));const s=ae(Dp(e),H(gn,o));return n.isSome()&&s.isSome()})).getOr(false);const Np=(e,t,o,n)=>{const s=o;const r=new Ws(o,s);const a=Ee(e.schema.getMoveCaretBeforeOnEnterElements(),((e,t)=>!Y(["td","th","table"],t.toLowerCase())));let c=o;do{if(ar(c)&&mo.trim(c.data).length!==0){if(n){t.setStart(c,0)}else{t.setEnd(c,c.data.length)}return}if(a[c.nodeName]){if(n){t.setStartBefore(c)}else{if(c.nodeName==="BR"){t.setEndBefore(c)}else{t.setEndAfter(c)}}return}}while(c=n?r.next():r.prev());if(s.nodeName==="BODY"){if(n){t.setStart(s,0)}else{t.setEnd(s,s.childNodes.length)}}};const Mp=e=>{const t=e.selection.getSel();return O(t)&&t.rangeCount>0};const Rp=(e,t)=>{const o=Sp(e);if(o.length>0){Q(o,(o=>{const n=o.dom;const s=e.dom.createRng();s.setStartBefore(n);s.setEndAfter(n);t(s,true)}))}else{t(e.selection.getRng(),false)}};const Bp=(e,t,o)=>{const n=Kd(e,t);o(n);e.moveToBookmark(n)};const Lp=e=>E(e===null||e===void 0?void 0:e.nodeType);const Hp=e=>Ks(e)&&!rp(e)&&!Lg(e)&&!tr(e);const Ip=(e,t)=>{if(Hp(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected");const n=parseInt(o,10);return!isNaN(n)&&n>0}else{return false}};const Pp=e=>e.isContentEditable===true;const Fp=(e,t,o)=>{const{selection:n,dom:s}=e;const r=n.getNode();const a=pr(r);Bp(n,true,(()=>{t()}));const c=a&&pr(r);if(c&&s.isChildOf(r,e.getBody())){e.selection.select(r)}else if(o(n.getStart())){Vp(s,n)}};const Vp=(e,t)=>{var o,n;const s=t.getRng();const{startContainer:r,startOffset:a}=s;const c=t.getNode();if(Ip(e,c)){return}if(Ks(r)){const c=r.childNodes;const i=e.getRoot();let l;if(a<c.length){const t=c[a];l=new Ws(t,(o=e.getParent(t,e.isBlock))!==null&&o!==void 0?o:i)}else{const t=c[c.length-1];l=new Ws(t,(n=e.getParent(t,e.isBlock))!==null&&n!==void 0?n:i);l.next(true)}for(let o=l.current();o;o=l.next()){if(e.getContentEditable(o)==="false"){return}else if(ar(o)&&!qp(o)){s.setStart(o,0);t.setRng(s);return}}}};const jp=(e,t,o)=>{if(e){const n=t?"nextSibling":"previousSibling";for(e=o?e:e[n];e;e=e[n]){if(Ks(e)||!qp(e)){return e}}}return undefined};const Zp=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||dc(e,t);const Up=(e,t,o)=>e.schema.isValidChild(t,o);const qp=(e,t=false)=>{if(O(e)&&ar(e)){const o=t?e.data.replace(/ /g," "):e.data;return La(o)}else{return false}};const Wp=e=>O(e)&&ar(e)&&e.length===0;const $p=(e,t)=>{const o="[data-mce-cef-wrappable]";const n=hf(e);const s=ht(n)?o:`${o},${n}`;return dn(cn.fromDom(t),s)};const Gp=(e,t)=>{const o=e.dom;return Hp(t)&&o.getContentEditable(t)==="false"&&$p(e,t)&&o.select('[contenteditable="true"]',t).length===0};const Kp=(e,t)=>{if(T(e)){return e(t)}else if(O(t)){e=e.replace(/%(\w+)/g,((e,o)=>t[o]||e))}return e};const Yp=(e,t)=>{e=e||"";t=t||"";e=""+(e.nodeName||e);t=""+(t.nodeName||t);return e.toLowerCase()===t.toLowerCase()};const Xp=(e,t)=>{if(z(e)){return null}else{let o=String(e);if(t==="color"||t==="backgroundColor"){o=bp(o)}if(t==="fontWeight"&&e===700){o="bold"}if(t==="fontFamily"){o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}return o}};const Jp=(e,t,o)=>{const n=e.getStyle(t,o);return Xp(n,o)};const Qp=(e,t)=>{let o;e.getParent(t,(t=>{if(Ks(t)){o=e.getStyle(t,"text-decoration");return!!o&&o!=="none"}else{return false}}));return o};const eh=(e,t,o)=>e.getParents(t,o,e.getRoot());const th=(e,t,o)=>{const n=e.formatter.get(t);return O(n)&&X(n,o)};const oh=(e,t)=>{const o=e=>{const t=e=>T(e)||e.length>1&&e.charAt(0)==="%";return X(["styles","attributes"],(o=>Ne(e,o).exists((e=>{const o=_(e)?e:Ae(e);return X(o,t)}))))};return th(e,t,o)};const nh=(e,t,o)=>{const n=["inline","block","selector","attributes","styles","classes"];const s=e=>Ee(e,((e,t)=>X(n,(e=>e===t))));return th(e,t,(t=>{const n=s(t);return th(e,o,(e=>{const t=s(e);return Be(n,t)}))}))};const sh=e=>Re(e,"block");const rh=e=>sh(e)&&e.wrapper===true;const ah=e=>sh(e)&&e.wrapper!==true;const ch=e=>Re(e,"selector");const ih=e=>Re(e,"inline");const lh=e=>ch(e)&&ih(e)&&go(Ne(e,"mixed"),true);const dh=e=>ch(e)&&e.expand!==false&&!ih(e);const uh=rp;const fh=eh;const mh=qp;const gh=Zp;const ph=e=>fr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling;const hh=(e,t)=>{let o=t;while(o){if(Ks(o)&&e.getContentEditable(o)){return e.getContentEditable(o)==="false"?o:t}o=o.parentNode}return t};const yh=(e,t,o,n)=>{const s=t.data;if(e){for(let e=o;e>0;e--){if(n(s.charAt(e-1))){return e}}}else{for(let e=o;e<s.length;e++){if(n(s.charAt(e))){return e}}}return-1};const bh=(e,t,o)=>yh(e,t,o,(e=>cp(e)||ip(e)));const vh=(e,t,o)=>yh(e,t,o,lp);const kh=(e,t,o,n,s,r)=>{let a;const c=e.getParent(o,e.isBlock)||t;const i=(t,o,n)=>{const r=Al(e);const i=s?r.backwards:r.forwards;return U.from(i(t,o,((e,t)=>{if(uh(e.parentNode)){return-1}else{a=e;return n(s,e,t)}}),c))};const l=i(o,n,bh);return l.bind((e=>r?i(e.container,e.offset+(s?-1:0),vh):U.some(e))).orThunk((()=>a?U.some({container:a,offset:s?0:a.length}):U.none()))};const wh=(e,t,o,n,s)=>{const r=n[s];if(ar(n)&&ht(n.data)&&r){n=r}const a=fh(e,n);for(let n=0;n<a.length;n++){for(let s=0;s<t.length;s++){const r=t[s];if(O(r.collapsed)&&r.collapsed!==o.collapsed){continue}if(ch(r)&&e.is(a[n],r.selector)){return a[n]}}}return n};const _h=(e,t,o,n)=>{var s;let r=o;const a=e.getRoot();const c=t[0];if(sh(c)){r=c.wrapper?null:e.getParent(o,c.block,a)}if(!r){const t=(s=e.getParent(o,"LI,TD,TH"))!==null&&s!==void 0?s:a;r=e.getParent(ar(o)?o.parentNode:o,(t=>t!==a&&gh(e.schema,t)),t)}if(r&&sh(c)&&c.wrapper){r=fh(e,r,"ul,ol").reverse()[0]||r}if(!r){r=o;while(r&&r[n]&&!e.isBlock(r[n])){r=r[n];if(Yp(r,"br")){break}}}return r||o};const xh=(e,t,o,n)=>{const s=o.parentNode;if(O(o[n])){return false}else if(s===t||z(s)||e.isBlock(s)){return true}else{return xh(e,t,s,n)}};const Ch=(e,t,o,n,s)=>{let r=o;const a=s?"previousSibling":"nextSibling";const c=e.getRoot();if(ar(o)&&!mh(o)){if(s?n>0:n<o.data.length){return o}}while(r){if(!t[0].block_expand&&e.isBlock(r)){return r}for(let t=r[a];t;t=t[a]){const o=ar(t)&&!xh(e,c,t,a);if(!uh(t)&&!ph(t)&&!mh(t,o)){return r}}if(r===c||r.parentNode===c){o=r;break}r=r.parentNode}return o};const Sh=e=>uh(e.parentNode)||uh(e);const zh=(e,t,o,n=false)=>{let{startContainer:s,startOffset:r,endContainer:a,endOffset:c}=t;const i=o[0];if(Ks(s)&&s.hasChildNodes()){s=ql(s,r);if(ar(s)){r=0}}if(Ks(a)&&a.hasChildNodes()){a=ql(a,t.collapsed?c:c-1);if(ar(a)){c=a.data.length}}s=hh(e,s);a=hh(e,a);if(Sh(s)){s=uh(s)?s:s.parentNode;if(t.collapsed){s=s.previousSibling||s}else{s=s.nextSibling||s}if(ar(s)){r=t.collapsed?s.length:0}}if(Sh(a)){a=uh(a)?a:a.parentNode;if(t.collapsed){a=a.nextSibling||a}else{a=a.previousSibling||a}if(ar(a)){c=t.collapsed?0:a.length}}if(t.collapsed){const t=kh(e,e.getRoot(),s,r,true,n);t.each((({container:e,offset:t})=>{s=e;r=t}));const o=kh(e,e.getRoot(),a,c,false,n);o.each((({container:e,offset:t})=>{a=e;c=t}))}if(ih(i)||i.block_expand){if(!ih(i)||(!ar(s)||r===0)){s=Ch(e,o,s,r,true)}if(!ih(i)||(!ar(a)||c===a.data.length)){a=Ch(e,o,a,c,false)}}if(dh(i)){s=wh(e,o,t,s,"previousSibling");a=wh(e,o,t,a,"nextSibling")}if(sh(i)||ch(i)){s=_h(e,o,s,"previousSibling");a=_h(e,o,a,"nextSibling");if(sh(i)){if(!e.isBlock(s)){s=Ch(e,o,s,r,true)}if(!e.isBlock(a)){a=Ch(e,o,a,c,false)}}}if(Ks(s)&&s.parentNode){r=e.nodeIndex(s);s=s.parentNode}if(Ks(a)&&a.parentNode){c=e.nodeIndex(a)+1;a=a.parentNode}return{startContainer:s,startOffset:r,endContainer:a,endOffset:c}};const Oh=(e,t,o)=>{var n;const s=t.startOffset;const r=ql(t.startContainer,s);const a=t.endOffset;const c=ql(t.endContainer,a-1);const i=e=>{const t=e[0];if(ar(t)&&t===r&&s>=t.data.length){e.splice(0,1)}const o=e[e.length-1];if(a===0&&e.length>0&&o===c&&ar(o)){e.splice(e.length-1,1)}return e};const l=(e,t,o)=>{const n=[];for(;e&&e!==o;e=e[t]){n.push(e)}return n};const d=(t,o)=>e.getParent(t,(e=>e.parentNode===o),o);const u=(e,t,n)=>{const s=n?"nextSibling":"previousSibling";for(let r=e,a=r.parentNode;r&&r!==t;r=a){a=r.parentNode;const t=l(r===e?r:r[s],s);if(t.length){if(!n){t.reverse()}o(i(t))}}};if(r===c){return o(i([r]))}const f=(n=e.findCommonAncestor(r,c))!==null&&n!==void 0?n:e.getRoot();if(e.isChildOf(r,c)){return u(r,f,true)}if(e.isChildOf(c,r)){return u(c,f)}const m=d(r,f)||r;const g=d(c,f)||c;u(r,m,true);const p=l(m===r?m:m.nextSibling,"nextSibling",g===c?g.nextSibling:g);if(p.length){o(i(p))}u(c,g)};const Th=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"];const Eh=e=>Eo(e)&&Or(e)===oa;const Dh=(e,t,o,n)=>kn(t).fold((()=>"skipping"),(s=>{if(n==="br"||Eh(t)){return"valid"}else if(gl(t)){return"existing"}else if(Lg(t.dom)){return"caret"}else if(X(Th,(e=>dn(t,e)))){return"valid-block"}else if(!Up(e,o,n)||!Up(e,Co(s),o)){return"invalid-child"}else{return"valid"}}));const Ah=(e,t)=>{const o=zh(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset);t.setEnd(o.endContainer,o.endOffset);e.selection.setRng(t)};const Nh=(e,t,o,n,s,r)=>{const{uid:a=t,...c}=o;Yo(e,al());Ro(e,`${il()}`,a);Ro(e,`${cl()}`,n);const{attributes:i={},classes:l=[]}=s(a,c);Bo(e,i);xl(e,l);if(r){if(l.length>0){Ro(e,`${dl()}`,l.join(","))}const t=we(i);if(t.length>0){Ro(e,`${ul()}`,t.join(","))}}};const Mh=e=>{Jo(e,al());Po(e,`${il()}`);Po(e,`${cl()}`);Po(e,`${ll()}`);const t=Ho(e,`${ul()}`).map((e=>e.split(","))).getOr([]);const o=Ho(e,`${dl()}`).map((e=>e.split(","))).getOr([]);Q(t,(t=>Po(e,t)));Cl(e,o);Po(e,`${dl()}`);Po(e,`${ul()}`)};const Rh=(e,t,o,n,s)=>{const r=cn.fromTag("span",e);Nh(r,t,o,n,s,false);return r};const Bh=(e,t,o,n,s,r)=>{const a=[];const c=Rh(e.getDoc(),o,r,n,s);const i=nl();const l=()=>{i.clear()};const d=()=>i.get().getOrThunk((()=>{const e=zl(c);a.push(e);i.set(e);return e}));const u=e=>{Q(e,f)};const f=t=>{const a=Dh(e,t,"span",Co(t));switch(a){case"invalid-child":{l();const e=Tn(t);u(e);l();break}case"valid-block":{l();Nh(t,o,r,n,s,true);break}case"valid":{const e=d();rs(t,e);break}}};const m=e=>{const t=J(e,cn.fromDom);u(t)};Oh(e.dom,t,(e=>{l();m(e)}));return a};const Lh=(e,t,o,n)=>{e.undoManager.transact((()=>{const s=e.selection;const r=s.getRng();const a=Sp(e).length>0;const c=_l("mce-annotation");if(r.collapsed&&!a){Ah(e,r)}if(s.getRng().collapsed&&!a){const r=Rh(e.getDoc(),c,n,t,o.decorate);gs(r,wr);s.getRng().insertNode(r.dom);s.select(r.dom)}else{Bp(s,false,(()=>{Rp(e,(s=>{Bh(e,s,c,t,o.decorate,n)}))}))}}))};const Hh=e=>{const t=kl();vl(e,t);const o=bl(e,t);const n=No("span");const s=e=>{Q(e,(e=>{if(n(e)){ds(e)}else{Mh(e)}}))};return{register:(e,o)=>{t.register(e,o)},annotate:(o,n)=>{t.lookup(o).each((t=>{Lh(e,o,t,n)}))},annotationChanged:(e,t)=>{o.addListener(e,t)},remove:t=>{const o=e.selection.getBookmark();ml(e,U.some(t)).each((({elements:e})=>{s(e)}));e.selection.moveToBookmark(o)},removeAll:t=>{const o=e.selection.getBookmark();xe(yl(e,t),((e,t)=>{s(e)}));e.selection.moveToBookmark(o)},getAll:t=>{const o=yl(e,t);return Ce(o,(e=>J(e,(e=>e.dom))))}}};const Ih=e=>({getBookmark:H(np,e),moveToBookmark:H(sp,e)});Ih.isBookmarkNode=rp;const Ph=(e,t,o)=>{if(o.collapsed){return false}else{return X(o.getClientRects(),(o=>Pl(o,e,t)))}};const Fh=(e,t)=>e.dispatch("PreProcess",t);const Vh=(e,t)=>e.dispatch("PostProcess",t);const jh=e=>{e.dispatch("remove")};const Zh=e=>{e.dispatch("detach")};const Uh=(e,t)=>{e.dispatch("SwitchMode",{mode:t})};const qh=(e,t,o,n,s)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:n,origin:s})};const Wh=(e,t,o,n,s)=>{e.dispatch("ObjectResized",{target:t,width:o,height:n,origin:s})};const $h=e=>{e.dispatch("PreInit")};const Gh=e=>{e.dispatch("PostRender")};const Kh=e=>{e.dispatch("Init")};const Yh=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})};const Xh=(e,t,o)=>{e.dispatch(t,o)};const Jh=(e,t,o,n)=>{e.dispatch("FormatApply",{format:t,node:o,vars:n})};const Qh=(e,t,o,n)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:n})};const ey=(e,t)=>e.dispatch("BeforeSetContent",t);const ty=(e,t)=>e.dispatch("SetContent",t);const oy=(e,t)=>e.dispatch("BeforeGetContent",t);const ny=(e,t)=>e.dispatch("GetContent",t);const sy=(e,t)=>{e.dispatch("AutocompleterStart",t)};const ry=(e,t)=>{e.dispatch("AutocompleterUpdate",t)};const ay=e=>{e.dispatch("AutocompleterEnd")};const cy=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o});const iy=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o});const ly=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t});const dy={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||dy.metaKeyPressed(e),metaKeyPressed:e=>to.os.isMacOS()||to.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey};const uy="data-mce-selected";const fy="table,img,figure.image,hr,video,span.mce-preview-object";const my=Math.abs;const gy=Math.round;const py={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};const hy=e=>e.type==="longpress"||e.type.indexOf("touch")===0;const yy=(e,t)=>{const o=t.dom;const n=t.getDoc();const s=document;const r=t.getBody();let a,c,i,l,d;let u,f,m,g,p,h,y,b;let v;let k;let w;let _;const x=e=>O(e)&&(mr(e)||o.is(e,"figure.image"));const C=e=>br(e)||o.hasClass(e,"mce-preview-object");const S=(e,t)=>{if(hy(e)){const o=e.touches[0];return x(e.target)&&!Ph(o.clientX,o.clientY,t)}else{return x(e.target)&&!Ph(e.clientX,e.clientY,t)}};const z=e=>{const o=e.target;if(S(e,t.selection.getRng())&&!e.isDefaultPrevented()){t.selection.select(o)}};const T=e=>{if(o.hasClass(e,"mce-preview-object")&&O(e.firstElementChild)){return[e,e.firstElementChild]}else if(o.is(e,"figure.image")){return[e.querySelector("img")]}else{return[e]}};const E=e=>{const n=of(t);if(!n){return false}if(e.getAttribute("data-mce-resize")==="false"){return false}if(e===t.getBody()){return false}if(o.hasClass(e,"mce-preview-object")&&O(e.firstElementChild)){return dn(cn.fromDom(e.firstElementChild),n)}else{return dn(cn.fromDom(e),n)}};const D=e=>{if(C(e)){return o.create("img",{src:to.transparentSrc})}else{return e.cloneNode(true)}};const A=(e,n,s)=>{if(O(s)){const r=T(e);Q(r,(e=>{if(e.style[n]||!t.schema.isValid(e.nodeName.toLowerCase(),n)){o.setStyle(e,n,s)}else{o.setAttrib(e,n,""+s)}}))}};const N=(e,t,o)=>{A(e,"width",t);A(e,"height",o)};const M=e=>{let n,s,d;let S,z;n=e.screenX-u;s=e.screenY-f;v=n*l[2]+p;k=s*l[3]+h;v=v<5?5:v;k=k<5?5:k;if((x(a)||C(a))&&nf(t)!==false){d=!dy.modifierPressed(e)}else{d=dy.modifierPressed(e)}if(d){if(my(n)>my(s)){k=gy(v*y);v=gy(k/y)}else{v=gy(k/y);k=gy(v*y)}}N(c,v,k);S=l.startPos.x+n;z=l.startPos.y+s;S=S>0?S:0;z=z>0?z:0;o.setStyles(i,{left:S,top:z,display:"block"});i.innerHTML=v+" &times; "+k;if(l[2]<0&&c.clientWidth<=v){o.setStyle(c,"left",m+(p-v))}if(l[3]<0&&c.clientHeight<=k){o.setStyle(c,"top",g+(h-k))}n=r.scrollWidth-w;s=r.scrollHeight-_;if(n+s!==0){o.setStyles(i,{left:S-n,top:z-s})}if(!b){qh(t,a,p,h,"corner-"+l.name);b=true}};const R=()=>{const e=b;b=false;if(e){A(a,"width",v);A(a,"height",k)}o.unbind(n,"mousemove",M);o.unbind(n,"mouseup",R);if(s!==n){o.unbind(s,"mousemove",M);o.unbind(s,"mouseup",R)}o.remove(c);o.remove(i);o.remove(d);B(a);if(e){Wh(t,a,v,k,"corner-"+l.name);o.setAttrib(a,"style",o.getAttrib(a,"style"))}t.nodeChanged()};const B=e=>{F();const m=o.getPos(e,r);const g=m.x;const b=m.y;const x=e.getBoundingClientRect();const C=x.width||x.right-x.left;const S=x.height||x.bottom-x.top;if(a!==e){H();a=e;v=k=0}const z=t.dispatch("ObjectSelected",{target:e});if(E(e)&&!z.isDefaultPrevented()){xe(py,((e,t)=>{const m=m=>{const v=T(a)[0];u=m.screenX;f=m.screenY;p=v.clientWidth;h=v.clientHeight;y=h/p;l=e;l.name=t;l.startPos={x:C*e[0]+g,y:S*e[1]+b};w=r.scrollWidth;_=r.scrollHeight;d=o.add(r,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"});o.setStyles(d,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"});c=D(a);o.addClass(c,"mce-clonedresizable");o.setAttrib(c,"data-mce-bogus","all");c.contentEditable="false";o.setStyles(c,{left:g,top:b,margin:0});N(c,C,S);c.removeAttribute(uy);r.appendChild(c);o.bind(n,"mousemove",M);o.bind(n,"mouseup",R);if(s!==n){o.bind(s,"mousemove",M);o.bind(s,"mouseup",R)}i=o.add(r,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},p+" &times; "+h)};let v=o.get("mceResizeHandle"+t);if(v){o.remove(v)}v=o.add(r,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:true,style:"cursor:"+t+"-resize; margin:0; padding:0"});o.bind(v,"mousedown",(e=>{e.stopImmediatePropagation();e.preventDefault();m(e)}));e.elm=v;o.setStyles(v,{left:C*e[0]+g-v.offsetWidth/2,top:S*e[1]+b-v.offsetHeight/2})}))}else{H(false)}};const L=sl(B,0);const H=(e=true)=>{L.cancel();F();if(a&&e){a.removeAttribute(uy)}xe(py,((e,t)=>{const n=o.get("mceResizeHandle"+t);if(n){o.unbind(n);o.remove(n)}}))};const I=(e,t)=>o.isChildOf(e,t);const P=n=>{if(b||t.removed||t.composing){return}const s=n.type==="mousedown"?n.target:e.getNode();const a=Us(cn.fromDom(s),fy).map((e=>e.dom)).getOrUndefined();const c=O(a)?o.getAttrib(a,uy,"1"):"1";Q(o.select(`img[${uy}],hr[${uy}]`),(e=>{e.removeAttribute(uy)}));if(O(a)&&I(a,r)){V();const t=e.getStart(true);if(I(t,a)&&I(e.getEnd(true),a)){o.setAttrib(a,uy,c);L.throttle(a);return}}H()};const F=()=>{xe(py,(e=>{if(e.elm){o.unbind(e.elm);delete e.elm}}))};const V=()=>{try{t.getDoc().execCommand("enableObjectResizing",false,"false")}catch(e){}};t.on("init",(()=>{V();t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",P);t.on("keyup compositionend",(e=>{if(a&&a.nodeName==="TABLE"){P(e)}}));t.on("hide blur",H);t.on("contextmenu longpress",z,true)}));t.on("remove",F);const j=()=>{L.cancel();a=c=d=null};return{isResizable:E,showResizeRect:B,hideResizeRect:H,updateResizeRect:P,destroy:j}};const by=(e,t)=>{t.fold((t=>{e.setStartBefore(t.dom)}),((t,o)=>{e.setStart(t.dom,o)}),(t=>{e.setStartAfter(t.dom)}))};const vy=(e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,o)=>{e.setEnd(t.dom,o)}),(t=>{e.setEndAfter(t.dom)}))};const ky=(e,t,o)=>{const n=e.document.createRange();by(n,t);vy(n,o);return n};const wy=(e,t,o,n,s)=>{const r=e.document.createRange();r.setStart(t.dom,o);r.setEnd(n.dom,s);return r};const _y=nu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);const xy=(e,t,o)=>t(cn.fromDom(o.startContainer),o.startOffset,cn.fromDom(o.endContainer),o.endOffset);const Cy=(e,t)=>t.match({domRange:e=>({ltr:R(e),rtl:U.none}),relative:(t,o)=>({ltr:$e((()=>ky(e,t,o))),rtl:$e((()=>U.some(ky(e,o,t))))}),exact:(t,o,n,s)=>({ltr:$e((()=>wy(e,t,o,n,s))),rtl:$e((()=>U.some(wy(e,n,s,t,o))))})});const Sy=(e,t)=>{const o=t.ltr();if(o.collapsed){const n=t.rtl().filter((e=>e.collapsed===false));return n.map((e=>_y.rtl(cn.fromDom(e.endContainer),e.endOffset,cn.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>xy(e,_y.ltr,o)))}else{return xy(e,_y.ltr,o)}};const zy=(e,t)=>{const o=Cy(e,t);return Sy(e,o)};_y.ltr;_y.rtl;const Oy=(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n});const Ty={create:Oy};const Ey=(e,t,o)=>{var n,s;return U.from((s=(n=e.dom).caretPositionFromPoint)===null||s===void 0?void 0:s.call(n,t,o)).bind((t=>{if(t.offsetNode===null){return U.none()}const o=e.dom.createRange();o.setStart(t.offsetNode,t.offset);o.collapse();return U.some(o)}))};const Dy=(e,t,o)=>{var n,s;return U.from((s=(n=e.dom).caretRangeFromPoint)===null||s===void 0?void 0:s.call(n,t,o))};const Ay=(()=>{if(document.caretPositionFromPoint){return Ey}else if(document.caretRangeFromPoint){return Dy}else{return U.none}})();const Ny=(e,t,o)=>{const n=cn.fromDom(e.document);return Ay(n,t,o).map((e=>Ty.create(cn.fromDom(e.startContainer),e.startOffset,cn.fromDom(e.endContainer),e.endOffset)))};const My=nu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);const Ry=(e,t,o,n)=>e.fold(t,o,n);const By=e=>e.fold(B,B,B);const Ly=My.before;const Hy=My.on;const Iy=My.after;const Py={before:Ly,on:Hy,after:Iy,cata:Ry,getStart:By};const Fy=nu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]);const Vy=e=>Fy.exact(e.start,e.soffset,e.finish,e.foffset);const jy=e=>e.match({domRange:e=>cn.fromDom(e.startContainer),relative:(e,t)=>Py.getStart(e),exact:(e,t,o,n)=>e});const Zy=Fy.domRange;const Uy=Fy.relative;const qy=Fy.exact;const Wy=e=>{const t=jy(e);return vn(t)};const $y=Ty.create;const Gy={domRange:Zy,relative:Uy,exact:qy,exactFromRange:Vy,getWin:Wy,range:$y};const Ky=(e,t)=>{const o=Co(e);if("input"===o){return Py.after(e)}else if(!Y(["br","img"],o)){return Py.on(e,t)}else{return t===0?Py.before(e):Py.after(e)}};const Yy=(e,t)=>{const o=e.fold(Py.before,Ky,Py.after);const n=t.fold(Py.before,Ky,Py.after);return Gy.relative(o,n)};const Xy=(e,t,o,n)=>{const s=Ky(e,t);const r=Ky(o,n);return Gy.relative(s,r)};const Jy=e=>e.match({domRange:e=>{const t=cn.fromDom(e.startContainer);const o=cn.fromDom(e.endContainer);return Xy(t,e.startOffset,o,e.endOffset)},relative:Yy,exact:Xy});const Qy=(e,t)=>{const o=t||document;const n=o.createDocumentFragment();Q(e,(e=>{n.appendChild(e.dom)}));return cn.fromDom(n)};const eb=e=>{const t=Gy.getWin(e).dom;const o=(e,o,n,s)=>wy(t,e,o,n,s);const n=Jy(e);return zy(t,n).match({ltr:o,rtl:o})};const tb=(e,t,o)=>Ny(e,t,o);const ob=(e,t,o)=>{const n=vn(cn.fromDom(o));return tb(n.dom,e,t).map((e=>{const t=o.createRange();t.setStart(e.start.dom,e.soffset);t.setEnd(e.finish.dom,e.foffset);return t})).getOrUndefined()};const nb=(e,t)=>O(e)&&O(t)&&(e.startContainer===t.startContainer&&e.startOffset===t.startOffset)&&(e.endContainer===t.endContainer&&e.endOffset===t.endOffset);const sb=(e,t,o)=>{let n=e;while(n&&n!==t){if(o(n)){return n}n=n.parentNode}return null};const rb=(e,t,o)=>sb(e,t,o)!==null;const ab=(e,t,o)=>rb(e,t,(e=>e.nodeName===o));const cb=(e,t)=>la(e)&&!rb(e,t,Lg);const ib=(e,t,o)=>{const n=t.parentNode;if(n){const s=new Ws(t,e.getParent(n,e.isBlock)||e.getRoot());let r;while(r=s[o?"prev":"next"]()){if(fr(r)){return true}}}return false};const lb=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t};const db=(e,t)=>{let o=t;while(o&&o!==e){if(pr(o)){return true}o=o.parentNode}return false};const ub=(e,t,o,n,s)=>{const r=e.getRoot();const a=e.schema.getNonEmptyElements();const c=s.parentNode;let i;let l;if(!c){return U.none()}const d=e.getParent(c,e.isBlock)||r;if(n&&fr(s)&&t&&e.isEmpty(d)){return U.some(yd(c,e.nodeIndex(s)))}const u=new Ws(s,d);while(l=u[n?"prev":"next"]()){if(e.getContentEditableParent(l)==="false"||cb(l,r)){return U.none()}if(ar(l)&&l.data.length>0){if(!ab(l,r,"A")){return U.some(yd(l,n?l.data.length:0))}return U.none()}if(e.isBlock(l)||a[l.nodeName.toLowerCase()]){return U.none()}i=l}if(lr(i)){return U.none()}if(o&&i){return U.some(yd(i,0))}return U.none()};const fb=(e,t,o,n)=>{const s=e.getRoot();let r;let a=false;let c=o?n.startContainer:n.endContainer;let i=o?n.startOffset:n.endOffset;const l=Ks(c)&&i===c.childNodes.length;const d=e.schema.getNonEmptyElements();let u=o;if(la(c)){return U.none()}if(Ks(c)&&i>c.childNodes.length-1){u=false}if(dr(c)){c=s;i=0}if(c===s){if(u){r=c.childNodes[i>0?i-1:0];if(r){if(la(r)){return U.none()}if(d[r.nodeName]||nr(r)){return U.none()}}}if(c.hasChildNodes()){i=Math.min(!u&&i>0?i-1:i,c.childNodes.length-1);c=c.childNodes[i];i=ar(c)&&l?c.data.length:0;if(!t&&c===s.lastChild&&nr(c)){return U.none()}if(db(s,c)||la(c)){return U.none()}if(c.hasChildNodes()&&!nr(c)){r=c;const t=new Ws(c,s);do{if(pr(r)||la(r)){a=false;break}if(ar(r)&&r.data.length>0){i=u?0:r.data.length;c=r;a=true;break}if(d[r.nodeName.toLowerCase()]&&!yr(r)){i=e.nodeIndex(r);c=r.parentNode;if(!u){i++}a=true;break}}while(r=u?t.next():t.prev())}}}if(t){if(ar(c)&&i===0){ub(e,l,t,true,c).each((e=>{c=e.container();i=e.offset();a=true}))}if(Ks(c)){r=c.childNodes[i];if(!r){r=c.childNodes[i-1]}if(r&&fr(r)&&!lb(r,"A")&&!ib(e,r,false)&&!ib(e,r,true)){ub(e,l,t,true,r).each((e=>{c=e.container();i=e.offset();a=true}))}}}if(u&&!t&&ar(c)&&i===c.data.length){ub(e,l,t,false,c).each((e=>{c=e.container();i=e.offset();a=true}))}return a&&c?U.some(yd(c,i)):U.none()};const mb=(e,t)=>{const o=t.collapsed,n=t.cloneRange();const s=yd.fromRangeStart(t);fb(e,o,true,n).each((e=>{if(!o||!yd.isAbove(s,e)){n.setStart(e.container(),e.offset())}}));if(!o){fb(e,o,false,n).each((e=>{n.setEnd(e.container(),e.offset())}))}if(o){n.collapse(true)}return nb(t,n)?U.none():U.some(n)};const gb=(e,t)=>e.splitText(t);const pb=e=>{let t=e.startContainer,o=e.startOffset,n=e.endContainer,s=e.endOffset;if(t===n&&ar(t)){if(o>0&&o<t.data.length){n=gb(t,o);t=n.previousSibling;if(s>o){s=s-o;const e=gb(n,s).previousSibling;t=n=e;s=e.data.length;o=0}else{s=0}}}else{if(ar(t)&&o>0&&o<t.data.length){t=gb(t,o);o=0}if(ar(n)&&s>0&&s<n.data.length){const e=gb(n,s).previousSibling;n=e;s=e.data.length}}return{startContainer:t,startOffset:o,endContainer:n,endOffset:s}};const hb=e=>{const t=(t,o)=>Oh(e,t,o);const o=pb;const n=t=>mb(e,t).fold(j,(e=>{t.setStart(e.startContainer,e.startOffset);t.setEnd(e.endContainer,e.endOffset);return true}));const s=(t,o={type:"word"})=>{if(o.type==="word"){const o=zh(e,t,[{inline:"span"}]);const n=e.createRng();n.setStart(o.startContainer,o.startOffset);n.setEnd(o.endContainer,o.endOffset);return n}return t};return{walk:t,split:o,expand:s,normalize:n}};hb.compareRanges=nb;hb.getCaretRangeFromPoint=ob;hb.getSelectedNode=Ul;hb.getNode=ql;const yb=(e,t)=>{const o=(t,o)=>{if(!E(o)&&!o.match(/^[0-9]+$/)){throw new Error(e+".set accepts only positive integer values. Value was "+o)}const n=t.dom;if(tn(n)){n.style[e]=o+"px"}};const n=o=>{const n=t(o);if(n<=0||n===null){const t=Kn(o,e);return parseFloat(t)||0}return n};const s=n;const r=(e,t)=>se(t,((t,o)=>{const n=Kn(e,o);const s=n===undefined?0:parseInt(n,10);return isNaN(s)?t:t+s}),0);const a=(e,t,o)=>{const n=r(e,o);const s=t>n?t-n:0;return s};return{set:o,get:n,getOuter:s,aggregate:r,max:a}};const bb=yb("height",(e=>{const t=e.dom;return Un(e)?t.getBoundingClientRect().height:t.offsetHeight}));const vb=e=>bb.get(e);const kb=()=>cn.fromDom(document);const wb=(e,t)=>{const o=e.view(t);return o.fold(R([]),(t=>{const o=e.owner(t);const n=wb(e,o);return[t].concat(n)}))};const _b=(e,t)=>{const o=t.owner(e);return wb(t,o)};const xb=e=>{var t;const o=e.dom===document?U.none():U.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return o.map(cn.fromDom)};const Cb=e=>yn(e);var Sb=Object.freeze({__proto__:null,view:xb,owner:Cb});const zb=e=>{const t=kb();const o=Ts(t);const n=_b(e,Sb);const s=Os(e);const r=ne(n,((e,t)=>{const o=Os(t);return{left:e.left+o.left,top:e.top+o.top}}),{left:0,top:0});return xs(r.left+s.left+o.left,r.top+s.top+o.top)};const Ob=e=>Co(e)==="textarea";const Tb=(e,t)=>{const o=e.dispatch("ScrollIntoView",t);return o.isDefaultPrevented()};const Eb=(e,t)=>{e.dispatch("AfterScrollIntoView",t)};const Db=(e,t)=>{const o=Tn(e);if(o.length===0||Ob(e)){return{element:e,offset:t}}else if(t<o.length&&!Ob(o[t])){return{element:o[t],offset:0}}else{const n=o[o.length-1];if(Ob(n)){return{element:e,offset:t}}else{if(Co(n)==="img"){return{element:n,offset:1}}else if(Eo(n)){return{element:n,offset:Or(n).length}}else{return{element:n,offset:Tn(n).length}}}}};const Ab=(e,t)=>{const o=zs(e);const n=vb(e);return{element:e,bottom:o.top+n,height:n,pos:o,cleanup:t}};const Nb=(e,t)=>{const o=Db(e,t);const n=cn.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+oa+"</span>");ts(o.element,n);return Ab(n,(()=>ls(n)))};const Mb=e=>Ab(cn.fromDom(e),A);const Rb=(e,t,o,n)=>{Ib(e,((s,r)=>Lb(e,t,o,n)),o)};const Bb=(e,t,o,n,s)=>{const r={elm:n.element.dom,alignToTop:s};if(Tb(e,r)){return}const a=Ts(t).top;o(t,a,n,s);Eb(e,r)};const Lb=(e,t,o,n)=>{const s=cn.fromDom(e.getBody());const r=cn.fromDom(e.getDoc());es(s);const a=Nb(cn.fromDom(o.startContainer),o.startOffset);Bb(e,r,t,a,n);a.cleanup()};const Hb=(e,t,o,n)=>{const s=cn.fromDom(e.getDoc());Bb(e,s,o,Mb(t),n)};const Ib=(e,t,o)=>{const n=o.startContainer;const s=o.startOffset;const r=o.endContainer;const a=o.endOffset;t(cn.fromDom(n),cn.fromDom(r));const c=e.dom.createRng();c.setStart(n,s);c.setEnd(r,a);e.selection.setRng(o)};const Pb=(e,t,o,n)=>{const s=e.pos;if(o){Es(s.left,s.top,n)}else{const o=s.top-t+e.height;Es(s.left,o,n)}};const Fb=(e,t,o,n,s)=>{const r=o+t;const a=n.pos.top;const c=n.bottom;const i=c-a>=o;if(a<t){Pb(n,o,s!==false,e)}else if(a>r){const t=i?s!==false:s===true;Pb(n,o,t,e)}else if(c>r&&!i){Pb(n,o,s===true,e)}};const Vb=(e,t,o,n)=>{const s=vn(e).dom.innerHeight;Fb(e,t,s,o,n)};const jb=(e,t,o,n)=>{const s=vn(e).dom.innerHeight;Fb(e,t,s,o,n);const r=zb(o.element);const a=Ms(window);if(r.top<a.y){Ds(o.element,n!==false)}else if(r.top>a.bottom){Ds(o.element,n===true)}};const Zb=(e,t,o)=>Rb(e,Vb,t,o);const Ub=(e,t,o)=>Hb(e,t,Vb,o);const qb=(e,t,o)=>Rb(e,jb,t,o);const Wb=(e,t,o)=>Hb(e,t,jb,o);const $b=(e,t,o)=>{const n=e.inline?Ub:Wb;n(e,t,o)};const Gb=(e,t,o)=>{const n=e.inline?Zb:qb;n(e,t,o)};const Kb=e=>e.dom.focus();const Yb=e=>{const t=Hn(e).dom;return e.dom===t.activeElement};const Xb=(e=kb())=>U.from(e.dom.activeElement).map(cn.fromDom);const Jb=e=>Xb(Hn(e)).filter((t=>e.dom.contains(t.dom)));const Qb=(e,t)=>{const o=Eo(t)?Or(t).length:Tn(t).length+1;if(e>o){return o}else if(e<0){return 0}return e};const ev=e=>Gy.range(e.start,Qb(e.soffset,e.start),e.finish,Qb(e.foffset,e.finish));const tv=(e,t)=>!Gs(t.dom)&&(pn(e,t)||gn(e,t));const ov=e=>t=>tv(e,t.start)&&tv(e,t.finish);const nv=e=>e.inline||to.browser.isFirefox();const sv=e=>Gy.range(cn.fromDom(e.startContainer),e.startOffset,cn.fromDom(e.endContainer),e.endOffset);const rv=e=>{const t=e.getSelection();const o=!t||t.rangeCount===0?U.none():U.from(t.getRangeAt(0));return o.map(sv)};const av=e=>{const t=vn(e);return rv(t.dom).filter(ov(e))};const cv=(e,t)=>U.from(t).filter(ov(e)).map(ev);const iv=e=>{const t=document.createRange();try{t.setStart(e.start.dom,e.soffset);t.setEnd(e.finish.dom,e.foffset);return U.some(t)}catch(e){return U.none()}};const lv=e=>{const t=nv(e)?av(cn.fromDom(e.getBody())):U.none();e.bookmark=t.isSome()?t:e.bookmark};const dv=e=>{const t=e.bookmark?e.bookmark:U.none();return t.bind((t=>cv(cn.fromDom(e.getBody()),t))).bind(iv)};const uv=e=>{dv(e).each((t=>e.selection.setRng(t)))};const fv=e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1};const mv={isEditorUIElement:fv};const gv=(e,t)=>{if(!E(t)){t=0}return setTimeout(e,t)};const pv=(e,t)=>{if(!E(t)){t=0}return setInterval(e,t)};const hv={setEditorTimeout:(e,t,o)=>gv((()=>{if(!e.removed){t()}}),o),setEditorInterval:(e,t,o)=>{const n=pv((()=>{if(!e.removed){t()}else{clearInterval(n)}}),o);return n}};const yv=e=>e.type==="nodechange"&&e.selectionChange;const bv=(e,t)=>{const o=()=>{t.throttle()};Mi.DOM.bind(document,"mouseup",o);e.on("remove",(()=>{Mi.DOM.unbind(document,"mouseup",o)}))};const vv=(e,t)=>{e.on("mouseup touchend",(e=>{t.throttle()}))};const kv=(e,t)=>{vv(e,t);e.on("keyup NodeChange AfterSetSelectionRange",(t=>{if(!yv(t)){lv(e)}}))};const wv=e=>{const t=sl((()=>{lv(e)}),0);e.on("init",(()=>{if(e.inline){bv(e,t)}kv(e,t)}));e.on("remove",(()=>{t.cancel()}))};let _v;const xv=Mi.DOM;const Cv=e=>Ks(e)&&mv.isEditorUIElement(e);const Sv=e=>{const t=e.classList;if(t!==undefined){return t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body")}else{return false}};const zv=(e,t)=>{const o=yf(e);const n=xv.getParent(t,(t=>Cv(t)||(o?e.dom.is(t,o):false)));return n!==null};const Ov=e=>{try{const t=Hn(cn.fromDom(e.getElement()));return Xb(t).fold((()=>document.body),(e=>e.dom))}catch(e){return document.body}};const Tv=(e,t)=>{const o=t.editor;wv(o);o.on("focusin",(()=>{const t=e.focusedEditor;if(t!==o){if(t){t.dispatch("blur",{focusedEditor:o})}e.setActive(o);e.focusedEditor=o;o.dispatch("focus",{blurredEditor:t});o.focus(true)}}));o.on("focusout",(()=>{hv.setEditorTimeout(o,(()=>{const t=e.focusedEditor;if(!zv(o,Ov(o))&&t===o){o.dispatch("blur",{focusedEditor:null});e.focusedEditor=null}}))}));if(!_v){_v=t=>{const o=e.activeEditor;if(o){jn(t).each((t=>{const n=t;if(n.ownerDocument===document){if(n!==document.body&&!zv(o,n)&&e.focusedEditor===o){o.dispatch("blur",{focusedEditor:null});e.focusedEditor=null}}}))}};xv.bind(document,"focusin",_v)}};const Ev=(e,t)=>{if(e.focusedEditor===t.editor){e.focusedEditor=null}if(!e.activeEditor&&_v){xv.unbind(document,"focusin",_v);_v=null}};const Dv=e=>{e.on("AddEditor",H(Tv,e));e.on("RemoveEditor",H(Ev,e))};const Av=(e,t)=>e.dom.getParent(t,(t=>e.dom.getContentEditable(t)==="true"));const Nv=e=>e.collapsed?U.from(ql(e.startContainer,e.startOffset)).map(cn.fromDom):U.none();const Mv=(e,t)=>Nv(t).bind((t=>{if(Wr(t)){return U.some(t)}else if(!pn(e,t)){return U.some(e)}else{return U.none()}}));const Rv=(e,t)=>{Mv(cn.fromDom(e.getBody()),t).bind((e=>Mg(e.dom))).fold((()=>{e.selection.normalize()}),(t=>e.selection.setRng(t.toRange())))};const Bv=e=>{if(e.setActive){try{e.setActive()}catch(t){e.focus()}}else{e.focus()}};const Lv=e=>Yb(e)||Jb(e).isSome();const Hv=e=>O(e.iframeElement)&&Yb(cn.fromDom(e.iframeElement));const Iv=e=>{const t=e.getBody();return t&&Lv(cn.fromDom(t))};const Pv=e=>{const t=Hn(cn.fromDom(e.getElement()));return Xb(t).filter((t=>!Sv(t.dom)&&zv(e,t.dom))).isSome()};const Fv=e=>e.inline?Iv(e):Hv(e);const Vv=e=>Fv(e)||Pv(e);const jv=e=>{const t=e.selection;const o=e.getBody();let n=t.getRng();e.quirks.refreshContentEditable();if(O(e.bookmark)&&!Fv(e)){dv(e).each((t=>{e.selection.setRng(t);n=t}))}const s=Av(e,t.getNode());if(s&&e.dom.isChildOf(s,o)){Bv(s);Rv(e,n);Zv(e);return}if(!e.inline){if(!to.browser.isOpera()){Bv(o)}e.getWin().focus()}if(to.browser.isFirefox()||e.inline){Bv(o);Rv(e,n)}Zv(e)};const Zv=e=>e.editorManager.setActive(e);const Uv=(e,t)=>{if(e.removed){return}if(t){Zv(e)}else{jv(e)}};const qv=(e,t,o,n,s)=>{const r=o?t.startContainer:t.endContainer;const a=o?t.startOffset:t.endOffset;return U.from(r).map(cn.fromDom).map((e=>!n||!t.collapsed?En(e,s(e,a)).getOr(e):e)).bind((e=>To(e)?U.some(e):kn(e).filter(To))).map((e=>e.dom)).getOr(e)};const Wv=(e,t,o=false)=>qv(e,t,true,o,((e,t)=>Math.min(Nn(e),t)));const $v=(e,t,o=false)=>qv(e,t,false,o,((e,t)=>t>0?t-1:t));const Gv=(e,t)=>{const o=e;while(e&&ar(e)&&e.length===0){e=t?e.nextSibling:e.previousSibling}return e||o};const Kv=(e,t)=>{if(!t){return e}let o=t.startContainer;let n=t.endContainer;const s=t.startOffset;const r=t.endOffset;let a=t.commonAncestorContainer;if(!t.collapsed){if(o===n){if(r-s<2){if(o.hasChildNodes()){a=o.childNodes[s]}}}if(ar(o)&&ar(n)){if(o.length===s){o=Gv(o.nextSibling,true)}else{o=o.parentNode}if(r===0){n=Gv(n.previousSibling,false)}else{n=n.parentNode}if(o&&o===n){a=o}}}const c=ar(a)?a.parentNode:a;return Ks(c)?c:e};const Yv=(e,t,o,n)=>{const s=[];const r=e.getRoot();const a=e.getParent(o||Wv(r,t,t.collapsed),e.isBlock);const c=e.getParent(n||$v(r,t,t.collapsed),e.isBlock);if(a&&a!==r){s.push(a)}if(a&&c&&a!==c){let t=a;const o=new Ws(a,r);while((t=o.next())&&t!==c){if(e.isBlock(t)){s.push(t)}}}if(c&&a!==c&&c!==r){s.push(c)}return s};const Xv=(e,t,o)=>U.from(t).bind((t=>U.from(t.parentNode).map((n=>{const s=e.nodeIndex(t);const r=e.createRng();r.setStart(n,s);r.setEnd(n,s+1);if(o){Np(e,r,t,true);Np(e,r,t,false)}return r}))));const Jv=(e,t)=>J(t,(t=>{const o=e.dispatch("GetSelectionRange",{range:t});return o.range!==t?o.range:t}));const Qv=e=>Co(e)==="img"?1:Tr(e).fold((()=>Tn(e).length),(e=>e.length));const ek=e=>Tr(e).filter((e=>e.trim().length!==0||e.indexOf(wr)>-1)).isSome();const tk=["img","br"];const ok=e=>{const t=ek(e);return t||Y(tk,Co(e))};const nk=e=>Vs(e,ok);const sk=e=>rk(e,ok);const rk=(e,t)=>{const o=e=>{const n=Tn(e);for(let e=n.length-1;e>=0;e--){const s=n[e];if(t(s)){return U.some(s)}const r=o(s);if(r.isSome()){return r}}return U.none()};return o(e)};const ak="[data-mce-autocompleter]";const ck=(e,t)=>{if(lk(cn.fromDom(e.getBody())).isNone()){const o=cn.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());ss(o,cn.fromDom(t.extractContents()));t.insertNode(o.dom);kn(o).each((e=>e.dom.normalize()));sk(o).map((t=>{e.selection.setCursorLocation(t.dom,Qv(t))}))}};const ik=e=>Us(e,ak);const lk=e=>Zs(e,ak);const dk=(e,t)=>lk(t).each((t=>{const o=e.selection.getBookmark();ds(t);e.selection.moveToBookmark(o)}));const uk={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};const fk=(e,t,o)=>{const n=o?"lastChild":"firstChild";const s=o?"prev":"next";if(e[n]){return e[n]}if(e!==t){let o=e[s];if(o){return o}for(let n=e.parent;n&&n!==t;n=n.parent){o=n[s];if(o){return o}}}return undefined};const mk=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!La(o)){return false}const n=e.parent;if(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(o)){return false}return true};const gk=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class pk{constructor(e,t){this.name=e;this.type=t;if(t===1){this.attributes=[];this.attributes.map={}}}static create(e,t){const o=new pk(e,uk[e]||1);if(t){xe(t,((e,t)=>{o.attr(t,e)}))}return o}replace(e){const t=this;if(e.parent){e.remove()}t.insert(e,t);t.remove();return t}attr(e,t){const o=this;if(!v(e)){if(O(e)){xe(e,((e,t)=>{o.attr(t,e)}))}return o}const n=o.attributes;if(n){if(t!==undefined){if(t===null){if(e in n.map){delete n.map[e];let t=n.length;while(t--){if(n[t].name===e){n.splice(t,1);return o}}}return o}if(e in n.map){let o=n.length;while(o--){if(n[o].name===e){n[o].value=t;break}}}else{n.push({name:e,value:t})}n.map[e]=t;return o}return n.map[e]}return undefined}clone(){const e=this;const t=new pk(e.name,e.type);const o=e.attributes;if(o){const e=[];e.map={};for(let t=0,n=o.length;t<n;t++){const n=o[t];if(n.name!=="id"){e[e.length]={name:n.name,value:n.value};e.map[n.name]=n.value}}t.attributes=e}t.value=e.value;return t}wrap(e){const t=this;if(t.parent){t.parent.insert(e,t);e.append(t)}return t}unwrap(){const e=this;for(let t=e.firstChild;t;){const o=t.next;e.insert(t,e,true);t=o}e.remove()}remove(){const e=this,t=e.parent,o=e.next,n=e.prev;if(t){if(t.firstChild===e){t.firstChild=o;if(o){o.prev=null}}else if(n){n.next=o}if(t.lastChild===e){t.lastChild=n;if(n){n.next=null}}else if(o){o.prev=n}e.parent=e.next=e.prev=null}return e}append(e){const t=this;if(e.parent){e.remove()}const o=t.lastChild;if(o){o.next=e;e.prev=o;t.lastChild=e}else{t.lastChild=t.firstChild=e}e.parent=t;return e}insert(e,t,o){if(e.parent){e.remove()}const n=t.parent||this;if(o){if(t===n.firstChild){n.firstChild=e}else if(t.prev){t.prev.next=e}e.prev=t.prev;e.next=t;t.prev=e}else{if(t===n.lastChild){n.lastChild=e}else if(t.next){t.next.prev=e}e.next=t.next;e.prev=t;t.next=e}e.parent=n;return e}getAll(e){const t=this;const o=[];for(let n=t.firstChild;n;n=fk(n,t)){if(n.name===e){o.push(n)}}return o}children(){const e=this;const t=[];for(let o=e.firstChild;o;o=o.next){t.push(o)}return t}empty(){const e=this;if(e.firstChild){const t=[];for(let o=e.firstChild;o;o=fk(o,e)){t.push(o)}let o=t.length;while(o--){const e=t[o];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}e.firstChild=e.lastChild=null;return e}isEmpty(e,t={},o){var n;const s=this;let r=s.firstChild;if(gk(s)){return false}if(r){do{if(r.type===1){if(r.attr("data-mce-bogus")){continue}if(e[r.name]){return false}if(gk(r)){return false}}if(r.type===8){return false}if(r.type===3&&!mk(r)){return false}if(r.type===3&&r.parent&&t[r.parent.name]&&La((n=r.value)!==null&&n!==void 0?n:"")){return false}if(o&&o(r)){return false}}while(r=fk(r,s))}return true}walk(e){return fk(this,null,e)}}const hk=(e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t));const yk=(e,t,o=0)=>{const n=e.toLowerCase();if(n.indexOf("[if ",o)!==-1&&hk(n,o)){const e=n.indexOf("[endif]",o);return n.indexOf(">",e)}else{if(t){const e=n.indexOf(">",o);return e!==-1?e:n.length}else{const t=/--!?>/g;t.lastIndex=o;const s=t.exec(e);return s?s.index+s[0].length:n.length}}};const bk=(e,t,o)=>{const n=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g;const s=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g;const r=e.getVoidElements();let a=1,c=o;while(a!==0){n.lastIndex=c;while(true){const e=n.exec(t);if(e===null){return c}else if(e[1]==="!"){if(lt(e[2],"--")){c=yk(t,false,e.index+"!--".length)}else{c=yk(t,true,e.index+1)}break}else{s.lastIndex=n.lastIndex;const o=s.exec(t);if(x(o)||o.index!==n.lastIndex){continue}if(e[1]==="/"){a-=1}else if(!Me(r,e[2])){a+=1}c=n.lastIndex+o[0].length;break}}}return c};const vk=(e,t)=>{const o=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(o,"")};const kk=(e,t)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g;const n=e.schema;let s=vk(e.getTempAttrs(),t);const r=n.getVoidElements();let a;while(a=o.exec(s)){const e=o.lastIndex;const t=a[0].length;let c;if(r[a[1]]){c=e}else{c=bk(n,s,e)}s=s.substring(0,e-t)+s.substring(c);o.lastIndex=e-t}return sa(s)};const wk=kk;const _k=e=>{const t=Cr(e,"[data-mce-bogus]");Q(t,(e=>{const t=Lo(e,"data-mce-bogus");if(t==="all"){ls(e)}else if(jr(e)){ts(e,cn.fromText(kr));ls(e)}else{ds(e)}}))};const xk=e=>{const t=Cr(e,"input");Q(t,(e=>{Po(e,"name")}))};const Ck=(e,t)=>{const o=Eu(e);const n=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(n,"")};const Sk=(e,t)=>{const o=e.getDoc();const n=Hn(cn.fromDom(e.getBody()));const s=cn.fromTag("div",o);Ro(s,"data-mce-bogus","all");Gn(s,{position:"fixed",left:"-9999999px",top:"0"});gs(s,t.innerHTML);_k(s);xk(s);const r=Pn(n);ss(r,s);const a=sa(s.dom.innerText);ls(s);return a};const zk=(e,t,o)=>{let n;if(t.format==="raw"){n=mo.trim(wk(e.serializer,o.innerHTML))}else if(t.format==="text"){n=Sk(e,o)}else if(t.format==="tree"){n=e.serializer.serialize(o,t)}else{n=Ck(e,e.serializer.serialize(o,t))}const s=t.format!=="text"&&!Gr(cn.fromDom(o));return s&&v(n)?mo.trim(n):n};const Ok=(e,t)=>U.from(e.getBody()).fold(R(t.format==="tree"?new pk("body",11):""),(o=>zk(e,t,o)));const Tk=mo.makeMap;const Ek=e=>{const t=[];e=e||{};const o=e.indent;const n=Tk(e.indent_before||"");const s=Tk(e.indent_after||"");const r=Wc.getEncodeFunc(e.entity_encoding||"raw",e.entities);const a=e.element_format!=="xhtml";return{start:(e,c,i)=>{if(o&&n[e]&&t.length>0){const e=t[t.length-1];if(e.length>0&&e!=="\n"){t.push("\n")}}t.push("<",e);if(c){for(let e=0,o=c.length;e<o;e++){const o=c[e];t.push(" ",o.name,'="',r(o.value,true),'"')}}if(!i||a){t[t.length]=">"}else{t[t.length]=" />"}if(i&&o&&s[e]&&t.length>0){const e=t[t.length-1];if(e.length>0&&e!=="\n"){t.push("\n")}}},end:e=>{let n;t.push("</",e,">");if(o&&s[e]&&t.length>0){n=t[t.length-1];if(n.length>0&&n!=="\n"){t.push("\n")}}},text:(e,o)=>{if(e.length>0){t[t.length]=o?e:r(e)}},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,n)=>{if(n){t.push("<?",e," ",r(n),"?>")}else{t.push("<?",e,"?>")}if(o){t.push("\n")}},doctype:e=>{t.push("<!DOCTYPE",e,">",o?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}};const Dk=(e={},t=ai())=>{const o=Ek(e);e.validate="validate"in e?e.validate:true;const n=n=>{const s=e.validate;const r={3:e=>{var t;o.text((t=e.value)!==null&&t!==void 0?t:"",e.raw)},8:e=>{var t;o.comment((t=e.value)!==null&&t!==void 0?t:"")},7:e=>{o.pi(e.name,e.value)},10:e=>{var t;o.doctype((t=e.value)!==null&&t!==void 0?t:"")},4:e=>{var t;o.cdata((t=e.value)!==null&&t!==void 0?t:"")},11:e=>{let t=e;if(t=t.firstChild){do{a(t)}while(t=t.next)}}};o.reset();const a=e=>{var n;const c=r[e.type];if(!c){const r=e.name;const c=r in t.getVoidElements();let i=e.attributes;if(s&&i&&i.length>1){const o=[];o.map={};const n=t.getElementRule(e.name);if(n){for(let e=0,t=n.attributesOrder.length;e<t;e++){const t=n.attributesOrder[e];if(t in i.map){const e=i.map[t];o.map[t]=e;o.push({name:t,value:e})}}for(let e=0,t=i.length;e<t;e++){const t=i[e].name;if(!(t in o.map)){const e=i.map[t];o.map[t]=e;o.push({name:t,value:e})}}i=o}}o.start(r,i,c);if(!c){let t=e.firstChild;if(t){if((r==="pre"||r==="textarea")&&t.type===3&&((n=t.value)===null||n===void 0?void 0:n[0])==="\n"){o.text("\n",true)}do{a(t)}while(t=t.next)}o.end(r)}}else{c(e)}};if(n.type===1&&!e.inner){a(n)}else if(n.type===3){r[3](n)}else{r[11](n)}return o.getContent()};return{serialize:n}};const Ak=new Set;(()=>{const e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Q(e,(e=>{Ak.add(e)}))})();const Nk=["font","text-decoration","text-emphasis"];const Mk=(e,t)=>we(e.parseStyle(e.getAttrib(t,"style")));const Rk=e=>Ak.has(e);const Bk=(e,t)=>de(Mk(e,t),(e=>!Rk(e)));const Lk=e=>oe(e,(e=>X(Nk,(t=>lt(e,t)))));const Hk=(e,t,o)=>{const n=Mk(e,t);const s=Mk(e,o);const r=n=>{var s,r;const a=(s=e.getStyle(t,n))!==null&&s!==void 0?s:"";const c=(r=e.getStyle(o,n))!==null&&r!==void 0?r:"";return pt(a)&&pt(c)&&a!==c};return X(n,(e=>{const t=t=>X(t,(t=>t===e));if(!t(s)&&t(Nk)){const e=Lk(s);return X(e,r)}else{return r(e)}}))};const Ik=(e,t,o)=>U.from(o.container()).filter(ar).exists((n=>{const s=e?0:-1;return t(n.data.charAt(o.offset()+s))}));const Pk=H(Ik,true,ip);const Fk=H(Ik,false,ip);const Vk=e=>{const t=e.container();return ar(t)&&(t.data.length===0||na(t.data)&&Ih.isBookmarkNode(t.parentNode))};const jk=(e,t)=>o=>$m(e?0:-1,o).filter(t).isSome();const Zk=e=>mr(e)&&Kn(cn.fromDom(e),"display")==="block";const Uk=e=>pr(e)&&!or(e);const qk=jk(true,Zk);const Wk=jk(false,Zk);const $k=jk(true,br);const Gk=jk(false,br);const Kk=jk(true,nr);const Yk=jk(false,nr);const Xk=jk(true,Uk);const Jk=jk(false,Uk);const Qk=e=>e.slice(0,-1);const ew=(e,t,o)=>{if(pn(t,e)){return Qk(_n(e,(e=>o(e)||gn(e,t))))}else{return[]}};const tw=(e,t)=>ew(e,t,j);const ow=(e,t)=>[e].concat(tw(e,t));const nw=(e,t,o)=>Eg(e,t,o,Vk);const sw=(e,t)=>ae(ow(cn.fromDom(t.container()),e),Pr);const rw=(e,t,o)=>nw(e,t.dom,o).forall((e=>sw(t,o).fold((()=>!Wm(e,o,t.dom)),(n=>!Wm(e,o,t.dom)&&pn(n,cn.fromDom(e.container()))))));const aw=(e,t,o)=>sw(t,o).fold((()=>nw(e,t.dom,o).forall((e=>!Wm(e,o,t.dom)))),(t=>nw(e,t.dom,o).isNone()));const cw=H(aw,false);const iw=H(aw,true);const lw=H(rw,false);const dw=H(rw,true);const uw=e=>og(e).exists(jr);const fw=(e,t,o)=>{const n=oe(ow(cn.fromDom(o.container()),t),Pr);const s=he(n).getOr(t);return Og(e,s.dom,o).filter(uw)};const mw=(e,t)=>og(t).exists(jr)||fw(true,e,t).isSome();const gw=(e,t)=>ng(t).exists(jr)||fw(false,e,t).isSome();const pw=H(fw,false);const hw=H(fw,true);const yw=e=>yd.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd();const bw=(e,t)=>{const o=oe(ow(cn.fromDom(t.container()),e),Pr);return he(o).getOr(e)};const vw=(e,t)=>{if(yw(t)){return Fk(t)}else{return Fk(t)||Ng(bw(e,t).dom,t).exists(Fk)}};const kw=(e,t)=>{if(yw(t)){return Pk(t)}else{return Pk(t)||Ag(bw(e,t).dom,t).exists(Pk)}};const ww=e=>Y(["pre","pre-wrap"],e);const _w=e=>og(e).bind((e=>Is(e,To))).exists((e=>ww(Kn(e,"white-space"))));const xw=(e,t)=>Ng(e.dom,t).isNone();const Cw=(e,t)=>Ag(e.dom,t).isNone();const Sw=(e,t)=>xw(e,t)||Cw(e,t)||cw(e,t)||iw(e,t)||gw(e,t)||mw(e,t);const zw=e=>O(e)&&pr(e)&&Rm(e);const Ow=(e,t)=>o=>zw(new Ws(o,e)[t]());const Tw=(e,t)=>{const o=Ag(e.dom,t).getOr(t);const n=Ow(e.dom,"next");return t.isAtEnd()&&(n(t.container())||n(o.container()))};const Ew=(e,t)=>{const o=Ng(e.dom,t).getOr(t);const n=Ow(e.dom,"prev");return t.isAtStart()&&(n(t.container())||n(o.container()))};const Dw=(e,t)=>{if(_w(t)){return false}else{return Sw(e,t)||vw(e,t)||kw(e,t)}};const Aw=(e,t)=>{if(_w(t)){return false}else{return cw(e,t)||lw(e,t)||gw(e,t)||vw(e,t)||Ew(e,t)}};const Nw=e=>{const t=e.container();const o=e.offset();if(ar(t)&&o<t.data.length){return yd(t,o+1)}else{return e}};const Mw=(e,t)=>{if(_w(t)){return false}else{return iw(e,t)||dw(e,t)||mw(e,t)||kw(e,t)||Tw(e,t)}};const Rw=(e,t)=>Aw(e,t)||Mw(e,Nw(t));const Bw=(e,t)=>cp(e.charAt(t));const Lw=(e,t)=>ip(e.charAt(t));const Hw=e=>{const t=e.container();return ar(t)&&it(t.data,wr)};const Iw=e=>{const t=e.split("");return J(t,((e,o)=>{if(cp(e)&&o>0&&o<t.length-1&&lp(t[o-1])&&lp(t[o+1])){return" "}else{return e}})).join("")};const Pw=(e,t,o)=>{const n=t.data;const s=yd(t,0);if(!o&&Bw(n,0)&&!Rw(e,s)){t.data=" "+n.slice(1);return true}else if(o&&Lw(n,0)&&Aw(e,s)){t.data=wr+n.slice(1);return true}else{return false}};const Fw=e=>{const t=e.data;const o=Iw(t);if(o!==t){e.data=o;return true}else{return false}};const Vw=(e,t,o)=>{const n=t.data;const s=yd(t,n.length-1);if(!o&&Bw(n,n.length-1)&&!Rw(e,s)){t.data=n.slice(0,-1)+" ";return true}else if(o&&Lw(n,n.length-1)&&Mw(e,s)){t.data=n.slice(0,-1)+wr;return true}else{return false}};const jw=(e,t)=>{const o=t.container();if(!ar(o)){return U.none()}if(Hw(t)){const n=Pw(e,o,false)||Fw(o)||Vw(e,o,false);return bo(n,t)}else if(Rw(e,t)){const n=Pw(e,o,true)||Vw(e,o,true);return bo(n,t)}else{return U.none()}};const Zw=e=>{const t=cn.fromDom(e.getBody());if(e.selection.isCollapsed()){jw(t,yd.fromRangeStart(e.selection.getRng())).each((t=>{e.selection.setRng(t.toRange())}))}};const Uw=(e,t,o)=>{if(o===0){return}const n=cn.fromDom(e);const s=Hs(n,Pr).getOr(n);const r=e.data.slice(t,t+o);const a=t+o>=e.data.length&&Mw(s,yd(e,e.data.length));const c=t===0&&Aw(s,yd(e,0));e.replaceData(t,o,Fa(r,4,c,a))};const qw=(e,t)=>{const o=e.data.slice(t);const n=o.length-mt(o).length;Uw(e,t,n)};const Ww=(e,t)=>{const o=e.data.slice(0,t);const n=o.length-gt(o).length;Uw(e,t-n,n)};const $w=(e,t,o,n=true)=>{const s=gt(e.data).length;const r=n?e:t;const a=n?t:e;if(n){r.appendData(a.data)}else{r.insertData(0,a.data)}ls(cn.fromDom(a));if(o){qw(r,s)}return r};const Gw=(e,t)=>{const o=e.container();const n=e.offset();return!yd.isTextPosition(e)&&o===t.parentNode&&n>yd.before(t).offset()};const Kw=(e,t)=>Gw(t,e)?yd(t.container(),t.offset()-1):t;const Yw=e=>ar(e)?yd(e,0):yd.before(e);const Xw=e=>ar(e)?yd(e,e.data.length):yd.after(e);const Jw=e=>{if(Ta(e.previousSibling)){return U.some(Xw(e.previousSibling))}else{return e.previousSibling?Rg(e.previousSibling):U.none()}};const Qw=e=>{if(Ta(e.nextSibling)){return U.some(Yw(e.nextSibling))}else{return e.nextSibling?Mg(e.nextSibling):U.none()}};const e_=(e,t)=>U.from(t.previousSibling?t.previousSibling:t.parentNode).bind((t=>Ng(e,yd.before(t)))).orThunk((()=>Ag(e,yd.after(t))));const t_=(e,t)=>Ag(e,yd.after(t)).orThunk((()=>Ng(e,yd.before(t))));const o_=(e,t)=>Jw(t).orThunk((()=>Qw(t))).orThunk((()=>e_(e,t)));const n_=(e,t)=>Qw(t).orThunk((()=>Jw(t))).orThunk((()=>t_(e,t)));const s_=(e,t,o)=>e?n_(t,o):o_(t,o);const r_=(e,t,o)=>s_(e,t,o).map(H(Kw,o));const a_=(e,t,o)=>{o.fold((()=>{e.focus()}),(o=>{e.selection.setRng(o.toRange(),t)}))};const c_=e=>t=>t.dom===e;const i_=(e,t)=>t&&Me(e.schema.getBlockElements(),Co(t));const l_=e=>{if(Ka(e)){const t=cn.fromHtml('<br data-mce-bogus="1">');is(e);ss(e,t);return U.some(yd.before(t.dom))}else{return U.none()}};const d_=(e,t,o)=>{const n=Cn(e).filter(Eo);const s=Sn(e).filter(Eo);ls(e);return yo(n,s,t,((e,t,n)=>{const s=e.dom,r=t.dom;const a=s.data.length;$w(s,r,o);return n.container()===r?yd(s,a):n})).orThunk((()=>{if(o){n.each((e=>Ww(e.dom,e.dom.length)));s.each((e=>qw(e.dom,0)))}return t}))};const u_=(e,t)=>Me(e.schema.getTextInlineElements(),Co(t));const f_=(e,t,o,n=true)=>{const s=r_(t,e.getBody(),o.dom);const r=Hs(o,H(i_,e),c_(e.getBody()));const a=d_(o,s,u_(e,o));if(e.dom.isEmpty(e.getBody())){e.setContent("");e.selection.setCursorLocation()}else{r.bind(l_).fold((()=>{if(n){a_(e,t,a)}}),(o=>{if(n){a_(e,t,U.some(o))}}))}};const m_=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;const g_=e=>m_.test(e);const p_=(e,t)=>dn(cn.fromDom(t),tf(e))&&!dc(e.schema,t);const h_=e=>{var t;return Mi.DOM.getStyle(e,"direction",true)==="rtl"||g_((t=e.textContent)!==null&&t!==void 0?t:"")};const y_=(e,t,o)=>oe(Mi.DOM.getParents(o.container(),"*",t),e);const b_=(e,t,o)=>{const n=y_(e,t,o);return U.from(n[n.length-1])};const v_=(e,t,o)=>{const n=qm(t,e);const s=qm(o,e);return O(n)&&n===s};const k_=e=>fa(e)||ma(e);const w_=(e,t)=>{const o=t.container(),n=t.offset();if(e){if(ia(o)){if(ar(o.nextSibling)){return yd(o.nextSibling,0)}else{return yd.after(o)}}else{return fa(t)?yd(o,n+1):t}}else{if(ia(o)){if(ar(o.previousSibling)){return yd(o.previousSibling,o.previousSibling.data.length)}else{return yd.before(o)}}else{return ma(t)?yd(o,n-1):t}}};const __=H(w_,true);const x_=H(w_,false);const C_=(e,t)=>{const o=e=>e.stopImmediatePropagation();e.on("beforeinput input",o,true);e.getDoc().execCommand(t);e.off("beforeinput input",o)};const S_=e=>{e.execCommand("delete")};const z_=e=>C_(e,"Delete");const O_=e=>C_(e,"ForwardDelete");const T_=e=>t=>go(kn(t),e,gn);const E_=e=>Zr(e)||qr(e);const D_=(e,t)=>{if(pn(e,t)){return Is(t,E_,T_(e))}else{return U.none()}};const A_=(e,t=true)=>{if(e.dom.isEmpty(e.getBody())){e.setContent("",{no_selection:!t})}};const N_=(e,t,o)=>ho(Mg(o),Rg(o),((n,s)=>{const r=w_(true,n);const a=w_(false,s);const c=w_(false,t);if(e){return Ag(o,c).exists((e=>e.isEqual(a)&&t.isEqual(r)))}else{return Ng(o,c).exists((e=>e.isEqual(r)&&t.isEqual(a)))}})).getOr(true);const M_=e=>{const t=Oo(e)?Cn(e):An(e);return t.bind(M_).orThunk((()=>U.some(e)))};const R_=(e,t,o,n=true)=>{var s;t.deleteContents();const r=M_(o).getOr(o);const a=cn.fromDom((s=e.dom.getParent(r.dom,e.dom.isBlock))!==null&&s!==void 0?s:o.dom);if(a.dom===e.getBody()){A_(e,n)}else if(Ka(a)){ea(a);if(n){e.selection.setCursorLocation(a.dom,0)}}if(!gn(o,a)){const e=go(kn(a),o)?[]:xn(a);Q(e.concat(Tn(o)),(e=>{if(!gn(e,a)&&!pn(e,a)&&Ka(e)){ls(e)}}))}};const B_=e=>t=>gn(e,t);const L_=e=>Cr(e,"td,th");const H_=(e,t)=>{const o=e=>zp(cn.fromDom(e),t);const n=o(e.startContainer);const s=o(e.endContainer);const r=n.isSome();const a=s.isSome();const c=ho(n,s,gn).getOr(false);const i=!c&&r&&a;return{startTable:n,endTable:s,isStartInTable:r,isEndInTable:a,isSameTable:c,isMultiTable:i}};const I_=(e,t)=>({start:e,end:t});const P_=(e,t,o)=>({rng:e,table:t,cells:o});const F_=nu.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]);const V_=(e,t)=>Us(cn.fromDom(e),"td,th",t);const j_=e=>!gn(e.start,e.end);const Z_=(e,t)=>zp(e.start,t).bind((o=>zp(e.end,t).bind((e=>bo(gn(o,e),o)))));const U_=(e,t)=>!j_(e)&&Z_(e,t).exists((e=>{const t=e.dom.rows;return t.length===1&&t[0].cells.length===1}));const q_=(e,t)=>{const o=V_(e.startContainer,t);const n=V_(e.endContainer,t);return ho(o,n,I_)};const W_=e=>t=>zp(t,e).bind((e=>ye(L_(e)).map((e=>I_(t,e)))));const $_=e=>t=>zp(t,e).bind((e=>he(L_(e)).map((e=>I_(e,t)))));const G_=e=>t=>Z_(t,e).map((e=>P_(t,e,L_(e))));const K_=(e,t,o,n)=>{if(o.collapsed||!e.forall(j_)){return U.none()}else if(t.isSameTable){const t=e.bind(G_(n));return U.some({start:t,end:t})}else{const e=V_(o.startContainer,n);const t=V_(o.endContainer,n);const s=e.bind(W_(n)).bind(G_(n));const r=t.bind($_(n)).bind(G_(n));return U.some({start:s,end:r})}};const Y_=(e,t)=>ce(e,(e=>gn(e,t)));const X_=e=>ho(Y_(e.cells,e.rng.start),Y_(e.cells,e.rng.end),((t,o)=>e.cells.slice(t,o+1)));const J_=(e,t,o)=>e.exists((e=>U_(e,o)&&Ap(e.start,t)));const Q_=(e,t)=>{const{startTable:o,endTable:n}=t;const s=e.cloneRange();o.each((e=>s.setStartAfter(e.dom)));n.each((e=>s.setEndBefore(e.dom)));return s};const ex=(e,t,o,n)=>K_(e,t,o,n).bind((({start:e,end:t})=>e.or(t))).bind((e=>{const{isSameTable:n}=t;const s=X_(e).getOr([]);if(n&&e.cells.length===s.length){return U.some(F_.fullTable(e.table))}else if(s.length>0){if(n){return U.some(F_.partialTable(s,U.none()))}else{const e=Q_(o,t);return U.some(F_.partialTable(s,U.some({...t,rng:e})))}}else{return U.none()}}));const tx=(e,t,o,n)=>K_(e,t,o,n).bind((({start:e,end:n})=>{const s=e.bind(X_).getOr([]);const r=n.bind(X_).getOr([]);if(s.length>0&&r.length>0){const e=Q_(o,t);return U.some(F_.multiTable(s,r,e))}else{return U.none()}}));const ox=(e,t)=>{const o=B_(e);const n=q_(t,o);const s=H_(t,o);if(J_(n,t,o)){return n.map((e=>F_.singleCellTable(t,e.start)))}else if(s.isMultiTable){return tx(n,s,t,o)}else{return ex(n,s,t,o)}};const nx=e=>Q(e,(e=>{Po(e,"contenteditable");ea(e)}));const sx=(e,t)=>U.from(e.dom.getParent(t,e.dom.isBlock)).map(cn.fromDom);const rx=(e,t,o)=>{o.each((o=>{if(t){ls(o)}else{ea(o);e.selection.setCursorLocation(o.dom,0)}}))};const ax=(e,t,o,n)=>{const s=o.cloneRange();if(n){s.setStart(o.startContainer,o.startOffset);s.setEndAfter(t.dom.lastChild)}else{s.setStartBefore(t.dom.firstChild);s.setEnd(o.endContainer,o.endOffset)}dx(e,s,t,false).each((e=>e()))};const cx=e=>{const t=Sp(e);const o=cn.fromDom(e.selection.getNode());if(hr(o.dom)&&Ka(o)){e.selection.setCursorLocation(o.dom,0)}else{e.selection.collapse(true)}if(t.length>1&&X(t,(e=>gn(e,o)))){Ro(o,"data-mce-selected","1")}};const ix=(e,t,o)=>U.some((()=>{const n=e.selection.getRng();const s=o.bind((({rng:o,isStartInTable:s})=>{const r=sx(e,s?o.endContainer:o.startContainer);o.deleteContents();rx(e,s,r.filter(Ka));const a=s?t[0]:t[t.length-1];ax(e,a,n,s);if(!Ka(a)){return U.some(s?t.slice(1):t.slice(0,-1))}else{return U.none()}})).getOr(t);nx(s);cx(e)}));const lx=(e,t,o,n)=>U.some((()=>{const s=e.selection.getRng();const r=t[0];const a=o[o.length-1];ax(e,r,s,true);ax(e,a,s,false);const c=Ka(r)?t:t.slice(1);const i=Ka(a)?o:o.slice(0,-1);nx(c.concat(i));n.deleteContents();cx(e)}));const dx=(e,t,o,n=true)=>U.some((()=>{R_(e,t,o,n)}));const ux=(e,t)=>U.some((()=>f_(e,false,t)));const fx=(e,t,o)=>ox(t,o).bind((t=>t.fold(H(dx,e),H(ux,e),H(ix,e),H(lx,e))));const mx=(e,t)=>vx(e,t);const gx=(e,t,o,n)=>yx(t,n).fold((()=>fx(e,t,o)),(t=>mx(e,t)));const px=(e,t,o)=>{const n=cn.fromDom(e.getBody());const s=e.selection.getRng();return o.length!==0?ix(e,o,U.none()):gx(e,n,s,t)};const hx=(e,t)=>ae(ow(t,e),$r);const yx=(e,t)=>ae(ow(t,e),No("caption"));const bx=(e,t,o,n,s)=>Tg(o,e.getBody(),s).bind((e=>hx(t,cn.fromDom(e.getNode())).bind((e=>gn(e,n)?U.none():U.some(A)))));const vx=(e,t)=>U.some((()=>{ea(t);e.selection.setCursorLocation(t.dom,0)}));const kx=(e,t,o,n)=>Mg(e.dom).bind((s=>Rg(e.dom).map((e=>t?o.isEqual(s)&&n.isEqual(e):o.isEqual(e)&&n.isEqual(s))))).getOr(true);const wx=(e,t)=>vx(e,t);const _x=(e,t,o)=>yx(e,cn.fromDom(o.getNode())).fold((()=>U.some(A)),(e=>bo(!gn(e,t),A)));const xx=(e,t,o,n,s)=>Tg(o,e.getBody(),s).fold((()=>U.some(A)),(r=>kx(n,o,s,r)?wx(e,n):_x(t,n,r)));const Cx=(e,t,o,n)=>{const s=yd.fromRangeStart(e.selection.getRng());return hx(o,n).bind((n=>Ka(n)?vx(e,n):bx(e,o,t,n,s)))};const Sx=(e,t,o,n)=>{const s=yd.fromRangeStart(e.selection.getRng());return Ka(n)?vx(e,n):xx(e,o,t,n,s)};const zx=(e,t)=>e?Kk(t):Yk(t);const Ox=(e,t)=>{const o=yd.fromRangeStart(e.selection.getRng());return zx(t,o)||Og(t,e.getBody(),o).exists((e=>zx(t,e)))};const Tx=(e,t,o)=>{const n=cn.fromDom(e.getBody());return yx(n,o).fold((()=>Cx(e,t,n,o).orThunk((()=>bo(Ox(e,t),A)))),(o=>Sx(e,t,n,o)))};const Ex=(e,t)=>{const o=cn.fromDom(e.selection.getStart(true));const n=Sp(e);return e.selection.isCollapsed()&&n.length===0?Tx(e,t,o):px(e,o,n)};const Dx=(e,t)=>{let o=t;while(o&&o!==e){if(gr(o)||pr(o)){return o}o=o.parentNode}return null};const Ax=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"];const Nx=mo.each;const Mx=e=>{const t=e.dom;const o=new Set(e.serializer.getTempAttrs());const n=(e,o)=>{if(e.nodeName!==o.nodeName||e.nodeType!==o.nodeType){return false}const n=e=>{const o={};Nx(t.getAttribs(e),(n=>{const r=n.nodeName.toLowerCase();if(r!=="style"&&!s(r)){o[r]=t.getAttrib(e,r)}}));return o};const r=(e,t)=>{for(const o in e){if(Me(e,o)){const n=t[o];if(S(n)){return false}if(e[o]!==n){return false}delete t[o]}}for(const e in t){if(Me(t,e)){return false}}return true};if(Ks(e)&&Ks(o)){if(!r(n(e),n(o))){return false}if(!r(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(o,"style")))){return false}}return!rp(e)&&!rp(o)};const s=e=>X(Ax,(t=>lt(e,t)))||o.has(e);return{compare:n,isAttributeInternal:s}};const Rx=(e,t)=>{let o=e;while(o=o.walk()){t(o)}};const Bx=(e,t,o,n)=>{const s=o.name;for(let t=0,r=e.length;t<r;t++){const r=e[t];if(r.name===s){const e=n.nodes[s];if(e){e.nodes.push(o)}else{n.nodes[s]={filter:r,nodes:[o]}}}}if(o.attributes){for(let e=0,s=t.length;e<s;e++){const s=t[e];const r=s.name;if(r in o.attributes.map){const e=n.attributes[r];if(e){e.nodes.push(o)}else{n.attributes[r]={filter:s,nodes:[o]}}}}}};const Lx=(e,t,o)=>{const n={nodes:{},attributes:{}};if(o.firstChild){Rx(o,(o=>{Bx(e,t,o,n)}))}return n};const Hx=(e,t)=>{const o=(e,o)=>{xe(e,(e=>{const n=be(e.nodes);Q(e.filter.callbacks,(s=>{for(let t=n.length-1;t>=0;t--){const s=n[t];const r=o?s.attr(e.filter.name)!==undefined:s.name===e.filter.name;if(!r||z(s.parent)){n.splice(t,1)}}if(n.length>0){s(n,e.filter.name,t)}}))}))};o(e.nodes,false);o(e.attributes,true)};const Ix=(e,t,o,n={})=>{const s=Lx(e,t,o);Hx(s,n)};const Px=(e,t,o)=>{if(e.insert&&t(o)){const e=new pk("br",1);e.attr("data-mce-bogus","1");o.empty().append(e)}else{o.empty().append(new pk("#text",3)).value=wr}};const Fx=e=>{var t;return Vx(e,"#text")&&((t=e===null||e===void 0?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===wr};const Vx=(e,t)=>{const o=e===null||e===void 0?void 0:e.firstChild;return O(o)&&o===e.lastChild&&o.name===t};const jx=(e,t)=>{const o=e.getElementRule(t.name);return(o===null||o===void 0?void 0:o.paddEmpty)===true};const Zx=(e,t,o,n)=>n.isEmpty(t,o,(t=>jx(e,t)));const Ux=(e,t)=>O(e)&&(t(e)||e.name==="br");const qx=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name]){e.empty().remove()}else{const n=e.children();for(const e of n){if(o&&!t.isValidChild(o.name,e.name)){qx(e,t,o)}}e.unwrap()}};const Wx=(e,t,o=A)=>{const n=t.getTextBlockElements();const s=t.getNonEmptyElements();const r=t.getWhitespaceElements();const a=mo.makeMap("tr,td,th,tbody,thead,tfoot,table");const c=new Set;for(let i=0;i<e.length;i++){const l=e[i];let d;let u;let f;if(!l.parent||c.has(l)){continue}if(n[l.name]&&l.parent.name==="li"){let e=l.next;while(e){if(n[e.name]){e.name="li";c.add(e);l.parent.insert(e,l.parent)}else{break}e=e.next}l.unwrap();continue}const m=[l];for(d=l.parent;d&&!t.isValidChild(d.name,l.name)&&!a[d.name];d=d.parent){m.push(d)}if(d&&m.length>1){if(t.isValidChild(d.name,l.name)){m.reverse();u=m[0].clone();o(u);let e=u;for(let n=0;n<m.length-1;n++){if(t.isValidChild(e.name,m[n].name)){f=m[n].clone();o(f);e.append(f)}else{f=e}for(let e=m[n].firstChild;e&&e!==m[n+1];){const t=e.next;f.append(e);e=t}e=f}if(!Zx(t,s,r,u)){d.insert(u,m[0],true);d.insert(l,u)}else{d.insert(l,m[0],true)}d=m[0];if(Zx(t,s,r,d)||Vx(d,"br")){d.empty().remove()}}else{qx(l,t)}}else if(l.parent){if(l.name==="li"){let e=l.prev;if(e&&(e.name==="ul"||e.name==="ol")){e.append(l);continue}e=l.next;if(e&&(e.name==="ul"||e.name==="ol")&&e.firstChild){e.insert(l,e.firstChild,true);continue}const t=new pk("ul",1);o(t);l.wrap(t);continue}if(t.isValidChild(l.parent.name,"div")&&t.isValidChild("div",l.name)){const e=new pk("div",1);o(e);l.wrap(e)}else{qx(l,t)}}}};const $x=(e,t)=>{let o=e;while(o){if(o.name===t){return true}o=o.parent}return false};const Gx=(e,t,o=t.parent)=>{if(o&&e.children[t.name]&&!e.isValidChild(o.name,t.name)){return true}else if(o&&t.name==="a"&&$x(o,"a")){return true}else{return false}};const Kx=(e,t,o,n)=>{const s=document.createRange();s.setStart(e,t);s.setEnd(o,n);return s};const Yx=e=>{const t=yd.fromRangeStart(e);const o=yd.fromRangeEnd(e);const n=e.commonAncestorContainer;return Og(false,n,o).map((s=>{if(!Wm(t,o,n)&&Wm(t,s,n)){return Kx(t.container(),t.offset(),s.container(),s.offset())}else{return e}})).getOr(e)};const Xx=e=>e.collapsed?e:Yx(e);const Jx=e=>O(e.firstChild)&&e.firstChild===e.lastChild;const Qx=e=>e.name==="br"||e.value===wr;const eC=(e,t)=>{const o=e.getBlockElements();return o[t.name]&&Jx(t)&&Qx(t.firstChild)};const tC=(e,t)=>{const o=e.getNonEmptyElements();return O(t)&&(t.isEmpty(o)||eC(e,t))};const oC=(e,t)=>{let o=t.firstChild;let n=t.lastChild;if(o&&o.name==="meta"){o=o.next}if(n&&n.attr("id")==="mce_marker"){n=n.prev}if(tC(e,n)){n=n===null||n===void 0?void 0:n.prev}if(!o||o!==n){return false}return o.name==="ul"||o.name==="ol"};const nC=e=>{var t,o;const n=e.firstChild;const s=e.lastChild;if(n&&n.nodeName==="META"){(t=n.parentNode)===null||t===void 0?void 0:t.removeChild(n)}if(s&&s.id==="mce_marker"){(o=s.parentNode)===null||o===void 0?void 0:o.removeChild(s)}return e};const sC=(e,t,o)=>{const n=t.serialize(o);const s=e.createFragment(n);return nC(s)};const rC=e=>{var t;return oe((t=e===null||e===void 0?void 0:e.childNodes)!==null&&t!==void 0?t:[],(e=>e.nodeName==="LI"))};const aC=e=>e.data===wr||fr(e);const cC=e=>O(e===null||e===void 0?void 0:e.firstChild)&&e.firstChild===e.lastChild&&aC(e.firstChild);const iC=e=>!e.firstChild||cC(e);const lC=e=>e.length>0&&iC(e[e.length-1])?e.slice(0,-1):e;const dC=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null};const uC=(e,t)=>!!dC(e,t);const fC=(e,t)=>{const o=t.cloneRange();const n=t.cloneRange();o.setStartBefore(e);n.setEndAfter(e);return[o.cloneContents(),n.cloneContents()]};const mC=(e,t)=>{const o=yd.before(e);const n=vg(t);const s=n.next(o);return s?s.toRange():null};const gC=(e,t)=>{const o=yd.after(e);const n=vg(t);const s=n.prev(o);return s?s.toRange():null};const pC=(e,t,o,n)=>{const s=fC(e,n);const r=e.parentNode;if(r){r.insertBefore(s[0],e);mo.each(t,(t=>{r.insertBefore(t,e)}));r.insertBefore(s[1],e);r.removeChild(e)}return gC(t[t.length-1],o)};const hC=(e,t,o)=>{const n=e.parentNode;if(n){mo.each(t,(t=>{n.insertBefore(t,e)}))}return mC(e,o)};const yC=(e,t,o,n)=>{n.insertAfter(t.reverse(),e);return gC(t[0],o)};const bC=(e,t,o,n)=>{const s=sC(t,e,n);const r=dC(t,o.startContainer);const a=lC(rC(s.firstChild));const c=1,i=2;const l=t.getRoot();const d=e=>{const n=yd.fromRangeStart(o);const s=vg(t.getRoot());const a=e===c?s.prev(n):s.next(n);const i=a===null||a===void 0?void 0:a.getNode();return i?dC(t,i)!==r:true};if(!r){return null}else if(d(c)){return hC(r,a,l)}else if(d(i)){return yC(r,a,l,t)}else{return pC(r,a,l,o)}};const vC=["pre"];const kC=(e,t,o,n)=>{var s;const r=t.firstChild;const a=t.lastChild;const c=a.attr("data-mce-type")==="bookmark"?a.prev:a;const i=r===c;const l=Y(vC,r.name);if(i&&l){const t=r.attr("contenteditable")!=="false";const a=((s=e.getParent(o,e.isBlock))===null||s===void 0?void 0:s.nodeName.toLowerCase())===r.name;const c=U.from(Dx(n,o)).forall(gr);return t&&a&&c}else{return false}};const wC=hr;const _C=(e,t,o)=>{if(O(o)){const n=e.getParent(t.endContainer,wC);return o===n&&Ap(cn.fromDom(o),t)}else{return false}};const xC=(e,t,o)=>{var n;if(o.getAttribute("data-mce-bogus")==="all"){(n=o.parentNode)===null||n===void 0?void 0:n.insertBefore(e.dom.createFragment(t),o)}else{const n=o.firstChild;const s=o.lastChild;if(!n||n===s&&n.nodeName==="BR"){e.dom.setHTML(o,t)}else{e.selection.setContent(t,{no_events:true})}}};const CC=(e,t)=>{U.from(e.getParent(t,"td,th")).map(cn.fromDom).each(ta)};const SC=(e,t)=>{const o=e.schema.getTextInlineElements();const n=e.dom;if(t){const t=e.getBody();const s=Mx(e);mo.each(n.select("*[data-mce-fragment]"),(e=>{const r=O(o[e.nodeName.toLowerCase()]);if(r&&Bk(n,e)){for(let o=e.parentElement;O(o)&&o!==t;o=o.parentElement){const t=Hk(n,e,o);if(t){break}if(s.compare(o,e)){n.remove(e,true);break}}}}))}};const zC=e=>{let t=e;while(t=t.walk()){if(t.type===1){t.attr("data-mce-fragment","1")}}};const OC=e=>{mo.each(e.getElementsByTagName("*"),(e=>{e.removeAttribute("data-mce-fragment")}))};const TC=e=>!!e.getAttribute("data-mce-fragment");const EC=(e,t)=>O(t)&&!e.schema.getVoidElements()[t.nodeName];const DC=(e,t)=>{var o,n,s;let r;const a=e.dom;const c=e.selection;if(!t){return}c.scrollIntoView(t);const i=Dx(e.getBody(),t);if(i&&a.getContentEditable(i)==="false"){a.remove(t);c.select(i);return}let l=a.createRng();const d=t.previousSibling;if(ar(d)){l.setStart(d,(n=(o=d.nodeValue)===null||o===void 0?void 0:o.length)!==null&&n!==void 0?n:0);const e=t.nextSibling;if(ar(e)){d.appendData(e.data);(s=e.parentNode)===null||s===void 0?void 0:s.removeChild(e)}}else{l.setStartBefore(t);l.setEndBefore(t)}const u=t=>{let o=yd.fromRangeStart(t);const n=vg(e.getBody());o=n.next(o);return o===null||o===void 0?void 0:o.toRange()};const f=a.getParent(t,a.isBlock);a.remove(t);if(f&&a.isEmpty(f)){is(cn.fromDom(f));l.setStart(f,0);l.setEnd(f,0);if(!wC(f)&&!TC(f)&&(r=u(l))){l=r;a.remove(f)}else{a.add(f,a.create("br",{"data-mce-bogus":"1"}))}}c.setRng(l)};const AC=e=>{const t=e.dom;const o=Xx(e.selection.getRng());e.selection.setRng(o);const n=t.getParent(o.startContainer,wC);if(_C(t,o,n)){dx(e,o,cn.fromDom(n))}else if(o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&ar(o.startContainer.childNodes[o.startOffset])){o.deleteContents()}else{e.getDoc().execCommand("Delete",false)}};const NC=(e,t,o)=>{var n,s;const r=e.selection;const a=e.dom;const c=e.parser;const i=o.merge;const l=Dk({validate:true},e.schema);const d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(t.indexOf("{$caret}")===-1){t+="{$caret}"}t=t.replace(/\{\$caret\}/,d);let u=r.getRng();const f=u.startContainer;const m=e.getBody();if(f===m&&r.isCollapsed()){if(a.isBlock(m.firstChild)&&EC(e,m.firstChild)&&a.isEmpty(m.firstChild)){u=a.createRng();u.setStart(m.firstChild,0);u.setEnd(m.firstChild,0);r.setRng(u)}}if(!r.isCollapsed()){AC(e)}const g=r.getNode();const p={context:g.nodeName.toLowerCase(),data:o.data,insert:true};const h=c.parse(t,p);if(o.paste===true&&oC(e.schema,h)&&uC(a,g)){u=bC(l,a,r.getRng(),h);if(u){r.setRng(u)}return t}if(o.paste===true&&kC(a,h,g,e.getBody())){(n=h.firstChild)===null||n===void 0?void 0:n.unwrap()}zC(h);let y=h.lastChild;if(y&&y.attr("id")==="mce_marker"){const t=y;for(y=y.prev;y;y=y.walk(true)){if(y.type===3||!a.isBlock(y.name)){if(y.parent&&e.schema.isValidChild(y.parent.name,"span")){y.parent.insert(t,y,y.name==="br")}break}}}e._selectionOverrides.showBlockCaretContainer(g);if(!p.invalid){t=l.serialize(h);xC(e,t,g)}else{e.selection.setContent(d);let o=r.getNode();let n;const i=e.getBody();if(dr(o)){o=n=i}else{n=o}while(n&&n!==i){o=n;n=n.parentNode}t=o===i?i.innerHTML:a.getOuterHTML(o);const u=c.parse(t);for(let e=u;e;e=e.walk()){if(e.attr("id")==="mce_marker"){e.replace(h);break}}const f=h.children();const m=(s=h.parent)!==null&&s!==void 0?s:u;h.unwrap();const g=oe(f,(t=>Gx(e.schema,t,m)));Wx(g,e.schema);Ix(c.getNodeFilters(),c.getAttributeFilters(),u);t=l.serialize(u);if(o===i){a.setHTML(i,t)}else{a.setOuterHTML(o,t)}}SC(e,i);DC(e,a.get("mce_marker"));OC(e.getBody());CC(a,r.getStart());ac(e.schema,e.getBody(),r.getStart());return t};const MC=e=>e instanceof pk;const RC=e=>{if(Fv(e)){Mg(e.getBody()).each((t=>{const o=t.getNode();const n=nr(o)?Mg(o).getOr(t):t;e.selection.setRng(n.toRange())}))}};const BC=(e,t,o)=>{e.dom.setHTML(e.getBody(),t);if(o!==true){RC(e)}};const LC=(e,t,o,n)=>{if(o.length===0||/^\s+$/.test(o)){const s='<br data-mce-bogus="1">';if(t.nodeName==="TABLE"){o="<tr><td>"+s+"</td></tr>"}else if(/^(UL|OL)$/.test(t.nodeName)){o="<li>"+s+"</li>"}const r=Eu(e);if(e.schema.isValidChild(t.nodeName.toLowerCase(),r.toLowerCase())){o=s;o=e.dom.createHTML(r,Du(e),o)}else if(!o){o=s}BC(e,o,n.no_selection);return{content:o,html:o}}else{if(n.format!=="raw"){o=Dk({validate:false},e.schema).serialize(e.parser.parse(o,{isRootContent:true,insert:true}))}const s=Gr(cn.fromDom(t))?o:mo.trim(o);BC(e,s,n.no_selection);return{content:s,html:s}}};const HC=(e,t,o,n)=>{Ix(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const s=Dk({validate:false},e.schema).serialize(o);const r=Gr(cn.fromDom(t))?s:mo.trim(s);BC(e,r,n.no_selection);return{content:o,html:r}};const IC=(e,t,o)=>U.from(e.getBody()).map((n=>{if(MC(t)){return HC(e,n,t,o)}else{return LC(e,n,t,o)}})).getOr({content:t,html:MC(o.content)?"":o.content});const PC=(e,t)=>Ps(e,t).isSome();const FC=e=>T(e)?e:j;const VC=(e,t,o)=>{let n=e.dom;const s=FC(o);while(n.parentNode){n=n.parentNode;const e=cn.fromDom(n);const o=t(e);if(o.isSome()){return o}else if(s(e)){break}}return U.none()};const jC=(e,t,o)=>{const n=t(e);const s=FC(o);return n.orThunk((()=>s(e)?U.none():VC(e,t,s)))};const ZC=Yp;const UC=(e,t,o)=>{const n=e.formatter.get(o);if(n){for(let o=0;o<n.length;o++){const s=n[o];if(ch(s)&&s.inherit===false&&e.dom.is(t,s.selector)){return true}}}return false};const qC=(e,t,o,n,s)=>{const r=e.dom.getRoot();if(t===r){return false}const a=e.dom.getParent(t,(t=>{if(UC(e,t,o)){return true}return t.parentNode===r||!!GC(e,t,o,n,true)}));return!!GC(e,a,o,n,s)};const WC=(e,t,o)=>{if(ih(o)&&ZC(t,o.inline)){return true}if(sh(o)&&ZC(t,o.block)){return true}if(ch(o)){return Ks(t)&&e.is(t,o.selector)}return false};const $C=(e,t,o,n,s,r)=>{const a=o[n];const c=n==="attributes";if(T(o.onmatch)){return o.onmatch(t,o,n)}if(a){if(!He(a)){for(const n in a){if(Me(a,n)){const i=c?e.getAttrib(t,n):Jp(e,t,n);const l=Kp(a[n],r);const d=z(i)||ht(i);if(d&&z(l)){continue}if(s&&d&&!o.exact){return false}if((!s||o.exact)&&!ZC(i,Xp(l,n))){return false}}}}else{for(let o=0;o<a.length;o++){if(c?e.getAttrib(t,a[o]):Jp(e,t,a[o])){return true}}}}return true};const GC=(e,t,o,n,s)=>{const r=e.formatter.get(o);const a=e.dom;if(r&&Ks(t)){for(let o=0;o<r.length;o++){const c=r[o];if(WC(e.dom,t,c)&&$C(a,t,c,"attributes",s,n)&&$C(a,t,c,"styles",s,n)){const o=c.classes;if(o){for(let s=0;s<o.length;s++){if(!e.dom.hasClass(t,Kp(o[s],n))){return}}}return c}}}return undefined};const KC=(e,t,o,n,s)=>{if(n){return qC(e,n,t,o,s)}n=e.selection.getNode();if(qC(e,n,t,o,s)){return true}const r=e.selection.getStart();if(r!==n){if(qC(e,r,t,o,s)){return true}}return false};const YC=(e,t,o)=>{const n=[];const s={};const r=e.selection.getStart();e.dom.getParent(r,(r=>{for(let a=0;a<t.length;a++){const c=t[a];if(!s[c]&&GC(e,r,c,o)){s[c]=true;n.push(c)}}}),e.dom.getRoot());return n};const XC=(e,t)=>{const o=t=>gn(t,cn.fromDom(e.getBody()));const n=(t,o)=>GC(e,t.dom,o)?U.some(o):U.none();return U.from(e.selection.getStart(true)).bind((e=>jC(cn.fromDom(e),(e=>ve(t,(t=>n(e,t)))),o))).getOrNull()};const JC=(e,t)=>{const o=e.formatter.get(t);const n=e.dom;if(o){const t=e.selection.getStart();const s=eh(n,t);for(let e=o.length-1;e>=0;e--){const t=o[e];if(!ch(t)){return true}for(let e=s.length-1;e>=0;e--){if(n.is(s[e],t.selector)){return true}}}}return false};const QC=(e,t,o)=>se(o,((o,n)=>{const s=oh(e,n);if(e.formatter.matchNode(t,n,{},s)){return o.concat([n])}else{return o}}),[]);const eS=oa;const tS=(e,t)=>e.importNode(t,true);const oS=e=>{const t=[];let o=e;while(o){if(ar(o)&&o.data!==eS||o.childNodes.length>1){return[]}if(Ks(o)){t.push(o)}o=o.firstChild}return t};const nS=e=>oS(e).length>0;const sS=e=>{if(e){const t=new Ws(e,e);for(let e=t.current();e;e=t.next()){if(ar(e)){return e}}}return null};const rS=e=>{const t=cn.fromTag("span");Bo(t,{id:Bg,"data-mce-bogus":"1","data-mce-type":"format-caret"});if(e){ss(t,cn.fromText(eS))}return t};const aS=e=>{const t=sS(e);if(t&&t.data.charAt(0)===eS){t.deleteData(0,1)}return t};const cS=(e,t,o=true)=>{const n=e.dom,s=e.selection;if(nS(t)){f_(e,false,cn.fromDom(t),o)}else{const e=s.getRng();const o=n.getParent(t,n.isBlock);const r=e.startContainer;const a=e.startOffset;const c=e.endContainer;const i=e.endOffset;const l=aS(t);n.remove(t,true);if(r===l&&a>0){e.setStart(l,a-1)}if(c===l&&i>0){e.setEnd(l,i-1)}if(o&&n.isEmpty(o)){ea(cn.fromDom(o))}s.setRng(e)}};const iS=(e,t,o=true)=>{const n=e.dom,s=e.selection;if(!t){t=Hg(e.getBody(),s.getStart());if(!t){while(t=n.get(Bg)){cS(e,t,false)}}}else{cS(e,t,o)}};const lS=(e,t,o)=>{var n,s;const r=e.dom;const a=r.getParent(o,H(Zp,e.schema));if(a&&r.isEmpty(a)){(n=o.parentNode)===null||n===void 0?void 0:n.replaceChild(t,o)}else{Jr(cn.fromDom(o));if(r.isEmpty(o)){(s=o.parentNode)===null||s===void 0?void 0:s.replaceChild(t,o)}else{r.insertAfter(t,o)}}};const dS=(e,t)=>{e.appendChild(t);return t};const uS=(e,t)=>{var o;const n=ne(e,((e,t)=>dS(e,t.cloneNode(false))),t);const s=(o=n.ownerDocument)!==null&&o!==void 0?o:document;return dS(n,s.createTextNode(eS))};const fS=(e,t,o,n,s,r)=>{const a=e.formatter;const c=e.dom;const i=oe(we(a.get()),(e=>e!==n&&!it(e,"removeformat")));const l=QC(e,o,i);const d=oe(l,(t=>!nh(e,t,n)));if(d.length>0){const e=o.cloneNode(false);c.add(t,e);a.remove(n,s,e,r);c.remove(e);return U.some(e)}else{return U.none()}};const mS=(e,t,o)=>{let n;const s=e.selection;const r=e.formatter.get(t);if(!r){return}const a=s.getRng();let c=a.startOffset;const i=a.startContainer;const l=i.nodeValue;n=Hg(e.getBody(),s.getStart());const d=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&c>0&&c<l.length&&d.test(l.charAt(c))&&d.test(l.charAt(c-1))){const n=s.getBookmark();a.collapse(true);let c=zh(e.dom,a,r);c=pb(c);e.formatter.apply(t,o,c);s.moveToBookmark(n)}else{let r=n?sS(n):null;if(!n||(r===null||r===void 0?void 0:r.data)!==eS){n=tS(e.getDoc(),rS(true).dom);r=n.firstChild;a.insertNode(n);c=1;e.formatter.apply(t,o,n)}else{e.formatter.apply(t,o,n)}s.setCursorLocation(r,c)}};const gS=(e,t,o,n)=>{const s=e.dom;const r=e.selection;let a=false;const c=e.formatter.get(t);if(!c){return}const i=r.getRng();const l=i.startContainer;const d=i.startOffset;let u=l;if(ar(l)){if(d!==l.data.length){a=true}u=u.parentNode}const f=[];let m;while(u){if(GC(e,u,t,o,n)){m=u;break}if(u.nextSibling){a=true}f.push(u);u=u.parentNode}if(!m){return}if(a){const a=r.getBookmark();i.collapse(true);let l=zh(s,i,c,true);l=pb(l);e.formatter.remove(t,o,l,n);r.moveToBookmark(a)}else{const a=Hg(e.getBody(),m);const c=rS(false).dom;lS(e,c,a!==null&&a!==void 0?a:m);const i=fS(e,c,m,t,o,n);const l=uS(f.concat(i.toArray()),c);if(a){cS(e,a,false)}r.setCursorLocation(l,1);if(s.isEmpty(m)){s.remove(m)}}};const pS=(e,t)=>{const o=e.selection,n=e.getBody();iS(e,null,false);if((t===8||t===46)&&o.isCollapsed()&&o.getStart().innerHTML===eS){iS(e,Hg(n,o.getStart()))}if(t===37||t===39){iS(e,Hg(n,o.getStart()))}};const hS=e=>{e.on("mouseup keydown",(t=>{pS(e,t.keyCode)}))};const yS=(e,t)=>{const o=rS(false);const n=uS(t,o.dom);ts(cn.fromDom(e),o);ls(cn.fromDom(e));return yd(n,0)};const bS=(e,t)=>{const o=e.schema.getTextInlineElements();return Me(o,Co(t))&&!Lg(t.dom)&&!tr(t.dom)};const vS=e=>Lg(e.dom)&&nS(e.dom);const kS={};const wS=Xs(["pre"]);const _S=(e,t)=>{const o=kS[e];if(!o){kS[e]=[]}kS[e].push(t)};const xS=(e,t)=>{if(Me(kS,e)){Q(kS[e],(e=>{e(t)}))}};_S("pre",(e=>{const t=e.selection.getRng();const o=e=>t=>{const o=t.previousSibling;return wS(o)&&Y(e,o)};const n=(e,t)=>{const o=cn.fromDom(t);const n=yn(o).dom;ls(o);cs(cn.fromDom(e),[cn.fromTag("br",n),cn.fromTag("br",n),...Tn(o)])};if(!t.collapsed){const t=e.selection.getSelectedBlocks();const s=oe(oe(t,wS),o(t));Q(s,(e=>{n(e.previousSibling,e)}))}}));const CS=["fontWeight","fontStyle","color","fontSize","fontFamily"];const SS=e=>k(e.styles)&&X(we(e.styles),(e=>Y(CS,e)));const zS=e=>ae(e,(e=>ih(e)&&e.inline==="span"&&SS(e)));const OS=(e,t)=>{const o=e.get(t);return _(o)?zS(o):U.none()};const TS=(e,t)=>Ng(t,yd.fromRangeStart(e)).isNone();const ES=(e,t)=>Ag(t,yd.fromRangeEnd(e)).exists((e=>!fr(e.getNode())||Ag(t,e).isSome()))===false;const DS=e=>t=>vr(t)&&e.getContentEditableParent(t)!=="false";const AS=e=>{const t=e.getSelectedBlocks();const o=e.getRng();if(e.isCollapsed()){return[]}if(t.length===1){return TS(o,t[0])&&ES(o,t[0])?t:[]}else{const e=he(t).filter((e=>TS(o,e))).toArray();const n=ye(t).filter((e=>ES(o,e))).toArray();const s=t.slice(1,-1);return e.concat(s).concat(n)}};const NS=e=>oe(AS(e),DS(e.dom));const MS=e=>oe(e.getSelectedBlocks(),DS(e.dom));const RS=mo.each;const BS=e=>Ks(e)&&!rp(e)&&!Lg(e)&&!tr(e);const LS=(e,t)=>{for(let o=e;o;o=o[t]){if(ar(o)&&pt(o.data)){return e}if(Ks(o)&&!rp(o)){return o}}return e};const HS=(e,t,o)=>{const n=Mx(e);const s=Ks(t)&&Pp(t);const r=Ks(o)&&Pp(o);if(s&&r){const s=LS(t,"previousSibling");const r=LS(o,"nextSibling");if(n.compare(s,r)){for(let e=s.nextSibling;e&&e!==r;){const t=e;e=e.nextSibling;s.appendChild(t)}e.dom.remove(r);mo.each(mo.grep(r.childNodes),(e=>{s.appendChild(e)}));return s}}return o};const IS=(e,t,o,n)=>{var s;if(n&&t.merge_siblings!==false){const t=(s=HS(e,jp(n),n))!==null&&s!==void 0?s:n;HS(e,t,jp(t,true))}};const PS=(e,t,o)=>{if(t.clear_child_styles){const n=t.links?"*:not(a)":"*";RS(e.select(n,o),(o=>{if(BS(o)&&Pp(o)){RS(t.styles,((t,n)=>{e.setStyle(o,n,"")}))}}))}};const FS=(e,t,o)=>{RS(e.childNodes,(e=>{if(BS(e)){if(t(e)){o(e)}if(e.hasChildNodes()){FS(e,t,o)}}}))};const VS=(e,t)=>{if(t.nodeName==="SPAN"&&e.getAttribs(t).length===0){e.remove(t,true)}};const jS=(e,t)=>o=>!!(o&&Jp(e,o,t));const ZS=(e,t,o)=>n=>{e.setStyle(n,t,o);if(n.getAttribute("style")===""){n.removeAttribute("style")}VS(e,n)};const US=nu.generate([{keep:[]},{rename:["name"]},{removed:[]}]);const qS=/^(src|href|style)$/;const WS=mo.each;const $S=Yp;const GS=e=>/^(TR|TH|TD)$/.test(e.nodeName);const KS=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o);const YS=(e,t,o)=>{let n=t[o?"startContainer":"endContainer"];let s=t[o?"startOffset":"endOffset"];if(Ks(n)){const e=n.childNodes.length-1;if(!o&&s){s--}n=n.childNodes[s>e?e:s]}if(ar(n)&&o&&s>=n.data.length){n=new Ws(n,e.getBody()).next()||n}if(ar(n)&&!o&&s===0){n=new Ws(n,e.getBody()).prev()||n}return n};const XS=(e,t)=>{const o=t?"firstChild":"lastChild";const n=e[o];if(GS(e)&&n){if(e.nodeName==="TR"){return n[o]||n}else{return n}}return e};const JS=(e,t,o,n)=>{var s;const r=e.create(o,n);(s=t.parentNode)===null||s===void 0?void 0:s.insertBefore(r,t);r.appendChild(t);return r};const QS=(e,t,o,n,s)=>{const r=cn.fromDom(t);const a=cn.fromDom(e.create(n,s));const c=o?On(r):zn(r);cs(a,c);if(o){ts(r,a);ns(a,r)}else{os(r,a);ss(a,r)}return a.dom};const ez=(e,t)=>t.links&&e.nodeName==="A";const tz=(e,t,o)=>{const n=t.parentNode;let s;const r=e.dom;const a=Eu(e);if(sh(o)){if(n===r.getRoot()){if(!o.list_block||!$S(t,o.list_block)){Q(be(t.childNodes),(t=>{if(Up(e,a,t.nodeName.toLowerCase())){if(!s){s=JS(r,t,a);r.setAttribs(s,Du(e))}else{s.appendChild(t)}}else{s=null}}))}}}if(lh(o)&&!$S(o.inline,t)){return}r.remove(t,true)};const oz=(e,t,o)=>{if(E(e)){return{name:t,value:null}}else{return{name:e,value:Kp(t,o)}}};const nz=(e,t)=>{if(e.getAttrib(t,"style")===""){t.removeAttribute("style");t.removeAttribute("data-mce-style")}};const sz=(e,t,o,n,s)=>{let r=false;WS(o.styles,((a,c)=>{const{name:i,value:l}=oz(c,a,n);const d=Xp(l,i);if(o.remove_similar||x(l)||!Ks(s)||$S(Jp(e,s,i),d)){e.setStyle(t,i,"")}r=true}));if(r){nz(e,t)}};const rz=(e,t,o)=>{if(t==="removeformat"){Q(MS(e.selection),(t=>{Q(CS,(o=>e.dom.setStyle(t,o,"")));nz(e.dom,t)}))}else{OS(e.formatter,t).each((t=>{Q(MS(e.selection),(n=>sz(e.dom,n,t,o,null)))}))}};const az=(e,t,o,n,s)=>{const r=e.dom;const a=Mx(e);const c=e.schema;if(ih(t)&&ic(c,t.inline)&&dc(c,n)&&n.parentElement===e.getBody()){tz(e,n,t);return US.removed()}if(!t.ceFalseOverride&&n&&r.getContentEditableParent(n)==="false"){return US.keep()}if(n&&!WC(r,n,t)&&!ez(n,t)){return US.keep()}const i=n;const l=t.preserve_attributes;if(ih(t)&&t.remove==="all"&&_(l)){const e=oe(r.getAttribs(i),(e=>Y(l,e.name.toLowerCase())));r.removeAllAttribs(i);Q(e,(e=>r.setAttrib(i,e.name,e.value)));if(e.length>0){return US.rename("span")}}if(t.remove!=="all"){sz(r,i,t,o,s);WS(t.attributes,((e,n)=>{const{name:a,value:c}=oz(n,e,o);if(t.remove_similar||x(c)||!Ks(s)||$S(r.getAttrib(s,a),c)){if(a==="class"){const e=r.getAttrib(i,a);if(e){let t="";Q(e.split(/\s+/),(e=>{if(/mce\-\w+/.test(e)){t+=(t?" ":"")+e}}));if(t){r.setAttrib(i,a,t);return}}}if(qS.test(a)){i.removeAttribute("data-mce-"+a)}if(a==="style"&&Xs(["li"])(i)&&r.getStyle(i,"list-style-type")==="none"){i.removeAttribute(a);r.setStyle(i,"list-style-type","none");return}if(a==="class"){i.removeAttribute("className")}i.removeAttribute(a)}}));WS(t.classes,(e=>{e=Kp(e,o);if(!Ks(s)||r.hasClass(s,e)){r.removeClass(i,e)}}));const e=r.getAttribs(i);for(let t=0;t<e.length;t++){const o=e[t].nodeName;if(!a.isAttributeInternal(o)){return US.keep()}}}if(t.remove!=="none"){tz(e,i,t);return US.removed()}return US.keep()};const cz=(e,t,o,n,s)=>az(e,t,o,n,s).fold(j,(t=>{e.dom.rename(n,t);return true}),Z);const iz=(e,t,o,n,s)=>{let r;if(t.parentNode){Q(eh(e.dom,t.parentNode).reverse(),(t=>{if(!r&&Ks(t)&&t.id!=="_start"&&t.id!=="_end"){const a=GC(e,t,o,n,s);if(a&&a.split!==false){r=t}}}))}return r};const lz=(e,t,o,n)=>az(e,t,o,n,n).fold(R(n),(t=>{const o=e.dom.createFragment();o.appendChild(n);return e.dom.rename(n,t)}),R(null));const dz=(e,t,o,n,s,r,a,c)=>{var i,l;let d;let u;const f=e.dom;if(o){const m=o.parentNode;for(let o=n.parentNode;o&&o!==m;o=o.parentNode){let n=f.clone(o,false);for(let o=0;o<t.length;o++){n=lz(e,t[o],c,n);if(n===null){break}}if(n){if(d){n.appendChild(d)}if(!u){u=n}d=n}}if(r&&(!a.mixed||!f.isBlock(o))){n=(i=f.split(o,n))!==null&&i!==void 0?i:n}if(d&&u){(l=s.parentNode)===null||l===void 0?void 0:l.insertBefore(d,s);u.appendChild(s);if(ih(a)){IS(e,a,c,d)}}}return n};const uz=(e,t,o,n,s)=>{const r=e.formatter.get(t);const a=r[0];const c=e.dom;const i=e.selection;const l=n=>{const c=iz(e,n,t,o,s);return dz(e,r,c,n,n,true,a,o)};const d=e=>rp(e)&&Ks(e)&&(e.id==="_start"||e.id==="_end");const u=t=>X(r,(n=>cz(e,n,o,t,t)));const f=t=>{const o=be(t.childNodes);const n=u(t);const s=n||X(r,(e=>WC(c,t,e)));const i=t.parentNode;if(!s&&O(i)&&dh(a)){u(i)}if(a.deep){if(o.length){for(let e=0;e<o.length;e++){f(o[e])}}}const l=["underline","line-through","overline"];Q(l,(o=>{if(Ks(t)&&e.dom.getStyle(t,"text-decoration")===o&&t.parentNode&&Qp(c,t.parentNode)===o){cz(e,{deep:false,exact:true,inline:"span",styles:{textDecoration:o}},undefined,t)}}))};const m=e=>{const t=c.get(e?"_start":"_end");if(t){let o=t[e?"firstChild":"lastChild"];if(d(o)){o=o[e?"firstChild":"lastChild"]}if(ar(o)&&o.data.length===0){o=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling}c.remove(t,true);return o}else{return null}};const g=t=>{let o;let n;let s=zh(c,t,r,t.collapsed);if(a.split){s=pb(s);o=YS(e,s,true);n=YS(e,s);if(o!==n){o=XS(o,true);n=XS(n,false);if(KS(c,o,n)){const e=U.from(o.firstChild).getOr(o);l(QS(c,e,true,"span",{id:"_start","data-mce-type":"bookmark"}));m(true);return}if(KS(c,n,o)){const e=U.from(n.lastChild).getOr(n);l(QS(c,e,false,"span",{id:"_end","data-mce-type":"bookmark"}));m(false);return}o=JS(c,o,"span",{id:"_start","data-mce-type":"bookmark"});n=JS(c,n,"span",{id:"_end","data-mce-type":"bookmark"});const e=c.createRng();e.setStartAfter(o);e.setEndBefore(n);Oh(c,e,(e=>{Q(e,(e=>{if(!rp(e)&&!rp(e.parentNode)){l(e)}}))}));l(o);l(n);o=m(true);n=m()}else{o=n=l(o)}s.startContainer=o.parentNode?o.parentNode:o;s.startOffset=c.nodeIndex(o);s.endContainer=n.parentNode?n.parentNode:n;s.endOffset=c.nodeIndex(n)+1}Oh(c,s,(e=>{Q(e,f)}))};if(n){if(Lp(n)){const e=c.createRng();e.setStartBefore(n);e.setEndAfter(n);g(e)}else{g(n)}Qh(e,t,n,o);return}if(!i.isCollapsed()||!ih(a)||Sp(e).length){Fp(e,(()=>Rp(e,g)),(n=>ih(a)&&KC(e,t,o,n)));e.nodeChanged()}else{gS(e,t,o,s)}rz(e,t,o);Qh(e,t,n,o)};const fz=mo.each;const mz=(e,t,o,n)=>{const s=t=>{if(Ks(t)&&Ks(t.parentNode)&&Pp(t)){const o=Qp(e,t.parentNode);if(e.getStyle(t,"color")&&o){e.setStyle(t,"text-decoration",o)}else if(e.getStyle(t,"text-decoration")===o){e.setStyle(t,"text-decoration",null)}}};if(t.styles&&(t.styles.color||t.styles.textDecoration)){mo.walk(n,s,"childNodes");s(n)}};const gz=(e,t,o,n)=>{if(t.styles&&t.styles.backgroundColor){const s=jS(e,"fontSize");FS(n,(e=>s(e)&&Pp(e)),ZS(e,"backgroundColor",Kp(t.styles.backgroundColor,o)))}};const pz=(e,t,o,n)=>{if(ih(t)&&(t.inline==="sub"||t.inline==="sup")){const o=jS(e,"fontSize");FS(n,(e=>o(e)&&Pp(e)),ZS(e,"fontSize",""));const s=oe(e.select(t.inline==="sup"?"sub":"sup",n),Pp);e.remove(s,true)}};const hz=(e,t,o,n)=>{fz(t,(t=>{if(ih(t)){fz(e.dom.select(t.inline,n),(n=>{if(BS(n)){cz(e,t,o,n,t.exact?n:null)}}))}PS(e.dom,t,n)}))};const yz=(e,t,o,n,s)=>{const r=s.parentNode;if(GC(e,r,o,n)){if(cz(e,t,n,s)){return}}if(t.merge_with_parents&&r){e.dom.getParent(r,(r=>{if(GC(e,r,o,n)){cz(e,t,n,s);return true}else{return false}}))}};const bz=mo.each;const vz=(e,t,o,n)=>{if(pf(e)&&ih(t)&&o.parentNode){const t=ni(e.schema);const s=PC(cn.fromDom(o),(e=>Lg(e.dom)));return Re(t,n)&&Ka(cn.fromDom(o.parentNode),false)&&!s}else{return false}};const kz=(e,t,o,n)=>{bz(o.styles,((o,s)=>{e.setStyle(t,s,Kp(o,n))}));if(o.styles){const o=e.getAttrib(t,"style");if(o){e.setAttrib(t,"data-mce-style",o)}}};const wz=(e,t,o,n)=>{const s=e.formatter.get(t);const r=s[0];const a=!n&&e.selection.isCollapsed();const c=e.dom;const i=e.selection;const l=(e,t=r)=>{if(T(t.onformat)){t.onformat(e,t,o,n)}kz(c,e,t,o);bz(t.attributes,((t,n)=>{c.setAttrib(e,n,Kp(t,o))}));bz(t.classes,(t=>{const n=Kp(t,o);if(!c.hasClass(e,n)){c.addClass(e,n)}}))};const d=(e,t)=>{let o=false;bz(e,(e=>{if(!ch(e)){return false}if(c.getContentEditable(t)==="false"&&!e.ceFalseOverride){return true}if(O(e.collapsed)&&e.collapsed!==a){return true}if(c.is(t,e.selector)&&!Lg(t)){l(t,e);o=true;return false}return true}));return o};const u=e=>{if(v(e)){const t=c.create(e);l(t);return t}else{return null}};const f=(n,a,c)=>{const i=[];let f=true;const m=r.inline||r.block;const g=u(m);const p=n=>rh(r)&&GC(e,n,t,o);const h=(t,o,n)=>{const s=ah(r)&&Zp(e.schema,t)&&Up(e,o,m);return n&&s};const y=(t,o,s,a)=>{const i=t.nodeName.toLowerCase();const l=Up(e,m,i)&&Up(e,o,m);const d=!c&&ar(t)&&na(t.data);const u=Lg(t);const f=!ih(r)||!n.isBlock(t);return(s||a)&&l&&!d&&!u&&f};Oh(n,a,(t=>{let o;const a=t=>{let c=false;let u=f;let b=false;const v=t.parentNode;const k=v.nodeName.toLowerCase();const w=n.getContentEditable(t);if(O(w)){u=f;f=w==="true";c=true;b=Gp(e,t)}const _=f&&!c;if(fr(t)&&!vz(e,r,t,k)){o=null;if(sh(r)){n.remove(t)}return}if(p(t)){o=null;return}if(h(t,k,_)){const e=n.rename(t,m);l(e);i.push(e);o=null;return}if(ch(r)){let e=d(s,t);if(!e&&O(v)&&dh(r)){e=d(s,v)}if(!ih(r)||e){o=null;return}}if(O(g)&&y(t,k,_,b)){if(!o){o=n.clone(g,false);v.insertBefore(o,t);i.push(o)}if(b&&c){f=u}o.appendChild(t)}else{o=null;Q(be(t.childNodes),a);if(c){f=u}o=null}};Q(t,a)}));if(r.links===true){Q(i,(e=>{const t=e=>{if(e.nodeName==="A"){l(e,r)}Q(be(e.childNodes),t)};t(e)}))}Q(i,(a=>{const c=e=>{let t=0;Q(e.childNodes,(e=>{if(!Wp(e)&&!rp(e)){t++}}));return t};const d=e=>{const t=ae(e.childNodes,Hp).filter((e=>n.getContentEditable(e)!=="false"&&WC(n,e,r)));return t.map((t=>{const o=n.clone(t,false);l(o);n.replace(o,e,true);n.remove(t,true);return o})).getOr(e)};const u=c(a);if((i.length>1||!n.isBlock(a))&&u===0){n.remove(a,true);return}if(ih(r)||sh(r)&&r.wrapper){if(!r.exact&&u===1){a=d(a)}hz(e,s,o,a);yz(e,r,t,o,a);gz(n,r,o,a);mz(n,r,o,a);pz(n,r,o,a);IS(e,r,o,a)}}))};const m=Lp(n)?n:i.getNode();if(c.getContentEditable(m)==="false"&&!Gp(e,m)){n=m;d(s,n);Jh(e,t,n,o);return}if(r){if(n){if(Lp(n)){if(!d(s,n)){const e=c.createRng();e.setStartBefore(n);e.setEndAfter(n);f(c,zh(c,e,s),true)}}else{f(c,n,true)}}else{if(!a||!ih(r)||Sp(e).length){i.setRng(Xx(i.getRng()));Fp(e,(()=>{Rp(e,((e,t)=>{const o=t?e:zh(c,e,s);f(c,o,false)}))}),Z);e.nodeChanged()}else{mS(e,t,o)}OS(e.formatter,t).each((t=>{Q(NS(e.selection),(e=>kz(c,e,t,o)))}))}xS(t,e)}Jh(e,t,n,o)};const _z=e=>Me(e,"vars");const xz=(e,t)=>{e.set({});t.on("NodeChange",(o=>{Oz(t,o.element,e.get())}));t.on("FormatApply FormatRemove",(o=>{const n=U.from(o.node).map((e=>Lp(e)?e:e.startContainer)).bind((e=>Ks(e)?U.some(e):U.from(e.parentElement))).getOrThunk((()=>Cz(t)));Oz(t,n,e.get())}))};const Cz=e=>e.selection.getStart();const Sz=(e,t,o,n,s)=>{const r=t=>{const r=e.formatter.matchNode(t,o,s!==null&&s!==void 0?s:{},n);return!S(r)};const a=t=>{if(UC(e,t,o)){return true}else{if(!n){return O(e.formatter.matchNode(t,o,s,true))}else{return false}}};return re(t,r,a)};const zz=(e,t)=>{const o=t!==null&&t!==void 0?t:Cz(e);return oe(eh(e.dom,o),(e=>Ks(e)&&!tr(e)))};const Oz=(e,t,o)=>{const n=zz(e,t);xe(o,((o,s)=>{const r=o=>{const r=Sz(e,n,s,o.similar,_z(o)?o.vars:undefined);const a=r.isSome();if(o.state.get()!==a){o.state.set(a);const e=r.getOr(t);if(_z(o)){o.callback(a,{node:e,format:s,parents:n})}else{Q(o.callbacks,(t=>t(a,{node:e,format:s,parents:n})))}}};Q([o.withSimilar,o.withoutSimilar],r);Q(o.withVars,r)}))};const Tz=(e,t,o,n,s,r)=>{const a=t.get();Q(o.split(","),(t=>{const o=Ne(a,t).getOrThunk((()=>{const e={withSimilar:{state:Fi(false),similar:true,callbacks:[]},withoutSimilar:{state:Fi(false),similar:false,callbacks:[]},withVars:[]};a[t]=e;return e}));const c=()=>{const o=zz(e);return Sz(e,o,t,s,r).isSome()};if(S(r)){const e=s?o.withSimilar:o.withoutSimilar;e.callbacks.push(n);if(e.callbacks.length===1){e.state.set(c())}}else{o.withVars.push({state:Fi(c()),similar:s,vars:r,callback:n})}}));t.set(a)};const Ez=(e,t,o)=>{const n=e.get();Q(t.split(","),(e=>Ne(n,e).each((t=>{n[e]={withSimilar:{...t.withSimilar,callbacks:oe(t.withSimilar.callbacks,(e=>e!==o))},withoutSimilar:{...t.withoutSimilar,callbacks:oe(t.withoutSimilar.callbacks,(e=>e!==o))},withVars:oe(t.withVars,(e=>e.callback!==o))}}))));e.set(n)};const Dz=(e,t,o,n,s,r)=>{Tz(e,t,o,n,s,r);return{unbind:()=>Ez(t,o,n)}};const Az=(e,t,o,n)=>{const s=e.formatter.get(t);if(s){if(KC(e,t,o,n)&&(!("toggle"in s[0])||s[0].toggle)){uz(e,t,o,n)}else{wz(e,t,o,n)}}};function Nz(e){"@babel/helpers - typeof";return Nz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nz(e)}function Mz(e,t){Mz=Object.setPrototypeOf||function e(t,o){t.__proto__=o;return t};return Mz(e,t)}function Rz(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function Bz(e,t,o){if(Rz()){Bz=Reflect.construct}else{Bz=function e(t,o,n){var s=[null];s.push.apply(s,o);var r=Function.bind.apply(t,s);var a=new r;if(n)Mz(a,n.prototype);return a}}return Bz.apply(null,arguments)}function Lz(e){return Hz(e)||Iz(e)||Pz(e)||Vz()}function Hz(e){if(Array.isArray(e))return Fz(e)}function Iz(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pz(e,t){if(!e)return;if(typeof e==="string")return Fz(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor)o=e.constructor.name;if(o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Fz(e,t)}function Fz(e,t){if(t==null||t>e.length)t=e.length;for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function Vz(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var jz=Object.hasOwnProperty,Zz=Object.setPrototypeOf,Uz=Object.isFrozen,qz=Object.getPrototypeOf,Wz=Object.getOwnPropertyDescriptor;var $z=Object.freeze,Gz=Object.seal,Kz=Object.create;var Yz=typeof Reflect!=="undefined"&&Reflect,Xz=Yz.apply,Jz=Yz.construct;if(!Xz){Xz=function e(t,o,n){return t.apply(o,n)}}if(!$z){$z=function e(t){return t}}if(!Gz){Gz=function e(t){return t}}if(!Jz){Jz=function e(t,o){return Bz(t,Lz(o))}}var Qz=lO(Array.prototype.forEach);var eO=lO(Array.prototype.pop);var tO=lO(Array.prototype.push);var oO=lO(String.prototype.toLowerCase);var nO=lO(String.prototype.match);var sO=lO(String.prototype.replace);var rO=lO(String.prototype.indexOf);var aO=lO(String.prototype.trim);var cO=lO(RegExp.prototype.test);var iO=dO(TypeError);function lO(e){return function(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),s=1;s<o;s++){n[s-1]=arguments[s]}return Xz(e,t,n)}}function dO(e){return function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++){o[n]=arguments[n]}return Jz(e,o)}}function uO(e,t){if(Zz){Zz(e,null)}var o=t.length;while(o--){var n=t[o];if(typeof n==="string"){var s=oO(n);if(s!==n){if(!Uz(t)){t[o]=s}n=s}}e[n]=true}return e}function fO(e){var t=Kz(null);var o;for(o in e){if(Xz(jz,e,[o])){t[o]=e[o]}}return t}function mO(e,t){while(e!==null){var o=Wz(e,t);if(o){if(o.get){return lO(o.get)}if(typeof o.value==="function"){return lO(o.value)}}e=qz(e)}function n(e){console.warn("fallback value for",e);return null}return n}var gO=$z(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]);var pO=$z(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]);var hO=$z(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]);var yO=$z(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]);var bO=$z(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]);var vO=$z(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]);var kO=$z(["#text"]);var wO=$z(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]);var _O=$z(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]);var xO=$z(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]);var CO=$z(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]);var SO=Gz(/\{\{[\w\W]*|[\w\W]*\}\}/gm);var zO=Gz(/<%[\w\W]*|[\w\W]*%>/gm);var OO=Gz(/^data-[\-\w.\u00B7-\uFFFF]/);var TO=Gz(/^aria-[\-\w]+$/);var EO=Gz(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i);var DO=Gz(/^(?:\w+script|data):/i);var AO=Gz(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g);var NO=Gz(/^html$/i);var MO=function e(){return typeof window==="undefined"?null:window};var RO=function e(t,o){if(Nz(t)!=="object"||typeof t.createPolicy!=="function"){return null}var n=null;var s="data-tt-policy-suffix";if(o.currentScript&&o.currentScript.hasAttribute(s)){n=o.currentScript.getAttribute(s)}var r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML:function e(t){return t}})}catch(e){console.warn("TrustedTypes policy "+r+" could not be created.");return null}};function BO(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:MO();var t=function e(t){return BO(t)};t.version="2.3.8";t.removed=[];if(!e||!e.document||e.document.nodeType!==9){t.isSupported=false;return t}var o=e.document;var n=e.document;var s=e.DocumentFragment,r=e.HTMLTemplateElement,a=e.Node,c=e.Element,i=e.NodeFilter,l=e.NamedNodeMap,d=l===void 0?e.NamedNodeMap||e.MozNamedAttrMap:l,u=e.HTMLFormElement,f=e.DOMParser,m=e.trustedTypes;var g=c.prototype;var p=mO(g,"cloneNode");var h=mO(g,"nextSibling");var y=mO(g,"childNodes");var b=mO(g,"parentNode");if(typeof r==="function"){var v=n.createElement("template");if(v.content&&v.content.ownerDocument){n=v.content.ownerDocument}}var k=RO(m,o);var w=k?k.createHTML(""):"";var _=n,x=_.implementation,C=_.createNodeIterator,S=_.createDocumentFragment,z=_.getElementsByTagName;var O=o.importNode;var T={};try{T=fO(n).documentMode?n.documentMode:{}}catch(e){}var E={};t.isSupported=typeof b==="function"&&x&&typeof x.createHTMLDocument!=="undefined"&&T!==9;var D=SO,A=zO,N=OO,M=TO,R=DO,B=AO;var L=EO;var H=null;var I=uO({},[].concat(Lz(gO),Lz(pO),Lz(hO),Lz(bO),Lz(kO)));var P=null;var F=uO({},[].concat(Lz(wO),Lz(_O),Lz(xO),Lz(CO)));var V=Object.seal(Object.create(null,{tagNameCheck:{writable:true,configurable:false,enumerable:true,value:null},attributeNameCheck:{writable:true,configurable:false,enumerable:true,value:null},allowCustomizedBuiltInElements:{writable:true,configurable:false,enumerable:true,value:false}}));var j=null;var Z=null;var U=true;var q=true;var W=false;var $=false;var G=false;var K=false;var Y=false;var X=false;var J=false;var Q=false;var ee=true;var te=true;var oe=false;var ne={};var se=null;var re=uO({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);var ae=null;var ce=uO({},["audio","video","img","source","image","track"]);var ie=null;var le=uO({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]);var de="http://www.w3.org/1998/Math/MathML";var ue="http://www.w3.org/2000/svg";var fe="http://www.w3.org/1999/xhtml";var me=fe;var ge=false;var pe;var he=["application/xhtml+xml","text/html"];var ye="text/html";var be;var ve=null;var ke=n.createElement("form");var we=function e(t){return t instanceof RegExp||t instanceof Function};var _e=function e(t){if(ve&&ve===t){return}if(!t||Nz(t)!=="object"){t={}}t=fO(t);H="ALLOWED_TAGS"in t?uO({},t.ALLOWED_TAGS):I;P="ALLOWED_ATTR"in t?uO({},t.ALLOWED_ATTR):F;ie="ADD_URI_SAFE_ATTR"in t?uO(fO(le),t.ADD_URI_SAFE_ATTR):le;ae="ADD_DATA_URI_TAGS"in t?uO(fO(ce),t.ADD_DATA_URI_TAGS):ce;se="FORBID_CONTENTS"in t?uO({},t.FORBID_CONTENTS):re;j="FORBID_TAGS"in t?uO({},t.FORBID_TAGS):{};Z="FORBID_ATTR"in t?uO({},t.FORBID_ATTR):{};ne="USE_PROFILES"in t?t.USE_PROFILES:false;U=t.ALLOW_ARIA_ATTR!==false;q=t.ALLOW_DATA_ATTR!==false;W=t.ALLOW_UNKNOWN_PROTOCOLS||false;$=t.SAFE_FOR_TEMPLATES||false;G=t.WHOLE_DOCUMENT||false;X=t.RETURN_DOM||false;J=t.RETURN_DOM_FRAGMENT||false;Q=t.RETURN_TRUSTED_TYPE||false;Y=t.FORCE_BODY||false;ee=t.SANITIZE_DOM!==false;te=t.KEEP_CONTENT!==false;oe=t.IN_PLACE||false;L=t.ALLOWED_URI_REGEXP||L;me=t.NAMESPACE||fe;if(t.CUSTOM_ELEMENT_HANDLING&&we(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)){V.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck}if(t.CUSTOM_ELEMENT_HANDLING&&we(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)){V.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck}if(t.CUSTOM_ELEMENT_HANDLING&&typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean"){V.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements}pe=he.indexOf(t.PARSER_MEDIA_TYPE)===-1?pe=ye:pe=t.PARSER_MEDIA_TYPE;be=pe==="application/xhtml+xml"?function(e){return e}:oO;if($){q=false}if(J){X=true}if(ne){H=uO({},Lz(kO));P=[];if(ne.html===true){uO(H,gO);uO(P,wO)}if(ne.svg===true){uO(H,pO);uO(P,_O);uO(P,CO)}if(ne.svgFilters===true){uO(H,hO);uO(P,_O);uO(P,CO)}if(ne.mathMl===true){uO(H,bO);uO(P,xO);uO(P,CO)}}if(t.ADD_TAGS){if(H===I){H=fO(H)}uO(H,t.ADD_TAGS)}if(t.ADD_ATTR){if(P===F){P=fO(P)}uO(P,t.ADD_ATTR)}if(t.ADD_URI_SAFE_ATTR){uO(ie,t.ADD_URI_SAFE_ATTR)}if(t.FORBID_CONTENTS){if(se===re){se=fO(se)}uO(se,t.FORBID_CONTENTS)}if(te){H["#text"]=true}if(G){uO(H,["html","head","body"])}if(H.table){uO(H,["tbody"]);delete j.tbody}if($z){$z(t)}ve=t};var xe=uO({},["mi","mo","mn","ms","mtext"]);var Ce=uO({},["foreignobject","desc","title","annotation-xml"]);var Se=uO({},["title","style","font","a","script"]);var ze=uO({},pO);uO(ze,hO);uO(ze,yO);var Oe=uO({},bO);uO(Oe,vO);var Te=function e(t){var o=b(t);if(!o||!o.tagName){o={namespaceURI:fe,tagName:"template"}}var n=oO(t.tagName);var s=oO(o.tagName);if(t.namespaceURI===ue){if(o.namespaceURI===fe){return n==="svg"}if(o.namespaceURI===de){return n==="svg"&&(s==="annotation-xml"||xe[s])}return Boolean(ze[n])}if(t.namespaceURI===de){if(o.namespaceURI===fe){return n==="math"}if(o.namespaceURI===ue){return n==="math"&&Ce[s]}return Boolean(Oe[n])}if(t.namespaceURI===fe){if(o.namespaceURI===ue&&!Ce[s]){return false}if(o.namespaceURI===de&&!xe[s]){return false}return!Oe[n]&&(Se[n]||!ze[n])}return false};var Ee=function e(o){tO(t.removed,{element:o});try{o.parentNode.removeChild(o)}catch(e){try{o.outerHTML=w}catch(e){o.remove()}}};var De=function e(o,n){try{tO(t.removed,{attribute:n.getAttributeNode(o),from:n})}catch(e){tO(t.removed,{attribute:null,from:n})}n.removeAttribute(o);if(o==="is"&&!P[o]){if(X||J){try{Ee(n)}catch(e){}}else{try{n.setAttribute(o,"")}catch(e){}}}};var Ae=function e(t){var o;var s;if(Y){t="<remove></remove>"+t}else{var r=nO(t,/^[\r\n\t ]+/);s=r&&r[0]}if(pe==="application/xhtml+xml"){t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>"}var a=k?k.createHTML(t):t;if(me===fe){try{o=(new f).parseFromString(a,pe)}catch(e){}}if(!o||!o.documentElement){o=x.createDocument(me,"template",null);try{o.documentElement.innerHTML=ge?"":a}catch(e){}}var c=o.body||o.documentElement;if(t&&s){c.insertBefore(n.createTextNode(s),c.childNodes[0]||null)}if(me===fe){return z.call(o,G?"html":"body")[0]}return G?o.documentElement:c};var Ne=function e(t){return C.call(t.ownerDocument||t,t,i.SHOW_ELEMENT|i.SHOW_COMMENT|i.SHOW_TEXT,null,false)};var Me=function e(t){return t instanceof u&&(typeof t.nodeName!=="string"||typeof t.textContent!=="string"||typeof t.removeChild!=="function"||!(t.attributes instanceof d)||typeof t.removeAttribute!=="function"||typeof t.setAttribute!=="function"||typeof t.namespaceURI!=="string"||typeof t.insertBefore!=="function")};var Re=function e(t){return Nz(a)==="object"?t instanceof a:t&&Nz(t)==="object"&&typeof t.nodeType==="number"&&typeof t.nodeName==="string"};var Be=function e(o,n,s){if(!E[o]){return}Qz(E[o],(function(e){e.call(t,n,s,ve)}))};var Le=function e(o){var n;Be("beforeSanitizeElements",o,null);if(Me(o)){Ee(o);return true}if(cO(/[\u0080-\uFFFF]/,o.nodeName)){Ee(o);return true}var s=be(o.nodeName);Be("uponSanitizeElement",o,{tagName:s,allowedTags:H});if(o.hasChildNodes()&&!Re(o.firstElementChild)&&(!Re(o.content)||!Re(o.content.firstElementChild))&&cO(/<[/\w]/g,o.innerHTML)&&cO(/<[/\w]/g,o.textContent)){Ee(o);return true}if(s==="select"&&cO(/<template/i,o.innerHTML)){Ee(o);return true}if(!H[s]||j[s]){if(!j[s]&&Ie(s)){if(V.tagNameCheck instanceof RegExp&&cO(V.tagNameCheck,s))return false;if(V.tagNameCheck instanceof Function&&V.tagNameCheck(s))return false}if(te&&!se[s]){var r=b(o)||o.parentNode;var a=y(o)||o.childNodes;if(a&&r){var i=a.length;for(var l=i-1;l>=0;--l){r.insertBefore(p(a[l],true),h(o))}}}Ee(o);return true}if(o instanceof c&&!Te(o)){Ee(o);return true}if((s==="noscript"||s==="noembed")&&cO(/<\/no(script|embed)/i,o.innerHTML)){Ee(o);return true}if($&&o.nodeType===3){n=o.textContent;n=sO(n,D," ");n=sO(n,A," ");if(o.textContent!==n){tO(t.removed,{element:o.cloneNode()});o.textContent=n}}Be("afterSanitizeElements",o,null);return false};var He=function e(t,o,s){if(ee&&(o==="id"||o==="name")&&(s in n||s in ke)){return false}if(q&&!Z[o]&&cO(N,o));else if(U&&cO(M,o));else if(!P[o]||Z[o]){if(Ie(t)&&(V.tagNameCheck instanceof RegExp&&cO(V.tagNameCheck,t)||V.tagNameCheck instanceof Function&&V.tagNameCheck(t))&&(V.attributeNameCheck instanceof RegExp&&cO(V.attributeNameCheck,o)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(o))||o==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&cO(V.tagNameCheck,s)||V.tagNameCheck instanceof Function&&V.tagNameCheck(s)));else{return false}}else if(ie[o]);else if(cO(L,sO(s,B,"")));else if((o==="src"||o==="xlink:href"||o==="href")&&t!=="script"&&rO(s,"data:")===0&&ae[t]);else if(W&&!cO(R,sO(s,B,"")));else if(!s);else{return false}return true};var Ie=function e(t){return t.indexOf("-")>0};var Pe=function e(t){var o;var n;var s;var r;Be("beforeSanitizeAttributes",t,null);var a=t.attributes;if(!a){return}var c={attrName:"",attrValue:"",keepAttr:true,allowedAttributes:P};r=a.length;while(r--){o=a[r];var i=o,l=i.name,d=i.namespaceURI;n=l==="value"?o.value:aO(o.value);s=be(l);var u=n;c.attrName=s;c.attrValue=n;c.keepAttr=true;c.forceKeepAttr=undefined;Be("uponSanitizeAttribute",t,c);n=c.attrValue;if(c.forceKeepAttr){continue}if(!c.keepAttr){De(l,t);continue}if(cO(/\/>/i,n)){De(l,t);continue}if($){n=sO(n,D," ");n=sO(n,A," ")}var f=be(t.nodeName);if(!He(f,s,n)){De(l,t);continue}if(n!==u){try{if(d){t.setAttributeNS(d,l,n)}else{t.setAttribute(l,n)}}catch(e){De(l,t)}}}Be("afterSanitizeAttributes",t,null)};var Fe=function e(t){var o;var n=Ne(t);Be("beforeSanitizeShadowDOM",t,null);while(o=n.nextNode()){Be("uponSanitizeShadowNode",o,null);if(Le(o)){continue}if(o.content instanceof s){e(o.content)}Pe(o)}Be("afterSanitizeShadowDOM",t,null)};t.sanitize=function(n,r){var c;var i;var l;var d;var u;ge=!n;if(ge){n="\x3c!--\x3e"}if(typeof n!=="string"&&!Re(n)){if(typeof n.toString!=="function"){throw iO("toString is not a function")}else{n=n.toString();if(typeof n!=="string"){throw iO("dirty is not a string, aborting")}}}if(!t.isSupported){if(Nz(e.toStaticHTML)==="object"||typeof e.toStaticHTML==="function"){if(typeof n==="string"){return e.toStaticHTML(n)}if(Re(n)){return e.toStaticHTML(n.outerHTML)}}return n}if(!K){_e(r)}t.removed=[];if(typeof n==="string"){oe=false}if(oe){if(n.nodeName){var f=be(n.nodeName);if(!H[f]||j[f]){throw iO("root node is forbidden and cannot be sanitized in-place")}}}else if(n instanceof a){c=Ae("\x3c!----\x3e");i=c.ownerDocument.importNode(n,true);if(i.nodeType===1&&i.nodeName==="BODY"){c=i}else if(i.nodeName==="HTML"){c=i}else{c.appendChild(i)}}else{if(!X&&!$&&!G&&n.indexOf("<")===-1){return k&&Q?k.createHTML(n):n}c=Ae(n);if(!c){return X?null:Q?w:""}}if(c&&Y){Ee(c.firstChild)}var m=Ne(oe?n:c);while(l=m.nextNode()){if(l.nodeType===3&&l===d){continue}if(Le(l)){continue}if(l.content instanceof s){Fe(l.content)}Pe(l);d=l}d=null;if(oe){return n}if(X){if(J){u=S.call(c.ownerDocument);while(c.firstChild){u.appendChild(c.firstChild)}}else{u=c}if(P.shadowroot){u=O.call(o,u,true)}return u}var g=G?c.outerHTML:c.innerHTML;if(G&&H["!doctype"]&&c.ownerDocument&&c.ownerDocument.doctype&&c.ownerDocument.doctype.name&&cO(NO,c.ownerDocument.doctype.name)){g="<!DOCTYPE "+c.ownerDocument.doctype.name+">\n"+g}if($){g=sO(g,D," ");g=sO(g,A," ")}return k&&Q?k.createHTML(g):g};t.setConfig=function(e){_e(e);K=true};t.clearConfig=function(){ve=null;K=false};t.isValidAttribute=function(e,t,o){if(!ve){_e({})}var n=be(e);var s=be(t);return He(n,s,o)};t.addHook=function(e,t){if(typeof t!=="function"){return}E[e]=E[e]||[];tO(E[e],t)};t.removeHook=function(e){if(E[e]){return eO(E[e])}};t.removeHooks=function(e){if(E[e]){E[e]=[]}};t.removeAllHooks=function(){E={}};return t}var LO=BO();const HO=mo.explode;const IO=()=>{const e={};const t=(t,o)=>{Q(HO(t),(t=>{if(!Me(e,t)){e[t]={name:t,callbacks:[]}}e[t].callbacks.push(o)}))};const o=()=>Ae(e);const n=(t,o)=>{Q(HO(t),(t=>{if(Me(e,t)){if(O(o)){const n=e[t];const s=oe(n.callbacks,(e=>e!==o));if(s.length>0){n.callbacks=s}else{delete e[t]}}else{delete e[t]}}}))};return{addFilter:t,getFilters:o,removeFilter:n}};const PO=(e,t)=>{Q(t,(t=>{e.attr(t,null)}))};const FO=(e,t,o)=>{e.addNodeFilter("font",(e=>{Q(e,(e=>{const n=t.parse(e.attr("style"));const s=e.attr("color");const r=e.attr("face");const a=e.attr("size");if(s){n.color=s}if(r){n["font-family"]=r}if(a){bt(a).each((e=>{n["font-size"]=o[e-1]}))}e.name="span";e.attr("style",t.serialize(n));PO(e,["color","face","size"])}))}))};const VO=(e,t,o)=>{e.addNodeFilter("strike",(e=>{const n=t.type!=="html4";Q(e,(e=>{if(n){e.name="s"}else{const t=o.parse(e.attr("style"));t["text-decoration"]="line-through";e.name="span";e.attr("style",o.serialize(t))}}))}))};const jO=(e,t,o)=>{var n;const s=ci();if(t.convert_fonts_to_spans){FO(e,s,mo.explode((n=t.font_size_legacy_values)!==null&&n!==void 0?n:""))}VO(e,o,s)};const ZO=(e,t,o)=>{if(t.inline_styles){jO(e,t,o)}};const UO=e=>fetch(e).then((e=>e.ok?e.blob():Promise.reject())).catch((()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`)));const qO=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""};const WO=e=>{const[t,...o]=e.split(",");const n=o.join(",");const s=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(s){const e=s[2]===";base64";const t=e?qO(n):decodeURIComponent(n);return U.some({type:s[1],data:t,base64Encoded:e})}else{return U.none()}};const $O=(e,t,o=true)=>{let n=t;if(o){try{n=atob(t)}catch(e){return U.none()}}const s=new Uint8Array(n.length);for(let e=0;e<s.length;e++){s[e]=n.charCodeAt(e)}return U.some(new Blob([s],{type:e}))};const GO=e=>new Promise(((t,o)=>{WO(e).bind((({type:e,data:t,base64Encoded:o})=>$O(e,t,o))).fold((()=>o("Invalid data URI")),t)}));const KO=e=>{if(lt(e,"blob:")){return UO(e)}else if(lt(e,"data:")){return GO(e)}else{return Promise.reject("Unknown URI format")}};const YO=e=>new Promise(((t,o)=>{const n=new FileReader;n.onloadend=()=>{t(n.result)};n.onerror=()=>{var e;o((e=n.error)===null||e===void 0?void 0:e.message)};n.readAsDataURL(e)}));let XO=0;const JO=e=>(e||"blobid")+XO++;const QO=(e,t,o)=>WO(e).bind((({data:e,type:n,base64Encoded:s})=>{if(t&&!s){return U.none()}else{const t=s?e:btoa(e);return o(t,n)}}));const eT=(e,t,o)=>{const n=e.create(JO(),t,o);e.add(n);return n};const tT=(e,t,o=false)=>QO(t,o,((t,o)=>U.from(e.getByData(t,o)).orThunk((()=>$O(o,t).map((o=>eT(e,o,t)))))));const oT=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(lt(t,"blob:")){const n=e.getByUri(t);if(O(n)){return Promise.resolve(n)}else{return KO(t).then((t=>YO(t).then((n=>QO(n,false,(o=>U.some(eT(e,t,o)))).getOrThunk(o)))))}}else if(lt(t,"data:")){return tT(e,t).fold(o,(e=>Promise.resolve(e)))}else{return Promise.reject("Unknown image data format")}};const nT=e=>O(e.attr("data-mce-bogus"));const sT=e=>e.attr("src")===to.transparentSrc||O(e.attr("data-mce-placeholder"));const rT=(e,t)=>{const{blob_cache:o}=t;if(o){const t=e=>{const t=e.attr("src");if(sT(e)||nT(e)||z(t)){return}tT(o,t,true).each((t=>{e.attr("src",t.blobUri())}))};e.addAttributeFilter("src",(e=>Q(e,t)))}};const aT=(e,t)=>{const o=e.schema;if(t.remove_trailing_brs){e.addNodeFilter("br",((e,t,n)=>{const s=mo.extend({},o.getBlockElements());const r=o.getNonEmptyElements();const a=o.getWhitespaceElements();s.body=1;const c=e=>e.name in s&&fc(o,e);for(let t=0,i=e.length;t<i;t++){let i=e[t];let l=i.parent;if(l&&s[l.name]&&i===l.lastChild){let e=i.prev;while(e){const t=e.name;if(t!=="span"||e.attr("data-mce-type")!=="bookmark"){if(t==="br"){i=null}break}e=e.prev}if(i){i.remove();if(Zx(o,r,a,l)){const e=o.getElementRule(l.name);if(e){if(e.removeEmpty){l.remove()}else if(e.paddEmpty){Px(n,c,l)}}}}}else{let e=i;while(l&&l.firstChild===e&&l.lastChild===e){e=l;if(s[l.name]){break}l=l.parent}if(e===l){const e=new pk("#text",3);e.value=wr;i.replace(e)}}}}))}e.addAttributeFilter("href",(e=>{let o=e.length;const n=e=>{const t=e.split(" ").filter((e=>e.length>0));return t.concat(["noopener"]).sort().join(" ")};const s=e=>{const t=e?mo.trim(e):"";if(!/\b(noopener)\b/g.test(t)){return n(t)}else{return t}};if(!t.allow_unsafe_link_target){while(o--){const t=e[o];if(t.name==="a"&&t.attr("target")==="_blank"){t.attr("rel",s(t.attr("rel")))}}}}));if(!t.allow_html_in_named_anchor){e.addAttributeFilter("id,name",(e=>{let t=e.length,o,n,s,r;while(t--){r=e[t];if(r.name==="a"&&r.firstChild&&!r.attr("href")){s=r.parent;o=r.lastChild;while(o&&s){n=o.prev;s.insert(o,r);o=n}}}}))}if(t.fix_list_elements){e.addNodeFilter("ul,ol",(e=>{let t=e.length,o,n;while(t--){o=e[t];n=o.parent;if(n&&(n.name==="ul"||n.name==="ol")){if(o.prev&&o.prev.name==="li"){o.prev.append(o)}else{const e=new pk("li",1);e.attr("style","list-style-type: none");o.wrap(e)}}}}))}const n=o.getValidClasses();if(t.validate&&n){e.addAttributeFilter("class",(e=>{var t;let o=e.length;while(o--){const s=e[o];const r=(t=s.attr("class"))!==null&&t!==void 0?t:"";const a=mo.explode(r," ");let c="";for(let e=0;e<a.length;e++){const t=a[e];let o=false;let r=n["*"];if(r&&r[t]){o=true}r=n[s.name];if(!o&&r&&r[t]){o=true}if(o){if(c){c+=" "}c+=t}}if(!c.length){c=null}s.attr("class",c)}}))}rT(e,t)};const cT=mo.each,iT=mo.trim;const lT=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];const dT={ftp:21,http:80,https:443,mailto:25};const uT=["img","video"];const fT=(e,t)=>{if(O(e)){return!e}else{return O(t)?!Y(uT,t):true}};const mT=e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}};const gT=(e,t,o)=>{const n=mT(t);if(e.allow_script_urls){return false}else if(/((java|vb)script|mhtml):/i.test(n)){return true}else if(e.allow_html_data_urls){return false}else if(/^data:image\//i.test(n)){return fT(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(n)}else{return/^data:/i.test(n)}};class pT{constructor(e,t={}){this.path="";this.directory="";e=iT(e);this.settings=t;const o=t.base_uri;const n=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)){n.source=e;return}const s=e.indexOf("//")===0;if(e.indexOf("/")===0&&!s){e=(o?o.protocol||"http":"http")+"://mce_host"+e}if(!/^[\w\-]*:?\/\//.test(e)){const t=o?o.path:new pT(document.location.href).directory;if((o===null||o===void 0?void 0:o.protocol)===""){e="//mce_host"+n.toAbsPath(t,e)}else{const s=/([^#?]*)([#?]?.*)/.exec(e);if(s){e=(o&&o.protocol||"http")+"://mce_host"+n.toAbsPath(t,s[1])+s[2]}}}e=e.replace(/@@/g,"(mce_at)");const r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);if(r){cT(lT,((e,t)=>{let o=r[t];if(o){o=o.replace(/\(mce_at\)/g,"@@")}n[e]=o}))}if(o){if(!n.protocol){n.protocol=o.protocol}if(!n.userInfo){n.userInfo=o.userInfo}if(!n.port&&n.host==="mce_host"){n.port=o.port}if(!n.host||n.host==="mce_host"){n.host=o.host}n.source=""}if(s){n.protocol=""}}static parseDataUri(e){let t;const o=decodeURIComponent(e).split(",");const n=/data:([^;]+)/.exec(o[0]);if(n){t=n[1]}return{type:t,data:o[1]}}static isDomSafe(e,t,o={}){if(o.allow_script_urls){return true}else{const n=Wc.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!gT(o,n,t)}}static getDocumentBaseUrl(e){var t;let o;if(e.protocol.indexOf("http")!==0&&e.protocol!=="file:"){o=(t=e.href)!==null&&t!==void 0?t:""}else{o=e.protocol+"//"+e.host+e.pathname}if(/^[^:]+:\/\/\/?[^\/]+\//.test(o)){o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(o)){o+="/"}}return o}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);if(t){this.path=t[0];this.directory=t[1];this.file=t[2]}this.source="";this.getURI()}toRelative(e){if(e==="./"){return e}const t=new pT(e,{base_uri:this});if(t.host!=="mce_host"&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&t.protocol!==""){return t.getURI()}const o=this.getURI(),n=t.getURI();if(o===n||o.charAt(o.length-1)==="/"&&o.substr(0,o.length-1)===n){return o}let s=this.toRelPath(this.path,t.path);if(t.query){s+="?"+t.query}if(t.anchor){s+="#"+t.anchor}return s}toAbsolute(e,t){const o=new pT(e,{base_uri:this});return o.getURI(t&&this.isSameOrigin(o))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port){return true}const t=this.protocol?dT[this.protocol]:null;if(t&&(this.port||t)==(e.port||t)){return true}}return false}toRelPath(e,t){let o=0,n="",s,r;const a=e.substring(0,e.lastIndexOf("/")).split("/");const c=t.split("/");if(a.length>=c.length){for(s=0,r=a.length;s<r;s++){if(s>=c.length||a[s]!==c[s]){o=s+1;break}}}if(a.length<c.length){for(s=0,r=c.length;s<r;s++){if(s>=a.length||a[s]!==c[s]){o=s+1;break}}}if(o===1){return t}for(s=0,r=a.length-(o-1);s<r;s++){n+="../"}for(s=o-1,r=c.length;s<r;s++){if(s!==o-1){n+="/"+c[s]}else{n+=c[s]}}return n}toAbsPath(e,t){let o=0;const n=/\/$/.test(t)?"/":"";const s=e.split("/");const r=t.split("/");const a=[];cT(s,(e=>{if(e){a.push(e)}}));const c=[];for(let e=r.length-1;e>=0;e--){if(r[e].length===0||r[e]==="."){continue}if(r[e]===".."){o++;continue}if(o>0){o--;continue}c.push(r[e])}const i=a.length-o;let l;if(i<=0){l=ue(c).join("/")}else{l=a.slice(0,i).join("/")+"/"+ue(c).join("/")}if(l.indexOf("/")!==0){l="/"+l}if(n&&l.lastIndexOf("/")!==l.length-1){l+=n}return l}getURI(e=false){let t;if(!this.source||e){t="";if(!e){if(this.protocol){t+=this.protocol+"://"}else{t+="//"}if(this.userInfo){t+=this.userInfo+"@"}if(this.host){t+=this.host}if(this.port){t+=":"+this.port}}if(this.path){t+=this.path}if(this.query){t+="?"+this.query}if(this.anchor){t+="#"+this.anchor}this.source=t}return this.source}}const hT=mo.makeMap,yT=mo.extend;const bT={IN_PLACE:true,ALLOW_UNKNOWN_PROTOCOLS:true,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};const vT=mo.makeMap("src,href,data,background,action,formaction,poster,xlink:href");const kT="data-mce-type";const wT=(e,t)=>{const o={...bT};o.PARSER_MEDIA_TYPE=t;if(e.allow_script_urls){o.ALLOWED_URI_REGEXP=/.*/}else if(e.allow_html_data_urls){o.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i}return o};const _T=(e,t)=>{const o=LO();const n=t.getSpecialElements();const s=e.validate;let r=0;o.addHook("uponSanitizeElement",((o,a)=>{var c,i,l;if(o.nodeType===vo&&!e.allow_conditional_comments&&/^\[if/i.test((c=o.nodeValue)!==null&&c!==void 0?c:"")){o.nodeValue=" "+o.nodeValue}const d=a.tagName;if(o.nodeType!==_o||d==="body"){return}const u=cn.fromDom(o);const f=d.toLowerCase();const m=Io(u,kT);const g=Lo(u,"data-mce-bogus");if(!m&&v(g)){if(g==="all"){ls(u)}else{ds(u)}return}const p=t.getElementRule(f);if(s&&!p){if(Me(n,f)){ls(u)}else{ds(u)}return}else{a.allowedTags[d]=true}if(s&&p&&!m){Q((i=p.attributesForced)!==null&&i!==void 0?i:[],(e=>{Ro(u,e.name,e.value==="{$uid}"?`mce_${r++}`:e.value)}));Q((l=p.attributesDefault)!==null&&l!==void 0?l:[],(e=>{if(!Io(u,e.name)){Ro(u,e.name,e.value==="{$uid}"?`mce_${r++}`:e.value)}}));if(p.attributesRequired&&!X(p.attributesRequired,(e=>Io(u,e)))){ds(u);return}if(p.removeEmptyAttrs&&Fo(u)){ds(u);return}if(p.outputName&&p.outputName!==f){El(u,p.outputName)}}}));o.addHook("uponSanitizeAttribute",((o,n)=>{const r=o.tagName.toLowerCase();const{attrName:a,attrValue:c}=n;n.keepAttr=!s||t.isValid(r,a)||lt(a,"data-")||lt(a,"aria-");if(a in vT&&gT(e,c,r)){n.keepAttr=false}if(n.keepAttr){n.allowedAttributes[a]=true;if(a in t.getBoolAttrs()){n.attrValue=a}if(e.allow_svg_data_urls&&lt(c,"data:image/svg+xml")){n.forceKeepAttr=true}}else if(o.hasAttribute(kT)&&(a==="id"||a==="class"||a==="style")){n.forceKeepAttr=true}}));return o};const xT=(e,t,o)=>{const n=e.name;const s=n in o&&n!=="title"&&n!=="textarea";const r=t.childNodes;for(let t=0,n=r.length;t<n;t++){const n=r[t];const a=new pk(n.nodeName.toLowerCase(),n.nodeType);if(Ks(n)){const e=n.attributes;for(let t=0,o=e.length;t<o;t++){const o=e[t];a.attr(o.name,o.value)}}else if(ar(n)){a.value=n.data;if(s){a.raw=true}}else if(lr(n)||cr(n)||ir(n)){a.value=n.data}xT(a,n,o);e.append(a)}};const CT=(e,t,o)=>{const n=[];for(let o=e,s=o;o;s=o,o=o.walk()){const r=o;Q(t,(e=>e(r)));if(z(r.parent)&&r!==e){o=s}else{n.push(r)}}for(let e=n.length-1;e>=0;e--){const t=n[e];Q(o,(e=>e(t)))}};const ST=(e,t,o,n)=>{const s=o.validate;const r=t.getNonEmptyElements();const a=t.getWhitespaceElements();const c=yT(hT("script,style,head,html,body,title,meta,param"),t.getBlockElements());const i=ni(t);const l=/[ \t\r\n]+/g;const d=/^[ \t\r\n]+/;const u=/[ \t\r\n]+$/;const f=e=>{let t=e.parent;while(O(t)){if(t.name in a){return true}else{t=t.parent}}return false};const m=e=>{let o=e;while(O(o)){if(o.name in i){return Zx(t,r,a,o)}else{o=o.parent}}return false};const g=e=>e.name in c&&!fc(t,e);const p=(t,o)=>{const s=o?t.prev:t.next;if(O(s)||z(t.parent)){return false}return g(t.parent)&&(t.parent!==e||n.isRootContent===true)};const h=e=>{var t;if(e.type===3){if(!f(e)){let o=(t=e.value)!==null&&t!==void 0?t:"";o=o.replace(l," ");if(Ux(e.prev,g)||p(e,true)){o=o.replace(d,"")}if(o.length===0){e.remove()}else{e.value=o}}}};const y=e=>{var o;if(e.type===1){const o=t.getElementRule(e.name);if(s&&o){const s=Zx(t,r,a,e);if(o.paddInEmptyBlock&&s&&m(e)){Px(n,g,e)}else if(o.removeEmpty&&s){if(g(e)){e.remove()}else{e.unwrap()}}else if(o.paddEmpty&&(s||Fx(e))){Px(n,g,e)}}}else if(e.type===3){if(!f(e)){let t=(o=e.value)!==null&&o!==void 0?o:"";if(e.next&&g(e.next)||p(e,false)){t=t.replace(u,"")}if(t.length===0){e.remove()}else{e.value=t}}}};return[h,y]};const zT=(e,t)=>{var o;const n=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;if(n===false){return""}else if(n===true){return"p"}else{return n}};const OT=(e={},t=ai())=>{const o=IO();const n=IO();const s={validate:true,root_name:"body",...e};const r=new DOMParser;const a=_T(s,t);const c=(e,o,n="html")=>{const c=n==="xhtml"?"application/xhtml+xml":"text/html";const i=Me(t.getSpecialElements(),o.toLowerCase());const l=i?`<${o}>${e}</${o}>`:e;const d=n==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${l}</body></html>`:`<body>${l}</body>`;const u=r.parseFromString(d,c).body;a.sanitize(u,wT(s,c));a.removed=[];return i?u.firstChild:u};const i=o.addFilter;const l=o.getFilters;const d=o.removeFilter;const u=n.addFilter;const f=n.getFilters;const m=n.removeFilter;const g=(e,o)=>{if(Gx(t,e)){o.push(e)}};const p=(e,o)=>{const n=v(o.attr(kT));const s=o.type===1&&(!Me(e,o.name)&&!uc(t,o));return o.type===3||s&&!n};const h=(e,o)=>{const n=yT(hT("script,style,head,html,body,title,meta,param"),t.getBlockElements());const r=/^[ \t\r\n]+/;const a=/[ \t\r\n]+$/;let c=e.firstChild,i=null;const l=e=>{var t,o;if(e){c=e.firstChild;if(c&&c.type===3){c.value=(t=c.value)===null||t===void 0?void 0:t.replace(r,"")}c=e.lastChild;if(c&&c.type===3){c.value=(o=c.value)===null||o===void 0?void 0:o.replace(a,"")}}};if(!t.isValidChild(e.name,o.toLowerCase())){return}while(c){const t=c.next;if(p(n,c)){if(!i){i=new pk(o,1);i.attr(s.forced_root_block_attrs);e.insert(i,c);i.append(c)}else{i.append(c)}}else{l(i);i=null}c=t}l(i)};const y=(e,o={})=>{var n;const r=s.validate;const a=(n=o.context)!==null&&n!==void 0?n:s.root_name;const i=c(e,a,o.format);sc(t,i);const d=new pk(a,11);xT(d,i,t.getSpecialElements());i.innerHTML="";const[u,m]=ST(d,t,s,o);const p=[];const y=r?e=>g(e,p):A;const b={nodes:{},attributes:{}};const v=e=>Bx(l(),f(),e,b);CT(d,[u,v],[m,y]);p.reverse();if(r&&p.length>0){if(o.context){const{pass:e,fail:n}=te(p,(e=>e.parent===d));Wx(n,t,v);o.invalid=e.length>0}else{Wx(p,t,v)}}const k=zT(s,o);if(k&&(d.name==="body"||o.isRootContent)){h(d,k)}if(!o.invalid){Hx(b,o)}return d};const b={schema:t,addAttributeFilter:u,getAttributeFilters:f,removeAttributeFilter:m,addNodeFilter:i,getNodeFilters:l,removeNodeFilter:d,parse:y};aT(b,s);ZO(b,s,t);return b};const TT=e=>MC(e)?Dk({validate:false}).serialize(e):e;const ET=(e,t)=>{const o=TT(e);const n=t(o);if(n.isDefaultPrevented()){return n}else if(MC(e)){if(n.content!==o){const t=OT({validate:false,forced_root_block:false}).parse(n.content,{context:e.name});return{...n,content:t}}else{return{...n,content:e}}}else{return n}};const DT=(e,t)=>{if(t.no_events){return tu.value(t)}else{const o=oy(e,t);if(o.isDefaultPrevented()){return tu.error(ny(e,{content:"",...o}).content)}else{return tu.value(o)}}};const AT=(e,t,o)=>{if(o.no_events){return t}else{const n=ET(t,(t=>ny(e,{...o,content:t})));return n.content}};const NT=(e,t)=>{if(t.no_events){return tu.value(t)}else{const o=ET(t.content,(o=>ey(e,{...t,content:o})));if(o.isDefaultPrevented()){ty(e,o);return tu.error(undefined)}else{return tu.value(o)}}};const MT=(e,t,o)=>{if(!o.no_events){ty(e,{...o,content:t})}};const RT=(e,t,o)=>({element:e,width:t,rows:o});const BT=(e,t)=>({element:e,cells:t});const LT=(e,t)=>({x:e,y:t});const HT=(e,t)=>Ho(e,t).bind(bt).getOr(1);const IT=(e,t,o,n,s)=>{const r=HT(s,"rowspan");const a=HT(s,"colspan");const c=e.rows;for(let e=o;e<o+r;e++){if(!c[e]){c[e]=BT(Ol(n),[])}for(let n=t;n<t+a;n++){const r=c[e].cells;r[n]=e===o&&n===t?s:zl(s)}}};const PT=(e,t,o)=>{const n=e.rows;const s=n[o]?n[o].cells:[];return!!s[t]};const FT=(e,t,o)=>{while(PT(e,t,o)){t++}return t};const VT=e=>se(e,((e,t)=>t.cells.length>e?t.cells.length:e),0);const jT=(e,t)=>{const o=e.rows;for(let e=0;e<o.length;e++){const n=o[e].cells;for(let o=0;o<n.length;o++){if(gn(n[o],t)){return U.some(LT(o,e))}}}return U.none()};const ZT=(e,t,o,n,s)=>{const r=[];const a=e.rows;for(let e=o;e<=s;e++){const o=a[e].cells;const s=t<n?o.slice(t,n+1):o.slice(n,t+1);r.push(BT(a[e].element,s))}return r};const UT=(e,t,o)=>{const n=t.x,s=t.y;const r=o.x,a=o.y;const c=s<a?ZT(e,n,s,r,a):ZT(e,n,a,r,s);return RT(e.element,VT(c),c)};const qT=(e,t)=>{const o=zl(e.element);const n=cn.fromTag("tbody");cs(n,t);ss(o,n);return o};const WT=e=>J(e.rows,(e=>{const t=J(e.cells,(e=>{const t=Ol(e);Po(t,"colspan");Po(t,"rowspan");return t}));const o=zl(e.element);cs(o,t);return o}));const $T=e=>{const t=RT(zl(e),0,[]);Q(Cr(e,"tr"),((e,o)=>{Q(Cr(e,"td,th"),((n,s)=>{IT(t,FT(t,s,o),o,e,n)}))}));return RT(t.element,VT(t.rows),t.rows)};const GT=e=>qT(e,WT(e));const KT=(e,t,o)=>jT(e,t).bind((t=>jT(e,o).map((o=>UT(e,t,o)))));const YT=e=>ae(e,(e=>Co(e)==="ul"||Co(e)==="ol"));const XT=(e,t)=>ae(e,(e=>Co(e)==="li"&&Ap(e,t))).fold(R([]),(t=>YT(e).map((e=>{const t=cn.fromTag(Co(e));const o=Ee(Jn(e),((e,t)=>lt(t,"list-style")));Gn(t,o);return[cn.fromTag("li"),t]})).getOr([])));const JT=(e,t)=>{const o=se(t,((e,t)=>{ss(t,e);return t}),e);return t.length>0?Qy([o]):o};const QT=e=>{if(qr(e)){return kn(e).filter(Ur).fold(R([]),(t=>[e,t]))}else{return Ur(e)?[e]:[]}};const eE=(e,t)=>{const o=cn.fromDom(t.commonAncestorContainer);const n=ow(o,e);const s=oe(n,Yr);const r=XT(n,t);const a=s.concat(r.length?r:QT(o));return J(a,zl)};const tE=()=>Qy([]);const oE=(e,t)=>JT(cn.fromDom(t.cloneContents()),eE(e,t));const nE=(e,t)=>js(t,"table",H(gn,e));const sE=(e,t)=>nE(e,t[0]).bind((e=>{const o=t[0];const n=t[t.length-1];const s=$T(e);return KT(s,o,n).map((e=>Qy([GT(e)])))})).getOrThunk(tE);const rE=(e,t)=>t.length>0&&t[0].collapsed?tE():oE(e,t[0]);const aE=(e,t)=>{const o=Cp(t,e);return o.length>0?sE(e,o):rE(e,t)};const cE=(e,t)=>t>=0&&t<e.length&&ip(e.charAt(t));const iE=e=>sa(e.innerText);const lE=e=>e.map((e=>e.nodeName)).getOr("div").toLowerCase();const dE=e=>U.from(e.selection.getRng()).map((t=>{var o;const n=U.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock));const s=e.getBody();const r=lE(n);const a=cn.fromDom(t.cloneContents());_k(a);xk(a);const c=e.dom.add(s,r,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},a.dom);const i=iE(c);const l=sa((o=c.textContent)!==null&&o!==void 0?o:"");e.dom.remove(c);if(cE(l,0)||cE(l,l.length-1)){const e=n.getOr(s);const t=iE(e);const o=t.indexOf(i);if(o===-1){return i}else{const e=cE(t,o-1);const n=cE(t,o+i.length);return(e?" ":"")+i+(n?" ":"")}}else{return i}})).getOr("");const uE=(e,t)=>{const o=e.selection.getRng(),n=e.dom.create("body");const s=e.selection.getSel();const r=Jv(e,vp(s));const a=t.contextual?aE(cn.fromDom(e.getBody()),r).dom:o.cloneContents();if(a){n.appendChild(a)}return e.selection.serializer.serialize(n,t)};const fE=(e,t)=>{if(t.format==="text"){return dE(e)}else{const o=uE(e,t);if(t.format==="tree"){return o}else{return e.selection.isCollapsed()?"":o}}};const mE=(e,t)=>({...e,format:t,get:true,selection:true,getInner:true});const gE=(e,t,o={})=>{const n=mE(o,t);return DT(e,n).fold(B,(t=>{const o=fE(e,t);return AT(e,o,t)}))};const pE=0,hE=1,yE=2;const bE=(e,t)=>{const o=e.length+t.length+2;const n=new Array(o);const s=new Array(o);const r=(e,t,o)=>({start:e,end:t,diag:o});const a=(o,n,s,r,c)=>{const l=i(o,n,s,r);if(l===null||l.start===n&&l.diag===n-r||l.end===o&&l.diag===o-s){let a=o;let i=s;while(a<n||i<r){if(a<n&&i<r&&e[a]===t[i]){c.push([pE,e[a]]);++a;++i}else{if(n-o>r-s){c.push([yE,e[a]]);++a}else{c.push([hE,t[i]]);++i}}}}else{a(o,l.start,s,l.start-l.diag,c);for(let t=l.start;t<l.end;++t){c.push([pE,e[t]])}a(l.end,n,l.end-l.diag,r,c)}};const c=(o,n,s,a)=>{let c=o;while(c-n<a&&c<s&&e[c]===t[c-n]){++c}return r(o,c,n)};const i=(o,r,a,i)=>{const l=r-o;const d=i-a;if(l===0||d===0){return null}const u=l-d;const f=d+l;const m=(f%2===0?f:f+1)/2;n[1+m]=o;s[1+m]=r+1;let g,p,h,y,b;for(g=0;g<=m;++g){for(p=-g;p<=g;p+=2){h=p+m;if(p===-g||p!==g&&n[h-1]<n[h+1]){n[h]=n[h+1]}else{n[h]=n[h-1]+1}y=n[h];b=y-o+a-p;while(y<r&&b<i&&e[y]===t[b]){n[h]=++y;++b}if(u%2!==0&&u-g<=p&&p<=u+g){if(s[h-u]<=n[h]){return c(s[h-u],p+o-a,r,i)}}}for(p=u-g;p<=u+g;p+=2){h=p+m-u;if(p===u-g||p!==u+g&&s[h+1]<=s[h-1]){s[h]=s[h+1]-1}else{s[h]=s[h-1]}y=s[h]-1;b=y-o+a-p;while(y>=o&&b>=a&&e[y]===t[b]){s[h]=y--;b--}if(u%2===0&&-g<=p&&p<=g){if(s[h]<=n[h+u]){return c(s[h],p+o-a,r,i)}}}}return null};const l=[];a(0,e.length,0,t.length,l);return l};const vE=e=>{if(Ks(e)){return e.outerHTML}else if(ar(e)){return Wc.encodeRaw(e.data,false)}else if(lr(e)){return"\x3c!--"+e.data+"--\x3e"}return""};const kE=e=>{let t;const o=document.createElement("div");const n=document.createDocumentFragment();if(e){o.innerHTML=e}while(t=o.firstChild){n.appendChild(t)}return n};const wE=(e,t,o)=>{const n=kE(t);if(e.hasChildNodes()&&o<e.childNodes.length){const t=e.childNodes[o];e.insertBefore(n,t)}else{e.appendChild(n)}};const _E=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}};const xE=(e,t)=>{let o=0;Q(e,(e=>{if(e[0]===pE){o++}else if(e[0]===hE){wE(t,e[1],o);o++}else if(e[0]===yE){_E(t,o)}}))};const CE=e=>oe(J(be(e.childNodes),vE),(e=>e.length>0));const SE=(e,t)=>{const o=J(be(t.childNodes),vE);xE(bE(o,e),t);return t};const zE=$e((()=>document.implementation.createHTMLDocument("undo")));const OE=e=>e.indexOf("</iframe>")!==-1;const TE=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null});const EE=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null});const DE=e=>{const t=CE(e.getBody());const o=le(t,(t=>{const o=kk(e.serializer,t);return o.length>0?[o]:[]}));const n=o.join("");return OE(n)?TE(o):EE(n)};const AE=(e,t,o)=>{const n=o?t.beforeBookmark:t.bookmark;if(t.type==="fragmented"){SE(t.fragments,e.getBody())}else{e.setContent(t.content,{format:"raw",no_selection:O(n)&&jg(n)?!n.isFakeCaret:true})}if(n){e.selection.moveToBookmark(n);e.selection.scrollIntoView()}};const NE=e=>e.type==="fragmented"?e.fragments.join(""):e.content;const ME=e=>{const t=cn.fromTag("body",zE());gs(t,NE(e));Q(Cr(t,"*[data-mce-bogus]"),ds);return ms(t)};const RE=(e,t)=>NE(e)===NE(t);const BE=(e,t)=>ME(e)===ME(t);const LE=(e,t)=>{if(!e||!t){return false}else if(RE(e,t)){return true}else{return BE(e,t)}};const HE=e=>e.get()===0;const IE=(e,t,o)=>{if(HE(o)){e.typing=t}};const PE=(e,t)=>{if(e.typing){IE(e,false,t);e.add()}};const FE=e=>{if(e.typing){e.typing=false;e.add()}};const VE=(e,t,o)=>{if(HE(t)){o.set(Xd(e.selection))}};const jE=(e,t,o,n,s,r,a)=>{const c=DE(e);const i=mo.extend(r||{},c);if(!HE(n)||e.removed){return null}const l=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:i,lastLevel:l,originalEvent:a}).isDefaultPrevented()){return null}if(l&&LE(l,i)){return null}if(t.data[o.get()]){s.get().each((e=>{t.data[o.get()].beforeBookmark=e}))}const d=xf(e);if(d){if(t.data.length>d){for(let e=0;e<t.data.length-1;e++){t.data[e]=t.data[e+1]}t.data.length--;o.set(t.data.length)}}i.bookmark=Xd(e.selection);if(o.get()<t.data.length-1){t.data.length=o.get()+1}t.data.push(i);o.set(t.data.length-1);const u={level:i,lastLevel:l,originalEvent:a};if(o.get()>0){e.setDirty(true);e.dispatch("AddUndo",u);e.dispatch("change",u)}else{e.dispatch("AddUndo",u)}return i};const ZE=(e,t,o)=>{t.data=[];o.set(0);t.typing=false;e.dispatch("ClearUndos")};const UE=(e,t,o,n,s)=>{if(t.transact(n)){const n=t.data[o.get()].bookmark;const r=t.data[o.get()-1];AE(e,r,true);if(t.transact(s)){t.data[o.get()-1].beforeBookmark=n}}};const qE=(e,t,o)=>{let n;if(t.get()<o.length-1){t.set(t.get()+1);n=o[t.get()];AE(e,n,false);e.setDirty(true);e.dispatch("Redo",{level:n})}return n};const WE=(e,t,o,n)=>{let s;if(t.typing){t.add();t.typing=false;IE(t,false,o)}if(n.get()>0){n.set(n.get()-1);s=t.data[n.get()];AE(e,s,true);e.setDirty(true);e.dispatch("Undo",{level:s})}return s};const $E=e=>{e.clear();e.add()};const GE=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!LE(DE(e),t.data[0]);const KE=(e,t)=>t.get()<e.data.length-1&&!e.typing;const YE=(e,t,o)=>{PE(e,t);e.beforeChange();e.ignore(o);return e.add()};const XE=(e,t)=>{try{e.set(e.get()+1);t()}finally{e.set(e.get()-1)}};const JE=(e,t)=>{const o=e.dom;const n=O(t)?t:e.getBody();Q(o.select("table,a",n),(t=>{switch(t.nodeName){case"TABLE":const n=Af(e);const s=o.getAttrib(t,"border");if((!s||s==="0")&&e.hasVisual){o.addClass(t,n)}else{o.removeClass(t,n)}break;case"A":if(!o.getAttrib(t,"href")){const n=o.getAttrib(t,"name")||t.id;const s=Nf(e);if(n&&e.hasVisual){o.addClass(t,s)}else{o.removeClass(t,s)}}break}}));e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})};const QE=e=>({init:{bindEvents:A},undoManager:{beforeChange:(t,o)=>VE(e,t,o),add:(t,o,n,s,r,a)=>jE(e,t,o,n,s,r,a),undo:(t,o,n)=>WE(e,t,o,n),redo:(t,o)=>qE(e,t,o),clear:(t,o)=>ZE(e,t,o),reset:e=>$E(e),hasUndo:(t,o)=>GE(e,t,o),hasRedo:(e,t)=>KE(e,t),transact:(e,t,o)=>YE(e,t,o),ignore:(e,t)=>XE(e,t),extra:(t,o,n,s)=>UE(e,t,o,n,s)},formatter:{match:(t,o,n,s)=>KC(e,t,o,n,s),matchAll:(t,o)=>YC(e,t,o),matchNode:(t,o,n,s)=>GC(e,t,o,n,s),canApply:t=>JC(e,t),closest:t=>XC(e,t),apply:(t,o,n)=>wz(e,t,o,n),remove:(t,o,n,s)=>uz(e,t,o,n,s),toggle:(t,o,n)=>Az(e,t,o,n),formatChanged:(t,o,n,s,r)=>Dz(e,t,o,n,s,r)},editor:{getContent:t=>Ok(e,t),setContent:(t,o)=>IC(e,t,o),insertContent:(t,o)=>NC(e,t,o),addVisual:t=>JE(e,t)},selection:{getContent:(t,o)=>gE(e,t,o)},autocompleter:{addDecoration:t=>ck(e,t),removeDecoration:()=>dk(e,cn.fromDom(e.getBody()))},raw:{getModel:()=>U.none()}});const eD=e=>{const t=e=>k(e)?e:{};const{init:o,undoManager:n,formatter:s,editor:r,selection:a,autocompleter:c,raw:i}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:n.beforeChange,add:n.add,undo:n.undo,redo:n.redo,clear:n.clear,reset:n.reset,hasUndo:n.hasUndo,hasRedo:n.hasRedo,transact:(e,t,o)=>n.transact(o),ignore:(e,t)=>n.ignore(t),extra:(e,t,o,s)=>n.extra(o,s)},formatter:{match:(e,o,n,r)=>s.match(e,t(o),r),matchAll:s.matchAll,matchNode:s.matchNode,canApply:e=>s.canApply(e),closest:e=>s.closest(e),apply:(e,o,n)=>s.apply(e,t(o)),remove:(e,o,n,r)=>s.remove(e,t(o)),toggle:(e,o,n)=>s.toggle(e,t(o)),formatChanged:(e,t,o,n,r)=>s.formatChanged(t,o,n,r)},editor:{getContent:e=>r.getContent(e),setContent:(e,t)=>({content:r.setContent(e,t),html:""}),insertContent:(e,t)=>{r.insertContent(e);return""},addVisual:r.addVisual},selection:{getContent:(e,t)=>a.getContent(t)},autocompleter:{addDecoration:c.addDecoration,removeDecoration:c.removeDecoration},raw:{getModel:()=>U.some(i.getRawModel())}}};const tD=()=>{const e=R(null);const t=R("");return{init:{bindEvents:A},undoManager:{beforeChange:A,add:e,undo:e,redo:e,clear:A,reset:A,hasUndo:j,hasRedo:j,transact:e,ignore:A,extra:A},formatter:{match:j,matchAll:R([]),matchNode:R(undefined),canApply:j,closest:t,apply:A,remove:A,toggle:A,formatChanged:R({unbind:A})},editor:{getContent:t,setContent:R({content:"",html:""}),insertContent:R(""),addVisual:A},selection:{getContent:t},autocompleter:{addDecoration:A,removeDecoration:A},raw:{getModel:R(U.none())}}};const oD=e=>Me(e.plugins,"rtc");const nD=e=>Ne(e.plugins,"rtc").bind((e=>U.from(e.setup)));const sD=e=>{const t=e;return nD(e).fold((()=>{t.rtcInstance=QE(e);return U.none()}),(e=>{t.rtcInstance=tD();return U.some((()=>e().then((e=>{t.rtcInstance=eD(e);return e.rtc.isRemote}))))}))};const rD=e=>e.rtcInstance?e.rtcInstance:QE(e);const aD=e=>{const t=e.rtcInstance;if(!t){throw new Error("Failed to get RTC instance not yet initialized.")}else{return t}};const cD=(e,t,o)=>{aD(e).undoManager.beforeChange(t,o)};const iD=(e,t,o,n,s,r,a)=>aD(e).undoManager.add(t,o,n,s,r,a);const lD=(e,t,o,n)=>aD(e).undoManager.undo(t,o,n);const dD=(e,t,o)=>aD(e).undoManager.redo(t,o);const uD=(e,t,o)=>{aD(e).undoManager.clear(t,o)};const fD=(e,t)=>{aD(e).undoManager.reset(t)};const mD=(e,t,o)=>aD(e).undoManager.hasUndo(t,o);const gD=(e,t,o)=>aD(e).undoManager.hasRedo(t,o);const pD=(e,t,o,n)=>aD(e).undoManager.transact(t,o,n);const hD=(e,t,o)=>{aD(e).undoManager.ignore(t,o)};const yD=(e,t,o,n,s)=>{aD(e).undoManager.extra(t,o,n,s)};const bD=(e,t,o,n,s)=>aD(e).formatter.match(t,o,n,s);const vD=(e,t,o)=>aD(e).formatter.matchAll(t,o);const kD=(e,t,o,n,s)=>aD(e).formatter.matchNode(t,o,n,s);const wD=(e,t)=>aD(e).formatter.canApply(t);const _D=(e,t)=>aD(e).formatter.closest(t);const xD=(e,t,o,n)=>{aD(e).formatter.apply(t,o,n)};const CD=(e,t,o,n,s)=>{aD(e).formatter.remove(t,o,n,s)};const SD=(e,t,o,n)=>{aD(e).formatter.toggle(t,o,n)};const zD=(e,t,o,n,s,r)=>aD(e).formatter.formatChanged(t,o,n,s,r);const OD=(e,t)=>rD(e).editor.getContent(t);const TD=(e,t,o)=>rD(e).editor.setContent(t,o);const ED=(e,t,o)=>rD(e).editor.insertContent(t,o);const DD=(e,t,o)=>aD(e).selection.getContent(t,o);const AD=(e,t)=>aD(e).editor.addVisual(t);const ND=e=>aD(e).init.bindEvents();const MD=(e,t)=>aD(e).autocompleter.addDecoration(t);const RD=e=>aD(e).autocompleter.removeDecoration();const BD=(e,t={})=>{const o=t.format?t.format:"html";return DD(e,o,t)};const LD=e=>{if(e.dom.length===0){ls(e);return U.none()}else{return U.some(e)}};const HD=(e,t)=>e.filter((e=>Ih.isBookmarkNode(e.dom))).bind(t?Sn:Cn);const ID=(e,t,o,n)=>{const s=e.dom;const r=t.dom;const a=n?s.length:r.length;if(n){$w(s,r,false,!n);o.setStart(r,a)}else{$w(r,s,false,!n);o.setEnd(r,a)}};const PD=(e,t)=>{kn(e).each((o=>{const n=e.dom;if(t&&Aw(o,yd(n,0))){qw(n,0)}else if(!t&&Mw(o,yd(n,n.length))){Ww(n,n.length)}}))};const FD=(e,t,o,n)=>{e.bind((e=>{const s=n?Ww:qw;s(e.dom,n?e.dom.length:0);return t.filter(Eo).map((t=>ID(e,t,o,n)))})).orThunk((()=>{const e=HD(t,n).or(t).filter(Eo);return e.map((e=>PD(e,n)))}))};const VD=(e,t)=>{const o=U.from(t.firstChild).map(cn.fromDom);const n=U.from(t.lastChild).map(cn.fromDom);e.deleteContents();e.insertNode(t);const s=o.bind(Cn).filter(Eo).bind(LD);const r=n.bind(Sn).filter(Eo).bind(LD);FD(s,o,e,true);FD(r,n,e,false);e.collapse(false)};const jD=(e,t)=>({format:"html",...e,set:true,selection:true,content:t});const ZD=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng();const n=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock);const s=n?{context:n.nodeName.toLowerCase()}:{};const r=e.parser.parse(t.content,{forced_root_block:false,...s,...t});return Dk({validate:false},e.schema).serialize(r)}else{return t.content}};const UD=(e,t,o={})=>{const n=jD(o,t);NT(e,n).each((t=>{const o=ZD(e,t);const n=e.selection.getRng();VD(n,n.createContextualFragment(o));e.selection.setRng(n);Gb(e,n);MT(e,o,t)}))};const qD=(e,t,o)=>{if(Me(e,t)){const n=oe(e[t],(e=>e!==o));if(n.length===0){delete e[t]}else{e[t]=n}}};var WD=(e,t)=>{let o;let n;const s=(t,o)=>ae(o,(o=>e.is(o,t)));const r=t=>e.getParents(t,undefined,e.getRoot());const a=()=>{o={};n={};t.on("NodeChange",(e=>{const t=e.element;const a=r(t);const c={};xe(o,((e,t)=>{s(t,a).each((o=>{if(!n[t]){Q(e,(e=>{e(true,{node:o,selector:t,parents:a})}));n[t]=e}c[t]=e}))}));xe(n,((e,o)=>{if(!c[o]){delete n[o];Q(e,(e=>{e(false,{node:t,selector:o,parents:a})}))}}))}))};return{selectorChangedWithUnbind:(e,c)=>{if(!o){a()}if(!o[e]){o[e]=[]}o[e].push(c);s(e,r(t.selection.getStart())).each((()=>{n[e]=o[e]}));return{unbind:()=>{qD(o,e,c);qD(n,e,c)}}}}};const $D=e=>!!(e&&e.ownerDocument)&&pn(cn.fromDom(e.ownerDocument),cn.fromDom(e));const GD=e=>{if(!e){return false}else{return $D(e.startContainer)&&$D(e.endContainer)}};const KD=(e,t,o,n)=>{let s;let r;const{selectorChangedWithUnbind:a}=WD(e,n);const c=(t,o)=>{const s=e.createRng();if(O(t)&&O(o)){s.setStart(t,o);s.setEnd(t,o);v(s);h(false)}else{Np(e,s,n.getBody(),true);v(s)}};const i=e=>BD(n,e);const l=(e,t)=>UD(n,e,t);const d=e=>Wv(n.getBody(),b(),e);const u=e=>$v(n.getBody(),b(),e);const f=(e,t)=>R.getBookmark(e,t);const m=e=>R.moveToBookmark(e);const g=(t,o)=>{Xv(e,t,o).each(v);return t};const p=()=>{const e=b(),t=y();if(!e||e.item){return false}if(e.compareEndPoints){return e.compareEndPoints("StartToEnd",e)===0}return!t||e.collapsed};const h=e=>{const t=b();t.collapse(!!e);v(t)};const y=()=>t.getSelection?t.getSelection():t.document.selection;const b=()=>{let o;const a=(e,t,o)=>{try{return t.compareBoundaryPoints(e,o)}catch(e){return-1}};const c=t.document;if(O(n.bookmark)&&!Fv(n)){const e=dv(n);if(e.isSome()){return e.map((e=>Jv(n,[e])[0])).getOr(c.createRange())}}try{const e=y();if(e&&!Gs(e.anchorNode)){if(e.rangeCount>0){o=e.getRangeAt(0)}else{o=c.createRange()}o=Jv(n,[o])[0]}}catch(e){}if(!o){o=c.createRange()}if(dr(o.startContainer)&&o.collapsed){const t=e.getRoot();o.setStart(t,0);o.setEnd(t,0)}if(s&&r){if(a(o.START_TO_START,o,s)===0&&a(o.END_TO_END,o,s)===0){o=r}else{s=null;r=null}}return o};const v=(e,t)=>{if(!GD(e)){return}const o=y();const a=n.dispatch("SetSelectionRange",{range:e,forward:t});e=a.range;if(o){r=e;try{o.removeAllRanges();o.addRange(e)}catch(e){}if(t===false&&o.extend){o.collapse(e.endContainer,e.endOffset);o.extend(e.startContainer,e.startOffset)}s=o.rangeCount>0?o.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(o===null||o===void 0?void 0:o.setBaseAndExtent)){if(e.endOffset-e.startOffset<2){if(e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];if(t&&t.nodeName==="IMG"){o.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset);if(o.anchorNode!==e.startContainer||o.focusNode!==e.endContainer){o.setBaseAndExtent(t,0,t,1)}}}}}n.dispatch("AfterSetSelectionRange",{range:e,forward:t})};const k=t=>{l(e.getOuterHTML(t));return t};const w=()=>Kv(n.getBody(),b());const _=(t,o)=>Yv(e,b(),t,o);const x=()=>{const t=y();const o=t===null||t===void 0?void 0:t.anchorNode;const n=t===null||t===void 0?void 0:t.focusNode;if(!t||!o||!n||Gs(o)||Gs(n)){return true}const s=e.createRng();const r=e.createRng();try{s.setStart(o,t.anchorOffset);s.collapse(true);r.setStart(n,t.focusOffset);r.collapse(true)}catch(e){return true}return s.compareBoundaryPoints(s.START_TO_START,r)<=0};const C=()=>{const t=b();const o=y();if(!wp(o)&&Mp(n)){const o=mb(e,t);o.each((e=>{v(e,x())}));return o.getOr(t)}return t};const S=(e,t)=>{a(e,t);return M};const z=()=>{let t;let o=e.getRoot();while(o&&o.nodeName!=="BODY"){if(o.scrollHeight>o.clientHeight){t=o;break}o=o.parentNode}return t};const T=(e,t)=>{if(O(e)){$b(n,e,t)}else{Gb(n,b(),t)}};const E=(e,t)=>v(ob(e,t,n.getDoc()));const D=()=>{const e=b();return e.collapsed?yd.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()};const A=()=>{t=s=r=null;B.destroy()};const N=(t={type:"word"})=>v(hb(e).expand(b(),t));const M={dom:e,win:t,serializer:o,editor:n,expand:N,collapse:h,setCursorLocation:c,getContent:i,setContent:l,getBookmark:f,moveToBookmark:m,select:g,isCollapsed:p,isForward:x,setNode:k,getNode:w,getSel:y,setRng:v,getRng:b,getStart:d,getEnd:u,getSelectedBlocks:_,normalize:C,selectorChanged:S,selectorChangedWithUnbind:a,getScrollContainer:z,scrollIntoView:T,placeCaretAt:E,getBoundingClientRect:D,destroy:A};const R=Ih(M);const B=yy(M,n);M.bookmarkManager=R;M.controlSelection=B;return M};const YD=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",((e,t)=>{let o=e.length;while(o--){const n=e[o];n.attr("tabindex",n.attr("data-mce-tabindex"));n.attr(t,null)}}));e.addAttributeFilter("src,href,style",((e,n)=>{const s="data-mce-"+n;const r=t.url_converter;const a=t.url_converter_scope;let c=e.length;while(c--){const t=e[c];let i=t.attr(s);if(i!==undefined){t.attr(n,i.length>0?i:null);t.attr(s,null)}else{i=t.attr(n);if(n==="style"){i=o.serializeStyle(o.parseStyle(i),t.name)}else if(r){i=r.call(a,i,n,t.name)}t.attr(n,i.length>0?i:null)}}}));e.addAttributeFilter("class",(e=>{let t=e.length;while(t--){const o=e[t];let n=o.attr("class");if(n){n=n.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,"");o.attr("class",n.length>0?n:null)}}}));e.addAttributeFilter("data-mce-type",((e,t,o)=>{let n=e.length;while(n--){const t=e[n];if(t.attr("data-mce-type")==="bookmark"&&!o.cleanup){const e=U.from(t.firstChild).exists((e=>{var t;return!na((t=e.value)!==null&&t!==void 0?t:"")}));if(e){t.unwrap()}else{t.remove()}}}}));e.addNodeFilter("noscript",(e=>{var t;let o=e.length;while(o--){const n=e[o].firstChild;if(n){n.value=Wc.decode((t=n.value)!==null&&t!==void 0?t:"")}}}));e.addNodeFilter("script,style",((e,o)=>{var n;const s=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let r=e.length;while(r--){const a=e[r];const c=a.firstChild;const i=(n=c===null||c===void 0?void 0:c.value)!==null&&n!==void 0?n:"";if(o==="script"){const e=a.attr("type");if(e){a.attr("type",e==="mce-no/type"?null:e.replace(/^mce\-/,""))}if(t.element_format==="xhtml"&&c&&i.length>0){c.value="// <![CDATA[\n"+s(i)+"\n// ]]>"}}else{if(t.element_format==="xhtml"&&c&&i.length>0){c.value="\x3c!--\n"+s(i)+"\n--\x3e"}}}}));e.addNodeFilter("#comment",(e=>{let n=e.length;while(n--){const s=e[n];const r=s.value;if(t.preserve_cdata&&(r===null||r===void 0?void 0:r.indexOf("[CDATA["))===0){s.name="#cdata";s.type=4;s.value=o.decode(r.replace(/^\[CDATA\[|\]\]$/g,""))}else if((r===null||r===void 0?void 0:r.indexOf("mce:protected "))===0){s.name="#text";s.type=3;s.raw=true;s.value=unescape(r).substr(14)}}}));e.addNodeFilter("xml:namespace,input",((e,t)=>{let o=e.length;while(o--){const n=e[o];if(n.type===7){n.remove()}else if(n.type===1){if(t==="input"&&!n.attr("type")){n.attr("type","text")}}}}));e.addAttributeFilter("data-mce-type",(t=>{Q(t,(t=>{if(t.attr("data-mce-type")==="format-caret"){if(t.isEmpty(e.schema.getNonEmptyElements())){t.remove()}else{t.unwrap()}}}))}));e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,"+"data-mce-selected,data-mce-expando,data-mce-block,"+"data-mce-type,data-mce-resize,data-mce-placeholder",((e,t)=>{let o=e.length;while(o--){e[o].attr(t,null)}}))};const XD=e=>{const t=e=>(e===null||e===void 0?void 0:e.name)==="br";const o=e.lastChild;if(t(o)){const e=o.prev;if(t(e)){o.remove();e.remove()}}};const JD=(e,t,o)=>{let n;const s=e.dom;let r=t.cloneNode(true);const a=document.implementation;if(a.createHTMLDocument){const e=a.createHTMLDocument("");mo.each(r.nodeName==="BODY"?r.childNodes:[r],(t=>{e.body.appendChild(e.importNode(t,true))}));if(r.nodeName!=="BODY"){r=e.body.firstChild}else{r=e.body}n=s.doc;s.doc=e}Fh(e,{...o,node:r});if(n){s.doc=n}return r};const QD=(e,t)=>O(e)&&e.hasEventListeners("PreProcess")&&!t.no_events;const eA=(e,t,o)=>QD(e,o)?JD(e,t,o):t;const tA=(e,t,o)=>{if(mo.inArray(t,o)===-1){e.addAttributeFilter(o,((e,t)=>{let o=e.length;while(o--){e[o].attr(t,null)}}));t.push(o)}};const oA=(e,t,o)=>{if(!t.no_events&&e){const n=Vh(e,{...t,content:o});return n.content}else{return o}};const nA=(e,t,o)=>{const n=sa(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||Gr(cn.fromDom(t))?n:mo.trim(n)};const sA=(e,t,o)=>{const n=o.selection?{forced_root_block:false,...o}:o;const s=e.parse(t,n);XD(s);return s};const rA=(e,t,o)=>{const n=Dk(e,t);return n.serialize(o)};const aA=(e,t,o,n,s)=>{const r=rA(t,o,n);return oA(e,s,r)};const cA=(e,t)=>{const o=["data-mce-selected"];const n=t&&t.dom?t.dom:Mi.DOM;const s=t&&t.schema?t.schema:ai(e);e.entity_encoding=e.entity_encoding||"named";e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:true;const r=OT(e,s);YD(r,e,n);const a=(o,a={})=>{const c={format:"html",...a};const i=eA(t,o,c);const l=nA(n,i,c);const d=sA(r,l,c);return c.format==="tree"?d:aA(t,e,s,d,c)};return{schema:s,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:a,addRules:s.addValidElements,setRules:s.setValidElements,addTempAttr:H(tA,r,o),getTempAttrs:R(o),getNodeFilters:r.getNodeFilters,getAttributeFilters:r.getAttributeFilters,removeNodeFilter:r.removeNodeFilter,removeAttributeFilter:r.removeAttributeFilter}};const iA=(e,t)=>{const o=cA(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}};const lA="html";const dA=(e,t)=>({...e,format:t,get:true,getInner:true});const uA=(e,t={})=>{const o=t.format?t.format:lA;const n=dA(t,o);return DT(e,n).fold(B,(t=>{const o=OD(e,t);return AT(e,o,t)}))};const fA="html";const mA=(e,t)=>({format:fA,...e,set:true,content:t});const gA=(e,t,o={})=>{const n=mA(o,t);return NT(e,n).map((t=>{const o=TD(e,t.content,t);MT(e,o.html,t);return o.content})).getOr(t)};const pA=("autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,"+"boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,"+"force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,"+"non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,"+"tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,"+"paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists").split(",");const hA="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(",");const yA=e=>{const t=oe(pA,(t=>Me(e,t)));const o=e.forced_root_block;if(o===false||o===""){t.push("forced_root_block (false only)")}return ge(t)};const bA=e=>{const t=mo.makeMap(e.plugins," ");const o=e=>Me(t,e);const n=oe(hA,o);return ge(n)};const vA=(e,t)=>{const o=yA(e);const n=bA(t);const s=n.length>0;const r=o.length>0;const a=t.theme==="mobile";if(s||r||a){const e="\n- ";const t=a?`\n\nThemes:${e}mobile`:"";const c=s?`\n\nPlugins:${e}${n.join(e)}`:"";const i=r?`\n\nOptions:${e}${o.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. "+"See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+t+c+i)}};const kA=(e,t)=>{vA(e,t)};const wA=Mi.DOM;const _A=e=>{wA.setStyle(e.id,"display",e.orgDisplay)};const xA=e=>U.from(e).each((e=>e.destroy()));const CA=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null;t.bodyElement=t.contentDocument=t.contentWindow=null;t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const e=o.dom;t.selection=o.win=o.dom=e.doc=null}};const SA=e=>{const t=e.formElement;if(t){if(t._mceOldSubmit){t.submit=t._mceOldSubmit;delete t._mceOldSubmit}wA.unbind(t,"submit reset",e.formEventDelegate)}};const zA=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e;const n=e.getBody();const s=e.getElement();if(n){e.save({is_removing:true})}e.removed=true;e.unbindAllNativeEvents();if(e.hasHiddenInput&&O(s===null||s===void 0?void 0:s.nextSibling)){wA.remove(s.nextSibling)}jh(e);e.editorManager.remove(e);if(!e.inline&&n){_A(e)}Zh(e);wA.remove(e.getContainer());xA(t);xA(o);e.destroy()}};const OA=(e,t)=>{const{selection:o,dom:n}=e;if(e.destroyed){return}if(!t&&!e.removed){e.remove();return}if(!t){e.editorManager.off("beforeunload",e._beforeUnload);if(e.theme&&e.theme.destroy){e.theme.destroy()}xA(o);xA(n)}SA(e);CA(e);e.destroyed=true};const TA=()=>{const e={};const t=(t,o)=>{e[t]=o};const o=t=>{if(e[t]){return e[t]}else{return{icons:{}}}};const n=t=>Me(e,t);return{add:t,get:o,has:n}};const EA=TA();const DA=el.ModelManager;const AA=(e,t)=>{const o=t.dom;return o[e]};const NA=(e,t)=>parseInt(Kn(t,e),10);const MA=H(AA,"clientWidth");const RA=H(AA,"clientHeight");const BA=H(NA,"margin-top");const LA=H(NA,"margin-left");const HA=e=>e.dom.getBoundingClientRect();const IA=(e,t,o)=>{const n=MA(e);const s=RA(e);return t>=0&&o>=0&&t<=n&&o<=s};const PA=(e,t,o,n)=>{const s=HA(t);const r=e?s.left+t.dom.clientLeft+LA(t):0;const a=e?s.top+t.dom.clientTop+BA(t):0;const c=o-r;const i=n-a;return{x:c,y:i}};const FA=(e,t,o)=>{const n=cn.fromDom(e.getBody());const s=e.inline?n:bn(n);const r=PA(e.inline,s,t,o);return IA(s,r.x,r.y)};const VA=e=>U.from(e).map(cn.fromDom);const jA=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return VA(t).map(Un).getOr(false)};var ZA=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const UA=e=>{const t=[];const o=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():ZA()};const n=()=>U.from(t[0]);const s=(e,t)=>e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout;const r=()=>{Q(t,(e=>{e.reposition()}))};const a=e=>{t.push(e)};const c=e=>{ce(t,(t=>t===e)).each((e=>{t.splice(e,1)}))};const i=(i,l=true)=>{if(e.removed||!jA(e)){return{}}if(l){e.dispatch("BeforeOpenNotification",{notification:i})}return ae(t,(e=>s(o().getArgs(e),i))).getOrThunk((()=>{e.editorManager.setActive(e);const t=o().open(i,(()=>{c(t);r();n().fold((()=>e.focus()),(e=>Kb(cn.fromDom(e.getEl()))))}));a(t);r();e.dispatch("OpenNotification",{notification:{...t}});return t}))};const l=()=>{n().each((e=>{o().close(e);c(e);r()}))};const d=R(t);const u=e=>{e.on("SkinLoaded",(()=>{const t=af(e);if(t){i({text:t,type:"warning",timeout:0},false)}r()}));e.on("show ResizeEditor ResizeWindow NodeChange",(()=>{requestAnimationFrame(r)}));e.on("remove",(()=>{Q(t.slice(),(e=>{o().close(e)}))}))};u(e);return{open:i,close:l,getNotifications:d}};const qA=el.PluginManager;const WA=el.ThemeManager;var $A=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const GA=e=>{let t=[];const o=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():$A()};const n=(e,t)=>(...o)=>t?t.apply(e,o):undefined;const s=t=>{e.dispatch("OpenWindow",{dialog:t})};const r=t=>{e.dispatch("CloseWindow",{dialog:t})};const a=e=>{t.push(e);s(e)};const c=o=>{r(o);t=oe(t,(e=>e!==o));if(t.length===0){e.focus()}};const i=()=>U.from(t[t.length-1]);const l=t=>{e.editorManager.setActive(e);lv(e);e.ui.show();const o=t();a(o);return o};const d=(e,t)=>l((()=>o().open(e,t,c)));const u=e=>l((()=>o().openUrl(e,c)));const f=(e,t,s)=>{const r=o();r.alert(e,n(s?s:r,t))};const m=(e,t,s)=>{const r=o();r.confirm(e,n(s?s:r,t))};const g=()=>{i().each((e=>{o().close(e);c(e)}))};e.on("remove",(()=>{Q(t,(e=>{o().close(e)}))}));return{open:d,openUrl:u,alert:f,confirm:m,close:g}};const KA=(e,t)=>{e.notificationManager.open({type:"error",text:t})};const YA=(e,t)=>{if(e._skinLoaded){KA(e,t)}else{e.on("SkinLoaded",(()=>{KA(e,t)}))}};const XA=(e,t)=>{YA(e,Qi.translate(["Failed to upload image: {0}",t]))};const JA=(e,t,o)=>{Xh(e,t,{message:o});console.error(o)};const QA=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`;const eN=(e,t,o)=>{JA(e,"PluginLoadError",QA("plugin",t,o))};const tN=(e,t,o)=>{JA(e,"IconsLoadError",QA("icons",t,o))};const oN=(e,t,o)=>{JA(e,"LanguageLoadError",QA("language",t,o))};const nN=(e,t,o)=>{JA(e,"ThemeLoadError",QA("theme",t,o))};const sN=(e,t,o)=>{JA(e,"ModelLoadError",QA("model",t,o))};const rN=(e,t,o)=>{const n=Qi.translate(["Failed to initialize plugin: {0}",t]);Xh(e,"PluginLoadError",{message:n});aN(n,o);YA(e,n)};const aN=(e,...t)=>{const o=window.console;if(o){if(o.error){o.error(e,...t)}else{o.log(e,...t)}}};const cN=e=>/^[a-z0-9\-]+$/i.test(e);const iN=e=>dN(e,Xu(e));const lN=e=>dN(e,Qu(e));const dN=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content";const n=e.editorManager.suffix;const s=`content${n}.css`;return J(t,(t=>{if(cN(t)&&!e.inline){return`${o}/${t}/${s}`}else{return e.documentBaseURI.toAbsolute(t)}}))};const uN=e=>{e.contentCSS=e.contentCSS.concat(iN(e),lN(e))};const fN=Z;const mN=(e,t,o)=>ks(e,t,fN,o);const gN=e=>e?be(e.getElementsByTagName("img")):[];const pN=(e,t)=>{const o={};const n=(n,s=Z)=>{const r=oe(gN(n),(t=>{const o=t.src;if(t.hasAttribute("data-mce-bogus")){return false}if(t.hasAttribute("data-mce-placeholder")){return false}if(!o||o===to.transparentSrc){return false}if(lt(o,"blob:")){return!e.isUploaded(o)&&s(t)}if(lt(o,"data:")){return s(t)}return false}));const a=J(r,(e=>{const n=e.src;if(Me(o,n)){return o[n].then((t=>{if(v(t)){return t}else{return{image:e,blobInfo:t.blobInfo}}}))}else{const s=oT(t,n).then((t=>{delete o[n];return{image:e,blobInfo:t}})).catch((e=>{delete o[n];return e}));o[n]=s;return s}}));return Promise.all(a)};return{findAll:n}};const hN=()=>{const e=1,t=2;let o={};const n=(e,t)=>({status:e,resultUri:t});const s=e=>e in o;const r=e=>{const t=o[e];return t?t.resultUri:null};const a=t=>s(t)?o[t].status===e:false;const c=e=>s(e)?o[e].status===t:false;const i=t=>{o[t]=n(e,null)};const l=(e,s)=>{o[e]=n(t,s)};const d=e=>{delete o[e]};const u=()=>{o={}};return{hasBlobUri:s,getResultUri:r,isPending:a,isUploaded:c,markPending:i,markUploaded:l,removeFailed:d,destroy:u}};let yN=0;const bN=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);const t=(new Date).getTime();return"s"+t.toString(36)+e()+e()+e()};const vN=e=>e+yN+++bN();const kN=()=>{let e=[];const t=e=>{const t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return t[e.toLowerCase()]||"dat"};const o=(e,t,o,s,r)=>{if(v(e)){const a=e;return n({id:a,name:s,filename:r,blob:t,base64:o})}else if(k(e)){return n(e)}else{throw new Error("Unknown input type")}};const n=e=>{if(!e.blob||!e.base64){throw new Error("blob and base64 representations of the image are required for BlobInfo to be created")}const o=e.id||vN("blobid");const n=e.name||o;const s=e.blob;return{id:R(o),name:R(n),filename:R(e.filename||n+"."+t(s.type)),blob:R(s),base64:R(e.base64),blobUri:R(e.blobUri||URL.createObjectURL(s)),uri:R(e.uri)}};const s=t=>{if(!a(t.id())){e.push(t)}};const r=t=>ae(e,t).getOrUndefined();const a=e=>r((t=>t.id()===e));const c=e=>r((t=>t.blobUri()===e));const i=(e,t)=>r((o=>o.base64()===e&&o.blob().type===t));const l=t=>{e=oe(e,(e=>{if(e.blobUri()===t){URL.revokeObjectURL(e.blobUri());return false}return true}))};const d=()=>{Q(e,(e=>{URL.revokeObjectURL(e.blobUri())}));e=[]};return{create:o,add:s,get:a,getByUri:c,getByData:i,findFirst:r,removeByUri:l,destroy:d}};const wN=(e,t)=>{const o={};const n=(e,t)=>{if(e){return e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")}return t};const s=(e,o)=>new Promise(((s,r)=>{const a=new XMLHttpRequest;a.open("POST",t.url);a.withCredentials=t.credentials;a.upload.onprogress=e=>{o(e.loaded/e.total*100)};a.onerror=()=>{r("Image upload failed due to a XHR Transport error. Code: "+a.status)};a.onload=()=>{if(a.status<200||a.status>=300){r("HTTP Error: "+a.status);return}const e=JSON.parse(a.responseText);if(!e||!v(e.location)){r("Invalid JSON: "+a.responseText);return}s(n(t.basePath,e.location))};const c=new FormData;c.append("file",e.blob(),e.filename());a.send(c)}));const r=T(t.handler)?t.handler:s;const a=()=>new Promise((e=>{e([])}));const c=(e,t)=>({url:t,blobInfo:e,status:true});const i=(e,t)=>({url:"",blobInfo:e,status:false,error:t});const l=(e,t)=>{mo.each(o[e],(e=>{e(t)}));delete o[e]};const d=(t,o,n)=>{e.markPending(t.blobUri());return new Promise((s=>{let r;let a;try{const d=()=>{if(r){r.close();a=A}};const u=o=>{d();e.markUploaded(t.blobUri(),o);l(t.blobUri(),c(t,o));s(c(t,o))};const f=o=>{d();e.removeFailed(t.blobUri());l(t.blobUri(),i(t,o));s(i(t,o))};a=e=>{if(e<0||e>100){return}U.from(r).orThunk((()=>U.from(n).map(F))).each((t=>{r=t;t.progressBar.value(e)}))};o(t,a).then(u,(e=>{f(v(e)?{message:e}:e)}))}catch(e){s(i(t,e))}}))};const u=e=>e===s;const f=e=>{const t=e.blobUri();return new Promise((e=>{o[t]=o[t]||[];o[t].push(e)}))};const m=(t,o)=>{t=mo.grep(t,(t=>!e.isUploaded(t.blobUri())));return Promise.all(mo.map(t,(t=>e.isPending(t.blobUri())?f(t):d(t,r,o))))};const g=(e,o)=>!t.url&&u(r)?a():m(e,o);return{upload:g}};const _N=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:true});const xN=(e,t)=>wN(t,{url:Vu(e),basePath:ju(e),credentials:Zu(e),handler:Uu(e)});const CN=e=>{const t=hN();const o=xN(e,t);return{upload:(t,n=true)=>o.upload(t,n?_N(e):undefined)}};const SN=e=>{const t=kN();let o,n;const s=hN();const r=[];const a=t=>o=>{if(e.selection){return t(o)}return[]};const c=e=>e+(e.indexOf("?")===-1?"?":"&")+(new Date).getTime();const i=(e,t,o)=>{let n=0;do{n=e.indexOf(t,n);if(n!==-1){e=e.substring(0,n)+o+e.substr(n+t.length);n+=o.length-t.length+1}}while(n!==-1);return e};const l=(e,t,o)=>{const n=`src="${o}"${o===to.transparentSrc?' data-mce-placeholder="1"':""}`;e=i(e,`src="${t}"`,n);e=i(e,'data-mce-src="'+t+'"','data-mce-src="'+o+'"');return e};const d=(t,o)=>{Q(e.undoManager.data,(e=>{if(e.type==="fragmented"){e.fragments=J(e.fragments,(e=>l(e,t,o)))}else{e.content=l(e.content,t,o)}}))};const u=(t,o)=>{const n=e.convertURL(o,"src");d(t.src,o);Bo(cn.fromDom(t),{src:Hu(e)?c(o):o,"data-mce-src":n})};const f=()=>{if(!o){o=xN(e,s)}return h().then(a((n=>{const s=J(n,(e=>e.blobInfo));return o.upload(s,_N(e)).then(a((o=>{const s=[];let r=false;const a=J(o,((o,a)=>{const{blobInfo:c,image:i}=n[a];let l=false;if(o.status&&Iu(e)){if(o.url&&!it(i.src,o.url)){r=true}t.removeByUri(i.src);if(oD(e));else{u(i,o.url)}}else if(o.error){if(o.error.remove){d(i.src,to.transparentSrc);s.push(i);l=true}XA(e,o.error.message)}return{element:i,status:o.status,uploadUri:o.url,blobInfo:c,removed:l}}));if(s.length>0&&!oD(e)){e.undoManager.transact((()=>{Q(s,(o=>{e.dom.remove(o);t.removeByUri(o.src)}))}))}else if(r){e.undoManager.dispatchChange()}return a})))})))};const m=()=>Lu(e)?f():Promise.resolve([]);const g=e=>de(r,(t=>t(e)));const p=e=>{r.push(e)};const h=()=>{if(!n){n=pN(s,t)}return n.findAll(e.getBody(),g).then(a((t=>{const o=oe(t,(t=>{if(v(t)){YA(e,t);return false}else{return true}}));if(oD(e));else{Q(o,(e=>{d(e.image.src,e.blobInfo.blobUri());e.image.src=e.blobInfo.blobUri();e.image.removeAttribute("data-mce-src")}))}return o})))};const y=()=>{t.destroy();s.destroy();n=o=null};const b=o=>o.replace(/src="(blob:[^"]+)"/g,((o,n)=>{const r=s.getResultUri(n);if(r){return'src="'+r+'"'}let a=t.getByUri(n);if(!a){a=se(e.editorManager.get(),((e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)),undefined)}if(a){const e=a.blob();return'src="data:'+e.type+";base64,"+a.base64()+'"'}return o}));e.on("SetContent",(()=>{if(Lu(e)){m()}else{h()}}));e.on("RawSaveContent",(e=>{e.content=b(e.content)}));e.on("GetContent",(e=>{if(e.source_view||e.format==="raw"||e.format==="tree"){return}e.content=b(e.content)}));e.on("PostRender",(()=>{e.parser.addNodeFilter("img",(e=>{Q(e,(e=>{const o=e.attr("src");if(!o||t.getByUri(o)){return}const n=s.getResultUri(o);if(n){e.attr("src",n)}}))}))}));return{blobCache:t,addFilter:p,uploadImages:f,uploadImagesAuto:m,scanForImages:h,destroy:y}};const zN=e=>{const t=e.dom;const o=e.schema.type;const n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:false,classes:"align-left",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:false,preview:false},{selector:"img,audio,video",collapsed:false,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:false,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:true,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:false,preview:"font-family font-size"},{selector:"figure.image",collapsed:false,classes:"align-center",ceFalseOverride:true,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:false},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:true,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:false},{selector:"[data-ephox-embed-iri]",ceFalseOverride:true,styles:{marginLeft:"auto",marginRight:"auto"},preview:false}],alignright:[{selector:"figure.image",collapsed:false,classes:"align-right",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:false,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:false,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:false,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:true,styles:{float:"right"},preview:false}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:false,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:true};const t={inline:"strike",remove:"all",preserve_attributes:["class","style"]};const n={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[n,e,t]:[e,n,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:true,remove_similar:true,clear_child_styles:true},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:true,remove_similar:true,clear_child_styles:true},fontname:{inline:"span",toggle:false,styles:{fontFamily:"%value"},clear_child_styles:true},fontsize:{inline:"span",toggle:false,styles:{fontSize:"%value"},clear_child_styles:true},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:true,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:(e,t,o)=>Ks(e)&&e.hasAttribute("href"),onformat:(e,o,n)=>{mo.each(n,((o,n)=>{t.setAttrib(e,n,o)}))}},lang:{inline:"span",clear_child_styles:true,remove_similar:true,attributes:{lang:"%value","data-mce-lang":e=>{var t;return(t=e===null||e===void 0?void 0:e.customValue)!==null&&t!==void 0?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]};mo.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(e=>{n[e]={block:e,remove:"all"}}));return n};const ON={remove_similar:true,inherit:false};const TN={selector:"td,th",...ON};const EN={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...TN},tablecellverticalalign:{styles:{"vertical-align":"%value"},...TN},tablecellbordercolor:{styles:{borderColor:"%value"},...TN},tablecellclass:{classes:["%value"],...TN},tableclass:{selector:"table",classes:["%value"],...ON},tablecellborderstyle:{styles:{borderStyle:"%value"},...TN},tablecellborderwidth:{styles:{borderWidth:"%value"},...TN}};const DN=R(EN);const AN=e=>{const t={};const o=e=>O(e)?t[e]:t;const n=e=>Me(t,e);const s=(e,o)=>{if(e){if(!v(e)){xe(e,((e,t)=>{s(t,e)}))}else{if(!_(o)){o=[o]}Q(o,(e=>{if(S(e.deep)){e.deep=!ch(e)}if(S(e.split)){e.split=!ch(e)||ih(e)}if(S(e.remove)&&ch(e)&&!ih(e)){e.remove="none"}if(ch(e)&&ih(e)){e.mixed=true;e.block_expand=true}if(v(e.classes)){e.classes=e.classes.split(/\s+/)}}));t[e]=o}}};const r=e=>{if(e&&t[e]){delete t[e]}return t};s(zN(e));s(DN());s(mf(e));return{get:o,has:n,register:s,unregister:r}};const NN=mo.each;const MN=Mi.DOM;const RN=e=>O(e)&&k(e);const BN=(e,t)=>{const o=t&&t.schema||ai({});const n=(e,t)=>{if(t.classes.length>0){MN.addClass(e,t.classes.join(" "))}MN.setAttribs(e,t.attrs)};const s=e=>{const t=v(e)?{name:e,classes:[],attrs:{}}:e;const o=MN.create(t.name);n(o,t);return o};const r=(e,t)=>{const n=o.getElementRule(e.nodeName.toLowerCase());const s=n===null||n===void 0?void 0:n.parentsRequired;if(s&&s.length){return t&&Y(s,t)?t:s[0]}else{return false}};const a=(e,t,o)=>{let n;const c=t[0];const i=RN(c)?c.name:undefined;const l=r(e,i);if(l){if(i===l){n=c;t=t.slice(1)}else{n=l}}else if(c){n=c;t=t.slice(1)}else if(!o){return e}const d=n?s(n):MN.create("div");d.appendChild(e);if(o){mo.each(o,(t=>{const o=s(t);d.insertBefore(o,e)}))}const u=RN(n)?n.siblings:undefined;return a(d,t,u)};const c=MN.create("div");if(e.length>0){const t=e[0];const o=s(t);const n=RN(t)?t.siblings:undefined;c.appendChild(a(o,e.slice(1),n))}return c};const LN=e=>{e=mo.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};if(e!=="*"){t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,((e,t,n,s,r)=>{switch(t){case"#":o.attrs.id=n;break;case".":o.classes.push(n);break;case":":if(mo.inArray("checked disabled enabled read-only required".split(" "),n)!==-1){o.attrs[n]=n}break}if(s==="["){const e=r.match(/([\w\-]+)(?:\=\"([^\"]+))?/);if(e){o.attrs[e[1]]=e[2]}}return""}))}o.name=t||"div";return o};const HN=e=>{if(!v(e)){return[]}e=e.split(/\s*,\s*/)[0];e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1");return mo.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(e=>{const t=mo.map(e.split(/(?:~\+|~|\+)/),LN);const o=t.pop();if(t.length){o.siblings=t}return o})).reverse()};const IN=(e,t)=>{let o="";let n=gf(e);if(n===""){return""}const s=e=>v(e)?e.replace(/%(\w+)/g,""):"";const r=(t,o)=>MN.getStyle(o!==null&&o!==void 0?o:e.getBody(),t,true);if(v(t)){const o=e.formatter.get(t);if(!o){return""}t=o[0]}if("preview"in t){const e=t.preview;if(e===false){return""}else{n=e||n}}let a=t.block||t.inline||"span";let c;const i=HN(t.selector);if(i.length>0){if(!i[0].name){i[0].name=a}a=t.selector;c=BN(i,e)}else{c=BN([a],e)}const l=MN.select(a,c)[0]||c.firstChild;NN(t.styles,((e,t)=>{const o=s(e);if(o){MN.setStyle(l,t,o)}}));NN(t.attributes,((e,t)=>{const o=s(e);if(o){MN.setAttrib(l,t,o)}}));NN(t.classes,(e=>{const t=s(e);if(!MN.hasClass(l,t)){MN.addClass(l,t)}}));e.dispatch("PreviewFormats");MN.setStyles(c,{position:"absolute",left:-65535});e.getBody().appendChild(c);const d=r("fontSize");const u=/px$/.test(d)?parseInt(d,10):0;NN(n.split(" "),(e=>{let t=r(e,l);if(e==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)){t=r(e);if(bp(t).toLowerCase()==="#ffffff"){return}}if(e==="color"){if(bp(t).toLowerCase()==="#000000"){return}}if(e==="font-size"){if(/em|%$/.test(t)){if(u===0){return}const e=parseFloat(t)/(/%$/.test(t)?100:1);t=e*u+"px"}}if(e==="border"&&t){o+="padding:0 2px;"}o+=e+":"+t+";"}));e.dispatch("AfterPreviewFormats");MN.remove(c);return o};const PN=e=>{e.addShortcut("meta+b","","Bold");e.addShortcut("meta+i","","Italic");e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++){e.addShortcut("access+"+t,"",["FormatBlock",false,"h"+t])}e.addShortcut("access+7","",["FormatBlock",false,"p"]);e.addShortcut("access+8","",["FormatBlock",false,"div"]);e.addShortcut("access+9","",["FormatBlock",false,"address"])};const FN=e=>{const t=AN(e);const o=Fi({});PN(e);hS(e);if(!oD(e)){xz(o,e)}return{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,o,n)=>{xD(e,t,o,n)},remove:(t,o,n,s)=>{CD(e,t,o,n,s)},toggle:(t,o,n)=>{SD(e,t,o,n)},match:(t,o,n,s)=>bD(e,t,o,n,s),closest:t=>_D(e,t),matchAll:(t,o)=>vD(e,t,o),matchNode:(t,o,n,s)=>kD(e,t,o,n,s),canApply:t=>wD(e,t),formatChanged:(t,n,s,r)=>zD(e,o,t,n,s,r),getCssText:H(IN,e)}};const VN=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return true;default:return false}};const jN=(e,t,o)=>{const n=Fi(false);const s=e=>{IE(t,false,o);t.add({},e)};e.on("init",(()=>{t.add()}));e.on("BeforeExecCommand",(e=>{const n=e.command;if(!VN(n)){PE(t,o);t.beforeChange()}}));e.on("ExecCommand",(e=>{const t=e.command;if(!VN(t)){s(e)}}));e.on("ObjectResizeStart cut",(()=>{t.beforeChange()}));e.on("SaveContent ObjectResized blur",s);e.on("dragend",s);e.on("keyup",(o=>{const r=o.keyCode;if(o.isDefaultPrevented()){return}if(r>=33&&r<=36||r>=37&&r<=40||r===45||o.ctrlKey){s();e.nodeChanged()}if(r===46||r===8){e.nodeChanged()}if(n.get()&&t.typing&&!LE(DE(e),t.data[0])){if(!e.isDirty()){e.setDirty(true)}e.dispatch("TypingUndo");n.set(false);e.nodeChanged()}}));e.on("keydown",(e=>{const r=e.keyCode;if(e.isDefaultPrevented()){return}if(r>=33&&r<=36||r>=37&&r<=40||r===45){if(t.typing){s(e)}return}const a=e.ctrlKey&&!e.altKey||e.metaKey;if((r<16||r>20)&&r!==224&&r!==91&&!t.typing&&!a){t.beforeChange();IE(t,true,o);t.add({},e);n.set(true)}}));e.on("mousedown",(e=>{if(t.typing){s(e)}}));const r=e=>e.inputType==="insertReplacementText";const a=e=>e.inputType==="insertText"&&e.data===null;const c=e=>e.inputType==="insertFromPaste"||e.inputType==="insertFromDrop";e.on("input",(e=>{if(e.inputType&&(r(e)||a(e)||c(e))){s(e)}}));e.on("AddUndo Undo Redo ClearUndos",(t=>{if(!t.isDefaultPrevented()){e.nodeChanged()}}))};const ZN=e=>{e.addShortcut("meta+z","","Undo");e.addShortcut("meta+y,meta+shift+z","","Redo")};const UN=e=>{const t=nl();const o=Fi(0);const n=Fi(0);const s={data:[],typing:false,beforeChange:()=>{cD(e,o,t)},add:(r,a)=>iD(e,s,n,o,t,r,a),dispatchChange:()=>{e.setDirty(true);const t=DE(e);t.bookmark=Xd(e.selection);e.dispatch("change",{level:t,lastLevel:pe(s.data,n.get()).getOrUndefined()})},undo:()=>lD(e,s,o,n),redo:()=>dD(e,n,s.data),clear:()=>{uD(e,s,n)},reset:()=>{fD(e,s)},hasUndo:()=>mD(e,s,n),hasRedo:()=>gD(e,s,n),transact:t=>pD(e,s,o,t),ignore:t=>{hD(e,o,t)},extra:(t,o)=>{yD(e,s,n,t,o)}};if(!oD(e)){jN(e,s,o)}ZN(e);return s};const qN=[9,27,dy.HOME,dy.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,dy.DOWN,dy.UP,dy.LEFT,dy.RIGHT].concat(to.browser.isFirefox()?[224]:[]);const WN="data-mce-placeholder";const $N=e=>e.type==="keydown"||e.type==="keyup";const GN=e=>{const t=e.keyCode;return t===dy.BACKSPACE||t===dy.DELETE};const KN=e=>{if($N(e)){const t=e.keyCode;return!GN(e)&&(dy.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Y(qN,t))}else{return false}};const YN=e=>$N(e)&&!(GN(e)||e.type==="keyup"&&e.keyCode===229);const XN=(e,t,o)=>{if(Ka(cn.fromDom(t),false)){const n=t.firstElementChild;if(!n){return true}else if(e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")){return false}else{return o===n.nodeName.toLowerCase()}}else{return false}};const JN=e=>{var t;const o=e.dom;const n=Eu(e);const s=(t=sf(e))!==null&&t!==void 0?t:"";const r=(t,a)=>{if(KN(t)){return}const c=e.getBody();const i=YN(t)?false:XN(o,c,n);const l=o.getAttrib(c,WN)!=="";if(l!==i||a){o.setAttrib(c,WN,i?s:null);o.setAttrib(c,"aria-placeholder",i?s:null);Yh(e,i);e.on(i?"keydown":"keyup",r);e.off(i?"keyup":"keydown",r)}};if(pt(s)){e.on("init",(t=>{r(t,true);e.on("change SetContent ExecCommand",r);e.on("paste",(t=>hv.setEditorTimeout(e,(()=>r(t)))))}))}};const QN=(e,t)=>({block:e,position:t});const eM=(e,t)=>({from:e,to:t});const tM=(e,t)=>{const o=cn.fromDom(e);const n=cn.fromDom(t.container());return D_(o,n).map((e=>QN(e,t)))};const oM=e=>!gn(e.from.block,e.to.block);const nM=(e,t)=>{const o=t=>gn(t,e);const n=e=>$r(e)||gr(e.dom);return Is(t,n,o).filter(To).getOr(e)};const sM=(e,t)=>{const o=cn.fromDom(e);return gn(nM(o,t.from.block),nM(o,t.to.block))};const rM=e=>pr(e.from.block.dom)===false&&pr(e.to.block.dom)===false;const aM=e=>{const t=e=>Zr(e)||cc(e.dom);return t(e.from.block)&&t(e.to.block)};const cM=(e,t,o)=>{if(fr(o.position.getNode())&&!Ka(o.block)){return Dg(false,o.block.dom).bind((n=>{if(n.isEqual(o.position)){return Og(t,e,n).bind((t=>tM(e,t)))}else{return U.some(o)}})).getOr(o)}else{return o}};const iM=(e,t,o)=>{const n=tM(e,yd.fromRangeStart(o));const s=n.bind((o=>Og(t,e,o.position).bind((o=>tM(e,o).map((o=>cM(e,t,o)))))));return ho(n,s,eM).filter((t=>oM(t)&&sM(e,t)&&rM(t)&&aM(t)))};const lM=(e,t,o)=>o.collapsed?iM(e,t,o):U.none();const dM=e=>{const t=Tn(e);return ce(t,Pr).fold(R(t),(e=>t.slice(0,e)))};const uM=e=>{const t=dM(e);Q(t,ls);return t};const fM=(e,t)=>{const o=ow(t,e);return ae(o.reverse(),(e=>Ka(e))).each(ls)};const mM=e=>oe(zn(e),(e=>!Ka(e))).length===0;const gM=(e,t,o,n)=>{if(Ka(o)){ea(o);return Mg(o.dom)}if(mM(n)&&Ka(t)){ts(n,cn.fromTag("br"))}const s=Ng(o.dom,yd.before(n.dom));Q(uM(t),(e=>{ts(n,e)}));fM(e,t);return s};const pM=(e,t,o)=>{if(Ka(o)){ls(o);if(Ka(t)){ea(t)}return Mg(t.dom)}const n=Rg(o.dom);Q(uM(t),(e=>{ss(o,e)}));fM(e,t);return n};const hM=(e,t)=>{const o=ow(t,e);return U.from(o[o.length-1])};const yM=(e,t)=>pn(t,e)?hM(t,e):U.none();const bM=(e,t)=>{Dg(e,t.dom).bind((e=>U.from(e.getNode()))).map(cn.fromDom).filter(jr).each(ls)};const vM=(e,t,o)=>{bM(true,t);bM(false,o);return yM(t,o).fold(H(pM,e,t,o),H(gM,e,t,o))};const kM=(e,t,o,n)=>t?vM(e,n,o):vM(e,o,n);const wM=(e,t)=>{const o=cn.fromDom(e.getBody());const n=lM(o.dom,t,e.selection.getRng()).map((n=>()=>{kM(o,t,n.from.block,n.to.block).each((t=>{e.selection.setRng(t.toRange())}))}));return n};const _M=(e,t)=>{const o=t.getRng();return ho(D_(e,cn.fromDom(o.startContainer)),D_(e,cn.fromDom(o.endContainer)),((n,s)=>{if(!gn(n,s)){return U.some((()=>{o.deleteContents();kM(e,true,n,s).each((e=>{t.setRng(e.toRange())}))}))}else{return U.none()}})).getOr(U.none())};const xM=(e,t)=>{const o=cn.fromDom(t);const n=H(gn,e);return Hs(o,$r,n).isSome()};const CM=(e,t)=>xM(e,t.startContainer)||xM(e,t.endContainer);const SM=(e,t)=>{const o=Ng(e.dom,yd.fromRangeStart(t)).isNone();const n=Ag(e.dom,yd.fromRangeEnd(t)).isNone();return!CM(e,t)&&o&&n};const zM=e=>U.some((()=>{e.setContent("");e.selection.setCursorLocation()}));const OM=e=>{const t=cn.fromDom(e.getBody());const o=e.selection.getRng();return SM(t,o)?zM(e):_M(t,e.selection)};const TM=(e,t)=>e.selection.isCollapsed()?U.none():OM(e);const EM=(e,t,o,n,s)=>U.from(t._selectionOverrides.showCaret(e,o,n,s));const DM=e=>{const t=e.ownerDocument.createRange();t.selectNode(e);return t};const AM=(e,t)=>{const o=e.dispatch("BeforeObjectSelected",{target:t});if(o.isDefaultPrevented()){return U.none()}return U.some(DM(t))};const NM=(e,t,o)=>{const n=Qm(1,e.getBody(),t);const s=yd.fromRangeStart(n);const r=s.getNode();if(Em(r)){return EM(1,e,r,!s.isAtEnd(),false)}const a=s.getNode(true);if(Em(a)){return EM(1,e,a,false,false)}const c=Dx(e.dom.getRoot(),s.getNode());if(Em(c)){return EM(1,e,c,false,o)}return U.none()};const MM=(e,t,o)=>t.collapsed?NM(e,t,o).getOr(t):t;const RM=e=>Xk(e)||$k(e);const BM=e=>Jk(e)||Gk(e);const LM=(e,t)=>{if(ar(t)&&t.data.length===0){e.remove(t)}};const HM=(e,t,o,n,s,r)=>{EM(n,e,r.getNode(!s),s,true).each((o=>{if(t.collapsed){const e=t.cloneRange();if(s){e.setEnd(o.startContainer,o.startOffset)}else{e.setStart(o.endContainer,o.endOffset)}e.deleteContents()}else{t.deleteContents()}e.selection.setRng(o)}));LM(e.dom,o)};const IM=(e,t)=>{const o=e.selection.getRng();if(!ar(o.commonAncestorContainer)){return U.none()}const n=t?ag.Forwards:ag.Backwards;const s=vg(e.getBody());const r=H(sg,t?s.next:s.prev);const a=t?RM:BM;const c=tg(n,e.getBody(),o);const i=r(c);const l=i?w_(t,i):i;if(!l||!rg(c,l)){return U.none()}else if(a(l)){return U.some((()=>HM(e,o,c.getNode(),n,t,l)))}const d=r(l);if(d&&a(d)){if(rg(l,d)){return U.some((()=>HM(e,o,c.getNode(),n,t,d)))}}return U.none()};const PM=(e,t)=>IM(e,t);const FM=(e,t)=>{const o=e.getBody();return t?Mg(o).filter(Xk):Rg(o).filter(Jk)};const VM=e=>{const t=e.selection.getRng();return!t.collapsed&&(FM(e,true).exists((e=>e.isEqual(yd.fromRangeStart(t))))||FM(e,false).exists((e=>e.isEqual(yd.fromRangeEnd(t)))))};const jM=e=>O(e)&&($r(cn.fromDom(e))||qr(cn.fromDom(e)));const ZM=nu.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]);const UM=(e,t)=>{const o=t.getNode(!e);const n=e?"after":"before";return Ks(o)&&o.getAttribute("data-mce-caret")===n};const qM=(e,t,o,n)=>{const s=t=>Vr(cn.fromDom(t))&&!Wm(o,n,e);return eg(!t,o).fold((()=>eg(t,n).fold(j,s)),s)};const WM=(e,t,o,n)=>{const s=n.getNode(!t);return D_(cn.fromDom(e),cn.fromDom(o.getNode())).map((e=>Ka(e)?ZM.remove(e.dom):ZM.moveToElement(s))).orThunk((()=>U.some(ZM.moveToElement(s))))};const $M=(e,t,o)=>Og(t,e,o).bind((n=>{if(jM(n.getNode())){return U.none()}else if(qM(e,t,o,n)){return U.none()}else if(t&&pr(n.getNode())){return WM(e,t,o,n)}else if(!t&&pr(n.getNode(true))){return WM(e,t,o,n)}else if(t&&Jk(o)){return U.some(ZM.moveToPosition(n))}else if(!t&&Xk(o)){return U.some(ZM.moveToPosition(n))}else{return U.none()}}));const GM=(e,t)=>{if(z(t)){return U.none()}else if(e&&pr(t.nextSibling)){return U.some(ZM.moveToElement(t.nextSibling))}else if(!e&&pr(t.previousSibling)){return U.some(ZM.moveToElement(t.previousSibling))}else{return U.none()}};const KM=(e,t,o)=>o.fold((e=>U.some(ZM.remove(e))),(e=>U.some(ZM.moveToElement(e))),(o=>{if(Wm(t,o,e)){return U.none()}else{return U.some(ZM.moveToPosition(o))}}));const YM=(e,t,o)=>{if(UM(t,o)){return GM(t,o.getNode(!t)).orThunk((()=>$M(e,t,o)))}else{return $M(e,t,o).bind((t=>KM(e,o,t)))}};const XM=(e,t,o)=>{const n=Qm(t?1:-1,e,o);const s=yd.fromRangeStart(n);const r=cn.fromDom(e);if(!t&&Jk(s)){return U.some(ZM.remove(s.getNode(true)))}else if(t&&Xk(s)){return U.some(ZM.remove(s.getNode()))}else if(!t&&Xk(s)&&gw(r,s)){return pw(r,s).map((e=>ZM.remove(e.getNode())))}else if(t&&Jk(s)&&mw(r,s)){return hw(r,s).map((e=>ZM.remove(e.getNode())))}else{return YM(e,t,s)}};const JM=(e,t)=>o=>{e._selectionOverrides.hideFakeCaret();f_(e,t,cn.fromDom(o));return true};const QM=(e,t)=>o=>{const n=t?yd.before(o):yd.after(o);e.selection.setRng(n.toRange());return true};const eR=e=>t=>{e.selection.setRng(t.toRange());return true};const tR=(e,t)=>U.from(Dx(e.getBody(),t));const oR=(e,t)=>{const o=e.selection.getNode();return tR(e,o).filter(pr).fold((()=>XM(e.getBody(),t,e.selection.getRng()).map((o=>()=>o.fold(JM(e,t),QM(e,t),eR(e))))),(()=>U.some(A)))};const nR=e=>{Q(Cr(e,".mce-offscreen-selection"),ls)};const sR=(e,t)=>{const o=e.selection.getNode();if(pr(o)&&!hr(o)){const n=tR(e,o.parentNode).filter(pr);return n.fold((()=>U.some((()=>{nR(cn.fromDom(e.getBody()));f_(e,t,cn.fromDom(e.selection.getNode()));A_(e)}))),(()=>U.some(A)))}if(VM(e)){return U.some((()=>{R_(e,e.selection.getRng(),cn.fromDom(e.getBody()))}))}return U.none()};const rR=e=>{const t=e.dom,o=e.selection;const n=Dx(e.getBody(),o.getNode());if(gr(n)&&t.isBlock(n)&&t.isEmpty(n)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(n,"");n.appendChild(e);o.setRng(yd.before(e).toRange())}return true};const aR=(e,t)=>{if(e.selection.isCollapsed()){return oR(e,t)}else{return sR(e,t)}};const cR=(e,t)=>{const o=yd.fromRangeStart(e.selection.getRng());return Og(t,e.getBody(),o).filter((e=>t?qk(e):Wk(e))).bind((e=>$m(t?0:-1,e))).map((t=>()=>e.selection.select(t)))};const iR=(e,t)=>e.selection.isCollapsed()?cR(e,t):U.none();const lR=ar;const dR=e=>lR(e)&&e.data[0]===oa;const uR=e=>lR(e)&&e.data[e.data.length-1]===oa;const fR=e=>{var t;const o=(t=e.ownerDocument)!==null&&t!==void 0?t:document;return o.createTextNode(oa)};const mR=e=>{var t;if(lR(e.previousSibling)){if(uR(e.previousSibling)){return e.previousSibling}else{e.previousSibling.appendData(oa);return e.previousSibling}}else if(lR(e)){if(dR(e)){return e}else{e.insertData(0,oa);return e}}else{const o=fR(e);(t=e.parentNode)===null||t===void 0?void 0:t.insertBefore(o,e);return o}};const gR=e=>{var t,o;if(lR(e.nextSibling)){if(dR(e.nextSibling)){return e.nextSibling}else{e.nextSibling.insertData(0,oa);return e.nextSibling}}else if(lR(e)){if(uR(e)){return e}else{e.appendData(oa);return e}}else{const n=fR(e);if(e.nextSibling){(t=e.parentNode)===null||t===void 0?void 0:t.insertBefore(n,e.nextSibling)}else{(o=e.parentNode)===null||o===void 0?void 0:o.appendChild(n)}return n}};const pR=(e,t)=>e?mR(t):gR(t);const hR=H(pR,true);const yR=H(pR,false);const bR=(e,t)=>{if(ar(e.container())){return pR(t,e.container())}else{return pR(t,e.getNode())}};const vR=(e,t)=>{const o=t.get();return o&&e.container()===o&&ia(o)};const kR=(e,t)=>t.fold((t=>{km(e.get());const o=hR(t);e.set(o);return U.some(yd(o,o.length-1))}),(t=>Mg(t).map((t=>{if(!vR(t,e)){km(e.get());const o=bR(t,true);e.set(o);return yd(o,1)}else{const t=e.get();return yd(t,1)}}))),(t=>Rg(t).map((t=>{if(!vR(t,e)){km(e.get());const o=bR(t,false);e.set(o);return yd(o,o.length-1)}else{const t=e.get();return yd(t,t.length-1)}}))),(t=>{km(e.get());const o=yR(t);e.set(o);return U.some(yd(o,1))}));const wR=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o].apply(null,t);if(n.isSome()){return n}}return U.none()};const _R=nu.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]);const xR=(e,t)=>{const o=qm(t,e);return o?o:e};const CR=(e,t,o)=>{const n=__(o);const s=xR(t,n.container());return b_(e,s,n).fold((()=>Ag(s,n).bind(H(b_,e,s)).map((e=>_R.before(e)))),U.none)};const SR=(e,t)=>Hg(e,t)===null;const zR=(e,t,o)=>b_(e,t,o).filter(H(SR,t));const OR=(e,t,o)=>{const n=x_(o);return zR(e,t,n).bind((e=>{const t=Ng(e,n);return t.isNone()?U.some(_R.start(e)):U.none()}))};const TR=(e,t,o)=>{const n=__(o);return zR(e,t,n).bind((e=>{const t=Ag(e,n);return t.isNone()?U.some(_R.end(e)):U.none()}))};const ER=(e,t,o)=>{const n=x_(o);const s=xR(t,n.container());return b_(e,s,n).fold((()=>Ng(s,n).bind(H(b_,e,s)).map((e=>_R.after(e)))),U.none)};const DR=e=>!h_(NR(e));const AR=(e,t,o)=>{const n=wR([CR,OR,TR,ER],[e,t,o]);return n.filter(DR)};const NR=e=>e.fold(B,B,B,B);const MR=e=>e.fold(R("before"),R("start"),R("end"),R("after"));const RR=e=>e.fold(_R.before,_R.before,_R.after,_R.after);const BR=e=>e.fold(_R.start,_R.start,_R.end,_R.end);const LR=(e,t)=>MR(e)===MR(t)&&NR(e)===NR(t);const HR=(e,t,o,n,s,r)=>ho(b_(t,o,n),b_(t,o,s),((t,n)=>{if(t!==n&&v_(o,t,n)){return _R.after(e?t:n)}else{return r}})).getOr(r);const IR=(e,t)=>e.fold(Z,(e=>!LR(e,t)));const PR=(e,t,o,n,s)=>{const r=w_(e,s);const a=Og(e,o,r).map(H(w_,e));const c=a.fold((()=>n.map(RR)),(s=>AR(t,o,s).map(H(HR,e,t,o,r,s)).filter(H(IR,n))));return c.filter(DR)};const FR=(e,t)=>{if(e){return t.fold(N(U.some,_R.start),U.none,N(U.some,_R.after),U.none)}else{return t.fold(U.none,N(U.some,_R.before),U.none,N(U.some,_R.end))}};const VR=(e,t,o,n)=>{const s=w_(e,n);const r=AR(t,o,s);return AR(t,o,s).bind(H(FR,e)).orThunk((()=>PR(e,t,o,r,n)))};const jR=e=>T(e.selection.getSel().modify);const ZR=(e,t,o)=>{const n=e?1:-1;t.setRng(yd(o.container(),o.offset()+n).toRange());t.getSel().modify("move",e?"forward":"backward","word");return true};const UR=(e,t)=>{const o=t.selection.getRng();const n=e?yd.fromRangeEnd(o):yd.fromRangeStart(o);if(!jR(t)){return false}else if(e&&fa(n)){return ZR(true,t.selection,n)}else if(!e&&ma(n)){return ZR(false,t.selection,n)}else{return false}};var qR;(function(e){e[e["Br"]=0]="Br";e[e["Block"]=1]="Block";e[e["Wrap"]=2]="Wrap";e[e["Eol"]=3]="Eol"})(qR||(qR={}));const WR=(e,t)=>e===ag.Backwards?ue(t):t;const $R=(e,t,o)=>e===ag.Forwards?t.next(o):t.prev(o);const GR=(e,t,o,n)=>{if(fr(n.getNode(t===ag.Forwards))){return qR.Br}else if(Wm(o,n)===false){return qR.Block}else{return qR.Wrap}};const KR=(e,t,o,n)=>{const s=vg(o);let r=n;const a=[];while(r){const n=$R(t,s,r);if(!n){break}if(fr(n.getNode(false))){if(t===ag.Forwards){return{positions:WR(t,a).concat([n]),breakType:qR.Br,breakAt:U.some(n)}}else{return{positions:WR(t,a),breakType:qR.Br,breakAt:U.some(n)}}}if(!n.isVisible()){r=n;continue}if(e(r,n)){const e=GR(o,t,r,n);return{positions:WR(t,a),breakType:e,breakAt:U.some(n)}}a.push(n);r=n}return{positions:WR(t,a),breakType:qR.Eol,breakAt:U.none()}};const YR=(e,t,o,n)=>t(o,n).breakAt.map((n=>{const s=t(o,n).positions;return e===ag.Backwards?s.concat(n):[n].concat(s)})).getOr([]);const XR=(e,t)=>se(e,((e,o)=>e.fold((()=>U.some(o)),(n=>ho(he(n.getClientRects()),he(o.getClientRects()),((e,s)=>{const r=Math.abs(t-e.left);const a=Math.abs(t-s.left);return a<=r?o:n})).or(e)))),U.none());const JR=(e,t)=>he(t.getClientRects()).bind((t=>XR(e,t.left)));const QR=H(KR,yd.isAbove,-1);const eB=H(KR,yd.isBelow,1);const tB=H(YR,-1,QR);const oB=H(YR,1,eB);const nB=(e,t)=>QR(e,t).breakAt.isNone();const sB=(e,t)=>eB(e,t).breakAt.isNone();const rB=e=>Mg(e).map((t=>[t].concat(eB(e,t).positions))).getOr([]);const aB=e=>Rg(e).map((t=>QR(e,t).positions.concat(t))).getOr([]);const cB=(e,t)=>JR(tB(e,t),t);const iB=(e,t)=>JR(oB(e,t),t);const lB=pr;const dB=(e,t)=>Math.abs(e.left-t);const uB=(e,t)=>Math.abs(e.right-t);const fB=e=>Re(e,"node");const mB=(e,t)=>Ue(e,((e,o)=>{const n=Math.min(dB(e,t),uB(e,t));const s=Math.min(dB(o,t),uB(o,t));if(s===n&&fB(o)&&lB(o.node)){return o}if(s<n){return o}return e}));const gB=e=>{const t=t=>J(t,(t=>{const o=Ml(t);o.node=e;return o}));if(Ks(e)){return t(e.getClientRects())}else if(ar(e)){const o=e.ownerDocument.createRange();o.setStart(e,0);o.setEnd(e,e.data.length);return t(o.getClientRects())}else{return[]}};const pB=e=>le(e,gB);var hB;(function(e){e[e["Up"]=-1]="Up";e[e["Down"]=1]="Down"})(hB||(hB={}));const yB=(e,t,o,n)=>{let s=n;while(s=Zm(s,e,Ra,t)){if(o(s)){return}}};const bB=(e,t,o,n,s,r)=>{let a=0;const c=[];const i=n=>{let r=pB([n]);if(e===-1){r=r.reverse()}for(let e=0;e<r.length;e++){const n=r[e];if(o(n,l)){continue}if(c.length>0&&t(n,We(c))){a++}n.line=a;if(s(n)){return true}c.push(n)}return false};const l=We(r.getClientRects());if(!l){return c}const d=r.getNode();if(d){i(d);yB(e,n,i,d)}return c};const vB=(e,t)=>t.line>e;const kB=(e,t)=>t.line===e;const wB=H(bB,hB.Up,Hl,Il);const _B=H(bB,hB.Down,Il,Hl);const xB=e=>We(e.getClientRects());const CB=(e,t,o,n)=>{const s=vg(t);let r;let a;let c;let i;const l=[];let d=0;if(e===1){r=s.next;a=Il;c=Hl;i=yd.after(n)}else{r=s.prev;a=Hl;c=Il;i=yd.before(n)}const u=xB(i);do{if(!i.isVisible()){continue}const e=xB(i);if(c(e,u)){continue}if(l.length>0&&a(e,We(l))){d++}const t=Ml(e);t.position=i;t.line=d;if(o(t)){return l}l.push(t)}while(i=r(i));return l};const SB=e=>t=>vB(e,t);const zB=e=>t=>kB(e,t);const OB=(e,t)=>{e.selection.setRng(t);Gb(e,e.selection.getRng())};const TB=(e,t,o)=>U.some(MM(e,t,o));const EB=(e,t,o,n,s,r)=>{const a=t===ag.Forwards;const c=vg(e.getBody());const i=H(sg,a?c.next:c.prev);const l=a?n:s;if(!o.collapsed){const n=Ul(o);if(r(n)){return EM(t,e,n,t===ag.Backwards,false)}else if(VM(e)){const e=o.cloneRange();e.collapse(t===ag.Backwards);return U.from(e)}}const d=tg(t,e.getBody(),o);if(l(d)){return AM(e,d.getNode(!a))}let u=i(d);const f=va(o);if(!u){return f?U.some(o):U.none()}else{u=w_(a,u)}if(l(u)){return EM(t,e,u.getNode(!a),a,false)}const m=i(u);if(m&&l(m)){if(rg(u,m)){return EM(t,e,m.getNode(!a),a,false)}}if(f){return TB(e,u.toRange(),false)}return U.none()};const DB=(e,t,o,n,s,r)=>{const a=tg(t,e.getBody(),o);const c=We(a.getClientRects());const i=t===hB.Down;const l=e.getBody();if(!c){return U.none()}if(VM(e)){const e=i?yd.fromRangeEnd(o):yd.fromRangeStart(o);const t=!i?cB:iB;return t(l,e).orThunk((()=>U.from(e))).map((e=>e.toRange()))}const d=i?_B:wB;const u=d(l,SB(1),a);const f=oe(u,zB(1));const m=c.left;const g=mB(f,m);if(g&&r(g.node)){const o=Math.abs(m-g.left);const n=Math.abs(m-g.right);return EM(t,e,g.node,o<n,false)}let p;if(n(a)){p=a.getNode()}else if(s(a)){p=a.getNode(true)}else{p=Ul(o)}if(p){const o=CB(t,l,SB(1),p);let n=mB(oe(o,zB(1)),m);if(n){return TB(e,n.position.toRange(),false)}n=We(oe(o,zB(0)));if(n){return TB(e,n.position.toRange(),false)}}if(f.length===0){return AB(e,i).filter(i?s:n).map((t=>MM(e,t.toRange(),false)))}return U.none()};const AB=(e,t)=>{const o=e.selection.getRng();const n=t?yd.fromRangeEnd(o):yd.fromRangeStart(o);const s=Um(n.container(),e.getBody());if(t){const e=eB(s,n);return ye(e.positions)}else{const e=QR(s,n);return he(e.positions)}};const NB=(e,t,o)=>AB(e,t).filter(o).exists((t=>{e.selection.setRng(t.toRange());return true}));const MB=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset());o.setEnd(t.container(),t.offset());e.selection.setRng(o)};const RB=(e,t)=>{if(e){t.setAttribute("data-mce-selected","inline-boundary")}else{t.removeAttribute("data-mce-selected")}};const BB=(e,t,o)=>kR(t,o).map((t=>{MB(e,t);return o}));const LB=(e,t,o)=>{const n=yd.fromRangeStart(e);if(e.collapsed){return n}else{const s=yd.fromRangeEnd(e);return o?Ng(t,s).getOr(s):Ag(t,n).getOr(n)}};const HB=(e,t,o)=>{const n=e.getBody();const s=LB(e.selection.getRng(),n,o);const r=H(p_,e);const a=VR(o,r,n,s);return a.bind((o=>BB(e,t,o)))};const IB=(e,t,o)=>{const n=J(Cr(cn.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(e=>e.dom));const s=oe(n,e);const r=oe(o,e);Q(fe(s,r),H(RB,false));Q(fe(r,s),H(RB,true))};const PB=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const n=yd.fromRangeStart(e.selection.getRng());if(yd.isTextPosition(n)&&!k_(n)){MB(e,vm(o,n));t.set(null)}}};const FB=(e,t,o,n)=>{if(t.selection.isCollapsed()){const s=oe(n,e);Q(s,(n=>{const s=yd.fromRangeStart(t.selection.getRng());AR(e,t.getBody(),s).bind((e=>BB(t,o,e)))}))}};const VB=(e,t,o)=>ff(e)?HB(e,t,o).isSome():false;const jB=(e,t,o)=>ff(t)?UR(e,t):false;const ZB=e=>{const t=Fi(null);const o=H(p_,e);e.on("NodeChange",(n=>{if(ff(e)){IB(o,e.dom,n.parents);PB(e,t);FB(o,e,t,n.parents)}}));return t};const UB=H(jB,true);const qB=H(jB,false);const WB=(e,t,o)=>{if(ff(e)){const n=AB(e,t).getOrThunk((()=>{const o=e.selection.getRng();return t?yd.fromRangeEnd(o):yd.fromRangeStart(o)}));return AR(H(p_,e),e.getBody(),n).exists((t=>{const n=RR(t);return kR(o,n).exists((t=>{MB(e,t);return true}))}))}else{return false}};const $B=(e,t)=>{const o=document.createRange();o.setStart(e.container(),e.offset());o.setEnd(t.container(),t.offset());return o};const GB=e=>ho(Mg(e),Rg(e),((t,o)=>{const n=w_(true,t);const s=w_(false,o);return Ag(e,n).forall((e=>e.isEqual(s)))})).getOr(true);const KB=(e,t)=>o=>kR(t,o).map((t=>()=>MB(e,t)));const YB=(e,t,o,n)=>{const s=e.getBody();const r=H(p_,e);e.undoManager.ignore((()=>{e.selection.setRng($B(o,n));z_(e);AR(r,s,yd.fromRangeStart(e.selection.getRng())).map(BR).bind(KB(e,t)).each(V)}));e.nodeChanged()};const XB=(e,t)=>{const o=qm(t,e);return o?o:e};const JB=(e,t,o,n)=>{const s=XB(e.getBody(),n.container());const r=H(p_,e);const a=AR(r,s,n);const c=a.bind((e=>{if(o){return e.fold(R(U.some(BR(e))),U.none,R(U.some(RR(e))),U.none)}else{return e.fold(U.none,R(U.some(RR(e))),U.none,R(U.some(BR(e))))}}));return c.map(KB(e,t)).getOrThunk((()=>{const c=Tg(o,s,n);const i=c.bind((e=>AR(r,s,e)));return ho(a,i,(()=>b_(r,s,n).bind((t=>{if(GB(t)){return U.some((()=>{f_(e,o,cn.fromDom(t))}))}else{return U.none()}})))).getOrThunk((()=>i.bind((()=>c.map((s=>()=>{if(o){YB(e,t,n,s)}else{YB(e,t,s,n)}}))))))}))};const QB=(e,t,o)=>{if(e.selection.isCollapsed()&&ff(e)){const n=yd.fromRangeStart(e.selection.getRng());return JB(e,t,o,n)}return U.none()};const eL=(e,t)=>{const o=ow(t,e);return ce(o,Pr).fold(R(o),(e=>o.slice(0,e)))};const tL=e=>Nn(e)===1;const oL=(e,t,o,n)=>{const s=H(bS,t);const r=J(oe(n,s),(e=>e.dom));if(r.length===0){f_(t,e,o)}else{const e=yS(o.dom,r);t.selection.setRng(e.toRange())}};const nL=(e,t)=>{const o=cn.fromDom(e.getBody());const n=cn.fromDom(e.selection.getStart());const s=oe(eL(o,n),tL);return ye(s).bind((o=>{const n=yd.fromRangeStart(e.selection.getRng());if(N_(t,n,o.dom)&&!vS(o)){return U.some((()=>oL(t,e,o,s)))}else{return U.none()}}))};const sL=(e,t)=>e.selection.isCollapsed()?nL(e,t):U.none();const rL=(e,t,o)=>{if(O(o)){return U.some((()=>{e._selectionOverrides.hideFakeCaret();f_(e,t,cn.fromDom(o))}))}else{return U.none()}};const aL=(e,t)=>{const o=t?$k:Gk;const n=t?ag.Forwards:ag.Backwards;const s=tg(n,e.getBody(),e.selection.getRng());if(o(s)){return rL(e,t,s.getNode(!t))}else{return U.from(w_(t,s)).filter((e=>o(e)&&rg(s,e))).bind((o=>rL(e,t,o.getNode(!t))))}};const cL=(e,t)=>{const o=e.selection.getNode();return br(o)?rL(e,t,o):U.none()};const iL=(e,t)=>e.selection.isCollapsed()?aL(e,t):cL(e,t);const lL=e=>Is(e,(e=>gr(e.dom)||pr(e.dom))).exists((e=>gr(e.dom)));const dL=e=>bt(e!==null&&e!==void 0?e:"").getOr(0);const uL=(e,t)=>{const o=e||Fr(t)?"margin":"padding";const n=Kn(t,"direction")==="rtl"?"-right":"-left";return o+n};const fL=(e,t,o,n,s,r)=>{const a=uL(o,cn.fromDom(r));const c=dL(e.getStyle(r,a));if(t==="outdent"){const t=Math.max(0,c-n);e.setStyle(r,a,t?t+s:"")}else{const t=c+n+s;e.setStyle(r,a,t)}};const mL=(e,t)=>de(t,(t=>{const o=uL(Ku(e),t);const n=Xn(t,o).map(dL).getOr(0);const s=e.dom.getContentEditable(t.dom);return s!=="false"&&n>0}));const gL=e=>{const t=yL(e);return!e.mode.isReadOnly()&&(t.length>1||mL(e,t))};const pL=e=>Ur(e)||qr(e);const hL=e=>kn(e).exists(pL);const yL=e=>oe(fs(e.selection.getSelectedBlocks()),(e=>!pL(e)&&!hL(e)&&lL(e)));const bL=(e,t)=>{var o,n;const{dom:s}=e;const r=Yu(e);const a=(n=(o=/[a-z%]+$/i.exec(r))===null||o===void 0?void 0:o[0])!==null&&n!==void 0?n:"px";const c=dL(r);const i=Ku(e);Q(yL(e),(e=>{fL(s,t,i,c,a,e.dom)}))};const vL=e=>bL(e,"indent");const kL=e=>bL(e,"outdent");const wL=e=>{if(e.selection.isCollapsed()&&gL(e)){const t=e.dom;const o=e.selection.getRng();const n=yd.fromRangeStart(o);const s=t.getParent(o.startContainer,t.isBlock);if(s!==null&&cw(cn.fromDom(s),n)){return U.some((()=>kL(e)))}}return U.none()};const _L=(e,t,o)=>ve([wL,aR,PM,(e,o)=>QB(e,t,o),wM,Ex,iR,iL,TM,sL],(t=>t(e,o)));const xL=(e,t)=>{const o=_L(e,t,false);o.fold((()=>{z_(e);A_(e)}),V)};const CL=(e,t)=>{const o=_L(e,t,true);o.fold((()=>O_(e)),V)};const SL=(e,t)=>{e.addCommand("delete",(()=>{xL(e,t)}));e.addCommand("forwardDelete",(()=>{CL(e,t)}))};const zL=5;const OL=400;const TL=e=>{if(e.touches===undefined||e.touches.length!==1){return U.none()}return U.some(e.touches[0])};const EL=(e,t)=>{const o=Math.abs(e.clientX-t.x);const n=Math.abs(e.clientY-t.y);return o>zL||n>zL};const DL=e=>{const t=nl();const o=Fi(false);const n=rl((t=>{e.dispatch("longpress",{...t,type:"longpress"});o.set(true)}),OL);e.on("touchstart",(e=>{TL(e).each((s=>{n.cancel();const r={x:s.clientX,y:s.clientY,target:e.target};n.throttle(e);o.set(false);t.set(r)}))}),true);e.on("touchmove",(s=>{n.cancel();TL(s).each((n=>{t.on((s=>{if(EL(n,s)){t.clear();o.set(false);e.dispatch("longpresscancel")}}))}))}),true);e.on("touchend touchcancel",(s=>{n.cancel();if(s.type==="touchcancel"){return}t.get().filter((e=>e.target.isEqualNode(s.target))).each((()=>{if(o.get()){s.preventDefault()}else{e.dispatch("tap",{...s,type:"tap"})}}))}),true)};const AL=(e,t)=>Me(e,t.nodeName);const NL=(e,t)=>{if(ar(t)){return true}else if(Ks(t)){return!AL(e.getBlockElements(),t)&&!rp(t)&&!dc(e,t)}else{return false}};const ML=(e,t,o)=>X(tw(cn.fromDom(o),cn.fromDom(t)),(t=>AL(e,t.dom)));const RL=(e,t)=>{if(ar(t)){if(t.data.length===0){return true}else if(/^\s+$/.test(t.data)&&(!t.nextSibling||AL(e,t.nextSibling))){return true}}return false};const BL=e=>e.dom.create(Eu(e),Du(e));const LL=e=>{const t=e.dom,o=e.selection;const n=e.schema;const s=n.getBlockElements();const r=o.getStart();const a=e.getBody();let c;let i;let l=false;const d=Eu(e);if(!r||!Ks(r)){return}const u=a.nodeName.toLowerCase();if(!n.isValidChild(u,d.toLowerCase())||ML(s,a,r)){return}const f=o.getRng();const{startContainer:m,startOffset:g,endContainer:p,endOffset:h}=f;const y=Fv(e);let b=a.firstChild;while(b){if(Ks(b)){rc(n,b)}if(NL(n,b)){if(RL(s,b)){i=b;b=b.nextSibling;t.remove(i);continue}if(!c){c=BL(e);a.insertBefore(c,b);l=true}i=b;b=b.nextSibling;c.appendChild(i)}else{c=null;b=b.nextSibling}}if(l&&y){f.setStart(m,g);f.setEnd(p,h);o.setRng(f);e.nodeChanged()}};const HL=(e,t,o)=>{const n=cn.fromDom(BL(e));const s=Qr();ss(n,s);o(t,n);const r=document.createRange();r.setStartBefore(s.dom);r.setEndBefore(s.dom);return r};const IL=e=>{e.on("NodeChange",H(LL,e))};const PL=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1;const FL=(e,t,o)=>function(n){const s=arguments,r=s[s.length-2];const a=r>0?t.charAt(r-1):"";if(a==='"'){return n}if(a===">"){const e=t.lastIndexOf("<",r);if(e!==-1){const o=t.substring(e,r);if(o.indexOf('contenteditable="false"')!==-1){return n}}}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(s[0])+'">'+e.dom.encode(typeof s[1]==="string"?s[1]:s[0])+"</span>"};const VL=(e,t,o)=>{let n=t.length,s=o.content;if(o.format==="raw"){return}while(n--){s=s.replace(t[n],FL(e,s,Qf(e)))}o.content=s};const jL=e=>{const t="contenteditable";const o=" "+mo.trim(em(e))+" ";const n=" "+mo.trim(Qf(e))+" ";const s=PL(o);const r=PL(n);const a=tm(e);if(a.length>0){e.on("BeforeSetContent",(t=>{VL(e,a,t)}))}e.parser.addAttributeFilter("class",(e=>{let o=e.length;while(o--){const n=e[o];if(s(n)){n.attr(t,"true")}else if(r(n)){n.attr(t,"false")}}}));e.serializer.addAttributeFilter(t,(e=>{let o=e.length;while(o--){const n=e[o];if(!s(n)&&!r(n)){continue}if(a.length>0&&n.attr("data-mce-content")){n.name="#text";n.type=3;n.raw=true;n.value=n.attr("data-mce-content")}else{n.attr(t,null)}}}))};const ZL=e=>Zs(cn.fromDom(e.getBody()),"*[data-mce-caret]").map((e=>e.dom)).getOrNull();const UL=(e,t)=>{if(t.hasAttribute("data-mce-caret")){ba(t);e.selection.setRng(e.selection.getRng());e.selection.scrollIntoView(t)}};const qL=(e,t)=>{const o=ZL(e);if(!o){return}if(t.type==="compositionstart"){t.preventDefault();t.stopPropagation();UL(e,o);return}if(da(o)){UL(e,o);e.undoManager.add()}};const WL=e=>{e.on("keyup compositionstart",H(qL,e))};const $L=pr;const GL=(e,t,o)=>EB(t,e,o,Xk,Jk,$L);const KL=(e,t,o)=>{const n=e=>Xk(e)||Kk(e);const s=e=>Jk(e)||Yk(e);return DB(t,e,o,n,s,$L)};const YL=e=>{const t=e.dom.create(Eu(e));t.innerHTML='<br data-mce-bogus="1">';return t};const XL=(e,t,o)=>{const n=vg(e.getBody());const s=H(sg,t===1?n.next:n.prev);if(o.collapsed){const n=e.dom.getParent(o.startContainer,"PRE");if(!n){return}const r=s(yd.fromRangeStart(o));if(!r){const o=cn.fromDom(YL(e));if(t===1){os(cn.fromDom(n),o)}else{ts(cn.fromDom(n),o)}e.selection.select(o.dom,true);e.selection.collapse()}}};const JL=(e,t)=>{const o=t?ag.Forwards:ag.Backwards;const n=e.selection.getRng();return GL(o,e,n).orThunk((()=>{XL(e,o,n);return U.none()}))};const QL=(e,t)=>{const o=t?1:-1;const n=e.selection.getRng();return KL(o,e,n).orThunk((()=>{XL(e,o,n);return U.none()}))};const eH=(e,t)=>JL(e,t).exists((t=>{OB(e,t);return true}));const tH=(e,t)=>QL(e,t).exists((t=>{OB(e,t);return true}));const oH=(e,t)=>{const o=t?Jk:Xk;return NB(e,t,o)};const nH=(e,t)=>FM(e,!t).map((o=>{const n=o.toRange();const s=e.selection.getRng();if(t){n.setStart(s.startContainer,s.startOffset)}else{n.setEnd(s.endContainer,s.endOffset)}return n})).exists((t=>{OB(e,t);return true}));const sH=e=>Y(["figcaption"],Co(e));const rH=(e,t)=>{const o=H(gn,t);return Is(cn.fromDom(e.container()),Pr,o).filter(sH)};const aH=(e,t,o)=>t?sB(e.dom,o):nB(e.dom,o);const cH=(e,t)=>{const o=cn.fromDom(e.getBody());const n=yd.fromRangeStart(e.selection.getRng());return rH(n,o).exists((()=>{if(aH(o,t,n)){const n=t?ss:ns;const s=HL(e,o,n);e.selection.setRng(s);return true}else{return false}}))};const iH=(e,t)=>{if(e.selection.isCollapsed()){return cH(e,t)}else{return false}};const lH={shiftKey:false,altKey:false,ctrlKey:false,metaKey:false,keyCode:0};const dH=e=>J(e,(e=>({...lH,...e})));const uH=e=>J(e,(e=>({...lH,...e})));const fH=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey;const mH=(e,t)=>le(dH(e),(e=>fH(e,t)?[e]:[]));const gH=(e,t)=>le(uH(e),(e=>fH(e,t)?[e]:[]));const pH=(e,...t)=>()=>e.apply(null,t);const hH=(e,t)=>ae(mH(e,t),(e=>e.action()));const yH=(e,t)=>ve(gH(e,t),(e=>e.action()));const bH=(e,t)=>{const o=t?ag.Forwards:ag.Backwards;const n=e.selection.getRng();return EB(e,o,n,$k,Gk,br).exists((t=>{OB(e,t);return true}))};const vH=(e,t)=>{const o=t?1:-1;const n=e.selection.getRng();return DB(e,o,n,$k,Gk,br).exists((t=>{OB(e,t);return true}))};const kH=(e,t)=>{const o=t?Gk:$k;return NB(e,t,o)};const wH=nu.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]);const _H=e=>wH.none(e);const xH={...wH,none:_H};const CH=(e,t)=>SH(e,t,Z);const SH=(e,t,o)=>le(Tn(e),(e=>{if(dn(e,t)){return o(e)?[e]:[]}else{return SH(e,t,o)}}));const zH=(e,t,o=j)=>{if(o(t)){return U.none()}if(Y(e,Co(t))){return U.some(t)}const n=e=>dn(e,"table")||o(e);return js(t,e.join(","),n)};const OH=(e,t)=>zH(["td","th"],e,t);const TH=e=>CH(e,"th,td");const EH=(e,t)=>Us(e,"table",t);const DH=(e,t,o,n,s=Z)=>{const r=n===1;if(!r&&o<=0){return xH.first(e[0])}else if(r&&o>=e.length-1){return xH.last(e[e.length-1])}else{const r=o+n;const a=e[r];return s(a)?xH.middle(t,a):DH(e,t,r,n,s)}};const AH=(e,t)=>EH(e,t).bind((t=>{const o=TH(t);const n=ce(o,(t=>gn(e,t)));return n.map((e=>({index:e,all:o})))}));const NH=(e,t,o)=>{const n=AH(e,o);return n.fold((()=>xH.none(e)),(o=>DH(o.all,e,o.index,1,t)))};const MH=(e,t,o)=>{const n=AH(e,o);return n.fold((()=>xH.none()),(o=>DH(o.all,e,o.index,-1,t)))};const RH=e=>Us(e,"[contenteditable]");const BH=(e,t=false)=>{if(Un(e)){return e.dom.isContentEditable}else{return RH(e).fold(R(t),(e=>LH(e)==="true"))}};const LH=e=>e.dom.contentEditable;const HH=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t});const IH=(e,t)=>le(t,(t=>{const o=HH(Ml(t.getBoundingClientRect()),-1);return[{x:o.left,y:e(o),cell:t},{x:o.right,y:e(o),cell:t}]}));const PH=(e,t,o)=>se(e,((e,n)=>e.fold((()=>U.some(n)),(e=>{const s=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-o));const r=Math.sqrt(Math.abs(n.x-t)+Math.abs(n.y-o));return U.some(r<s?n:e)}))),U.none());const FH=(e,t,o,n,s)=>{const r=Cr(cn.fromDom(o),"td,th,caption").map((e=>e.dom));const a=oe(IH(e,r),(e=>t(e,s)));return PH(a,n,s).map((e=>e.cell))};const VH=e=>e.bottom;const jH=e=>e.top;const ZH=(e,t)=>e.y<t;const UH=(e,t)=>e.y>t;const qH=H(FH,VH,ZH);const WH=H(FH,jH,UH);const $H=(e,t)=>he(t.getClientRects()).bind((t=>qH(e,t.left,t.top))).bind((e=>JR(aB(e),t)));const GH=(e,t)=>ye(t.getClientRects()).bind((t=>WH(e,t.left,t.top))).bind((e=>JR(rB(e),t)));const KH=(e,t,o)=>o.breakAt.exists((o=>e(t,o).breakAt.isSome()));const YH=e=>e.breakType===qR.Wrap&&e.positions.length===0;const XH=e=>e.breakType===qR.Br&&e.positions.length===1;const JH=(e,t,o)=>{const n=e(t,o);if(YH(n)||!fr(o.getNode())&&XH(n)){return!KH(e,t,n)}else{return n.breakAt.isNone()}};const QH=H(JH,QR);const eI=H(JH,eB);const tI=(e,t,o)=>{const n=yd.fromRangeStart(t);return Dg(!e,o).exists((e=>e.isEqual(n)))};const oI=(e,t,o,n)=>{const s=e.selection.getRng();const r=t?1:-1;if(Tm()&&tI(t,s,o)){EM(r,e,o,!t,false).each((t=>{OB(e,t)}));return true}return false};const nI=(e,t,o)=>$H(t,o).orThunk((()=>he(o.getClientRects()).bind((o=>XR(tB(e,yd.before(t)),o.left))))).getOr(yd.before(t));const sI=(e,t,o)=>GH(t,o).orThunk((()=>he(o.getClientRects()).bind((o=>XR(oB(e,yd.after(t)),o.left))))).getOr(yd.after(t));const rI=(e,t)=>{const o=t.getNode(e);return nr(o)?U.some(o):U.none()};const aI=(e,t,o)=>{t.undoManager.transact((()=>{const n=e?os:ts;const s=HL(t,cn.fromDom(o),n);OB(t,s)}))};const cI=(e,t,o)=>{const n=t?rI(true,o):rI(false,o);const s=t===false;n.fold((()=>OB(e,o.toRange())),(n=>Dg(s,e.getBody()).filter((e=>e.isEqual(o))).fold((()=>OB(e,o.toRange())),(o=>aI(t,e,n)))))};const iI=(e,t,o,n)=>{const s=e.selection.getRng();const r=yd.fromRangeStart(s);const a=e.getBody();if(!t&&QH(n,r)){const n=nI(a,o,r);cI(e,t,n);return true}else if(t&&eI(n,r)){const n=sI(a,o,r);cI(e,t,n);return true}else{return false}};const lI=(e,t,o)=>U.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((n=>U.from(e.dom.getParent(n,"table")).map((s=>o(e,t,s,n))))).getOr(false);const dI=(e,t)=>lI(e,t,oI);const uI=(e,t)=>lI(e,t,iI);const fI=e=>{const t=Gy.exact(e,0,e,0);return eb(t)};const mI=(e,t,o)=>o.fold(U.none,U.none,((e,t)=>nk(t).map((e=>fI(e)))),(o=>{e.execCommand("mceTableInsertRowAfter");return gI(e,t,o)}));const gI=(e,t,o)=>mI(e,t,NH(o,BH));const pI=(e,t,o)=>mI(e,t,MH(o,BH));const hI=(e,t)=>{const o=["table","li","dl"];const n=cn.fromDom(e.getBody());const s=e=>{const t=Co(e);return gn(e,n)||Y(o,t)};const r=e.selection.getRng();const a=cn.fromDom(!t?r.startContainer:r.endContainer);return OH(a,s).map((o=>{EH(o,s).each((t=>{e.model.table.clearSelectedCells(t.dom)}));e.selection.collapse(!t);const n=!t?pI:gI;const r=n(e,s,o);r.each((t=>{e.selection.setRng(t)}));return true})).getOr(false)};const yI=(e,t,o)=>{const n=to.os.isMacOS()||to.os.isiOS();hH([{keyCode:dy.RIGHT,action:pH(eH,e,true)},{keyCode:dy.LEFT,action:pH(eH,e,false)},{keyCode:dy.UP,action:pH(tH,e,false)},{keyCode:dy.DOWN,action:pH(tH,e,true)},...n?[{keyCode:dy.UP,action:pH(nH,e,false),metaKey:true,shiftKey:true},{keyCode:dy.DOWN,action:pH(nH,e,true),metaKey:true,shiftKey:true}]:[],{keyCode:dy.RIGHT,action:pH(dI,e,true)},{keyCode:dy.LEFT,action:pH(dI,e,false)},{keyCode:dy.UP,action:pH(uI,e,false)},{keyCode:dy.DOWN,action:pH(uI,e,true)},{keyCode:dy.RIGHT,action:pH(bH,e,true)},{keyCode:dy.LEFT,action:pH(bH,e,false)},{keyCode:dy.UP,action:pH(vH,e,false)},{keyCode:dy.DOWN,action:pH(vH,e,true)},{keyCode:dy.RIGHT,action:pH(VB,e,t,true)},{keyCode:dy.LEFT,action:pH(VB,e,t,false)},{keyCode:dy.RIGHT,ctrlKey:!n,altKey:n,action:pH(UB,e,t)},{keyCode:dy.LEFT,ctrlKey:!n,altKey:n,action:pH(qB,e,t)},{keyCode:dy.UP,action:pH(iH,e,false)},{keyCode:dy.DOWN,action:pH(iH,e,true)}],o).each((e=>{o.preventDefault()}))};const bI=(e,t)=>{e.on("keydown",(o=>{if(!o.isDefaultPrevented()){yI(e,t,o)}}))};const vI=(e,t)=>({container:e,offset:t});const kI=Mi.DOM;const wI=e=>t=>e===t?-1:0;const _I=e=>t=>e.isBlock(t)||Y(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false";const xI=(e,t,o)=>{if(ar(e)&&t>=0){return U.some(vI(e,t))}else{const n=Al(kI);return U.from(n.backwards(e,t,wI(e),o)).map((e=>vI(e.container,e.container.data.length)))}};const CI=(e,t,o)=>{if(ar(e)&&t>=e.length){return U.some(vI(e,t))}else{const n=Al(kI);return U.from(n.forwards(e,t,wI(e),o)).map((e=>vI(e.container,0)))}};const SI=(e,t,o)=>{if(!ar(e)){return U.none()}const n=e.data;if(t>=0&&t<=n.length){return U.some(vI(e,t))}else{const n=Al(kI);return U.from(n.backwards(e,t,wI(e),o)).bind((e=>{const n=e.container.data;return SI(e.container,t+n.length,o)}))}};const zI=(e,t,o)=>{if(!ar(e)){return U.none()}const n=e.data;if(t<=n.length){return U.some(vI(e,t))}else{const s=Al(kI);return U.from(s.forwards(e,t,wI(e),o)).bind((e=>zI(e.container,t-n.length,o)))}};const OI=(e,t,o,n,s)=>{const r=Al(e,_I(e));return U.from(r.backwards(t,o,n,s))};const TI=e=>e.collapsed&&ar(e.startContainer);const EI=e=>sa(e.toString().replace(/\u00A0/g," "));const DI=e=>e!==""&&"  \f\n\r\t\v".indexOf(e)!==-1;const AI=(e,t)=>e.substring(t.length);const NI=(e,t,o)=>{let n;const s=o.charAt(0);for(n=t-1;n>=0;n--){const r=e.charAt(n);if(DI(r)){return U.none()}if(s===r&&it(e,o,n,t)){break}}return U.some(n)};const MI=(e,t,o,n=0)=>{if(!TI(t)){return U.none()}const s={text:"",offset:0};const r=(e,t,n)=>{s.text=n+s.text;s.offset+=t;return NI(s.text,s.offset,o).getOr(t)};const a=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return OI(e,t.startContainer,t.startOffset,r,a).bind((e=>{const s=t.cloneRange();s.setStart(e.container,e.offset);s.setEnd(t.endContainer,t.endOffset);if(s.collapsed){return U.none()}const r=EI(s);const a=r.lastIndexOf(o);if(a!==0||AI(r,o).length<n){return U.none()}else{return U.some({text:AI(r,o),range:s,trigger:o})}}))};const RI=(e,t,o,n=0)=>ik(cn.fromDom(t.startContainer)).fold((()=>MI(e,t,o,n)),(t=>{const n=e.createRng();n.selectNode(t.dom);const s=EI(n);return U.some({range:n,text:AI(s,o),trigger:o})}));const BI=e=>e.nodeType===xo;const LI=e=>e.nodeType===_o;const HI=e=>{if(BI(e)){return vI(e,e.data.length)}else{const t=e.childNodes;return t.length>0?HI(t[t.length-1]):vI(e,t.length)}};const II=(e,t)=>{const o=e.childNodes;if(o.length>0&&t<o.length){return II(o[t],0)}else if(o.length>0&&LI(e)&&o.length===t){return HI(o[o.length-1])}else{return vI(e,t)}};const PI=(e,t)=>{var o;const n=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return OI(e,t.container,t.offset,((e,t)=>t===0?-1:t),n).filter((e=>{const t=e.container.data.charAt(e.offset-1);return!DI(t)})).isSome()};const FI=e=>t=>{const o=II(t.startContainer,t.startOffset);return!PI(e,o)};const VI=(e,t,o)=>ve(o.triggers,(o=>RI(e,t,o)));const jI=(e,t)=>{const o=t();const n=e.selection.getRng();return VI(e.dom,n,o).bind((o=>ZI(e,t,o)))};const ZI=(e,t,o,n={})=>{var s;const r=t();const a=e.selection.getRng();const c=(s=a.startContainer.nodeValue)!==null&&s!==void 0?s:"";const i=oe(r.lookupByTrigger(o.trigger),(t=>o.text.length>=t.minChars&&t.matches.getOrThunk((()=>FI(e.dom)))(o.range,c,o.text)));if(i.length===0){return U.none()}const l=Promise.all(J(i,(e=>{const t=e.fetch(o.text,e.maxResults,n);return t.then((t=>({matchText:o.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn})))})));return U.some({lookupData:l,context:o})};var UI;(function(e){e[e["Error"]=0]="Error";e[e["Value"]=1]="Value"})(UI||(UI={}));const qI=(e,t,o)=>e.stype===UI.Error?t(e.serror):o(e.svalue);const WI=e=>{const t=[];const o=[];Q(e,(e=>{qI(e,(e=>o.push(e)),(e=>t.push(e)))}));return{values:t,errors:o}};const $I=(e,t)=>{if(e.stype===UI.Error){return{stype:UI.Error,serror:t(e.serror)}}else{return e}};const GI=(e,t)=>{if(e.stype===UI.Value){return{stype:UI.Value,svalue:t(e.svalue)}}else{return e}};const KI=(e,t)=>{if(e.stype===UI.Value){return t(e.svalue)}else{return e}};const YI=(e,t)=>{if(e.stype===UI.Error){return t(e.serror)}else{return e}};const XI=e=>({stype:UI.Value,svalue:e});const JI=e=>({stype:UI.Error,serror:e});const QI=e=>qI(e,tu.error,tu.value);const eP=e=>e.fold(JI,XI);const tP={fromResult:eP,toResult:QI,svalue:XI,partition:WI,serror:JI,bind:KI,bindError:YI,map:GI,mapError:$I,fold:qI};const oP=e=>k(e)&&we(e).length>100?" removed due to size":JSON.stringify(e,null,2);const nP=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:R("... (only showing first ten failures)")}]):e;return J(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))};const sP=(e,t)=>tP.serror([{path:e,getErrorInfo:t}]);const rP=(e,t,o)=>sP(e,(()=>'Could not find valid *required* value for "'+t+'" in '+oP(o)));const aP=(e,t)=>sP(e,(()=>'Choice schema did not contain choice key: "'+t+'"'));const cP=(e,t,o)=>sP(e,(()=>'The chosen schema: "'+o+'" did not exist in branches: '+oP(t)));const iP=(e,t)=>sP(e,R(t));const lP=(e,t,o,n)=>{const s=Ne(o,n);return s.fold((()=>cP(e,o,n)),(o=>o.extract(e.concat(["branch: "+n]),t)))};const dP=(e,t)=>{const o=(o,n)=>{const s=Ne(n,e);return s.fold((()=>aP(o,e)),(e=>lP(o,n,t,e)))};const n=()=>"chooseOn("+e+"). Possible values: "+we(t);return{extract:o,toString:n}};const uP=(e,t)=>t;const fP=(e,t)=>{const o=w(e)&&w(t);return o?gP(e,t):t};const mP=e=>(...t)=>{if(t.length===0){throw new Error(`Can't merge zero objects`)}const o={};for(let n=0;n<t.length;n++){const s=t[n];for(const t in s){if(Me(s,t)){o[t]=e(o[t],s[t])}}}return o};const gP=mP(fP);const pP=mP(uP);const hP=()=>({tag:"required",process:{}});const yP=e=>({tag:"defaultedThunk",process:e});const bP=e=>yP(R(e));const vP=()=>({tag:"option",process:{}});const kP=(e,t)=>e.length>0?tP.svalue(gP(t,pP.apply(undefined,e))):tP.svalue(t);const wP=e=>N(tP.serror,ie)(e);const _P=(e,t)=>{const o=tP.partition(e);return o.errors.length>0?wP(o.errors):kP(o.values,t)};const xP=e=>{const t=tP.partition(e);return t.errors.length>0?wP(t.errors):tP.svalue(t.values)};const CP={consolidateObj:_P,consolidateArr:xP};const SP=(e,t,o,n)=>({tag:"field",key:e,newKey:t,presence:o,prop:n});const zP=(e,t)=>({tag:"custom",newKey:e,instantiator:t});const OP=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}};const TP=e=>{const t=(t,o)=>tP.bindError(e(o),(e=>iP(t,e)));const o=R("val");return{extract:t,toString:o}};const EP=TP(tP.svalue);const DP=(e,t,o,n)=>Ne(t,o).fold((()=>rP(e,o,t)),n);const AP=(e,t,o,n)=>{const s=Ne(e,t).getOrThunk((()=>o(e)));return n(s)};const NP=(e,t,o)=>o(Ne(e,t));const MP=(e,t,o,n)=>{const s=Ne(e,t).map((t=>t===true?o(e):t));return n(s)};const RP=(e,t,o,n,s)=>{const r=e=>s.extract(t.concat([n]),e);const a=e=>e.fold((()=>tP.svalue(U.none())),(e=>{const o=s.extract(t.concat([n]),e);return tP.map(o,U.some)}));switch(e.tag){case"required":return DP(t,o,n,r);case"defaultedThunk":return AP(o,n,e.process,r);case"option":return NP(o,n,a);case"defaultedOptionThunk":return MP(o,n,e.process,a);case"mergeWithThunk":{return AP(o,n,R({}),(t=>{const n=gP(e.process(o),t);return r(n)}))}}};const BP=(e,t,o)=>{const n={};const s=[];for(const r of o){OP(r,((o,r,a,c)=>{const i=RP(a,e,t,o,c);tP.fold(i,(e=>{s.push(...e)}),(e=>{n[r]=e}))}),((e,o)=>{n[e]=o(t)}))}return s.length>0?tP.serror(s):tP.svalue(n)};const LP=e=>{const t=(t,o)=>BP(t,o,e);const o=()=>{const t=J(e,(e=>OP(e,((e,t,o,n)=>e+" -> "+n.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"};return{extract:t,toString:o}};const HP=e=>{const t=(t,o)=>{const n=J(o,((o,n)=>e.extract(t.concat(["["+n+"]"]),o)));return CP.consolidateArr(n)};const o=()=>"array("+e.toString()+")";return{extract:t,toString:o}};const IP=e=>TP((t=>e(t).fold(tP.serror,tP.svalue)));const PP=(e,t,o)=>{const n=t.extract([e],o);return tP.mapError(n,(e=>({input:o,errors:e})))};const FP=(e,t,o)=>tP.toResult(PP(e,t,o));const VP=e=>"Errors: \n"+nP(e.errors).join("\n")+"\n\nInput object: "+oP(e.input);const jP=(e,t)=>dP(e,Ce(t,LP));const ZP=R(EP);const UP=(e,t)=>TP((o=>{const n=typeof o;return e(o)?tP.svalue(o):tP.serror(`Expected type: ${t} but got: ${n}`)}));const qP=UP(E,"number");const WP=UP(v,"string");const $P=UP(C,"boolean");const GP=UP(T,"function");const KP=SP;const YP=zP;const XP=e=>IP((t=>Y(e,t)?tu.value(t):tu.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)));const JP=(e,t)=>KP(e,e,hP(),t);const QP=e=>JP(e,WP);const eF=e=>JP(e,GP);const tF=(e,t)=>KP(e,e,hP(),HP(t));const oF=(e,t)=>KP(e,e,vP(),t);const nF=e=>oF(e,WP);const sF=e=>oF(e,GP);const rF=(e,t)=>KP(e,e,bP(t),ZP());const aF=(e,t,o)=>KP(e,e,bP(t),o);const cF=(e,t)=>aF(e,t,qP);const iF=(e,t)=>aF(e,t,WP);const lF=(e,t,o)=>aF(e,t,XP(o));const dF=(e,t)=>aF(e,t,$P);const uF=(e,t)=>aF(e,t,GP);const fF=(e,t,o)=>aF(e,t,HP(o));const mF=QP("type");const gF=eF("fetch");const pF=eF("onAction");const hF=uF("onSetup",(()=>A));const yF=nF("text");const bF=nF("icon");const vF=nF("tooltip");const kF=nF("label");const wF=dF("active",false);const _F=dF("enabled",true);const xF=dF("primary",false);const CF=e=>rF("columns",e);const SF=e=>iF("type",e);const zF=LP([mF,QP("trigger"),cF("minChars",1),CF(1),cF("maxResults",10),sF("matches"),gF,pF,fF("highlightOn",[],WP)]);const OF=e=>FP("Autocompleter",zF,{trigger:e.ch,...e});const TF=[_F,vF,bF,yF,hF];const EF=[wF].concat(TF);const DF=[uF("predicate",j),lF("scope","node",["node","editor"]),lF("position","selection",["node","selection","line"])];const AF=TF.concat([SF("contextformbutton"),xF,pF,YP("original",B)]);const NF=EF.concat([SF("contextformbutton"),xF,pF,YP("original",B)]);const MF=TF.concat([SF("contextformbutton")]);const RF=EF.concat([SF("contextformtogglebutton")]);const BF=jP("type",{contextformbutton:AF,contextformtogglebutton:NF});LP([SF("contextform"),uF("initValue",R("")),kF,tF("commands",BF),oF("launch",jP("type",{contextformbutton:MF,contextformtogglebutton:RF}))].concat(DF));const LF=e=>{const t=e.ui.registry.getAll().popups;const o=Ce(t,(e=>OF(e).fold((e=>{throw new Error(VP(e))}),B)));const n=Le(De(o,(e=>e.trigger)));const s=Ae(o);const r=e=>oe(s,(t=>t.trigger===e));return{dataset:o,triggers:n,lookupByTrigger:r}};const HF=(e,t)=>{const o=rl(t.load,50);e.on("keypress compositionend",(e=>{if(e.which===27){return}o.throttle()}));e.on("keydown",(e=>{const n=e.which;if(n===8){o.throttle()}else if(n===27){t.cancelIfNecessary()}}));e.on("remove",o.cancel)};const IF=e=>{const t=nl();const o=Fi(false);const n=t.isSet;const s=()=>{if(n()){RD(e);ay(e);o.set(false);t.clear()}};const r=o=>{if(!n()){MD(e,o.range);t.set({trigger:o.trigger,matchLength:o.text.length})}};const a=$e((()=>LF(e)));const c=o=>t.get().map((t=>RI(e.dom,e.selection.getRng(),t.trigger).bind((t=>ZI(e,a,t,o))))).getOrThunk((()=>jI(e,a)));const i=n=>{c(n).fold(s,(n=>{r(n.context);n.lookupData.then((r=>{t.get().map((a=>{const c=n.context;if(a.trigger===c.trigger){if(c.text.length-a.matchLength>=10){s()}else{t.set({...a,matchLength:c.text.length});if(o.get()){ry(e,{lookupData:r})}else{o.set(true);sy(e,{lookupData:r})}}}}))}))}))};e.addCommand("mceAutocompleterReload",((e,t)=>{const o=k(t)?t.fetchOptions:{};i(o)}));e.addCommand("mceAutocompleterClose",s);HF(e,{cancelIfNecessary:s,load:i})};const PF=e=>(t,o,n={})=>{const s=t.getBody();const r={bubbles:true,composed:true,data:null,isComposing:false,detail:0,view:null,target:s,currentTarget:s,eventPhase:Event.AT_TARGET,originalTarget:s,explicitOriginalTarget:s,isTrusted:false,srcElement:s,cancelable:false,preventDefault:A,inputType:o};const a=fi(new InputEvent(e));return t.dispatch(e,{...a,...r,...n})};const FF=PF("input");const VF=PF("beforeinput");const jF=(e,t,o)=>{const n=o.keyCode===dy.BACKSPACE?"deleteContentBackward":"deleteContentForward";yH([{keyCode:dy.BACKSPACE,action:pH(wL,e)},{keyCode:dy.BACKSPACE,action:pH(aR,e,false)},{keyCode:dy.DELETE,action:pH(aR,e,true)},{keyCode:dy.BACKSPACE,action:pH(PM,e,false)},{keyCode:dy.DELETE,action:pH(PM,e,true)},{keyCode:dy.BACKSPACE,action:pH(QB,e,t,false)},{keyCode:dy.DELETE,action:pH(QB,e,t,true)},{keyCode:dy.BACKSPACE,action:pH(Ex,e,false)},{keyCode:dy.DELETE,action:pH(Ex,e,true)},{keyCode:dy.BACKSPACE,action:pH(iR,e,false)},{keyCode:dy.DELETE,action:pH(iR,e,true)},{keyCode:dy.BACKSPACE,action:pH(iL,e,false)},{keyCode:dy.DELETE,action:pH(iL,e,true)},{keyCode:dy.BACKSPACE,action:pH(TM,e,false)},{keyCode:dy.DELETE,action:pH(TM,e,true)},{keyCode:dy.BACKSPACE,action:pH(wM,e,false)},{keyCode:dy.DELETE,action:pH(wM,e,true)},{keyCode:dy.BACKSPACE,action:pH(sL,e,false)},{keyCode:dy.DELETE,action:pH(sL,e,true)}],o).each((t=>{o.preventDefault();const s=VF(e,n);if(!s.isDefaultPrevented()){t();FF(e,n)}}))};const ZF=(e,t)=>{hH([{keyCode:dy.BACKSPACE,action:pH(rR,e)},{keyCode:dy.DELETE,action:pH(rR,e)}],t)};const UF=(e,t)=>{e.on("keydown",(o=>{if(!o.isDefaultPrevented()){jF(e,t,o)}}));e.on("keyup",(t=>{if(!t.isDefaultPrevented()){ZF(e,t)}}))};const qF=e=>{while(e){if(Ks(e)||ar(e)&&e.data&&/[\r\n\s]/.test(e.data)){return e}e=e.nextSibling}return null};const WF=(e,t)=>{const o=e.dom;const n=e.schema.getMoveCaretBeforeOnEnterElements();if(!t){return}if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=qF(t.firstChild);if(e&&/^(UL|OL|DL)$/.test(e.nodeName)){t.insertBefore(o.doc.createTextNode(wr),t.firstChild)}}const s=o.createRng();t.normalize();if(t.hasChildNodes()){const e=new Ws(t,t);let o=t;let r;while(r=e.current()){if(ar(r)){s.setStart(r,0);s.setEnd(r,0);break}if(n[r.nodeName.toLowerCase()]){s.setStartBefore(r);s.setEndBefore(r);break}o=r;r=e.next()}if(!r){s.setStart(o,0);s.setEnd(o,0)}}else{if(fr(t)){if(t.nextSibling&&o.isBlock(t.nextSibling)){s.setStartBefore(t);s.setEndBefore(t)}else{s.setStartAfter(t);s.setEndAfter(t)}}else{s.setStart(t,0);s.setEnd(t,0)}}e.selection.setRng(s);Gb(e,s)};const $F=(e,t)=>{const o=e.getRoot();let n;let s=t;while(s!==o&&s&&e.getContentEditable(s)!=="false"){if(e.getContentEditable(s)==="true"){n=s}s=s.parentNode}return s!==o?n:o};const GF=e=>U.from(e.dom.getParent(e.selection.getStart(true),e.dom.isBlock));const KF=e=>GF(e).fold(R(""),(e=>e.nodeName.toUpperCase()));const YF=e=>GF(e).filter((e=>qr(cn.fromDom(e)))).isSome();const XF=(e,t)=>e.firstChild&&e.firstChild.nodeName===t;const JF=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e};const QF=(e,t)=>{const o=e===null||e===void 0?void 0:e.parentNode;return O(o)&&o.nodeName===t};const eV=e=>O(e)&&/^(OL|UL|LI)$/.test(e.nodeName);const tV=e=>O(e)&&/^(LI|DT|DD)$/.test(e.nodeName);const oV=e=>eV(e)&&eV(e.parentNode);const nV=e=>{const t=e.parentNode;return tV(t)?t:e};const sV=(e,t,o)=>{let n=e[o?"firstChild":"lastChild"];while(n){if(Ks(n)){break}n=n[o?"nextSibling":"previousSibling"]}return n===t};const rV=(e,t,o,n,s)=>{const r=e.dom;const a=e.selection.getRng();const c=o.parentNode;if(o===e.getBody()||!c){return}if(oV(o)){s="LI"}let i=t(s);if(sV(o,n,true)&&sV(o,n,false)){if(QF(o,"LI")){const e=nV(o);r.insertAfter(i,e);if(JF(o)){r.remove(e)}else{r.remove(o)}}else{r.replace(i,o)}}else if(sV(o,n,true)){if(QF(o,"LI")){r.insertAfter(i,nV(o));i.appendChild(r.doc.createTextNode(" "));i.appendChild(o)}else{c.insertBefore(i,o)}r.remove(n)}else if(sV(o,n,false)){r.insertAfter(i,nV(o));r.remove(n)}else{o=nV(o);const e=a.cloneRange();e.setStartAfter(n);e.setEndAfter(o);const t=e.extractContents();if(s==="LI"&&XF(t,"LI")){i=t.firstChild;r.insertAfter(t,o)}else{r.insertAfter(t,o);r.insertAfter(i,o)}r.remove(n)}WF(e,i)};const aV=e=>{Q(Bs(cn.fromDom(e),Eo),(e=>{const t=e.dom;t.nodeValue=sa(t.data)}))};const cV=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"};const iV=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t);const lV=e=>{e.innerHTML='<br data-mce-bogus="1">'};const dV=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t;const uV=(e,t)=>O(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.getContentEditable(t)!=="true";const fV=(e,t,o)=>{var n;const s=[];if(!o){return}let r=o;while(r=r.firstChild){if(e.isBlock(r)){return}if(Ks(r)&&!t[r.nodeName.toLowerCase()]){s.push(r)}}let a=s.length;while(a--){r=s[a];if(!r.hasChildNodes()||r.firstChild===r.lastChild&&((n=r.firstChild)===null||n===void 0?void 0:n.nodeValue)===""){e.remove(r)}else{if(iV(e,r)){e.remove(r)}}}};const mV=(e,t,o)=>{if(!ar(t)){return o}else if(e){return o===1&&t.data.charAt(o-1)===oa?0:o}else{return o===t.data.length-1&&t.data.charAt(o)===oa?t.data.length:o}};const gV=e=>{const t=e.cloneRange();t.setStart(e.startContainer,mV(true,e.startContainer,e.startOffset));t.setEnd(e.endContainer,mV(false,e.endContainer,e.endOffset));return t};const pV=e=>{let t=e;do{if(ar(t)){t.data=t.data.replace(/^[\r\n]+/,"")}t=t.firstChild}while(t)};const hV=(e,t,o)=>{const n=e.dom;U.from(o.style).map(n.parseStyle).each((e=>{const o=Jn(cn.fromDom(t));const s={...o,...e};n.setStyles(t,s)}));const s=U.from(o.class).map((e=>e.split(/\s+/)));const r=U.from(t.className).map((e=>oe(e.split(/\s+/),(e=>e!==""))));ho(s,r,((e,o)=>{const s=oe(o,(t=>!Y(e,t)));const r=[...e,...s];n.setAttrib(t,"class",r.join(" "))}));const a=["style","class"];const c=Ee(o,((e,t)=>!Y(a,t)));n.setAttribs(t,c)};const yV=(e,t)=>{const o=Eu(e);if(o.toLowerCase()===t.tagName.toLowerCase()){const o=Du(e);hV(e,t,o)}};const bV=(e,t,o,n,s)=>{var r;const a=e.dom;const c=(r=$F(a,n))!==null&&r!==void 0?r:a.getRoot();let i=a.getParent(n,a.isBlock);if(!i||!uV(a,i)){i=i||c;let r;if(i===e.getBody()||yr(i)){r=i.nodeName.toLowerCase()}else if(i.parentNode){r=i.parentNode.nodeName.toLowerCase()}else{r=""}if(!i.hasChildNodes()){const n=a.create(t);yV(e,n);i.appendChild(n);o.setStart(n,0);o.setEnd(n,0);return n}let l=n;while(l&&l.parentNode!==i){l=l.parentNode}let d;while(l&&!a.isBlock(l)){d=l;l=l.previousSibling}if(d&&e.schema.isValidChild(r,t.toLowerCase())){const r=d.parentNode;const c=a.create(t);yV(e,c);r.insertBefore(c,d);l=d;while(l&&!a.isBlock(l)){const e=l.nextSibling;c.appendChild(l);l=e}o.setStart(n,s);o.setEnd(n,s)}}return n};const vV=(e,t)=>{t.normalize();const o=t.lastChild;if(!o||Ks(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",true))){e.add(t,"br")}};const kV=(e,t)=>{const o=Bu(e);if(z(t)){return false}else if(v(o)){return Y(mo.explode(o),t.nodeName.toLowerCase())}else{return o}};const wV=(e,t)=>{let o;let n;let s;let r;let a=false;const c=e.dom;const i=e.schema,l=i.getNonEmptyElements();const d=e.selection.getRng();const u=Eu(e);const f=t=>{let n=o;const r=i.getTextInlineElements();let a;if(t||s==="TABLE"||s==="HR"){a=c.create(t||u)}else{a=b.cloneNode(false)}let l=a;if(Ru(e)===false){c.setAttrib(a,"style",null);c.setAttrib(a,"class",null)}else{do{if(r[n.nodeName]){if(Lg(n)||rp(n)){continue}const e=n.cloneNode(false);c.setAttrib(e,"id","");if(a.hasChildNodes()){e.appendChild(a.firstChild);a.appendChild(e)}else{l=e;a.appendChild(e)}}}while((n=n.parentNode)&&n!==y)}yV(e,a);lV(l);return a};const m=e=>{const t=mV(e,o,n);if(ar(o)&&(e?t>0:t<o.data.length)){return false}if(o.parentNode===b&&a&&!e){return true}if(e&&Ks(o)&&o===b.firstChild){return true}if(dV(o,"TABLE")||dV(o,"HR")){return a&&!e||!a&&e}const s=new Ws(o,b);if(ar(o)){if(e&&t===0){s.prev()}else if(!e&&t===o.data.length){s.next()}}let r;while(r=s.current()){if(Ks(r)){if(!r.getAttribute("data-mce-bogus")){const e=r.nodeName.toLowerCase();if(l[e]&&e!=="br"){return false}}}else if(ar(r)&&!La(r.data)){return false}if(e){s.prev()}else{s.next()}}return true};const g=()=>{let t;if(/^(H[1-6]|PRE|FIGURE)$/.test(s)&&v!=="HGROUP"){t=f(u)}else{t=f()}if(kV(e,r)&&uV(c,r)&&c.isEmpty(b)){t=c.split(r,b)}else{c.insertAfter(t,b)}WF(e,t);return t};mb(c,d).each((e=>{d.setStart(e.startContainer,e.startOffset);d.setEnd(e.endContainer,e.endOffset)}));o=d.startContainer;n=d.startOffset;const p=!!(t&&t.shiftKey);const h=!!(t&&t.ctrlKey);if(Ks(o)&&o.hasChildNodes()){a=n>o.childNodes.length-1;o=o.childNodes[Math.min(n,o.childNodes.length-1)]||o;if(a&&ar(o)){n=o.data.length}else{n=0}}const y=$F(c,o);if(!y||cV(e,o)){return}if(!p){o=bV(e,u,d,o,n)}let b=c.getParent(o,c.isBlock)||c.getRoot();r=O(b===null||b===void 0?void 0:b.parentNode)?c.getParent(b.parentNode,c.isBlock):null;s=b?b.nodeName.toUpperCase():"";const v=r?r.nodeName.toUpperCase():"";if(v==="LI"&&!h){const e=r;b=e;r=e.parentNode;s=v}if(/^(LI|DT|DD)$/.test(s)&&Ks(r)){if(c.isEmpty(b)){rV(e,f,r,b,u);return}}if(b===e.getBody()){return}const k=b.parentNode;let w;if(ca(b)){w=ba(b);if(c.isEmpty(b)){lV(b)}yV(e,w);WF(e,w)}else if(m(false)){w=g()}else if(m(true)&&k){w=k.insertBefore(f(),b);WF(e,dV(b,"HR")?w:b)}else{const t=gV(d).cloneRange();t.setEndAfter(b);const o=t.extractContents();aV(o);pV(o);w=o.firstChild;c.insertAfter(o,b);fV(c,l,w);vV(c,b);if(c.isEmpty(b)){lV(b)}w.normalize();if(c.isEmpty(w)){c.remove(w);g()}else{yV(e,w);WF(e,w)}}c.setAttrib(w,"id","");e.dispatch("NewBlock",{newBlock:w})};const _V="insertParagraph";const xV={insert:wV,fakeEventName:_V};const CV=(e,t,o)=>{const n=new Ws(t,o);let s;const r=e.getNonEmptyElements();while(s=n.next()){if(r[s.nodeName.toLowerCase()]||ar(s)&&s.length>0){return true}}return false};const SV=(e,t,o)=>{const n=e.dom.createRng();if(!o){n.setStartAfter(t);n.setEndAfter(t)}else{n.setStartBefore(t);n.setEndBefore(t)}e.selection.setRng(n);Gb(e,n)};const zV=(e,t)=>{const o=e.selection;const n=e.dom;const s=o.getRng();let r;let a=false;mb(n,s).each((e=>{s.setStart(e.startContainer,e.startOffset);s.setEnd(e.endContainer,e.endOffset)}));let c=s.startOffset;let i=s.startContainer;if(Ks(i)&&i.hasChildNodes()){const e=c>i.childNodes.length-1;i=i.childNodes[Math.min(c,i.childNodes.length-1)]||i;if(e&&ar(i)){c=i.data.length}else{c=0}}let l=n.getParent(i,n.isBlock);const d=l&&l.parentNode?n.getParent(l.parentNode,n.isBlock):null;const u=d?d.nodeName.toUpperCase():"";const f=!!(t&&t.ctrlKey);if(u==="LI"&&!f){l=d}if(ar(i)&&c>=i.data.length){if(!CV(e.schema,i,l||n.getRoot())){r=n.create("br");s.insertNode(r);s.setStartAfter(r);s.setEndAfter(r);a=true}}r=n.create("br");wd(n,s,r);SV(e,r,a);e.undoManager.add()};const OV=(e,t)=>{const o=cn.fromTag("br");ts(cn.fromDom(t),o);e.undoManager.add()};const TV=(e,t)=>{if(!DV(e.getBody(),t)){os(cn.fromDom(t),cn.fromTag("br"))}const o=cn.fromTag("br");os(cn.fromDom(t),o);SV(e,o.dom,false);e.undoManager.add()};const EV=e=>fr(e.getNode());const DV=(e,t)=>{if(EV(yd.after(t))){return true}else{return Ag(e,yd.after(t)).map((e=>fr(e.getNode()))).getOr(false)}};const AV=e=>e&&e.nodeName==="A"&&"href"in e;const NV=e=>e.fold(j,AV,AV,j);const MV=e=>{const t=H(p_,e);const o=yd.fromRangeStart(e.selection.getRng());return AR(t,e.getBody(),o).filter(NV)};const RV=(e,t)=>{t.fold(A,H(OV,e),H(TV,e),A)};const BV=(e,t)=>{const o=MV(e);if(o.isSome()){o.each(H(RV,e))}else{zV(e,t)}};const LV="insertLineBreak";const HV={insert:BV,fakeEventName:LV};const IV=(e,t)=>GF(e).filter((e=>t.length>0&&dn(cn.fromDom(e),t))).isSome();const PV=e=>IV(e,Nu(e));const FV=e=>IV(e,Mu(e));const VV=nu.generate([{br:[]},{block:[]},{none:[]}]);const jV=(e,t)=>FV(e);const ZV=e=>(t,o)=>YF(t)===e;const UV=(e,t)=>(o,n)=>{const s=KF(o)===e.toUpperCase();return s===t};const qV=e=>{const t=$F(e.dom,e.selection.getStart());return z(t)};const WV=e=>UV("pre",e);const $V=()=>UV("summary",true);const GV=e=>(t,o)=>Tu(t)===e;const KV=(e,t)=>PV(e);const YV=(e,t)=>t;const XV=e=>{const t=Eu(e);const o=$F(e.dom,e.selection.getStart());return O(o)&&e.schema.isValidChild(o.nodeName,t)};const JV=(e,t)=>(o,n)=>{const s=se(e,((e,t)=>e&&t(o,n)),true);return s?U.some(t):U.none()};const QV=(e,t)=>wR([JV([jV],VV.none()),JV([WV(true),qV],VV.none()),JV([$V()],VV.br()),JV([WV(true),GV(false),YV],VV.br()),JV([WV(true),GV(false)],VV.block()),JV([WV(true),GV(true),YV],VV.block()),JV([WV(true),GV(true)],VV.br()),JV([ZV(true),YV],VV.br()),JV([ZV(true)],VV.block()),JV([KV],VV.br()),JV([YV],VV.br()),JV([XV],VV.block())],[e,!!(t&&t.shiftKey)]).getOr(VV.none());const ej=(e,t,o)=>{if(!t.selection.isCollapsed()){S_(t)}if(O(o)){const o=VF(t,e.fakeEventName);if(o.isDefaultPrevented()){return}}e.insert(t,o);if(O(o)){FF(t,e.fakeEventName)}};const tj=(e,t)=>{const o=()=>ej(HV,e,t);const n=()=>ej(xV,e,t);const s=QV(e,t);switch(Au(e)){case"linebreak":s.fold(o,o,A);break;case"block":s.fold(n,n,A);break;case"invert":s.fold(n,o,A);break;default:s.fold(o,n,A);break}};const oj=(e,t)=>{if(t.isDefaultPrevented()){return}t.preventDefault();FE(e.undoManager);e.undoManager.transact((()=>{tj(e,t)}))};const nj=e=>{e.on("keydown",(t=>{if(t.keyCode===dy.ENTER){oj(e,t)}}))};const sj=(e,t,o)=>{const n=to.os.isMacOS()||to.os.isiOS();hH([{keyCode:dy.END,action:pH(oH,e,true)},{keyCode:dy.HOME,action:pH(oH,e,false)},...!n?[{keyCode:dy.HOME,action:pH(nH,e,false),ctrlKey:true,shiftKey:true},{keyCode:dy.END,action:pH(nH,e,true),ctrlKey:true,shiftKey:true}]:[],{keyCode:dy.END,action:pH(kH,e,true)},{keyCode:dy.HOME,action:pH(kH,e,false)},{keyCode:dy.END,action:pH(WB,e,true,t)},{keyCode:dy.HOME,action:pH(WB,e,false,t)}],o).each((e=>{o.preventDefault()}))};const rj=(e,t)=>{e.on("keydown",(o=>{if(!o.isDefaultPrevented()){sj(e,t,o)}}))};const aj=e=>{e.on("input",(t=>{if(!t.isComposing){Zw(e)}}))};const cj=Gt();const ij=(e,t,o)=>{hH([{keyCode:dy.PAGE_UP,action:pH(WB,e,false,t)},{keyCode:dy.PAGE_DOWN,action:pH(WB,e,true,t)}],o)};const lj=e=>e.stopImmediatePropagation();const dj=e=>e.keyCode===dy.PAGE_UP||e.keyCode===dy.PAGE_DOWN;const uj=(e,t,o)=>{if(o&&!e.get()){t.on("NodeChange",lj,true)}else if(!o&&e.get()){t.off("NodeChange",lj)}e.set(o)};const fj=(e,t)=>{if(cj.os.isMacOS()){return}const o=Fi(false);e.on("keydown",(t=>{if(dj(t)){uj(o,e,true)}}));e.on("keyup",(n=>{if(!n.isDefaultPrevented()){ij(e,t,n)}if(dj(n)&&o.get()){uj(o,e,false);e.nodeChanged()}}))};const mj=(e,t)=>{const o=t.container();const n=t.offset();if(ar(o)){o.insertData(n,e);return U.some(yd(o,n+e.length))}else{return og(t).map((o=>{const n=cn.fromText(e);if(t.isAtEnd()){os(o,n)}else{ts(o,n)}return yd(n.dom,e.length)}))}};const gj=H(mj,wr);const pj=H(mj," ");const hj=e=>t=>t.fold((t=>Ng(e.dom,yd.before(t))),(e=>Mg(e)),(e=>Rg(e)),(t=>Ag(e.dom,yd.after(t))));const yj=(e,t)=>o=>Dw(e,o)?gj(t):pj(t);const bj=e=>t=>{e.selection.setRng(t.toRange());e.nodeChanged();return true};const vj=e=>{const t=yd.fromRangeStart(e.selection.getRng());const o=cn.fromDom(e.getBody());if(e.selection.isCollapsed()){const n=H(p_,e);const s=yd.fromRangeStart(e.selection.getRng());return AR(n,e.getBody(),s).bind(hj(o)).map((n=>()=>yj(o,t)(n).each(bj(e))))}else{return U.none()}};const kj=(e,t)=>{yH([{keyCode:dy.SPACEBAR,action:pH(vj,e)}],t).each((o=>{t.preventDefault();const n=VF(e,"insertText",{data:" "});if(!n.isDefaultPrevented()){o();FF(e,"insertText",{data:" "})}}))};const wj=e=>{e.on("keydown",(t=>{if(!t.isDefaultPrevented()){kj(e,t)}}))};const _j=e=>{if(im(e)){return[{keyCode:dy.TAB,action:pH(hI,e,true)},{keyCode:dy.TAB,shiftKey:true,action:pH(hI,e,false)}]}else{return[]}};const xj=(e,t)=>{hH([..._j(e)],t).each((e=>{t.preventDefault()}))};const Cj=e=>{e.on("keydown",(t=>{if(!t.isDefaultPrevented()){xj(e,t)}}))};const Sj=e=>{e.addShortcut("Meta+P","","mcePrint");IF(e);if(oD(e)){return Fi(null)}else{const t=ZB(e);WL(e);bI(e,t);UF(e,t);nj(e);wj(e);aj(e);Cj(e);rj(e,t);fj(e,t);return t}};class zj{constructor(e){this.lastPath=[];this.editor=e;let t;const o=this;if(!("onselectionchange"in e.getDoc())){e.on("NodeChange click mouseup keyup focus",(o=>{const n=e.selection.getRng();const s={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset};if(o.type==="nodechange"||!nb(s,t)){e.dispatch("SelectionChange")}t=s}))}e.on("contextmenu",(()=>{e.dispatch("SelectionChange")}));e.on("SelectionChange",(()=>{const t=e.selection.getStart(true);if(!t){return}if(Mp(e)&&!o.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())){e.nodeChanged({selectionChange:true})}}));e.on("mouseup",(t=>{if(!t.isDefaultPrevented()&&Mp(e)){if(e.selection.getNode().nodeName==="IMG"){hv.setEditorTimeout(e,(()=>{e.nodeChanged()}))}else{e.nodeChanged()}}}))}nodeChanged(e={}){const t=this.editor.selection;let o;if(this.editor.initialized&&t&&!Cf(this.editor)&&!this.editor.mode.isReadOnly()){const n=this.editor.getBody();o=t.getStart(true)||n;if(o.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(o,n)){o=n}const s=[];this.editor.dom.getParent(o,(e=>{if(e===n){return true}else{s.push(e);return false}}));this.editor.dispatch("NodeChange",{...e,element:o,parents:s})}}isSameElementPath(e){let t;const o=this.editor;const n=ue(o.dom.getParents(e,Z,o.getBody()));if(n.length===this.lastPath.length){for(t=n.length;t>=0;t--){if(n[t]!==this.lastPath[t]){break}}if(t===-1){this.lastPath=n;return true}}this.lastPath=n;return false}}const Oj="x-tinymce/html";const Tj=R(Oj);const Ej="\x3c!-- "+Oj+" --\x3e";const Dj=e=>Ej+e;const Aj=e=>e.replace(Ej,"");const Nj=e=>e.indexOf(Ej)!==-1;const Mj=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e);const Rj=(e,t)=>{let o="<"+e;const n=De(t,((e,t)=>t+'="'+Wc.encodeAllRaw(e)+'"'));if(n.length){o+=" "+n.join(" ")}return o+">"};const Bj=(e,t,o)=>{const n=e.split(/\n\n/);const s=Rj(t,o);const r="</"+t+">";const a=J(n,(e=>e.split(/\n/).join("<br />")));const c=e=>s+e+r;return a.length===1?a[0]:J(a,c).join("")};const Lj="%MCEPASTEBIN%";const Hj=(e,t)=>{const{dom:o,selection:n}=e;const s=e.getBody();t.set(n.getRng());const r=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:true,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Lj);if(to.browser.isFirefox()){o.setStyle(r,"left",o.getStyle(s,"direction",true)==="rtl"?65535:-65535)}o.bind(r,"beforedeactivate focusin focusout",(e=>{e.stopPropagation()}));r.focus();n.select(r,true)};const Ij=(e,t)=>{const o=e.dom;if(Pj(e)){let n;const s=t.get();while(n=Pj(e)){o.remove(n);o.unbind(n)}if(s){e.selection.setRng(s)}}t.set(null)};const Pj=e=>e.dom.get("mcepastebin");const Fj=e=>O(e)&&e.id==="mcepastebin";const Vj=e=>{const t=e.dom;const o=(e,o)=>{e.appendChild(o);t.remove(o,true)};const[n,...s]=oe(e.getBody().childNodes,Fj);Q(s,(e=>{o(n,e)}));const r=t.select("div[id=mcepastebin]",n);for(let e=r.length-1;e>=0;e--){const s=t.create("div");n.insertBefore(s,r[e]);o(s,r[e])}return n?n.innerHTML:""};const jj=e=>e===Lj;const Zj=e=>{const t=Fi(null);return{create:()=>Hj(e,t),remove:()=>Ij(e,t),getEl:()=>Pj(e),getHtml:()=>Vj(e),getLastRng:t.get}};const Uj=(e,t)=>{mo.each(t,(t=>{if(b(t,RegExp)){e=e.replace(t,"")}else{e=e.replace(t[0],t[1])}}));return e};const qj=e=>{const t=ai();const o=OT({},t);let n="";const s=t.getVoidElements();const r=mo.makeMap("script noscript style textarea video audio iframe object"," ");const a=t.getBlockElements();const c=e=>{const o=e.name,i=e;if(o==="br"){n+="\n";return}if(o==="wbr"){return}if(s[o]){n+=" "}if(r[o]){n+=" ";return}if(e.type===3){n+=e.value}if(!(e.name in t.getVoidElements())){let t=e.firstChild;if(t){do{c(t)}while(t=t.next)}}if(a[o]&&i.next){n+="\n";if(o==="p"){n+="\n"}}};e=Uj(e,[/<!\[[^\]]+\]>/g]);c(o.parse(e));return n};const Wj=e=>{const t=(e,t,o)=>{if(!t&&!o){return" "}return wr};e=Uj(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i]);return e};const $j=e=>{let t=0;return()=>e+t++};const Gj=e=>{const t=e.toLowerCase();const o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return mo.hasOwn(o,t)?"image/"+o[t]:"image/"+t};const Kj=(e,t)=>{const o=OT({},e.schema);o.addNodeFilter("meta",(e=>{mo.each(e,(e=>{e.remove()}))}));const n=o.parse(t,{forced_root_block:false,isRootContent:true});return Dk({validate:true},e.schema).serialize(n)};const Yj=(e,t)=>({content:e,cancelled:t});const Xj=(e,t,o)=>{const n=e.dom.create("div",{style:"display:none"},t);const s=iy(e,n,o);return Yj(s.node.innerHTML,s.isDefaultPrevented())};const Jj=(e,t,o)=>{const n=cy(e,t,o);const s=Kj(e,n.content);if(e.hasEventListeners("PastePostProcess")&&!n.isDefaultPrevented()){return Xj(e,s,o)}else{return Yj(s,n.isDefaultPrevented())}};const Qj=(e,t,o)=>Jj(e,t,o);const eZ=(e,t)=>{e.insertContent(t,{merge:Wf(e),paste:true});return true};const tZ=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e);const oZ=(e,t)=>tZ(t)&&X(cm(e),(e=>dt(t.toLowerCase(),`.${e.toLowerCase()}`)));const nZ=(e,t,o)=>{e.undoManager.extra((()=>{o(e,t)}),(()=>{e.insertContent('<img src="'+t+'">')}));return true};const sZ=(e,t,o)=>{e.undoManager.extra((()=>{o(e,t)}),(()=>{e.execCommand("mceInsertLink",false,t)}));return true};const rZ=(e,t,o)=>!e.selection.isCollapsed()&&tZ(t)?sZ(e,t,o):false;const aZ=(e,t,o)=>oZ(e,t)?nZ(e,t,o):false;const cZ=(e,t)=>{mo.each([rZ,aZ,eZ],(o=>!o(e,t,eZ)))};const iZ=(e,t,o)=>{if(o||!$f(e)){eZ(e,t)}else{cZ(e,t)}};const lZ=$j("mceclip");const dZ=(e,t,o,n)=>{const s=Qj(e,t,o);if(!s.cancelled){iZ(e,s.content,n)}};const uZ=(e,t,o)=>{const n=o?o:Nj(t);dZ(e,Aj(t),n,false)};const fZ=(e,t)=>{const o=e.dom.encode(t).replace(/\r\n/g,"\n");const n=Fa(o,Kf(e));const s=Bj(n,Eu(e),Du(e));dZ(e,s,false,true)};const mZ=e=>{const t={};if(e&&e.types){for(let o=0;o<e.types.length;o++){const n=e.types[o];try{t[n]=e.getData(n)}catch(e){t[n]=""}}}return t};const gZ=(e,t)=>t in e&&e[t].length>0;const pZ=e=>gZ(e,"text/html")||gZ(e,"text/plain");const hZ=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return O(o)?e.dom.encode(o[1]):undefined};const yZ=(e,t,o,n)=>{const s=lZ();const r=Hu(e)&&O(o.name);const a=r?hZ(e,o.name):s;const c=r?o.name:undefined;const i=t.create(s,o,n,a,c);t.add(i);return i};const bZ=(e,t)=>{WO(t.uri).each((({data:o,type:n,base64Encoded:s})=>{const r=s?o:btoa(o);const a=t.file;const c=e.editorUpload.blobCache;const i=c.getByData(r,n);const l=i!==null&&i!==void 0?i:yZ(e,c,a,r);uZ(e,`<img src="${l.blobUri()}">`,false)}))};const vZ=e=>e.type==="paste";const kZ=e=>Promise.all(J(e,(e=>YO(e).then((t=>({file:e,uri:t}))))));const wZ=e=>{const t=cm(e);return e=>lt(e.type,"image/")&&X(t,(t=>Gj(t)===e.type))};const _Z=(e,t)=>{const o=t.items?le(be(t.items),(e=>e.kind==="file"?[e.getAsFile()]:[])):[];const n=t.files?be(t.files):[];return oe(o.length>0?o:n,wZ(e))};const xZ=(e,t,o)=>{const n=vZ(t)?t.clipboardData:t.dataTransfer;if(Vf(e)&&n){const s=_Z(e,n);if(s.length>0){t.preventDefault();kZ(s).then((t=>{if(o){e.selection.setRng(o)}Q(t,(t=>{bZ(e,t)}))}));return true}}return false};const CZ=e=>{var t,o;return to.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0};const SZ=e=>dy.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45;const zZ=(e,t,o,n)=>{let s=Wj(o);const r=gZ(t,Tj())||Nj(o);const a=!r&&Mj(s);const c=tZ(s);if(jj(s)||!s.length||a&&!c){n=true}if(n||c){if(gZ(t,"text/plain")&&a){s=t["text/plain"]}else{s=qj(s)}}if(jj(s)){return}if(n){fZ(e,s)}else{uZ(e,s,r)}};const OZ=(e,t,o)=>{let n;const s=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",(e=>{if(SZ(e)&&!e.isDefaultPrevented()){n=e.shiftKey&&e.keyCode===86}}));e.on("paste",(r=>{if(r.isDefaultPrevented()||CZ(r)){return}const a=o.get()==="text"||n;n=false;const c=mZ(r.clipboardData);if(!pZ(c)&&xZ(e,r,s())){return}if(gZ(c,"text/html")){r.preventDefault();zZ(e,c,c["text/html"],a)}else{t.create();hv.setEditorTimeout(e,(()=>{const o=t.getHtml();t.remove();zZ(e,c,o,a)}),0)}}))};const TZ=e=>{const t=e=>lt(e,"webkit-fake-url");const o=e=>lt(e,"data:");const n=e=>{var t;return((t=e.data)===null||t===void 0?void 0:t.paste)===true};e.parser.addNodeFilter("img",((s,r,a)=>{if(!Vf(e)&&n(a)){for(const n of s){const s=n.attr("src");if(v(s)&&!n.attr("data-mce-object")&&s!==to.transparentSrc){if(t(s)){n.remove()}else if(!Yf(e)&&o(s)){n.remove()}}}}}))};const EZ=(e,t,o)=>{OZ(e,t,o);TZ(e)};const DZ=(e,t)=>{if(t.get()==="text"){t.set("html");ly(e,false)}else{t.set("text");ly(e,true)}e.focus()};const AZ=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",(()=>{DZ(e,t)}));e.addCommand("mceInsertClipboardContent",((t,o)=>{if(o.html){uZ(e,o.html,o.internal)}if(o.text){fZ(e,o.text)}}))};const NZ=(e,t,o)=>{if(e){try{e.clearData();e.setData("text/html",t);e.setData("text/plain",o);e.setData(Tj(),t);return true}catch(e){return false}}else{return false}};const MZ=(e,t,o,n)=>{if(NZ(e.clipboardData,t.html,t.text)){e.preventDefault();n()}else{o(t.html,n)}};const RZ=e=>(t,o)=>{const{dom:n,selection:s}=e;const r=n.create("div",{contenteditable:"false","data-mce-bogus":"all"});const a=n.create("div",{contenteditable:"true"},t);n.setStyles(r,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"});r.appendChild(a);n.add(e.getBody(),r);const c=s.getRng();a.focus();const i=n.createRng();i.selectNodeContents(a);s.setRng(i);hv.setEditorTimeout(e,(()=>{s.setRng(c);n.remove(r);o()}),0)};const BZ=e=>({html:Dj(e.selection.getContent({contextual:true})),text:e.selection.getContent({format:"text"})});const LZ=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody());const HZ=e=>!e.selection.isCollapsed()||LZ(e);const IZ=e=>t=>{if(!t.isDefaultPrevented()&&HZ(e)){MZ(t,BZ(e),RZ(e),(()=>{if(to.browser.isChromium()||to.browser.isFirefox()){const t=e.selection.getRng();hv.setEditorTimeout(e,(()=>{e.selection.setRng(t);e.execCommand("Delete")}),0)}else{e.execCommand("Delete")}}))}};const PZ=e=>t=>{if(!t.isDefaultPrevented()&&HZ(e)){MZ(t,BZ(e),RZ(e),A)}};const FZ=e=>{e.on("cut",IZ(e));e.on("copy",PZ(e))};const VZ=(e,t)=>{var o,n;return hb.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(n=t.clientY)!==null&&n!==void 0?n:0,e.getDoc())};const jZ=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:false};const ZZ=(e,t)=>{e.focus();if(t){e.selection.setRng(t)}};const UZ=e=>X(e.files,(e=>/^image\//.test(e.type)));const qZ=(e,t)=>{if(Ff(e)){e.on("dragend dragover draggesture dragdrop drop drag",(e=>{e.preventDefault();e.stopPropagation()}))}if(!Vf(e)){e.on("drop",(e=>{const t=e.dataTransfer;if(t&&UZ(t)){e.preventDefault()}}))}e.on("drop",(o=>{if(o.isDefaultPrevented()||t.get()){return}const n=VZ(e,o);if(z(n)){return}const s=mZ(o.dataTransfer);const r=gZ(s,Tj());if((!pZ(s)||jZ(s))&&xZ(e,o,n)){return}const a=s[Tj()];const c=a||s["text/html"]||s["text/plain"];if(c){o.preventDefault();hv.setEditorTimeout(e,(()=>{e.undoManager.transact((()=>{if(a){e.execCommand("Delete")}ZZ(e,n);const t=Wj(c);if(s["text/html"]){uZ(e,t,r)}else{fZ(e,t)}}))}))}}));e.on("dragstart",(e=>{t.set(true)}));e.on("dragover dragend",(o=>{if(Vf(e)&&!t.get()){o.preventDefault();ZZ(e,VZ(e,o))}if(o.type==="dragend"){t.set(false)}}))};const WZ=e=>{const t=t=>o=>{t(e,o)};const o=jf(e);if(T(o)){e.on("PastePreProcess",t(o))}const n=Zf(e);if(T(n)){e.on("PastePostProcess",t(n))}};const $Z=(e,t)=>{e.on("PastePreProcess",(o=>{o.content=t(e,o.content,o.internal)}))};const GZ=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi;const KZ=e=>mo.trim(e).replace(GZ,bp).toLowerCase();const YZ=(e,t,o)=>{const n=Uf(e);if(o||n==="all"||!qf(e)){return t}const s=n?n.split(/[, ]/):[];if(s&&n!=="none"){const o=e.dom,n=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,((e,t,r,a)=>{const c=o.parseStyle(o.decode(r));const i={};for(let e=0;e<s.length;e++){const t=c[s[e]];let r=t;let a=o.getStyle(n,s[e],true);if(/color/.test(s[e])){r=KZ(r);a=KZ(a)}if(a!==r){i[s[e]]=t}}const l=o.serializeStyle(i,"span");if(l){return t+' style="'+l+'"'+a}return t+a}))}else{t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")}t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,((e,t,o,n)=>t+' style="'+o+'"'+n));return t};const XZ=e=>{if(to.browser.isChromium()||to.browser.isSafari()){$Z(e,YZ)}};const JZ=e=>{const t=Fi(false);const o=Fi(Gf(e)?"text":"html");const n=Zj(e);XZ(e);AZ(e,o);WZ(e);e.on("PreInit",(()=>{FZ(e);qZ(e,t);EZ(e,n,o)}))};const QZ=e=>{e.on("click",(t=>{if(e.dom.getParent(t.target,"details")){t.preventDefault()}}))};const eU=e=>{e.parser.addNodeFilter("details",(e=>{Q(e,(e=>{e.attr("data-mce-open",e.attr("open"));e.attr("open","open")}))}));e.serializer.addNodeFilter("details",(e=>{Q(e,(e=>{const t=e.attr("data-mce-open");e.attr("open",v(t)?t:null);e.attr("data-mce-open",null)}))}))};const tU=e=>{QZ(e);eU(e)};const oU=fr;const nU=ar;const sU=e=>pr(e.dom);const rU=e=>gr(e.dom);const aU=e=>t=>gn(cn.fromDom(e),t);const cU=(e,t)=>Is(cn.fromDom(e),(e=>rU(e)||Pr(e)),aU(t)).getOr(cn.fromDom(t)).dom;const iU=(e,t)=>Is(cn.fromDom(e),sU,aU(t));const lU=(e,t,o)=>{const n=new Ws(e,t);const s=o?n.next.bind(n):n.prev.bind(n);let r=e;for(let t=o?e:s();t&&!oU(t);t=s()){if(Ta(t)){r=t}}return r};const dU=(e,t)=>{const o=yd.fromRangeStart(e);const n=o.getNode();const s=cU(n,t);const r=lU(n,s,false);const a=lU(n,s,true);const c=document.createRange();iU(r,s).fold((()=>{if(nU(r)){c.setStart(r,0)}else{c.setStartBefore(r)}}),(e=>c.setStartBefore(e.dom)));iU(a,s).fold((()=>{if(nU(a)){c.setEnd(a,a.data.length)}else{c.setEndAfter(a)}}),(e=>c.setEndAfter(e.dom)));return c};const uU=e=>{const t=dU(e.selection.getRng(),e.getBody());e.selection.setRng(Xx(t))};const fU=e=>{e.on("mousedown",(t=>{if(t.detail>=3){t.preventDefault();uU(e)}}))};var mU;(function(e){e["Before"]="before";e["After"]="after"})(mU||(mU={}));const gU=(e,t)=>Math.abs(e.left-t);const pU=(e,t)=>Math.abs(e.right-t);const hU=(e,t)=>e>=t.top&&e<=t.bottom;const yU=(e,t)=>e.top<t.bottom&&e.bottom>t.top;const bU=(e,t)=>{const o=jl(e,t)/Math.min(e.height,t.height);return yU(e,t)&&o>.5};const vU=(e,t)=>{const o=oe(e,(e=>hU(t,e)));return Fl(o).fold((()=>[[],e]),(t=>{const{pass:o,fail:n}=te(e,(e=>bU(e,t)));return[o,n]}))};const kU=(e,t)=>({node:e.node,position:gU(e,t)<pU(e,t)?mU.Before:mU.After});const wU=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t));const _U=(e,t,o)=>{const n=e=>{if(Ta(e.node)){return U.some(e)}else if(Ks(e.node)){return _U(be(e.node.childNodes),t,o)}else{return U.none()}};const s=(e,s)=>{if(e.length>=2){const r=n(e[0]).getOr(e[0]);const a=n(e[1]).getOr(e[1]);const c=Math.abs(s(r,t,o)-s(a,t,o));if(c<2){if(ar(r.node)){return U.some(r)}else if(ar(a.node)){return U.some(a)}}}return U.none()};const r=(e,r)=>{const a=ge(e,((e,n)=>r(e,t,o)-r(n,t,o)));return s(a,r).orThunk((()=>ve(a,n)))};const[a,c]=vU(pB(e),o);const{pass:i,fail:l}=te(c,(e=>e.top<o));return r(a,wU).orThunk((()=>r(l,Vl))).orThunk((()=>r(i,Vl)))};const xU=(e,t,o,n)=>{const s=(t,r)=>{const a=e=>Ks(e)&&e.classList.contains("mce-drag-container");const c=oe(t.dom.childNodes,I(a));return r.fold((()=>_U(c,o,n)),(e=>{const t=oe(c,(t=>t!==e.dom));return _U(t,o,n)})).orThunk((()=>{const o=gn(t,e)?U.none():wn(t);return o.bind((e=>s(e,U.some(t))))}))};return s(t,U.none())};const CU=(e,t,o)=>{const n=cn.fromDom(e);const s=yn(n);const r=cn.fromPoint(s,t,o).filter((e=>pn(n,e)));const a=r.getOr(n);return xU(n,a,t,o)};const SU=(e,t,o)=>CU(e,t,o).filter((e=>Dm(e.node))).map((e=>kU(e,t)));const zU=e=>{var t,o;const n=e.getBoundingClientRect();const s=e.ownerDocument;const r=s.documentElement;const a=s.defaultView;return{top:n.top+((t=a===null||a===void 0?void 0:a.scrollY)!==null&&t!==void 0?t:0)-r.clientTop,left:n.left+((o=a===null||a===void 0?void 0:a.scrollX)!==null&&o!==void 0?o:0)-r.clientLeft}};const OU=e=>e.inline?zU(e.getBody()):{left:0,top:0};const TU=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}};const EU=e=>{const t=e.getBody(),o=e.getDoc().documentElement;const n={left:t.scrollLeft,top:t.scrollTop};const s={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?n:s};const DU=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=zU(e.getContentAreaContainer());const n=EU(e);return{left:t.pageX-o.left+n.left,top:t.pageY-o.top+n.top}}return{left:t.pageX,top:t.pageY}};const AU=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top});const NU=(e,t)=>AU(OU(e),TU(e),DU(e,t));const MU=32;const RU=100;const BU=8;const LU=16;const HU=pr;const IU=Kl(HU,gr);const PU=(e,t)=>HU(t)&&t!==e;const FU=(e,t,o)=>{if(z(t)){return false}else if(t===o||e.dom.isChildOf(t,o)){return false}else{return!HU(t)}};const VU=e=>{const t=e.cloneNode(true);t.removeAttribute("data-mce-selected");return t};const jU=(e,t,o,n)=>{const s=e.dom;const r=t.cloneNode(true);s.setStyles(r,{width:o,height:n});s.setAttrib(r,"data-mce-selected",null);const a=s.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});s.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:n});s.setStyles(r,{margin:0,boxSizing:"border-box"});a.appendChild(r);return a};const ZU=(e,t)=>{if(e.parentNode!==t){t.appendChild(e)}};const UU=(e,t)=>o=>()=>{const n=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:n+t,behavior:"smooth"})};const qU=UU("left",-MU);const WU=UU("left",MU);const $U=UU("top",-MU);const GU=UU("top",MU);const KU=(e,t,o,n,s,r,a,c,i,l,d,u)=>{let f=0,m=0;e.style.left=t.pageX+"px";e.style.top=t.pageY+"px";if(t.pageX+o>s){f=t.pageX+o-s}if(t.pageY+n>r){m=t.pageY+n-r}e.style.width=o-f+"px";e.style.height=n-m+"px";const g=i.clientHeight;const p=i.clientWidth;const h=a+i.getBoundingClientRect().top;const y=c+i.getBoundingClientRect().left;d.on((e=>{e.intervalId.clear();if(e.dragging&&u){if(a+BU>=g){e.intervalId.set(GU(l))}else if(a-BU<=0){e.intervalId.set($U(l))}else if(c+BU>=p){e.intervalId.set(WU(l))}else if(c-BU<=0){e.intervalId.set(qU(l))}else if(h+LU>=window.innerHeight){e.intervalId.set(GU(window))}else if(h-LU<=0){e.intervalId.set($U(window))}else if(y+LU>=window.innerWidth){e.intervalId.set(WU(window))}else if(y-LU<=0){e.intervalId.set(qU(window))}}}))};const YU=e=>{if(e&&e.parentNode){e.parentNode.removeChild(e)}};const XU=e=>e.button===0;const JU=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5});const QU=(e,t)=>o=>{if(XU(o)){const n=ae(t.dom.getParents(o.target),IU).getOr(null);if(O(n)&&PU(t.getBody(),n)){const s=t.dom.getPos(n);const r=t.getBody();const a=t.getDoc().documentElement;e.set({element:n,dragging:false,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?r.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?r.scrollHeight:a.offsetHeight)-2,relX:o.pageX-s.x,relY:o.pageY-s.y,width:n.offsetWidth,height:n.offsetHeight,ghost:jU(t,n,n.offsetWidth,n.offsetHeight),intervalId:ol(RU)})}}};const eq=(e,t)=>{const o=sl(((e,o)=>{t._selectionOverrides.hideFakeCaret();SU(t.getBody(),e,o).fold((()=>t.selection.placeCaretAt(e,o)),(n=>{const s=t._selectionOverrides.showCaret(1,n.node,n.position===mU.Before,false);if(s){t.selection.setRng(s)}else{t.selection.placeCaretAt(e,o)}}))}),0);t.on("remove",o.cancel);const n=e;return s=>e.on((e=>{const r=Math.max(Math.abs(s.screenX-e.screenX),Math.abs(s.screenY-e.screenY));if(!e.dragging&&r>10){const o=t.dispatch("dragstart",{target:e.element});if(o.isDefaultPrevented()){return}e.dragging=true;t.focus()}if(e.dragging){const r=s.currentTarget===t.getDoc().documentElement;const a=JU(e,NU(t,s));ZU(e.ghost,t.getBody());KU(e.ghost,a,e.width,e.height,e.maxX,e.maxY,s.clientY,s.clientX,t.getContentAreaContainer(),t.getWin(),n,r);o.throttle(s.clientX,s.clientY)}}))};const tq=e=>{const t=e.getSel();if(O(t)){const e=t.getRangeAt(0);const o=e.startContainer;return ar(o)?o.parentNode:o}else{return null}};const oq=(e,t)=>o=>{e.on((e=>{e.intervalId.clear();if(e.dragging){if(FU(t,tq(t.selection),e.element)){const n=VU(e.element);const s=t.dispatch("drop",{clientX:o.clientX,clientY:o.clientY});if(!s.isDefaultPrevented()){t.undoManager.transact((()=>{YU(e.element);t.insertContent(t.dom.getOuterHTML(n));t._selectionOverrides.hideFakeCaret()}))}}t.dispatch("dragend")}}));sq(e)};const nq=(e,t)=>()=>{e.on((e=>{e.intervalId.clear();if(e.dragging){t.dispatch("dragend")}}));sq(e)};const sq=e=>{e.on((e=>{e.intervalId.clear();YU(e.ghost)}));e.clear()};const rq=e=>{const t=nl();const o=Mi.DOM;const n=document;const s=QU(t,e);const r=eq(t,e);const a=oq(t,e);const c=nq(t,e);e.on("mousedown",s);e.on("mousemove",r);e.on("mouseup",a);o.bind(n,"mousemove",r);o.bind(n,"mouseup",c);e.on("remove",(()=>{o.unbind(n,"mousemove",r);o.unbind(n,"mouseup",c)}));e.on("keydown",(e=>{if(e.keyCode===dy.ESC){c()}}))};const aq=e=>{const t=t=>{if(!t.isDefaultPrevented()){const o=t.dataTransfer;if(o&&(Y(o.types,"Files")||o.files.length>0)){t.preventDefault();if(t.type==="drop"){YA(e,"Dropped file type is not supported")}}}};const o=o=>{if(zv(e,o.target)){t(o)}};const n=()=>{const n=Mi.DOM;const s=e.dom;const r=document;const a=e.inline?e.getBody():e.getDoc();const c=["drop","dragover"];Q(c,(e=>{n.bind(r,e,o);s.bind(a,e,t)}));e.on("remove",(()=>{Q(c,(e=>{n.unbind(r,e,o);s.unbind(a,e,t)}))}))};e.on("init",(()=>{hv.setEditorTimeout(e,n,0)}))};const cq=e=>{rq(e);if(Ef(e)){aq(e)}};const iq=e=>{const t=sl((()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const o=MM(e,t,false);e.selection.setRng(o)}}}),0);e.on("focus",(()=>{t.throttle()}));e.on("blur",(()=>{t.cancel()}))};const lq=e=>{e.on("init",(()=>{e.on("focusin",(t=>{const o=t.target;if(br(o)){const t=Dx(e.getBody(),o);const n=pr(t)?t:o;if(e.selection.getNode()!==n){AM(e,n).each((t=>e.selection.setRng(t)))}}}))}))};const dq=pr;const uq=(e,t)=>Dx(e.getBody(),t);const fq=e=>{const t=e.selection,o=e.dom;const n=e.getBody();const s=Om(e,n,o.isBlock,(()=>Fv(e)));const r="sel-"+o.uniqueId();const a="data-mce-selected";let c;const i=e=>O(e)&&o.hasClass(e,"mce-offscreen-selection");const l=e=>e!==n&&(dq(e)||br(e))&&o.isChildOf(e,n);const d=e=>{if(e){t.setRng(e)}};const u=(o,n,r,a=true)=>{const c=e.dispatch("ShowCaret",{target:n,direction:o,before:r});if(c.isDefaultPrevented()){return null}if(a){t.scrollIntoView(n,o===-1)}return s.show(r,n)};const f=e=>{if(e.hasAttribute("data-mce-caret")){ba(e);t.scrollIntoView(e)}};const m=()=>{e.on("click",(t=>{const o=uq(e,t.target);if(o){if(dq(o)){t.preventDefault();e.focus()}}}));e.on("blur NewBlock",k);e.on("ResizeWindow FullscreenStateChanged",s.reposition);e.on("tap",(t=>{const o=t.target;const n=uq(e,o);if(dq(n)){t.preventDefault();AM(e,n).each(v)}else if(l(o)){AM(e,o).each(v)}}),true);e.on("mousedown",(t=>{const s=t.target;if(s!==n&&s.nodeName!=="HTML"&&!o.isChildOf(s,n)){return}if(!FA(e,t.clientX,t.clientY)){return}k();_();const r=uq(e,s);if(dq(r)){t.preventDefault();AM(e,r).each(v)}else{SU(n,t.clientX,t.clientY).each((o=>{t.preventDefault();const n=u(1,o.node,o.position===mU.Before,false);d(n);if(Ks(r)){r.focus()}else{e.getBody().focus()}}))}}));e.on("keypress",(e=>{if(dy.modifierPressed(e)){return}if(dq(t.getNode())){e.preventDefault()}}));e.on("GetSelectionRange",(e=>{let t=e.range;if(c){if(!c.parentNode){c=null;return}t=t.cloneRange();t.selectNode(c);e.range=t}}));e.on("SetSelectionRange",(e=>{e.range=h(e.range);const t=v(e.range,e.forward);if(t){e.range=t}}));const r=e=>Ks(e)&&e.id==="mcepastebin";e.on("AfterSetSelectionRange",(e=>{const t=e.range;const o=t.startContainer.parentElement;if(!p(t)&&!r(o)){_()}if(!i(o)){k()}}));cq(e);iq(e);lq(e)};const g=e=>la(e)||pa(e)||ha(e);const p=e=>g(e.startContainer)||g(e.endContainer);const h=t=>{const n=e.schema.getVoidElements();const s=o.createRng();const r=t.startContainer;const a=t.startOffset;const c=t.endContainer;const i=t.endOffset;if(Me(n,r.nodeName.toLowerCase())){if(a===0){s.setStartBefore(r)}else{s.setStartAfter(r)}}else{s.setStart(r,a)}if(Me(n,c.nodeName.toLowerCase())){if(i===0){s.setEndBefore(c)}else{s.setEndAfter(c)}}else{s.setEnd(c,i)}return s};const y=(n,s)=>{const a=cn.fromDom(e.getBody());const c=e.getDoc();const i=Zs(a,"#"+r).getOrThunk((()=>{const e=cn.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',c);Ro(e,"id",r);ss(a,e);return e}));const l=o.createRng();is(i);cs(i,[cn.fromText(wr,c),cn.fromDom(s),cn.fromText(wr,c)]);l.setStart(i.dom.firstChild,1);l.setEnd(i.dom.lastChild,0);Gn(i,{top:o.getPos(n,e.getBody()).y+"px"});Kb(i);const d=t.getSel();if(d){d.removeAllRanges();d.addRange(l)}return l};const b=t=>{const n=t.cloneNode(true);const s=e.dispatch("ObjectSelected",{target:t,targetClone:n});if(s.isDefaultPrevented()){return null}const r=y(t,s.targetClone);const i=cn.fromDom(t);Q(Cr(cn.fromDom(e.getBody()),`*[${a}]`),(e=>{if(!gn(i,e)){Po(e,a)}}));if(!o.getAttrib(t,a)){t.setAttribute(a,"1")}c=t;_();return r};const v=(e,t)=>{if(!e){return null}if(e.collapsed){if(!p(e)){const s=t?1:-1;const r=tg(s,n,e);const a=r.getNode(!t);if(O(a)){if(Dm(a)){return u(s,a,t?!r.isAtEnd():false,false)}if(ia(a)&&pr(a.nextSibling)){const e=o.createRng();e.setStart(a,0);e.setEnd(a,0);return e}}const c=r.getNode(t);if(O(c)){if(Dm(c)){return u(s,c,t?false:!r.isAtEnd(),false)}if(ia(c)&&pr(c.previousSibling)){const e=o.createRng();e.setStart(c,1);e.setEnd(c,1);return e}}}return null}let s=e.startContainer;let r=e.startOffset;const a=e.endOffset;if(ar(s)&&r===0&&dq(s.parentNode)){s=s.parentNode;r=o.nodeIndex(s);s=s.parentNode}if(!Ks(s)){return null}if(a===r+1&&s===e.endContainer){const e=s.childNodes[r];if(l(e)){return b(e)}}return null};const k=()=>{if(c){c.removeAttribute(a)}Zs(cn.fromDom(e.getBody()),"#"+r).each(ls);c=null};const w=()=>{s.destroy();c=null};const _=()=>{s.hide()};if(!oD(e)){m()}return{showCaret:u,showBlockCaretContainer:f,hideFakeCaret:_,destroy:w}};const mq=(e,t)=>{let o=t;for(let t=e.previousSibling;ar(t);t=t.previousSibling){o+=t.data.length}return o};const gq=(e,t,o,n,s)=>{if(ar(o)&&(n<0||n>o.data.length)){return[]}const r=s&&ar(o)?[mq(o,n)]:[n];let a=o;while(a!==t&&a.parentNode){r.push(e.nodeIndex(a,s));a=a.parentNode}return a===t?r.reverse():[]};const pq=(e,t,o,n,s,r,a=false)=>{const c=gq(e,t,o,n,a);const i=gq(e,t,s,r,a);return{start:c,end:i}};const hq=(e,t)=>{const o=t.slice();const n=o.pop();if(!E(n)){return U.none()}else{const t=se(o,((e,t)=>e.bind((e=>U.from(e.childNodes[t])))),U.some(e));return t.bind((e=>{if(ar(e)&&(n<0||n>e.data.length)){return U.none()}else{return U.some({node:e,offset:n})}}))}};const yq=(e,t)=>hq(e,t.start).bind((({node:o,offset:n})=>hq(e,t.end).map((({node:e,offset:t})=>{const s=document.createRange();s.setStart(o,n);s.setEnd(e,t);return s}))));const bq=(e,t,o,n=false)=>pq(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,n);const vq=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const n=t.parentNode;e.remove(t);vq(e,n,o)}};const kq=(e,t,o,n=true)=>{const s=t.startContainer.parentNode;const r=t.endContainer.parentNode;t.deleteContents();if(n&&!o(t.startContainer)){if(ar(t.startContainer)&&t.startContainer.data.length===0){e.remove(t.startContainer)}if(ar(t.endContainer)&&t.endContainer.data.length===0){e.remove(t.endContainer)}vq(e,s,o);if(s!==r){vq(e,r,o)}}};const wq=(e,t)=>U.from(e.dom.getParent(t.startContainer,e.dom.isBlock));const _q=(e,t,o)=>{const n=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:iu(n).concat(e.blockPatterns),inlinePatterns:lu(n).concat(e.inlinePatterns)}};const xq=(e,t,o,n)=>{const s=e.createRng();s.setStart(t,0);s.setEnd(o,n);return s.toString()};const Cq=(e,t,o)=>{const n=CI(t,0,t);n.each((n=>{const s=n.container;zI(s,o.start.length,t).each((o=>{const n=e.createRng();n.setStart(s,0);n.setEnd(o.container,o.offset);kq(e,n,(e=>e===t))}))}))};const Sq=(e,t)=>{const o=e.dom;const n=t.pattern;const s=yq(o.getRoot(),t.range).getOrDie("Unable to resolve path range");const r=(e,t)=>{const o=t.get(e);return _(o)&&he(o).exists((e=>Me(e,"block")))};wq(e,s).each((t=>{if(n.type==="block-format"){if(r(n.format,e.formatter)){e.undoManager.transact((()=>{Cq(e.dom,t,n);e.formatter.apply(n.format)}))}}else if(n.type==="block-command"){e.undoManager.transact((()=>{Cq(e.dom,t,n);e.execCommand(n.cmd,false,n.value)}))}}));return true};const zq=e=>ge(e,((e,t)=>t.start.length-e.start.length));const Oq=(e,t)=>{const o=zq(e);const n=t.replace(wr," ");return ae(o,(e=>t.indexOf(e.start)===0||n.indexOf(e.start)===0))};const Tq=(e,t,o,n)=>{var s;const r=e.dom;const a=Eu(e);if(!r.is(t,a)){return[]}const c=(s=t.textContent)!==null&&s!==void 0?s:"";return Oq(o.blockPatterns,c).map((e=>{if(mo.trim(c).length===e.start.length){return[]}return[{pattern:e,range:pq(r,r.getRoot(),t,0,t,0,n)}]})).getOr([])};const Eq=(e,t)=>{if(t.length===0){return}const o=e.selection.getBookmark();Q(t,(t=>Sq(e,t)));e.selection.moveToBookmark(o)};const Dq=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t});const Aq=(e,t)=>{const o=e.createRng();o.setStartAfter(t.start);o.setEndBefore(t.end);return o};const Nq=(e,t,o)=>{const n=yq(e.getRoot(),o).getOrDie("Unable to resolve path range");const s=n.startContainer;const r=n.endContainer;const a=n.endOffset===0?r:r.splitText(n.endOffset);const c=n.startOffset===0?s:s.splitText(n.startOffset);const i=c.parentNode;const l=a.parentNode;return{prefix:t,end:l.insertBefore(Dq(e,t+"-end"),a),start:i.insertBefore(Dq(e,t+"-start"),c)}};const Mq=(e,t,o)=>{vq(e,e.get(t.prefix+"-end"),o);vq(e,e.get(t.prefix+"-start"),o)};const Rq=e=>e.start.length===0;const Bq=e=>(t,o)=>{const n=t.data;const s=n.substring(0,o);const r=s.lastIndexOf(e.charAt(e.length-1));const a=s.lastIndexOf(e);if(a!==-1){return a+e.length}else if(r!==-1){return r+1}else{return-1}};const Lq=(e,t,o,n)=>{const s=t.start;const r=OI(e,n.container,n.offset,Bq(s),o);return r.bind((n=>{var r,a;const c=(a=(r=o.textContent)===null||r===void 0?void 0:r.indexOf(s))!==null&&a!==void 0?a:-1;const i=c!==-1&&n.offset>=c+s.length;if(i){const t=e.createRng();t.setStart(n.container,n.offset-s.length);t.setEnd(n.container,n.offset);return U.some(t)}else{const r=n.offset-s.length;return SI(n.container,r,o).map((t=>{const o=e.createRng();o.setStart(t.container,t.offset);o.setEnd(n.container,n.offset);return o})).filter((e=>e.toString()===s)).orThunk((()=>Lq(e,t,o,vI(n.container,0))))}}))};const Hq=(e,t,o,n,s,r=false)=>{if(t.start.length===0&&!r){const t=e.createRng();t.setStart(o,n);t.setEnd(o,n);return U.some(t)}return xI(o,n,s).bind((o=>{const n=Lq(e,t,s,o);return n.bind((e=>{var t;if(r){if(e.endContainer===o.container&&e.endOffset===o.offset){return U.none()}else if(o.offset===0&&((t=e.endContainer.textContent)===null||t===void 0?void 0:t.length)===e.endOffset){return U.none()}}return U.some(e)}))}))};const Iq=(e,t,o,n)=>{const s=e.dom;const r=s.getRoot();const a=o.pattern;const c=o.position.container;const i=o.position.offset;return SI(c,i-o.pattern.end.length,t).bind((l=>{const d=pq(s,r,l.container,l.offset,c,i,n);if(Rq(a)){return U.some({matches:[{pattern:a,startRng:d,endRng:d}],position:l})}else{const c=Pq(e,o.remainingPatterns,l.container,l.offset,t,n);const i=c.getOr({matches:[],position:l});const u=i.position;const f=Hq(s,a,u.container,u.offset,t,c.isNone());return f.map((e=>{const t=bq(s,r,e,n);return{matches:i.matches.concat([{pattern:a,startRng:t,endRng:d}]),position:vI(e.startContainer,e.startOffset)}}))}}))};const Pq=(e,t,o,n,s,r)=>{const a=e.dom;return xI(o,n,a.getRoot()).bind((c=>{const i=xq(a,s,o,n);for(let a=0;a<t.length;a++){const l=t[a];if(!dt(i,l.end)){continue}const d=t.slice();d.splice(a,1);const u=Iq(e,s,{pattern:l,remainingPatterns:d,position:c},r);if(u.isNone()&&n>0){return Pq(e,t,o,n-1,s,r)}if(u.isSome()){return u}}return U.none()}))};const Fq=(e,t,o)=>{e.selection.setRng(o);if(t.type==="inline-format"){Q(t.format,(t=>{e.formatter.apply(t)}))}else{e.execCommand(t.cmd,false,t.value)}};const Vq=(e,t,o,n)=>{const s=Aq(e.dom,o);kq(e.dom,s,n);Fq(e,t,s)};const jq=(e,t,o,n,s)=>{const r=e.dom;const a=Aq(r,n);const c=Aq(r,o);kq(r,c,s);kq(r,a,s);const i={prefix:o.prefix,start:o.end,end:n.start};const l=Aq(r,i);Fq(e,t,l)};const Zq=(e,t)=>{const o=_l("mce_textpattern");const n=ne(t,((t,n)=>{const s=Nq(e,o+`_end${t.length}`,n.endRng);return t.concat([{...n,endMarker:s}])}),[]);return ne(n,((t,s)=>{const r=n.length-t.length-1;const a=Rq(s.pattern)?s.endMarker:Nq(e,o+`_start${r}`,s.startRng);return t.concat([{...s,startMarker:a}])}),[])};const Uq=e=>ge(e,((e,t)=>t.end.length-e.end.length));const qq=(e,t)=>{const o=de(e,(e=>X(t,(t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end))));if(e.length===t.length){if(o){return e}else{return t}}return e.length>t.length?e:t};const Wq=(e,t,o,n,s,r)=>{const a=Pq(e,s.inlinePatterns,o,n,t,r).fold((()=>[]),(e=>e.matches));const c=Pq(e,Uq(s.inlinePatterns),o,n,t,r).fold((()=>[]),(e=>e.matches));return qq(a,c)};const $q=(e,t)=>{if(t.length===0){return}const o=e.dom;const n=e.selection.getBookmark();const s=Zq(o,t);Q(s,(t=>{const n=o.getParent(t.startMarker.start,o.isBlock);const s=e=>e===n;if(Rq(t.pattern)){Vq(e,t.pattern,t.endMarker,s)}else{jq(e,t.pattern,t.startMarker,t.endMarker,s)}Mq(o,t.endMarker,s);Mq(o,t.startMarker,s)}));e.selection.moveToBookmark(n)};const Gq=(e,t)=>{const o=e.selection.getRng();return wq(e,o).map((n=>{var s;const r=Math.max(0,o.startOffset);const a=_q(t,n,(s=n.textContent)!==null&&s!==void 0?s:"");const c=Wq(e,n,o.startContainer,r,a,true);const i=Tq(e,n,a,true);if(i.length>0||c.length>0){e.undoManager.add();e.undoManager.extra((()=>{e.execCommand("mceInsertNewLine")}),(()=>{e.insertContent(kr);$q(e,c);Eq(e,i);const t=e.selection.getRng();const o=xI(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine");o.each((t=>{const o=t.container;if(o.data.charAt(t.offset-1)===kr){o.deleteData(t.offset-1,1);vq(e.dom,o.parentNode,(t=>t===e.dom.getRoot()))}}))}));return true}return false})).getOr(false)};const Kq=(e,t)=>{const o=e.selection.getRng();wq(e,o).map((n=>{const s=Math.max(0,o.startOffset-1);const r=xq(e.dom,n,o.startContainer,s);const a=_q(t,n,r);const c=Wq(e,n,o.startContainer,s,a,false);if(c.length>0){e.undoManager.transact((()=>{$q(e,c)}))}}))};const Yq=(e,t,o)=>{for(let n=0;n<e.length;n++){if(o(e[n],t)){return true}}return false};const Xq=(e,t)=>Yq(e,t,((e,t)=>e===t.keyCode&&!dy.modifierPressed(t)));const Jq=(e,t)=>Yq(e,t,((e,t)=>e.charCodeAt(0)===t.charCode));const Qq=e=>{const t=[",",".",";",":","!","?"];const o=[32];const n=()=>du(Xf(e),Jf(e));const s=()=>nm(e);e.on("keydown",(t=>{if(t.keyCode===13&&!dy.modifierPressed(t)&&e.selection.isCollapsed()){const o=n();const r=o.inlinePatterns.length>0||o.blockPatterns.length>0||s();if(r&&Gq(e,o)){t.preventDefault()}}}),true);const r=()=>{if(e.selection.isCollapsed()){const t=n();const o=t.inlinePatterns.length>0||s();if(o){Kq(e,t)}}};e.on("keyup",(e=>{if(Xq(o,e)){r()}}));e.on("keypress",(o=>{if(Jq(t,o)){hv.setEditorTimeout(e,r)}}))};const eW=e=>{Qq(e)};const tW=e=>{const t=mo.each;const o=dy.BACKSPACE,n=dy.DELETE,s=e.dom,r=e.selection,a=e.parser;const c=to.browser;const i=c.isFirefox();const l=c.isChromium()||c.isSafari();const d=to.deviceType.isiPhone()||to.deviceType.isiPad();const u=to.os.isMacOS()||to.os.isiOS();const f=(t,o)=>{try{e.getDoc().execCommand(t,false,String(o))}catch(e){}};const m=e=>e.isDefaultPrevented();const g=()=>{const t=e=>{const t=s.create("body");const o=e.cloneContents();t.appendChild(o);return r.serializer.serialize(t,{format:"html"})};const a=o=>{const n=t(o);const r=s.createRng();r.selectNode(e.getBody());const a=t(r);return n===a};e.on("keydown",(t=>{const r=t.keyCode;if(!m(t)&&(r===n||r===o)){const o=e.selection.isCollapsed();const n=e.getBody();if(o&&!s.isEmpty(n)){return}if(!o&&!a(e.selection.getRng())){return}t.preventDefault();e.setContent("");if(n.firstChild&&s.isBlock(n.firstChild)){e.selection.setCursorLocation(n.firstChild,0)}else{e.selection.setCursorLocation(n,0)}e.nodeChanged()}}))};const p=()=>{e.shortcuts.add("meta+a",null,"SelectAll")};const h=()=>{if(!e.inline){s.bind(e.getDoc(),"mousedown mouseup",(t=>{let o;if(t.target===e.getDoc().documentElement){o=r.getRng();e.getBody().focus();if(t.type==="mousedown"){if(la(o.startContainer)){return}r.placeCaretAt(t.clientX,t.clientY)}else{r.setRng(o)}}}))}};const y=()=>{e.on("keydown",(t=>{if(!m(t)&&t.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length){return}if(r.isCollapsed()&&r.getRng().startOffset===0){const e=r.getNode();const o=e.previousSibling;if(e.nodeName==="HR"){s.remove(e);t.preventDefault();return}if(o&&o.nodeName&&o.nodeName.toLowerCase()==="hr"){s.remove(o);t.preventDefault()}}}}))};const b=()=>{if(!Range.prototype.getClientRects){e.on("mousedown",(t=>{if(!m(t)&&t.target.nodeName==="HTML"){const t=e.getBody();t.blur();hv.setEditorTimeout(e,(()=>{t.focus()}))}}))}};const v=()=>{const t=Nf(e);e.on("click",(o=>{const n=o.target;if(/^(IMG|HR)$/.test(n.nodeName)&&s.getContentEditableParent(n)!=="false"){o.preventDefault();e.selection.select(n);e.nodeChanged()}if(n.nodeName==="A"&&s.hasClass(n,t)&&n.childNodes.length===0){o.preventDefault();r.select(n)}}))};const k=()=>{const o=()=>{const o=s.getAttribs(r.getStart().cloneNode(false));return()=>{const n=r.getStart();if(n!==e.getBody()){s.setAttrib(n,"style",null);t(o,(e=>{n.setAttributeNode(e.cloneNode(true))}))}}};const n=()=>!r.isCollapsed()&&s.getParent(r.getStart(),s.isBlock)!==s.getParent(r.getEnd(),s.isBlock);e.on("keypress",(t=>{let s;if(!m(t)&&(t.keyCode===8||t.keyCode===46)&&n()){s=o();e.getDoc().execCommand("delete",false);s();t.preventDefault();return false}else{return true}}));s.bind(e.getDoc(),"cut",(t=>{if(!m(t)&&n()){const t=o();hv.setEditorTimeout(e,(()=>{t()}))}}))};const w=()=>{e.on("keydown",(e=>{if(!m(e)&&e.keyCode===o){if(r.isCollapsed()&&r.getRng().startOffset===0){const t=r.getNode().previousSibling;if(t&&t.nodeName&&t.nodeName.toLowerCase()==="table"){e.preventDefault();return false}}}return true}))};const _=()=>{e.on("keydown",(t=>{if(m(t)||t.keyCode!==dy.BACKSPACE){return}let o=r.getRng();const n=o.startContainer;const a=o.startOffset;const c=s.getRoot();let i=n;if(!o.collapsed||a!==0){return}while(i.parentNode&&i.parentNode.firstChild===i&&i.parentNode!==c){i=i.parentNode}if(i.nodeName==="BLOCKQUOTE"){e.formatter.toggle("blockquote",undefined,i);o=s.createRng();o.setStart(n,0);o.setEnd(n,0);r.setRng(o)}}))};const x=()=>{const t=()=>{f("StyleWithCSS",false);f("enableInlineTableEditing",false);if(!of(e)){f("enableObjectResizing",false)}};if(!Sf(e)){e.on("BeforeExecCommand mousedown",t)}};const C=()=>{const o=()=>{t(s.select("a:not([data-mce-block])"),(e=>{var t;let o=e.parentNode;const n=s.getRoot();if((o===null||o===void 0?void 0:o.lastChild)===e){while(o&&!s.isBlock(o)){if(((t=o.parentNode)===null||t===void 0?void 0:t.lastChild)!==o||o===n){return}o=o.parentNode}s.add(o,"br",{"data-mce-bogus":1})}}))};e.on("SetContent ExecCommand",(e=>{if(e.type==="setcontent"||e.command==="mceInsertLink"){o()}}))};const S=()=>{e.on("init",(()=>{f("DefaultParagraphSeparator",Eu(e))}))};const z=e=>{const t=e.getBody();const o=e.selection.getRng();return o.startContainer===o.endContainer&&o.startContainer===t&&o.startOffset===0&&o.endOffset===t.childNodes.length};const O=()=>{e.on("keyup focusin mouseup",(t=>{if(!dy.modifierPressed(t)&&!z(e)){r.normalize()}}),true)};const T=()=>{e.contentStyles.push("img:-moz-broken {"+"-moz-force-broken-image-icon:1;"+"min-width:24px;"+"min-height:24px"+"}")};const E=()=>{if(!e.inline){e.on("keydown",(()=>{if(document.activeElement===document.body){e.getWin().focus()}}))}};const D=()=>{if(!e.inline){e.contentStyles.push("body {min-height: 150px}");e.on("click",(t=>{let o;if(t.target.nodeName==="HTML"){o=e.selection.getRng();e.getBody().focus();e.selection.setRng(o);e.selection.normalize();e.nodeChanged()}}))}};const N=()=>{if(u){e.on("keydown",(t=>{if(dy.metaKeyPressed(t)&&!t.shiftKey&&(t.keyCode===37||t.keyCode===39)){t.preventDefault();const o=e.selection.getSel();o.modify("move",t.keyCode===37?"backward":"forward","lineboundary")}}))}};const M=()=>{e.on("click",(e=>{let t=e.target;do{if(t.tagName==="A"){e.preventDefault();return}}while(t=t.parentNode)}));e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")};const R=()=>{e.on("init",(()=>{e.dom.bind(e.getBody(),"submit",(e=>{e.preventDefault()}))}))};const B=()=>{a.addNodeFilter("br",(e=>{let t=e.length;while(t--){if(e[t].attr("class")==="Apple-interchange-newline"){e[t].remove()}}}))};const L=A;const H=()=>{if(!i||e.removed){return false}const t=e.selection.getSel();return!t||!t.rangeCount||t.rangeCount===0};const I=()=>{if(l){h();v();R();p();if(d){E();D();M()}}if(i){b();x();T();N()}};const P=()=>{_();g();if(!to.windowsPhone){O()}if(l){h();v();S();R();w();B();if(d){E();D();M()}else{p()}}if(i){y();b();k();x();C();T();N();w()}};if(oD(e)){I()}else{P()}return{refreshContentEditable:L,isHidden:H}};const oW=Mi.DOM;const nW=(e,t)=>{const o=cn.fromDom(e.getBody());const n=In(Hn(o));const s=cn.fromTag("style");Ro(s,"type","text/css");ss(s,cn.fromText(t));ss(n,s);e.on("remove",(()=>{ls(s)}))};const sW=e=>e.inline?e.getElement().nodeName.toLowerCase():undefined;const rW=e=>Ee(e,(e=>S(e)===false));const aW=e=>{const t=e.options.get;const o=e.editorUpload.blobCache;return rW({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),remove_trailing_brs:t("remove_trailing_brs"),inline_styles:t("inline_styles"),root_name:sW(e),validate:true,blob_cache:o,document:e.getDoc()})};const cW=e=>{const t=e.options.get;return rW({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})};const iW=e=>{const t=e.options.get;return{...aW(e),...cW(e),...rW({url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}};const lW=e=>{const t=OT(aW(e),e.schema);t.addAttributeFilter("src,href,style,tabindex",((t,o)=>{const n=e.dom;const s="data-mce-"+o;let r=t.length;while(r--){const a=t[r];let c=a.attr(o);if(c&&!a.attr(s)){if(c.indexOf("data:")===0||c.indexOf("blob:")===0){continue}if(o==="style"){c=n.serializeStyle(n.parseStyle(c),a.name);if(!c.length){c=null}a.attr(s,c);a.attr(o,c)}else if(o==="tabindex"){a.attr(s,c);a.attr(o,null)}else{a.attr(s,e.convertURL(c,o,a.name))}}}}));t.addNodeFilter("script",(e=>{let t=e.length;while(t--){const o=e[t];const n=o.attr("type")||"no/type";if(n.indexOf("mce-")!==0){o.attr("type","mce-"+n)}}}));if(om(e)){t.addNodeFilter("#cdata",(t=>{var o;let n=t.length;while(n--){const s=t[n];s.type=8;s.name="#comment";s.value="[CDATA["+e.dom.encode((o=s.value)!==null&&o!==void 0?o:"")+"]]"}}))}t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(t=>{let o=t.length;const n=e.schema.getNonEmptyElements();while(o--){const e=t[o];if(e.isEmpty(n)&&e.getAll("br").length===0){e.append(new pk("br",1))}}}));return t};const dW=e=>{const t=Hf(e);if(t){hv.setEditorTimeout(e,(()=>{let o;if(t===true){o=e}else{o=e.editorManager.get(t)}if(o&&!o.destroyed){o.focus();o.selection.scrollIntoView()}}),100)}};const uW=e=>{const t=e.dom.getRoot();if(!e.inline&&(!Mp(e)||e.selection.getStart(true)===t)){Mg(t).each((t=>{const o=t.getNode();const n=nr(o)?Mg(o).getOr(t):t;e.selection.setRng(n.toRange())}))}};const fW=e=>{e.bindPendingEventDelegates();e.initialized=true;Kh(e);e.focus(true);uW(e);e.nodeChanged({initial:true});const t=Bf(e);if(T(t)){t.call(e,e)}dW(e)};const mW=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader;const gW=(e,t,o)=>{const n=[mW(e).loadAll(t)];if(e.inline){return n}else{return n.concat([e.ui.styleSheetLoader.loadAll(o)])}};const pW=e=>{const t=mW(e);const o=Qu(e);const n=e.contentCSS;const s=()=>{t.unloadAll(n);if(!e.inline){e.ui.styleSheetLoader.unloadAll(o)}};const r=()=>{if(e.removed){s()}else{e.on("remove",s)}};if(e.contentStyles.length>0){let t="";mo.each(e.contentStyles,(e=>{t+=e+"\r\n"}));e.dom.addStyle(t)}const a=Promise.all(gW(e,n,o)).then(r).catch(r);const c=Ju(e);if(c){nW(e,c)}return a};const hW=e=>{const t=e.getDoc(),o=e.getBody();$h(e);if(!If(e)){t.body.spellcheck=false;oW.setAttrib(o,"spellcheck","false")}e.quirks=tW(e);Gh(e);const n=ef(e);if(n!==undefined){o.dir=n}const s=Pf(e);if(s){e.on("BeforeSetContent",(e=>{mo.each(s,(t=>{e.content=e.content.replace(t,(e=>"\x3c!--mce:protected "+escape(e)+"--\x3e"))}))}))}e.on("SetContent",(()=>{e.addVisual(e.getBody())}));e.on("compositionstart compositionend",(t=>{e.composing=t.type==="compositionstart"}))};const yW=e=>{if(!oD(e)){e.load({initial:true,format:"html"})}e.startContent=e.getContent({format:"raw"})};const bW=e=>{if(e.removed!==true){yW(e);fW(e)}};const vW=e=>{const t=e.getElement();let o=e.getDoc();if(e.inline){oW.addClass(t,"mce-content-body");e.contentDocument=o=document;e.contentWindow=window;e.bodyElement=t;e.contentAreaContainer=t}const n=e.getBody();n.disabled=true;e.readonly=Sf(e);if(!e.readonly){if(e.inline&&oW.getStyle(n,"position",true)==="static"){n.style.position="relative"}n.contentEditable="true"}n.disabled=false;e.editorUpload=SN(e);e.schema=ai(cW(e));e.dom=Mi(o,{keep_values:true,url_converter:e.convertURL,url_converter_scope:e,update_styles:true,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:qu(e),referrerPolicy:Wu(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)}});e.parser=lW(e);e.serializer=iA(iW(e),e);e.selection=KD(e.dom,e.getWin(),e.serializer,e);e.annotator=Hh(e);e.formatter=FN(e);e.undoManager=UN(e);e._nodeChangeDispatcher=new zj(e);e._selectionOverrides=fq(e);DL(e);tU(e);jL(e);if(!oD(e)){fU(e);eW(e)}const s=Sj(e);SL(e,s);IL(e);JN(e);JZ(e);const r=sD(e);hW(e);r.fold((()=>{pW(e).then((()=>bW(e)))}),(t=>{e.setProgressState(true);pW(e).then((()=>{t().then((t=>{e.setProgressState(false);bW(e);ND(e)}),(t=>{e.notificationManager.open({type:"error",text:String(t)});bW(e);ND(e)}))}))}))};const kW=(e,t)=>{if(!e.inline){e.getElement().style.visibility=e.orgVisibility}if(!t&&!e.inline){const t=e.iframeElement;const o=mN(cn.fromDom(t),"load",(()=>{o.unbind();e.contentDocument=t.contentDocument;vW(e)}));if(to.browser.isFirefox()){const t=e.getDoc();t.open();t.write(e.iframeHTML);t.close()}else{t.srcdoc=e.iframeHTML}}else{vW(e)}};const wW=Mi.DOM;const _W=(e,t,o,n)=>{const s=cn.fromTag("iframe");n.each((e=>Ro(s,"tabindex",e)));Bo(s,o);Bo(s,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t});Yo(s,"tox-edit-area__iframe");return s};const xW=e=>{let t=xu(e)+"<html><head>";if(Cu(e)!==e.documentBaseUrl){t+='<base href="'+e.documentBaseURI.getURI()+'" />'}t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Su(e);const n=zu(e);const s=e.translate(Mf(e));if(Ou(e)){t+='<meta http-equiv="Content-Security-Policy" content="'+Ou(e)+'" />'}t+="</head>"+`<body id="${o}" class="mce-content-body ${n}" data-id="${e.id}" aria-label="${s}">`+"<br>"+"</body></html>";return t};const CW=(e,t)=>{const o=e.translate("Rich Text Area");const n=Ho(cn.fromDom(e.getElement()),"tabindex").bind(bt);const s=_W(e.id,o,_u(e),n).dom;s.onload=()=>{s.onload=null;e.dispatch("load")};e.contentAreaContainer=t.iframeContainer;e.iframeElement=s;e.iframeHTML=xW(e);wW.add(t.iframeContainer,s)};const SW=(e,t)=>{CW(e,t);if(t.editorContainer){t.editorContainer.style.display=e.orgDisplay;e.hidden=wW.isHidden(t.editorContainer)}e.getElement().style.display="none";wW.setAttrib(e.id,"aria-hidden","true");kW(e)};const zW=Mi.DOM;const OW=(e,t,o)=>{const n=qA.get(o);const s=qA.urls[o]||e.documentBaseUrl.replace(/\/$/,"");o=mo.trim(o);if(n&&mo.inArray(t,o)===-1){if(e.plugins[o]){return}try{const r=n(e,s)||{};e.plugins[o]=r;if(T(r.init)){r.init(e,s);t.push(o)}}catch(t){rN(e,o,t)}}};const TW=e=>e.replace(/^\-/,"");const EW=e=>{const t=[];Q(Of(e),(o=>{OW(e,t,TW(o))}))};const DW=e=>{const t=mo.trim(Pu(e));const o=e.ui.registry.getAll().icons;const n={...EA.get("default").icons,...EA.get(t).icons};xe(n,((t,n)=>{if(!Me(o,n)){e.ui.registry.addIcon(n,t)}}))};const AW=e=>{const t=cf(e);if(v(t)){const o=WA.get(t);e.theme=o(e,WA.urls[t])||{};if(T(e.theme.init)){e.theme.init(e,WA.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}}else{e.theme={}}};const NW=e=>{const t=df(e);const o=DA.get(t);e.model=o(e,DA.urls[t])};const MW=e=>{const t=e.theme.renderUI;return t?t():HW(e)};const RW=e=>{const t=e.getElement();const o=cf(e);const n=o(e,t);if(n.editorContainer.nodeType){n.editorContainer.id=n.editorContainer.id||e.id+"_parent"}if(n.iframeContainer&&n.iframeContainer.nodeType){n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"}n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight;return n};const BW=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}});const LW=e=>{const t=zW.create("div");zW.insertAfter(t,e);return BW(t,t)};const HW=e=>{const t=e.getElement();return e.inline?BW(null):LW(t)};const IW=e=>{const t=e.getElement();e.orgDisplay=t.style.display;if(v(cf(e))){return MW(e)}else if(T(cf(e))){return RW(e)}else{return HW(e)}};const PW=(e,t)=>{const o={show:U.from(t.show).getOr(A),hide:U.from(t.hide).getOr(A),isEnabled:U.from(t.isEnabled).getOr(Z),setEnabled:o=>{if(!e.mode.isReadOnly()){U.from(t.setEnabled).each((e=>e(o)))}}};e.ui={...e.ui,...o}};const FW=e=>{e.dispatch("ScriptsLoaded");DW(e);AW(e);NW(e);EW(e);const t=IW(e);PW(e,U.from(t.api).getOr({}));e.editorContainer=t.editorContainer;uN(e);if(e.inline){kW(e)}else{SW(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})}};const VW=Mi.DOM;const jW=e=>e.charAt(0)==="-";const ZW=(e,t)=>{const o=$u(t);const n=Gu(t);if(!Qi.hasCode(o)&&o!=="en"){const s=pt(n)?n:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(s).catch((()=>{oN(t,s,o)}))}};const UW=(e,t)=>{const o=cf(e);if(v(o)&&!jW(o)&&!Me(WA.urls,o)){const n=lf(e);const s=n?e.documentBaseURI.toAbsolute(n):`themes/${o}/theme${t}.js`;WA.load(o,s).catch((()=>{nN(e,s,o)}))}};const qW=(e,t)=>{const o=df(e);if(o!=="plugin"&&!Me(DA.urls,o)){const n=uf(e);const s=v(n)?e.documentBaseURI.toAbsolute(n):`models/${o}/model${t}.js`;DA.load(o,s).catch((()=>{sN(e,s,o)}))}};const WW=e=>U.from(Fu(e)).filter(pt).map((e=>({url:e,name:U.none()})));const $W=(e,t,o)=>U.from(t).filter((e=>pt(e)&&!EA.has(e))).map((t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${o}.js`,name:U.some(t)})));const GW=(e,t,o)=>{const n=$W(t,"default",o);const s=WW(t).orThunk((()=>$W(t,Pu(t),"")));Q(po([n,s]),(o=>{e.add(o.url).catch((()=>{tN(t,o.url,o.name.getOrUndefined())}))}))};const KW=(e,t)=>{const o=(t,o)=>{qA.load(t,o).catch((()=>{eN(e,o,t)}))};xe(Tf(e),((t,n)=>{o(n,t);e.options.set("plugins",Of(e).concat(n))}));Q(Of(e),(e=>{e=mo.trim(e);if(e&&!qA.urls[e]&&!jW(e)){o(e,`plugins/${e}/plugin${t}.js`)}}))};const YW=e=>{const t=cf(e);return!v(t)||O(WA.get(t))};const XW=e=>{const t=df(e);return O(DA.get(t))};const JW=(e,t)=>{const o=Pi.ScriptLoader;const n=()=>{if(!e.removed&&YW(e)&&XW(e)){FW(e)}};UW(e,t);qW(e,t);ZW(o,e);GW(o,e,t);KW(e,t);o.loadQueue().then(n,n)};const QW=(e,t)=>kc.forElement(e,{contentCssCors:zf(t),referrerPolicy:Wu(t)});const e$=e=>{const t=e.id;Qi.setCode($u(e));const o=()=>{VW.unbind(window,"ready",o);e.render()};if(!wi.Event.domLoaded){VW.bind(window,"ready",o);return}if(!e.getElement()){return}const n=cn.fromDom(e.getElement());const s=Vo(n);e.on("remove",(()=>{ee(n.dom.attributes,(e=>Po(n,e.name)));Bo(n,s)}));e.ui.styleSheetLoader=QW(n,e);if(!bf(e)){e.orgVisibility=e.getElement().style.visibility;e.getElement().style.visibility="hidden"}else{e.inline=true}const r=e.getElement().form||VW.getParent(t,"form");if(r){e.formElement=r;if(vf(e)&&!rr(e.getElement())){VW.insertAfter(VW.create("input",{type:"hidden",name:t}),t);e.hasHiddenInput=true}e.formEventDelegate=t=>{e.dispatch(t.type,t)};VW.bind(r,"submit reset",e.formEventDelegate);e.on("reset",(()=>{e.resetContent()}));if(kf(e)&&!r.submit.nodeType&&!r.submit.length&&!r._mceOldSubmit){r._mceOldSubmit=r.submit;r.submit=()=>{e.editorManager.triggerSave();e.setDirty(false);return r._mceOldSubmit(r)}}}e.windowManager=GA(e);e.notificationManager=UA(e);if(am(e)){e.on("GetContent",(e=>{if(e.save){e.content=VW.encode(e.content)}}))}if(wf(e)){e.on("submit",(()=>{if(e.initialized){e.save()}}))}if(_f(e)){e._beforeUnload=()=>{if(e.initialized&&!e.destroyed&&!e.isHidden()){e.save({format:"raw",no_events:true,set_dirty:false})}};e.editorManager.on("BeforeUnload",e._beforeUnload)}e.editorManager.add(e);JW(e,e.suffix)};const t$=(e,t)=>({sections:R(e),options:R(t)});const o$=Gt().deviceType;const n$=o$.isPhone();const s$=o$.isTablet();const r$=e=>{if(z(e)){return[]}else{const t=_(e)?e:e.split(/[ ,]/);const o=J(t,ft);return oe(o,pt)}};const a$=(e,t)=>{const o=Te(t,((t,o)=>Y(e,o)));return t$(o.t,o.f)};const c$=(e,t,o={})=>{const n=e.sections();const s=Ne(n,t).getOr({});return mo.extend({},o,s)};const i$=(e,t)=>Me(e.sections(),t);const l$=(e,t)=>i$(e,t)?e.sections()[t]:{};const d$=(e,t)=>{const o={table_grid:false,object_resizing:false,resize:false,toolbar_mode:Ne(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:false};const n={menubar:false};return{...o,...t?n:{}}};const u$=(e,t)=>{var o;const n=(o=t.external_plugins)!==null&&o!==void 0?o:{};if(e&&e.external_plugins){return mo.extend({},e.external_plugins,n)}else{return n}};const f$=(e,t)=>[...r$(e),...r$(t)];const m$=(e,t,o,n)=>{if(e&&i$(t,"mobile")){return n}else{return o}};const g$=(e,t,o,n)=>{const s=r$(o.forced_plugins);const r=r$(n.plugins);const a=l$(t,"mobile");const c=a.plugins?r$(a.plugins):r;const i=m$(e,t,r,c);const l=f$(s,i);return mo.extend(n,{forced_plugins:s,plugins:l})};const p$=(e,t)=>e&&i$(t,"mobile");const h$=(e,t,o,n,s)=>{var r;const a=e?{mobile:d$((r=s.mobile)!==null&&r!==void 0?r:{},t)}:{};const c=a$(["mobile"],gP(a,s));const i=mo.extend(o,n,c.options(),p$(e,c)?c$(c,"mobile"):{},{external_plugins:u$(n,c.options())});return g$(e,c,n,i)};const y$=(e,t)=>h$(n$||s$,n$,t,e,t);const b$=(e,t)=>AD(e,t);const v$=e=>{const t=(t,o)=>{e.formatter.toggle(t,o);e.nodeChanged()};const o=o=>()=>{Q("left,center,right,justify".split(","),(t=>{if(o!==t){e.formatter.remove("align"+t)}}));if(o!=="none"){t("align"+o)}};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})};const k$=e=>{const t=t=>()=>{const o=e.selection;const n=o.isCollapsed()?[e.dom.getParent(o.getNode(),e.dom.isBlock)]:o.getSelectedBlocks();return X(n,(o=>O(e.formatter.matchNode(o,t))))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")};const w$=e=>{v$(e);k$(e)};const _$=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let n;try{o.execCommand(t)}catch(e){n=true}if(t==="paste"&&!o.queryCommandEnabled(t)){n=true}if(n||!o.queryCommandSupported(t)){let t=e.translate(`Your browser doesn't support direct access to the clipboard. `+"Please use the Ctrl+X/C/V keyboard shortcuts instead.");if(to.os.isMacOS()||to.os.isiOS()){t=t.replace(/Ctrl\+/g,"⌘+")}e.notificationManager.open({text:t,type:"error"})}}})};const x$=(e,t,o)=>{const n=cn.fromDom(e.getRoot());if(Aw(n,yd.fromRangeStart(t))){o=o.replace(/^ /,"&nbsp;")}else{o=o.replace(/^&nbsp;/," ")}if(Mw(n,yd.fromRangeEnd(t))){o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;")}else{o=o.replace(/&nbsp;(<br( \/)?>)?$/," ")}return o};const C$=e=>{if(typeof e!=="string"){const t=mo.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}};const S$=(e,t)=>{const o=e.selection;const n=e.dom;if(/^ | $/.test(t)){return x$(n,o.getRng(),t)}else{return t}};const z$=(e,t)=>{const{content:o,details:n}=C$(t);NT(e,{...n,content:S$(e,o),format:"html",set:false,selection:true}).each((t=>{const o=ED(e,t.content,n);MT(e,o,t);e.addVisual()}))};const O$=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent());e.selection.moveToBookmark(t)},insertImage:(t,o,n)=>{z$(e,e.dom.createHTML("img",{src:n}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",false,"<hr>")},insertText:(t,o,n)=>{z$(e,e.dom.encode(n))},insertHTML:(t,o,n)=>{z$(e,n)},mceInsertContent:(t,o,n)=>{z$(e,n)},mceSetContent:(t,o,n)=>{e.setContent(n)},mceReplaceContent:(t,o,n)=>{e.execCommand("mceInsertContent",false,n.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})};const T$={"font-size":"size","font-family":"face"};const E$=No("font");const D$=(e,t,o)=>{const n=t=>Xn(t,e).orThunk((()=>{if(E$(t)){return Ne(T$,e).bind((e=>Ho(t,e)))}else{return U.none()}}));const s=e=>gn(cn.fromDom(t),e);return jC(cn.fromDom(o),(e=>n(e)),s)};const A$=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",");const N$=(e,t)=>U.from(Mi.DOM.getStyle(t,e,true));const M$=e=>(t,o)=>U.from(o).map(cn.fromDom).filter(To).bind((o=>D$(e,t,o.dom).or(N$(e,o.dom)))).getOr("");const R$=M$("font-size");const B$=N(A$,M$("font-family"));const L$=e=>Mg(e.getBody()).bind((e=>{const t=e.container();return U.from(ar(t)?t.parentNode:t)}));const H$=e=>U.from(e.selection.getRng()).bind((t=>{const o=e.getBody();const n=t.startContainer===o&&t.startOffset===0;return n?U.none():U.from(e.selection.getStart(true))}));const I$=(e,t)=>H$(e).orThunk(H(L$,e)).map(cn.fromDom).filter(To).bind(t);const P$=(e,t)=>I$(e,M(U.some,t));const F$=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const n=sm(e);const s=rm(e);if(s.length>0){return s[o-1]||t}else{return n[o-1]||t}}else{return t}}else{return t}};const V$=e=>{const t=e.split(/\s*,\s*/);return J(t,(e=>{if(e.indexOf(" ")!==-1&&!(lt(e,'"')||lt(e,`'`))){return`'${e}'`}else{return e}})).join(",")};const j$=(e,t)=>{const o=F$(e,t);e.formatter.toggle("fontname",{value:V$(o)});e.nodeChanged()};const Z$=e=>P$(e,(t=>B$(e.getBody(),t.dom))).getOr("");const U$=(e,t)=>{e.formatter.toggle("fontsize",{value:F$(e,t)});e.nodeChanged()};const q$=e=>P$(e,(t=>R$(e.getBody(),t.dom))).getOr("");const W$=e=>P$(e,(t=>{const o=cn.fromDom(e.getBody());const n=jC(t,(e=>Xn(e,"line-height")),H(gn,o));const s=()=>{const e=parseFloat(Kn(t,"line-height"));const o=parseFloat(Kn(t,"font-size"));return String(e/o)};return n.getOrThunk(s)})).getOr("");const $$=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)});e.nodeChanged()};const G$=e=>{const t=(t,o)=>{e.formatter.toggle(t,o);e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,o,n)=>{t(e,{value:n})},BackColor:(e,o,n)=>{t("hilitecolor",{value:n})},FontName:(t,o,n)=>{j$(e,n)},FontSize:(t,o,n)=>{U$(e,n)},LineHeight:(t,o,n)=>{$$(e,n)},Lang:(e,o,n)=>{var s;t(e,{value:n.code,customValue:(s=n.customCode)!==null&&s!==void 0?s:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,o,n)=>{t(v(n)?n:"p")},mceToggleFormat:(e,o,n)=>{t(n)}})};const K$=e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state");e.editorCommands.addQueryValueHandler("FontName",(()=>Z$(e)));e.editorCommands.addQueryValueHandler("FontSize",(()=>q$(e)));e.editorCommands.addQueryValueHandler("LineHeight",(()=>W$(e)))};const Y$=e=>{G$(e);K$(e)};const X$=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})};const J$=e=>{e.editorCommands.addCommands({Indent:()=>{vL(e)},Outdent:()=>{kL(e)}});e.editorCommands.addCommands({Outdent:()=>gL(e)},"state")};const Q$=e=>{const t=(t,o,n)=>{const s=v(n)?{href:n}:n;const r=e.dom.getParent(e.selection.getNode(),"a");if(k(s)&&v(s.href)){s.href=s.href.replace(/ /g,"%20");if(!r||!s.href){e.formatter.remove("link")}if(s.href){e.formatter.apply("link",s,r)}}};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");if(t){e.dom.remove(t,true)}return}e.formatter.remove("link")},mceInsertLink:t,createLink:t})};const eG=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const t=o.parentNode;if(t&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){const n=e.selection.getBookmark();e.dom.split(t,o);e.selection.moveToBookmark(n)}}}})};const tG=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(t==="insertunorderedlist"&&o.tagName==="UL"||t==="insertorderedlist"&&o.tagName==="OL")}},"state")};const oG=e=>{eG(e);tG(e)};const nG=e=>{e.editorCommands.addCommands({insertParagraph:()=>{ej(xV,e)},mceInsertNewLine:(t,o,n)=>{tj(e,n)},InsertLineBreak:(t,o,n)=>{ej(HV,e)}})};const sG=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,n)=>{let s=0;e.dom.getParent(e.selection.getNode(),(t=>{if(Ks(t)&&s++===n){e.selection.select(t);return false}else{return true}}),e.getBody())},mceSelectNode:(t,o,n)=>{e.selection.select(n)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),gr);if(t){const o=e.dom.createRng();o.selectNodeContents(t);e.selection.setRng(o)}}})};const rG=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,n)=>{const s=n!==null&&n!==void 0?n:e.selection.getNode();if(s!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(s,true);e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,n)=>{Uv(e,n===true)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual;e.addVisual()}})};const aG=e=>{w$(e);_$(e);X$(e);sG(e);O$(e);Q$(e);J$(e);nG(e);oG(e);Y$(e);rG(e)};const cG=["toggleview"];const iG=e=>Y(cG,e.toLowerCase());class lG{constructor(e){this.commands={state:{},exec:{},value:{}};this.editor=e}execCommand(e,t=false,o,n){const s=this.editor;const r=e.toLowerCase();const a=n===null||n===void 0?void 0:n.skip_focus;if(s.removed){return false}if(r!=="mcefocus"){if(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(r)&&!a){s.focus()}else{uv(s)}}const c=s.dispatch("BeforeExecCommand",{command:e,ui:t,value:o});if(c.isDefaultPrevented()){return false}const i=this.commands.exec[r];if(T(i)){i(r,t,o);s.dispatch("ExecCommand",{command:e,ui:t,value:o});return true}return false}queryCommandState(e){if(!iG(e)&&this.editor.quirks.isHidden()||this.editor.removed){return false}const t=e.toLowerCase();const o=this.commands.state[t];if(T(o)){return o(t)}return false}queryCommandValue(e){if(!iG(e)&&this.editor.quirks.isHidden()||this.editor.removed){return""}const t=e.toLowerCase();const o=this.commands.value[t];if(T(o)){return o(t)}return""}addCommands(e,t="exec"){const o=this.commands;xe(e,((e,n)=>{Q(n.toLowerCase().split(","),(n=>{o[t][n]=e}))}))}addCommand(e,t,o){const n=e.toLowerCase();this.commands.exec[n]=(e,n,s)=>t.call(o!==null&&o!==void 0?o:this.editor,n,s)}queryCommandSupported(e){const t=e.toLowerCase();if(this.commands.exec[t]){return true}else{return false}}addQueryStateHandler(e,t,o){this.commands.state[e.toLowerCase()]=()=>t.call(o!==null&&o!==void 0?o:this.editor)}addQueryValueHandler(e,t,o){this.commands.value[e.toLowerCase()]=()=>t.call(o!==null&&o!==void 0?o:this.editor)}}const dG="data-mce-contenteditable";const uG=(e,t,o)=>{if(en(e,t)&&!o){Jo(e,t)}else if(o){Yo(e,t)}};const fG=(e,t,o)=>{try{e.getDoc().execCommand(t,false,String(o))}catch(e){}};const mG=(e,t)=>{e.dom.contentEditable=t?"true":"false"};const gG=e=>{Q(Cr(e,'*[contenteditable="true"]'),(e=>{Ro(e,dG,"true");mG(e,false)}))};const pG=e=>{Q(Cr(e,`*[${dG}="true"]`),(e=>{Po(e,dG);mG(e,true)}))};const hG=e=>{U.from(e.selection.getNode()).each((e=>{e.removeAttribute("data-mce-selected")}))};const yG=e=>{e.selection.setRng(e.selection.getRng())};const bG=(e,t)=>{const o=cn.fromDom(e.getBody());uG(o,"mce-content-readonly",t);if(t){e.selection.controlSelection.hideResizeRect();e._selectionOverrides.hideFakeCaret();hG(e);e.readonly=true;mG(o,false);gG(o)}else{e.readonly=false;mG(o,true);pG(o);fG(e,"StyleWithCSS",false);fG(e,"enableInlineTableEditing",false);fG(e,"enableObjectResizing",false);if(Vv(e)){e.focus()}yG(e);e.nodeChanged()}};const vG=e=>e.readonly;const kG=e=>{e.parser.addAttributeFilter("contenteditable",(t=>{if(vG(e)){Q(t,(e=>{e.attr(dG,e.attr("contenteditable"));e.attr("contenteditable","false")}))}}));e.serializer.addAttributeFilter(dG,(t=>{if(vG(e)){Q(t,(e=>{e.attr("contenteditable",e.attr(dG))}))}}));e.serializer.addTempAttr(dG)};const wG=e=>{if(e.serializer){kG(e)}else{e.on("PreInit",(()=>{kG(e)}))}};const _G=e=>e.type==="click";const xG=["copy"];const CG=e=>Y(xG,e.type);const SG=(e,t)=>{const o=t=>gn(t,cn.fromDom(e.getBody()));return Us(t,"a",o).bind((e=>Ho(e,"href")))};const zG=(e,t)=>{if(_G(t)&&!dy.metaKeyPressed(t)){const o=cn.fromDom(t.target);SG(e,o).each((o=>{t.preventDefault();if(/^#/.test(o)){const t=e.dom.select(`${o},[name="${ct(o,"#")}"]`);if(t.length){e.selection.scrollIntoView(t[0],true)}}else{window.open(o,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}}))}else if(CG(t)){e.dispatch(t.type,t)}};const OG=e=>{e.on("ShowCaret",(t=>{if(vG(e)){t.preventDefault()}}));e.on("ObjectSelected",(t=>{if(vG(e)){t.preventDefault()}}))};const TG=mo.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange "+"mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover "+"draggesture dragdrop drop drag submit "+"compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class EG{constructor(e){this.bindings={};this.settings=e||{};this.scope=this.settings.scope||this;this.toggleEvent=this.settings.toggleEvent||j}static isNative(e){return!!TG[e.toLowerCase()]}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const o=e.toLowerCase();const n=mi(o,t!==null&&t!==void 0?t:{},this.scope);if(this.settings.beforeFire){this.settings.beforeFire(n)}const s=this.bindings[o];if(s){for(let e=0,t=s.length;e<t;e++){const t=s[e];if(t.removed){continue}if(t.once){this.off(o,t.func)}if(n.isImmediatePropagationStopped()){return n}if(t.func.call(this.scope,n)===false){n.preventDefault();return n}}}return n}on(e,t,o,n){if(t===false){t=j}if(t){const s={func:t,removed:false};if(n){mo.extend(s,n)}const r=e.toLowerCase().split(" ");let a=r.length;while(a--){const e=r[a];let t=this.bindings[e];if(!t){t=[];this.toggleEvent(e,true)}if(o){t=[s,...t]}else{t=[...t,s]}this.bindings[e]=t}}return this}off(e,t){if(e){const o=e.toLowerCase().split(" ");let n=o.length;while(n--){const s=o[n];let r=this.bindings[s];if(!s){xe(this.bindings,((e,t)=>{this.toggleEvent(t,false);delete this.bindings[t]}));return this}if(r){if(!t){r.length=0}else{const e=te(r,(e=>e.func===t));r=e.fail;this.bindings[s]=r;Q(e.pass,(e=>{e.removed=true}))}if(!r.length){this.toggleEvent(e,false);delete this.bindings[s]}}}}else{xe(this.bindings,((e,t)=>{this.toggleEvent(t,false)}));this.bindings={}}return this}once(e,t,o){return this.on(e,t,o,{once:true})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||t.length===0)}}const DG=e=>{if(!e._eventDispatcher){e._eventDispatcher=new EG({scope:e,toggleEvent:(t,o)=>{if(EG.isNative(t)&&e.toggleNativeEvent){e.toggleNativeEvent(t,o)}}})}return e._eventDispatcher};const AG={fire(e,t,o){return this.dispatch(e,t,o)},dispatch(e,t,o){const n=this;if(n.removed&&e!=="remove"&&e!=="detach"){return mi(e.toLowerCase(),t!==null&&t!==void 0?t:{},n)}const s=DG(n).dispatch(e,t);if(o!==false&&n.parent){let t=n.parent();while(t&&!s.isPropagationStopped()){t.dispatch(e,s,false);t=t.parent?t.parent():undefined}}return s},on(e,t,o){return DG(this).on(e,t,o)},off(e,t){return DG(this).off(e,t)},once(e,t){return DG(this).once(e,t)},hasEventListeners(e){return DG(this).has(e)}};const NG=Mi.DOM;let MG;const RG=(e,t)=>{if(t==="selectionchange"){return e.getDoc()}if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)){return e.getDoc().documentElement}const o=rf(e);if(o){if(!e.eventRoot){e.eventRoot=NG.select(o)[0]}return e.eventRoot}return e.getBody()};const BG=e=>!e.hidden&&!vG(e);const LG=(e,t,o)=>{if(BG(e)){e.dispatch(t,o)}else if(vG(e)){zG(e,o)}};const HG=(e,t)=>{if(!e.delegates){e.delegates={}}if(e.delegates[t]||e.removed){return}const o=RG(e,t);if(rf(e)){if(!MG){MG={};e.editorManager.on("removeEditor",(()=>{if(!e.editorManager.activeEditor){if(MG){xe(MG,((t,o)=>{e.dom.unbind(RG(e,o))}));MG=null}}}))}if(MG[t]){return}const n=o=>{const n=o.target;const s=e.editorManager.get();let r=s.length;while(r--){const e=s[r].getBody();if(e===n||NG.isChildOf(n,e)){LG(s[r],t,o)}}};MG[t]=n;NG.bind(o,t,n)}else{const n=o=>{LG(e,t,o)};NG.bind(o,t,n);e.delegates[t]=n}};const IG={...AG,bindPendingEventDelegates(){const e=this;mo.each(e._pendingNativeEvents,(t=>{HG(e,t)}))},toggleNativeEvent(e,t){const o=this;if(e==="focus"||e==="blur"){return}if(o.removed){return}if(t){if(o.initialized){HG(o,e)}else{if(!o._pendingNativeEvents){o._pendingNativeEvents=[e]}else{o._pendingNativeEvents.push(e)}}}else if(o.initialized&&o.delegates){o.dom.unbind(RG(o,e),e,o.delegates[e]);delete o.delegates[e]}},unbindAllNativeEvents(){const e=this;const t=e.getBody();const o=e.dom;if(e.delegates){xe(e.delegates,((t,o)=>{e.dom.unbind(RG(e,o),o,t)}));delete e.delegates}if(!e.inline&&t&&o){t.onload=null;o.unbind(e.getWin());o.unbind(e.getDoc())}if(o){o.unbind(t);o.unbind(e.getContainer())}}};const PG=e=>{if(v(e)){return{value:e.split(/[ ,]/),valid:true}}else if(D(e,v)){return{value:e,valid:true}}else{return{valid:false,message:`The value must be a string[] or a comma/space separated string.`}}};const FG=e=>{const t=(()=>{switch(e){case"array":return _;case"boolean":return C;case"function":return T;case"number":return E;case"object":return k;case"string":return v;case"string[]":return PG;case"object[]":return e=>D(e,k);case"regexp":return e=>b(e,RegExp);default:return Z}})();return o=>UG(o,t,`The value must be a ${e}.`)};const VG=e=>v(e.processor);const jG=(e,t)=>{const o=ht(t.message)?"":`. ${t.message}`;return e+o};const ZG=e=>e.valid;const UG=(e,t,o="")=>{const n=t(e);if(C(n)){return n?{value:e,valid:true}:{valid:false,message:o}}else{return n}};const qG=(e,t,o)=>{if(!S(t)){const n=UG(t,o);if(ZG(n)){return n.value}else{console.error(jG(`Invalid default value passed for the "${e}" option`,n))}}return undefined};const WG=(e,t)=>{const o={};const n={};const s=(e,t,o)=>{const s=UG(t,o);if(ZG(s)){n[e]=s.value;return true}else{console.warn(jG(`Invalid value passed for the ${e} option`,s));return false}};const r=(e,r)=>{const a=VG(r)?FG(r.processor):r.processor;const c=qG(e,r.default,a);o[e]={...r,default:c,processor:a};const i=Ne(n,e).orThunk((()=>Ne(t,e)));i.each((t=>s(e,t,a)))};const a=e=>Me(o,e);const c=e=>Ne(n,e).orThunk((()=>Ne(o,e).map((e=>e.default)))).getOrUndefined();const i=(e,t)=>{if(!a(e)){console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`);return false}else{const n=o[e];if(n.immutable){console.error(`"${e}" is an immutable option and cannot be updated`);return false}else{return s(e,t,n.processor)}}};const l=e=>{const t=a(e);if(t){delete n[e]}return t};const d=e=>Me(n,e);return{register:r,isRegistered:a,get:c,set:i,unset:l,isSet:d}};const $G=["design","readonly"];const GG=(e,t,o,n)=>{const s=o[t.get()];const r=o[n];try{r.activate()}catch(e){console.error(`problem while activating editor mode ${n}:`,e);return}s.deactivate();if(s.editorReadOnly!==r.editorReadOnly){bG(e,r.editorReadOnly)}t.set(n);Uh(e,n)};const KG=(e,t,o,n)=>{if(n===o.get()){return}else if(!Me(t,n)){throw new Error(`Editor mode '${n}' is invalid`)}if(e.initialized){GG(e,o,t,n)}else{e.on("init",(()=>GG(e,o,t,n)))}};const YG=(e,t,o)=>{if(Y($G,t)){throw new Error(`Cannot override default mode ${t}`)}return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}};const XG=e=>{const t=Fi("design");const o=Fi({design:{activate:A,deactivate:A,editorReadOnly:false},readonly:{activate:A,deactivate:A,editorReadOnly:true}});wG(e);OG(e);return{isReadOnly:()=>vG(e),set:n=>KG(e,o.get(),t,n),get:()=>t.get(),register:(e,t)=>{o.set(YG(o.get(),e,t))}}};const JG=mo.each,QG=mo.explode;const eK={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123};const tK=mo.makeMap("alt,ctrl,shift,meta,access");const oK=e=>e in tK;const nK=e=>{const t={};const o=to.os.isMacOS()||to.os.isiOS();JG(QG(e.toLowerCase(),"+"),(e=>{if(oK(e)){t[e]=true}else{if(/^[0-9]{2,}$/.test(e)){t.keyCode=parseInt(e,10)}else{t.charCode=e.charCodeAt(0);t.keyCode=eK[e]||e.toUpperCase().charCodeAt(0)}}}));const n=[t.keyCode];let s;for(s in tK){if(t[s]){n.push(s)}else{t[s]=false}}t.id=n.join(",");if(t.access){t.alt=true;if(o){t.ctrl=true}else{t.shift=true}}if(t.meta){if(o){t.meta=true}else{t.ctrl=true;t.meta=false}}return t};class sK{constructor(e){this.shortcuts={};this.pendingPatterns=[];this.editor=e;const t=this;e.on("keyup keypress keydown",(e=>{if((t.hasModifier(e)||t.isFunctionKey(e))&&!e.isDefaultPrevented()){JG(t.shortcuts,(o=>{if(t.matchShortcut(e,o)){t.pendingPatterns=o.subpatterns.slice(0);if(e.type==="keydown"){t.executeShortcutAction(o)}}}));if(t.matchShortcut(e,t.pendingPatterns[0])){if(t.pendingPatterns.length===1){if(e.type==="keydown"){t.executeShortcutAction(t.pendingPatterns[0])}}t.pendingPatterns.shift()}}}))}add(e,t,o,n){const s=this;const r=s.normalizeCommandFunc(o);JG(QG(mo.trim(e)),(e=>{const o=s.createShortcut(e,t,r,n);s.shortcuts[o.id]=o}));return true}remove(e){const t=this.createShortcut(e);if(this.shortcuts[t.id]){delete this.shortcuts[t.id];return true}return false}normalizeCommandFunc(e){const t=this;const o=e;if(typeof o==="string"){return()=>{t.editor.execCommand(o,false,null)}}else if(mo.isArray(o)){return()=>{t.editor.execCommand(o[0],o[1],o[2])}}else{return o}}createShortcut(e,t,o,n){const s=mo.map(QG(e,">"),nK);s[s.length-1]=mo.extend(s[s.length-1],{func:o,scope:n||this.editor});return mo.extend(s[0],{desc:this.editor.translate(t),subpatterns:s.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return e.type==="keydown"&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){if(!t){return false}if(t.ctrl!==e.ctrlKey||t.meta!==e.metaKey){return false}if(t.alt!==e.altKey||t.shift!==e.shiftKey){return false}if(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode){e.preventDefault();return true}return false}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const rK=()=>{const e={};const t={};const o={};const n={};const s={};const r={};const a={};const c={};const i=(e,t)=>(o,n)=>{e[o.toLowerCase()]={...n,type:t}};const l=(e,t)=>n[e.toLowerCase()]=t;return{addButton:i(e,"button"),addGroupToolbarButton:i(e,"grouptoolbarbutton"),addToggleButton:i(e,"togglebutton"),addMenuButton:i(e,"menubutton"),addSplitButton:i(e,"splitbutton"),addMenuItem:i(t,"menuitem"),addNestedMenuItem:i(t,"nestedmenuitem"),addToggleMenuItem:i(t,"togglemenuitem"),addAutocompleter:i(o,"autocompleter"),addContextMenu:i(s,"contextmenu"),addContextToolbar:i(r,"contexttoolbar"),addContextForm:i(r,"contextform"),addSidebar:i(a,"sidebar"),addView:i(c,"views"),addIcon:l,getAll:()=>({buttons:e,menuItems:t,icons:n,popups:o,contextMenus:s,contextToolbars:r,sidebars:a,views:c})}};const aK=()=>{const e=rK();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}};const cK=Mi.DOM;const iK=mo.extend,lK=mo.each;class dK{constructor(e,t,o){this.plugins={};this.contentCSS=[];this.contentStyles=[];this.loadedCSS={};this.isNotDirty=false;this.composing=false;this.destroyed=false;this.hasHiddenInput=false;this.iframeElement=null;this.initialized=false;this.readonly=false;this.removed=false;this.startContent="";this._pendingNativeEvents=[];this._skinLoaded=false;this.editorManager=o;this.documentBaseUrl=o.documentBaseURL;iK(this,IG);const n=this;this.id=e;this.hidden=false;const s=y$(o.defaultOptions,t);this.options=WG(n,s);wu(n);const r=this.options.get;if(r("deprecation_warnings")){kA(t,s)}const a=r("suffix");if(a){o.suffix=a}this.suffix=o.suffix;const c=r("base_url");if(c){o._setBaseUrl(c)}this.baseUri=o.baseURI;const i=Wu(n);if(i){Pi.ScriptLoader._setReferrerPolicy(i);Mi.DOM.styleSheetLoader._setReferrerPolicy(i)}const l=zf(n);if(O(l)){Mi.DOM.styleSheetLoader._setContentCssCors(l)}el.languageLoad=r("language_load");el.baseURL=o.baseURL;this.setDirty(false);this.documentBaseURI=new pT(Cu(n),{base_uri:this.baseUri});this.baseURI=this.baseUri;this.inline=bf(n);this.hasVisual=Df(n);this.shortcuts=new sK(this);this.editorCommands=new lG(this);aG(this);const d=r("cache_suffix");if(d){to.cacheSuffix=d.replace(/^[\?\&]+/,"")}this.ui={registry:aK(),styleSheetLoader:undefined,show:A,hide:A,setEnabled:A,isEnabled:Z};this.mode=XG(n);o.dispatch("SetupEditor",{editor:this});const u=Rf(n);if(T(u)){u.call(n,n)}}render(){e$(this)}focus(e){this.execCommand("mceFocus",false,e)}hasFocus(){return Fv(this)}translate(e){return Qi.translate(e)}getParam(e,t,o){const n=this.options;if(!n.isRegistered(e)){if(O(o)){n.register(e,{processor:o,default:t})}else{n.register(e,{processor:Z,default:t})}}return!n.isSet(e)&&!S(t)?t:n.get(e)}hasPlugin(e,t){const o=Y(Of(this),e);if(o){return t?qA.get(e)!==undefined:true}else{return false}}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,o){this.editorCommands.addCommand(e,t,o)}addQueryStateHandler(e,t,o){this.editorCommands.addQueryStateHandler(e,t,o)}addQueryValueHandler(e,t,o){this.editorCommands.addQueryValueHandler(e,t,o)}addShortcut(e,t,o,n){this.shortcuts.add(e,t,o,n)}execCommand(e,t,o,n){return this.editorCommands.execCommand(e,t,o,n)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;if(e.hidden){e.hidden=false;if(e.inline){e.getBody().contentEditable="true"}else{cK.show(e.getContainer());cK.hide(e.id)}e.load();e.dispatch("show")}}hide(){const e=this;if(!e.hidden){e.save();if(e.inline){e.getBody().contentEditable="false";if(e===e.editorManager.focusedEditor){e.editorManager.focusedEditor=null}}else{cK.hide(e.getContainer());cK.setStyle(e.id,"display",e.orgDisplay)}e.hidden=true;e.dispatch("hide")}}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){const t=this;const o=t.getElement();if(t.removed){return""}if(o){const n={...e,load:true};const s=rr(o)?o.value:o.innerHTML;const r=t.setContent(s,n);if(!n.no_events){t.dispatch("LoadContent",{...n,element:o})}return r}else{return""}}save(e={}){const t=this;let o=t.getElement();if(!o||!t.initialized||t.removed){return""}const n={...e,save:true,element:o};let s=t.getContent(n);const r={...n,content:s};if(!r.no_events){t.dispatch("SaveContent",r)}if(r.format==="raw"){t.dispatch("RawSaveContent",r)}s=r.content;if(!rr(o)){if(e.is_removing||!t.inline){o.innerHTML=s}const n=cK.getParent(t.id,"form");if(n){lK(n.elements,(e=>{if(e.name===t.id){e.value=s;return false}else{return true}}))}}else{o.value=s}r.element=n.element=o=null;if(r.set_dirty!==false){t.setDirty(false)}return s}setContent(e,t){return gA(this,e,t)}getContent(e){return uA(this,e)}insertContent(e,t){if(t){e=iK({content:e},t)}this.execCommand("mceInsertContent",false,e)}resetContent(e){if(e===undefined){gA(this,this.startContent,{format:"raw"})}else{gA(this,e)}this.undoManager.reset();this.setDirty(false);this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e;if(e&&e!==t){this.dispatch("dirty")}}getContainer(){const e=this;if(!e.container){e.container=e.editorContainer||cK.get(e.id+"_parent")}return e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){if(!this.targetElm){this.targetElm=cK.get(this.id)}return this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;if(t){e.contentWindow=t.contentWindow}}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();if(t){e.contentDocument=t.document}}return e.contentDocument}getBody(){var e,t;const o=this.getDoc();return(t=(e=this.bodyElement)!==null&&e!==void 0?e:o===null||o===void 0?void 0:o.body)!==null&&t!==void 0?t:null}convertURL(e,t,o){const n=this,s=n.options.get;const r=Lf(n);if(T(r)){return r.call(n,e,o,true,t)}if(!s("convert_urls")||o==="link"||k(o)&&o.nodeName==="LINK"||e.indexOf("file:")===0||e.length===0){return e}if(s("relative_urls")){return n.documentBaseURI.toRelative(e)}e=n.documentBaseURI.toAbsolute(e,s("remove_script_host"));return e}addVisual(e){b$(this,e)}remove(){zA(this)}destroy(e){OA(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const uK=Mi.DOM;const fK=mo.each;let mK=false;let gK;let pK=[];const hK=e=>{const t=e.type;fK(wK.get(),(o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}}))};const yK=e=>{if(e!==mK){const t=Mi.DOM;if(e){t.bind(window,"resize",hK);t.bind(window,"scroll",hK)}else{t.unbind(window,"resize",hK);t.unbind(window,"scroll",hK)}mK=e}};const bK=e=>{const t=pK;pK=oe(pK,(t=>e!==t));if(wK.activeEditor===e){wK.activeEditor=pK.length>0?pK[0]:null}if(wK.focusedEditor===e){wK.focusedEditor=null}return t.length!==pK.length};const vK=e=>{if(e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode){bK(e);e.unbindAllNativeEvents();e.destroy(true);e.removed=true}};const kK=document.compatMode!=="CSS1Compat";const wK={...AG,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"3.1",releaseDate:"2022-12-06",i18n:Qi,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="";let o="";let n=pT.getDocumentBaseUrl(document.location);if(/^[^:]+:\/\/\/?[^\/]+\//.test(n)){n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(n)){n+="/"}}const s=window.tinymce||window.tinyMCEPreInit;if(s){t=s.base||s.baseURL;o=s.suffix}else{const e=document.getElementsByTagName("script");for(let n=0;n<e.length;n++){const s=e[n].src||"";if(s===""){continue}const r=s.substring(s.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(s)){if(r.indexOf(".min")!==-1){o=".min"}t=s.substring(0,s.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;if(e.indexOf(".min")!==-1){o=".min"}t=e.substring(0,e.lastIndexOf("/"))}}e.baseURL=new pT(n).toAbsolute(t);e.documentBaseURL=n;e.baseURI=new pT(e.baseURL);e.suffix=o;Dv(e)},overrideDefaults(e){const t=e.base_url;if(t){this._setBaseUrl(t)}const o=e.suffix;if(o){this.suffix=o}this.defaultOptions=e;const n=e.plugin_base_urls;if(n!==undefined){xe(n,((e,t)=>{el.PluginManager.urls[t]=e}))}},init(e){const t=this;let o;const n=mo.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track "+"colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");const s=(e,t)=>e.inline&&t.tagName.toLowerCase()in n;const r=e=>{let t=e.id;if(!t){t=Ne(e,"name").filter((e=>!uK.get(e))).getOrThunk(uK.uniqueId);e.setAttribute("id",t)}return t};const a=o=>{const n=e[o];if(!n){return}return n.apply(t,[])};const c=e=>{if(to.browser.isIE()||to.browser.isEdge()){aN("TinyMCE does not support the browser you are using. For a list of supported"+" browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers");return[]}else if(kK){aN("Failed to initialize the editor as the document is not in standards mode. "+"TinyMCE requires standards mode.");return[]}else if(v(e.selector)){return uK.select(e.selector)}else if(O(e.target)){return[e.target]}else{return[]}};let i=e=>{o=e};const l=()=>{let o=0;const n=[];let d;const u=(e,s,r)=>{const a=new dK(e,s,t);n.push(a);a.on("init",(()=>{if(++o===d.length){i(n)}}));a.targetElm=a.targetElm||r;a.render()};uK.unbind(window,"ready",l);a("onpageload");d=ke(c(e));mo.each(d,(e=>{vK(t.get(e.id))}));d=mo.grep(d,(e=>!t.get(e.id)));if(d.length===0){i([])}else{fK(d,(t=>{if(s(e,t)){aN("Could not initialize inline editor on invalid inline target element",t)}else{u(r(t),e,t)}}))}};uK.bind(window,"ready",l);return new Promise((e=>{if(o){e(o)}else{i=t=>{e(t)}}}))},get(e){if(arguments.length===0){return pK.slice(0)}else if(v(e)){return ae(pK,(t=>t.id===e)).getOr(null)}else if(E(e)){return pK[e]?pK[e]:null}else{return null}},add(e){const t=this;const o=t.get(e.id);if(o===e){return e}if(o===null){pK.push(e)}yK(true);t.activeEditor=e;t.dispatch("AddEditor",{editor:e});if(!gK){gK=e=>{const o=t.dispatch("BeforeUnload");if(o.returnValue){e.preventDefault();e.returnValue=o.returnValue;return o.returnValue}};window.addEventListener("beforeunload",gK)}return e},createEditor(e,t){return this.add(new dK(e,t,this))},remove(e){const t=this;let o;if(!e){for(let e=pK.length-1;e>=0;e--){t.remove(pK[e])}return}if(v(e)){fK(uK.select(e),(e=>{o=t.get(e.id);if(o){t.remove(o)}}));return}o=e;if(x(t.get(o.id))){return null}if(bK(o)){t.dispatch("RemoveEditor",{editor:o})}if(pK.length===0){window.removeEventListener("beforeunload",gK)}o.remove();yK(pK.length>0);return o},execCommand(e,t,o){var n;const s=this;const r=k(o)?(n=o.id)!==null&&n!==void 0?n:o.index:o;switch(e){case"mceAddEditor":{if(!s.get(r)){const e=o.options;new dK(r,e,s).render()}return true}case"mceRemoveEditor":{const e=s.get(r);if(e){e.remove()}return true}case"mceToggleEditor":{const e=s.get(r);if(!e){s.execCommand("mceAddEditor",false,o);return true}if(e.isHidden()){e.show()}else{e.hide()}return true}}if(s.activeEditor){return s.activeEditor.execCommand(e,t,o)}return false},triggerSave:()=>{fK(pK,(e=>{e.save()}))},addI18n:(e,t)=>{Qi.add(e,t)},translate:e=>Qi.translate(e),setActive(e){const t=this.activeEditor;if(this.activeEditor!==e){if(t){t.dispatch("deactivate",{relatedTarget:e})}e.dispatch("activate",{relatedTarget:t})}this.activeEditor=e},_setBaseUrl(e){this.baseURL=new pT(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,""));this.baseURI=new pT(this.baseURL)}};wK.setup();const _K=()=>{const e=nl();const t=e=>({items:e,types:we(e),getType:t=>Ne(e,t).getOrUndefined()});const o=t=>{e.set(t)};const n=()=>e.get().getOrUndefined();const s=e.clear;return{FakeClipboardItem:t,write:o,read:n,clear:s}};const xK=_K();const CK=Math.min,SK=Math.max,zK=Math.round;const OK=(e,t,o)=>{let n=t.x;let s=t.y;const r=e.w;const a=e.h;const c=t.w;const i=t.h;const l=(o||"").split("");if(l[0]==="b"){s+=i}if(l[1]==="r"){n+=c}if(l[0]==="c"){s+=zK(i/2)}if(l[1]==="c"){n+=zK(c/2)}if(l[3]==="b"){s-=a}if(l[4]==="r"){n-=r}if(l[3]==="c"){s-=zK(a/2)}if(l[4]==="c"){n-=zK(r/2)}return NK(n,s,r,a)};const TK=(e,t,o,n)=>{for(let s=0;s<n.length;s++){const r=OK(e,t,n[s]);if(r.x>=o.x&&r.x+r.w<=o.w+o.x&&r.y>=o.y&&r.y+r.h<=o.h+o.y){return n[s]}}return null};const EK=(e,t,o)=>NK(e.x-t,e.y-o,e.w+t*2,e.h+o*2);const DK=(e,t)=>{const o=SK(e.x,t.x);const n=SK(e.y,t.y);const s=CK(e.x+e.w,t.x+t.w);const r=CK(e.y+e.h,t.y+t.h);if(s-o<0||r-n<0){return null}return NK(o,n,s-o,r-n)};const AK=(e,t,o)=>{let n=e.x;let s=e.y;let r=e.x+e.w;let a=e.y+e.h;const c=t.x+t.w;const i=t.y+t.h;const l=SK(0,t.x-n);const d=SK(0,t.y-s);const u=SK(0,r-c);const f=SK(0,a-i);n+=l;s+=d;if(o){r+=l;a+=d;n-=u;s-=f}r-=u;a-=f;return NK(n,s,r-n,a-s)};const NK=(e,t,o,n)=>({x:e,y:t,w:o,h:n});const MK=e=>NK(e.left,e.top,e.width,e.height);const RK={inflate:EK,relativePosition:OK,findBestRelativePosition:TK,intersect:DK,clamp:AK,create:NK,fromClientRect:MK};const BK=(e,t,o=1e3)=>{let n=false;let s=null;const r=e=>(...t)=>{if(!n){n=true;if(s!==null){clearTimeout(s);s=null}e.apply(null,t)}};const a=r(e);const c=r(t);const i=(...e)=>{if(!n&&s===null){s=setTimeout((()=>c.apply(null,e)),o)}};return{start:i,resolve:a,reject:c}};const LK=()=>{const e={};const t={};const o=(o,n)=>{const s=`Script at URL "${n}" failed to load`;const r=`Script at URL "${n}" did not call \`tinymce.Resource.add('${o}', data)\` within 1 second`;if(e[o]!==undefined){return e[o]}else{const a=new Promise(((e,a)=>{const c=BK(e,a);t[o]=c.resolve;Pi.ScriptLoader.loadScript(n).then((()=>c.start(r)),(()=>c.reject(s)))}));e[o]=a;return a}};const n=(o,n)=>{if(t[o]!==undefined){t[o](n);delete t[o]}e[o]=Promise.resolve(n)};const s=t=>{delete e[t]};return{load:o,add:n,unload:s}};const HK=LK();const IK=()=>(()=>{let e={};let t=[];const o={getItem:t=>{const o=e[t];return o?o:null},setItem:(o,n)=>{t.push(o);e[o]=String(n)},key:e=>t[e],removeItem:o=>{t=t.filter((e=>e===o));delete e[o]},clear:()=>{t=[];e={}},length:0};Object.defineProperty(o,"length",{get:()=>t.length,configurable:false,enumerable:false});return o})();let PK;try{const e="__storage_test__";PK=window.localStorage;PK.setItem(e,e);PK.removeItem(e)}catch(e){PK=IK()}var FK=PK;const VK={geom:{Rect:RK},util:{Delay:hv,Tools:mo,VK:dy,URI:pT,EventDispatcher:EG,Observable:AG,I18n:Qi,LocalStorage:FK,ImageUploader:CN},dom:{EventUtils:wi,TreeWalker:Ws,TextSeeker:Al,DOMUtils:Mi,ScriptLoader:Pi,RangeUtils:hb,Serializer:iA,StyleSheetLoader:bc,ControlSelection:yy,BookmarkManager:Ih,Selection:KD,Event:wi.Event},html:{Styles:ci,Entities:Wc,Node:pk,Schema:ai,DomParser:OT,Writer:Ek,Serializer:Dk},Env:to,AddOnManager:el,Annotator:Hh,Formatter:FN,UndoManager:UN,EditorCommands:lG,WindowManager:GA,NotificationManager:UA,EditorObservable:IG,Shortcuts:sK,Editor:dK,FocusManager:mv,EditorManager:wK,DOM:Mi.DOM,ScriptLoader:Pi.ScriptLoader,PluginManager:qA,ThemeManager:WA,ModelManager:DA,IconManager:EA,Resource:HK,FakeClipboard:xK,trim:mo.trim,isArray:mo.isArray,is:mo.is,toArray:mo.toArray,makeMap:mo.makeMap,each:mo.each,map:mo.map,grep:mo.grep,inArray:mo.inArray,extend:mo.extend,walk:mo.walk,resolve:mo.resolve,explode:mo.explode,_addCacheSuffix:mo._addCacheSuffix};const jK=mo.extend(wK,VK);const ZK=t=>{if(true){try{e.exports=t}catch(e){}}};const UK=e=>{window.tinymce=e;window.tinyMCE=e};UK(jK);ZK(jK)})()},()=>{tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})},(e,t,o)=>{o(4)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=e=>t=>e===t;const a=n("string");const c=n("object");const i=n("array");const l=r(null);const d=s("boolean");const u=r(undefined);const f=e=>e===null||e===undefined;const m=e=>!f(e);const g=s("function");const p=s("number");const h=()=>{};const y=(e,t)=>(...o)=>e(t.apply(null,o));const b=(e,t)=>o=>e(t(o));const v=e=>()=>e;const k=e=>e;const w=(e,t)=>e===t;function _(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const x=e=>t=>!e(t);const C=e=>()=>{throw new Error(e)};const S=e=>e();const z=v(false);const O=v(true);class T{constructor(e,t){this.tag=e;this.value=t}static some(e){return new T(true,e)}static none(){return T.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return T.some(e(this.value))}else{return T.none()}}bind(e){if(this.tag){return e(this.value)}else{return T.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return T.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return m(e)?T.some(e):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}T.singletonNone=new T(false);const E=Array.prototype.slice;const D=Array.prototype.indexOf;const A=Array.prototype.push;const N=(e,t)=>D.call(e,t);const M=(e,t)=>N(e,t)>-1;const R=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const B=(e,t)=>{const o=[];for(let n=0;n<e;n++){o.push(t(n))}return o};const L=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const H=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const I=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}};const P=(e,t)=>{const o=[];const n=[];for(let s=0,r=e.length;s<r;s++){const r=e[s];const a=t(r,s)?o:n;a.push(r)}return{pass:o,fail:n}};const F=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const V=(e,t,o)=>{I(e,((e,n)=>{o=t(o,e,n)}));return o};const j=(e,t,o)=>{H(e,((e,n)=>{o=t(o,e,n)}));return o};const Z=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return T.some(s)}else if(o(s,n)){break}}return T.none()};const U=(e,t)=>Z(e,t,z);const q=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return T.some(o)}}return T.none()};const W=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!i(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}A.apply(t,e[o])}return t};const $=(e,t)=>W(L(e,t));const G=(e,t)=>{for(let o=0,n=e.length;o<n;++o){const n=e[o];if(t(n,o)!==true){return false}}return true};const K=e=>{const t=E.call(e,0);t.reverse();return t};const Y=(e,t)=>{const o={};for(let n=0,s=e.length;n<s;n++){const s=e[n];o[String(s)]=t(s,n)}return o};const X=(e,t)=>{const o=E.call(e,0);o.sort(t);return o};const J=(e,t)=>t>=0&&t<e.length?T.some(e[t]):T.none();const Q=e=>J(e,0);const ee=e=>J(e,e.length-1);const te=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return T.none()};const oe=Object.keys;const ne=Object.hasOwnProperty;const se=(e,t)=>{const o=oe(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const re=(e,t)=>ae(e,((e,o)=>({k:o,v:t(e,o)})));const ae=(e,t)=>{const o={};se(e,((e,n)=>{const s=t(e,n);o[s.k]=s.v}));return o};const ce=e=>(t,o)=>{e[o]=t};const ie=(e,t,o,n)=>{se(e,((e,s)=>{(t(e,s)?o:n)(e,s)}))};const le=(e,t)=>{const o={};ie(e,t,ce(o),h);return o};const de=(e,t)=>{const o=[];se(e,((e,n)=>{o.push(t(e,n))}));return o};const ue=e=>de(e,k);const fe=(e,t)=>me(e,t)?T.from(e[t]):T.none();const me=(e,t)=>ne.call(e,t);const ge=(e,t)=>me(e,t)&&e[t]!==undefined&&e[t]!==null;const pe=e=>{for(const t in e){if(ne.call(e,t)){return false}}return true};typeof window!=="undefined"?window:Function("return this;")();const he=8;const ye=9;const be=11;const ve=1;const ke=3;const we=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const _e=e=>e.dom.nodeType;const xe=e=>t=>_e(t)===e;const Ce=e=>_e(e)===he||we(e)==="#comment";const Se=xe(ve);const ze=xe(ke);const Oe=xe(ye);const Te=xe(be);const Ee=e=>t=>Se(t)&&we(t)===e;const De=(e,t,o)=>{if(a(o)||d(o)||p(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const Ae=(e,t,o)=>{De(e.dom,t,o)};const Ne=(e,t)=>{const o=e.dom;se(t,((e,t)=>{De(o,t,e)}))};const Me=(e,t)=>{se(t,((t,o)=>{t.fold((()=>{Le(e,o)}),(t=>{De(e.dom,o,t)}))}))};const Re=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?undefined:o};const Be=(e,t)=>T.from(Re(e,t));const Le=(e,t)=>{e.dom.removeAttribute(t)};const He=e=>j(e.dom.attributes,((e,t)=>{e[t.name]=t.value;return e}),{});const Ie=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return Ve(n.childNodes[0])};const Pe=(e,t)=>{const o=t||document;const n=o.createElement(e);return Ve(n)};const Fe=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return Ve(n)};const Ve=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const je=(e,t,o)=>T.from(e.dom.elementFromPoint(t,o)).map(Ve);const Ze={fromHtml:Ie,fromTag:Pe,fromText:Fe,fromDom:Ve,fromPoint:je};const Ue=(e,t)=>{const o=e.dom;if(o.nodeType!==ve){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const qe=e=>e.nodeType!==ve&&e.nodeType!==ye&&e.nodeType!==be||e.childElementCount===0;const We=(e,t)=>{const o=t===undefined?document:t.dom;return qe(o)?[]:L(o.querySelectorAll(e),Ze.fromDom)};const $e=(e,t)=>{const o=t===undefined?document:t.dom;return qe(o)?T.none():T.from(o.querySelector(e)).map(Ze.fromDom)};const Ge=(e,t)=>e.dom===t.dom;const Ke=(e,t)=>{const o=e.dom;const n=t.dom;return o===n?false:o.contains(n)};const Ye=Ue;const Xe=e=>Ze.fromDom(e.dom.ownerDocument);const Je=e=>Oe(e)?e:Xe(e);const Qe=e=>Ze.fromDom(Je(e).dom.documentElement);const et=e=>Ze.fromDom(Je(e).dom.defaultView);const tt=e=>T.from(e.dom.parentNode).map(Ze.fromDom);const ot=e=>T.from(e.dom.parentElement).map(Ze.fromDom);const nt=(e,t)=>{const o=g(t)?t:z;let n=e.dom;const s=[];while(n.parentNode!==null&&n.parentNode!==undefined){const e=n.parentNode;const t=Ze.fromDom(e);s.push(t);if(o(t)===true){break}else{n=e}}return s};const st=e=>T.from(e.dom.previousSibling).map(Ze.fromDom);const rt=e=>T.from(e.dom.nextSibling).map(Ze.fromDom);const at=e=>L(e.dom.childNodes,Ze.fromDom);const ct=(e,t)=>{const o=e.dom.childNodes;return T.from(o[t]).map(Ze.fromDom)};const it=e=>ct(e,0);const lt=(e,t)=>{const o=tt(e);o.each((o=>{o.dom.insertBefore(t.dom,e.dom)}))};const dt=(e,t)=>{const o=rt(e);o.fold((()=>{const o=tt(e);o.each((e=>{ft(e,t)}))}),(e=>{lt(e,t)}))};const ut=(e,t)=>{const o=it(e);o.fold((()=>{ft(e,t)}),(o=>{e.dom.insertBefore(t.dom,o.dom)}))};const ft=(e,t)=>{e.dom.appendChild(t.dom)};const mt=(e,t,o)=>{ct(e,o).fold((()=>{ft(e,t)}),(e=>{lt(e,t)}))};const gt=(e,t)=>{lt(e,t);ft(t,e)};const pt=(e,t)=>{H(t,((o,n)=>{const s=n===0?e:t[n-1];dt(s,o)}))};const ht=(e,t)=>{H(t,(t=>{ft(e,t)}))};const yt=e=>{e.dom.textContent="";H(at(e),(e=>{bt(e)}))};const bt=e=>{const t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};const vt=e=>{const t=at(e);if(t.length>0){pt(e,t)}bt(e)};const kt=(e,t)=>Ze.fromDom(e.dom.cloneNode(t));const wt=e=>kt(e,false);const _t=e=>kt(e,true);const xt=(e,t)=>{const o=Ze.fromTag(t);const n=He(e);Ne(o,n);return o};const Ct=(e,t)=>{const o=xt(e,t);const n=at(_t(e));ht(o,n);return o};const St=(e,t)=>{const o=xt(e,t);dt(e,o);const n=at(e);ht(o,n);bt(e);return o};const zt=["tfoot","thead","tbody","colgroup"];const Ot=e=>M(zt,e);const Tt=(e,t)=>({rows:e,columns:t});const Et=(e,t)=>({row:e,column:t});const Dt=(e,t,o)=>({element:e,rowspan:t,colspan:o});const At=(e,t,o,n)=>({element:e,rowspan:t,colspan:o,isNew:n});const Nt=(e,t,o,n,s,r)=>({element:e,rowspan:t,colspan:o,row:n,column:s,isLocked:r});const Mt=(e,t,o)=>({element:e,cells:t,section:o});const Rt=(e,t,o,n)=>({element:e,cells:t,section:o,isNew:n});const Bt=(e,t,o)=>({element:e,isNew:t,isLocked:o});const Lt=(e,t,o,n)=>({element:e,cells:t,section:o,isNew:n});const Ht=(e,t,o,n)=>({startRow:e,startCol:t,finishRow:o,finishCol:n});const It=(e,t,o)=>({element:e,colspan:t,column:o});const Pt=(e,t)=>({element:e,columns:t});const Ft=e=>Te(e)&&m(e.dom.host);const Vt=g(Element.prototype.attachShadow)&&g(Node.prototype.getRootNode);const jt=v(Vt);const Zt=Vt?e=>Ze.fromDom(e.dom.getRootNode()):Je;const Ut=e=>{const t=Zt(e);return Ft(t)?T.some(t):T.none()};const qt=e=>Ze.fromDom(e.dom.host);const Wt=e=>{if(jt()&&m(e.target)){const t=Ze.fromDom(e.target);if(Se(t)&&$t(t)){if(e.composed&&e.composedPath){const t=e.composedPath();if(t){return Q(t)}}}}return T.from(e.target)};const $t=e=>m(e.dom.shadowRoot);const Gt=e=>{const t=ze(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return Ut(Ze.fromDom(t)).fold((()=>o.body.contains(t)),b(Gt,qt))};const Kt=()=>Yt(Ze.fromDom(document));const Yt=e=>{const t=e.dom.body;if(t===null||t===undefined){throw new Error("Body is not available yet")}return Ze.fromDom(t)};const Xt=(e,t,o)=>F(nt(e,o),t);const Jt=(e,t)=>F(at(e),t);const Qt=(e,t)=>{let o=[];H(at(e),(e=>{if(t(e)){o=o.concat([e])}o=o.concat(Qt(e,t))}));return o};const eo=(e,t,o)=>Xt(e,(e=>Ue(e,t)),o);const to=(e,t)=>Jt(e,(e=>Ue(e,t)));const oo=(e,t)=>We(t,e);var no=(e,t,o,n,s)=>{if(e(o,n)){return T.some(o)}else if(g(s)&&s(o)){return T.none()}else{return t(o,n,s)}};const so=(e,t,o)=>{let n=e.dom;const s=g(o)?o:z;while(n.parentNode){n=n.parentNode;const e=Ze.fromDom(n);if(t(e)){return T.some(e)}else if(s(e)){break}}return T.none()};const ro=(e,t,o)=>{const n=(e,t)=>t(e);return no(n,so,e,t,o)};const ao=(e,t)=>{const o=e=>t(Ze.fromDom(e));const n=U(e.dom.childNodes,o);return n.map(Ze.fromDom)};const co=(e,t)=>{const o=e=>{for(let n=0;n<e.childNodes.length;n++){const s=Ze.fromDom(e.childNodes[n]);if(t(s)){return T.some(s)}const r=o(e.childNodes[n]);if(r.isSome()){return r}}return T.none()};return o(e.dom)};const io=(e,t,o)=>so(e,(e=>Ue(e,t)),o);const lo=(e,t)=>ao(e,(e=>Ue(e,t)));const uo=(e,t)=>$e(t,e);const fo=(e,t,o)=>{const n=(e,t)=>Ue(e,t);return no(n,io,e,t,o)};const mo=(e,t,o=w)=>e.exists((e=>o(e,t)));const go=e=>{const t=[];const o=e=>{t.push(e)};for(let t=0;t<e.length;t++){e[t].each(o)}return t};const po=(e,t)=>e!==undefined&&e!==null?t(e):T.none();const ho=(e,t)=>e?T.some(t):T.none();const yo=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const bo=(e,t,o=0,n)=>{const s=e.indexOf(t,o);if(s!==-1){return u(n)?true:s+t.length<=n}else{return false}};const vo=(e,t)=>yo(e,t,0);const ko=(e,t)=>yo(e,t,e.length-t.length);const wo=e=>t=>t.replace(e,"");const _o=wo(/^\s+|\s+$/g);const xo=e=>e.length>0;const Co=e=>{const t=parseFloat(e);return isNaN(t)?T.none():T.some(t)};const So=e=>e.style!==undefined&&g(e.style.getPropertyValue);const zo=(e,t,o)=>{if(!a(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(So(e)){e.style.setProperty(t,o)}};const Oo=(e,t)=>{if(So(e)){e.style.removeProperty(t)}};const To=(e,t,o)=>{const n=e.dom;zo(n,t,o)};const Eo=(e,t)=>{const o=e.dom;se(t,((e,t)=>{zo(o,t,e)}))};const Do=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!Gt(e)?Ao(o,t):s};const Ao=(e,t)=>So(e)?e.style.getPropertyValue(t):"";const No=(e,t)=>{const o=e.dom;const n=Ao(o,t);return T.from(n).filter((e=>e.length>0))};const Mo=(e,t)=>{const o=e.dom;Oo(o,t);if(mo(Be(e,"style").map(_o),"")){Le(e,"style")}};const Ro=(e,t)=>{const o=e.dom;const n=t.dom;if(So(o)&&So(n)){n.style.cssText=o.style.cssText}};const Bo=(e,t,o=0)=>Be(e,t).map((e=>parseInt(e,10))).getOr(o);const Lo=(e,t)=>Bo(e,t,1);const Ho=e=>{if(Ee("col")(e)){return Bo(e,"span",1)>1}else{return Lo(e,"colspan")>1}};const Io=e=>Lo(e,"rowspan")>1;const Po=(e,t)=>parseInt(Do(e,t),10);const Fo=v(10);const Vo=v(10);const jo=(e,t)=>Zo(e,t,O);const Zo=(e,t,o)=>$(at(e),(e=>{if(Ue(e,t)){return o(e)?[e]:[]}else{return Zo(e,t,o)}}));const Uo=(e,t,o=z)=>{if(o(t)){return T.none()}if(M(e,we(t))){return T.some(t)}const n=e=>Ue(e,"table")||o(e);return io(t,e.join(","),n)};const qo=(e,t)=>Uo(["td","th"],e,t);const Wo=e=>jo(e,"th,td");const $o=e=>{if(Ue(e,"colgroup")){return to(e,"col")}else{return $(Yo(e),(e=>to(e,"col")))}};const Go=(e,t)=>fo(e,"table",t);const Ko=e=>jo(e,"tr");const Yo=e=>Go(e).fold(v([]),(e=>to(e,"colgroup")));const Xo=(e,t)=>L(e,(e=>{if(we(e)==="colgroup"){const t=L($o(e),(e=>{const t=Bo(e,"span",1);return Dt(e,1,t)}));return Mt(e,t,"colgroup")}else{const o=L(Wo(e),(e=>{const t=Bo(e,"rowspan",1);const o=Bo(e,"colspan",1);return Dt(e,t,o)}));return Mt(e,o,t(e))}}));const Jo=e=>tt(e).map((e=>{const t=we(e);return Ot(t)?t:"tbody"})).getOr("tbody");const Qo=e=>{const t=Ko(e);const o=Yo(e);const n=[...o,...t];return Xo(n,Jo)};const en=(e,t)=>Xo(e,(()=>t));const tn=e=>{let t=false;let o;return(...n)=>{if(!t){t=true;o=e.apply(null,n)}return o}};const on=(e,t,o,n)=>{const s=e.isiOS()&&/ipad/i.test(o)===true;const r=e.isiOS()&&!s;const a=e.isiOS()||e.isAndroid();const c=a||n("(pointer:coarse)");const i=s||!r&&a&&n("(min-device-width:768px)");const l=r||a&&!i;const d=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===false;const u=!l&&!i&&!d;return{isiPad:v(s),isiPhone:v(r),isTablet:v(i),isPhone:v(l),isTouch:v(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:v(d),isDesktop:v(u)}};const nn=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t)){return n}}return undefined};const sn=(e,t)=>{const o=nn(e,t);if(!o){return{major:0,minor:0}}const n=e=>Number(t.replace(o,"$"+e));return cn(n(1),n(2))};const rn=(e,t)=>{const o=String(t).toLowerCase();if(e.length===0){return an()}return sn(e,o)};const an=()=>cn(0,0);const cn=(e,t)=>({major:e,minor:t});const ln={nu:cn,detect:rn,unknown:an};const dn=(e,t)=>te(t.brands,(t=>{const o=t.brand.toLowerCase();return U(e,(e=>{var t;return o===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:ln.nu(parseInt(t.version,10),0)})))}));const un=(e,t)=>{const o=String(t).toLowerCase();return U(e,(e=>e.search(o)))};const fn=(e,t)=>un(e,t).map((e=>{const o=ln.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const mn=(e,t)=>un(e,t).map((e=>{const o=ln.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const gn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;const pn=e=>t=>bo(t,e);const hn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>bo(e,"edge/")&&bo(e,"chrome")&&bo(e,"safari")&&bo(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,gn],search:e=>bo(e,"chrome")&&!bo(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>bo(e,"msie")||bo(e,"trident")},{name:"Opera",versionRegexes:[gn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:pn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:pn("firefox")},{name:"Safari",versionRegexes:[gn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(bo(e,"safari")||bo(e,"mobile/"))&&bo(e,"applewebkit")}];const yn=[{name:"Windows",search:pn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>bo(e,"iphone")||bo(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:pn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:pn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:pn("linux"),versionRegexes:[]},{name:"Solaris",search:pn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:pn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:pn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];const bn={browsers:v(hn),oses:v(yn)};const vn="Edge";const kn="Chromium";const wn="IE";const _n="Opera";const xn="Firefox";const Cn="Safari";const Sn=()=>zn({current:undefined,version:ln.unknown()});const zn=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isEdge:n(vn),isChromium:n(kn),isIE:n(wn),isOpera:n(_n),isFirefox:n(xn),isSafari:n(Cn)}};const On={unknown:Sn,nu:zn,edge:v(vn),chromium:v(kn),ie:v(wn),opera:v(_n),firefox:v(xn),safari:v(Cn)};const Tn="Windows";const En="iOS";const Dn="Android";const An="Linux";const Nn="macOS";const Mn="Solaris";const Rn="FreeBSD";const Bn="ChromeOS";const Ln=()=>Hn({current:undefined,version:ln.unknown()});const Hn=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isWindows:n(Tn),isiOS:n(En),isAndroid:n(Dn),isMacOS:n(Nn),isLinux:n(An),isSolaris:n(Mn),isFreeBSD:n(Rn),isChromeOS:n(Bn)}};const In={unknown:Ln,nu:Hn,windows:v(Tn),ios:v(En),android:v(Dn),linux:v(An),macos:v(Nn),solaris:v(Mn),freebsd:v(Rn),chromeos:v(Bn)};const Pn=(e,t,o)=>{const n=bn.browsers();const s=bn.oses();const r=t.bind((e=>dn(n,e))).orThunk((()=>fn(n,e))).fold(On.unknown,On.nu);const a=mn(s,e).fold(In.unknown,In.nu);const c=on(a,r,e,o);return{browser:r,os:a,deviceType:c}};const Fn={detect:Pn};const Vn=e=>window.matchMedia(e).matches;let jn=tn((()=>Fn.detect(navigator.userAgent,T.from(navigator.userAgentData),Vn)));const Zn=()=>jn();const Un=(e,t)=>{const o=(t,o)=>{if(!p(o)&&!o.match(/^[0-9]+$/)){throw new Error(e+".set accepts only positive integer values. Value was "+o)}const n=t.dom;if(So(n)){n.style[e]=o+"px"}};const n=o=>{const n=t(o);if(n<=0||n===null){const t=Do(o,e);return parseFloat(t)||0}return n};const s=n;const r=(e,t)=>j(t,((t,o)=>{const n=Do(e,o);const s=n===undefined?0:parseInt(n,10);return isNaN(s)?t:t+s}),0);const a=(e,t,o)=>{const n=r(e,o);const s=t>n?t-n:0;return s};return{set:o,get:n,getOuter:s,aggregate:r,max:a}};const qn=(e,t)=>Co(e).getOr(t);const Wn=(e,t,o)=>qn(Do(e,t),o);const $n=(e,t,o,n)=>{const s=Wn(e,`padding-${o}`,0);const r=Wn(e,`padding-${n}`,0);const a=Wn(e,`border-${o}-width`,0);const c=Wn(e,`border-${n}-width`,0);return t-s-r-a-c};const Gn=(e,t)=>{const o=e.dom;const n=o.getBoundingClientRect().width||o.offsetWidth;return t==="border-box"?n:$n(e,n,"left","right")};const Kn=e=>Wn(e,"height",e.dom.offsetHeight);const Yn=e=>Wn(e,"width",e.dom.offsetWidth);const Xn=e=>Gn(e,"content-box");const Jn=Un("width",(e=>e.dom.offsetWidth));const Qn=e=>Jn.get(e);const es=e=>Jn.getOuter(e);const ts=Xn;const os=Yn;const ns=(e,t,o)=>{const n=e.cells;const s=n.slice(0,t);const r=n.slice(t);const a=s.concat(o).concat(r);return as(e,a)};const ss=(e,t,o)=>ns(e,t,[o]);const rs=(e,t,o)=>{const n=e.cells;n[t]=o};const as=(e,t)=>Lt(e.element,t,e.section,e.isNew);const cs=(e,t)=>{const o=e.cells;const n=L(o,t);return Lt(e.element,n,e.section,e.isNew)};const is=(e,t)=>e.cells[t];const ls=(e,t)=>is(e,t).element;const ds=e=>e.cells.length;const us=e=>{const t=P(e,(e=>e.section==="colgroup"));return{rows:t.fail,cols:t.pass}};const fs=(e,t,o)=>{const n=L(e.cells,o);return Lt(t(e.element),n,e.section,true)};const ms="data-snooker-locked-cols";const gs=e=>Be(e,ms).bind((e=>T.from(e.match(/\d+/g)))).map((e=>Y(e,O)));const ps=e=>{const t=j(us(e).rows,((e,t)=>{H(t.cells,((t,o)=>{if(t.isLocked){e[o]=true}}));return e}),{});const o=de(t,((e,t)=>parseInt(t,10)));return X(o)};const hs=(e,t)=>e+","+t;const ys=(e,t,o)=>T.from(e.access[hs(t,o)]);const bs=(e,t,o)=>{const n=vs(e,(e=>o(t,e.element)));return n.length>0?T.some(n[0]):T.none()};const vs=(e,t)=>{const o=$(e.all,(e=>e.cells));return F(o,t)};const ks=e=>{const t={};let o=0;H(e.cells,(e=>{const n=e.colspan;B(n,(s=>{const r=o+s;t[r]=It(e.element,n,r)}));o+=n}));return t};const ws=e=>{const t={};const o=[];const n=Q(e).map((e=>e.element)).bind(Go);const s=n.bind(gs).getOr({});let r=0;let a=0;let c=0;const{pass:i,fail:l}=P(e,(e=>e.section==="colgroup"));H(l,(e=>{const n=[];H(e.cells,(e=>{let o=0;while(t[hs(c,o)]!==undefined){o++}const r=ge(s,o.toString());const i=Nt(e.element,e.rowspan,e.colspan,c,o,r);for(let n=0;n<e.colspan;n++){for(let s=0;s<e.rowspan;s++){const e=c+s;const r=o+n;const l=hs(e,r);t[l]=i;a=Math.max(a,r+1)}}n.push(i)}));r++;o.push(Mt(e.element,n,e.section));c++}));const{columns:d,colgroups:u}=ee(i).map((e=>{const t=ks(e);const o=Pt(e.element,ue(t));return{colgroups:[o],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}})));const f=Tt(r,a);return{grid:f,access:t,all:o,columns:d,colgroups:u}};const _s=e=>{const t=Qo(e);return ws(t)};const xs=e=>$(e.all,(e=>e.cells));const Cs=e=>ue(e.columns);const Ss=e=>oe(e.columns).length>0;const zs=(e,t)=>T.from(e.columns[t]);const Os={fromTable:_s,generate:ws,getAt:ys,findItem:bs,filterItems:vs,justCells:xs,justColumns:Cs,hasColumns:Ss,getColumnAt:zs};const Ts=(e,t=O)=>{const o=e.grid;const n=B(o.columns,k);const s=B(o.rows,k);return L(n,(o=>{const n=()=>$(s,(t=>Os.getAt(e,t,o).filter((e=>e.column===o)).toArray()));const r=e=>e.colspan===1&&t(e.element);const a=()=>Os.getAt(e,0,o);return Es(n,r,a)}))};const Es=(e,t,o)=>{const n=e();const s=U(n,t);const r=s.orThunk((()=>T.from(n[0]).orThunk(o)));return r.map((e=>e.element))};const Ds=e=>{const t=e.grid;const o=B(t.rows,k);const n=B(t.columns,k);return L(o,(t=>{const o=()=>$(n,(o=>Os.getAt(e,t,o).filter((e=>e.row===t)).fold(v([]),(e=>[e]))));const s=e=>e.rowspan===1;const r=()=>Os.getAt(e,t,0);return Es(o,s,r)}))};const As=(e,t)=>{if(t<0||t>=e.length-1){return T.none()}const o=e[t].fold((()=>{const o=K(e.slice(0,t));return te(o,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>T.some({value:e,delta:0})));const n=e[t+1].fold((()=>{const o=e.slice(t+1);return te(o,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>T.some({value:e,delta:1})));return o.bind((e=>n.map((t=>{const o=t.delta+e.delta;return Math.abs(t.value-e.value)/o}))))};const Ns=(e,t)=>o=>Ms(o)==="rtl"?t:e;const Ms=e=>Do(e,"direction")==="rtl"?"rtl":"ltr";const Rs=Un("height",(e=>{const t=e.dom;return Gt(e)?t.getBoundingClientRect().height:t.offsetHeight}));const Bs=e=>Rs.get(e);const Ls=e=>Rs.getOuter(e);const Hs=Kn;const Is=(e,t)=>{const o=(o,n)=>Is(e+o,t+n);return{left:e,top:t,translate:o}};const Ps=Is;const Fs=e=>{const t=e.getBoundingClientRect();return Ps(t.left,t.top)};const Vs=(e,t)=>{if(e!==undefined){return e}else{return t!==undefined?t:0}};const js=e=>{const t=e.dom.ownerDocument;const o=t.body;const n=t.defaultView;const s=t.documentElement;if(o===e.dom){return Ps(o.offsetLeft,o.offsetTop)}const r=Vs(n===null||n===void 0?void 0:n.pageYOffset,s.scrollTop);const a=Vs(n===null||n===void 0?void 0:n.pageXOffset,s.scrollLeft);const c=Vs(s.clientTop,o.clientTop);const i=Vs(s.clientLeft,o.clientLeft);return Zs(e).translate(a-i,r-c)};const Zs=e=>{const t=e.dom;const o=t.ownerDocument;const n=o.body;if(n===t){return Ps(n.offsetLeft,n.offsetTop)}if(!Gt(e)){return Ps(0,0)}return Fs(t)};const Us=(e,t)=>({row:e,y:t});const qs=(e,t)=>({col:e,x:t});const Ws=e=>{const t=js(e);return t.left+es(e)};const $s=e=>js(e).left;const Gs=(e,t)=>qs(e,$s(t));const Ks=(e,t)=>qs(e,Ws(t));const Ys=e=>js(e).top;const Xs=(e,t)=>Us(e,Ys(t));const Js=(e,t)=>Us(e,Ys(t)+Ls(t));const Qs=(e,t,o)=>{if(o.length===0){return[]}const n=L(o.slice(1),((t,o)=>t.map((t=>e(o,t)))));const s=o[o.length-1].map((e=>t(o.length-1,e)));return n.concat([s])};const er=e=>-e;const tr={delta:k,positions:e=>Qs(Xs,Js,e),edge:Ys};const or={delta:k,edge:$s,positions:e=>Qs(Gs,Ks,e)};const nr={delta:er,edge:Ws,positions:e=>Qs(Ks,Gs,e)};const sr=Ns(or,nr);const rr={delta:(e,t)=>sr(t).delta(e,t),positions:(e,t)=>sr(t).positions(e,t),edge:e=>sr(e).edge(e)};const ar={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]};const cr=(()=>{const e="[0-9]+";const t="[+-]?"+e;const o="[eE]"+t;const n="\\.";const s=e=>`(?:${e})?`;const r=["Infinity",e+n+s(e)+s(o),n+e+s(o),e+s(o)].join("|");const a=`[+-]?(?:${r})`;return new RegExp(`^(${a})(.*)$`)})();const ir=(e,t)=>R(t,(t=>R(ar[t],(t=>e===t))));const lr=(e,t)=>{const o=T.from(cr.exec(e));return o.bind((e=>{const o=Number(e[1]);const n=e[2];if(ir(n,t)){return T.some({value:o,unit:n})}else{return T.none()}}))};const dr=/(\d+(\.\d+)?)%/;const ur=/(\d+(\.\d+)?)px|em/;const fr=Ee("col");const mr=(e,t,o)=>{const n=ot(e).getOrThunk((()=>Yt(Xe(e))));return t(e)/o(n)*100};const gr=(e,t)=>{To(e,"width",t+"px")};const pr=(e,t)=>{To(e,"width",t+"%")};const hr=(e,t)=>{To(e,"height",t+"px")};const yr=e=>Hs(e)+"px";const br=(e,t,o,n)=>{const s=Go(e).map((e=>{const n=o(e);return Math.floor(t/100*n)})).getOr(t);n(e,s);return s};const vr=(e,t,o,n)=>{const s=parseFloat(e);return ko(e,"%")&&we(t)!=="table"?br(t,s,o,n):s};const kr=e=>{const t=yr(e);if(!t){return Bs(e)}return vr(t,e,Bs,hr)};const wr=(e,t,o)=>{const n=o(e);const s=Lo(e,t);return n/s};const _r=(e,t)=>No(e,t).orThunk((()=>Be(e,t).map((e=>e+"px"))));const xr=e=>_r(e,"width");const Cr=e=>_r(e,"height");const Sr=e=>mr(e,Qn,ts);const zr=e=>fr(e)?Qn(e):os(e);const Or=e=>wr(e,"rowspan",kr);const Tr=e=>{const t=xr(e);return t.bind((e=>lr(e,["fixed","relative","empty"])))};const Er=(e,t,o)=>{To(e,"width",t+o)};const Dr=e=>Qn(e)+"px";const Ar=e=>mr(e,Qn,ts)+"%";const Nr=e=>xr(e).exists((e=>dr.test(e)));const Mr=e=>xr(e).exists((e=>ur.test(e)));const Rr=e=>xr(e).isNone();const Br=v(dr);const Lr=Ee("col");const Hr=e=>xr(e).getOrThunk((()=>zr(e)+"px"));const Ir=e=>Cr(e).getOrThunk((()=>Or(e)+"px"));const Pr=e=>L(Os.justColumns(e),(e=>T.from(e.element)));const Fr=e=>{const t=Zn().browser;const o=t.isChromium()||t.isFirefox();return Lr(e)?o:true};const Vr=(e,t,o,n,s,r)=>e.filter(n).fold((()=>r(As(o,t))),(e=>s(e)));const jr=(e,t,o,n)=>{const s=Ts(e);const r=Os.hasColumns(e)?Pr(e):s;const a=[T.some(rr.edge(t))].concat(L(rr.positions(s,t),(e=>e.map((e=>e.x)))));const c=x(Ho);return L(r,((e,t)=>Vr(e,t,a,c,(e=>{if(Fr(e)){return o(e)}else{const e=po(s[t],k);return Vr(e,t,a,c,(e=>n(T.some(Qn(e)))),n)}}),n)))};const Zr=e=>e.map((e=>e+"px")).getOr("");const Ur=(e,t)=>jr(e,t,Hr,Zr);const qr=(e,t,o)=>jr(e,t,Sr,(e=>e.fold((()=>o.minCellWidth()),(e=>e/o.pixelWidth()*100))));const Wr=(e,t,o)=>jr(e,t,zr,(e=>e.getOrThunk(o.minCellWidth)));const $r=(e,t,o,n,s)=>{const r=Ds(e);const a=[T.some(o.edge(t))].concat(L(o.positions(r,t),(e=>e.map((e=>e.y)))));return L(r,((e,t)=>Vr(e,t,a,x(Io),n,s)))};const Gr=(e,t,o)=>$r(e,t,o,Or,(e=>e.getOrThunk(Vo)));const Kr=(e,t,o)=>$r(e,t,o,Ir,Zr);const Yr=(e,t)=>()=>{if(Gt(e)){return t(e)}else{return parseFloat(No(e,"width").getOr("0"))}};const Xr=e=>{const t=Yr(e,Qn);const o=v(0);const n=(t,o)=>Wr(t,e,o);return{width:t,pixelWidth:t,getWidths:n,getCellDelta:o,singleColumnWidth:v([0]),minCellWidth:o,setElementWidth:h,adjustTableWidth:h,isRelative:true,label:"none"}};const Jr=e=>{const t=Yr(e,(e=>parseFloat(Ar(e))));const o=Yr(e,Qn);const n=e=>e/o()*100;const s=(e,t)=>[100-e];const r=()=>Fo()/o()*100;const a=o=>{const n=t();const s=o/100*n;const r=n+s;pr(e,r)};const c=(t,o)=>qr(t,e,o);return{width:t,pixelWidth:o,getWidths:c,getCellDelta:n,singleColumnWidth:s,minCellWidth:r,setElementWidth:pr,adjustTableWidth:a,isRelative:true,label:"percent"}};const Qr=e=>{const t=Yr(e,Qn);const o=k;const n=(e,t)=>{const o=Math.max(Fo(),e+t);return[o-e]};const s=o=>{const n=t()+o;gr(e,n)};const r=(t,o)=>Wr(t,e,o);return{width:t,pixelWidth:t,getWidths:r,getCellDelta:o,singleColumnWidth:n,minCellWidth:Fo,setElementWidth:gr,adjustTableWidth:s,isRelative:false,label:"pixel"}};const ea=(e,t)=>{const o=Br().exec(t);if(o!==null){return Jr(e)}else{return Qr(e)}};const ta=e=>{const t=xr(e);return t.fold((()=>Xr(e)),(t=>ea(e,t)))};const oa={getTableSize:ta,pixelSize:Qr,percentageSize:Jr,noneSize:Xr};const na=(e,t,o,n,s,r)=>({minRow:e,minCol:t,maxRow:o,maxCol:n,allCells:s,selectedCells:r});const sa=(e,t)=>{const o=e.grid.columns;const n=e.grid.rows;let s=n;let r=o;let a=0;let c=0;const i=[];const l=[];se(e.access,(e=>{i.push(e);if(t(e)){l.push(e);const t=e.row;const o=t+e.rowspan-1;const n=e.column;const i=n+e.colspan-1;if(t<s){s=t}else if(o>a){a=o}if(n<r){r=n}else if(i>c){c=i}}}));return na(s,r,a,c,i,l)};const ra=(e,t,o)=>{const n=e[o].element;const s=Ze.fromTag("td");ft(s,Ze.fromTag("br"));const r=t?ft:ut;r(n,s)};const aa=(e,t,o,n)=>{const s=F(e,(e=>e.section!=="colgroup"));const r=t.grid.columns;const a=t.grid.rows;for(let e=0;e<a;e++){let a=false;for(let c=0;c<r;c++){if(!(e<o.minRow||e>o.maxRow||c<o.minCol||c>o.maxCol)){const o=Os.getAt(t,e,c).filter(n).isNone();if(o){ra(s,a,e)}else{a=true}}}}};const ca=(e,t,o,n)=>{se(o.columns,(e=>{if(e.column<t.minCol||e.column>t.maxCol){bt(e.element)}}));const s=F(jo(e,"tr"),(e=>e.dom.childElementCount===0));H(s,bt);if(t.minCol===t.maxCol||t.minRow===t.maxRow){H(jo(e,"th,td"),(e=>{Le(e,"rowspan");Le(e,"colspan")}))}Le(e,ms);Le(e,"data-snooker-col-series");const r=oa.getTableSize(e);r.adjustTableWidth(n)};const ia=(e,t,o,n)=>{if(n.minCol===0&&t.grid.columns===n.maxCol+1){return 0}const s=Wr(t,e,o);const r=j(s,((e,t)=>e+t),0);const a=j(s.slice(n.minCol,n.maxCol+1),((e,t)=>e+t),0);const c=a/r*o.pixelWidth();const i=c-o.pixelWidth();return o.getCellDelta(i)};const la=(e,t)=>{const o=e=>Ue(e.element,t);const n=_t(e);const s=Qo(n);const r=oa.getTableSize(e);const a=Os.generate(s);const c=sa(a,o);const i="th:not("+t+")"+",td:not("+t+")";const l=Zo(n,"th,td",(e=>Ue(e,i)));H(l,bt);aa(s,a,c,o);const d=Os.fromTable(e);const u=ia(e,d,r,c);ca(n,c,a,u);return n};const da=" ";const ua=(e,t)=>{const o=o=>{if(!e(o)){throw new Error("Can only get "+t+" value of a "+t+" node")}return n(o).getOr("")};const n=t=>e(t)?T.from(t.dom.nodeValue):T.none();const s=(o,n)=>{if(!e(o)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}o.dom.nodeValue=n};return{get:o,getOption:n,set:s}};const fa=ua(ze,"text");const ma=e=>fa.get(e);const ga=e=>fa.getOption(e);const pa=(e,t)=>fa.set(e,t);const ha=e=>we(e)==="img"?1:ga(e).fold((()=>at(e).length),(e=>e.length));const ya=e=>ga(e).filter((e=>e.trim().length!==0||e.indexOf(da)>-1)).isSome();const ba=["img","br"];const va=e=>{const t=ya(e);return t||M(ba,we(e))};const ka=e=>co(e,va);const wa=e=>_a(e,va);const _a=(e,t)=>{const o=e=>{const n=at(e);for(let e=n.length-1;e>=0;e--){const s=n[e];if(t(s)){return T.some(s)}const r=o(s);if(r.isSome()){return r}}return T.none()};return o(e)};const xa={scope:["row","col"]};const Ca=e=>()=>{const t=Ze.fromTag("td",e.dom);ft(t,Ze.fromTag("br",e.dom));return t};const Sa=e=>()=>Ze.fromTag("col",e.dom);const za=e=>()=>Ze.fromTag("colgroup",e.dom);const Oa=e=>()=>Ze.fromTag("tr",e.dom);const Ta=(e,t,o)=>{const n=Ct(e,t);se(o,((e,t)=>{if(e===null){Le(n,t)}else{Ae(n,t,e)}}));return n};const Ea=e=>e;const Da=(e,t,o)=>{const n=ka(e);return n.map((n=>{const s=o.join(",");const r=eo(n,s,(t=>Ge(t,e)));return V(r,((e,t)=>{const o=wt(t);Le(o,"contenteditable");ft(e,o);return o}),t)})).getOr(t)};const Aa=(e,t)=>{se(xa,((o,n)=>Be(e,n).filter((e=>M(o,e))).each((e=>Ae(t,n,e)))))};const Na=(e,t,o)=>{const n=(e,t)=>{Ro(e.element,t);Mo(t,"height");if(e.colspan!==1){Mo(t,"width")}};const s=s=>{const r=Ze.fromTag(we(s.element),t.dom);const a=o.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]);const c=a.length>0?Da(s.element,r,a):r;ft(c,Ze.fromTag("br"));n(s,r);Aa(s.element,r);e(s.element,r);return r};const r=o=>{const s=Ze.fromTag(we(o.element),t.dom);n(o,s);e(o.element,s);return s};return{col:r,colgroup:za(t),row:Oa(t),cell:s,replace:Ta,colGap:Sa(t),gap:Ca(t)}};const Ma=e=>({col:Sa(e),colgroup:za(e),row:Oa(e),cell:Ca(e),replace:Ea,colGap:Sa(e),gap:Ca(e)});const Ra=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;return at(Ze.fromDom(n))};const Ba=e=>L(e,Ze.fromDom);const La=e=>Ze.fromDom(e.getBody());const Ha=e=>t=>Ge(t,La(e));const Ia=e=>{Le(e,"data-mce-style");const t=e=>Le(e,"data-mce-style");H(Wo(e),t);H($o(e),t);H(Ko(e),t)};const Pa=e=>Ze.fromDom(e.selection.getStart());const Fa=e=>e.getBoundingClientRect().width;const Va=e=>e.getBoundingClientRect().height;const ja=(e,t)=>{const o=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return T.from(o).filter(xo)};const Za=e=>/^(\d+(\.\d+)?)%$/.test(e);const Ua=e=>/^(\d+(\.\d+)?)px$/.test(e);const qa=(e,t)=>{const o=t.column;const n=t.column+t.colspan-1;const s=t.row;const r=t.row+t.rowspan-1;return o<=e.finishCol&&n>=e.startCol&&(s<=e.finishRow&&r>=e.startRow)};const Wa=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow;const $a=(e,t)=>{let o=true;const n=_(Wa,t);for(let s=t.startRow;s<=t.finishRow;s++){for(let r=t.startCol;r<=t.finishCol;r++){o=o&&Os.getAt(e,s,r).exists(n)}}return o?T.some(t):T.none()};const Ga=(e,t)=>Ht(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1));const Ka=(e,t,o)=>{const n=Os.findItem(e,t,Ge);const s=Os.findItem(e,o,Ge);return n.bind((e=>s.map((t=>Ga(e,t)))))};const Ya=(e,t,o)=>Ka(e,t,o).bind((t=>$a(e,t)));const Xa=(e,t,o,n)=>Os.findItem(e,t,Ge).bind((t=>{const s=o>0?t.row+t.rowspan-1:t.row;const r=n>0?t.column+t.colspan-1:t.column;const a=Os.getAt(e,s+o,r+n);return a.map((e=>e.element))}));const Ja=(e,t,o)=>Ka(e,t,o).map((t=>{const o=Os.filterItems(e,_(qa,t));return L(o,(e=>e.element))}));const Qa=(e,t)=>{const o=(e,t)=>Ke(t,e);return Os.findItem(e,t,o).map((e=>e.element))};const ec=(e,t,o)=>Go(e).bind((n=>{const s=sc(n);return Xa(s,e,t,o)}));const tc=(e,t,o)=>{const n=sc(e);return Ja(n,t,o)};const oc=(e,t,o,n,s)=>{const r=sc(e);const a=Ge(e,o)?T.some(t):Qa(r,t);const c=Ge(e,s)?T.some(n):Qa(r,n);return a.bind((e=>c.bind((t=>Ja(r,e,t)))))};const nc=(e,t,o)=>{const n=sc(e);return Ya(n,t,o)};const sc=Os.fromTable;var rc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];var ac=()=>{const e=e=>Ze.fromDom(e.dom.cloneNode(false));const t=e=>Je(e).dom;const o=e=>{if(!Se(e)){return false}if(we(e)==="body"){return true}return M(rc,we(e))};const n=e=>{if(!Se(e)){return false}return M(["br","img","hr","input"],we(e))};const s=e=>Se(e)&&Re(e,"contenteditable")==="false";const r=(e,t)=>e.dom.compareDocumentPosition(t.dom);const a=(e,t)=>{const o=He(e);Ne(t,o)};const c=e=>{const t=we(e);return M(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)};const i=e=>Se(e)?Be(e,"lang"):T.none();return{up:v({selector:io,closest:fo,predicate:so,all:nt}),down:v({selector:oo,predicate:Qt}),styles:v({get:Do,getRaw:No,set:To,remove:Mo}),attrs:v({get:Re,set:Ae,remove:Le,copyTo:a}),insert:v({before:lt,after:dt,afterAll:pt,append:ft,appendAll:ht,prepend:ut,wrap:gt}),remove:v({unwrap:vt,remove:bt}),create:v({nu:Ze.fromTag,clone:e,text:Ze.fromText}),query:v({comparePosition:r,prevSibling:st,nextSibling:rt}),property:v({children:at,name:we,parent:tt,document:t,isText:ze,isComment:Ce,isElement:Se,isSpecial:c,getLanguage:i,getText:ma,setText:pa,isBoundary:o,isEmptyTag:n,isNonEditable:s}),eq:Ge,is:Ye}};const cc=(e,t,o,n)=>{const s=o[0];const r=o.slice(1);return n(e,t,s,r)};const ic=(e,t,o)=>o.length>0?cc(e,t,o,lc):T.none();const lc=(e,t,o,n)=>{const s=t(e,o);return V(n,((o,n)=>{const s=t(e,n);return dc(e,o,s)}),s)};const dc=(e,t,o)=>t.bind((t=>o.filter(_(e.eq,t))));const uc=(e,t)=>_(e.eq,t);const fc=(e,t,o,n=z)=>{const s=[t].concat(e.up().all(t));const r=[o].concat(e.up().all(o));const a=e=>{const t=q(e,n);return t.fold((()=>e),(t=>e.slice(0,t+1)))};const c=a(s);const i=a(r);const l=U(c,(t=>R(i,uc(e,t))));return{firstpath:c,secondpath:i,shared:l}};const mc=ic;const gc=fc;const pc=ac();const hc=(e,t)=>mc(pc,((t,o)=>e(o)),t);const yc=(e,t,o)=>gc(pc,e,t,o);const bc=e=>io(e,"table");const vc=(e,t,o)=>{const n=e=>t=>o!==undefined&&o(t)||Ge(t,e);if(Ge(e,t)){return T.some({boxes:T.some([e]),start:e,finish:t})}else{return bc(e).bind((s=>bc(t).bind((r=>{if(Ge(s,r)){return T.some({boxes:tc(s,e,t),start:e,finish:t})}else if(Ke(s,r)){const o=eo(t,"td,th",n(s));const a=o.length>0?o[o.length-1]:t;return T.some({boxes:oc(s,e,s,t,r),start:e,finish:a})}else if(Ke(r,s)){const o=eo(e,"td,th",n(r));const a=o.length>0?o[o.length-1]:e;return T.some({boxes:oc(r,e,s,t,r),start:e,finish:a})}else{return yc(e,t).shared.bind((a=>fo(a,"table",o).bind((o=>{const a=eo(t,"td,th",n(o));const c=a.length>0?a[a.length-1]:t;const i=eo(e,"td,th",n(o));const l=i.length>0?i[i.length-1]:e;return T.some({boxes:oc(o,e,s,t,r),start:l,finish:c})}))))}}))))}};const kc=(e,t)=>{const o=oo(e,t);return o.length>0?T.some(o):T.none()};const wc=(e,t)=>U(e,(e=>Ue(e,t)));const _c=(e,t,o)=>uo(e,t).bind((t=>uo(e,o).bind((e=>hc(bc,[t,e]).map((o=>({first:t,last:e,table:o})))))));const xc=(e,t)=>io(e,"table").bind((o=>uo(o,t).bind((t=>vc(t,e).bind((e=>e.boxes.map((t=>({boxes:t,start:e.start,finish:e.finish})))))))));const Cc=(e,t,o,n,s)=>wc(e,s).bind((e=>ec(e,t,o).bind((e=>xc(e,n)))));const Sc=(e,t)=>kc(e,t);const zc=(e,t,o)=>_c(e,t,o).bind((t=>{const o=t=>Ge(e,t);const n="thead,tfoot,tbody,table";const s=io(t.first,n,o);const r=io(t.last,n,o);return s.bind((e=>r.bind((o=>Ge(e,o)?nc(t.table,t.first,t.last):T.none()))))}));const Oc=k;const Tc=e=>{const t=(e,t)=>Be(e,t).exists((e=>parseInt(e,10)>1));const o=e=>t(e,"rowspan")||t(e,"colspan");return e.length>0&&G(e,o)?T.some(e):T.none()};const Ec=(e,t,o)=>{if(t.length<=1){return T.none()}else{return zc(e,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>({bounds:e,cells:t})))}};const Dc="data-mce-selected";const Ac="td["+Dc+"],th["+Dc+"]";const Nc="["+Dc+"]";const Mc="data-mce-first-selected";const Rc="td["+Mc+"],th["+Mc+"]";const Bc="data-mce-last-selected";const Lc="td["+Bc+"],th["+Bc+"]";const Hc=Nc;const Ic={selected:Dc,selectedSelector:Ac,firstSelected:Mc,firstSelectedSelector:Rc,lastSelected:Bc,lastSelectedSelector:Lc};const Pc=(e,t,o)=>({element:o,mergable:Ec(t,e,Ic),unmergable:Tc(e),selection:Oc(e)});const Fc=(e,t,o)=>({element:e,clipboard:t,generators:o});const Vc=(e,t,o,n)=>({selection:Oc(e),clipboard:o,generators:n});const jc=e=>Go(e).bind((e=>Sc(e,Ic.firstSelectedSelector))).fold(v(e),(e=>e[0]));const Zc=e=>(t,o)=>{const n=we(t);const s=n==="col"||n==="colgroup"?jc(t):t;return fo(s,e,o)};const Uc=Zc("th,td,caption");const qc=Zc("th,td");const Wc=e=>Ba(e.model.table.getSelectedCells());const $c=e=>F(Wc(e),(e=>Ue(e,Ic.selectedSelector)));const Gc=e=>Go(e[0]).map((e=>{const t=la(e,Hc);Ia(t);return[t]}));const Kc=(e,t)=>L(t,(t=>e.selection.serializer.serialize(t.dom,{}))).join("");const Yc=e=>L(e,(e=>e.dom.innerText)).join("");const Xc=(e,t)=>{e.on("BeforeGetContent",(t=>{const o=o=>{t.preventDefault();Gc(o).each((o=>{t.content=t.format==="text"?Yc(o):Kc(e,o)}))};if(t.selection===true){const t=$c(e);if(t.length>=1){o(t)}}}));e.on("BeforeSetContent",(o=>{if(o.selection===true&&o.paste===true){const n=Wc(e);Q(n).each((n=>{Go(n).each((s=>{const r=F(Ra(o.content),(e=>we(e)!=="meta"));const a=Ee("table");if(r.length===1&&a(r[0])){o.preventDefault();const a=Ze.fromDom(e.getDoc());const c=Ma(a);const i=Fc(n,r[0],c);t.pasteCells(s,i).each((()=>{e.focus()}))}}))}))}}))};const Jc=(e,t)=>({element:e,offset:t});const Qc=(e,t,o)=>{if(e.property().isText(t)&&e.property().getText(t).trim().length===0||e.property().isComment(t)){return o(t).bind((t=>Qc(e,t,o).orThunk((()=>T.some(t)))))}else{return T.none()}};const ei=(e,t)=>{if(e.property().isText(t)){return e.property().getText(t).length}const o=e.property().children(t);return o.length};const ti=(e,t)=>{const o=Qc(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(o)){return Jc(o,ei(e,o))}const n=e.property().children(o);return n.length>0?ti(e,n[n.length-1]):Jc(o,ei(e,o))};const oi=ti;const ni=ac();const si=e=>oi(ni,e);const ri=(e,t)=>{if(!Ho(e)){const o=Tr(e);o.each((o=>{const n=o.value/2;Er(e,n,o.unit);Er(t,n,o.unit)}))}};const ai=e=>L(e,v(0));const ci=(e,t,o,n,s)=>s(e.slice(0,t)).concat(n).concat(s(e.slice(o)));const ii=e=>(t,o,n,s)=>{if(!e(n)){return n}else{const e=Math.max(s,t[o]-Math.abs(n));const r=Math.abs(e-t[o]);return n>=0?r:-r}};const li=ii((e=>e<0));const di=ii(O);const ui=()=>{const e=(e,t,o,n,s)=>{const r=li(e,t,n,s);return ci(e,t,o+1,[r,0],ai)};const t=(e,t,o,n)=>{const s=(100+o)/100;const r=Math.max(n,(e[t]+o)/s);return L(e,((e,o)=>{const n=o===t?r:e/s;return n-e}))};const o=(o,n,s,r,a,c)=>{if(c){return t(o,n,r,a)}else{return e(o,n,s,r,a)}};const n=(e,t,n,s,r,a,c)=>o(e,n,s,r,a,c);const s=(e,t)=>e(t);const r=(e,o,n,s,r,a)=>{if(a){return t(e,n,s,r)}else{const t=li(e,n,s,r);return ai(e.slice(0,n)).concat([t])}};const a=(e,t,o,n)=>{if(n){const n=t+o;const s=n/t;const r=L(e,(e=>e/s));return{delta:s*100-100,newSizes:r}}else{return{delta:o,newSizes:e}}};return{resizeTable:s,clampTableDelta:li,calcLeftEdgeDeltas:o,calcMiddleDeltas:n,calcRightEdgeDeltas:r,calcRedestributedWidths:a}};const fi=()=>{const e=(e,t,o,n,s)=>{const r=n>=0?o:t;const a=di(e,r,n,s);return ci(e,t,o+1,[a,-a],ai)};const t=(t,o,n,s,r,a)=>e(t,n,s,r,a);const o=(e,t,o)=>{if(o){e(t)}};const n=(e,t,o,n,s,r)=>{if(r){return ai(e)}else{const t=n/e.length;return L(e,v(t))}};const s=(e,t,o,n,s)=>{if(s){if(o>=0){return o}else{const t=j(e,((e,t)=>e+t-n),0);return Math.max(-t,o)}}else{return li(e,t,o,n)}};const r=(e,t,o,n)=>({delta:0,newSizes:e});return{resizeTable:o,clampTableDelta:s,calcLeftEdgeDeltas:e,calcMiddleDeltas:t,calcRightEdgeDeltas:n,calcRedestributedWidths:r}};const mi=e=>{const t=Os.fromTable(e);return t.grid};const gi=Ee("th");const pi=e=>G(e,(e=>gi(e.element)));const hi=(e,t)=>{if(e&&t){return"sectionCells"}else if(e){return"section"}else{return"cells"}};const yi=e=>{const t=e.section==="thead";const o=mo(bi(e.cells),"th");if(e.section==="tfoot"){return{type:"footer"}}else if(t||o){return{type:"header",subType:hi(t,o)}}else{return{type:"body"}}};const bi=e=>{const t=F(e,(e=>gi(e.element)));if(t.length===0){return T.some("td")}else if(t.length===e.length){return T.some("th")}else{return T.none()}};const vi=e=>{const t=L(e,(e=>yi(e).type));const o=M(t,"header");const n=M(t,"footer");if(!o&&!n){return T.some("body")}else{const e=M(t,"body");if(o&&!e&&!n){return T.some("header")}else if(!o&&!e&&n){return T.some("footer")}else{return T.none()}}};const ki=e=>te(e.all,(e=>{const t=yi(e);return t.type==="header"?T.from(t.subType):T.none()}));const wi=(e,t,o)=>Bt(o(e.element,t),true,e.isLocked);const _i=(e,t)=>e.section!==t?Lt(e.element,e.cells,t,e.isNew):e;const xi=()=>({transformRow:_i,transformCell:(e,t,o)=>{const n=o(e.element,t);const s=we(n)!=="td"?St(n,"td"):n;return Bt(s,e.isNew,e.isLocked)}});const Ci=()=>({transformRow:_i,transformCell:wi});const Si=()=>({transformRow:(e,t)=>{const o=t==="thead"?"tbody":t;return _i(e,o)},transformCell:wi});const zi=()=>({transformRow:k,transformCell:wi});const Oi=(e,t)=>{const o=Os.fromTable(e);const n=ki(o).getOr(t);switch(n){case"section":return xi();case"sectionCells":return Ci();case"cells":return Si()}};const Ti={getTableSectionType:Oi,section:xi,sectionCells:Ci,cells:Si,fallback:zi};const Ei=e=>fo(e,"[contenteditable]");const Di=(e,t=false)=>{if(Gt(e)){return e.dom.isContentEditable}else{return Ei(e).fold(v(t),(e=>Ai(e)==="true"))}};const Ai=e=>e.dom.contentEditable;const Ni=(e,t,o,n)=>{if(o===n){Le(e,t)}else{Ae(e,t,o)}};const Mi=(e,t,o)=>{ee(to(e,t)).fold((()=>ut(e,o)),(e=>dt(e,o)))};const Ri=(e,t)=>{const o=lo(e,t).getOrThunk((()=>{const o=Ze.fromTag(t,Xe(e).dom);if(t==="thead"){Mi(e,"caption,colgroup",o)}else if(t==="colgroup"){Mi(e,"caption",o)}else{ft(e,o)}return o}));yt(o);return o};const Bi=(e,t)=>{const o=[];const n=[];const s=e=>L(e,(e=>{if(e.isNew){o.push(e.element)}const t=e.element;yt(t);H(e.cells,(e=>{if(e.isNew){n.push(e.element)}Ni(e.element,"colspan",e.colspan,1);Ni(e.element,"rowspan",e.rowspan,1);ft(t,e.element)}));return t}));const r=e=>$(e,(e=>L(e.cells,(e=>{Ni(e.element,"span",e.colspan,1);return e.element}))));const a=(t,o)=>{const n=Ri(e,o);const a=o==="colgroup"?r:s;const c=a(t);ht(n,c)};const c=t=>{lo(e,t).each(bt)};const i=(e,t)=>{if(e.length>0){a(e,t)}else{c(t)}};const l=[];const d=[];const u=[];const f=[];H(t,(e=>{switch(e.section){case"thead":l.push(e);break;case"tbody":d.push(e);break;case"tfoot":u.push(e);break;case"colgroup":f.push(e);break}}));i(f,"colgroup");i(l,"thead");i(d,"tbody");i(u,"tfoot");return{newRows:o,newCells:n}};const Li=e=>L(e,(e=>{const t=wt(e.element);H(e.cells,(e=>{const o=_t(e.element);Ni(o,"colspan",e.colspan,1);Ni(o,"rowspan",e.rowspan,1);ft(t,o)}));return t}));const Hi=(e,t)=>L(e,(e=>is(e,t)));const Ii=(e,t)=>e[t];const Pi=(e,t)=>{if(e.length===0){return 0}const o=e[0];const n=q(e,(e=>!t(o.element,e.element)));return n.getOr(e.length)};const Fi=(e,t,o,n)=>{const s=Ii(e,t);const r=s.section==="colgroup";const a=Pi(s.cells.slice(o),n);const c=r?1:Pi(Hi(e.slice(t),o),n);return{colspan:a,rowspan:c}};const Vi=(e,t)=>{const o=L(e,(e=>L(e.cells,z)));const n=(e,t,n,s)=>{for(let r=e;r<e+n;r++){for(let e=t;e<t+s;e++){o[r][e]=true}}};return L(e,((s,r)=>{const a=$(s.cells,((s,a)=>{if(o[r][a]===false){const o=Fi(e,r,a,t);n(r,a,o.rowspan,o.colspan);return[At(s.element,o.rowspan,o.colspan,s.isNew)]}else{return[]}}));return Rt(s.element,a,s.section,s.isNew)}))};const ji=(e,t,o)=>{const n=[];H(e.colgroups,(s=>{const r=[];for(let n=0;n<e.grid.columns;n++){const s=Os.getColumnAt(e,n).map((e=>Bt(e.element,o,false))).getOrThunk((()=>Bt(t.colGap(),true,false)));r.push(s)}n.push(Lt(s.element,r,"colgroup",o))}));for(let s=0;s<e.grid.rows;s++){const r=[];for(let n=0;n<e.grid.columns;n++){const a=Os.getAt(e,s,n).map((e=>Bt(e.element,o,e.isLocked))).getOrThunk((()=>Bt(t.gap(),true,false)));r.push(a)}const a=e.all[s];const c=Lt(a.element,r,a.section,o);n.push(c)}return n};const Zi=(e,t)=>ji(e,t,false);const Ui=e=>Vi(e,Ge);const qi=(e,t)=>te(e.all,(e=>U(e.cells,(e=>Ge(t,e.element)))));const Wi=(e,t,o)=>{const n=L(t.selection,(t=>qo(t).bind((t=>qi(e,t))).filter(o)));const s=go(n);return ho(s.length>0,s)};const $i=(e,t,o,n,s)=>(r,a,c,i)=>{const l=Os.fromTable(r);const d=T.from(i===null||i===void 0?void 0:i.section).getOrThunk(Ti.fallback);const u=t(l,a).map((t=>{const o=Zi(l,c);const n=e(o,t,Ge,s(c),d);const r=ps(n.grid);const a=Ui(n.grid);return{info:t,grid:a,cursor:n.cursor,lockedColumns:r}}));return u.bind((e=>{const t=Bi(r,e.grid);const s=T.from(i===null||i===void 0?void 0:i.sizing).getOrThunk((()=>oa.getTableSize(r)));const a=T.from(i===null||i===void 0?void 0:i.resize).getOrThunk(fi);o(r,e.grid,e.info,{sizing:s,resize:a,section:d});n(r);Le(r,ms);if(e.lockedColumns.length>0){Ae(r,ms,e.lockedColumns.join(","))}return T.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))};const Gi=(e,t)=>qo(t.element).bind((o=>qi(e,o).map((e=>{const o={...e,generators:t.generators,clipboard:t.clipboard};return o}))));const Ki=(e,t)=>Wi(e,t,O).map((e=>({cells:e,generators:t.generators,clipboard:t.clipboard})));const Yi=(e,t)=>t.mergable;const Xi=(e,t)=>t.unmergable;const Ji=(e,t)=>Wi(e,t,O);const Qi=(e,t)=>Wi(e,t,(e=>!e.isLocked));const el=(e,t)=>qi(e,t).exists((e=>!e.isLocked));const tl=(e,t)=>G(t,(t=>el(e,t)));const ol=(e,t)=>Yi(e,t).filter((t=>tl(e,t.cells)));const nl=(e,t)=>Xi(e,t).filter((t=>tl(e,t)));const sl=(e,t,o,n)=>{const s=us(e).rows;if(s.length===0){return e}for(let e=t.startRow;e<=t.finishRow;e++){for(let o=t.startCol;o<=t.finishCol;o++){const t=s[e];const r=is(t,o).isLocked;rs(t,o,Bt(n(),false,r))}}return e};const rl=(e,t,o,n)=>{const s=us(e).rows;let r=true;for(let e=0;e<s.length;e++){for(let a=0;a<ds(s[0]);a++){const c=s[e];const i=is(c,a);const l=i.element;const d=o(l,t);if(d&&!r){rs(c,a,Bt(n(),true,i.isLocked))}else if(d){r=false}}}return e};const al=(e,t)=>j(e,((e,o)=>R(e,(e=>t(e.element,o.element)))?e:e.concat([o])),[]);const cl=(e,t,o,n)=>{if(t>0&&t<e[0].cells.length){H(e,(e=>{const s=e.cells[t-1];let r=0;const a=n();while(e.cells.length>t+r&&o(s.element,e.cells[t+r].element)){rs(e,t+r,Bt(a,true,e.cells[t+r].isLocked));r++}}))}return e};const il=(e,t,o,n)=>{const s=us(e).rows;if(t>0&&t<s.length){const e=s[t-1].cells;const r=al(e,o);H(r,(e=>{let r=T.none();for(let a=t;a<s.length;a++){for(let t=0;t<ds(s[0]);t++){const c=s[a];const i=is(c,t);const l=o(i.element,e.element);if(l){if(r.isNone()){r=T.some(n())}r.each((e=>{rs(c,t,Bt(e,true,i.isLocked))}))}}}}))}return e};const ll=e=>{const t=t=>t(e);const o=v(e);const n=()=>s;const s={tag:true,inner:e,fold:(t,o)=>o(e),isValue:O,isError:z,map:t=>fl.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:t=>{t(e)},toOptional:()=>T.some(e)};return s};const dl=e=>{const t=()=>o;const o={tag:false,inner:e,fold:(t,o)=>t(e),isValue:z,isError:O,map:t,mapError:t=>fl.error(t(e)),bind:t,exists:z,forall:O,getOr:k,or:k,getOrThunk:S,orThunk:S,getOrDie:C(String(e)),each:h,toOptional:T.none};return o};const ul=(e,t)=>e.fold((()=>dl(t)),ll);const fl={value:ll,error:dl,fromOption:ul};const ml=(e,t,o)=>{if(e.row>=t.length||e.column>ds(t[0])){return fl.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column)}const n=t.slice(e.row);const s=n[0].cells.slice(e.column);const r=ds(o[0]);const a=o.length;return fl.value({rowDelta:n.length-a,colDelta:s.length-r})};const gl=(e,t)=>{const o=ds(e[0]);const n=ds(t[0]);return{rowDelta:0,colDelta:o-n}};const pl=(e,t)=>{const o=e.length;const n=t.length;return{rowDelta:o-n,colDelta:0}};const hl=(e,t,o,n)=>{const s=t.section==="colgroup"?o.col:o.cell;return B(e,(e=>Bt(s(),true,n(e))))};const yl=(e,t,o,n)=>{const s=e[e.length-1];return e.concat(B(t,(()=>{const e=s.section==="colgroup"?o.colgroup:o.row;const t=fs(s,e,k);const r=hl(t.cells.length,t,o,(e=>me(n,e.toString())));return as(t,r)})))};const bl=(e,t,o,n)=>L(e,(e=>{const s=hl(t,e,o,z);return ns(e,n,s)}));const vl=(e,t,o)=>L(e,(e=>j(o,((o,n)=>{const s=hl(1,e,t,O)[0];return ss(o,n,s)}),e)));const kl=(e,t,o)=>{const n=t.colDelta<0?bl:k;const s=t.rowDelta<0?yl:k;const r=ps(e);const a=ds(e[0]);const c=R(r,(e=>e===a-1));const i=n(e,Math.abs(t.colDelta),o,c?a-1:a);const l=ps(i);return s(i,Math.abs(t.rowDelta),o,Y(l,O))};const wl=(e,t,o,n)=>{const s=is(e[t],o);const r=_(n,s.element);const a=e[t];return e.length>1&&ds(a)>1&&(o>0&&r(ls(a,o-1))||o<a.cells.length-1&&r(ls(a,o+1))||t>0&&r(ls(e[t-1],o))||t<e.length-1&&r(ls(e[t+1],o)))};const _l=(e,t,o,n,s,r)=>{const a=e.row;const c=e.column;const i=o.length;const l=ds(o[0]);const d=a+i;const u=c+l+r.length;const f=Y(r,O);for(let e=a;e<d;e++){let r=0;for(let i=c;i<u;i++){if(f[i]){r++;continue}if(wl(t,e,i,s)){rl(t,ls(t[e],i),s,n.cell)}const l=i-c-r;const d=is(o[e-a],l);const u=d.element;const m=n.replace(u);rs(t[e],i,Bt(m,true,d.isLocked))}}return t};const xl=(e,t,o)=>{const n=ds(t[0]);const s=us(t).cols.length+e.row;const r=B(n-e.column,(t=>t+e.column));const a=U(r,(e=>G(o,(t=>t!==e)))).getOr(n-1);return{row:s,column:a}};const Cl=(e,t,o)=>F(o,(o=>o>=e.column&&o<=ds(t[0])+e.column));const Sl=(e,t,o,n,s)=>{const r=ps(t);const a=xl(e,t,r);const c=us(o).rows;const i=Cl(a,c,r);const l=ml(a,t,c);return l.map((e=>{const o={...e,colDelta:e.colDelta-i.length};const r=kl(t,o,n);const l=ps(r);const d=Cl(a,c,l);return _l(a,r,c,n,s,d)}))};const zl=(e,t,o,n,s)=>{cl(t,e,s,n.cell);const r=pl(o,t);const a=kl(o,r,n);const c=pl(t,a);const i=kl(t,c,n);return L(i,((t,o)=>ns(t,e,a[o].cells)))};const Ol=(e,t,o,n,s)=>{il(t,e,s,n.cell);const r=ps(t);const a=gl(t,o);const c={...a,colDelta:a.colDelta-r.length};const i=kl(t,c,n);const{cols:l,rows:d}=us(i);const u=ps(i);const f=gl(o,t);const m={...f,colDelta:f.colDelta+u.length};const g=vl(o,n,u);const p=kl(g,m,n);return[...l,...d.slice(0,e),...p,...d.slice(e,d.length)]};const Tl=(e,t,o,n)=>fs(e,(e=>n(e,o)),t);const El=(e,t,o,n,s)=>{const{rows:r,cols:a}=us(e);const c=r.slice(0,t);const i=r.slice(t);const l=Tl(r[o],((e,o)=>{const a=t>0&&t<r.length&&n(ls(r[t-1],o),ls(r[t],o));const c=a?is(r[t],o):Bt(s(e.element,n),true,e.isLocked);return c}),n,s);return[...a,...c,l,...i]};const Dl=(e,t,o,n,s,r,a)=>{if(o==="colgroup"||!n){const t=is(e,s);return Bt(a(t.element,r),true,false)}else{return is(e,t)}};const Al=(e,t,o,n,s)=>L(e,(e=>{const r=t>0&&t<ds(e)&&n(ls(e,t-1),ls(e,t));const a=Dl(e,t,e.section,r,o,n,s);return ss(e,t,a)}));const Nl=(e,t)=>$(e,(e=>{const o=e.cells;const n=V(t,((e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e),o);return n.length>0?[Lt(e.element,n,e.section,e.isNew)]:[]}));const Ml=(e,t,o)=>{const{rows:n,cols:s}=us(e);return[...s,...n.slice(0,t),...n.slice(o+1)]};const Rl=(e,t,o,n)=>ls(e[t],o)!==undefined&&(t>0&&n(ls(e[t-1],o),ls(e[t],o)));const Bl=(e,t,o)=>t>0&&o(ls(e,t-1),ls(e,t));const Ll=(e,t,o,n)=>Rl(e,t,o,n)||Bl(e[t],o,n);const Hl=(e,t)=>{const o=G(t,k)&&pi(e.cells);return o?O:(e,o,n)=>{const s=we(e.element);return!(s==="th"&&t[n])}};const Il=(e,t)=>{const o=G(t,k)&&pi(e);return o?O:(e,o,n)=>{const s=we(e.element);return!(s==="th"&&t[o])}};const Pl=(e,t,o,n)=>{const s=e=>e==="row"?Io(t):Ho(t);const r=e=>s(e)?`${e}group`:e;if(e){return gi(t)?r(o):null}else if(n&&gi(t)){const e=o==="row"?"col":"row";return r(e)}else{return null}};const Fl=(e,t)=>(o,n,s)=>T.some(Pl(e,o.element,"col",t[s]));const Vl=(e,t)=>(o,n)=>T.some(Pl(e,o.element,"row",t[n]));const jl=(e,t,o)=>Bt(o(e.element,t),true,e.isLocked);const Zl=(e,t,o,n,s,r,a)=>{const c=e=>R(t,(t=>o(e.element,t.element)));return L(e,((e,t)=>cs(e,((e,i)=>{if(c(e)){const c=a(e,t,i)?s(e,o,n):e;r(c,t,i).each((e=>{Me(c.element,{scope:T.from(e)})}));return c}else{return e}}))))};const Ul=(e,t,o)=>$(e,((n,s)=>Ll(e,s,t,o)?[]:[is(n,t)]));const ql=(e,t,o)=>{const n=e[t];return $(n.cells,((n,s)=>Ll(e,t,s,o)?[]:[n]))};const Wl=(e,t,o,n,s)=>{const r=us(e).rows;const a=$(t,(e=>Ul(r,e,n)));const c=L(r,(e=>pi(e.cells)));const i=Il(a,c);const l=Vl(o,c);return Zl(e,a,n,s,jl,l,i)};const $l=(e,t,o,n,s,r,a)=>{const{cols:c,rows:i}=us(e);const l=i[t[0]];const d=$(t,(e=>ql(i,e,s)));const u=L(l.cells,((e,t)=>pi(Ul(i,t,s))));const f=[...i];H(t,(e=>{f[e]=a.transformRow(i[e],o)}));const m=[...c,...f];const g=Hl(l,u);const p=Fl(n,u);return Zl(m,d,s,r,a.transformCell,p,g)};const Gl=(e,t,o,n)=>{const s=us(e).rows;const r=L(t,(e=>is(s[e.row],e.column)));return Zl(e,r,o,n,jl,T.none,O)};const Kl=e=>{if(!i(e)){throw new Error("cases must be an array")}if(e.length===0){throw new Error("there must be at least one case")}const t=[];const o={};H(e,((n,s)=>{const r=oe(n);if(r.length!==1){throw new Error("one and only one name per case")}const a=r[0];const c=n[a];if(o[a]!==undefined){throw new Error("duplicate key detected:"+a)}else if(a==="cata"){throw new Error("cannot have a case named cata (sorry)")}else if(!i(c)){throw new Error("case arguments must be an array")}t.push(a);o[a]=(...o)=>{const n=o.length;if(n!==c.length){throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+n)}const r=e=>{const n=oe(e);if(t.length!==n.length){throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","))}const s=G(t,(e=>M(n,e)));if(!s){throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "))}return e[a].apply(null,o)};return{fold:(...t)=>{if(t.length!==e.length){throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)}const n=t[s];return n.apply(null,o)},match:r,log:e=>{console.log(e,{constructors:t,constructor:a,params:o})}}}}));return o};const Yl={generate:Kl};const Xl=Yl.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]);const Jl={...Xl};const Ql=(e,t)=>{if(e.length===0){return Jl.none()}if(e.length===1){return Jl.only(0)}if(t===0){return Jl.left(0,1)}if(t===e.length-1){return Jl.right(t-1,t)}if(t>0&&t<e.length-1){return Jl.middle(t-1,t,t+1)}return Jl.none()};const ed=(e,t,o,n,s)=>{const r=e.slice(0);const a=Ql(e,t);const c=v(L(r,v(0)));const i=e=>n.singleColumnWidth(r[e],o);const l=(e,t)=>s.calcLeftEdgeDeltas(r,e,t,o,n.minCellWidth(),n.isRelative);const d=(e,t,a)=>s.calcMiddleDeltas(r,e,t,a,o,n.minCellWidth(),n.isRelative);const u=(e,t)=>s.calcRightEdgeDeltas(r,e,t,o,n.minCellWidth(),n.isRelative);return a.fold(c,i,l,d,u)};const td=(e,t,o)=>{let n=0;for(let s=e;s<t;s++){n+=o[s]!==undefined?o[s]:0}return n};const od=(e,t)=>{const o=Os.justCells(e);return L(o,(e=>{const o=td(e.column,e.column+e.colspan,t);return{element:e.element,width:o,colspan:e.colspan}}))};const nd=(e,t)=>{const o=Os.justColumns(e);return L(o,((e,o)=>({element:e.element,width:t[o],colspan:e.colspan})))};const sd=(e,t)=>{const o=Os.justCells(e);return L(o,(e=>{const o=td(e.row,e.row+e.rowspan,t);return{element:e.element,height:o,rowspan:e.rowspan}}))};const rd=(e,t)=>L(e.all,((e,o)=>({element:e.element,height:t[o]})));const ad=e=>V(e,((e,t)=>e+t),0);const cd=(e,t)=>{if(Os.hasColumns(e)){return nd(e,t)}else{return od(e,t)}};const id=(e,t,o)=>{const n=cd(e,t);H(n,(e=>{o.setElementWidth(e.element,e.width)}))};const ld=(e,t,o,n,s)=>{const r=Os.fromTable(e);const a=s.getCellDelta(t);const c=s.getWidths(r,s);const i=o===r.grid.columns-1;const l=n.clampTableDelta(c,o,a,s.minCellWidth(),i);const d=ed(c,o,l,s,n);const u=L(d,((e,t)=>e+c[t]));id(r,u,s);n.resizeTable(s.adjustTableWidth,l,i)};const dd=(e,t,o,n)=>{const s=Os.fromTable(e);const r=Gr(s,e,n);const a=L(r,((e,n)=>o===n?Math.max(t+e,Vo()):e));const c=sd(s,a);const i=rd(s,a);H(i,(e=>{hr(e.element,e.height)}));H(c,(e=>{hr(e.element,e.height)}));const l=ad(a);hr(e,l)};const ud=(e,t,o,n,s)=>{const r=Os.generate(t);const a=n.getWidths(r,n);const c=n.pixelWidth();const{newSizes:i,delta:l}=s.calcRedestributedWidths(a,c,o.pixelDelta,n.isRelative);id(r,i,n);n.adjustTableWidth(l)};const fd=(e,t,o,n)=>{const s=Os.generate(t);const r=n.getWidths(s,n);id(s,r,n)};const md=e=>{const t=(e,t)=>{const o=R(e,(e=>e.column===t.column));return o?e:e.concat([t])};return j(e,t,[]).sort(((e,t)=>e.column-t.column))};const gd=Ee("col");const pd=Ee("colgroup");const hd=e=>we(e)==="tr"||pd(e);const yd=e=>{const t=Bo(e,"colspan",1);const o=Bo(e,"rowspan",1);return{element:e,colspan:t,rowspan:o}};const bd=(e,t=yd)=>{const o=t=>gd(t.element)?e.col(t):e.cell(t);const n=t=>pd(t.element)?e.colgroup(t):e.row(t);const s=e=>{if(hd(e)){return n({element:e})}else{const n=e;const s=o(t(n));r=T.some({item:n,replacement:s});return s}};let r=T.none();const a=(e,t)=>r.fold((()=>s(e)),(o=>t(e,o.item)?o.replacement:s(e)));return{getOrInit:a}};const vd=e=>t=>{const o=[];const n=(e,t)=>U(o,(o=>t(o.item,e)));const s=n=>{const s=e==="td"?{scope:null}:{};const r=t.replace(n,e,s);o.push({item:n,sub:r});return r};const r=(e,t)=>{if(hd(e)||gd(e)){return e}else{const o=e;return n(o,t).fold((()=>s(o)),(n=>t(e,n.item)?n.sub:s(o)))}};return{replaceOrInit:r}};const kd=e=>Be(e,"scope").map((e=>e.substr(0,3)));const wd=e=>{const t=t=>{const o=kd(t);o.each((e=>Ae(t,"scope",e)));return()=>{const n=e.cell({element:t,colspan:1,rowspan:1});Mo(n,"width");Mo(t,"width");o.each((e=>Ae(n,"scope",e)));return n}};const o=e=>{const t=()=>{const t=go(L(e,kd));if(t.length===0){return T.none()}else{const e=t[0];const o=["row","col"];const n=R(t,(t=>t!==e&&M(o,t)));return n?T.none():T.from(e)}};Mo(e[0],"width");t().fold((()=>Le(e[0],"scope")),(t=>Ae(e[0],"scope",t+"group")));return v(e[0])};return{unmerge:t,merge:o}};const _d={modification:bd,transform:vd,merging:wd};const xd=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const Cd=(e,t)=>{const o=e.property().name(t);return M(["ol","ul"],o)};const Sd=(e,t)=>{const o=e.property().name(t);return M(xd,o)};const zd=(e,t)=>M(["br","img","hr","input"],e.property().name(t));const Od=ac();const Td=e=>Sd(Od,e);const Ed=e=>Cd(Od,e);const Dd=e=>zd(Od,e);const Ad=e=>{const t=Ee("br");const o=e=>G(e,(e=>t(e)||ze(e)&&ma(e).trim().length===0));const n=e=>we(e)==="li"||so(e,Ed).isSome();const s=e=>rt(e).map((e=>{if(Td(e)){return true}if(Dd(e)){return we(e)==="img"?false:true}return false})).getOr(false);const r=e=>wa(e).bind((o=>{const r=s(o);return tt(o).map((s=>r===true||n(s)||t(o)||Td(s)&&!Ge(e,s)?[]:[Ze.fromTag("br")]))})).getOr([]);const a=()=>{const t=$(e,(e=>{const t=at(e);return o(t)?[]:t.concat(r(e))}));return t.length===0?[Ze.fromTag("br")]:t};const c=a();yt(e[0]);ht(e[0],c)};const Nd=e=>Di(e,true);const Md=e=>{const t=Wo(e);if(t.length===0){bt(e)}};const Rd=(e,t)=>({grid:e,cursor:t});const Bd=e=>te(e,(e=>te(e.cells,(e=>{const t=e.element;return ho(Nd(t),t)}))));const Ld=(e,t,o)=>{var n,s;const r=us(e).rows;return T.from((s=(n=r[t])===null||n===void 0?void 0:n.cells[o])===null||s===void 0?void 0:s.element).filter(Nd).orThunk((()=>Bd(r)))};const Hd=(e,t,o)=>{const n=Ld(e,t,o);return Rd(e,n)};const Id=e=>{const t=(e,t)=>{const o=R(e,(e=>e.row===t.row));return o?e:e.concat([t])};return j(e,t,[]).sort(((e,t)=>e.row-t.row))};const Pd=(e,t,o,n)=>{const s=t[0].row;const r=Id(t);const a=V(r,((e,t)=>{const r=El(e.grid,s,t.row+e.delta,o,n.getOrInit);return{grid:r,delta:e.delta+1}}),{grid:e,delta:0}).grid;return Hd(a,s,t[0].column)};const Fd=(e,t,o,n)=>{const s=Id(t);const r=s[s.length-1];const a=r.row+r.rowspan;const c=V(s,((e,t)=>El(e,a,t.row,o,n.getOrInit)),e);return Hd(c,a,t[0].column)};const Vd=(e,t,o,n)=>{const s=t.details;const r=md(s);const a=r[0].column;const c=V(r,((e,t)=>{const s=Al(e.grid,a,t.column+e.delta,o,n.getOrInit);return{grid:s,delta:e.delta+1}}),{grid:e,delta:0}).grid;return Hd(c,s[0].row,a)};const jd=(e,t,o,n)=>{const s=t.details;const r=s[s.length-1];const a=r.column+r.colspan;const c=md(s);const i=V(c,((e,t)=>Al(e,a,t.column,o,n.getOrInit)),e);return Hd(i,s[0].row,a)};const Zd=(e,t,o,n)=>{const s=md(t);const r=L(s,(e=>e.column));const a=Wl(e,r,true,o,n.replaceOrInit);return Hd(a,t[0].row,t[0].column)};const Ud=(e,t,o,n)=>{const s=Gl(e,t,o,n.replaceOrInit);return Hd(s,t[0].row,t[0].column)};const qd=(e,t,o,n)=>{const s=md(t);const r=L(s,(e=>e.column));const a=Wl(e,r,false,o,n.replaceOrInit);return Hd(a,t[0].row,t[0].column)};const Wd=(e,t,o,n)=>{const s=Gl(e,t,o,n.replaceOrInit);return Hd(s,t[0].row,t[0].column)};const $d=(e,t)=>(o,n,s,r,a)=>{const c=Id(n);const i=L(c,(e=>e.row));const l=$l(o,i,e,t,s,r.replaceOrInit,a);return Hd(l,n[0].row,n[0].column)};const Gd=$d("thead",true);const Kd=$d("tbody",false);const Yd=$d("tfoot",false);const Xd=(e,t,o,n)=>{const s=md(t.details);const r=Nl(e,L(s,(e=>e.column)));const a=r.length>0?r[0].cells.length-1:0;return Hd(r,s[0].row,Math.min(s[0].column,a))};const Jd=(e,t,o,n)=>{const s=Id(t);const r=Ml(e,s[0].row,s[s.length-1].row);const a=r.length>0?r.length-1:0;return Hd(r,Math.min(t[0].row,a),t[0].column)};const Qd=(e,t,o,n)=>{const s=t.cells;Ad(s);const r=sl(e,t.bounds,o,n.merge(s));return Rd(r,T.from(s[0]))};const eu=(e,t,o,n)=>{const s=(e,t)=>rl(e,t,o,n.unmerge(t));const r=V(t,s,e);return Rd(r,T.from(t[0]))};const tu=(e,t,o,n)=>{const s=(e,t)=>{const o=Os.fromTable(e);return ji(o,t,true)};const r=s(t.clipboard,t.generators);const a=Et(t.row,t.column);const c=Sl(a,e,r,t.generators,o);return c.fold((()=>Rd(e,T.some(t.element))),(e=>Hd(e,t.row,t.column)))};const ou=(e,t,o)=>{const n=en(e,o.section);const s=Os.generate(n);return ji(s,t,true)};const nu=(e,t,o,n)=>{const s=us(e).rows;const r=t.cells[0].column;const a=s[t.cells[0].row];const c=ou(t.clipboard,t.generators,a);const i=zl(r,e,c,t.generators,o);return Hd(i,t.cells[0].row,t.cells[0].column)};const su=(e,t,o,n)=>{const s=us(e).rows;const r=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan;const a=s[t.cells[0].row];const c=ou(t.clipboard,t.generators,a);const i=zl(r,e,c,t.generators,o);return Hd(i,t.cells[0].row,t.cells[0].column)};const ru=(e,t,o,n)=>{const s=us(e).rows;const r=t.cells[0].row;const a=s[r];const c=ou(t.clipboard,t.generators,a);const i=Ol(r,e,c,t.generators,o);return Hd(i,t.cells[0].row,t.cells[0].column)};const au=(e,t,o,n)=>{const s=us(e).rows;const r=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan;const a=s[t.cells[0].row];const c=ou(t.clipboard,t.generators,a);const i=Ol(r,e,c,t.generators,o);return Hd(i,t.cells[0].row,t.cells[0].column)};const cu=(e,t)=>{const o=Os.fromTable(e);const n=Ji(o,t);return n.bind((e=>{const t=e[e.length-1];const n=e[0].column;const s=t.column+t.colspan;const r=W(L(o.all,(e=>F(e.cells,(e=>e.column>=n&&e.column<s)))));return bi(r)})).getOr("")};const iu=(e,t)=>{const o=Os.fromTable(e);const n=Ji(o,t);return n.bind(bi).getOr("")};const lu=(e,t)=>{const o=Os.fromTable(e);const n=Ji(o,t);return n.bind((e=>{const t=e[e.length-1];const n=e[0].row;const s=t.row+t.rowspan;const r=o.all.slice(n,s);return vi(r)})).getOr("")};const du=(e,t,o,n)=>fd(e,t,o,n.sizing);const uu=(e,t,o,n)=>ud(e,t,o,n.sizing,n.resize);const fu=(e,t)=>R(t,(e=>e.column===0&&e.isLocked));const mu=(e,t)=>R(t,(t=>t.column+t.colspan>=e.grid.columns&&t.isLocked));const gu=(e,t)=>{const o=Ts(e);const n=md(t);return j(n,((e,t)=>{const n=o[t.column];const s=n.map(es).getOr(0);return e+s}),0)};const pu=e=>(t,o)=>Ji(t,o).filter((o=>{const n=e?fu:mu;return!n(t,o)})).map((e=>({details:e,pixelDelta:gu(t,e)})));const hu=(e,t)=>Qi(e,t).map((t=>({details:t,pixelDelta:-gu(e,t)})));const yu=e=>(t,o)=>Ki(t,o).filter((o=>{const n=e?fu:mu;return!n(t,o.cells)}));const bu=_d.transform("th");const vu=_d.transform("td");const ku=$i(Pd,Ji,h,h,_d.modification);const wu=$i(Fd,Ji,h,h,_d.modification);const _u=$i(Vd,pu(true),uu,h,_d.modification);const xu=$i(jd,pu(false),uu,h,_d.modification);const Cu=$i(Xd,hu,uu,Md,_d.modification);const Su=$i(Jd,Ji,h,Md,_d.modification);const zu=$i(Zd,Qi,h,h,bu);const Ou=$i(qd,Qi,h,h,vu);const Tu=$i(Gd,Qi,h,h,bu);const Eu=$i(Kd,Qi,h,h,vu);const Du=$i(Yd,Qi,h,h,vu);const Au=$i(Ud,Qi,h,h,bu);const Nu=$i(Wd,Qi,h,h,vu);const Mu=$i(Qd,ol,du,h,_d.merging);const Ru=$i(eu,nl,du,h,_d.merging);const Bu=$i(tu,Gi,du,h,_d.modification);const Lu=$i(nu,yu(true),h,h,_d.modification);const Hu=$i(su,yu(false),h,h,_d.modification);const Iu=$i(ru,Ki,h,h,_d.modification);const Pu=$i(au,Ki,h,h,_d.modification);const Fu=cu;const Vu=iu;const ju=lu;const Zu=(e,t)=>e.dispatch("NewRow",{node:t});const Uu=(e,t)=>e.dispatch("NewCell",{node:t});const qu=(e,t,o)=>{e.dispatch("TableModified",{...o,table:t})};const Wu=(e,t,o,n,s)=>{e.dispatch("TableSelectionChange",{cells:t,start:o,finish:n,otherCells:s})};const $u=e=>{e.dispatch("TableSelectionClear")};const Gu=(e,t,o,n,s)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:n,origin:s})};const Ku=(e,t,o,n,s)=>{e.dispatch("ObjectResized",{target:t,width:o,height:n,origin:s})};const Yu={structure:false,style:true};const Xu={structure:true,style:false};const Ju={structure:true,style:true};const Qu=e=>t=>t.options.get(e);const ef="100%";const tf=e=>{var t;const o=e.dom;const n=(t=o.getParent(e.selection.getStart(),o.isBlock))!==null&&t!==void 0?t:e.getBody();return ts(Ze.fromDom(n))+"px"};const of=(e,t)=>{if(pf(e)||!yf(e)){return t}else if(gf(e)){return{...t,width:tf(e)}}else{return{...t,width:ef}}};const nf=(e,t)=>{if(pf(e)||yf(e)){return t}else if(gf(e)){return{...t,width:tf(e)}}else{return{...t,width:ef}}};const sf=e=>{const t=e.options.register;t("table_clone_elements",{processor:"string[]"});t("table_use_colgroups",{processor:"boolean",default:true});t("table_header_type",{processor:e=>{const t=M(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:false,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"});t("table_sizing_mode",{processor:"string",default:"auto"});t("table_default_attributes",{processor:"object",default:{border:"1"}});t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}});t("table_column_resizing",{processor:e=>{const t=M(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:false,message:"Must be preservetable, or resizetable."}},default:"preservetable"});t("table_resize_bars",{processor:"boolean",default:true});t("table_style_by_css",{processor:"boolean",default:true})};const rf=e=>T.from(e.options.get("table_clone_elements"));const af=e=>{const t=e.options.get("object_resizing");return M(t.split(","),"table")};const cf=Qu("table_header_type");const lf=Qu("table_column_resizing");const df=e=>lf(e)==="preservetable";const uf=e=>lf(e)==="resizetable";const ff=Qu("table_sizing_mode");const mf=e=>ff(e)==="relative";const gf=e=>ff(e)==="fixed";const pf=e=>ff(e)==="responsive";const hf=Qu("table_resize_bars");const yf=Qu("table_style_by_css");const bf=e=>{const t=e.options;const o=t.get("table_default_attributes");return t.isSet("table_default_attributes")?o:nf(e,o)};const vf=e=>{const t=e.options;const o=t.get("table_default_styles");return t.isSet("table_default_styles")?o:of(e,o)};const kf=Qu("table_use_colgroups");const wf=(e,t)=>{if(mf(e)){return oa.percentageSize(t)}else if(gf(e)){return oa.pixelSize(t)}else{return oa.getTableSize(t)}};const _f=(e,t,o)=>{const n=e=>we(La(e))==="table";const s=t=>!n(e)||mi(t).rows>1;const r=t=>!n(e)||mi(t).columns>1;const a=rf(e);const c=uf(e)?h:ri;const i=t=>{switch(cf(e)){case"section":return Ti.section();case"sectionCells":return Ti.sectionCells();case"cells":return Ti.cells();default:return Ti.getTableSectionType(t,"section")}};const l=(t,n)=>n.cursor.fold((()=>{const n=Wo(t);return Q(n).filter(Gt).map((n=>{o.clearSelectedCells(t.dom);const s=e.dom.createRng();s.selectNode(n.dom);e.selection.setRng(s);Ae(n,"data-mce-selected","1");return s}))}),(n=>{const s=si(n);const r=e.dom.createRng();r.setStart(s.element.dom,s.offset);r.setEnd(s.element.dom,s.offset);e.selection.setRng(r);o.clearSelectedCells(t.dom);return T.some(r)}));const d=(o,n,s,r)=>(c,d,u=false)=>{Ia(c);const f=Ze.fromDom(e.getDoc());const m=Na(s,f,a);const g={sizing:wf(e,c),resize:uf(e)?ui():fi(),section:i(c)};return n(c)?o(c,d,m,g).bind((o=>{t.refresh(c.dom);H(o.newRows,(t=>{Zu(e,t.dom)}));H(o.newCells,(t=>{Uu(e,t.dom)}));const n=l(c,o);if(Gt(c)){Ia(c);if(!u){qu(e,c.dom,r)}}return n.map((e=>({rng:e,effect:r})))})):T.none()};const u=d(Su,s,h,Xu);const f=d(Cu,r,h,Xu);const m=d(ku,O,h,Xu);const g=d(wu,O,h,Xu);const p=d(_u,O,c,Xu);const y=d(xu,O,c,Xu);const b=d(Mu,O,h,Xu);const v=d(Ru,O,h,Xu);const k=d(Lu,O,h,Xu);const w=d(Hu,O,h,Xu);const _=d(Iu,O,h,Xu);const x=d(Pu,O,h,Xu);const C=d(Bu,O,h,Ju);const S=d(Au,O,h,Xu);const z=d(Nu,O,h,Xu);const E=d(zu,O,h,Xu);const D=d(Ou,O,h,Xu);const A=d(Tu,O,h,Xu);const N=d(Eu,O,h,Xu);const M=d(Du,O,h,Xu);const R=Vu;const B=Fu;const L=ju;return{deleteRow:u,deleteColumn:f,insertRowsBefore:m,insertRowsAfter:g,insertColumnsBefore:p,insertColumnsAfter:y,mergeCells:b,unmergeCells:v,pasteColsBefore:k,pasteColsAfter:w,pasteRowsBefore:_,pasteRowsAfter:x,pasteCells:C,makeCellsHeader:S,unmakeCellsHeader:z,makeColumnsHeader:E,unmakeColumnsHeader:D,makeRowsHeader:A,makeRowsBody:N,makeRowsFooter:M,getTableRowType:L,getTableCellType:R,getTableColType:B}};const xf=(e,t,o)=>{const n=Bo(e,t,1);if(o===1||n<=1){Le(e,t)}else{Ae(e,t,Math.min(o,n))}};const Cf=(e,t)=>o=>{const n=o.column+o.colspan-1;const s=o.column;return n>=e&&s<t};const Sf=(e,t,o)=>{if(Os.hasColumns(e)){const n=F(Os.justColumns(e),Cf(t,o));const s=L(n,(e=>{const n=_t(e.element);xf(n,"span",o-t);return n}));const r=Ze.fromTag("colgroup");ht(r,s);return[r]}else{return[]}};const zf=(e,t,o)=>L(e.all,(e=>{const n=F(e.cells,Cf(t,o));const s=L(n,(e=>{const n=_t(e.element);xf(n,"colspan",o-t);return n}));const r=Ze.fromTag("tr");ht(r,s);return r}));const Of=(e,t)=>{const o=Os.fromTable(e);const n=Qi(o,t);return n.map((e=>{const t=e[e.length-1];const n=e[0].column;const s=t.column+t.colspan;const r=Sf(o,n,s);const a=zf(o,n,s);return[...r,...a]}))};const Tf=(e,t,o)=>{const n=Os.fromTable(e);const s=Ji(n,t);return s.bind((e=>{const t=ji(n,o,false);const s=us(t).rows;const r=s.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan);const a=$(r,(e=>{const t=F(e.cells,(e=>!e.isLocked));return t.length>0?[{...e,cells:t}]:[]}));const c=Ui(a);return ho(c.length>0,c)})).map((e=>Li(e)))};const Ef=Yl.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]);const Df=(e,t,o)=>{const n=o.substring(0,o.length-e.length);const s=parseFloat(n);return n===s.toString()?t(s):Ef.invalid(o)};const Af=e=>{if(ko(e,"%")){return Df("%",Ef.percent,e)}if(ko(e,"px")){return Df("px",Ef.pixels,e)}return Ef.invalid(e)};const Nf={...Ef,from:Af};const Mf=(e,t)=>L(e,(e=>{const o=Nf.from(e);return o.fold((()=>e),(e=>{const o=e/t*100;return o+"%"}),(e=>e+"%"))}));const Rf=(e,t,o)=>{const n=o/t;return L(e,(e=>{const t=Nf.from(e);return t.fold((()=>e),(e=>e*n+"px"),(e=>e/100*o+"px"))}))};const Bf=(e,t)=>{const o=e.fold((()=>v("")),(e=>{const o=e/t;return v(o+"px")}),(()=>{const e=100/t;return v(e+"%")}));return B(t,o)};const Lf=(e,t,o)=>e.fold((()=>t),(e=>Rf(t,o,e)),(e=>Mf(t,o)));const Hf=(e,t,o)=>{const n=Nf.from(o);const s=G(e,(e=>e==="0px"))?Bf(n,e.length):Lf(n,e,t);return Vf(s)};const If=(e,t)=>{if(e.length===0){return t}return V(e,((e,t)=>Nf.from(t).fold(v(0),k,k)+e),0)};const Pf=(e,t)=>{const o=Math.floor(e);return{value:o+t,remainder:e-o}};const Ff=(e,t)=>Nf.from(e).fold(v(e),(e=>e+t+"px"),(e=>e+t+"%"));const Vf=e=>{if(e.length===0){return e}const t=V(e,((e,t)=>{const o=Nf.from(t).fold((()=>({value:t,remainder:0})),(e=>Pf(e,"px")),(e=>({value:e+"%",remainder:0})));return{output:[o.value].concat(e.output),remainder:e.remainder+o.remainder}}),{output:[],remainder:0});const o=t.output;return o.slice(0,o.length-1).concat([Ff(o[o.length-1],Math.round(t.remainder))])};const jf=Nf.from;const Zf=(e,t,o)=>{H(t,(t=>{const n=e.slice(t.column,t.colspan+t.column);const s=If(n,Fo());To(t.element,"width",s+o)}))};const Uf=(e,t,o)=>{H(t,((t,n)=>{const s=If([e[n]],Fo());To(t.element,"width",s+o)}))};const qf=(e,t,o,n)=>{H(o,(t=>{const o=e.slice(t.row,t.rowspan+t.row);const s=If(o,Vo());To(t.element,"height",s+n)}));H(t,((t,o)=>{To(t.element,"height",e[o])}))};const Wf=e=>jf(e).fold(v("px"),v("px"),v("%"));const $f=(e,t,o)=>{const n=Os.fromTable(e);const s=n.all;const r=Os.justCells(n);const a=Os.justColumns(n);t.each((t=>{const o=Wf(t);const s=Qn(e);const c=Ur(n,e);const i=Hf(c,s,t);if(Os.hasColumns(n)){Uf(i,a,o)}else{Zf(i,r,o)}To(e,"width",t)}));o.each((t=>{const o=Wf(t);const a=Bs(e);const c=Kr(n,e,tr);const i=Hf(c,a,t);qf(i,s,r,o);To(e,"height",t)}))};const Gf=Nr;const Kf=Mr;const Yf=Rr;const Xf=e=>{Le(e,"width")};const Jf=e=>{const t=Ar(e);$f(e,T.some(t),T.none());Xf(e)};const Qf=e=>{const t=Dr(e);$f(e,T.some(t),T.none());Xf(e)};const em=e=>{Mo(e,"width");const t=$o(e);const o=t.length>0?t:Wo(e);H(o,(e=>{Mo(e,"width");Xf(e)}));Xf(e)};const tm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:false};const om=()=>Ze.fromTag("th");const nm=()=>Ze.fromTag("td");const sm=()=>Ze.fromTag("col");const rm=(e,t,o,n)=>{const s=Ze.fromTag("tr");for(let r=0;r<e;r++){const e=n<t||r<o?om():nm();if(r<o){Ae(e,"scope","row")}if(n<t){Ae(e,"scope","col")}ft(e,Ze.fromTag("br"));ft(s,e)}return s};const am=e=>{const t=Ze.fromTag("colgroup");B(e,(()=>ft(t,sm())));return t};const cm=(e,t,o,n)=>B(e,(e=>rm(t,o,n,e)));const im=(e,t,o,n,s,r=tm)=>{const a=Ze.fromTag("table");const c=s!=="cells";Eo(a,r.styles);Ne(a,r.attributes);if(r.colGroups){ft(a,am(t))}const i=Math.min(e,o);if(c&&o>0){const e=Ze.fromTag("thead");ft(a,e);const r=s==="sectionCells"?i:0;const c=cm(o,t,r,n);ht(e,c)}const l=Ze.fromTag("tbody");ft(a,l);const d=c?e-i:e;const u=c?0:o;const f=cm(d,t,u,n);ht(l,f);return a};const lm=e=>e.dom.innerHTML;const dm=e=>{const t=Ze.fromTag("div");const o=Ze.fromDom(e.dom.cloneNode(true));ft(t,o);return lm(t)};const um=(e,t)=>{e.selection.select(t.dom,true);e.selection.collapse(true)};const fm=(e,t)=>{uo(t,"td,th").each(_(um,e))};const mm=(e,t)=>{H(oo(t,"tr"),(t=>{Zu(e,t.dom);H(oo(t,"th,td"),(t=>{Uu(e,t.dom)}))}))};const gm=e=>a(e)&&e.indexOf("%")!==-1;const pm=(e,t,o,n,s)=>{const r=vf(e);const a={styles:r,attributes:bf(e),colGroups:kf(e)};e.undoManager.ignore((()=>{const r=im(o,t,s,n,cf(e),a);Ae(r,"data-mce-id","__mce");const c=dm(r);e.insertContent(c);e.addVisual()}));return uo(La(e),'table[data-mce-id="__mce"]').map((t=>{if(gf(e)){Qf(t)}else if(pf(e)){em(t)}else if(mf(e)||gm(r.width)){Jf(t)}Ia(t);Le(t,"data-mce-id");mm(e,t);fm(e,t);return t.dom})).getOrNull()};const hm=(e,t,o,n={})=>{const s=e=>p(e)&&e>0;if(s(t)&&s(o)){const s=n.headerRows||0;const r=n.headerColumns||0;return pm(e,o,t,r,s)}else{console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.");return null}};var ym=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const bm="x-tinymce/dom-table-";const vm=bm+"rows";const km=bm+"columns";const wm=e=>{const t=ym.FakeClipboardItem(e);ym.write([t])};const _m=e=>{var t;const o=(t=ym.read())!==null&&t!==void 0?t:[];return te(o,(t=>T.from(t.getType(e))))};const xm=e=>{if(_m(e).isSome()){ym.clear()}};const Cm=e=>{e.fold(zm,(e=>wm({[vm]:e})))};const Sm=()=>_m(vm);const zm=()=>xm(vm);const Om=e=>{e.fold(Em,(e=>wm({[km]:e})))};const Tm=()=>_m(km);const Em=()=>xm(km);const Dm=e=>Uc(Pa(e),Ha(e));const Am=e=>qc(Pa(e),Ha(e));const Nm=(e,t)=>{const o=Ha(e);const n=()=>Dm(e).each((t=>{Go(t,o).filter(x(o)).each((t=>{const o=Ze.fromText("");dt(t,o);bt(t);if(e.dom.isEmpty(e.getBody())){e.setContent("");e.selection.setCursorLocation()}else{const t=e.dom.createRng();t.setStart(o.dom,0);t.setEnd(o.dom,0);e.selection.setRng(t);e.nodeChanged()}}))}));const s=t=>Dm(e).each((n=>{const s=pf(e)||gf(e)||mf(e);if(!s){Go(n,o).each((o=>{if(t==="relative"&&!Gf(o)){Jf(o)}else if(t==="fixed"&&!Kf(o)){Qf(o)}else if(t==="responsive"&&!Yf(o)){em(o)}Ia(o);qu(e,o.dom,Xu)}))}}));const r=e=>Go(e,o);const i=t=>Am(e).bind((e=>r(e).map((o=>t(o,e)))));const l=(t,o)=>{i((t=>{e.formatter.toggle("tableclass",{value:o},t.dom);qu(e,t.dom,Yu)}))};const d=(t,o)=>{i((t=>{const n=Wc(e);const s=G(n,(t=>e.formatter.match("tablecellclass",{value:o},t.dom)));const r=s?e.formatter.remove:e.formatter.apply;H(n,(e=>r("tablecellclass",{value:o},e.dom)));qu(e,t.dom,Yu)}))};const u=()=>{Dm(e).each((t=>{Go(t,o).each((o=>{lo(o,"caption").fold((()=>{const t=Ze.fromTag("caption");ft(t,Ze.fromText("Caption"));mt(o,t,0);e.selection.setCursorLocation(t.dom,0)}),(n=>{if(Ee("caption")(t)){$e("td",o).each((t=>e.selection.setCursorLocation(t.dom,0)))}bt(n)}));qu(e,o.dom,Xu)}))}))};const f=t=>{e.focus()};const m=(t,o=false)=>i(((n,s)=>{const r=Pc(Wc(e),n,s);t(n,r,o).each(f)}));const g=()=>i(((t,o)=>{const n=Pc(Wc(e),t,o);const s=Na(h,Ze.fromDom(e.getDoc()),T.none());return Tf(t,n,s)}));const p=()=>i(((t,o)=>{const n=Pc(Wc(e),t,o);return Of(t,n)}));const y=(t,o)=>o().each((o=>{const n=L(o,(e=>_t(e)));i(((o,s)=>{const r=Ma(Ze.fromDom(e.getDoc()));const a=Vc(Wc(e),s,n,r);t(o,a).each(f)}))}));const b=e=>(t,o)=>fe(o,"type").each((t=>{m(e(t),o.no_events)}));se({mceTableSplitCells:()=>m(t.unmergeCells),mceTableMergeCells:()=>m(t.mergeCells),mceTableInsertRowBefore:()=>m(t.insertRowsBefore),mceTableInsertRowAfter:()=>m(t.insertRowsAfter),mceTableInsertColBefore:()=>m(t.insertColumnsBefore),mceTableInsertColAfter:()=>m(t.insertColumnsAfter),mceTableDeleteCol:()=>m(t.deleteColumn),mceTableDeleteRow:()=>m(t.deleteRow),mceTableCutCol:()=>p().each((e=>{Om(e);m(t.deleteColumn)})),mceTableCutRow:()=>g().each((e=>{Cm(e);m(t.deleteRow)})),mceTableCopyCol:()=>p().each((e=>Om(e))),mceTableCopyRow:()=>g().each((e=>Cm(e))),mceTablePasteColBefore:()=>y(t.pasteColsBefore,Tm),mceTablePasteColAfter:()=>y(t.pasteColsAfter,Tm),mceTablePasteRowBefore:()=>y(t.pasteRowsBefore,Sm),mceTablePasteRowAfter:()=>y(t.pasteRowsAfter,Sm),mceTableDelete:n,mceTableCellToggleClass:d,mceTableToggleClass:l,mceTableToggleCaption:u,mceTableSizingMode:(e,t)=>s(t),mceTableCellType:b((e=>e==="th"?t.makeCellsHeader:t.unmakeCellsHeader)),mceTableColType:b((e=>e==="th"?t.makeColumnsHeader:t.unmakeColumnsHeader)),mceTableRowType:b((e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},((t,o)=>e.addCommand(o,t)));e.addCommand("mceInsertTable",((t,o)=>{hm(e,o.rows,o.columns,o.options)}));e.addCommand("mceTableApplyCellStyle",((t,o)=>{const n=e=>"tablecell"+e.toLowerCase().replace("-","");if(!c(o)){return}const s=Wc(e);if(s.length===0){return}const i=le(o,((t,o)=>e.formatter.has(n(o))&&a(t)));if(pe(i)){return}se(i,((t,o)=>{const r=n(o);H(s,(o=>{if(t===""){e.formatter.remove(r,{value:null},o.dom,true)}else{e.formatter.apply(r,{value:t},o.dom)}}))}));r(s[0]).each((t=>qu(e,t.dom,Yu)))}))};const Mm=(e,t)=>{const o=Ha(e);const n=t=>qc(Pa(e)).bind((n=>Go(n,o).map((o=>{const s=Pc(Wc(e),o,n);return t(o,s)})))).getOr("");se({mceTableRowType:()=>n(t.getTableRowType),mceTableCellType:()=>n(t.getTableCellType),mceTableColType:()=>n(t.getTableColType)},((t,o)=>e.addQueryValueHandler(o,t)))};const Rm=Yl.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);const Bm=(e,t,o,n)=>e.fold(t,o,n);const Lm=e=>e.fold(k,k,k);const Hm=Rm.before;const Im=Rm.on;const Pm=Rm.after;const Fm={before:Hm,on:Im,after:Pm,cata:Bm,getStart:Lm};const Vm=(e,t)=>({selection:e,kill:t});const jm={create:Vm};const Zm=(e,t)=>{const o=e.document.createRange();o.selectNode(t.dom);return o};const Um=(e,t)=>{const o=e.document.createRange();qm(o,t);return o};const qm=(e,t)=>e.selectNodeContents(t.dom);const Wm=(e,t)=>{t.fold((t=>{e.setStartBefore(t.dom)}),((t,o)=>{e.setStart(t.dom,o)}),(t=>{e.setStartAfter(t.dom)}))};const $m=(e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,o)=>{e.setEnd(t.dom,o)}),(t=>{e.setEndAfter(t.dom)}))};const Gm=(e,t,o)=>{const n=e.document.createRange();Wm(n,t);$m(n,o);return n};const Km=(e,t,o,n,s)=>{const r=e.document.createRange();r.setStart(t.dom,o);r.setEnd(n.dom,s);return r};const Ym=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height});const Xm=e=>{const t=e.getClientRects();const o=t.length>0?t[0]:e.getBoundingClientRect();return o.width>0||o.height>0?T.some(o).map(Ym):T.none()};const Jm=Yl.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);const Qm=(e,t,o)=>t(Ze.fromDom(o.startContainer),o.startOffset,Ze.fromDom(o.endContainer),o.endOffset);const eg=(e,t)=>t.match({domRange:e=>({ltr:v(e),rtl:T.none}),relative:(t,o)=>({ltr:tn((()=>Gm(e,t,o))),rtl:tn((()=>T.some(Gm(e,o,t))))}),exact:(t,o,n,s)=>({ltr:tn((()=>Km(e,t,o,n,s))),rtl:tn((()=>T.some(Km(e,n,s,t,o))))})});const tg=(e,t)=>{const o=t.ltr();if(o.collapsed){const n=t.rtl().filter((e=>e.collapsed===false));return n.map((e=>Jm.rtl(Ze.fromDom(e.endContainer),e.endOffset,Ze.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>Qm(e,Jm.ltr,o)))}else{return Qm(e,Jm.ltr,o)}};const og=(e,t)=>{const o=eg(e,t);return tg(e,o)};const ng=(e,t)=>{const o=og(e,t);return o.match({ltr:(t,o,n,s)=>{const r=e.document.createRange();r.setStart(t.dom,o);r.setEnd(n.dom,s);return r},rtl:(t,o,n,s)=>{const r=e.document.createRange();r.setStart(n.dom,s);r.setEnd(t.dom,o);return r}})};Jm.ltr;Jm.rtl;const sg=(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n});const rg={create:sg};const ag=(e,t,o,n)=>({start:Fm.on(e,t),finish:Fm.on(o,n)});const cg={create:ag};const ig=(e,t)=>{const o=ng(e,t);return rg.create(Ze.fromDom(o.startContainer),o.startOffset,Ze.fromDom(o.endContainer),o.endOffset)};const lg=cg.create;const dg=(e,t,o,n,s,r,a)=>{if(!(Ge(o,s)&&n===r)){return fo(o,"td,th",t).bind((o=>fo(s,"td,th",t).bind((n=>ug(e,t,o,n,a)))))}else{return T.none()}};const ug=(e,t,o,n,s)=>{if(!Ge(o,n)){return vc(o,n,t).bind((t=>{const n=t.boxes.getOr([]);if(n.length>1){s(e,n,t.start,t.finish);return T.some(jm.create(T.some(lg(o,0,o,ha(o))),true))}else{return T.none()}}))}else{return T.none()}};const fg=(e,t,o,n,s)=>{const r=e=>{s.clearBeforeUpdate(o);s.selectRange(o,e.boxes,e.start,e.finish);return e.boxes};return Cc(n,e,t,s.firstSelectedSelector,s.lastSelectedSelector).map(r)};const mg=(e,t)=>({item:e,mode:t});const gg=(e,t,o,n=pg)=>e.property().parent(t).map((e=>mg(e,n)));const pg=(e,t,o,n=hg)=>o.sibling(e,t).map((e=>mg(e,n)));const hg=(e,t,o,n=hg)=>{const s=e.property().children(t);const r=o.first(s);return r.map((e=>mg(e,n)))};const yg=[{current:gg,next:pg,fallback:T.none()},{current:pg,next:hg,fallback:T.some(gg)},{current:hg,next:hg,fallback:T.some(pg)}];const bg=(e,t,o,n,s=yg)=>{const r=U(s,(e=>e.current===o));return r.bind((o=>o.current(e,t,n,o.next).orThunk((()=>o.fallback.bind((o=>bg(e,t,o,n)))))))};const vg=()=>{const e=(e,t)=>e.query().prevSibling(t);const t=e=>e.length>0?T.some(e[e.length-1]):T.none();return{sibling:e,first:t}};const kg=()=>{const e=(e,t)=>e.query().nextSibling(t);const t=e=>e.length>0?T.some(e[0]):T.none();return{sibling:e,first:t}};const wg={left:vg,right:kg};const _g=(e,t,o,n,s,r)=>{const a=bg(e,t,n,s);return a.bind((t=>{if(r(t.item)){return T.none()}else{return o(t.item)?T.some(t.item):_g(e,t.item,o,t.mode,s,r)}}))};const xg=(e,t,o,n)=>_g(e,t,o,pg,wg.left(),n);const Cg=(e,t,o,n)=>_g(e,t,o,pg,wg.right(),n);const Sg=e=>t=>e.property().children(t).length===0;const zg=(e,t,o)=>Tg(e,t,Sg(e),o);const Og=(e,t,o)=>Eg(e,t,Sg(e),o);const Tg=xg;const Eg=Cg;const Dg=ac();const Ag=(e,t)=>zg(Dg,e,t);const Ng=(e,t)=>Og(Dg,e,t);const Mg=(e,t,o)=>Tg(Dg,e,t,o);const Rg=(e,t,o)=>Eg(Dg,e,t,o);const Bg=(e,t,o)=>so(e,t,o).isSome();const Lg=Yl.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]);const Hg=(e,t,o)=>{const n=e.getRect(t);const s=e.getRect(o);return s.right>n.left&&s.left<n.right};const Ig=e=>fo(e,"tr");const Pg=(e,t,o,n,s,r,a)=>fo(n,"td,th",a).bind((o=>fo(t,"td,th",a).map((t=>{if(!Ge(o,t)){return hc(Ig,[o,t]).fold((()=>Hg(e,t,o)?Lg.success():r(t)),(e=>r(t)))}else{return Ge(n,o)&&ha(o)===s?r(t):Lg.none("in same cell")}})))).getOr(Lg.none("default"));const Fg=(e,t,o,n,s)=>e.fold(t,o,n,s);const Vg={...Lg,verify:Pg,cata:Fg};const jg=(e,t,o,n)=>({parent:e,children:t,element:o,index:n});const Zg=e=>tt(e).bind((t=>{const o=at(t);return Ug(o,e).map((n=>jg(t,o,e,n)))}));const Ug=(e,t)=>q(e,_(Ge,t));const qg=Ee("br");const Wg=(e,t,o)=>t(e,o).bind((e=>ze(e)&&ma(e).trim().length===0?Wg(e,t,o):T.some(e)));const $g=(e,t,o)=>o.traverse(t).orThunk((()=>Wg(t,o.gather,e))).map(o.relative);const Gg=(e,t)=>ct(e,t).filter(qg).orThunk((()=>ct(e,t-1).filter(qg)));const Kg=(e,t,o,n)=>Gg(t,o).bind((t=>n.traverse(t).fold((()=>Wg(t,n.gather,e).map(n.relative)),(e=>Zg(e).map((e=>Fm.on(e.parent,e.index)))))));const Yg=(e,t,o,n)=>{const s=qg(t)?$g(e,t,n):Kg(e,t,o,n);return s.map((e=>({start:e,finish:e})))};const Xg=e=>Vg.cata(e,(e=>T.none()),(()=>T.none()),(e=>T.some(Jc(e,0))),(e=>T.some(Jc(e,ha(e)))));const Jg=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t});const Qg=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t});const ep=(e,t,o)=>({left:e.left+t,top:e.top+o,right:e.right+t,bottom:e.bottom+o});const tp=e=>e.top;const op=e=>e.bottom;const np=(e,t,o)=>{if(o>=0&&o<ha(t)){return e.getRangedRect(t,o,t,o+1)}else if(o>0){return e.getRangedRect(t,o-1,t,o)}return T.none()};const sp=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom});const rp=(e,t)=>T.some(e.getRect(t));const ap=(e,t,o)=>{if(Se(t)){return rp(e,t).map(sp)}else if(ze(t)){return np(e,t,o).map(sp)}else{return T.none()}};const cp=(e,t)=>{if(Se(t)){return rp(e,t).map(sp)}else if(ze(t)){return e.getRangedRect(t,0,t,ha(t)).map(sp)}else{return T.none()}};const ip=5;const lp=100;const dp=Yl.generate([{none:[]},{retry:["caret"]}]);const up=(e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right;const fp=(e,t,o)=>ro(t,Td).fold(z,(t=>cp(e,t).exists((e=>up(o,e)))));const mp=(e,t,o,n,s)=>{const r=Jg(s,ip);if(Math.abs(o.bottom-n.bottom)<1){return dp.retry(r)}else if(o.top>s.bottom){return dp.retry(r)}else if(o.top===s.bottom){return dp.retry(Jg(s,1))}else{return fp(e,t,s)?dp.retry(ep(r,ip,0)):dp.none()}};const gp=(e,t,o,n,s)=>{const r=Qg(s,ip);if(Math.abs(o.top-n.top)<1){return dp.retry(r)}else if(o.bottom<s.top){return dp.retry(r)}else if(o.bottom===s.top){return dp.retry(Qg(s,1))}else{return fp(e,t,s)?dp.retry(ep(r,ip,0)):dp.none()}};const pp={point:tp,adjuster:gp,move:Qg,gather:Ag};const hp={point:op,adjuster:mp,move:Jg,gather:Ng};const yp=(e,t,o)=>e.elementFromPoint(t,o).filter((e=>we(e)==="table")).isSome();const bp=(e,t,o,n,s)=>vp(e,t,o,t.move(n,ip),s);const vp=(e,t,o,n,s)=>{if(s===0){return T.some(n)}if(yp(e,n.left,t.point(n))){return bp(e,t,o,n,s-1)}return e.situsFromPoint(n.left,t.point(n)).bind((r=>r.start.fold(T.none,(r=>cp(e,r).bind((a=>t.adjuster(e,r,a,o,n).fold(T.none,(n=>vp(e,t,o,n,s-1))))).orThunk((()=>T.some(n)))),T.none)))};const kp=(e,t,o)=>{if(e.point(t)>o.getInnerHeight()){return T.some(e.point(t)-o.getInnerHeight())}else if(e.point(t)<0){return T.some(-e.point(t))}else{return T.none()}};const wp=(e,t,o)=>{const n=e.move(o,ip);const s=vp(t,e,o,n,lp).getOr(n);return kp(e,s,t).fold((()=>t.situsFromPoint(s.left,e.point(s))),(o=>{t.scrollBy(0,o);return t.situsFromPoint(s.left,e.point(s)-o)}))};const _p={tryUp:_(wp,pp),tryDown:_(wp,hp),getJumpSize:v(ip)};const xp=20;const Cp=(e,t,o)=>e.getSelection().bind((n=>Yg(t,n.finish,n.foffset,o).fold((()=>T.some(Jc(n.finish,n.foffset))),(s=>{const r=e.fromSitus(s);const a=Vg.verify(e,n.finish,n.foffset,r.finish,r.foffset,o.failure,t);return Xg(a)}))));const Sp=(e,t,o,n,s,r)=>{if(r===0){return T.none()}return Tp(e,t,o,n,s).bind((a=>{const c=e.fromSitus(a);const i=Vg.verify(e,o,n,c.finish,c.foffset,s.failure,t);return Vg.cata(i,(()=>T.none()),(()=>T.some(a)),(a=>{if(Ge(o,a)&&n===0){return zp(e,o,n,Qg,s)}else{return Sp(e,t,a,0,s,r-1)}}),(a=>{if(Ge(o,a)&&n===ha(a)){return zp(e,o,n,Jg,s)}else{return Sp(e,t,a,ha(a),s,r-1)}}))}))};const zp=(e,t,o,n,s)=>ap(e,t,o).bind((t=>Op(e,s,n(t,_p.getJumpSize()))));const Op=(e,t,o)=>{const n=Zn().browser;if(n.isChromium()||n.isSafari()||n.isFirefox()){return t.retry(e,o)}else{return T.none()}};const Tp=(e,t,o,n,s)=>ap(e,o,n).bind((t=>Op(e,s,t)));const Ep=(e,t,o)=>Cp(e,t,o).bind((n=>Sp(e,t,n.element,n.offset,o,xp).map(e.fromSitus)));const Dp=(e,t)=>Bg(e,(e=>tt(e).exists((e=>Ge(e,t)))));const Ap=(e,t,o,n,s)=>fo(n,"td,th",t).bind((n=>fo(n,"table",t).bind((r=>{if(!Dp(s,r)){return T.none()}return Ep(e,t,o).bind((e=>fo(e.finish,"td,th",t).map((t=>({start:n,finish:t,range:e})))))}))));const Np=(e,t,o,n,s,r)=>r(n,t).orThunk((()=>Ap(e,t,o,n,s).map((e=>{const t=e.range;return jm.create(T.some(lg(t.start,t.soffset,t.finish,t.foffset)),true)}))));const Mp=(e,t)=>fo(e,"tr",t).bind((e=>fo(e,"table",t).bind((o=>{const n=oo(o,"tr");if(Ge(e,n[0])){return Mg(o,(e=>wa(e).isSome()),t).map((e=>{const t=ha(e);return jm.create(T.some(lg(e,t,e,t)),true)}))}else{return T.none()}}))));const Rp=(e,t)=>fo(e,"tr",t).bind((e=>fo(e,"table",t).bind((o=>{const n=oo(o,"tr");if(Ge(e,n[n.length-1])){return Rg(o,(e=>ka(e).isSome()),t).map((e=>jm.create(T.some(lg(e,0,e,0)),true)))}else{return T.none()}}))));const Bp=(e,t,o,n,s,r,a)=>Ap(e,o,n,s,r).bind((e=>ug(t,o,e.start,e.finish,a)));const Lp=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const Hp=e=>{const t=Lp(T.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(T.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(T.some(e))};return{clear:n,isSet:s,get:r,set:a}};const Ip=()=>{const e=Hp(h);const t=t=>e.get().each(t);return{...e,on:t}};const Pp=(e,t)=>fo(e,"td,th",t);const Fp=(e,t,o,n)=>{const s=Ip();const r=s.clear;const a=r=>{s.on((s=>{n.clearBeforeUpdate(t);Pp(r.target,o).each((a=>{vc(s,a,o).each((o=>{const s=o.boxes.getOr([]);if(s.length===1){const o=s[0];const a=Ai(o)==="false";const c=mo(Ei(r.target),o,Ge);if(a&&c){n.selectRange(t,s,o,o);e.selectContents(o)}}else if(s.length>1){n.selectRange(t,s,o.start,o.finish);e.selectContents(a)}}))}))}))};const c=e=>{n.clear(t);Pp(e.target,o).each(s.set)};const i=e=>{a(e)};const l=e=>{a(e);r()};return{clearstate:r,mousedown:c,mouseover:i,mouseup:l}};const Vp={traverse:rt,gather:Ng,relative:Fm.before,retry:_p.tryDown,failure:Vg.failedDown};const jp={traverse:st,gather:Ag,relative:Fm.before,retry:_p.tryUp,failure:Vg.failedUp};const Zp=e=>t=>t===e;const Up=Zp(38);const qp=Zp(40);const Wp=e=>e>=37&&e<=40;const $p={isBackward:Zp(37),isForward:Zp(39)};const Gp={isBackward:Zp(39),isForward:Zp(37)};const Kp=e=>{const t=e!==undefined?e.dom:document;const o=t.body.scrollLeft||t.documentElement.scrollLeft;const n=t.body.scrollTop||t.documentElement.scrollTop;return Ps(o,n)};const Yp=(e,t,o)=>{const n=o!==undefined?o.dom:document;const s=n.defaultView;if(s){s.scrollBy(e,t)}};const Xp=Yl.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]);const Jp=e=>Xp.exact(e.start,e.soffset,e.finish,e.foffset);const Qp=e=>e.match({domRange:e=>Ze.fromDom(e.startContainer),relative:(e,t)=>Fm.getStart(e),exact:(e,t,o,n)=>e});const eh=Xp.domRange;const th=Xp.relative;const oh=Xp.exact;const nh=e=>{const t=Qp(e);return et(t)};const sh=rg.create;const rh={domRange:eh,relative:th,exact:oh,exactFromRange:Jp,getWin:nh,range:sh};const ah=(e,t,o)=>{var n,s;return T.from((s=(n=e.dom).caretPositionFromPoint)===null||s===void 0?void 0:s.call(n,t,o)).bind((t=>{if(t.offsetNode===null){return T.none()}const o=e.dom.createRange();o.setStart(t.offsetNode,t.offset);o.collapse();return T.some(o)}))};const ch=(e,t,o)=>{var n,s;return T.from((s=(n=e.dom).caretRangeFromPoint)===null||s===void 0?void 0:s.call(n,t,o))};const ih=(()=>{if(document.caretPositionFromPoint){return ah}else if(document.caretRangeFromPoint){return ch}else{return T.none}})();const lh=(e,t,o)=>{const n=Ze.fromDom(e.document);return ih(n,t,o).map((e=>rg.create(Ze.fromDom(e.startContainer),e.startOffset,Ze.fromDom(e.endContainer),e.endOffset)))};const dh=(e,t)=>{const o=we(e);if("input"===o){return Fm.after(e)}else if(!M(["br","img"],o)){return Fm.on(e,t)}else{return t===0?Fm.before(e):Fm.after(e)}};const uh=(e,t)=>{const o=e.fold(Fm.before,dh,Fm.after);const n=t.fold(Fm.before,dh,Fm.after);return rh.relative(o,n)};const fh=(e,t,o,n)=>{const s=dh(e,t);const r=dh(o,n);return rh.relative(s,r)};const mh=(e,t,o,n)=>{const s=Xe(e);const r=s.dom.createRange();r.setStart(e.dom,t);r.setEnd(o.dom,n);return r};const gh=(e,t,o,n)=>{const s=mh(e,t,o,n);const r=Ge(e,o)&&t===n;return s.collapsed&&!r};const ph=e=>T.from(e.getSelection());const hh=(e,t)=>{ph(e).each((e=>{e.removeAllRanges();e.addRange(t)}))};const yh=(e,t,o,n,s)=>{const r=Km(e,t,o,n,s);hh(e,r)};const bh=(e,t,o,n,s,r)=>{t.collapse(o.dom,n);t.extend(s.dom,r)};const vh=(e,t)=>og(e,t).match({ltr:(t,o,n,s)=>{yh(e,t,o,n,s)},rtl:(t,o,n,s)=>{ph(e).each((r=>{if(r.setBaseAndExtent){r.setBaseAndExtent(t.dom,o,n.dom,s)}else if(r.extend){try{bh(e,r,t,o,n,s)}catch(r){yh(e,n,s,t,o)}}else{yh(e,n,s,t,o)}}))}});const kh=(e,t,o,n,s)=>{const r=fh(t,o,n,s);vh(e,r)};const wh=(e,t,o)=>{const n=uh(t,o);vh(e,n)};const _h=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0);const o=e.getRangeAt(e.rangeCount-1);return T.some(rg.create(Ze.fromDom(t.startContainer),t.startOffset,Ze.fromDom(o.endContainer),o.endOffset))}else{return T.none()}};const xh=e=>{if(e.anchorNode===null||e.focusNode===null){return _h(e)}else{const t=Ze.fromDom(e.anchorNode);const o=Ze.fromDom(e.focusNode);return gh(t,e.anchorOffset,o,e.focusOffset)?T.some(rg.create(t,e.anchorOffset,o,e.focusOffset)):_h(e)}};const Ch=(e,t,o=true)=>{const n=o?Um:Zm;const s=n(e,t);hh(e,s)};const Sh=e=>ph(e).filter((e=>e.rangeCount>0)).bind(xh);const zh=e=>Sh(e).map((e=>rh.exact(e.start,e.soffset,e.finish,e.foffset)));const Oh=(e,t)=>{const o=ng(e,t);return Xm(o)};const Th=(e,t,o)=>lh(e,t,o);const Eh=e=>{ph(e).each((e=>e.removeAllRanges()))};const Dh=e=>{const t=(t,o)=>Ze.fromPoint(Ze.fromDom(e.document),t,o);const o=e=>e.dom.getBoundingClientRect();const n=(t,o,n,s)=>{const r=rh.exact(t,o,n,s);return Oh(e,r)};const s=()=>zh(e).map((t=>ig(e,t)));const r=t=>{const o=rh.relative(t.start,t.finish);return ig(e,o)};const a=(t,o)=>Th(e,t,o).map((e=>cg.create(e.start,e.soffset,e.finish,e.foffset)));const c=()=>{Eh(e)};const i=(t=false)=>{zh(e).each((o=>o.fold((e=>e.collapse(t)),((o,n)=>{const s=t?o:n;wh(e,s,s)}),((o,n,s,r)=>{const a=t?o:s;const c=t?n:r;kh(e,a,c,a,c)}))))};const l=t=>{Ch(e,t,false)};const d=t=>{Ch(e,t)};const u=t=>{kh(e,t.start,t.soffset,t.finish,t.foffset)};const f=(t,o)=>{wh(e,t,o)};const m=()=>e.innerHeight;const g=()=>{const t=Kp(Ze.fromDom(e.document));return t.top};const p=(t,o)=>{Yp(t,o,Ze.fromDom(e.document))};return{elementFromPoint:t,getRect:o,getRangedRect:n,getSelection:s,fromSitus:r,situsFromPoint:a,clearSelection:c,collapseSelection:i,setSelection:u,setRelativeSelection:f,selectNode:l,selectContents:d,getInnerHeight:m,getScrollY:g,scrollBy:p}};const Ah=(e,t)=>({rows:e,cols:t});const Nh=(e,t,o,n)=>{const s=Dh(e);const r=Fp(s,t,o,n);return{clearstate:r.clearstate,mousedown:r.mousedown,mouseover:r.mouseover,mouseup:r.mouseup}};const Mh=(e,t,o,n)=>{const s=Dh(e);const r=()=>{n.clear(t);return T.none()};const a=(e,a,c,i,l,d)=>{const u=e.raw;const f=u.which;const m=u.shiftKey===true;const g=kc(t,n.selectedSelector).fold((()=>{if(Wp(f)&&!m){n.clearBeforeUpdate(t)}if(qp(f)&&m){return _(Bp,s,t,o,Vp,i,a,n.selectRange)}else if(Up(f)&&m){return _(Bp,s,t,o,jp,i,a,n.selectRange)}else if(qp(f)){return _(Np,s,o,Vp,i,a,Rp)}else if(Up(f)){return _(Np,s,o,jp,i,a,Mp)}else{return T.none}}),(e=>{const o=o=>()=>{const r=te(o,(o=>fg(o.rows,o.cols,t,e,n)));return r.fold((()=>_c(t,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>{const o=qp(f)||d.isForward(f)?Fm.after:Fm.before;s.setRelativeSelection(Fm.on(e.first,0),o(e.table));n.clear(t);return jm.create(T.none(),true)}))),(e=>T.some(jm.create(T.none(),true))))};if(qp(f)&&m){return o([Ah(+1,0)])}else if(Up(f)&&m){return o([Ah(-1,0)])}else if(d.isBackward(f)&&m){return o([Ah(0,-1),Ah(-1,0)])}else if(d.isForward(f)&&m){return o([Ah(0,+1),Ah(+1,0)])}else if(Wp(f)&&!m){return r}else{return T.none}}));return g()};const c=(e,s,r,a,c)=>kc(t,n.selectedSelector).fold((()=>{const i=e.raw;const l=i.which;const d=i.shiftKey===true;if(!d){return T.none()}if(Wp(l)){return dg(t,o,s,r,a,c,n.selectRange)}else{return T.none()}}),T.none);return{keydown:a,keyup:c}};const Rh=(e,t,o,n)=>{const s=Dh(e);return(e,r)=>{n.clearBeforeUpdate(t);vc(e,r,o).each((e=>{const o=e.boxes.getOr([]);n.selectRange(t,o,e.start,e.finish);s.selectContents(r);s.collapseSelection()}))}};const Bh=(e,t)=>{const o=Re(e,t);return o===undefined||o===""?[]:o.split(" ")};const Lh=(e,t,o)=>{const n=Bh(e,t);const s=n.concat([o]);Ae(e,t,s.join(" "));return true};const Hh=(e,t,o)=>{const n=F(Bh(e,t),(e=>e!==o));if(n.length>0){Ae(e,t,n.join(" "))}else{Le(e,t)}return false};const Ih=e=>e.dom.classList!==undefined;const Ph=e=>Bh(e,"class");const Fh=(e,t)=>Lh(e,"class",t);const Vh=(e,t)=>Hh(e,"class",t);const jh=(e,t)=>{if(Ih(e)){e.dom.classList.add(t)}else{Fh(e,t)}};const Zh=e=>{const t=Ih(e)?e.dom.classList:Ph(e);if(t.length===0){Le(e,"class")}};const Uh=(e,t)=>{if(Ih(e)){const o=e.dom.classList;o.remove(t)}else{Vh(e,t)}Zh(e)};const qh=(e,t)=>Ih(e)&&e.dom.classList.contains(t);const Wh=(e,t)=>{H(t,(t=>{Uh(e,t)}))};const $h=e=>t=>{jh(t,e)};const Gh=e=>t=>{Wh(t,e)};const Kh=e=>{const t=$h(e.selected);const o=Gh([e.selected,e.lastSelected,e.firstSelected]);const n=t=>{const n=oo(t,e.selectedSelector);H(n,o)};const s=(o,s,r,a)=>{n(o);H(s,t);jh(r,e.firstSelected);jh(a,e.lastSelected)};return{clearBeforeUpdate:n,clear:n,selectRange:s,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}};const Yh=(e,t,o)=>{const n=t=>{Le(t,e.selected);Le(t,e.firstSelected);Le(t,e.lastSelected)};const s=t=>{Ae(t,e.selected,"1")};const r=e=>{a(e);o()};const a=t=>{const o=oo(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`);H(o,n)};const c=(o,n,a,c)=>{r(o);H(n,s);Ae(a,e.firstSelected,"1");Ae(c,e.lastSelected,"1");t(n,a,c)};return{clearBeforeUpdate:a,clear:r,selectRange:c,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}};const Xh={byClass:Kh,byAttr:Yh};const Jh=(e,t,o,n)=>{switch(e.tag){case"none":return t();case"single":return n(e.element);case"multiple":return o(e.elements)}};const Qh=()=>({tag:"none"});const ey=e=>({tag:"multiple",elements:e});const ty=e=>({tag:"single",element:e});const oy=(e,t,o)=>{const n=()=>Sc(e(),o).fold((()=>t().fold(Qh,ty)),ey);return{get:n}};const ny=(e,t)=>{const o=e.slice(0,t[t.length-1].row+1);const n=Ui(o);return $(n,(e=>{const o=e.cells.slice(0,t[t.length-1].column+1);return L(o,(e=>e.element))}))};const sy=(e,t)=>{const o=e.slice(t[0].row+t[0].rowspan-1,e.length);const n=Ui(o);return $(n,(e=>{const o=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return L(o,(e=>e.element))}))};const ry=(e,t,o)=>{const n=Os.fromTable(e);const s=Ji(n,t);return s.map((e=>{const t=ji(n,o,false);const{rows:s}=us(t);const r=ny(s,e);const a=sy(s,e);return{upOrLeftCells:r,downOrRightCells:a}}))};const ay=(e,t,o,n,s,r,a)=>({target:e,x:t,y:o,stop:n,prevent:s,kill:r,raw:a});const cy=e=>{const t=Ze.fromDom(Wt(e).getOr(e.target));const o=()=>e.stopPropagation();const n=()=>e.preventDefault();const s=y(n,o);return ay(t,e.clientX,e.clientY,o,n,s,e)};const iy=(e,t)=>o=>{if(e(o)){t(cy(o))}};const ly=(e,t,o,n,s)=>{const r=iy(o,n);e.dom.addEventListener(t,r,s);return{unbind:_(uy,e,t,r,s)}};const dy=(e,t,o,n)=>ly(e,t,o,n,false);const uy=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)};const fy=O;const my=(e,t,o)=>dy(e,t,fy,o);const gy=cy;const py=e=>!qh(Ze.fromDom(e.target),"ephox-snooker-resizer-bar");const hy=(e,t)=>{const o=oy((()=>Ze.fromDom(e.getBody())),(()=>qc(Pa(e),Ha(e))),Ic.selectedSelector);const n=(t,o,n)=>{const s=Go(o);s.each((s=>{const r=rf(e);const a=Na(h,Ze.fromDom(e.getDoc()),r);const c=Wc(e);const i=ry(s,{selection:c},a);Wu(e,t,o,n,i)}))};const s=()=>$u(e);const r=Xh.byAttr(Ic,n,s);e.on("init",(o=>{const n=e.getWin();const s=La(e);const a=Ha(e);const c=()=>{const t=e.selection;const o=Ze.fromDom(t.getStart());const n=Ze.fromDom(t.getEnd());const a=hc(Go,[o,n]);a.fold((()=>r.clear(s)),h)};const i=Nh(n,s,a,r);const l=Mh(n,s,a,r);const d=Rh(n,s,a,r);const u=e=>e.raw.shiftKey===true;e.on("TableSelectorChange",(e=>d(e.start,e.finish)));const f=(t,o)=>{if(!u(t)){return}if(o.kill){t.kill()}o.selection.each((t=>{const o=rh.relative(t.start,t.finish);const s=ng(n,o);e.selection.setRng(s)}))};const m=t=>{const o=gy(t);if(o.raw.shiftKey&&Wp(o.raw.which)){const t=e.selection.getRng();const n=Ze.fromDom(t.startContainer);const s=Ze.fromDom(t.endContainer);l.keyup(o,n,t.startOffset,s,t.endOffset).each((e=>{f(o,e)}))}};const g=o=>{const n=gy(o);t.hide();const s=e.selection.getRng();const r=Ze.fromDom(s.startContainer);const a=Ze.fromDom(s.endContainer);const c=Ns($p,Gp)(Ze.fromDom(e.selection.getStart()));l.keydown(n,r,s.startOffset,a,s.endOffset,c).each((e=>{f(n,e)}));t.show()};const p=e=>e.button===0;const y=e=>{if(e.buttons===undefined){return true}return(e.buttons&1)!==0};const b=e=>{i.clearstate()};const v=e=>{if(p(e)&&py(e)){i.mousedown(gy(e))}};const k=e=>{if(y(e)&&py(e)){i.mouseover(gy(e))}};const w=e=>{if(p(e)&&py(e)){i.mouseup(gy(e))}};const _=()=>{const e=Lp(Ze.fromDom(s));const t=Lp(0);const o=o=>{const n=Ze.fromDom(o.target);if(Ee("td")(n)||Ee("th")(n)){const s=e.get();const r=t.get();if(Ge(s,n)&&o.timeStamp-r<300){o.preventDefault();d(n,n)}}e.set(n);t.set(o.timeStamp)};return{touchEnd:o}};const x=_();e.on("dragstart",b);e.on("mousedown",v);e.on("mouseover",k);e.on("mouseup",w);e.on("touchend",x.touchEnd);e.on("keyup",m);e.on("keydown",g);e.on("NodeChange",c)}));e.on("PreInit",(()=>{e.serializer.addTempAttr(Ic.firstSelected);e.serializer.addTempAttr(Ic.lastSelected)}));const a=e=>r.clear(Ze.fromDom(e));const c=()=>Jh(o.get(),v([]),(e=>L(e,(e=>e.dom))),(e=>[e.dom]));return{getSelectedCells:c,clearSelectedCells:a}};const yy=e=>{let t=[];const o=e=>{if(e===undefined){throw new Error("Event bind error: undefined handler")}t.push(e)};const n=e=>{t=F(t,(t=>t!==e))};const s=(...o)=>{const n={};H(e,((e,t)=>{n[e]=o[t]}));H(t,(e=>{e(n)}))};return{bind:o,unbind:n,trigger:s}};const by=e=>{const t=re(e,(e=>({bind:e.bind,unbind:e.unbind})));const o=re(e,(e=>e.trigger));return{registry:t,trigger:o}};const vy=(e,t)=>{let o=null;const n=()=>{if(!l(o)){clearTimeout(o);o=null}};const s=(...s)=>{n();o=setTimeout((()=>{o=null;e.apply(null,s)}),t)};return{cancel:n,throttle:s}};const ky=e=>e.slice(0).sort();const wy=(e,t)=>{throw new Error("All required keys ("+ky(e).join(", ")+") were not specified. Specified keys were: "+ky(t).join(", ")+".")};const _y=e=>{throw new Error("Unsupported keys for object: "+ky(e).join(", "))};const xy=(e,t)=>{if(!i(t)){throw new Error("The "+e+" fields must be an array. Was: "+t+".")}H(t,(t=>{if(!a(t)){throw new Error("The value "+t+" in the "+e+" fields was not a string.")}}))};const Cy=(e,t)=>{throw new Error("All values need to be of type: "+t+". Keys ("+ky(e).join(", ")+") were not.")};const Sy=e=>{const t=ky(e);const o=U(t,((e,o)=>o<t.length-1&&e===t[o+1]));o.each((e=>{throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))};const zy=(e,t)=>Oy(e,t,{validate:g,label:"function"});const Oy=(e,t,o)=>{if(t.length===0){throw new Error("You must specify at least one required field.")}xy("required",t);Sy(t);return n=>{const s=oe(n);const r=G(t,(e=>M(s,e)));if(!r){wy(t,s)}e(t,s);const a=F(t,(e=>!o.validate(n[e],e)));if(a.length>0){Cy(a,o.label)}return n}};const Ty=(e,t)=>{const o=F(t,(t=>!M(e,t)));if(o.length>0){_y(o)}};const Ey=e=>zy(Ty,e);const Dy=Ey(["compare","extract","mutate","sink"]);const Ay=Ey(["element","start","stop","destroy"]);const Ny=Ey(["forceDrop","drop","move","delayDrop"]);const My=()=>{let e=T.none();const t=()=>{e=T.none()};const o=(t,o)=>{const n=e.map((e=>t.compare(e,o)));e=T.some(o);return n};const n=(e,t)=>{const n=t.extract(e);n.each((e=>{const n=o(t,e);n.each((e=>{s.trigger.move(e)}))}))};const s=by({move:yy(["info"])});return{onEvent:n,reset:t,events:s.registry}};const Ry=()=>{const e=by({move:yy(["info"])});return{onEvent:h,reset:h,events:e.registry}};const By=()=>{const e=Ry();const t=My();let o=e;const n=()=>{o.reset();o=t};const s=()=>{o.reset();o=e};const r=(e,t)=>{o.onEvent(e,t)};const a=()=>o===t;return{on:n,off:s,isOn:a,onEvent:r,events:t.events}};const Ly=(e,t,o)=>{let n=false;const s=by({start:yy([]),stop:yy([])});const r=By();const a=()=>{m.stop();if(r.isOn()){r.off();s.trigger.stop()}};const c=vy(a,200);const i=e=>{m.start(e);r.on();s.trigger.start()};const l=e=>{c.cancel();r.onEvent(e,t)};r.events.move.bind((o=>{t.mutate(e,o.info)}));const d=()=>{n=true};const u=()=>{n=false};const f=e=>(...t)=>{if(n){e.apply(null,t)}};const m=t.sink(Ny({forceDrop:a,drop:f(a),move:f(l),delayDrop:f(c.throttle)}),o);const g=()=>{m.destroy()};return{element:m.element,go:i,on:d,off:u,destroy:g,events:s.registry}};const Hy=e=>{const t=e.replace(/\./g,"-");const o=e=>t+"-"+e;return{resolve:o}};const Iy=Hy("ephox-dragster");const Py=Iy.resolve;const Fy=e=>{const t={layerClass:Py("blocker"),...e};const o=Ze.fromTag("div");Ae(o,"role","presentation");Eo(o,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"});jh(o,Py("blocker"));jh(o,t.layerClass);const n=v(o);const s=()=>{bt(o)};return{element:n,destroy:s}};const Vy=(e,t)=>Ps(t.left-e.left,t.top-e.top);const jy=e=>T.some(Ps(e.x,e.y));const Zy=(e,t)=>{e.mutate(t.left,t.top)};const Uy=(e,t)=>{const o=Fy(t);const n=my(o.element(),"mousedown",e.forceDrop);const s=my(o.element(),"mouseup",e.drop);const r=my(o.element(),"mousemove",e.move);const a=my(o.element(),"mouseout",e.delayDrop);const c=()=>{o.destroy();s.unbind();r.unbind();a.unbind();n.unbind()};const i=e=>{ft(e,o.element())};const l=()=>{bt(o.element())};return Ay({element:o.element,start:i,stop:l,destroy:c})};var qy=Dy({compare:Vy,extract:jy,sink:Uy,mutate:Zy});const Wy=(e,t={})=>{var o;const n=(o=t.mode)!==null&&o!==void 0?o:qy;return Ly(e,n,t)};const $y=Hy("ephox-snooker");const Gy=$y.resolve;const Ky=()=>{const e=by({drag:yy(["xDelta","yDelta"])});const t=(t,o)=>{e.trigger.drag(t,o)};return{mutate:t,events:e.registry}};const Yy=()=>{const e=by({drag:yy(["xDelta","yDelta","target"])});let t=T.none();const o=Ky();o.events.drag.bind((o=>{t.each((t=>{e.trigger.drag(o.xDelta,o.yDelta,t)}))}));const n=e=>{t=T.some(e)};const s=()=>t;return{assign:n,get:s,mutate:o.mutate,events:e.registry}};const Xy=(e,t,o,n,s)=>{const r=Ze.fromTag("div");Eo(r,{position:"absolute",left:t-n/2+"px",top:o+"px",height:s+"px",width:n+"px"});Ne(r,{"data-column":e,role:"presentation"});return r};const Jy=(e,t,o,n,s)=>{const r=Ze.fromTag("div");Eo(r,{position:"absolute",left:t+"px",top:o-s/2+"px",height:s+"px",width:n+"px"});Ne(r,{"data-row":e,role:"presentation"});return r};const Qy=Gy("resizer-bar");const eb=Gy("resizer-rows");const tb=Gy("resizer-cols");const ob=7;const nb=(e,t)=>$(e.all,((e,o)=>t(e.element)?[o]:[]));const sb=(e,t)=>{const o=[];B(e.grid.columns,(n=>{const s=Os.getColumnAt(e,n).map((e=>e.element));if(s.forall(t)){o.push(n)}}));return F(o,(o=>{const n=Os.filterItems(e,(e=>e.column===o));return G(n,(e=>t(e.element)))}))};const rb=e=>{const t=oo(e.parent(),"."+Qy);H(t,bt)};const ab=(e,t,o)=>{const n=e.origin();H(t,(t=>{t.each((t=>{const s=o(n,t);jh(s,Qy);ft(e.parent(),s)}))}))};const cb=(e,t,o,n)=>{ab(e,t,((e,t)=>{const s=Xy(t.col,t.x-e.left,o.top-e.top,ob,n);jh(s,tb);return s}))};const ib=(e,t,o,n)=>{ab(e,t,((e,t)=>{const s=Jy(t.row,o.left-e.left,t.y-e.top,n,ob);jh(s,eb);return s}))};const lb=(e,t,o,n,s)=>{const r=js(o);const a=t.isResizable;const c=n.length>0?tr.positions(n,o):[];const i=c.length>0?nb(e,a):[];const l=F(c,((e,t)=>R(i,(e=>t===e))));ib(t,l,r,es(o));const d=s.length>0?rr.positions(s,o):[];const u=d.length>0?sb(e,a):[];const f=F(d,((e,t)=>R(u,(e=>t===e))));cb(t,f,r,Ls(o))};const db=(e,t)=>{rb(e);if(e.isResizable(t)){const o=Os.fromTable(t);const n=Ds(o);const s=Ts(o);lb(o,e,t,n,s)}};const ub=(e,t)=>{const o=oo(e.parent(),"."+Qy);H(o,t)};const fb=e=>{ub(e,(e=>{To(e,"display","none")}))};const mb=e=>{ub(e,(e=>{To(e,"display","block")}))};const gb=e=>qh(e,eb);const pb=e=>qh(e,tb);const hb=Gy("resizer-bar-dragging");const yb=e=>{const t=Yy();const o=Wy(t,{});let n=T.none();const s=(e,t)=>T.from(Re(e,t));t.events.drag.bind((e=>{s(e.target,"data-row").each((t=>{const o=Po(e.target,"top");To(e.target,"top",o+e.yDelta+"px")}));s(e.target,"data-column").each((t=>{const o=Po(e.target,"left");To(e.target,"left",o+e.xDelta+"px")}))}));const r=(e,t)=>{const o=Po(e,t);const n=Bo(e,"data-initial-"+t,0);return o-n};o.events.stop.bind((()=>{t.get().each((t=>{n.each((o=>{s(t,"data-row").each((e=>{const n=r(t,"top");Le(t,"data-initial-top");m.trigger.adjustHeight(o,n,parseInt(e,10))}));s(t,"data-column").each((e=>{const n=r(t,"left");Le(t,"data-initial-left");m.trigger.adjustWidth(o,n,parseInt(e,10))}));db(e,o)}))}))}));const a=(n,s)=>{m.trigger.startAdjust();t.assign(n);Ae(n,"data-initial-"+s,Po(n,s));jh(n,hb);To(n,"opacity","0.2");o.go(e.parent())};const c=my(e.parent(),"mousedown",(e=>{if(gb(e.target)){a(e.target,"top")}if(pb(e.target)){a(e.target,"left")}}));const i=t=>Ge(t,e.view());const l=e=>fo(e,"table",i).filter(Di);const d=my(e.view(),"mouseover",(t=>{l(t.target).fold((()=>{if(Gt(t.target)){rb(e)}}),(t=>{n=T.some(t);db(e,t)}))}));const u=()=>{c.unbind();d.unbind();o.destroy();rb(e)};const f=t=>{db(e,t)};const m=by({adjustHeight:yy(["table","delta","row"]),adjustWidth:yy(["table","delta","column"]),startAdjust:yy([])});return{destroy:u,refresh:f,on:o.on,off:o.off,hideBars:_(fb,e),showBars:_(mb,e),events:m.registry}};const bb=(e,t,o)=>{const n=tr;const s=rr;const r=yb(e);const a=by({beforeResize:yy(["table","type"]),afterResize:yy(["table","type"]),startDrag:yy([])});r.events.adjustHeight.bind((e=>{const t=e.table;a.trigger.beforeResize(t,"row");const o=n.delta(e.delta,t);dd(t,o,e.row,n);a.trigger.afterResize(t,"row")}));r.events.startAdjust.bind((e=>{a.trigger.startDrag()}));r.events.adjustWidth.bind((e=>{const n=e.table;a.trigger.beforeResize(n,"col");const r=s.delta(e.delta,n);const c=o(n);ld(n,r,e.column,t,c);a.trigger.afterResize(n,"col")}));return{on:r.on,off:r.off,refreshBars:r.refresh,hideBars:r.hideBars,showBars:r.showBars,destroy:r.destroy,events:a.registry}};const vb={create:bb};const kb=(e,t)=>{const o=Oe(e)?Qe(e):e;return{parent:v(o),view:v(e),origin:v(Ps(0,0)),isResizable:t}};const wb=(e,t,o)=>{const n=()=>js(t);return{parent:v(t),view:v(e),origin:n,isResizable:o}};const _b=(e,t,o)=>({parent:v(t),view:v(e),origin:v(Ps(0,0)),isResizable:o});const xb={only:kb,detached:wb,body:_b};const Cb=()=>{const e=Ze.fromTag("div");Eo(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"});ft(Kt(),e);return e};const Sb=(e,t)=>e.inline?xb.body(Ze.fromDom(e.getBody()),Cb(),t):xb.only(Ze.fromDom(e.getDoc()),t);const zb=(e,t)=>{if(e.inline){bt(t.parent())}};const Ob=e=>m(e)&&e.nodeName==="TABLE";const Tb="bar-";const Eb=e=>Re(e,"data-mce-resize")!=="false";const Db=e=>{const t=Os.fromTable(e);if(!Os.hasColumns(t)){H(Wo(e),(e=>{const t=Do(e,"width");To(e,"width",t);Le(e,"width")}))}};const Ab=e=>{const t=Ip();const o=Ip();const n=Ip();let s;let r;const a=t=>wf(e,t);const c=()=>df(e)?fi():ui();const i=e=>mi(e).columns;const l=(t,o,n)=>{const l=ko(o,"e");if(r===""){Jf(t)}if(n!==s&&r!==""){To(t,"width",r);const o=c();const d=a(t);const u=df(e)||l?i(t)-1:0;ld(t,n-s,u,o,d)}else if(Za(r)){const e=parseFloat(r.replace("%",""));const o=n*e/s;To(t,"width",o+"%")}if(Ua(r)){Db(t)}};const d=()=>{o.on((e=>{e.destroy()}));n.on((t=>{zb(e,t)}))};e.on("init",(()=>{const s=Sb(e,Eb);n.set(s);if(af(e)&&hf(e)){const n=c();const r=vb.create(s,n,a);r.on();r.events.startDrag.bind((o=>{t.set(e.selection.getRng())}));r.events.beforeResize.bind((t=>{const o=t.table.dom;Gu(e,o,Fa(o),Va(o),Tb+t.type)}));r.events.afterResize.bind((o=>{const n=o.table;const s=n.dom;Ia(n);t.on((t=>{e.selection.setRng(t);e.focus()}));Ku(e,s,Fa(s),Va(s),Tb+o.type);e.undoManager.add()}));o.set(r)}}));e.on("ObjectResizeStart",(t=>{const o=t.target;if(Ob(o)){const n=Ze.fromDom(o);H(e.dom.select(".mce-clonedresizable"),(t=>{e.dom.addClass(t,"mce-"+lf(e)+"-columns")}));if(!Kf(n)&&gf(e)){Qf(n)}else if(!Gf(n)&&mf(e)){Jf(n)}if(Yf(n)&&vo(t.origin,Tb)){Jf(n)}s=t.width;r=pf(e)?"":ja(e,o).getOr("")}}));e.on("ObjectResized",(t=>{const o=t.target;if(Ob(o)){const n=Ze.fromDom(o);const s=t.origin;if(vo(s,"corner-")){l(n,s,t.width)}Ia(n);qu(e,n.dom,Yu)}}));e.on("SwitchMode",(()=>{o.on((t=>{if(e.mode.isReadOnly()){t.hideBars()}else{t.showBars()}}))}));e.on("remove",(()=>{d()}));const u=e=>{o.on((t=>t.refreshBars(Ze.fromDom(e))))};const f=()=>{o.on((e=>e.hideBars()))};const m=()=>{o.on((e=>e.showBars()))};return{refresh:u,hide:f,show:m}};const Nb=e=>{sf(e);const t=Ab(e);const o=hy(e,t);const n=_f(e,t,o);Nm(e,n);Mm(e,n);Xc(e,n);return{getSelectedCells:o.getSelectedCells,clearSelectedCells:o.clearSelectedCells}};const Mb=e=>{const t=Nb(e);return{table:t}};var Rb=()=>{e.add("dom",Mb)};Rb()})()},()=>{(function(){"use strict";const e=Object.getPrototypeOf;const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=e=>t=>e===t;const a=(o,n)=>i(o)&&t(o,n,((t,o)=>e(t)===o));const c=n("string");const i=n("object");const l=e=>a(e,Object);const d=n("array");const u=r(null);const f=s("boolean");const m=r(undefined);const g=e=>e===null||e===undefined;const p=e=>!g(e);const h=s("function");const y=s("number");const b=(e,t)=>{if(d(e)){for(let o=0,n=e.length;o<n;++o){if(!t(e[o])){return false}}return true}return false};const v=()=>{};const k=e=>()=>e();const w=(e,t)=>(...o)=>e(t.apply(null,o));const _=(e,t)=>o=>e(t(o));const x=e=>()=>e;const C=e=>e;const S=(e,t)=>e===t;function z(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const O=e=>t=>!e(t);const T=e=>()=>{throw new Error(e)};const E=e=>e();const D=x(false);const A=x(true);var N=tinymce.util.Tools.resolve("tinymce.ThemeManager");class M{constructor(e,t){this.tag=e;this.value=t}static some(e){return new M(true,e)}static none(){return M.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return M.some(e(this.value))}else{return M.none()}}bind(e){if(this.tag){return e(this.value)}else{return M.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return M.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return p(e)?M.some(e):M.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}M.singletonNone=new M(false);const R=Array.prototype.slice;const B=Array.prototype.indexOf;const L=Array.prototype.push;const H=(e,t)=>B.call(e,t);const I=(e,t)=>{const o=H(e,t);return o===-1?M.none():M.some(o)};const P=(e,t)=>H(e,t)>-1;const F=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const V=(e,t)=>{const o=[];for(let n=0;n<e;n++){o.push(t(n))}return o};const j=(e,t)=>{const o=[];for(let n=0;n<e.length;n+=t){const s=R.call(e,n,n+t);o.push(s)}return o};const Z=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const U=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const q=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}};const W=(e,t)=>{const o=[];const n=[];for(let s=0,r=e.length;s<r;s++){const r=e[s];const a=t(r,s)?o:n;a.push(r)}return{pass:o,fail:n}};const $=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const G=(e,t,o)=>{q(e,((e,n)=>{o=t(o,e,n)}));return o};const K=(e,t,o)=>{U(e,((e,n)=>{o=t(o,e,n)}));return o};const Y=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return M.some(s)}else if(o(s,n)){break}}return M.none()};const X=(e,t)=>Y(e,t,D);const J=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return M.some(o)}}return M.none()};const Q=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!d(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}L.apply(t,e[o])}return t};const ee=(e,t)=>Q(Z(e,t));const te=(e,t)=>{for(let o=0,n=e.length;o<n;++o){const n=e[o];if(t(n,o)!==true){return false}}return true};const oe=e=>{const t=R.call(e,0);t.reverse();return t};const ne=(e,t)=>$(e,(e=>!P(t,e)));const se=(e,t)=>{const o={};for(let n=0,s=e.length;n<s;n++){const s=e[n];o[String(s)]=t(s,n)}return o};const re=e=>[e];const ae=(e,t)=>{const o=R.call(e,0);o.sort(t);return o};const ce=(e,t)=>t>=0&&t<e.length?M.some(e[t]):M.none();const ie=e=>ce(e,0);const le=e=>ce(e,e.length-1);const de=h(Array.from)?Array.from:e=>R.call(e);const ue=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return M.none()};const fe=Object.keys;const me=Object.hasOwnProperty;const ge=(e,t)=>{const o=fe(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const pe=(e,t)=>he(e,((e,o)=>({k:o,v:t(e,o)})));const he=(e,t)=>{const o={};ge(e,((e,n)=>{const s=t(e,n);o[s.k]=s.v}));return o};const ye=e=>(t,o)=>{e[o]=t};const be=(e,t,o,n)=>{ge(e,((e,s)=>{(t(e,s)?o:n)(e,s)}))};const ve=(e,t)=>{const o={};const n={};be(e,t,ye(o),ye(n));return{t:o,f:n}};const ke=(e,t)=>{const o={};be(e,t,ye(o),v);return o};const we=(e,t)=>{const o=[];ge(e,((e,n)=>{o.push(t(e,n))}));return o};const _e=(e,t)=>{const o=fe(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];if(t(r,s,e)){return M.some(r)}}return M.none()};const xe=e=>we(e,C);const Ce=(e,t)=>Se(e,t)?M.from(e[t]):M.none();const Se=(e,t)=>me.call(e,t);const ze=(e,t)=>Se(e,t)&&e[t]!==undefined&&e[t]!==null;const Oe=(e,t,o=S)=>e.exists((e=>o(e,t)));const Te=(e,t,o=S)=>Ae(e,t,o).getOr(e.isNone()&&t.isNone());const Ee=e=>{const t=[];const o=e=>{t.push(e)};for(let t=0;t<e.length;t++){e[t].each(o)}return t};const De=e=>{const t=[];for(let o=0;o<e.length;o++){const n=e[o];if(n.isSome()){t.push(n.getOrDie())}else{return M.none()}}return M.some(t)};const Ae=(e,t,o)=>e.isSome()&&t.isSome()?M.some(o(e.getOrDie(),t.getOrDie())):M.none();const Ne=(e,t,o,n)=>e.isSome()&&t.isSome()&&o.isSome()?M.some(n(e.getOrDie(),t.getOrDie(),o.getOrDie())):M.none();const Me=(e,t)=>e!==undefined&&e!==null?M.some(t(e)):M.none();const Re=(e,t)=>e?M.some(t):M.none();const Be=(e,t)=>e+t;const Le=(e,t)=>e.substring(t);const He=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const Ie=(e,t)=>Ve(e,t)?Le(e,t.length):e;const Pe=(e,t)=>je(e,t)?e:Be(e,t);const Fe=(e,t,o=0,n)=>{const s=e.indexOf(t,o);if(s!==-1){return m(n)?true:s+t.length<=n}else{return false}};const Ve=(e,t)=>He(e,t,0);const je=(e,t)=>He(e,t,e.length-t.length);const Ze=e=>t=>t.replace(e,"");const Ue=Ze(/^\s+|\s+$/g);const qe=e=>e.length>0;const We=e=>!qe(e);const $e=e=>e.style!==undefined&&h(e.style.getPropertyValue);const Ge=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return Xe(n.childNodes[0])};const Ke=(e,t)=>{const o=t||document;const n=o.createElement(e);return Xe(n)};const Ye=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return Xe(n)};const Xe=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const Je=(e,t,o)=>M.from(e.dom.elementFromPoint(t,o)).map(Xe);const Qe={fromHtml:Ge,fromTag:Ke,fromText:Ye,fromDom:Xe,fromPoint:Je};const et=typeof window!=="undefined"?window:Function("return this;")();const tt=(e,t)=>{let o=t!==undefined&&t!==null?t:et;for(let t=0;t<e.length&&o!==undefined&&o!==null;++t){o=o[e[t]]}return o};const ot=(e,t)=>{const o=e.split(".");return tt(o,t)};const nt=(e,t)=>ot(e,t);const st=(e,t)=>{const o=nt(e,t);if(o===undefined||o===null){throw new Error(e+" not available on this browser")}return o};const rt=Object.getPrototypeOf;const at=e=>st("HTMLElement",e);const ct=e=>{const t=ot("ownerDocument.defaultView",e);return i(e)&&(at(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(rt(e).constructor.name))};const it=9;const lt=11;const dt=1;const ut=3;const ft=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const mt=e=>e.dom.nodeType;const gt=e=>t=>mt(t)===e;const pt=e=>ht(e)&&ct(e.dom);const ht=gt(dt);const yt=gt(ut);const bt=gt(it);const vt=gt(lt);const kt=e=>t=>ht(t)&&ft(t)===e;const wt=(e,t)=>{const o=e.dom;if(o.nodeType!==dt){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const _t=e=>e.nodeType!==dt&&e.nodeType!==it&&e.nodeType!==lt||e.childElementCount===0;const xt=(e,t)=>{const o=t===undefined?document:t.dom;return _t(o)?[]:Z(o.querySelectorAll(e),Qe.fromDom)};const Ct=(e,t)=>{const o=t===undefined?document:t.dom;return _t(o)?M.none():M.from(o.querySelector(e)).map(Qe.fromDom)};const St=(e,t)=>e.dom===t.dom;const zt=(e,t)=>{const o=e.dom;const n=t.dom;return o===n?false:o.contains(n)};const Ot=e=>Qe.fromDom(e.dom.ownerDocument);const Tt=e=>bt(e)?e:Ot(e);const Et=e=>Qe.fromDom(Tt(e).dom.documentElement);const Dt=e=>Qe.fromDom(Tt(e).dom.defaultView);const At=e=>M.from(e.dom.parentNode).map(Qe.fromDom);const Nt=e=>M.from(e.dom.parentElement).map(Qe.fromDom);const Mt=e=>M.from(e.dom.offsetParent).map(Qe.fromDom);const Rt=e=>M.from(e.dom.nextSibling).map(Qe.fromDom);const Bt=e=>Z(e.dom.childNodes,Qe.fromDom);const Lt=(e,t)=>{const o=e.dom.childNodes;return M.from(o[t]).map(Qe.fromDom)};const Ht=e=>Lt(e,0);const It=(e,t)=>({element:e,offset:t});const Pt=(e,t)=>{const o=Bt(e);return o.length>0&&t<o.length?It(o[t],0):It(e,t)};const Ft=e=>vt(e)&&p(e.dom.host);const Vt=h(Element.prototype.attachShadow)&&h(Node.prototype.getRootNode);const jt=x(Vt);const Zt=Vt?e=>Qe.fromDom(e.dom.getRootNode()):Tt;const Ut=e=>Ft(e)?e:Qe.fromDom(Tt(e).dom.body);const qt=e=>Wt(e).isSome();const Wt=e=>{const t=Zt(e);return Ft(t)?M.some(t):M.none()};const $t=e=>Qe.fromDom(e.dom.host);const Gt=e=>{if(jt()&&p(e.target)){const t=Qe.fromDom(e.target);if(ht(t)&&Kt(t)){if(e.composed&&e.composedPath){const t=e.composedPath();if(t){return ie(t)}}}}return M.from(e.target)};const Kt=e=>p(e.dom.shadowRoot);const Yt=e=>{const t=yt(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return Wt(Qe.fromDom(t)).fold((()=>o.body.contains(t)),_(Yt,$t))};const Xt=()=>Jt(Qe.fromDom(document));const Jt=e=>{const t=e.dom.body;if(t===null||t===undefined){throw new Error("Body is not available yet")}return Qe.fromDom(t)};const Qt=(e,t,o)=>{if(c(o)||f(o)||y(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const eo=(e,t,o)=>{Qt(e.dom,t,o)};const to=(e,t)=>{const o=e.dom;ge(t,((e,t)=>{Qt(o,t,e)}))};const oo=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?undefined:o};const no=(e,t)=>M.from(oo(e,t));const so=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):false};const ro=(e,t)=>{e.dom.removeAttribute(t)};const ao=e=>K(e.dom.attributes,((e,t)=>{e[t.name]=t.value;return e}),{});const co=(e,t,o)=>{if(!c(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if($e(e)){e.style.setProperty(t,o)}};const io=(e,t)=>{if($e(e)){e.style.removeProperty(t)}};const lo=(e,t,o)=>{const n=e.dom;co(n,t,o)};const uo=(e,t)=>{const o=e.dom;ge(t,((e,t)=>{co(o,t,e)}))};const fo=(e,t)=>{const o=e.dom;ge(t,((e,t)=>{e.fold((()=>{io(o,t)}),(e=>{co(o,t,e)}))}))};const mo=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!Yt(e)?go(o,t):s};const go=(e,t)=>$e(e)?e.style.getPropertyValue(t):"";const po=(e,t)=>{const o=e.dom;const n=go(o,t);return M.from(n).filter((e=>e.length>0))};const ho=e=>{const t={};const o=e.dom;if($e(o)){for(let e=0;e<o.style.length;e++){const n=o.style.item(e);t[n]=o.style[n]}}return t};const yo=(e,t,o)=>{const n=Qe.fromTag(e);lo(n,t,o);const s=po(n,t);return s.isSome()};const bo=(e,t)=>{const o=e.dom;io(o,t);if(Oe(no(e,"style").map(Ue),"")){ro(e,"style")}};const vo=e=>e.dom.offsetWidth;const ko=(e,t)=>{const o=(t,o)=>{if(!y(o)&&!o.match(/^[0-9]+$/)){throw new Error(e+".set accepts only positive integer values. Value was "+o)}const n=t.dom;if($e(n)){n.style[e]=o+"px"}};const n=o=>{const n=t(o);if(n<=0||n===null){const t=mo(o,e);return parseFloat(t)||0}return n};const s=n;const r=(e,t)=>K(t,((t,o)=>{const n=mo(e,o);const s=n===undefined?0:parseInt(n,10);return isNaN(s)?t:t+s}),0);const a=(e,t,o)=>{const n=r(e,o);const s=t>n?t-n:0;return s};return{set:o,get:n,getOuter:s,aggregate:r,max:a}};const wo=ko("height",(e=>{const t=e.dom;return Yt(e)?t.getBoundingClientRect().height:t.offsetHeight}));const _o=e=>wo.get(e);const xo=e=>wo.getOuter(e);const Co=(e,t)=>{const o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"];const n=wo.max(e,t,o);lo(e,"max-height",n+"px")};const So=(e,t)=>{const o=(o,n)=>So(e+o,t+n);return{left:e,top:t,translate:o}};const zo=So;const Oo=e=>{const t=e.getBoundingClientRect();return zo(t.left,t.top)};const To=(e,t)=>{if(e!==undefined){return e}else{return t!==undefined?t:0}};const Eo=e=>{const t=e.dom.ownerDocument;const o=t.body;const n=t.defaultView;const s=t.documentElement;if(o===e.dom){return zo(o.offsetLeft,o.offsetTop)}const r=To(n===null||n===void 0?void 0:n.pageYOffset,s.scrollTop);const a=To(n===null||n===void 0?void 0:n.pageXOffset,s.scrollLeft);const c=To(s.clientTop,o.clientTop);const i=To(s.clientLeft,o.clientLeft);return Do(e).translate(a-i,r-c)};const Do=e=>{const t=e.dom;const o=t.ownerDocument;const n=o.body;if(n===t){return zo(n.offsetLeft,n.offsetTop)}if(!Yt(e)){return zo(0,0)}return Oo(t)};const Ao=ko("width",(e=>e.dom.offsetWidth));const No=(e,t)=>Ao.set(e,t);const Mo=e=>Ao.get(e);const Ro=e=>Ao.getOuter(e);const Bo=(e,t)=>{const o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"];const n=Ao.max(e,t,o);lo(e,"max-width",n+"px")};const Lo=e=>{let t=false;let o;return(...n)=>{if(!t){t=true;o=e.apply(null,n)}return o}};const Ho=(e,t,o,n)=>{const s=e.isiOS()&&/ipad/i.test(o)===true;const r=e.isiOS()&&!s;const a=e.isiOS()||e.isAndroid();const c=a||n("(pointer:coarse)");const i=s||!r&&a&&n("(min-device-width:768px)");const l=r||a&&!i;const d=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===false;const u=!l&&!i&&!d;return{isiPad:x(s),isiPhone:x(r),isTablet:x(i),isPhone:x(l),isTouch:x(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:x(d),isDesktop:x(u)}};const Io=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t)){return n}}return undefined};const Po=(e,t)=>{const o=Io(e,t);if(!o){return{major:0,minor:0}}const n=e=>Number(t.replace(o,"$"+e));return jo(n(1),n(2))};const Fo=(e,t)=>{const o=String(t).toLowerCase();if(e.length===0){return Vo()}return Po(e,o)};const Vo=()=>jo(0,0);const jo=(e,t)=>({major:e,minor:t});const Zo={nu:jo,detect:Fo,unknown:Vo};const Uo=(e,t)=>ue(t.brands,(t=>{const o=t.brand.toLowerCase();return X(e,(e=>{var t;return o===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:Zo.nu(parseInt(t.version,10),0)})))}));const qo=(e,t)=>{const o=String(t).toLowerCase();return X(e,(e=>e.search(o)))};const Wo=(e,t)=>qo(e,t).map((e=>{const o=Zo.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const $o=(e,t)=>qo(e,t).map((e=>{const o=Zo.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const Go=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;const Ko=e=>t=>Fe(t,e);const Yo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Fe(e,"edge/")&&Fe(e,"chrome")&&Fe(e,"safari")&&Fe(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Go],search:e=>Fe(e,"chrome")&&!Fe(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Fe(e,"msie")||Fe(e,"trident")},{name:"Opera",versionRegexes:[Go,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ko("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ko("firefox")},{name:"Safari",versionRegexes:[Go,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Fe(e,"safari")||Fe(e,"mobile/"))&&Fe(e,"applewebkit")}];const Xo=[{name:"Windows",search:Ko("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Fe(e,"iphone")||Fe(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ko("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ko("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ko("linux"),versionRegexes:[]},{name:"Solaris",search:Ko("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ko("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ko("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];const Jo={browsers:x(Yo),oses:x(Xo)};const Qo="Edge";const en="Chromium";const tn="IE";const on="Opera";const nn="Firefox";const sn="Safari";const rn=()=>an({current:undefined,version:Zo.unknown()});const an=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isEdge:n(Qo),isChromium:n(en),isIE:n(tn),isOpera:n(on),isFirefox:n(nn),isSafari:n(sn)}};const cn={unknown:rn,nu:an,edge:x(Qo),chromium:x(en),ie:x(tn),opera:x(on),firefox:x(nn),safari:x(sn)};const ln="Windows";const dn="iOS";const un="Android";const fn="Linux";const mn="macOS";const gn="Solaris";const pn="FreeBSD";const hn="ChromeOS";const yn=()=>bn({current:undefined,version:Zo.unknown()});const bn=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isWindows:n(ln),isiOS:n(dn),isAndroid:n(un),isMacOS:n(mn),isLinux:n(fn),isSolaris:n(gn),isFreeBSD:n(pn),isChromeOS:n(hn)}};const vn={unknown:yn,nu:bn,windows:x(ln),ios:x(dn),android:x(un),linux:x(fn),macos:x(mn),solaris:x(gn),freebsd:x(pn),chromeos:x(hn)};const kn=(e,t,o)=>{const n=Jo.browsers();const s=Jo.oses();const r=t.bind((e=>Uo(n,e))).orThunk((()=>Wo(n,e))).fold(cn.unknown,cn.nu);const a=$o(s,e).fold(vn.unknown,vn.nu);const c=Ho(a,r,e,o);return{browser:r,os:a,deviceType:c}};const wn={detect:kn};const _n=e=>window.matchMedia(e).matches;let xn=Lo((()=>wn.detect(navigator.userAgent,M.from(navigator.userAgentData),_n)));const Cn=()=>xn();const Sn=(e,t,o,n,s,r,a)=>({target:e,x:t,y:o,stop:n,prevent:s,kill:r,raw:a});const zn=e=>{const t=Qe.fromDom(Gt(e).getOr(e.target));const o=()=>e.stopPropagation();const n=()=>e.preventDefault();const s=w(n,o);return Sn(t,e.clientX,e.clientY,o,n,s,e)};const On=(e,t)=>o=>{if(e(o)){t(zn(o))}};const Tn=(e,t,o,n,s)=>{const r=On(o,n);e.dom.addEventListener(t,r,s);return{unbind:z(An,e,t,r,s)}};const En=(e,t,o,n)=>Tn(e,t,o,n,false);const Dn=(e,t,o,n)=>Tn(e,t,o,n,true);const An=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)};const Nn=(e,t)=>{const o=At(e);o.each((o=>{o.dom.insertBefore(t.dom,e.dom)}))};const Mn=(e,t)=>{const o=Rt(e);o.fold((()=>{const o=At(e);o.each((e=>{Bn(e,t)}))}),(e=>{Nn(e,t)}))};const Rn=(e,t)=>{const o=Ht(e);o.fold((()=>{Bn(e,t)}),(o=>{e.dom.insertBefore(t.dom,o.dom)}))};const Bn=(e,t)=>{e.dom.appendChild(t.dom)};const Ln=(e,t,o)=>{Lt(e,o).fold((()=>{Bn(e,t)}),(e=>{Nn(e,t)}))};const Hn=(e,t)=>{U(t,(t=>{Bn(e,t)}))};const In=e=>{e.dom.textContent="";U(Bt(e),(e=>{Pn(e)}))};const Pn=e=>{const t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};const Fn=e=>{const t=e!==undefined?e.dom:document;const o=t.body.scrollLeft||t.documentElement.scrollLeft;const n=t.body.scrollTop||t.documentElement.scrollTop;return zo(o,n)};const Vn=(e,t,o)=>{const n=o!==undefined?o.dom:document;const s=n.defaultView;if(s){s.scrollTo(e,t)}};const jn=e=>{const t=e===undefined?window:e;if(Cn().browser.isFirefox()){return M.none()}else{return M.from(t.visualViewport)}};const Zn=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n});const Un=e=>{const t=e===undefined?window:e;const o=t.document;const n=Fn(Qe.fromDom(o));return jn(t).fold((()=>{const e=t.document.documentElement;const o=e.clientWidth;const s=e.clientHeight;return Zn(n.left,n.top,o,s)}),(e=>Zn(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)))};const qn=()=>Qe.fromDom(document);const Wn=(e,t)=>{const o=e.view(t);return o.fold(x([]),(t=>{const o=e.owner(t);const n=Wn(e,o);return[t].concat(n)}))};const $n=(e,t)=>{const o=t.owner(e);const n=Wn(t,o);return M.some(n)};const Gn=e=>{var t;const o=e.dom===document?M.none():M.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return o.map(Qe.fromDom)};const Kn=e=>Ot(e);var Yn=Object.freeze({__proto__:null,view:Gn,owner:Kn});const Xn=e=>{const t=qn();const o=Fn(t);const n=$n(e,Yn);return n.fold(z(Eo,e),(t=>{const n=Do(e);const s=G(t,((e,t)=>{const o=Do(t);return{left:e.left+o.left,top:e.top+o.top}}),{left:0,top:0});return zo(s.left+n.left+o.left,s.top+n.top+o.top)}))};const Jn=(e,t,o)=>({point:e,width:t,height:o});const Qn=(e,t,o,n)=>({x:e,y:t,width:o,height:n});const es=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n});const ts=e=>{const t=Eo(e);const o=Ro(e);const n=xo(e);return es(t.left,t.top,o,n)};const os=e=>{const t=Xn(e);const o=Ro(e);const n=xo(e);return es(t.left,t.top,o,n)};const ns=()=>Un(window);const ss=e=>{const t=t=>t(e);const o=x(e);const n=()=>s;const s={tag:true,inner:e,fold:(t,o)=>o(e),isValue:A,isError:D,map:t=>cs.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:t=>{t(e)},toOptional:()=>M.some(e)};return s};const rs=e=>{const t=()=>o;const o={tag:false,inner:e,fold:(t,o)=>t(e),isValue:D,isError:A,map:t,mapError:t=>cs.error(t(e)),bind:t,exists:D,forall:A,getOr:C,or:C,getOrThunk:E,orThunk:E,getOrDie:T(String(e)),each:v,toOptional:M.none};return o};const as=(e,t)=>e.fold((()=>rs(t)),ss);const cs={value:ss,error:rs,fromOption:as};var is;(function(e){e[e["Error"]=0]="Error";e[e["Value"]=1]="Value"})(is||(is={}));const ls=(e,t,o)=>e.stype===is.Error?t(e.serror):o(e.svalue);const ds=e=>{const t=[];const o=[];U(e,(e=>{ls(e,(e=>o.push(e)),(e=>t.push(e)))}));return{values:t,errors:o}};const us=(e,t)=>{if(e.stype===is.Error){return{stype:is.Error,serror:t(e.serror)}}else{return e}};const fs=(e,t)=>{if(e.stype===is.Value){return{stype:is.Value,svalue:t(e.svalue)}}else{return e}};const ms=(e,t)=>{if(e.stype===is.Value){return t(e.svalue)}else{return e}};const gs=(e,t)=>{if(e.stype===is.Error){return t(e.serror)}else{return e}};const ps=e=>({stype:is.Value,svalue:e});const hs=e=>({stype:is.Error,serror:e});const ys=e=>ls(e,cs.error,cs.value);const bs=e=>e.fold(hs,ps);const vs={fromResult:bs,toResult:ys,svalue:ps,partition:ds,serror:hs,bind:ms,bindError:gs,map:fs,mapError:us,fold:ls};const ks=(e,t,o,n)=>({tag:"field",key:e,newKey:t,presence:o,prop:n});const ws=(e,t)=>({tag:"custom",newKey:e,instantiator:t});const _s=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}};const xs=(e,t)=>t;const Cs=(e,t)=>{const o=l(e)&&l(t);return o?zs(e,t):t};const Ss=e=>(...t)=>{if(t.length===0){throw new Error(`Can't merge zero objects`)}const o={};for(let n=0;n<t.length;n++){const s=t[n];for(const t in s){if(Se(s,t)){o[t]=e(o[t],s[t])}}}return o};const zs=Ss(Cs);const Os=Ss(xs);const Ts=()=>({tag:"required",process:{}});const Es=e=>({tag:"defaultedThunk",process:e});const Ds=e=>Es(x(e));const As=()=>({tag:"option",process:{}});const Ns=e=>({tag:"mergeWithThunk",process:e});const Ms=e=>Ns(x(e));const Rs=(e,t)=>e.length>0?vs.svalue(zs(t,Os.apply(undefined,e))):vs.svalue(t);const Bs=e=>w(vs.serror,Q)(e);const Ls=(e,t)=>{const o=vs.partition(e);return o.errors.length>0?Bs(o.errors):Rs(o.values,t)};const Hs=e=>{const t=vs.partition(e);return t.errors.length>0?Bs(t.errors):vs.svalue(t.values)};const Is={consolidateObj:Ls,consolidateArr:Hs};const Ps=e=>i(e)&&fe(e).length>100?" removed due to size":JSON.stringify(e,null,2);const Fs=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:x("... (only showing first ten failures)")}]):e;return Z(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))};const Vs=(e,t)=>vs.serror([{path:e,getErrorInfo:t}]);const js=(e,t,o)=>Vs(e,(()=>'Could not find valid *required* value for "'+t+'" in '+Ps(o)));const Zs=(e,t)=>Vs(e,(()=>'Choice schema did not contain choice key: "'+t+'"'));const Us=(e,t,o)=>Vs(e,(()=>'The chosen schema: "'+o+'" did not exist in branches: '+Ps(t)));const qs=(e,t)=>Vs(e,(()=>"There are unsupported fields: ["+t.join(", ")+"] specified"));const Ws=(e,t)=>Vs(e,x(t));const $s=e=>{const t=(t,o)=>vs.bindError(e(o),(e=>Ws(t,e)));const o=x("val");return{extract:t,toString:o}};const Gs=$s(vs.svalue);const Ks=(e,t,o,n)=>Ce(t,o).fold((()=>js(e,o,t)),n);const Ys=(e,t,o,n)=>{const s=Ce(e,t).getOrThunk((()=>o(e)));return n(s)};const Xs=(e,t,o)=>o(Ce(e,t));const Js=(e,t,o,n)=>{const s=Ce(e,t).map((t=>t===true?o(e):t));return n(s)};const Qs=(e,t,o,n,s)=>{const r=e=>s.extract(t.concat([n]),e);const a=e=>e.fold((()=>vs.svalue(M.none())),(e=>{const o=s.extract(t.concat([n]),e);return vs.map(o,M.some)}));switch(e.tag){case"required":return Ks(t,o,n,r);case"defaultedThunk":return Ys(o,n,e.process,r);case"option":return Xs(o,n,a);case"defaultedOptionThunk":return Js(o,n,e.process,a);case"mergeWithThunk":{return Ys(o,n,x({}),(t=>{const n=zs(e.process(o),t);return r(n)}))}}};const er=(e,t,o)=>{const n={};const s=[];for(const r of o){_s(r,((o,r,a,c)=>{const i=Qs(a,e,t,o,c);vs.fold(i,(e=>{s.push(...e)}),(e=>{n[r]=e}))}),((e,o)=>{n[e]=o(t)}))}return s.length>0?vs.serror(s):vs.svalue(n)};const tr=e=>{const t=(t,o)=>e().extract(t,o);const o=()=>e().toString();return{extract:t,toString:o}};const or=e=>fe(ke(e,p));const nr=e=>{const t=sr(e);const o=G(e,((e,t)=>_s(t,(t=>zs(e,{[t]:true})),x(e))),{});const n=(e,n)=>{const s=f(n)?[]:or(n);const r=$(s,(e=>!ze(o,e)));return r.length===0?t.extract(e,n):qs(e,r)};return{extract:n,toString:t.toString}};const sr=e=>{const t=(t,o)=>er(t,o,e);const o=()=>{const t=Z(e,(e=>_s(e,((e,t,o,n)=>e+" -> "+n.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"};return{extract:t,toString:o}};const rr=e=>{const t=(t,o)=>{const n=Z(o,((o,n)=>e.extract(t.concat(["["+n+"]"]),o)));return Is.consolidateArr(n)};const o=()=>"array("+e.toString()+")";return{extract:t,toString:o}};const ar=(e,t)=>{const o=t!==undefined?t:C;const n=(t,n)=>{const s=[];for(const r of e){const e=r.extract(t,n);if(e.stype===is.Value){return{stype:is.Value,svalue:o(e.svalue)}}s.push(e)}return Is.consolidateArr(s)};const s=()=>"oneOf("+Z(e,(e=>e.toString())).join(", ")+")";return{extract:n,toString:s}};const cr=(e,t)=>{const o=(t,o)=>rr($s(e)).extract(t,o);const n=(e,n)=>{const s=fe(n);const r=o(e,s);return vs.bind(r,(o=>{const s=Z(o,(e=>ks(e,e,Ts(),t)));return sr(s).extract(e,n)}))};const s=()=>"setOf("+t.toString()+")";return{extract:n,toString:s}};const ir=(e,t)=>{const o=Lo(t);const n=(e,t)=>o().extract(e,t);const s=()=>o().toString();return{extract:n,toString:s}};const lr=w(rr,sr);const dr=x(Gs);const ur=(e,t)=>$s((o=>{const n=typeof o;return e(o)?vs.svalue(o):vs.serror(`Expected type: ${t} but got: ${n}`)}));const fr=ur(y,"number");const mr=ur(c,"string");const gr=ur(f,"boolean");const pr=ur(h,"function");const hr=e=>{if(Object(e)!==e){return true}switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return true;case"Array":case"Object":return Object.keys(e).every((t=>hr(e[t])));default:return false}};const yr=$s((e=>{if(hr(e)){return vs.svalue(e)}else{return vs.serror("Expected value to be acceptable for sending via postMessage")}}));const br=(e,t,o,n)=>{const s=Ce(o,n);return s.fold((()=>Us(e,o,n)),(o=>o.extract(e.concat(["branch: "+n]),t)))};const vr=(e,t)=>{const o=(o,n)=>{const s=Ce(n,e);return s.fold((()=>Zs(o,e)),(e=>br(o,n,t,e)))};const n=()=>"chooseOn("+e+"). Possible values: "+fe(t);return{extract:o,toString:n}};const kr=()=>rr(Gs);const wr=e=>$s((t=>e(t).fold(vs.serror,vs.svalue)));const _r=(e,t)=>cr((t=>vs.fromResult(e(t))),t);const xr=(e,t,o)=>{const n=t.extract([e],o);return vs.mapError(n,(e=>({input:o,errors:e})))};const Cr=(e,t,o)=>vs.toResult(xr(e,t,o));const Sr=e=>e.fold((e=>{throw new Error(Or(e))}),C);const zr=(e,t,o)=>Sr(Cr(e,t,o));const Or=e=>"Errors: \n"+Fs(e.errors).join("\n")+"\n\nInput object: "+Ps(e.input);const Tr=(e,t)=>vr(e,pe(t,sr));const Er=(e,t)=>ir(e,t);const Dr=ks;const Ar=ws;const Nr=e=>wr((t=>P(e,t)?cs.value(t):cs.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)));const Mr=e=>Dr(e,e,Ts(),dr());const Rr=(e,t)=>Dr(e,e,Ts(),t);const Br=e=>Rr(e,fr);const Lr=e=>Rr(e,mr);const Hr=(e,t)=>Dr(e,e,Ts(),Nr(t));const Ir=e=>Rr(e,gr);const Pr=e=>Rr(e,pr);const Fr=(e,t)=>Dr(e,e,As(),$s((o=>vs.serror("The field: "+e+" is forbidden. "+t))));const Vr=(e,t)=>Dr(e,e,Ts(),sr(t));const jr=(e,t)=>Dr(e,e,Ts(),lr(t));const Zr=(e,t)=>Dr(e,e,Ts(),rr(t));const Ur=e=>Dr(e,e,As(),dr());const qr=(e,t)=>Dr(e,e,As(),t);const Wr=e=>qr(e,fr);const $r=e=>qr(e,mr);const Gr=(e,t)=>qr(e,Nr(t));const Kr=e=>qr(e,pr);const Yr=(e,t)=>qr(e,rr(t));const Xr=(e,t)=>qr(e,sr(t));const Jr=(e,t)=>qr(e,nr(t));const Qr=(e,t)=>Dr(e,e,Ds(t),dr());const ea=(e,t,o)=>Dr(e,e,Ds(t),o);const ta=(e,t)=>ea(e,t,fr);const oa=(e,t)=>ea(e,t,mr);const na=(e,t,o)=>ea(e,t,Nr(o));const sa=(e,t)=>ea(e,t,gr);const ra=(e,t)=>ea(e,t,pr);const aa=(e,t)=>ea(e,t,yr);const ca=(e,t,o)=>ea(e,t,rr(o));const ia=(e,t,o)=>ea(e,t,sr(o));const la=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const da=e=>{if(!d(e)){throw new Error("cases must be an array")}if(e.length===0){throw new Error("there must be at least one case")}const t=[];const o={};U(e,((n,s)=>{const r=fe(n);if(r.length!==1){throw new Error("one and only one name per case")}const a=r[0];const c=n[a];if(o[a]!==undefined){throw new Error("duplicate key detected:"+a)}else if(a==="cata"){throw new Error("cannot have a case named cata (sorry)")}else if(!d(c)){throw new Error("case arguments must be an array")}t.push(a);o[a]=(...o)=>{const n=o.length;if(n!==c.length){throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+n)}const r=e=>{const n=fe(e);if(t.length!==n.length){throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","))}const s=te(t,(e=>P(n,e)));if(!s){throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "))}return e[a].apply(null,o)};return{fold:(...t)=>{if(t.length!==e.length){throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)}const n=t[s];return n.apply(null,o)},match:r,log:e=>{console.log(e,{constructors:t,constructor:a,params:o})}}}}));return o};const ua={generate:da};ua.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const fa=e=>{const t=[];const o=[];U(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{o.push(e)}))}));return{errors:t,values:o}};const ma=(e,t)=>{const o={};ge(e,((e,n)=>{if(!P(t,n)){o[n]=e}}));return o};const ga=(e,t)=>({[e]:t});const pa=e=>{const t={};U(e,(e=>{t[e.key]=e.value}));return t};const ha=(e,t)=>ma(e,t);const ya=(e,t)=>ga(e,t);const ba=e=>pa(e);const va=(e,t)=>e.length===0?cs.value(t):cs.value(zs(t,Os.apply(undefined,e)));const ka=e=>cs.error(Q(e));const wa=(e,t)=>{const o=fa(e);return o.errors.length>0?ka(o.errors):va(o.values,t)};const _a=e=>h(e)?e:D;const xa=(e,t,o)=>{let n=e.dom;const s=_a(o);while(n.parentNode){n=n.parentNode;const e=Qe.fromDom(n);const o=t(e);if(o.isSome()){return o}else if(s(e)){break}}return M.none()};const Ca=(e,t,o)=>{const n=t(e);const s=_a(o);return n.orThunk((()=>s(e)?M.none():xa(e,t,s)))};const Sa=(e,t)=>St(e.element,t.event.target);const za={can:A,abort:D,run:v};const Oa=e=>{if(!ze(e,"can")&&!ze(e,"abort")&&!ze(e,"run")){throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!")}return{...za,...e}};const Ta=(e,t)=>(...o)=>K(e,((e,n)=>e&&t(n).apply(undefined,o)),true);const Ea=(e,t)=>(...o)=>K(e,((e,n)=>e||t(n).apply(undefined,o)),false);const Da=e=>h(e)?{can:A,abort:D,run:e}:e;const Aa=e=>{const t=Ta(e,(e=>e.can));const o=Ea(e,(e=>e.abort));const n=(...t)=>{U(e,(e=>{e.run.apply(undefined,t)}))};return{can:t,abort:o,run:n}};const Na=x;const Ma=Na("touchstart");const Ra=Na("touchmove");const Ba=Na("touchend");const La=Na("touchcancel");const Ha=Na("mousedown");const Ia=Na("mousemove");const Pa=Na("mouseout");const Fa=Na("mouseup");const Va=Na("mouseover");const ja=Na("focusin");const Za=Na("focusout");const Ua=Na("keydown");const qa=Na("keyup");const Wa=Na("input");const $a=Na("change");const Ga=Na("click");const Ka=Na("transitioncancel");const Ya=Na("transitionend");const Xa=Na("transitionstart");const Ja=Na("selectstart");const Qa=e=>x("alloy."+e);const ec={tap:Qa("tap")};const tc=Qa("focus");const oc=Qa("blur.post");const nc=Qa("paste.post");const sc=Qa("receive");const rc=Qa("execute");const ac=Qa("focus.item");const cc=ec.tap;const ic=Qa("longpress");const lc=Qa("sandbox.close");const dc=Qa("typeahead.cancel");const uc=Qa("system.init");const fc=Qa("system.touchmove");const mc=Qa("system.touchend");const gc=Qa("system.scroll");const pc=Qa("system.resize");const hc=Qa("system.attached");const yc=Qa("system.detached");const bc=Qa("system.dismissRequested");const vc=Qa("system.repositionRequested");const kc=Qa("focusmanager.shifted");const wc=Qa("slotcontainer.visibility");const _c=Qa("change.tab");const xc=Qa("dismiss.tab");const Cc=Qa("highlight");const Sc=Qa("dehighlight");const zc=(e,t)=>{Dc(e,e.element,t,{})};const Oc=(e,t,o)=>{Dc(e,e.element,t,o)};const Tc=e=>{zc(e,rc())};const Ec=(e,t,o)=>{Dc(e,t,o,{})};const Dc=(e,t,o,n)=>{const s={target:t,...n};e.getSystem().triggerEvent(o,t,s)};const Ac=(e,t,o,n)=>{const s={...n,target:t};e.getSystem().triggerEvent(o,t,s)};const Nc=(e,t,o,n)=>{e.getSystem().triggerEvent(o,t,n.event)};const Mc=e=>ba(e);const Rc=(e,t)=>({key:e,value:Oa({abort:t})});const Bc=(e,t)=>({key:e,value:Oa({can:t})});const Lc=e=>({key:e,value:Oa({run:(e,t)=>{t.event.prevent()}})});const Hc=(e,t)=>({key:e,value:Oa({run:t})});const Ic=(e,t,o)=>({key:e,value:Oa({run:(e,n)=>{t.apply(undefined,[e,n].concat(o))}})});const Pc=e=>t=>Hc(e,t);const Fc=e=>t=>({key:e,value:Oa({run:(e,o)=>{if(Sa(e,o)){t(e,o)}}})});const Vc=(e,t)=>Hc(e,((o,n)=>{o.getSystem().getByUid(t).each((t=>{Nc(t,t.element,e,n)}))}));const jc=(e,t,o)=>{const n=t.partUids[o];return Vc(e,n)};const Zc=(e,t)=>Hc(e,((e,o)=>{const n=o.event;const s=e.getSystem().getByDom(n.target).getOrThunk((()=>{const t=Ca(n.target,(t=>e.getSystem().getByDom(t).toOptional()),D);return t.getOr(e)}));t(e,s,o)}));const Uc=e=>Hc(e,((e,t)=>{t.cut()}));const qc=e=>Hc(e,((e,t)=>{t.stop()}));const Wc=(e,t)=>Fc(e)(t);const $c=Fc(hc());const Gc=Fc(yc());const Kc=Fc(uc());const Yc=Pc(rc());const Xc=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;return Bt(Qe.fromDom(n))};const Jc=e=>e.dom.innerHTML;const Qc=(e,t)=>{const o=Ot(e);const n=o.dom;const s=Qe.fromDom(n.createDocumentFragment());const r=Xc(t,n);Hn(s,r);In(e);Bn(e,s)};const ei=e=>{const t=Qe.fromTag("div");const o=Qe.fromDom(e.dom.cloneNode(true));Bn(t,o);return Jc(t)};const ti=(e,t)=>Qe.fromDom(e.dom.cloneNode(t));const oi=e=>ti(e,false);const ni=e=>{if(Ft(e)){return"#shadow-root"}else{const t=oi(e);return ei(t)}};const si=e=>ni(e);const ri=(e,t,o)=>St(t,e.element)&&!St(t,o);const ai=Mc([Bc(tc(),((e,t)=>{const o=t.event;const n=o.originator;const s=o.target;if(ri(e,n,s)){console.warn(tc()+" did not get interpreted by the desired target. "+"\nOriginator: "+si(n)+"\nTarget: "+si(s)+"\nCheck the "+tc()+" event handlers");return false}else{return true}}))]);var ci=Object.freeze({__proto__:null,events:ai});let ii=0;const li=e=>{const t=new Date;const o=t.getTime();const n=Math.floor(Math.random()*1e9);ii++;return e+"_"+n+ii+String(o)};const di=x("alloy-id-");const ui=x("data-alloy-id");const fi=di();const mi=ui();const gi=(e,t)=>{const o=li(fi+e);pi(t,o);return o};const pi=(e,t)=>{Object.defineProperty(e.dom,mi,{value:t,writable:true})};const hi=e=>{const t=ht(e)?e.dom[mi]:null;return M.from(t)};const yi=e=>li(e);const bi=C;const vi=e=>{const t=t=>`The component must be in a context to execute: ${t}`+(e?"\n"+si(e().element)+" is not in context.":"");const o=e=>()=>{throw new Error(t(e))};const n=e=>()=>{console.warn(t(e))};return{debugInfo:x("fake"),triggerEvent:n("triggerEvent"),triggerFocus:n("triggerFocus"),triggerEscape:n("triggerEscape"),broadcast:n("broadcast"),broadcastOn:n("broadcastOn"),broadcastEvent:n("broadcastEvent"),build:o("build"),buildOrPatch:o("buildOrPatch"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:D}};const ki=vi();const wi=(e,t,o)=>{const n=o.toString();const s=n.indexOf(")")+1;const r=n.indexOf("(");const a=n.substring(r+1,s-1).split(/,\s*/);e.toFunctionAnnotation=()=>({name:t,parameters:_i(a.slice(0,1).concat(a.slice(3)))});return e};const _i=e=>Z(e,(e=>je(e,"/*")?e.substring(0,e.length-"/*".length):e));const xi=(e,t)=>{const o=e.toString();const n=o.indexOf(")")+1;const s=o.indexOf("(");const r=o.substring(s+1,n-1).split(/,\s*/);e.toFunctionAnnotation=()=>({name:t,parameters:_i(r)});return e};const Ci=(e,t)=>{const o=t.toString();const n=o.indexOf(")")+1;const s=o.indexOf("(");const r=o.substring(s+1,n-1).split(/,\s*/);e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:_i(r.slice(1))});return e};const Si=li("alloy-premade");const zi=e=>{Object.defineProperty(e.element.dom,Si,{value:e.uid,writable:true});return ya(Si,e)};const Oi=e=>Se(e.dom,Si);const Ti=e=>Ce(e,Si);const Ei=e=>Ci(((t,...o)=>e(t.getApis(),t,...o)),e);const Di={init:()=>Ai({readState:x("No State required")})};const Ai=e=>e;const Ni=(e,t)=>{const o=Z(t,(e=>Xr(e.name(),[Mr("config"),Qr("state",Di)])));const n=Cr("component.behaviours",sr(o),e.behaviours).fold((t=>{throw new Error(Or(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),C);return{list:t,data:pe(n,(e=>{const t=e.map((e=>({config:e.config,state:e.state.init(e.config)})));return x(t)}))}};const Mi=e=>e.list;const Ri=e=>e.data;const Bi=(e,t)=>{const o={};ge(e,((e,n)=>{ge(e,((e,s)=>{const r=Ce(o,s).getOr([]);o[s]=r.concat([t(n,e)])}))}));return o};const Li=e=>({classes:m(e.classes)?[]:e.classes,attributes:m(e.attributes)?{}:e.attributes,styles:m(e.styles)?{}:e.styles});const Hi=(e,t)=>({...e,attributes:{...e.attributes,...t.attributes},styles:{...e.styles,...t.styles},classes:e.classes.concat(t.classes)});const Ii=(e,t,o,n)=>{const s={...t};U(o,(t=>{s[t.name()]=t.exhibit(e,n)}));const r=Bi(s,((e,t)=>({name:e,modification:t})));const a=e=>G(e,((e,t)=>({...t.modification,...e})),{});const c=G(r.classes,((e,t)=>t.modification.concat(e)),[]);const i=a(r.attributes);const l=a(r.styles);return Li({classes:c,attributes:i,styles:l})};const Pi=(e,t,o,n)=>{try{const s=ae(o,((o,s)=>{const r=o[t];const a=s[t];const c=n.indexOf(r);const i=n.indexOf(a);if(c===-1){throw new Error("The ordering for "+e+" does not have an entry for "+r+".\nOrder specified: "+JSON.stringify(n,null,2))}if(i===-1){throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(n,null,2))}if(c<i){return-1}else if(i<c){return 1}else{return 0}}));return cs.value(s)}catch(e){return cs.error([e])}};const Fi=(e,t)=>({handler:e,purpose:t});const Vi=(e,t)=>({cHandler:e,purpose:t});const ji=(e,t)=>Vi(z.apply(undefined,[e.handler].concat(t)),e.purpose);const Zi=e=>e.cHandler;const Ui=(e,t)=>({name:e,handler:t});const qi=(e,t)=>{const o={};U(e,(e=>{o[e.name()]=e.handlers(t)}));return o};const Wi=(e,t,o)=>{const n={...o,...qi(t,e)};return Bi(n,Ui)};const $i=(e,t,o,n)=>{const s=Wi(e,o,n);return Xi(s,t)};const Gi=e=>{const t=Da(e);return(e,o,...n)=>{const s=[e,o].concat(n);if(t.abort.apply(undefined,s)){o.stop()}else if(t.can.apply(undefined,s)){t.run.apply(undefined,s)}}};const Ki=(e,t)=>cs.error(["The event ("+e+") has more than one behaviour that listens to it.\nWhen this occurs, you must "+'specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that '+"can trigger it are: "+JSON.stringify(Z(t,(e=>e.name)),null,2)]);const Yi=(e,t,o)=>{const n=t[o];if(!n){return Ki(o,e)}else{return Pi("Event: "+o,"name",e,n).map((e=>{const t=Z(e,(e=>e.handler));return Aa(t)}))}};const Xi=(e,t)=>{const o=we(e,((e,o)=>{const n=e.length===1?cs.value(e[0].handler):Yi(e,t,o);return n.map((n=>{const s=Gi(n);const r=e.length>1?$(t[o],(t=>F(e,(e=>e.name===t)))).join(" > "):e[0].name;return ya(o,Fi(s,r))}))}));return wa(o,{})};const Ji="alloy.base.behaviour";const Qi=sr([Dr("dom","dom",Ts(),sr([Mr("tag"),Qr("styles",{}),Qr("classes",[]),Qr("attributes",{}),Ur("value"),Ur("innerHtml")])),Mr("components"),Mr("uid"),Qr("events",{}),Qr("apis",{}),Dr("eventOrder","eventOrder",Ms({[rc()]:["disabling",Ji,"toggling","typeaheadevents"],[tc()]:[Ji,"focusing","keying"],[uc()]:[Ji,"disabling","toggling","representing"],[Wa()]:[Ji,"representing","streaming","invalidating"],[yc()]:[Ji,"representing","item-events","tooltipping"],[Ha()]:["focusing",Ji,"item-type-events"],[Ma()]:["focusing",Ji,"item-type-events"],[Va()]:["item-type-events","tooltipping"],[sc()]:["receiving","reflecting","tooltipping"]}),dr()),Ur("domModification")]);const el=e=>Cr("custom.definition",Qi,e);const tl=e=>({...e.dom,uid:e.uid,domChildren:Z(e.components,(e=>e.element))});const ol=e=>e.domModification.fold((()=>Li({})),Li);const nl=e=>e.events;const sl=(e,t)=>{const o=oo(e,t);return o===undefined||o===""?[]:o.split(" ")};const rl=(e,t,o)=>{const n=sl(e,t);const s=n.concat([o]);eo(e,t,s.join(" "));return true};const al=(e,t,o)=>{const n=$(sl(e,t),(e=>e!==o));if(n.length>0){eo(e,t,n.join(" "))}else{ro(e,t)}return false};const cl=e=>e.dom.classList!==undefined;const il=e=>sl(e,"class");const ll=(e,t)=>rl(e,"class",t);const dl=(e,t)=>al(e,"class",t);const ul=(e,t)=>{if(cl(e)){e.dom.classList.add(t)}else{ll(e,t)}};const fl=e=>{const t=cl(e)?e.dom.classList:il(e);if(t.length===0){ro(e,"class")}};const ml=(e,t)=>{if(cl(e)){const o=e.dom.classList;o.remove(t)}else{dl(e,t)}fl(e)};const gl=(e,t)=>cl(e)&&e.dom.classList.contains(t);const pl=(e,t)=>{U(t,(t=>{ul(e,t)}))};const hl=(e,t)=>{U(t,(t=>{ml(e,t)}))};const yl=(e,t)=>te(t,(t=>gl(e,t)));const bl=e=>{const t=e.dom.classList;const o=new Array(t.length);for(let e=0;e<t.length;e++){const n=t.item(e);if(n!==null){o[e]=n}}return o};const vl=e=>cl(e)?bl(e):il(e);const kl=e=>e.dom.value;const wl=(e,t)=>{if(t===undefined){throw new Error("Value.set was undefined")}e.dom.value=t};const _l=(e,t,o)=>{const n=Lt(e,t);return n.map((e=>{const t=o.exists((t=>!St(t,e)));if(t){const t=o.map(ft).getOr("span");const n=Qe.fromTag(t);Nn(e,n);return n}else{return e}}))};const xl=(e,t,o)=>{o.fold((()=>Bn(e,t)),(e=>{if(!St(e,t)){Nn(e,t);Pn(e)}}))};const Cl=(e,t,o)=>{const n=Z(t,o);const s=Bt(e);U(s.slice(n.length),Pn);return n};const Sl=(e,t,o,n)=>{const s=Lt(e,t);const r=n(o,s);const a=_l(e,t,s);xl(e,r.element,a);return r};const zl=(e,t,o)=>Cl(e,t,((t,n)=>Sl(e,n,t,o)));const Ol=(e,t)=>Cl(e,t,((t,o)=>{const n=Lt(e,o);xl(e,t,n);return t}));const Tl=(e,t)=>{const o=fe(e);const n=fe(t);const s=ne(n,o);const r=ve(e,((e,o)=>!Se(t,o)||e!==t[o])).t;return{toRemove:s,toSet:r}};const El=(e,t)=>{const{class:o,style:n,...s}=ao(t);const{toSet:r,toRemove:a}=Tl(e.attributes,s);const c=()=>{U(a,(e=>ro(t,e)));to(t,r)};const i=ho(t);const{toSet:l,toRemove:d}=Tl(e.styles,i);const u=()=>{U(d,(e=>bo(t,e)));uo(t,l)};const f=vl(t);const m=ne(f,e.classes);const g=ne(e.classes,f);const p=()=>{pl(t,g);hl(t,m)};const h=e=>{Qc(t,e)};const y=()=>{const o=e.domChildren;Ol(t,o)};const b=()=>{const o=t;const n=e.value.getOrUndefined();if(n!==kl(o)){wl(o,n!==null&&n!==void 0?n:"")}};c();p();u();e.innerHtml.fold(y,h);b();return t};const Dl=e=>{const t=Qe.fromTag(e.tag);to(t,e.attributes);pl(t,e.classes);uo(t,e.styles);e.innerHtml.each((e=>Qc(t,e)));const o=e.domChildren;Hn(t,o);e.value.each((e=>{wl(t,e)}));return t};const Al=(e,t)=>{try{const o=El(e,t);return M.some(o)}catch(e){return M.none()}};const Nl=e=>e.innerHtml.isSome()&&e.domChildren.length>0;const Ml=(e,t)=>{const o=t=>ft(t)===e.tag&&!Nl(e)&&!Oi(t);const n=t.filter(o).bind((t=>Al(e,t))).getOrThunk((()=>Dl(e)));pi(n,e.uid);return n};const Rl=e=>{const t=Ce(e,"behaviours").getOr({});return ee(fe(t),(e=>{const o=t[e];return p(o)?[o.me]:[]}))};const Bl=(e,t)=>Ni(e,t);const Ll=e=>{const t=Rl(e);return Bl(e,t)};const Hl=(e,t,o)=>{const n=tl(e);const s=ol(e);const r={"alloy.base.modification":s};const a=t.length>0?Ii(o,r,t,n):s;return Hi(n,a)};const Il=(e,t,o)=>{const n={"alloy.base.behaviour":nl(e)};return $i(o,e.eventOrder,t,n).getOrDie()};const Pl=(e,t)=>{const o=()=>k;const n=la(ki);const s=Sr(el(e));const r=Ll(e);const a=Mi(r);const c=Ri(r);const i=Hl(s,a,c);const l=Ml(i,t);const d=Il(s,a,c);const u=la(s.components);const f=e=>{n.set(e)};const m=()=>{n.set(vi(o))};const g=()=>{const e=Bt(l);const t=ee(e,(e=>n.get().getByDom(e).fold((()=>[]),re)));u.set(t)};const p=t=>{const o=c;const n=h(o[t.name()])?o[t.name()]:()=>{throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))};return n()};const y=e=>h(c[e.name()]);const b=()=>s.apis;const v=e=>c[e]().map((e=>e.state.readState())).getOr("not enabled");const k={uid:e.uid,getSystem:n.get,config:p,hasConfigured:y,spec:e,readState:v,getApis:b,connect:f,disconnect:m,element:l,syncComponents:g,components:u.get,events:d};return k};const Fl=(e,t)=>{const o=Ce(e,"components").getOr([]);return t.fold((()=>Z(o,$l)),(e=>Z(o,((t,o)=>Wl(t,Lt(e,o))))))};const Vl=(e,t)=>{const{events:o,...n}=bi(e);const s=Fl(n,t);const r={...n,events:{...ci,...o},components:s};return cs.value(Pl(r,t))};const jl=e=>{const t=Qe.fromText(e);return Zl({element:t})};const Zl=e=>{const t=zr("external.component",nr([Mr("element"),Ur("uid")]),e);const o=la(vi());const n=e=>{o.set(e)};const s=()=>{o.set(vi((()=>a)))};const r=t.uid.getOrThunk((()=>yi("external")));pi(t.element,r);const a={uid:r,getSystem:o.get,config:M.none,hasConfigured:D,connect:n,disconnect:s,getApis:()=>({}),element:t.element,spec:e,readState:x("No state"),syncComponents:v,components:x([]),events:{}};return zi(a)};const Ul=yi;const ql=e=>Se(e,"uid");const Wl=(e,t)=>Ti(e).getOrThunk((()=>{const o=ql(e)?e:{uid:Ul(""),...e};return Vl(o,t).getOrDie()}));const $l=e=>Wl(e,M.none());const Gl=zi;var Kl=(e,t,o,n,s)=>{if(e(o,n)){return M.some(o)}else if(h(s)&&s(o)){return M.none()}else{return t(o,n,s)}};const Yl=(e,t,o)=>{let n=e.dom;const s=h(o)?o:D;while(n.parentNode){n=n.parentNode;const e=Qe.fromDom(n);if(t(e)){return M.some(e)}else if(s(e)){break}}return M.none()};const Xl=(e,t,o)=>{const n=(e,t)=>t(e);return Kl(n,Yl,e,t,o)};const Jl=(e,t)=>{const o=e=>t(Qe.fromDom(e));const n=X(e.dom.childNodes,o);return n.map(Qe.fromDom)};const Ql=(e,t)=>{const o=e=>{for(let n=0;n<e.childNodes.length;n++){const s=Qe.fromDom(e.childNodes[n]);if(t(s)){return M.some(s)}const r=o(e.childNodes[n]);if(r.isSome()){return r}}return M.none()};return o(e.dom)};const ed=(e,t,o)=>Xl(e,t,o).isSome();const td=(e,t,o)=>Yl(e,(e=>wt(e,t)),o);const od=(e,t)=>Jl(e,(e=>wt(e,t)));const nd=(e,t)=>Ct(t,e);const sd=(e,t,o)=>{const n=(e,t)=>wt(e,t);return Kl(n,td,e,t,o)};const rd="aria-controls";const ad=e=>{const t=Xl(e,(e=>{if(!ht(e)){return false}const t=oo(e,"id");return t!==undefined&&t.indexOf(rd)>-1}));return t.bind((e=>{const t=oo(e,"id");const o=Zt(e);return nd(o,`[${rd}="${t}"]`)}))};const cd=()=>{const e=li(rd);const t=t=>{eo(t,rd,e)};const o=e=>{ro(e,rd)};return{id:e,link:t,unlink:o}};const id=(e,t)=>ad(t).exists((t=>ld(e,t)));const ld=(e,t)=>ed(t,(t=>St(t,e.element)),D)||id(e,t);const dd="unknown";var ud;(function(e){e[e["STOP"]=0]="STOP";e[e["NORMAL"]=1]="NORMAL";e[e["LOGGING"]=2]="LOGGING"})(ud||(ud={}));const fd=la({});const md=(e,t)=>{const o=[];const n=(new Date).getTime();return{logEventCut:(e,t,n)=>{o.push({outcome:"cut",target:t,purpose:n})},logEventStopped:(e,t,n)=>{o.push({outcome:"stopped",target:t,purpose:n})},logNoParent:(e,t,n)=>{o.push({outcome:"no-parent",target:t,purpose:n})},logEventNoHandlers:(e,t)=>{o.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,n)=>{o.push({outcome:"response",purpose:n,target:t})},write:()=>{const s=(new Date).getTime();if(P(["mousemove","mouseover","mouseout",uc()],e)){return}console.log(e,{event:e,time:s-n,target:t.dom,sequence:Z(o,(e=>{if(!P(["cut","stopped","response"],e.outcome)){return e.outcome}else{return"{"+e.purpose+"} "+e.outcome+" at ("+si(e.target)+")"}}))})}}};const gd=(e,t,o)=>{const n=Ce(fd.get(),e).orThunk((()=>{const t=fe(fd.get());return ue(t,(t=>e.indexOf(t)>-1?M.some(fd.get()[t]):M.none()))})).getOr(ud.NORMAL);switch(n){case ud.NORMAL:return o(vd());case ud.LOGGING:{const n=md(e,t);const s=o(n);n.write();return s}case ud.STOP:return true}};const pd=["alloy/data/Fields","alloy/debugging/Debugging"];const hd=()=>{const e=new Error;if(e.stack!==undefined){const t=e.stack.split("\n");return X(t,(e=>e.indexOf("alloy")>0&&!F(pd,(t=>e.indexOf(t)>-1)))).getOr(dd)}else{return dd}};const yd={logEventCut:v,logEventStopped:v,logNoParent:v,logEventNoHandlers:v,logEventResponse:v,write:v};const bd=(e,t,o)=>gd(e,t,o);const vd=x(yd);const kd=x([Mr("menu"),Mr("selectedMenu")]);const wd=x([Mr("item"),Mr("selectedItem")]);x(sr(wd().concat(kd())));const _d=x(sr(wd()));const xd=Vr("initSize",[Mr("numColumns"),Mr("numRows")]);const Cd=()=>Rr("markers",_d());const Sd=()=>Vr("markers",[Mr("backgroundMenu")].concat(kd()).concat(wd()));const zd=e=>Vr("markers",Z(e,Mr));const Od=(e,t,o)=>{hd();return Dr(t,t,o,wr((e=>cs.value(((...t)=>e.apply(undefined,t))))))};const Td=e=>Od("onHandler",e,Ds(v));const Ed=e=>Od("onKeyboardHandler",e,Ds(M.none));const Dd=e=>Od("onHandler",e,Ts());const Ad=e=>Od("onKeyboardHandler",e,Ts());const Nd=(e,t)=>Ar(e,x(t));const Md=e=>Ar(e,C);const Rd=x(xd);const Bd=(e,t,o,n,s,r,a,c=false)=>({x:e,y:t,bubble:o,direction:n,placement:s,restriction:r,label:`${a}-${s}`,alwaysFit:c});const Ld=ua.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]);const Hd=(e,t,o,n,s,r,a,c,i)=>e.fold(t,o,n,s,r,a,c,i);const Id=(e,t,o,n)=>e.fold(t,t,n,n,t,n,o,o);const Pd=(e,t,o,n)=>e.fold(t,n,t,n,o,o,t,n);const Fd=Ld.southeast;const Vd=Ld.southwest;const jd=Ld.northeast;const Zd=Ld.northwest;const Ud=Ld.south;const qd=Ld.north;const Wd=Ld.east;const $d=Ld.west;const Gd=(e,t,o,n)=>{const s=e+t;if(s>n){return o}else if(s<o){return n}else{return s}};const Kd=(e,t,o)=>Math.min(Math.max(e,t),o);const Yd=(e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}};const Xd=(e,t)=>se(["left","right","top","bottom"],(o=>Ce(t,o).map((t=>Yd(e,t)))));const Jd=(e,t,o)=>{const n=(n,s)=>t[n].map((t=>{const r=n==="top"||n==="bottom";const a=r?o.top:o.left;const c=n==="left"||n==="top"?Math.max:Math.min;const i=c(t,s)+a;return r?Kd(i,e.y,e.bottom):Kd(i,e.x,e.right)})).getOr(s);const s=n("left",e.x);const r=n("top",e.y);const a=n("right",e.right);const c=n("bottom",e.bottom);return es(s,r,a-s,c-r)};const Qd="layout";const eu=e=>e.x;const tu=(e,t)=>e.x+e.width/2-t.width/2;const ou=(e,t)=>e.x+e.width-t.width;const nu=(e,t)=>e.y-t.height;const su=e=>e.y+e.height;const ru=(e,t)=>e.y+e.height/2-t.height/2;const au=e=>e.x+e.width;const cu=(e,t)=>e.x-t.width;const iu=(e,t,o)=>Bd(eu(e),su(e),o.southeast(),Fd(),"southeast",Xd(e,{left:1,top:3}),Qd);const lu=(e,t,o)=>Bd(ou(e,t),su(e),o.southwest(),Vd(),"southwest",Xd(e,{right:0,top:3}),Qd);const du=(e,t,o)=>Bd(eu(e),nu(e,t),o.northeast(),jd(),"northeast",Xd(e,{left:1,bottom:2}),Qd);const uu=(e,t,o)=>Bd(ou(e,t),nu(e,t),o.northwest(),Zd(),"northwest",Xd(e,{right:0,bottom:2}),Qd);const fu=(e,t,o)=>Bd(tu(e,t),nu(e,t),o.north(),qd(),"north",Xd(e,{bottom:2}),Qd);const mu=(e,t,o)=>Bd(tu(e,t),su(e),o.south(),Ud(),"south",Xd(e,{top:3}),Qd);const gu=(e,t,o)=>Bd(au(e),ru(e,t),o.east(),Wd(),"east",Xd(e,{left:0}),Qd);const pu=(e,t,o)=>Bd(cu(e,t),ru(e,t),o.west(),$d(),"west",Xd(e,{right:1}),Qd);const hu=()=>[iu,lu,du,uu,mu,fu,gu,pu];const yu=()=>[lu,iu,uu,du,mu,fu,gu,pu];const bu=()=>[du,uu,iu,lu,fu,mu];const vu=()=>[uu,du,lu,iu,fu,mu];const ku=()=>[iu,lu,du,uu,mu,fu];const wu=()=>[lu,iu,uu,du,mu,fu];const _u=(e,t)=>t.universal?e:$(e,(e=>P(t.channels,e)));const xu=e=>Mc([Hc(sc(),((t,o)=>{const n=e.channels;const s=fe(n);const r=o;const a=_u(s,r);U(a,(e=>{const o=n[e];const s=o.schema;const a=zr("channel["+e+"] data\nReceiver: "+si(t.element),s,r.data);o.onReceive(t,a)}))}))]);var Cu=Object.freeze({__proto__:null,events:xu});var Su=[Rr("channels",_r(cs.value,nr([Dd("onReceive"),Qr("schema",dr())])))];const zu=(e,t,o)=>Yc((n=>{o(n,e,t)}));const Ou=(e,t,o)=>Kc(((n,s)=>{o(n,e,t)}));const Tu=(e,t,o,n,s,r)=>{const a=nr(e);const c=Xr(t,[Jr("config",e)]);return Nu(a,c,t,o,n,s,r)};const Eu=(e,t,o,n,s,r)=>{const a=e;const c=Xr(t,[qr("config",e)]);return Nu(a,c,t,o,n,s,r)};const Du=(e,t,o)=>{const n=(n,...s)=>{const r=[n].concat(s);return n.config({name:x(e)}).fold((()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+o)}),(e=>{const o=Array.prototype.slice.call(r,1);return t.apply(undefined,[n,e.config,e.state].concat(o))}))};return wi(n,o,t)};const Au=e=>({key:e,value:undefined});const Nu=(e,t,o,n,s,r,a)=>{const c=e=>ze(e,o)?e[o]():M.none();const i=pe(s,((e,t)=>Du(o,e,t)));const l=pe(r,((e,t)=>xi(e,t)));const d={...l,...i,revoke:z(Au,o),config:t=>{const n=zr(o+"-config",e,t);return{key:o,value:{config:n,me:d,configAsRaw:Lo((()=>zr(o+"-config",e,t))),initialConfig:t,state:a}}},schema:x(t),exhibit:(e,t)=>Ae(c(e),Ce(n,"exhibit"),((e,o)=>o(t,e.config,e.state))).getOrThunk((()=>Li({}))),name:x(o),handlers:e=>c(e).map((e=>{const t=Ce(n,"events").getOr((()=>({})));return t(e.config,e.state)})).getOr({})};return d};const Mu=e=>ba(e);const Ru=nr([Mr("fields"),Mr("name"),Qr("active",{}),Qr("apis",{}),Qr("state",Di),Qr("extra",{})]);const Bu=e=>{const t=zr("Creating behaviour: "+e.name,Ru,e);return Tu(t.fields,t.name,t.active,t.apis,t.extra,t.state)};const Lu=nr([Mr("branchKey"),Mr("branches"),Mr("name"),Qr("active",{}),Qr("apis",{}),Qr("state",Di),Qr("extra",{})]);const Hu=e=>{const t=zr("Creating behaviour: "+e.name,Lu,e);return Eu(Tr(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)};const Iu=x(undefined);const Pu=Bu({fields:Su,name:"receiving",active:Cu});const Fu=(e,t)=>Li({classes:[],styles:t.useFixed()?{}:{position:"relative"}});var Vu=Object.freeze({__proto__:null,exhibit:Fu});const ju=e=>e.dom.focus();const Zu=e=>e.dom.blur();const Uu=e=>{const t=Zt(e).dom;return e.dom===t.activeElement};const qu=(e=qn())=>M.from(e.dom.activeElement).map(Qe.fromDom);const Wu=e=>qu(Zt(e)).filter((t=>e.dom.contains(t.dom)));const $u=(e,t)=>{const o=Zt(t);const n=qu(o).bind((e=>{const o=t=>St(e,t);return o(t)?M.some(t):Ql(t,o)}));const s=e(t);n.each((e=>{qu(o).filter((t=>St(t,e))).fold((()=>{ju(e)}),v)}));return s};const Gu=(e,t,o,n,s)=>{const r=e=>e+"px";return{position:e,left:t.map(r),top:o.map(r),right:n.map(r),bottom:s.map(r)}};const Ku=e=>({...e,position:M.some(e.position)});const Yu=(e,t)=>{fo(e,Ku(t))};const Xu=ua.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]);const Ju=(e,t,o,n,s,r)=>{const a=t.rect;const c=a.x-o;const i=a.y-n;const l=a.width;const d=a.height;const u=s-(c+l);const f=r-(i+d);const m=M.some(c);const g=M.some(i);const p=M.some(u);const h=M.some(f);const y=M.none();return Hd(t.direction,(()=>Gu(e,m,g,y,y)),(()=>Gu(e,y,g,p,y)),(()=>Gu(e,m,y,y,h)),(()=>Gu(e,y,y,p,h)),(()=>Gu(e,m,g,y,y)),(()=>Gu(e,m,y,y,h)),(()=>Gu(e,m,g,y,y)),(()=>Gu(e,y,g,p,y)))};const Qu=(e,t)=>e.fold((()=>{const e=t.rect;return Gu("absolute",M.some(e.x),M.some(e.y),M.none(),M.none())}),((e,o,n,s)=>Ju("absolute",t,e,o,n,s)),((e,o,n,s)=>Ju("fixed",t,e,o,n,s)));const ef=(e,t)=>{const o=z(Xn,t);const n=e.fold(o,o,(()=>{const e=Fn();return Xn(t).translate(-e.left,-e.top)}));const s=Ro(t);const r=xo(t);return es(n.left,n.top,s,r)};const tf=(e,t)=>t.fold((()=>e.fold(ns,ns,es)),(t=>e.fold(t,t,(()=>{const o=t();const n=of(e,o.x,o.y);return es(n.left,n.top,o.width,o.height)}))));const of=(e,t,o)=>{const n=zo(t,o);const s=()=>{const e=Fn();return n.translate(-e.left,-e.top)};return e.fold(x(n),x(n),s)};const nf=(e,t,o,n)=>e.fold(t,o,n);Xu.none;const sf=Xu.relative;const rf=Xu.fixed;const af=(e,t)=>({anchorBox:e,origin:t});const cf=(e,t)=>af(e,t);const lf="data-alloy-placement";const df=(e,t)=>{eo(e,lf,t)};const uf=e=>no(e,lf);const ff=e=>ro(e,lf);const mf=ua.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]);const gf=(e,t)=>{const{x:o,y:n,right:s,bottom:r}=t;const{x:a,y:c,right:i,bottom:l,width:d,height:u}=e;const f=a>=o&&a<=s;const m=c>=n&&c<=r;const g=f&&m;const p=i<=s&&i>=o;const h=l<=r&&l>=n;const y=p&&h;const b=Math.min(d,a>=o?s-a:i-o);const v=Math.min(u,c>=n?r-c:l-n);return{originInBounds:g,sizeInBounds:y,visibleW:b,visibleH:v}};const pf=(e,t)=>{const{x:o,y:n,right:s,bottom:r}=t;const{x:a,y:c,width:i,height:l}=e;const d=Math.max(o,s-i);const u=Math.max(n,r-l);const f=Kd(a,o,d);const m=Kd(c,n,u);const g=Math.min(f+i,s)-f;const p=Math.min(m+l,r)-m;return es(f,m,g,p)};const hf=(e,t,o)=>{const n=x(t.bottom-o.y);const s=x(o.bottom-t.y);const r=Id(e,s,s,n);const a=x(t.right-o.x);const c=x(o.right-t.x);const i=Pd(e,c,c,a);return{maxWidth:i,maxHeight:r}};const yf=(e,t,o,n)=>{const s=e.bubble;const r=s.offset;const a=Jd(n,e.restriction,r);const c=e.x+r.left;const i=e.y+r.top;const l=es(c,i,t,o);const{originInBounds:d,sizeInBounds:u,visibleW:f,visibleH:m}=gf(l,a);const g=d&&u;const p=g?l:pf(l,a);const h=p.width>0&&p.height>0;const{maxWidth:y,maxHeight:b}=hf(e.direction,p,n);const v={rect:p,maxHeight:b,maxWidth:y,direction:e.direction,placement:e.placement,classes:{on:s.classesOn,off:s.classesOff},layout:e.label,testY:i};return g||e.alwaysFit?mf.fit(v):mf.nofit(v,f,m,h)};const bf=(e,t,o,n,s,r)=>{const a=n.width;const c=n.height;const i=(t,i,l,d,u)=>{const f=t(o,n,s,e,r);const m=yf(f,a,c,r);return m.fold(x(m),((e,t,o,n)=>{const s=u===n?o>d||t>l:!u&&n;return s?m:mf.nofit(i,l,d,u)}))};const l=K(t,((e,t)=>{const o=z(i,t);return e.fold(x(e),o)}),mf.nofit({rect:o,maxHeight:n.height,maxWidth:n.width,direction:Fd(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,false));return l.fold(C,C)};const vf=e=>{const t=la(M.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(M.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(M.some(e))};return{clear:n,isSet:s,get:r,set:a}};const kf=()=>vf((e=>e.destroy()));const wf=()=>vf((e=>e.unbind()));const _f=()=>{const e=vf(v);const t=t=>e.get().each(t);return{...e,on:t}};const xf=A;const Cf=(e,t,o)=>En(e,t,xf,o);const Sf=(e,t,o)=>Dn(e,t,xf,o);const zf=zn;const Of=["top","bottom","right","left"];const Tf="data-alloy-transition-timer";const Ef=(e,t)=>yl(e,t.classes);const Df=(e,t,o)=>o.exists((o=>{const n=e.mode;return n==="all"?true:o[n]!==t[n]}));const Af=(e,t)=>{const o=e=>parseFloat(e).toFixed(3);return _e(t,((t,n)=>{const s=e[n].map(o);const r=t.map(o);return!Te(s,r)})).isSome()};const Nf=e=>{const t=t=>{const o=mo(e,t);const n=o.split(/\s*,\s*/);return $(n,qe)};const o=e=>{if(c(e)&&/^[\d.]+/.test(e)){const t=parseFloat(e);return je(e,"ms")?t:t*1e3}else{return 0}};const n=t("transition-delay");const s=t("transition-duration");return K(s,((e,t,s)=>{const r=o(n[s])+o(t);return Math.max(e,r)}),0)};const Mf=(e,t)=>{const o=wf();const n=wf();let s;const r=t=>{var o;const n=(o=t.raw.pseudoElement)!==null&&o!==void 0?o:"";return St(t.target,e)&&We(n)&&P(Of,t.raw.propertyName)};const a=a=>{if(g(a)||r(a)){o.clear();n.clear();const r=a===null||a===void 0?void 0:a.raw.type;if(g(r)||r===Ya()){clearTimeout(s);ro(e,Tf);hl(e,t.classes)}}};const c=Cf(e,Xa(),(t=>{if(r(t)){c.unbind();o.set(Cf(e,Ya(),a));n.set(Cf(e,Ka(),a))}}));const i=Nf(e);requestAnimationFrame((()=>{s=setTimeout(a,i+17);eo(e,Tf,s)}))};const Rf=(e,t)=>{pl(e,t.classes);no(e,Tf).each((t=>{clearTimeout(parseInt(t,10));ro(e,Tf)}));Mf(e,t)};const Bf=(e,t,o,n,s,r)=>{const a=Df(n,s,r);if(a||Ef(e,n)){lo(e,"position",o.position);const r=ef(t,e);const c=Qu(t,{...s,rect:r});const i=se(Of,(e=>c[e]));if(Af(o,i)){fo(e,i);if(a){Rf(e,n)}vo(e)}}else{hl(e,n.classes)}};const Lf=e=>({width:Ro(e),height:xo(e)});const Hf=(e,t,o,n)=>{bo(t,"max-height");bo(t,"max-width");const s=Lf(t);return bf(t,n.preference,e,s,o,n.bounds)};const If=(e,t)=>{const o=t.classes;hl(e,o.off);pl(e,o.on)};const Pf=(e,t,o)=>{const n=o.maxHeightFunction;n(e,t.maxHeight)};const Ff=(e,t,o)=>{const n=o.maxWidthFunction;n(e,t.maxWidth)};const Vf=(e,t,o)=>{const n=Qu(o.origin,t);o.transition.each((s=>{Bf(e,o.origin,n,s,t,o.lastPlacement)}));Yu(e,n)};const jf=(e,t)=>{df(e,t.placement)};const Zf=(e,t)=>{Co(e,Math.floor(t))};const Uf=x(((e,t)=>{Zf(e,t);uo(e,{"overflow-x":"hidden","overflow-y":"auto"})}));const qf=x(((e,t)=>{Zf(e,t)}));const Wf=(e,t,o)=>e[t]===undefined?o:e[t];const $f=(e,t,o,n,s,r,a,c)=>{const i=Wf(a,"maxHeightFunction",Uf());const l=Wf(a,"maxWidthFunction",v);const d=e.anchorBox;const u=e.origin;const f={bounds:tf(u,r),origin:u,preference:n,maxHeightFunction:i,maxWidthFunction:l,lastPlacement:s,transition:c};return Gf(d,t,o,f)};const Gf=(e,t,o,n)=>{const s=Hf(e,t,o,n);Vf(t,s,n);jf(t,s);If(t,s);Pf(t,s,n);Ff(t,s,n);return{layout:s.layout,placement:s.placement}};const Kf=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"];const Yf=(e,t,o,n=1)=>{const s=e*n;const r=t*n;const a=e=>Ce(o,e).getOr([]);const c=(e,t,o)=>{const n=ne(Kf,o);return{offset:zo(e,t),classesOn:ee(o,a),classesOff:ee(n,a)}};return{southeast:()=>c(-e,t,["top","alignLeft"]),southwest:()=>c(e,t,["top","alignRight"]),south:()=>c(-e/2,t,["top","alignCentre"]),northeast:()=>c(-e,-t,["bottom","alignLeft"]),northwest:()=>c(e,-t,["bottom","alignRight"]),north:()=>c(-e/2,-t,["bottom","alignCentre"]),east:()=>c(e,-t/2,["valignCentre","left"]),west:()=>c(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>c(s,r,["top","alignLeft","inset"]),insetNorthwest:()=>c(-s,r,["top","alignRight","inset"]),insetNorth:()=>c(-s/2,r,["top","alignCentre","inset"]),insetSoutheast:()=>c(s,-r,["bottom","alignLeft","inset"]),insetSouthwest:()=>c(-s,-r,["bottom","alignRight","inset"]),insetSouth:()=>c(-s/2,-r,["bottom","alignCentre","inset"]),insetEast:()=>c(-s,-r/2,["valignCentre","right","inset"]),insetWest:()=>c(s,-r/2,["valignCentre","left","inset"])}};const Xf=()=>Yf(0,0,{});const Jf=C;const Qf=(e,t)=>o=>em(o)==="rtl"?t:e;const em=e=>mo(e,"direction")==="rtl"?"rtl":"ltr";var tm;(function(e){e["TopToBottom"]="toptobottom";e["BottomToTop"]="bottomtotop"})(tm||(tm={}));const om="data-alloy-vertical-dir";const nm=e=>ed(e,(e=>ht(e)&&oo(e,"data-alloy-vertical-dir")===tm.BottomToTop));const sm=()=>Xr("layouts",[Mr("onLtr"),Mr("onRtl"),Ur("onBottomLtr"),Ur("onBottomRtl")]);const rm=(e,t,o,n,s,r,a)=>{const c=a.map(nm).getOr(false);const i=t.layouts.map((t=>t.onLtr(e)));const l=t.layouts.map((t=>t.onRtl(e)));const d=c?t.layouts.bind((t=>t.onBottomLtr.map((t=>t(e))))).or(i).getOr(s):i.getOr(o);const u=c?t.layouts.bind((t=>t.onBottomRtl.map((t=>t(e))))).or(l).getOr(r):l.getOr(n);const f=Qf(d,u);return f(e)};const am=(e,t,o)=>{const n=t.hotspot;const s=ef(o,n.element);const r=rm(e.element,t,ku(),wu(),bu(),vu(),M.some(t.hotspot.element));return M.some(Jf({anchorBox:s,bubble:t.bubble.getOr(Xf()),overrides:t.overrides,layouts:r,placer:M.none()}))};var cm=[Mr("hotspot"),Ur("bubble"),Qr("overrides",{}),sm(),Nd("placement",am)];const im=(e,t,o)=>{const n=of(o,t.x,t.y);const s=es(n.left,n.top,t.width,t.height);const r=rm(e.element,t,hu(),yu(),hu(),yu(),M.none());return M.some(Jf({anchorBox:s,bubble:t.bubble,overrides:t.overrides,layouts:r,placer:M.none()}))};var lm=[Mr("x"),Mr("y"),Qr("height",0),Qr("width",0),Qr("bubble",Xf()),Qr("overrides",{}),sm(),Nd("placement",im)];const dm=ua.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]);const um=e=>e.fold(C,((e,t,o)=>e.translate(-t,-o)));const fm=e=>e.fold(C,C);const mm=e=>K(e,((e,t)=>e.translate(t.left,t.top)),zo(0,0));const gm=e=>{const t=Z(e,um);return mm(t)};const pm=e=>{const t=Z(e,fm);return mm(t)};const hm=dm.screen;const ym=dm.absolute;const bm=(e,t,o)=>{const n=Dt(o.root).dom;const s=t=>{const o=Ot(t);const n=Ot(e.element);return St(o,n)};return M.from(n.frameElement).map(Qe.fromDom).filter(s).map(Eo)};const vm=(e,t,o)=>{const n=Ot(e.element);const s=Fn(n);const r=bm(e,t,o).getOr(s);return ym(r,s.left,s.top)};const km=(e,t,o,n)=>{const s=hm(zo(e,t));return M.some(Jn(s,o,n))};const wm=(e,t,o,n,s)=>e.map((e=>{const r=[t,e.point];const a=nf(n,(()=>pm(r)),(()=>pm(r)),(()=>gm(r)));const c=Qn(a.left,a.top,e.width,e.height);const i=o.showAbove?bu():ku();const l=o.showAbove?vu():wu();const d=rm(s,o,i,l,i,l,M.none());return Jf({anchorBox:c,bubble:o.bubble.getOr(Xf()),overrides:o.overrides,layouts:d,placer:M.none()})}));const _m=(e,t,o)=>{const n=vm(e,o,t);return t.node.filter(Yt).bind((s=>{const r=s.dom.getBoundingClientRect();const a=km(r.left,r.top,r.width,r.height);const c=t.node.getOr(e.element);return wm(a,n,t,o,c)}))};var xm=[Mr("node"),Mr("root"),Ur("bubble"),sm(),Qr("overrides",{}),Qr("showAbove",false),Nd("placement",_m)];const Cm="\ufeff";const Sm=" ";const zm=(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n});const Om={create:zm};const Tm=ua.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);const Em=(e,t,o,n)=>e.fold(t,o,n);const Dm=e=>e.fold(C,C,C);const Am=Tm.before;const Nm=Tm.on;const Mm=Tm.after;const Rm={before:Am,on:Nm,after:Mm,cata:Em,getStart:Dm};const Bm=ua.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]);const Lm=e=>Bm.exact(e.start,e.soffset,e.finish,e.foffset);const Hm=e=>e.match({domRange:e=>Qe.fromDom(e.startContainer),relative:(e,t)=>Rm.getStart(e),exact:(e,t,o,n)=>e});const Im=Bm.domRange;const Pm=Bm.relative;const Fm=Bm.exact;const Vm=e=>{const t=Hm(e);return Dt(t)};const jm=Om.create;const Zm={domRange:Im,relative:Pm,exact:Fm,exactFromRange:Lm,getWin:Vm,range:jm};const Um=(e,t)=>{t.fold((t=>{e.setStartBefore(t.dom)}),((t,o)=>{e.setStart(t.dom,o)}),(t=>{e.setStartAfter(t.dom)}))};const qm=(e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,o)=>{e.setEnd(t.dom,o)}),(t=>{e.setEndAfter(t.dom)}))};const Wm=(e,t,o)=>{const n=e.document.createRange();Um(n,t);qm(n,o);return n};const $m=(e,t,o,n,s)=>{const r=e.document.createRange();r.setStart(t.dom,o);r.setEnd(n.dom,s);return r};const Gm=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height});const Km=e=>{const t=e.getClientRects();const o=t.length>0?t[0]:e.getBoundingClientRect();return o.width>0||o.height>0?M.some(o).map(Gm):M.none()};const Ym=e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?M.some(t).map(Gm):M.none()};const Xm=ua.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);const Jm=(e,t,o)=>t(Qe.fromDom(o.startContainer),o.startOffset,Qe.fromDom(o.endContainer),o.endOffset);const Qm=(e,t)=>t.match({domRange:e=>({ltr:x(e),rtl:M.none}),relative:(t,o)=>({ltr:Lo((()=>Wm(e,t,o))),rtl:Lo((()=>M.some(Wm(e,o,t))))}),exact:(t,o,n,s)=>({ltr:Lo((()=>$m(e,t,o,n,s))),rtl:Lo((()=>M.some($m(e,n,s,t,o))))})});const eg=(e,t)=>{const o=t.ltr();if(o.collapsed){const n=t.rtl().filter((e=>e.collapsed===false));return n.map((e=>Xm.rtl(Qe.fromDom(e.endContainer),e.endOffset,Qe.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>Jm(e,Xm.ltr,o)))}else{return Jm(e,Xm.ltr,o)}};const tg=(e,t)=>{const o=Qm(e,t);return eg(e,o)};const og=(e,t)=>{const o=tg(e,t);return o.match({ltr:(t,o,n,s)=>{const r=e.document.createRange();r.setStart(t.dom,o);r.setEnd(n.dom,s);return r},rtl:(t,o,n,s)=>{const r=e.document.createRange();r.setStart(n.dom,s);r.setEnd(t.dom,o);return r}})};Xm.ltr;Xm.rtl;const ng=(e,t)=>xt(t,e);const sg=(e,t,o,n)=>{const s=Ot(e);const r=s.dom.createRange();r.setStart(e.dom,t);r.setEnd(o.dom,n);return r};const rg=(e,t,o,n)=>{const s=sg(e,t,o,n);const r=St(e,o)&&t===n;return s.collapsed&&!r};const ag=e=>M.from(e.getSelection());const cg=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0);const o=e.getRangeAt(e.rangeCount-1);return M.some(Om.create(Qe.fromDom(t.startContainer),t.startOffset,Qe.fromDom(o.endContainer),o.endOffset))}else{return M.none()}};const ig=e=>{if(e.anchorNode===null||e.focusNode===null){return cg(e)}else{const t=Qe.fromDom(e.anchorNode);const o=Qe.fromDom(e.focusNode);return rg(t,e.anchorOffset,o,e.focusOffset)?M.some(Om.create(t,e.anchorOffset,o,e.focusOffset)):cg(e)}};const lg=e=>ag(e).filter((e=>e.rangeCount>0)).bind(ig);const dg=(e,t)=>{const o=og(e,t);return Km(o)};const ug=(e,t)=>{const o=og(e,t);return Ym(o)};const fg=(e,t)=>{const o=o=>{if(!e(o)){throw new Error("Can only get "+t+" value of a "+t+" node")}return n(o).getOr("")};const n=t=>e(t)?M.from(t.dom.nodeValue):M.none();const s=(o,n)=>{if(!e(o)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}o.dom.nodeValue=n};return{get:o,getOption:n,set:s}};const mg=fg(yt,"text");const gg=e=>mg.get(e);const pg=(e,t)=>({element:e,offset:t});const hg=(e,t)=>{const o=Bt(e);if(o.length===0){return pg(e,t)}else if(t<o.length){return pg(o[t],0)}else{const e=o[o.length-1];const t=yt(e)?gg(e).length:Bt(e).length;return pg(e,t)}};const yg=(e,t)=>yt(e)?pg(e,t):hg(e,t);const bg=(e,t)=>{const o=t.getSelection.getOrThunk((()=>()=>lg(e)));return o().map((e=>{const t=yg(e.start,e.soffset);const o=yg(e.finish,e.foffset);return Zm.range(t.element,t.offset,o.element,o.offset)}))};const vg=(e,t,o)=>{const n=Dt(t.root).dom;const s=vm(e,o,t);const r=bg(n,t).bind((e=>{const t=ug(n,Zm.exactFromRange(e)).orThunk((()=>{const t=Qe.fromText(Cm);Nn(e.start,t);const o=dg(n,Zm.exact(t,0,t,1));Pn(t);return o}));return t.bind((e=>km(e.left,e.top,e.width,e.height)))}));const a=bg(n,t).bind((e=>ht(e.start)?M.some(e.start):Nt(e.start)));const c=a.getOr(e.element);return wm(r,s,t,o,c)};var kg=[Ur("getSelection"),Mr("root"),Ur("bubble"),sm(),Qr("overrides",{}),Qr("showAbove",false),Nd("placement",vg)];const wg="link-layout";const _g=e=>e.x+e.width;const xg=(e,t)=>e.x-t.width;const Cg=(e,t)=>e.y-t.height+e.height;const Sg=e=>e.y;const zg=(e,t,o)=>Bd(_g(e),Sg(e),o.southeast(),Fd(),"southeast",Xd(e,{left:0,top:2}),wg);const Og=(e,t,o)=>Bd(xg(e,t),Sg(e),o.southwest(),Vd(),"southwest",Xd(e,{right:1,top:2}),wg);const Tg=(e,t,o)=>Bd(_g(e),Cg(e,t),o.northeast(),jd(),"northeast",Xd(e,{left:0,bottom:3}),wg);const Eg=(e,t,o)=>Bd(xg(e,t),Cg(e,t),o.northwest(),Zd(),"northwest",Xd(e,{right:1,bottom:3}),wg);const Dg=()=>[zg,Og,Tg,Eg];const Ag=()=>[Og,zg,Eg,Tg];const Ng=(e,t,o)=>{const n=ef(o,t.item.element);const s=rm(e.element,t,Dg(),Ag(),Dg(),Ag(),M.none());return M.some(Jf({anchorBox:n,bubble:Xf(),overrides:t.overrides,layouts:s,placer:M.none()}))};var Mg=[Mr("item"),sm(),Qr("overrides",{}),Nd("placement",Ng)];var Rg=Tr("type",{selection:kg,node:xm,hotspot:cm,submenu:Mg,makeshift:lm});const Bg=[Zr("classes",mr),na("mode","all",["all","layout","placement"])];const Lg=[Qr("useFixed",D),Ur("getBounds")];const Hg=[Rr("anchor",Rg),Xr("transition",Bg)];const Ig=()=>{const e=document.documentElement;return rf(0,0,e.clientWidth,e.clientHeight)};const Pg=e=>{const t=Eo(e.element);const o=e.element.dom.getBoundingClientRect();return sf(t.left,t.top,o.width,o.height)};const Fg=(e,t,o,n,s,r,a)=>{const c=cf(o.anchorBox,t);return $f(c,s.element,o.bubble,o.layouts,r,n,o.overrides,a)};const Vg=(e,t,o,n,s)=>{jg(e,t,o,n,s,M.none())};const jg=(e,t,o,n,s,r)=>{const a=r.map(ts);return Zg(e,t,o,n,s,a)};const Zg=(e,t,o,n,s,r)=>{const a=zr("placement.info",sr(Hg),s);const c=a.anchor;const i=n.element;const l=o.get(n.uid);$u((()=>{lo(i,"position","fixed");const s=po(i,"visibility");lo(i,"visibility","hidden");const d=t.useFixed()?Ig():Pg(e);const u=c.placement;const f=r.map(x).or(t.getBounds);u(e,c,d).each((t=>{const s=t.placer.getOr(Fg);const r=s(e,d,t,f,n,l,a.transition);o.set(n.uid,r)}));s.fold((()=>{bo(i,"visibility")}),(e=>{lo(i,"visibility",e)}));if(po(i,"left").isNone()&&po(i,"top").isNone()&&po(i,"right").isNone()&&po(i,"bottom").isNone()&&Oe(po(i,"position"),"fixed")){bo(i,"position")}}),i)};const Ug=(e,t,o)=>t.useFixed()?"fixed":"absolute";const qg=(e,t,o,n)=>{const s=n.element;U(["position","left","right","top","bottom"],(e=>bo(s,e)));ff(s);o.clear(n.uid)};var Wg=Object.freeze({__proto__:null,position:Vg,positionWithin:jg,positionWithinBounds:Zg,getMode:Ug,reset:qg});const $g=()=>{let e={};const t=(t,o)=>{e[t]=o};const o=t=>Ce(e,t);const n=t=>{if(p(t)){delete e[t]}else{e={}}};return Ai({readState:()=>e,clear:n,set:t,get:o})};var Gg=Object.freeze({__proto__:null,init:$g});const Kg=Bu({fields:Lg,name:"positioning",active:Vu,apis:Wg,state:Gg});const Yg=e=>e.getSystem().isConnected();const Xg=e=>{zc(e,yc());const t=e.components();U(t,Xg)};const Jg=e=>{const t=e.components();U(t,Jg);zc(e,hc())};const Qg=(e,t)=>{e.getSystem().addToWorld(t);if(Yt(e.element)){Jg(t)}};const ep=e=>{Xg(e);e.getSystem().removeFromWorld(e)};const tp=(e,t)=>{Bn(e.element,t.element)};const op=e=>{U(e.components(),(e=>Pn(e.element)));In(e.element);e.syncComponents()};const np=(e,t,o)=>{const n=e.components();op(e);const s=o(t);const r=ne(n,s);U(r,(t=>{Xg(t);e.getSystem().removeFromWorld(t)}));U(s,(t=>{if(!Yg(t)){e.getSystem().addToWorld(t);tp(e,t);if(Yt(e.element)){Jg(t)}}else{tp(e,t)}}));e.syncComponents()};const sp=(e,t,o)=>{const n=e.components();const s=ee(t,(e=>Ti(e).toArray()));U(n,(e=>{if(!P(s,e)){ep(e)}}));const r=o(t);const a=ne(n,r);U(a,(e=>{if(Yg(e)){ep(e)}}));U(r,(t=>{if(!Yg(t)){Qg(e,t)}}));e.syncComponents()};const rp=(e,t)=>{ap(e,t,Bn)};const ap=(e,t,o)=>{e.getSystem().addToWorld(t);o(e.element,t.element);if(Yt(e.element)){Jg(t)}e.syncComponents()};const cp=e=>{Xg(e);Pn(e.element);e.getSystem().removeFromWorld(e)};const ip=e=>{const t=At(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()));cp(e);t.each((e=>{e.syncComponents()}))};const lp=e=>{const t=e.components();U(t,cp);In(e.element);e.syncComponents()};const dp=(e,t)=>{fp(e,t,Bn)};const up=(e,t)=>{fp(e,t,Mn)};const fp=(e,t,o)=>{o(e,t.element);const n=Bt(t.element);U(n,(e=>{t.getByDom(e).each(Jg)}))};const mp=e=>{const t=Bt(e.element);U(t,(t=>{e.getByDom(t).each(Xg)}));Pn(e.element)};const gp=(e,t,o,n)=>{o.get().each((t=>{lp(e)}));const s=t.getAttachPoint(e);rp(s,e);const r=e.getSystem().build(n);rp(e,r);o.set(r);return r};const pp=(e,t,o,n)=>{const s=gp(e,t,o,n);t.onOpen(e,s);return s};const hp=(e,t,o,n)=>o.get().map((()=>gp(e,t,o,n)));const yp=(e,t,o,n,s)=>{Cp(e,t);pp(e,t,o,n);s();zp(e,t)};const bp=(e,t,o)=>{o.get().each((n=>{lp(e);ip(e);t.onClose(e,n);o.clear()}))};const vp=(e,t,o)=>o.isOpen();const kp=(e,t,o,n)=>vp(e,t,o)&&o.get().exists((o=>t.isPartOf(e,o,n)));const wp=(e,t,o)=>o.get();const _p=(e,t,o,n)=>{po(e.element,t).fold((()=>{ro(e.element,o)}),(t=>{eo(e.element,o,t)}));lo(e.element,t,n)};const xp=(e,t,o)=>{no(e.element,o).fold((()=>bo(e.element,t)),(o=>lo(e.element,t,o)))};const Cp=(e,t,o)=>{const n=t.getAttachPoint(e);lo(e.element,"position",Kg.getMode(n));_p(e,"visibility",t.cloakVisibilityAttr,"hidden")};const Sp=e=>F(["top","left","right","bottom"],(t=>po(e,t).isSome()));const zp=(e,t,o)=>{if(!Sp(e.element)){bo(e.element,"position")}xp(e,"visibility",t.cloakVisibilityAttr)};var Op=Object.freeze({__proto__:null,cloak:Cp,decloak:zp,open:pp,openWhileCloaked:yp,close:bp,isOpen:vp,isPartOf:kp,getState:wp,setContent:hp});const Tp=(e,t)=>Mc([Hc(lc(),((o,n)=>{bp(o,e,t)}))]);var Ep=Object.freeze({__proto__:null,events:Tp});var Dp=[Td("onOpen"),Td("onClose"),Mr("isPartOf"),Mr("getAttachPoint"),Qr("cloakVisibilityAttr","data-precloak-visibility")];const Ap=()=>{const e=_f();const t=x("not-implemented");return Ai({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})};var Np=Object.freeze({__proto__:null,init:Ap});const Mp=Bu({fields:Dp,name:"sandboxing",active:Ep,apis:Op,state:Np});const Rp=x("dismiss.popups");const Bp=x("reposition.popups");const Lp=x("mouse.released");const Hp=nr([Qr("isExtraPart",D),Xr("fireEventInstead",[Qr("event",bc())])]);const Ip=e=>{const t=zr("Dismissal",Hp,e);return{[Rp()]:{schema:nr([Mr("target")]),onReceive:(e,o)=>{if(Mp.isOpen(e)){const n=Mp.isPartOf(e,o.target)||t.isExtraPart(e,o.target);if(!n){t.fireEventInstead.fold((()=>Mp.close(e)),(t=>zc(e,t.event)))}}}}}};const Pp=nr([Xr("fireEventInstead",[Qr("event",vc())]),Pr("doReposition")]);const Fp=e=>{const t=zr("Reposition",Pp,e);return{[Bp()]:{onReceive:e=>{if(Mp.isOpen(e)){t.fireEventInstead.fold((()=>t.doReposition(e)),(t=>zc(e,t.event)))}}}}};const Vp=(e,t,o)=>{t.store.manager.onLoad(e,t,o)};const jp=(e,t,o)=>{t.store.manager.onUnload(e,t,o)};const Zp=(e,t,o,n)=>{t.store.manager.setValue(e,t,o,n)};const Up=(e,t,o)=>t.store.manager.getValue(e,t,o);const qp=(e,t,o)=>o;var Wp=Object.freeze({__proto__:null,onLoad:Vp,onUnload:jp,setValue:Zp,getValue:Up,getState:qp});const $p=(e,t)=>{const o=e.resetOnDom?[$c(((o,n)=>{Vp(o,e,t)})),Gc(((o,n)=>{jp(o,e,t)}))]:[Ou(e,t,Vp)];return Mc(o)};var Gp=Object.freeze({__proto__:null,events:$p});const Kp=()=>{const e=la(null);const t=()=>({mode:"memory",value:e.get()});const o=()=>e.get()===null;const n=()=>{e.set(null)};return Ai({set:e.set,get:e.get,isNotSet:o,clear:n,readState:t})};const Yp=()=>{const e=v;return Ai({readState:e})};const Xp=()=>{const e=la({});const t=la({});const o=()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()});const n=()=>{e.set({});t.set({})};const s=o=>Ce(e.get(),o).orThunk((()=>Ce(t.get(),o)));const r=o=>{const n=e.get();const s=t.get();const r={};const a={};U(o,(e=>{r[e.value]=e;Ce(e,"meta").each((t=>{Ce(t,"text").each((t=>{a[t]=e}))}))}));e.set({...n,...r});t.set({...s,...a})};return Ai({readState:o,lookup:s,update:r,clear:n})};const Jp=e=>e.store.manager.state(e);var Qp=Object.freeze({__proto__:null,memory:Kp,dataset:Xp,manual:Yp,init:Jp});const eh=(e,t,o,n)=>{const s=t.store;o.update([n]);s.setValue(e,n);t.onSetValue(e,n)};const th=(e,t,o)=>{const n=t.store;const s=n.getDataKey(e);return o.lookup(s).getOrThunk((()=>n.getFallbackEntry(s)))};const oh=(e,t,o)=>{const n=t.store;n.initialValue.each((n=>{eh(e,t,o,n)}))};const nh=(e,t,o)=>{o.clear()};var sh=[Ur("initialValue"),Mr("getFallbackEntry"),Mr("getDataKey"),Mr("setValue"),Nd("manager",{setValue:eh,getValue:th,onLoad:oh,onUnload:nh,state:Xp})];const rh=(e,t,o)=>t.store.getValue(e);const ah=(e,t,o,n)=>{t.store.setValue(e,n);t.onSetValue(e,n)};const ch=(e,t,o)=>{t.store.initialValue.each((o=>{t.store.setValue(e,o)}))};var ih=[Mr("getValue"),Qr("setValue",v),Ur("initialValue"),Nd("manager",{setValue:ah,getValue:rh,onLoad:ch,onUnload:v,state:Di.init})];const lh=(e,t,o,n)=>{o.set(n);t.onSetValue(e,n)};const dh=(e,t,o)=>o.get();const uh=(e,t,o)=>{t.store.initialValue.each((e=>{if(o.isNotSet()){o.set(e)}}))};const fh=(e,t,o)=>{o.clear()};var mh=[Ur("initialValue"),Nd("manager",{setValue:lh,getValue:dh,onLoad:uh,onUnload:fh,state:Kp})];var gh=[ea("store",{mode:"memory"},Tr("mode",{memory:mh,manual:ih,dataset:sh})),Td("onSetValue"),Qr("resetOnDom",false)];const ph=Bu({fields:gh,name:"representing",active:Gp,apis:Wp,extra:{setValueFrom:(e,t)=>{const o=ph.getValue(t);ph.setValue(e,o)}},state:Qp});const hh=(e,t)=>ia(e,{},Z(t,(t=>Fr(t.name(),"Cannot configure "+t.name()+" for "+e))).concat([Ar("dump",C)]));const yh=e=>e.dump;const bh=(e,t)=>({...Mu(t),...e.dump});const vh={field:hh,augment:bh,get:yh};const kh="placeholder";const wh=ua.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]);const _h=e=>Se(e,"uiType");const xh=(e,t,o,n)=>{if(e.exists((e=>e!==o.owner))){return wh.single(true,x(o))}return Ce(n,o.name).fold((()=>{throw new Error("Unknown placeholder component: "+o.name+"\nKnown: ["+fe(n)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(o,null,2))}),(e=>e.replace()))};const Ch=(e,t,o,n)=>{if(_h(o)&&o.uiType===kh){return xh(e,t,o,n)}else{return wh.single(false,x(o))}};const Sh=(e,t,o,n)=>{const s=Ch(e,t,o,n);return s.fold(((s,r)=>{const a=_h(o)?r(t,o.config,o.validated):r(t);const c=Ce(a,"components").getOr([]);const i=ee(c,(o=>Sh(e,t,o,n)));return[{...a,components:i}]}),((e,n)=>{if(_h(o)){const e=n(t,o.config,o.validated);const s=o.validated.preprocess.getOr(C);return s(e)}else{return n(t)}}))};const zh=(e,t,o,n)=>ee(o,(o=>Sh(e,t,o,n)));const Oh=(e,t)=>{let o=false;const n=()=>o;const s=()=>{if(o){throw new Error("Trying to use the same placeholder more than once: "+e)}o=true;return t};const r=()=>t.fold(((e,t)=>e),((e,t)=>e));return{name:x(e),required:r,used:n,replace:s}};const Th=(e,t,o,n)=>{const s=pe(n,((e,t)=>Oh(t,e)));const r=zh(e,t,o,s);ge(s,(o=>{if(o.used()===false&&o.required()){throw new Error("Placeholder: "+o.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))}}));return r};const Eh=wh.single;const Dh=wh.multiple;const Ah=x(kh);const Nh=ua.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]);const Mh=Qr("factory",{sketch:C});const Rh=Qr("schema",[]);const Bh=Mr("name");const Lh=Dr("pname","pname",Es((e=>"<alloy."+li(e.name)+">")),dr());const Hh=Ar("schema",(()=>[Ur("preprocess")]));const Ih=Qr("defaults",x({}));const Ph=Qr("overrides",x({}));const Fh=sr([Mh,Rh,Bh,Lh,Ih,Ph]);const Vh=sr([Mh,Rh,Bh,Ih,Ph]);const jh=sr([Mh,Rh,Bh,Lh,Ih,Ph]);const Zh=sr([Mh,Hh,Bh,Mr("unit"),Lh,Ih,Ph]);const Uh=e=>e.fold(M.some,M.none,M.some,M.some);const qh=e=>{const t=e=>e.name;return e.fold(t,t,t,t)};const Wh=e=>e.fold(C,C,C,C);const $h=(e,t)=>o=>{const n=zr("Converting part type",t,o);return e(n)};const Gh=$h(Nh.required,Fh);const Kh=$h(Nh.external,Vh);const Yh=$h(Nh.optional,jh);const Xh=$h(Nh.group,Zh);const Jh=x("entirety");var Qh=Object.freeze({__proto__:null,required:Gh,external:Kh,optional:Yh,group:Xh,asNamedPart:Uh,name:qh,asCommon:Wh,original:Jh});const ey=(e,t,o,n)=>zs(t.defaults(e,o,n),o,{uid:e.partUids[t.name]},t.overrides(e,o,n));const ty=(e,t,o)=>{const n={};const s={};U(o,(e=>{e.fold((e=>{n[e.pname]=Eh(true,((t,o,n)=>e.factory.sketch(ey(t,e,o,n))))}),(e=>{const o=t.parts[e.name];s[e.name]=x(e.factory.sketch(ey(t,e,o[Jh()]),o))}),(e=>{n[e.pname]=Eh(false,((t,o,n)=>e.factory.sketch(ey(t,e,o,n))))}),(e=>{n[e.pname]=Dh(true,((t,o,n)=>{const s=t[e.name];return Z(s,(o=>e.factory.sketch(zs(e.defaults(t,o,n),o,e.overrides(t,o)))))}))}))}));return{internals:x(n),externals:x(s)}};const oy=(e,t)=>{const o={};U(t,(t=>{Uh(t).each((t=>{const n=ny(e,t.pname);o[t.name]=o=>{const s=zr("Part: "+t.name+" in "+e,sr(t.schema),o);return{...n,config:o,validated:s}}}))}));return o};const ny=(e,t)=>({uiType:Ah(),owner:e,name:t});const sy=(e,t,o)=>({uiType:Ah(),owner:e,name:t,config:o,validated:{}});const ry=e=>ee(e,(e=>e.fold(M.none,M.some,M.none,M.none).map((e=>Vr(e.name,e.schema.concat([Md(Jh())])))).toArray()));const ay=e=>Z(e,qh);const cy=(e,t,o)=>ty(e,t,o);const iy=(e,t,o)=>Th(M.some(e),t,t.components,o);const ly=(e,t,o)=>{const n=t.partUids[o];return e.getSystem().getByUid(n).toOptional()};const dy=(e,t,o)=>ly(e,t,o).getOrDie("Could not find part: "+o);const uy=(e,t,o)=>{const n={};const s=t.partUids;const r=e.getSystem();U(o,(e=>{n[e]=x(r.getByUid(s[e]))}));return n};const fy=(e,t)=>{const o=e.getSystem();return pe(t.partUids,((e,t)=>x(o.getByUid(e))))};const my=e=>fe(e.partUids);const gy=(e,t,o)=>{const n={};const s=t.partUids;const r=e.getSystem();U(o,(e=>{n[e]=x(r.getByUid(s[e]).getOrDie())}));return n};const py=(e,t)=>{const o=ay(t);return ba(Z(o,(t=>({key:t,value:e+"-"+t}))))};const hy=e=>Dr("partUids","partUids",Ns((t=>py(t.uid,e))),dr());var yy=Object.freeze({__proto__:null,generate:oy,generateOne:sy,schemas:ry,names:ay,substitutes:cy,components:iy,defaultUids:py,defaultUidsSchema:hy,getAllParts:fy,getAllPartNames:my,getPart:ly,getPartOrDie:dy,getParts:uy,getPartsOrDie:gy});const by=(e,t)=>{const o=e.length>0?[Vr("parts",e)]:[];return o.concat([Mr("uid"),Qr("dom",{}),Qr("components",[]),Md("originalSpec"),Qr("debug.sketcher",{})]).concat(t)};const vy=(e,t,o,n,s)=>{const r=by(n,s);return zr(e+" [SpecSchema]",nr(r.concat(t)),o)};const ky=(e,t,o,n)=>{const s=xy(n);const r=vy(e,t,s,[],[]);return o(r,s)};const wy=(e,t,o,n,s)=>{const r=xy(s);const a=ry(o);const c=hy(o);const i=vy(e,t,r,a,[c]);const l=cy(e,i,o);const d=iy(e,i,l.internals());return n(i,d,r,l.externals())};const _y=e=>Se(e,"uid");const xy=e=>_y(e)?e:{...e,uid:yi("uid")};const Cy=e=>e.uid!==undefined;const Sy=nr([Mr("name"),Mr("factory"),Mr("configFields"),Qr("apis",{}),Qr("extraApis",{})]);const zy=nr([Mr("name"),Mr("factory"),Mr("configFields"),Mr("partFields"),Qr("apis",{}),Qr("extraApis",{})]);const Oy=e=>{const t=zr("Sketcher for "+e.name,Sy,e);const o=e=>ky(t.name,t.configFields,t.factory,e);const n=pe(t.apis,Ei);const s=pe(t.extraApis,((e,t)=>xi(e,t)));return{name:t.name,configFields:t.configFields,sketch:o,...n,...s}};const Ty=e=>{const t=zr("Sketcher for "+e.name,zy,e);const o=e=>wy(t.name,t.configFields,t.partFields,t.factory,e);const n=oy(t.name,t.partFields);const s=pe(t.apis,Ei);const r=pe(t.extraApis,((e,t)=>xi(e,t)));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:o,parts:n,...s,...r}};const Ey=e=>kt("input")(e)&&oo(e,"type")!=="radio"||kt("textarea")(e);const Dy=(e,t,o)=>t.find(e);var Ay=Object.freeze({__proto__:null,getCurrent:Dy});const Ny=[Mr("find")];const My=Bu({fields:Ny,name:"composing",apis:Ay});const Ry=["input","button","textarea","select"];const By=(e,t,o)=>{const n=t.disabled()?Zy:Uy;n(e,t)};const Ly=(e,t)=>t.useNative===true&&P(Ry,ft(e.element));const Hy=e=>so(e.element,"disabled");const Iy=e=>{eo(e.element,"disabled","disabled")};const Py=e=>{ro(e.element,"disabled")};const Fy=e=>oo(e.element,"aria-disabled")==="true";const Vy=e=>{eo(e.element,"aria-disabled","true")};const jy=e=>{eo(e.element,"aria-disabled","false")};const Zy=(e,t,o)=>{t.disableClass.each((t=>{ul(e.element,t)}));const n=Ly(e,t)?Iy:Vy;n(e);t.onDisabled(e)};const Uy=(e,t,o)=>{t.disableClass.each((t=>{ml(e.element,t)}));const n=Ly(e,t)?Py:jy;n(e);t.onEnabled(e)};const qy=(e,t)=>Ly(e,t)?Hy(e):Fy(e);const Wy=(e,t,o,n)=>{const s=n?Zy:Uy;s(e,t)};var $y=Object.freeze({__proto__:null,enable:Uy,disable:Zy,isDisabled:qy,onLoad:By,set:Wy});const Gy=(e,t)=>Li({classes:t.disabled()?t.disableClass.toArray():[]});const Ky=(e,t)=>Mc([Rc(rc(),((t,o)=>qy(t,e))),Ou(e,t,By)]);var Yy=Object.freeze({__proto__:null,exhibit:Gy,events:Ky});var Xy=[ra("disabled",D),Qr("useNative",true),Ur("disableClass"),Td("onDisabled"),Td("onEnabled")];const Jy=Bu({fields:Xy,name:"disabling",active:Yy,apis:$y});const Qy=(e,t,o,n)=>{const s=ng(e.element,"."+t.highlightClass);U(s,(o=>{const s=F(n,(e=>St(e.element,o)));if(!s){ml(o,t.highlightClass);e.getSystem().getByDom(o).each((o=>{t.onDehighlight(e,o);zc(o,Sc())}))}}))};const eb=(e,t,o)=>Qy(e,t,o,[]);const tb=(e,t,o,n)=>{if(cb(e,t,o,n)){ml(n.element,t.highlightClass);t.onDehighlight(e,n);zc(n,Sc())}};const ob=(e,t,o,n)=>{Qy(e,t,o,[n]);if(!cb(e,t,o,n)){ul(n.element,t.highlightClass);t.onHighlight(e,n);zc(n,Cc())}};const nb=(e,t,o)=>{db(e,t).each((n=>{ob(e,t,o,n)}))};const sb=(e,t,o)=>{ub(e,t).each((n=>{ob(e,t,o,n)}))};const rb=(e,t,o,n)=>{lb(e,t,o,n).fold((e=>{throw e}),(n=>{ob(e,t,o,n)}))};const ab=(e,t,o,n)=>{const s=pb(e,t);const r=X(s,n);r.each((n=>{ob(e,t,o,n)}))};const cb=(e,t,o,n)=>gl(n.element,t.highlightClass);const ib=(e,t,o)=>nd(e.element,"."+t.highlightClass).bind((t=>e.getSystem().getByDom(t).toOptional()));const lb=(e,t,o,n)=>{const s=ng(e.element,"."+t.itemClass);return M.from(s[n]).fold((()=>cs.error(new Error("No element found with index "+n))),e.getSystem().getByDom)};const db=(e,t,o)=>nd(e.element,"."+t.itemClass).bind((t=>e.getSystem().getByDom(t).toOptional()));const ub=(e,t,o)=>{const n=ng(e.element,"."+t.itemClass);const s=n.length>0?M.some(n[n.length-1]):M.none();return s.bind((t=>e.getSystem().getByDom(t).toOptional()))};const fb=(e,t,o,n)=>{const s=ng(e.element,"."+t.itemClass);const r=J(s,(e=>gl(e,t.highlightClass)));return r.bind((t=>{const o=Gd(t,n,0,s.length-1);return e.getSystem().getByDom(s[o]).toOptional()}))};const mb=(e,t,o)=>fb(e,t,o,-1);const gb=(e,t,o)=>fb(e,t,o,+1);const pb=(e,t,o)=>{const n=ng(e.element,"."+t.itemClass);return Ee(Z(n,(t=>e.getSystem().getByDom(t).toOptional())))};var hb=Object.freeze({__proto__:null,dehighlightAll:eb,dehighlight:tb,highlight:ob,highlightFirst:nb,highlightLast:sb,highlightAt:rb,highlightBy:ab,isHighlighted:cb,getHighlighted:ib,getFirst:db,getLast:ub,getPrevious:mb,getNext:gb,getCandidates:pb});var yb=[Mr("highlightClass"),Mr("itemClass"),Td("onHighlight"),Td("onDehighlight")];const bb=Bu({fields:yb,name:"highlighting",apis:hb});const vb=[8];const kb=[9];const wb=[13];const _b=[27];const xb=[32];const Cb=[37];const Sb=[38];const zb=[39];const Ob=[40];const Tb=(e,t,o)=>{const n=oe(e.slice(0,t));const s=oe(e.slice(t+1));return X(n.concat(s),o)};const Eb=(e,t,o)=>{const n=oe(e.slice(0,t));return X(n,o)};const Db=(e,t,o)=>{const n=e.slice(0,t);const s=e.slice(t+1);return X(s.concat(n),o)};const Ab=(e,t,o)=>{const n=e.slice(t+1);return X(n,o)};const Nb=e=>t=>{const o=t.raw;return P(e,o.which)};const Mb=e=>t=>te(e,(e=>e(t)));const Rb=e=>{const t=e.raw;return t.shiftKey===true};const Bb=e=>{const t=e.raw;return t.ctrlKey===true};const Lb=O(Rb);const Hb=(e,t)=>({matches:e,classification:t});const Ib=(e,t)=>{const o=X(e,(e=>e.matches(t)));return o.map((e=>e.classification))};const Pb=(e,t,o)=>{const n=t.exists((e=>o.exists((t=>St(t,e)))));if(!n){Oc(e,kc(),{prevFocus:t,newFocus:o})}};const Fb=()=>{const e=e=>Wu(e.element);const t=(t,o)=>{const n=e(t);t.getSystem().triggerFocus(o,t.element);const s=e(t);Pb(t,n,s)};return{get:e,set:t}};const Vb=()=>{const e=e=>bb.getHighlighted(e).map((e=>e.element));const t=(t,o)=>{const n=e(t);t.getSystem().getByDom(o).fold(v,(e=>{bb.highlight(t,e)}));const s=e(t);Pb(t,n,s)};return{get:e,set:t}};var jb;(function(e){e["OnFocusMode"]="onFocus";e["OnEnterOrSpaceMode"]="onEnterOrSpace";e["OnApiMode"]="onApi"})(jb||(jb={}));const Zb=(e,t,o,n,s)=>{const r=()=>e.concat([Qr("focusManager",Fb()),ea("focusInside","onFocus",wr((e=>P(["onFocus","onEnterOrSpace","onApi"],e)?cs.value(e):cs.error("Invalid value for focusInside")))),Nd("handler",i),Nd("state",t),Nd("sendFocusIn",s)]);const a=(e,t,o,n,s)=>{const r=o(e,t,n,s);return Ib(r,t.event).bind((o=>o(e,t,n,s)))};const c=(e,t)=>{const r=e.focusInside!==jb.OnFocusMode?M.none():s(e).map((o=>Hc(tc(),((n,s)=>{o(n,e,t);s.stop()}))));const c=(o,n)=>{const r=Nb(xb.concat(wb))(n.event);if(e.focusInside===jb.OnEnterOrSpaceMode&&r&&Sa(o,n)){s(e).each((s=>{s(o,e,t);n.stop()}))}};const i=[Hc(Ua(),((n,s)=>{a(n,s,o,e,t).fold((()=>{c(n,s)}),(e=>{s.stop()}))})),Hc(qa(),((o,s)=>{a(o,s,n,e,t).each((e=>{s.stop()}))}))];return Mc(r.toArray().concat(i))};const i={schema:r,processKey:a,toEvents:c};return i};const Ub=e=>{const t=[Ur("onEscape"),Ur("onEnter"),Qr("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Qr("firstTabstop",0),Qr("useTabstopAt",A),Ur("visibilitySelector")].concat([e]);const o=(e,t)=>{const o=e.visibilitySelector.bind((e=>sd(t,e))).getOr(t);return _o(o)>0};const n=(e,t)=>{const n=ng(e.element,t.selector);const s=$(n,(e=>o(t,e)));return M.from(s[t.firstTabstop])};const s=(e,t)=>t.focusManager.get(e).bind((e=>sd(e,t.selector)));const r=(e,t)=>o(e,t)&&e.useTabstopAt(t);const a=(e,t,o)=>{n(e,t).each((o=>{t.focusManager.set(e,o)}))};const c=(e,t,o,n,s)=>s(t,o,(e=>r(n,e))).fold((()=>n.cyclic?M.some(true):M.none()),(t=>{n.focusManager.set(e,t);return M.some(true)}));const i=(e,t,o,n)=>{const r=ng(e.element,o.selector);return s(e,o).bind((t=>{const s=J(r,z(St,t));return s.bind((t=>c(e,r,t,o,n)))}))};const l=(e,t,o)=>{const n=o.cyclic?Tb:Eb;return i(e,t,o,n)};const d=(e,t,o)=>{const n=o.cyclic?Db:Ab;return i(e,t,o,n)};const u=(e,t,o)=>o.onEnter.bind((o=>o(e,t)));const f=(e,t,o)=>o.onEscape.bind((o=>o(e,t)));const m=x([Hb(Mb([Rb,Nb(kb)]),l),Hb(Nb(kb),d),Hb(Mb([Lb,Nb(wb)]),u)]);const g=x([Hb(Nb(_b),f)]);return Zb(t,Di.init,m,g,(()=>M.some(a)))};var qb=Ub(Ar("cyclic",D));var Wb=Ub(Ar("cyclic",A));const $b=(e,t,o)=>{Ec(e,o,rc());return M.some(true)};const Gb=(e,t,o)=>{const n=Ey(o)&&Nb(xb)(t.event);return n?M.none():$b(e,t,o)};const Kb=(e,t)=>M.some(true);const Yb=[Qr("execute",Gb),Qr("useSpace",false),Qr("useEnter",true),Qr("useControlEnter",false),Qr("useDown",false)];const Xb=(e,t,o)=>o.execute(e,t,e.element);const Jb=(e,t,o,n)=>{const s=o.useSpace&&!Ey(e.element)?xb:[];const r=o.useEnter?wb:[];const a=o.useDown?Ob:[];const c=s.concat(r).concat(a);return[Hb(Nb(c),Xb)].concat(o.useControlEnter?[Hb(Mb([Bb,Nb(wb)]),Xb)]:[])};const Qb=(e,t,o,n)=>o.useSpace&&!Ey(e.element)?[Hb(Nb(xb),Kb)]:[];var ev=Zb(Yb,Di.init,Jb,Qb,(()=>M.none()));const tv=()=>{const e=_f();const t=(t,o)=>{e.set({numRows:t,numColumns:o})};const o=()=>e.get().map((e=>e.numRows));const n=()=>e.get().map((e=>e.numColumns));return Ai({readState:()=>e.get().map((e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)}))).getOr({numRows:"?",numColumns:"?"}),setGridSize:t,getNumRows:o,getNumColumns:n})};const ov=e=>e.state(e);var nv=Object.freeze({__proto__:null,flatgrid:tv,init:ov});const sv=e=>(t,o,n,s)=>{const r=e(t.element);return iv(r,t,o,n,s)};const rv=(e,t)=>{const o=Qf(e,t);return sv(o)};const av=(e,t)=>{const o=Qf(t,e);return sv(o)};const cv=e=>(t,o,n,s)=>iv(e,t,o,n,s);const iv=(e,t,o,n,s)=>{const r=n.focusManager.get(t).bind((o=>e(t.element,o,n,s)));return r.map((e=>{n.focusManager.set(t,e);return true}))};const lv=cv;const dv=cv;const uv=cv;const fv=e=>e.offsetWidth<=0&&e.offsetHeight<=0;const mv=e=>!fv(e.dom);const gv=(e,t)=>J(e,t).map((t=>({index:t,candidates:e})));const pv=(e,t,o)=>{const n=e=>St(e,t);const s=ng(e,o);const r=$(s,mv);return gv(r,n)};const hv=(e,t)=>J(e,(e=>St(t,e)));const yv=(e,t,o,n)=>{const s=Math.floor(t/o);const r=t%o;return n(s,r).bind((t=>{const n=t.row*o+t.column;return n>=0&&n<e.length?M.some(e[n]):M.none()}))};const bv=(e,t,o,n,s)=>yv(e,t,n,((t,r)=>{const a=t===o-1;const c=a?e.length-t*n:n;const i=Gd(r,s,0,c-1);return M.some({row:t,column:i})}));const vv=(e,t,o,n,s)=>yv(e,t,n,((t,r)=>{const a=Gd(t,s,0,o-1);const c=a===o-1;const i=c?e.length-a*n:n;const l=Kd(r,0,i-1);return M.some({row:a,column:l})}));const kv=(e,t,o,n)=>bv(e,t,o,n,+1);const wv=(e,t,o,n)=>bv(e,t,o,n,-1);const _v=(e,t,o,n)=>vv(e,t,o,n,-1);const xv=(e,t,o,n)=>vv(e,t,o,n,+1);const Cv=[Mr("selector"),Qr("execute",Gb),Ed("onEscape"),Qr("captureTab",false),Rd()];const Sv=(e,t,o)=>{nd(e.element,t.selector).each((o=>{t.focusManager.set(e,o)}))};const zv=(e,t)=>t.focusManager.get(e).bind((e=>sd(e,t.selector)));const Ov=(e,t,o,n)=>zv(e,o).bind((n=>o.execute(e,t,n)));const Tv=e=>(t,o,n,s)=>pv(t,o,n.selector).bind((t=>e(t.candidates,t.index,s.getNumRows().getOr(n.initSize.numRows),s.getNumColumns().getOr(n.initSize.numColumns))));const Ev=(e,t,o)=>o.captureTab?M.some(true):M.none();const Dv=(e,t,o)=>o.onEscape(e,t);const Av=Tv(wv);const Nv=Tv(kv);const Mv=Tv(_v);const Rv=Tv(xv);const Bv=x([Hb(Nb(Cb),rv(Av,Nv)),Hb(Nb(zb),av(Av,Nv)),Hb(Nb(Sb),lv(Mv)),Hb(Nb(Ob),dv(Rv)),Hb(Mb([Rb,Nb(kb)]),Ev),Hb(Mb([Lb,Nb(kb)]),Ev),Hb(Nb(xb.concat(wb)),Ov)]);const Lv=x([Hb(Nb(_b),Dv),Hb(Nb(xb),Kb)]);var Hv=Zb(Cv,tv,Bv,Lv,(()=>M.some(Sv)));const Iv=(e,t,o,n)=>{const s=e=>ft(e)==="button"&&oo(e,"disabled")==="disabled";const r=(e,t,o)=>{const a=Gd(t,n,0,o.length-1);if(a===e){return M.none()}else{return s(o[a])?r(e,a,o):M.from(o[a])}};return pv(e,o,t).bind((e=>{const t=e.index;const o=e.candidates;return r(t,t,o)}))};const Pv=[Mr("selector"),Qr("getInitial",M.none),Qr("execute",Gb),Ed("onEscape"),Qr("executeOnMove",false),Qr("allowVertical",true)];const Fv=(e,t)=>t.focusManager.get(e).bind((e=>sd(e,t.selector)));const Vv=(e,t,o)=>Fv(e,o).bind((n=>o.execute(e,t,n)));const jv=(e,t,o)=>{t.getInitial(e).orThunk((()=>nd(e.element,t.selector))).each((o=>{t.focusManager.set(e,o)}))};const Zv=(e,t,o)=>Iv(e,o.selector,t,-1);const Uv=(e,t,o)=>Iv(e,o.selector,t,+1);const qv=e=>(t,o,n,s)=>e(t,o,n,s).bind((()=>n.executeOnMove?Vv(t,o,n):M.some(true)));const Wv=(e,t,o)=>o.onEscape(e,t);const $v=(e,t,o,n)=>{const s=Cb.concat(o.allowVertical?Sb:[]);const r=zb.concat(o.allowVertical?Ob:[]);return[Hb(Nb(s),qv(rv(Zv,Uv))),Hb(Nb(r),qv(av(Zv,Uv))),Hb(Nb(wb),Vv),Hb(Nb(xb),Vv)]};const Gv=x([Hb(Nb(xb),Kb),Hb(Nb(_b),Wv)]);var Kv=Zb(Pv,Di.init,$v,Gv,(()=>M.some(jv)));const Yv=(e,t,o)=>M.from(e[t]).bind((e=>M.from(e[o]).map((e=>({rowIndex:t,columnIndex:o,cell:e})))));const Xv=(e,t,o,n)=>{const s=e[t];const r=s.length;const a=Gd(o,n,0,r-1);return Yv(e,t,a)};const Jv=(e,t,o,n)=>{const s=Gd(o,n,0,e.length-1);const r=e[s].length;const a=Kd(t,0,r-1);return Yv(e,s,a)};const Qv=(e,t,o,n)=>{const s=e[t];const r=s.length;const a=Kd(o+n,0,r-1);return Yv(e,t,a)};const ek=(e,t,o,n)=>{const s=Kd(o+n,0,e.length-1);const r=e[s].length;const a=Kd(t,0,r-1);return Yv(e,s,a)};const tk=(e,t,o)=>Xv(e,t,o,+1);const ok=(e,t,o)=>Xv(e,t,o,-1);const nk=(e,t,o)=>Jv(e,o,t,-1);const sk=(e,t,o)=>Jv(e,o,t,+1);const rk=(e,t,o)=>Qv(e,t,o,-1);const ak=(e,t,o)=>Qv(e,t,o,+1);const ck=(e,t,o)=>ek(e,o,t,-1);const ik=(e,t,o)=>ek(e,o,t,+1);const lk=[Vr("selectors",[Mr("row"),Mr("cell")]),Qr("cycles",true),Qr("previousSelector",M.none),Qr("execute",Gb)];const dk=(e,t,o)=>{const n=t.previousSelector(e).orThunk((()=>{const o=t.selectors;return nd(e.element,o.cell)}));n.each((o=>{t.focusManager.set(e,o)}))};const uk=(e,t,o)=>Wu(e.element).bind((n=>o.execute(e,t,n)));const fk=(e,t)=>Z(e,(e=>ng(e,t.selectors.cell)));const mk=(e,t)=>(o,n,s)=>{const r=s.cycles?e:t;return sd(n,s.selectors.row).bind((e=>{const t=ng(e,s.selectors.cell);return hv(t,n).bind((t=>{const n=ng(o,s.selectors.row);return hv(n,e).bind((e=>{const o=fk(n,s);return r(o,e,t).map((e=>e.cell))}))}))}))};const gk=mk(ok,rk);const pk=mk(tk,ak);const hk=mk(nk,ck);const yk=mk(sk,ik);const bk=x([Hb(Nb(Cb),rv(gk,pk)),Hb(Nb(zb),av(gk,pk)),Hb(Nb(Sb),lv(hk)),Hb(Nb(Ob),dv(yk)),Hb(Nb(xb.concat(wb)),uk)]);const vk=x([Hb(Nb(xb),Kb)]);var kk=Zb(lk,Di.init,bk,vk,(()=>M.some(dk)));const wk=[Mr("selector"),Qr("execute",Gb),Qr("moveOnTab",false)];const _k=(e,t,o)=>o.focusManager.get(e).bind((n=>o.execute(e,t,n)));const xk=(e,t,o)=>{nd(e.element,t.selector).each((o=>{t.focusManager.set(e,o)}))};const Ck=(e,t,o)=>Iv(e,o.selector,t,-1);const Sk=(e,t,o)=>Iv(e,o.selector,t,+1);const zk=(e,t,o,n)=>o.moveOnTab?uv(Ck)(e,t,o,n):M.none();const Ok=(e,t,o,n)=>o.moveOnTab?uv(Sk)(e,t,o,n):M.none();const Tk=x([Hb(Nb(Sb),uv(Ck)),Hb(Nb(Ob),uv(Sk)),Hb(Mb([Rb,Nb(kb)]),zk),Hb(Mb([Lb,Nb(kb)]),Ok),Hb(Nb(wb),_k),Hb(Nb(xb),_k)]);const Ek=x([Hb(Nb(xb),Kb)]);var Dk=Zb(wk,Di.init,Tk,Ek,(()=>M.some(xk)));const Ak=[Ed("onSpace"),Ed("onEnter"),Ed("onShiftEnter"),Ed("onLeft"),Ed("onRight"),Ed("onTab"),Ed("onShiftTab"),Ed("onUp"),Ed("onDown"),Ed("onEscape"),Qr("stopSpaceKeyup",false),Ur("focusIn")];const Nk=(e,t,o)=>[Hb(Nb(xb),o.onSpace),Hb(Mb([Lb,Nb(wb)]),o.onEnter),Hb(Mb([Rb,Nb(wb)]),o.onShiftEnter),Hb(Mb([Rb,Nb(kb)]),o.onShiftTab),Hb(Mb([Lb,Nb(kb)]),o.onTab),Hb(Nb(Sb),o.onUp),Hb(Nb(Ob),o.onDown),Hb(Nb(Cb),o.onLeft),Hb(Nb(zb),o.onRight),Hb(Nb(xb),o.onSpace)];const Mk=(e,t,o)=>[...o.stopSpaceKeyup?[Hb(Nb(xb),Kb)]:[],Hb(Nb(_b),o.onEscape)];var Rk=Zb(Ak,Di.init,Nk,Mk,(e=>e.focusIn));const Bk=qb.schema();const Lk=Wb.schema();const Hk=Kv.schema();const Ik=Hv.schema();const Pk=kk.schema();const Fk=ev.schema();const Vk=Dk.schema();const jk=Rk.schema();var Zk=Object.freeze({__proto__:null,acyclic:Bk,cyclic:Lk,flow:Hk,flatgrid:Ik,matrix:Pk,execution:Fk,menu:Vk,special:jk});const Uk=e=>ze(e,"setGridSize");const qk=Hu({branchKey:"mode",branches:Zk,name:"keying",active:{events:(e,t)=>{const o=e.handler;return o.toEvents(e,t)}},apis:{focusIn:(e,t,o)=>{t.sendFocusIn(t).fold((()=>{e.getSystem().triggerFocus(e.element,e.element)}),(n=>{n(e,t,o)}))},setGridSize:(e,t,o,n,s)=>{if(!Uk(o)){console.error("Layout does not support setGridSize")}else{o.setGridSize(n,s)}}},state:nv});const Wk=(e,t)=>{$u((()=>{np(e,t,(()=>Z(t,e.getSystem().build)))}),e.element)};const $k=(e,t)=>{$u((()=>{sp(e,t,(()=>zl(e.element,t,e.getSystem().buildOrPatch)))}),e.element)};const Gk=(e,t,o,n)=>{ep(t);const s=Sl(e.element,o,n,e.getSystem().buildOrPatch);Qg(e,s);e.syncComponents()};const Kk=(e,t,o)=>{const n=e.getSystem().build(o);ap(e,n,t)};const Yk=(e,t,o,n)=>{ip(t);Kk(e,((e,t)=>Ln(e,t,o)),n)};const Xk=(e,t,o,n)=>{const s=t.reuseDom?$k:Wk;return s(e,n)};const Jk=(e,t,o,n)=>{Kk(e,Bn,n)};const Qk=(e,t,o,n)=>{Kk(e,Rn,n)};const ew=(e,t,o,n)=>{const s=tw(e);const r=X(s,(e=>St(n.element,e.element)));r.each(ip)};const tw=(e,t)=>e.components();const ow=(e,t,o,n,s)=>{const r=tw(e);return M.from(r[n]).map((o=>{s.fold((()=>ip(o)),(s=>{const r=t.reuseDom?Gk:Yk;r(e,o,n,s)}));return o}))};const nw=(e,t,o,n,s)=>{const r=tw(e);return J(r,n).bind((n=>ow(e,t,o,n,s)))};var sw=Object.freeze({__proto__:null,append:Jk,prepend:Qk,remove:ew,replaceAt:ow,replaceBy:nw,set:Xk,contents:tw});const rw=Bu({fields:[sa("reuseDom",true)],name:"replacing",apis:sw});const aw=(e,t)=>{const o=Mc(t);return Bu({fields:[Mr("enabled")],name:e,active:{events:x(o)}})};const cw=(e,t)=>{const o=aw(e,t);return{key:e,value:{config:{},me:o,configAsRaw:x({}),initialConfig:{},state:Di}}};const iw=(e,t)=>{if(!t.ignore){ju(e.element);t.onFocus(e)}};const lw=(e,t)=>{if(!t.ignore){Zu(e.element)}};const dw=e=>Uu(e.element);var uw=Object.freeze({__proto__:null,focus:iw,blur:lw,isFocused:dw});const fw=(e,t)=>{const o=t.ignore?{}:{attributes:{tabindex:"-1"}};return Li(o)};const mw=e=>Mc([Hc(tc(),((t,o)=>{iw(t,e);o.stop()}))].concat(e.stopMousedown?[Hc(Ha(),((e,t)=>{t.event.prevent()}))]:[]));var gw=Object.freeze({__proto__:null,exhibit:fw,events:mw});var pw=[Td("onFocus"),Qr("stopMousedown",false),Qr("ignore",false)];const hw=Bu({fields:pw,name:"focusing",active:gw,apis:uw});const yw=e=>{const t=()=>{const t=la(e);const o=()=>t.get();const n=e=>t.set(e);const s=()=>t.set(e);const r=()=>t.get();return{get:o,set:n,clear:s,readState:r}};return{init:t}};const bw=(e,t,o)=>{const n=t.aria;n.update(e,n,o.get())};const vw=(e,t,o)=>{t.toggleClass.each((t=>{if(o.get()){ul(e.element,t)}else{ml(e.element,t)}}))};const kw=(e,t,o,n)=>{const s=o.get();o.set(n);vw(e,t,o);bw(e,t,o);if(s!==n){t.onToggled(e,n)}};const ww=(e,t,o)=>{kw(e,t,o,!o.get())};const _w=(e,t,o)=>{kw(e,t,o,true)};const xw=(e,t,o)=>{kw(e,t,o,false)};const Cw=(e,t,o)=>o.get();const Sw=(e,t,o)=>{kw(e,t,o,t.selected)};var zw=Object.freeze({__proto__:null,onLoad:Sw,toggle:ww,isOn:Cw,on:_w,off:xw,set:kw});const Ow=()=>Li({});const Tw=(e,t)=>{const o=zu(e,t,ww);const n=Ou(e,t,Sw);return Mc(Q([e.toggleOnExecute?[o]:[],[n]]))};var Ew=Object.freeze({__proto__:null,exhibit:Ow,events:Tw});const Dw=(e,t,o)=>{eo(e.element,"aria-pressed",o);if(t.syncWithExpanded){Mw(e,t,o)}};const Aw=(e,t,o)=>{eo(e.element,"aria-selected",o)};const Nw=(e,t,o)=>{eo(e.element,"aria-checked",o)};const Mw=(e,t,o)=>{eo(e.element,"aria-expanded",o)};var Rw=[Qr("selected",false),Ur("toggleClass"),Qr("toggleOnExecute",true),Td("onToggled"),ea("aria",{mode:"none"},Tr("mode",{pressed:[Qr("syncWithExpanded",false),Nd("update",Dw)],checked:[Nd("update",Nw)],expanded:[Nd("update",Mw)],selected:[Nd("update",Aw)],none:[Nd("update",v)]}))];const Bw=Bu({fields:Rw,name:"toggling",active:Ew,apis:zw,state:yw(false)});const Lw=()=>{const e=(e,t)=>{t.stop();Tc(e)};return[Hc(Ga(),e),Hc(cc(),e),Uc(Ma()),Uc(Ha())]};const Hw=e=>{const t=e=>Yc(((t,o)=>{e(t);o.stop()}));return Mc(Q([e.map(t).toArray(),Lw()]))};const Iw="alloy.item-hover";const Pw="alloy.item-focus";const Fw="alloy.item-toggled";const Vw=e=>{if(Wu(e.element).isNone()||hw.isFocused(e)){if(!hw.isFocused(e)){hw.focus(e)}Oc(e,Iw,{item:e})}};const jw=e=>{Oc(e,Pw,{item:e})};const Zw=(e,t)=>{Oc(e,Fw,{item:e,state:t})};const Uw=x(Iw);const qw=x(Pw);const Ww=x(Fw);const $w=e=>e.toggling.map((e=>e.exclusive?"menuitemradio":"menuitemcheckbox")).getOr("menuitem");const Gw=e=>({aria:{mode:"checked"},...ke(e,((e,t)=>t!=="exclusive")),onToggled:(t,o)=>{if(h(e.onToggled)){e.onToggled(t,o)}Zw(t,o)}});const Kw=e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:$w(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":false}:{}}},behaviours:vh.augment(e.itemBehaviours,[e.toggling.fold(Bw.revoke,(e=>Bw.config(Gw(e)))),hw.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{jw(e)}}),qk.config({mode:"execution"}),ph.config({store:{mode:"memory",initialValue:e.data}}),cw("item-type-events",[...Lw(),Hc(Va(),Vw),Hc(ac(),hw.focus)])]),components:e.components,eventOrder:e.eventOrder});const Yw=[Mr("data"),Mr("components"),Mr("dom"),Qr("hasSubmenu",false),Ur("toggling"),vh.field("itemBehaviours",[Bw,hw,qk,ph]),Qr("ignoreFocus",false),Qr("domModification",{}),Nd("builder",Kw),Qr("eventOrder",{})];const Xw=e=>({dom:e.dom,components:e.components,events:Mc([qc(ac())])});const Jw=[Mr("dom"),Mr("components"),Nd("builder",Xw)];const Qw=x("item-widget");const e_=x([Gh({name:"widget",overrides:e=>({behaviours:Mu([ph.config({store:{mode:"manual",getValue:t=>e.data,setValue:v}})])})})]);const t_=e=>{const t=cy(Qw(),e,e_());const o=iy(Qw(),e,t.internals());const n=t=>ly(t,e,"widget").map((e=>{qk.focusIn(e);return e}));const s=(t,o)=>Ey(o.event.target)?M.none():(()=>{if(e.autofocus){o.setSource(t.element);return M.none()}else{return M.none()}})();return{dom:e.dom,components:o,domModification:e.domModification,events:Mc([Yc(((e,t)=>{n(e).each((e=>{t.stop()}))})),Hc(Va(),Vw),Hc(ac(),((t,o)=>{if(e.autofocus){n(t)}else{hw.focus(t)}}))]),behaviours:vh.augment(e.widgetBehaviours,[ph.config({store:{mode:"memory",initialValue:e.data}}),hw.config({ignore:e.ignoreFocus,onFocus:e=>{jw(e)}}),qk.config({mode:"special",focusIn:e.autofocus?e=>{n(e)}:Iu(),onLeft:s,onRight:s,onEscape:(t,o)=>{if(!hw.isFocused(t)&&!e.autofocus){hw.focus(t);return M.some(true)}else if(e.autofocus){o.setSource(t.element);return M.none()}else{return M.none()}}})])}};const o_=[Mr("uid"),Mr("data"),Mr("components"),Mr("dom"),Qr("autofocus",false),Qr("ignoreFocus",false),vh.field("widgetBehaviours",[ph,hw,qk]),Qr("domModification",{}),hy(e_()),Nd("builder",t_)];const n_=Tr("type",{widget:o_,item:Yw,separator:Jw});const s_=(e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager});const r_=(e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager});const a_=(e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager});const c_=x([Xh({factory:{sketch:e=>{const t=zr("menu.spec item",n_,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>Se(t,"uid")?t:{...t,uid:yi("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]);const i_=x([Mr("value"),Mr("items"),Mr("dom"),Mr("components"),Qr("eventOrder",{}),hh("menuBehaviours",[bb,ph,My,qk]),ea("movement",{mode:"menu",moveOnTab:true},Tr("mode",{grid:[Rd(),Nd("config",s_)],matrix:[Nd("config",r_),Mr("rowSelector"),Qr("previousSelector",M.none)],menu:[Qr("moveOnTab",true),Nd("config",a_)]})),Cd(),Qr("fakeFocus",false),Qr("focusManager",Fb()),Td("onHighlight"),Td("onDehighlight")]);const l_=x("alloy.menu-focus");const d_=(e,t)=>{const o=ng(e.element,'[role="menuitemradio"][aria-checked="true"]');U(o,(o=>{if(!St(o,t.element)){e.getSystem().getByDom(o).each((e=>{Bw.off(e)}))}}))};const u_=(e,t,o,n)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:bh(e.menuBehaviours,[bb.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),ph.config({store:{mode:"memory",initialValue:e.value}}),My.config({find:M.some}),qk.config(e.movement.config(e,e.movement))]),events:Mc([Hc(qw(),((e,t)=>{const o=t.event;e.getSystem().getByDom(o.target).each((o=>{bb.highlight(e,o);t.stop();Oc(e,l_(),{menu:e,item:o})}))})),Hc(Uw(),((e,t)=>{const o=t.event.item;bb.highlight(e,o)})),Hc(Ww(),((e,t)=>{const{item:o,state:n}=t.event;if(n&&oo(o.element,"role")==="menuitemradio"){d_(e,o)}}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}});const f_=Ty({name:"Menu",configFields:i_(),partFields:c_(),factory:u_});const m_=e=>he(e,((e,t)=>({k:e,v:t})));const g_=(e,t,o,n)=>Ce(o,n).bind((n=>Ce(e,n).bind((n=>{const s=g_(e,t,o,n);return M.some([n].concat(s))})))).getOr([]);const p_=(e,t)=>{const o={};ge(e,((e,t)=>{U(e,(e=>{o[e]=t}))}));const n=t;const s=m_(t);const r=pe(s,((e,t)=>[t].concat(g_(o,n,s,t))));return pe(o,(e=>Ce(r,e).getOr([e])))};const h_=()=>{const e=la({});const t=la({});const o=la({});const n=_f();const s=la({});const r=()=>{e.set({});t.set({});o.set({});n.clear()};const a=()=>n.get().isNone();const c=(e,o)=>{t.set({...t.get(),[e]:{type:"prepared",menu:o}})};const i=(r,a,c,i)=>{n.set(r);e.set(c);t.set(a);s.set(i);const l=p_(i,c);o.set(l)};const l=t=>_e(e.get(),((e,o)=>e===t));const d=(e,t,o)=>p(e).bind((n=>l(e).bind((e=>t(e).map((e=>({triggeredMenu:n,triggeringItem:e,triggeringPath:o})))))));const u=(e,t)=>{const s=$(y(e).toArray(),(e=>p(e).isSome()));return Ce(o.get(),e).bind((e=>{const o=oe(s.concat(e));const r=ee(o,((e,s)=>d(e,t,o.slice(0,s+1)).fold((()=>Oe(n.get(),e)?[]:[M.none()]),(e=>[M.some(e)]))));return De(r)}))};const f=t=>Ce(e.get(),t).map((e=>{const n=Ce(o.get(),t).getOr([]);return[e].concat(n)}));const m=e=>Ce(o.get(),e).bind((e=>e.length>1?M.some(e.slice(1)):M.none()));const g=e=>Ce(o.get(),e);const p=e=>h(e).bind(y_);const h=e=>Ce(t.get(),e);const y=t=>Ce(e.get(),t);const b=e=>{const t=s.get();return ne(fe(t),e)};const v=()=>n.get().bind(p);const k=()=>t.get();return{setMenuBuilt:c,setContents:i,expand:f,refresh:g,collapse:m,lookupMenu:h,lookupItem:y,otherMenus:b,getPrimary:v,getMenus:k,clear:r,isClear:a,getTriggeringPath:u}};const y_=e=>e.type==="prepared"?M.some(e.menu):M.none();const b_={init:h_,extractPreparedMenu:y_};const v_=li("tiered-menu-item-highlight");const k_=li("tiered-menu-item-dehighlight");var w_;(function(e){e[e["HighlightMenuAndItem"]=0]="HighlightMenuAndItem";e[e["HighlightJustMenu"]=1]="HighlightJustMenu";e[e["HighlightNone"]=2]="HighlightNone"})(w_||(w_={}));const __=(e,t)=>{const o=_f();const n=(t,o,n)=>pe(n,((n,s)=>{const r=()=>f_.sketch({...n,value:s,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{const o={menuComp:e,itemComp:t};Oc(e,v_,o)},onDehighlight:(e,t)=>{const o={menuComp:e,itemComp:t};Oc(e,k_,o)},focusManager:e.fakeFocus?Vb():Fb()});return s===o?{type:"prepared",menu:t.getSystem().build(r())}:{type:"notbuilt",nbMenu:r}}));const s=b_.init();const r=t=>{const o=n(t,e.data.primary,e.data.menus);const r=i();s.setContents(e.data.primary,o,e.data.expansions,r);return s.getPrimary()};const a=e=>ph.getValue(e).value;const c=(e,t,o)=>ue(t,(e=>{if(!e.getSystem().isConnected()){return M.none()}const t=bb.getCandidates(e);return X(t,(e=>a(e)===o))}));const i=t=>pe(e.data.menus,((e,t)=>ee(e.items,(e=>e.type==="separator"?[]:[e.data.value]))));const l=bb.highlight;const d=(t,o)=>{l(t,o);bb.getHighlighted(o).orThunk((()=>bb.getFirst(o))).each((n=>{if(e.fakeFocus){bb.highlight(o,n)}else{Ec(t,n.element,ac())}}))};const u=(e,t)=>Ee(Z(t,(t=>e.lookupMenu(t).bind((e=>e.type==="prepared"?M.some(e.menu):M.none())))));const f=(t,o,n)=>{const s=u(o,o.otherMenus(n));U(s,(o=>{hl(o.element,[e.markers.backgroundMenu]);if(!e.stayInDom){rw.remove(t,o)}}))};const m=t=>o.get().getOrThunk((()=>{const n={};const s=ng(t.element,`.${e.markers.item}`);const r=$(s,(e=>oo(e,"aria-haspopup")==="true"));U(r,(e=>{t.getSystem().getByDom(e).each((e=>{const t=a(e);n[t]=e}))}));o.set(n);return n}));const g=(e,t)=>{const o=m(e);ge(o,((e,o)=>{const n=P(t,o);eo(e.element,"aria-expanded",n)}))};const p=(t,o,n)=>M.from(n[0]).bind((s=>o.lookupMenu(s).bind((s=>{if(s.type==="notbuilt"){return M.none()}else{const r=s.menu;const a=u(o,n.slice(1));U(a,(t=>{ul(t.element,e.markers.backgroundMenu)}));if(!Yt(r.element)){rw.append(t,Gl(r))}hl(r.element,[e.markers.backgroundMenu]);d(t,r);f(t,o,n);return M.some(r)}}))));let h;(function(e){e[e["HighlightSubmenu"]=0]="HighlightSubmenu";e[e["HighlightParent"]=1]="HighlightParent"})(h||(h={}));const y=(e,t,o)=>{if(o.type==="notbuilt"){const n=e.getSystem().build(o.nbMenu());s.setMenuBuilt(t,n);return n}else{return o.menu}};const b=(t,o,n=h.HighlightSubmenu)=>{if(o.hasConfigured(Jy)&&Jy.isDisabled(o)){return M.some(o)}else{const r=a(o);return s.expand(r).bind((r=>{g(t,r);return M.from(r[0]).bind((a=>s.lookupMenu(a).bind((c=>{const i=y(t,a,c);if(!Yt(i.element)){rw.append(t,Gl(i))}e.onOpenSubmenu(t,o,i,oe(r));if(n===h.HighlightSubmenu){bb.highlightFirst(i);return p(t,s,r)}else{bb.dehighlightAll(i);return M.some(o)}}))))}))}};const k=(t,o)=>{const n=a(o);return s.collapse(n).bind((n=>{g(t,n);return p(t,s,n).map((n=>{e.onCollapseMenu(t,o,n);return n}))}))};const w=(e,t)=>{const o=a(t);return s.refresh(o).bind((t=>{g(e,t);return p(e,s,t)}))};const _=(e,t)=>Ey(t.element)?M.none():b(e,t,h.HighlightSubmenu);const x=(e,t)=>Ey(t.element)?M.none():k(e,t);const C=(t,o)=>k(t,o).orThunk((()=>e.onEscape(t,o).map((()=>t))));const S=t=>(o,n)=>sd(n.getSource(),`.${e.markers.item}`).bind((e=>o.getSystem().getByDom(e).toOptional().bind((e=>t(o,e).map(A)))));const z=Mc([Hc(l_(),((e,t)=>{const o=t.event.item;s.lookupItem(a(o)).each((()=>{const o=t.event.menu;bb.highlight(e,o);const n=a(t.event.item);s.refresh(n).each((t=>f(e,s,t)))}))})),Yc(((t,o)=>{const n=o.event.target;t.getSystem().getByDom(n).each((o=>{const n=a(o);if(n.indexOf("collapse-item")===0){k(t,o)}b(t,o,h.HighlightSubmenu).fold((()=>{e.onExecute(t,o)}),v)}))})),$c(((t,o)=>{r(t).each((o=>{rw.append(t,Gl(o));e.onOpenMenu(t,o);if(e.highlightOnOpen===w_.HighlightMenuAndItem){d(t,o)}else if(e.highlightOnOpen===w_.HighlightJustMenu){l(t,o)}}))})),Hc(v_,((t,o)=>{e.onHighlightItem(t,o.event.menuComp,o.event.itemComp)})),Hc(k_,((t,o)=>{e.onDehighlightItem(t,o.event.menuComp,o.event.itemComp)})),...e.navigateOnHover?[Hc(Uw(),((t,o)=>{const n=o.event.item;w(t,n);b(t,n,h.HighlightParent);e.onHover(t,n)}))]:[]]);const O=e=>bb.getHighlighted(e).bind(bb.getHighlighted);const T=e=>{O(e).each((t=>{k(e,t)}))};const E=e=>{s.getPrimary().each((t=>{d(e,t)}))};const D=e=>M.from(e.components()[0]).filter((e=>oo(e.element,"role")==="menu"));const N=t=>{const o=s.getPrimary().bind((e=>O(t).bind((e=>{const o=a(e);const n=xe(s.getMenus());const r=Ee(Z(n,b_.extractPreparedMenu));return s.getTriggeringPath(o,(e=>c(t,r,e)))})).map((t=>({primary:e,triggeringPath:t})))));o.fold((()=>{D(t).each((o=>{e.onRepositionMenu(t,o,[])}))}),(({primary:o,triggeringPath:n})=>{e.onRepositionMenu(t,o,n)}))};const R={collapseMenu:T,highlightPrimary:E,repositionMenus:N};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:bh(e.tmenuBehaviours,[qk.config({mode:"special",onRight:S(_),onLeft:S(x),onEscape:S(C),focusIn:(e,t)=>{s.getPrimary().each((t=>{Ec(e,t.element,ac())}))}}),bb.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),My.config({find:e=>bb.getHighlighted(e)}),rw.config({})]),eventOrder:e.eventOrder,apis:R,events:z}};const x_=x("collapse-item");const C_=(e,t,o)=>({primary:e,menus:t,expansions:o});const S_=(e,t)=>({primary:e,menus:ya(e,t),expansions:{}});const z_=e=>({value:li(x_()),meta:{text:e}});const O_=Oy({name:"TieredMenu",configFields:[Ad("onExecute"),Ad("onEscape"),Dd("onOpenMenu"),Dd("onOpenSubmenu"),Td("onRepositionMenu"),Td("onCollapseMenu"),Qr("highlightOnOpen",w_.HighlightMenuAndItem),Vr("data",[Mr("primary"),Mr("menus"),Mr("expansions")]),Qr("fakeFocus",false),Td("onHighlightItem"),Td("onDehighlightItem"),Td("onHover"),Sd(),Mr("dom"),Qr("navigateOnHover",true),Qr("stayInDom",false),hh("tmenuBehaviours",[qk,bb,My,rw]),Qr("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:__,extraApis:{tieredData:C_,singleData:S_,collapseItem:z_}});const T_=(e,t,o,n,s)=>{const r=()=>e.lazySink(t);const a=n.type==="horizontal"?{layouts:{onLtr:()=>ku(),onRtl:()=>wu()}}:{};const c=e=>e.length===2;const i=e=>c(e)?a:{};return O_.sketch({dom:{tag:"div"},data:n.data,markers:n.menu.markers,highlightOnOpen:n.menu.highlightOnOpen,fakeFocus:n.menu.fakeFocus,onEscape:()=>{Mp.close(t);e.onEscape.map((e=>e(t)));return M.some(true)},onExecute:()=>M.some(true),onOpenMenu:(e,t)=>{Kg.positionWithinBounds(r().getOrDie(),t,o,s())},onOpenSubmenu:(e,t,o,n)=>{const s=r().getOrDie();Kg.position(s,o,{anchor:{type:"submenu",item:t,...i(n)}})},onRepositionMenu:(e,t,n)=>{const a=r().getOrDie();Kg.positionWithinBounds(a,t,o,s());U(n,(e=>{const t=i(e.triggeringPath);Kg.position(a,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})}))}})};const E_=(e,t)=>{const o=(t,o)=>{const n=e.getRelated(t);return n.exists((e=>ld(e,o)))};const n=(e,t)=>{Mp.setContent(e,t)};const s=(e,t,o)=>{r(e,t,o,M.none())};const r=(e,t,o,n)=>{a(e,t,o,(()=>n.map((e=>ts(e)))))};const a=(t,o,n,s)=>{const r=e.lazySink(t).getOrDie();Mp.openWhileCloaked(t,o,(()=>Kg.positionWithinBounds(r,t,n,s())));ph.setValue(t,M.some({mode:"position",config:n,getBounds:s}))};const c=(e,t,o)=>{i(e,t,o,M.none)};const i=(t,o,n,s)=>{const r=T_(e,t,o,n,s);Mp.open(t,r);ph.setValue(t,M.some({mode:"menu",menu:r}))};const l=e=>{if(Mp.isOpen(e)){ph.setValue(e,M.none());Mp.close(e)}};const d=e=>Mp.getState(e);const u=t=>{if(Mp.isOpen(t)){ph.getValue(t).each((o=>{switch(o.mode){case"menu":Mp.getState(t).each(O_.repositionMenus);break;case"position":const n=e.lazySink(t).getOrDie();Kg.positionWithinBounds(n,t,o.config,o.getBounds());break}}))}};const f={setContent:n,showAt:s,showWithin:r,showWithinBounds:a,showMenuAt:c,showMenuWithinBounds:i,hide:l,getContent:d,reposition:u,isOpen:Mp.isOpen};return{uid:e.uid,dom:e.dom,behaviours:bh(e.inlineBehaviours,[Mp.config({isPartOf:(e,t,n)=>ld(t,n)||o(e,n),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),ph.config({store:{mode:"memory",initialValue:M.none()}}),Pu.config({channels:{...Ip({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Fp({...e.fireRepositionEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({}),doReposition:u})}})]),eventOrder:e.eventOrder,apis:f}};const D_=Oy({name:"InlineView",configFields:[Mr("lazySink"),Td("onShow"),Td("onHide"),Kr("onEscape"),hh("inlineBehaviours",[Mp,ph,Pu]),Xr("fireDismissalEventInstead",[Qr("event",bc())]),Xr("fireRepositionEventInstead",[Qr("event",vc())]),Qr("getRelated",M.none),Qr("isExtraPart",D),Qr("eventOrder",M.none)],factory:E_,apis:{showAt:(e,t,o,n)=>{e.showAt(t,o,n)},showWithin:(e,t,o,n,s)=>{e.showWithin(t,o,n,s)},showWithinBounds:(e,t,o,n,s)=>{e.showWithinBounds(t,o,n,s)},showMenuAt:(e,t,o,n)=>{e.showMenuAt(t,o,n)},showMenuWithinBounds:(e,t,o,n,s)=>{e.showMenuWithinBounds(t,o,n,s)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,o)=>{e.setContent(t,o)},reposition:(e,t)=>{e.reposition(t)}}});var A_=tinymce.util.Tools.resolve("tinymce.util.Delay");const N_=e=>{const t=Hw(e.action);const o=e.dom.tag;const n=t=>Ce(e.dom,"attributes").bind((e=>Ce(e,t)));const s=()=>{if(o==="button"){const e=n("type").getOr("button");const t=n("role").map((e=>({role:e}))).getOr({});return{type:e,...t}}else{const e=n("role").getOr("button");return{role:e}}};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:vh.augment(e.buttonBehaviours,[hw.config({}),qk.config({mode:"execution",useSpace:true,useEnter:true})]),domModification:{attributes:s()},eventOrder:e.eventOrder}};const M_=Oy({name:"Button",factory:N_,configFields:[Qr("uid",undefined),Mr("dom"),Qr("components",[]),vh.field("buttonBehaviours",[hw,qk]),Ur("action"),Ur("role"),Qr("eventOrder",{})]});const R_=e=>{const t=Cy(e)&&ze(e,"uid")?e.uid:yi("memento");const o=e=>e.getSystem().getByUid(t).getOrDie();const n=e=>e.getSystem().getByUid(t).toOptional();const s=()=>({...e,uid:t});return{get:o,getOpt:n,asSpec:s}};var B_=tinymce.util.Tools.resolve("tinymce.util.I18n");const L_={indent:true,outdent:true,"table-insert-column-after":true,"table-insert-column-before":true,"paste-column-after":true,"paste-column-before":true,"unordered-list":true,"list-bull-circle":true,"list-bull-default":true,"list-bull-square":true};const H_="temporary-placeholder";const I_=e=>()=>Ce(e,H_).getOr("!not found!");const P_=(e,t)=>{const o=e.toLowerCase();if(B_.isRtl()){const e=Pe(o,"-rtl");return Se(t,e)?e:o}else{return o}};const F_=(e,t)=>Ce(t,P_(e,t));const V_=(e,t)=>{const o=t();return F_(e,o).getOrThunk(I_(o))};const j_=(e,t,o)=>{const n=t();return F_(e,n).or(o).getOrThunk(I_(n))};const Z_=e=>B_.isRtl()?Se(L_,e):false;const U_=()=>cw("add-focusable",[$c((e=>{od(e.element,"svg").each((e=>eo(e,"focusable","false")))}))]);const q_=(e,t,o,n)=>{var s,r;const a=Z_(t)?["tox-icon--flip"]:[];const c=Ce(o,P_(t,o)).or(n).getOrThunk(I_(o));return{dom:{tag:e.tag,attributes:(s=e.attributes)!==null&&s!==void 0?s:{},classes:e.classes.concat(a),innerHtml:c},behaviours:Mu([...(r=e.behaviours)!==null&&r!==void 0?r:[],U_()])}};const W_=(e,t,o,n=M.none())=>q_(t,e,o(),n);const $_=(e,t,o)=>{const n=o();const s=X(e,(e=>Se(n,P_(e,n))));return q_(t,s.getOr(H_),n,M.none())};const G_={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"};const K_=e=>{const t=R_({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Mu([rw.config({})])});const o=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${e}%`}}});const n=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${e}%`}});const s=R_({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},n(0)],behaviours:Mu([rw.config({})])});const r=(e,t)=>{if(e.getSystem().isConnected()){s.getOpt(e).each((e=>{rw.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(t)]},n(t)])}))}};const a=(e,o)=>{if(e.getSystem().isConnected()){const n=t.get(e);rw.set(n,[jl(o)])}};const c={updateProgress:r,updateText:a};const i=Q([e.icon.toArray(),e.level.toArray(),e.level.bind((e=>M.from(G_[e]))).toArray()]);const l=R_(M_.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[W_("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:t=>{e.onAction(t)}}));const d=$_(i,{tag:"div",classes:["tox-notification__icon"]},e.iconProvider);const u={dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Mu([rw.config({})])};const f=[d,u];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((e=>["tox-notification","tox-notification--in",`tox-notification--${e}`])).getOr(["tox-notification","tox-notification--in"])},behaviours:Mu([hw.config({}),cw("notification-events",[Hc(ja(),(e=>{l.getOpt(e).each(hw.focus)}))])]),components:f.concat(e.progress?[s.asSpec()]:[]).concat(!e.closeButton?[]:[l.asSpec()]),apis:c}};const Y_=Oy({name:"Notification",factory:K_,configFields:[Ur("level"),Mr("progress"),Ur("icon"),Mr("onAction"),Mr("text"),Mr("iconProvider"),Mr("translationProvider"),sa("closeButton",true)],apis:{updateProgress:(e,t,o)=>{e.updateProgress(t,o)},updateText:(e,t,o)=>{e.updateText(t,o)}}});var X_=(e,t,o)=>{const n=t.backstage.shared;const s=()=>{const t=ts(Qe.fromDom(e.getContentAreaContainer()));const o=ns();const n=Kd(o.x,t.x,t.right);const s=Kd(o.y,t.y,t.bottom);const r=Math.max(t.right,o.right);const a=Math.max(t.bottom,o.bottom);return M.some(es(n,s,r-n,a-s))};const r=(t,r)=>{const a=()=>{r();D_.hide(i)};const c=$l(Y_.sketch({text:t.text,level:P(["success","error","warning","warn","info"],t.type)?t.type:undefined,progress:t.progressBar===true,icon:t.icon,closeButton:t.closeButton,onAction:a,iconProvider:n.providers.icons,translationProvider:n.providers.translate}));const i=$l(D_.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:n.getSink,fireDismissalEventInstead:{},...n.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));o.add(i);if(y(t.timeout)&&t.timeout>0){A_.setEditorTimeout(e,(()=>{a()}),t.timeout)}const l=()=>{const t=Gl(c);const o={maxHeightFunction:qf()};const r=e.notificationManager.getNotifications();if(r[0]===d){const e={...n.anchors.banner(),overrides:o};D_.showWithinBounds(i,t,{anchor:e},s)}else{I(r,d).each((e=>{const n=r[e-1].getEl();const a={type:"node",root:Xt(),node:M.some(Qe.fromDom(n)),overrides:o,layouts:{onRtl:()=>[mu],onLtr:()=>[mu]}};D_.showWithinBounds(i,t,{anchor:a},s)}))}};const d={close:a,reposition:l,text:e=>{Y_.updateText(c,e)},settings:t,getEl:()=>c.element.dom,progressBar:{value:e=>{Y_.updateProgress(c,e)}}};return d};const a=e=>{e.close()};const c=e=>e.settings;return{open:r,close:a,getArgs:c}};var J_=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var Q_=tinymce.util.Tools.resolve("tinymce.EditorManager");var ex=tinymce.util.Tools.resolve("tinymce.Env");var tx;(function(e){e["default"]="wrap";e["floating"]="floating";e["sliding"]="sliding";e["scrolling"]="scrolling"})(tx||(tx={}));var ox;(function(e){e["auto"]="auto";e["top"]="top";e["bottom"]="bottom"})(ox||(ox={}));const nx=e=>t=>t.options.get(e);const sx=e=>t=>M.from(e(t));const rx=e=>{const t=ex.deviceType.isPhone();const o=ex.deviceType.isTablet()||t;const n=e.options.register;const s=e=>c(e)||e===false;const r=e=>c(e)||y(e);n("skin",{processor:e=>c(e)||e===false,default:"oxide"});n("skin_url",{processor:"string"});n("height",{processor:r,default:Math.max(e.getElement().offsetHeight,400)});n("width",{processor:r,default:J_.DOM.getStyle(e.getElement(),"width")});n("min_height",{processor:"number",default:100});n("min_width",{processor:"number"});n("max_height",{processor:"number"});n("max_width",{processor:"number"});n("style_formats",{processor:"object[]"});n("style_formats_merge",{processor:"boolean",default:false});n("style_formats_autohide",{processor:"boolean",default:false});n("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"});n("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;"+"Arial=arial,helvetica,sans-serif;"+"Arial Black=arial black,sans-serif;"+"Book Antiqua=book antiqua,palatino,serif;"+"Comic Sans MS=comic sans ms,sans-serif;"+"Courier New=courier new,courier,monospace;"+"Georgia=georgia,palatino,serif;"+"Helvetica=helvetica,arial,sans-serif;"+"Impact=impact,sans-serif;"+"Symbol=symbol;"+"Tahoma=tahoma,arial,helvetica,sans-serif;"+"Terminal=terminal,monaco,monospace;"+"Times New Roman=times new roman,times,serif;"+"Trebuchet MS=trebuchet ms,geneva,sans-serif;"+"Verdana=verdana,geneva,sans-serif;"+"Webdings=webdings;"+"Wingdings=wingdings,zapf dingbats"});n("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"});n("block_formats",{processor:"string",default:"Paragraph=p;"+"Heading 1=h1;"+"Heading 2=h2;"+"Heading 3=h3;"+"Heading 4=h4;"+"Heading 5=h5;"+"Heading 6=h6;"+"Preformatted=pre"});n("content_langs",{processor:"object[]"});n("removed_menuitems",{processor:"string",default:""});n("menubar",{processor:e=>c(e)||f(e),default:!t});n("menu",{processor:"object",default:{}});n("toolbar",{processor:e=>{if(f(e)||c(e)||d(e)){return{value:e,valid:true}}else{return{valid:false,message:"Must be a boolean, string or array."}}},default:true});V(9,(e=>{n("toolbar"+(e+1),{processor:"string"})}));n("toolbar_mode",{processor:"string",default:o?"scrolling":"floating"});n("toolbar_groups",{processor:"object",default:{}});n("toolbar_location",{processor:"string",default:ox.auto});n("toolbar_persist",{processor:"boolean",default:false});n("toolbar_sticky",{processor:"boolean",default:e.inline});n("toolbar_sticky_offset",{processor:"number",default:0});n("fixed_toolbar_container",{processor:"string",default:""});n("fixed_toolbar_container_target",{processor:"object"});n("file_picker_callback",{processor:"function"});n("file_picker_validator_handler",{processor:"function"});n("file_picker_types",{processor:"string"});n("typeahead_urls",{processor:"boolean",default:true});n("anchor_top",{processor:s,default:"#top"});n("anchor_bottom",{processor:s,default:"#bottom"});n("draggable_modal",{processor:"boolean",default:false});n("statusbar",{processor:"boolean",default:true});n("elementpath",{processor:"boolean",default:true});n("branding",{processor:"boolean",default:true});n("promotion",{processor:"boolean",default:true});n("resize",{processor:e=>e==="both"||f(e),default:!ex.deviceType.isTouch()});n("sidebar_show",{processor:"string"})};const ax=nx("readonly");const cx=nx("height");const ix=nx("width");const lx=sx(nx("min_width"));const dx=sx(nx("min_height"));const ux=sx(nx("max_width"));const fx=sx(nx("max_height"));const mx=sx(nx("style_formats"));const gx=nx("style_formats_merge");const px=nx("style_formats_autohide");const hx=nx("content_langs");const yx=nx("removed_menuitems");const bx=nx("toolbar_mode");const vx=nx("toolbar_groups");const kx=nx("toolbar_location");const wx=nx("fixed_toolbar_container");const _x=nx("fixed_toolbar_container_target");const xx=nx("toolbar_persist");const Cx=nx("toolbar_sticky_offset");const Sx=nx("menubar");const zx=nx("toolbar");const Ox=nx("file_picker_callback");const Tx=nx("file_picker_validator_handler");const Ex=nx("file_picker_types");const Dx=nx("typeahead_urls");const Ax=nx("anchor_top");const Nx=nx("anchor_bottom");const Mx=nx("draggable_modal");const Rx=nx("statusbar");const Bx=nx("elementpath");const Lx=nx("branding");const Hx=nx("resize");const Ix=nx("paste_as_text");const Px=nx("sidebar_show");const Fx=nx("promotion");const Vx=e=>e.options.get("skin")===false;const jx=e=>e.options.get("menubar")!==false;const Zx=e=>{const t=e.options.get("skin_url");if(Vx(e)){return t}else{if(t){return e.documentBaseURI.toAbsolute(t)}else{const t=e.options.get("skin");return Q_.baseURL+"/skins/ui/"+t}}};const Ux=e=>e.options.get("line_height_formats").split(" ");const qx=e=>{const t=zx(e);const o=c(t);const n=d(t)&&t.length>0;return!$x(e)&&(n||o||t===true)};const Wx=e=>{const t=V(9,(t=>e.options.get("toolbar"+(t+1))));const o=$(t,c);return Re(o.length>0,o)};const $x=e=>Wx(e).fold((()=>{const t=zx(e);return b(t,c)&&t.length>0}),A);const Gx=e=>kx(e)===ox.bottom;const Kx=e=>{var t;if(!e.inline){return M.none()}const o=(t=wx(e))!==null&&t!==void 0?t:"";if(o.length>0){return nd(Xt(),o)}const n=_x(e);if(p(n)){return M.some(Qe.fromDom(n))}return M.none()};const Yx=e=>e.inline&&Kx(e).isSome();const Xx=e=>{const t=Kx(e);return t.getOrThunk((()=>Ut(Zt(Qe.fromDom(e.getElement())))))};const Jx=e=>e.inline&&!jx(e)&&!qx(e)&&!$x(e);const Qx=e=>{const t=e.options.get("toolbar_sticky");return(t||e.inline)&&!Yx(e)&&!Jx(e)};const eC=e=>{const t=e.options.get("menu");return pe(t,(e=>({...e,items:e.items})))};var tC=Object.freeze({__proto__:null,get ToolbarMode(){return tx},get ToolbarLocation(){return ox},register:rx,getSkinUrl:Zx,isReadOnly:ax,isSkinDisabled:Vx,getHeightOption:cx,getWidthOption:ix,getMinWidthOption:lx,getMinHeightOption:dx,getMaxWidthOption:ux,getMaxHeightOption:fx,getUserStyleFormats:mx,shouldMergeStyleFormats:gx,shouldAutoHideStyleFormats:px,getLineHeightFormats:Ux,getContentLanguages:hx,getRemovedMenuItems:yx,isMenubarEnabled:jx,isMultipleToolbars:$x,isToolbarEnabled:qx,isToolbarPersist:xx,getMultipleToolbarsOption:Wx,getUiContainer:Xx,useFixedContainer:Yx,getToolbarMode:bx,isDraggableModal:Mx,isDistractionFree:Jx,isStickyToolbar:Qx,getStickyToolbarOffset:Cx,getToolbarLocation:kx,isToolbarLocationBottom:Gx,getToolbarGroups:vx,getMenus:eC,getMenubar:Sx,getToolbar:zx,getFilePickerCallback:Ox,getFilePickerTypes:Ex,useTypeaheadUrls:Dx,getAnchorTop:Ax,getAnchorBottom:Nx,getFilePickerValidatorHandler:Tx,useStatusBar:Rx,useElementPath:Bx,promotionEnabled:Fx,useBranding:Lx,getResize:Hx,getPasteAsText:Ix,getSidebarShow:Px});const oC="[data-mce-autocompleter]";const nC=e=>sd(e,oC);const sC=e=>nd(e,oC);const rC=(e,t)=>{const o=(e,t)=>{Oc(e,Ua(),{raw:t})};const n=()=>e.getMenu().bind(bb.getHighlighted);t.on("keydown",(t=>{const s=t.which;if(!e.isActive()){return}if(e.isMenuOpen()){if(s===13){n().each(Tc);t.preventDefault()}else if(s===40){n().fold((()=>{e.getMenu().each(bb.highlightFirst)}),(e=>{o(e,t)}));t.preventDefault();t.stopImmediatePropagation()}else if(s===37||s===38||s===39){n().each((e=>{o(e,t);t.preventDefault();t.stopImmediatePropagation()}))}}else{if(s===13||s===38||s===40){e.cancelIfNecessary()}}}));t.on("NodeChange",(t=>{if(e.isActive()&&!e.isProcessingAction()&&nC(Qe.fromDom(t.element)).isNone()){e.cancelIfNecessary()}}))};const aC={setup:rC};var cC;(function(e){e[e["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE";e[e["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(cC||(cC={}));var iC=cC;const lC="tox-menu-nav__js";const dC="tox-collection__item";const uC="tox-swatch";const fC={normal:lC,color:uC};const mC="tox-collection__item--enabled";const gC="tox-collection__group-heading";const pC="tox-collection__item-icon";const hC="tox-collection__item-label";const yC="tox-collection__item-accessory";const bC="tox-collection__item-caret";const vC="tox-collection__item-checkmark";const kC="tox-collection__item--active";const wC="tox-collection__item-container";const _C="tox-collection__item-container--column";const xC="tox-collection__item-container--row";const CC="tox-collection__item-container--align-right";const SC="tox-collection__item-container--align-left";const zC="tox-collection__item-container--valign-top";const OC="tox-collection__item-container--valign-middle";const TC="tox-collection__item-container--valign-bottom";const EC=e=>Ce(fC,e).getOr(lC);const DC=e=>{if(e==="color"){return"tox-swatches"}else{return"tox-menu"}};const AC=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:DC(e),tieredMenu:"tox-tiered-menu"});const NC=e=>{const t=AC(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:EC(e)}};const MC=(e,t,o)=>{const n=AC(o);return{tag:"div",classes:Q([[n.menu,`tox-menu-${t}-column`],e?[n.hasIcons]:[]])}};const RC=[f_.parts.items({})];const BC=(e,t,o)=>{const n=AC(o);const s={tag:"div",classes:Q([[n.tieredMenu]])};return{dom:s,markers:NC(o)}};const LC=x([Ur("data"),Qr("inputAttributes",{}),Qr("inputStyles",{}),Qr("tag","input"),Qr("inputClasses",[]),Td("onSetValue"),Qr("styles",{}),Qr("eventOrder",{}),hh("inputBehaviours",[ph,hw]),Qr("selectOnFocus",true)]);const HC=e=>Mu([hw.config({onFocus:!e.selectOnFocus?v:e=>{const t=e.element;const o=kl(t);t.dom.setSelectionRange(0,o.length)}})]);const IC=e=>({...HC(e),...bh(e.inputBehaviours,[ph.config({store:{mode:"manual",...e.data.map((e=>({initialValue:e}))).getOr({}),getValue:e=>kl(e.element),setValue:(e,t)=>{const o=kl(e.element);if(o!==t){wl(e.element,t)}}},onSetValue:e.onSetValue})])});const PC=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses});const FC=(e,t)=>({uid:e.uid,dom:PC(e),components:[],behaviours:IC(e),eventOrder:e.eventOrder});const VC=Oy({name:"Input",configFields:LC(),factory:FC});const jC=li("refetch-trigger-event");const ZC=li("redirect-menu-item-interaction");const UC="tox-menu__searcher";const qC=e=>nd(e.element,`.${UC}`).bind((t=>e.getSystem().getByDom(t).toOptional()));const WC=qC;const $C=(e,t)=>{ph.setValue(e,t.fetchPattern);e.element.dom.selectionStart=t.selectionStart;e.element.dom.selectionEnd=t.selectionEnd};const GC=e=>{const t=ph.getValue(e);const o=e.element.dom.selectionStart;const n=e.element.dom.selectionEnd;return{fetchPattern:t,selectionStart:o,selectionEnd:n}};const KC=(e,t)=>{no(t.element,"id").each((t=>eo(e.element,"aria-activedescendant",t)))};const YC=e=>{const t=(e,t)=>{t.cut();return M.none()};const o=(e,t)=>{const o={interactionEvent:t.event,eventType:t.event.raw.type};Oc(e,ZC,o);return M.some(true)};const n="searcher-events";return{dom:{tag:"div",classes:[dC]},components:[VC.sketch({inputClasses:[UC,"tox-textfield"],inputAttributes:{...e.placeholder.map((t=>({placeholder:e.i18n(t)}))).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Mu([cw(n,[Hc(Wa(),(e=>{zc(e,jC)})),Hc(Ua(),((e,t)=>{if(t.event.raw.key==="Escape"){t.stop()}}))]),qk.config({mode:"special",onLeft:t,onRight:t,onSpace:t,onEnter:o,onEscape:o,onUp:o,onDown:o})]),eventOrder:{keydown:[n,qk.name()]}})]}};const XC="tox-collection--results__js";const JC=e=>{var t;if(e.dom){return{...e,dom:{...e.dom,attributes:{...(t=e.dom.attributes)!==null&&t!==void 0?t:{},id:li("aria-item-search-result-id"),"aria-selected":"false"}}}}else{return e}};const QC=(e,t)=>o=>{const n=j(o,t);return Z(n,(t=>({dom:e,components:t})))};const eS=e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[f_.parts.items({preprocess:e!=="auto"?QC({tag:"div",classes:["tox-swatches__row"]},e):C})]}]});const tS=e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[f_.parts.items({preprocess:QC({tag:"div",classes:["tox-collection__group"]},e)})]});const oS=(e,t)=>{const o=[];let n=[];U(e,((e,s)=>{if(t(e,s)){if(n.length>0){o.push(n)}n=[];if(Se(e.dom,"innerHtml")||e.components&&e.components.length>0){n.push(e)}}else{n.push(e)}}));if(n.length>0){o.push(n)}return Z(o,(e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e})))};const nS=(e,t,o)=>f_.parts.items({preprocess:n=>{const s=Z(n,o);if(e!=="auto"&&e>1){return QC({tag:"div",classes:["tox-collection__group"]},e)(s)}else{return oS(s,((e,o)=>t[o].type==="separator"))}}});const sS=(e,t,o=true)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[nS(e,t,C)]});const rS=(e,t,o=true)=>{const n=li("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",XC].concat(e===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:n}},components:[nS(e,t,JC)]}};const aS=(e,t,o)=>{const n=li("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[YC({i18n:B_.translate,placeholder:o.placeholder}),{dom:{tag:"div",classes:[...e===1?["tox-collection--list"]:["tox-collection--grid"],XC],attributes:{id:n}},components:[nS(e,t,JC)]}]}};const cS=(e,t=true)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[f_.parts.items({preprocess:t=>oS(t,((t,o)=>e[o].type==="separator"))})]});const iS=e=>F(e,(e=>"icon"in e&&e.icon!==undefined));const lS=e=>{console.error(Or(e));console.log(e);return M.none()};const dS=(e,t,o,n,s)=>{const r=cS(o);return{value:e,dom:r.dom,components:r.components,items:o}};const uS=(e,t,o,n,s)=>{const r=()=>{if(s.menuType!=="searchable"){return sS(n,o)}else{return s.searchMode.searchMode==="search-with-field"?aS(n,o,s.searchMode):rS(n,o)}};if(s.menuType==="color"){const t=eS(n);return{value:e,dom:t.dom,components:t.components,items:o}}else if(s.menuType==="normal"&&n==="auto"){const t=sS(n,o);return{value:e,dom:t.dom,components:t.components,items:o}}else if(s.menuType==="normal"||s.menuType==="searchable"){const t=r();return{value:e,dom:t.dom,components:t.components,items:o}}else if(s.menuType==="listpreview"&&n!=="auto"){const t=tS(n);return{value:e,dom:t.dom,components:t.components,items:o}}else{return{value:e,dom:MC(t,n,s.menuType),components:RC,items:o}}};const fS=Lr("type");const mS=Lr("name");const gS=Lr("label");const pS=Lr("text");const hS=Lr("title");const yS=Lr("icon");const bS=Lr("value");const vS=Pr("fetch");const kS=Pr("getSubmenuItems");const wS=Pr("onAction");const _S=Pr("onItemAction");const xS=ra("onSetup",(()=>v));const CS=$r("name");const SS=$r("text");const zS=$r("icon");const OS=$r("tooltip");const TS=$r("label");const ES=$r("shortcut");const DS=Kr("select");const AS=sa("active",false);const NS=sa("borderless",false);const MS=sa("enabled",true);const RS=sa("primary",false);const BS=e=>Qr("columns",e);const LS=Qr("meta",{});const HS=ra("onAction",v);const IS=e=>oa("type",e);const PS=e=>Dr("name","name",Es((()=>li(`${e}-name`))),mr);const FS=e=>Dr("value","value",Es((()=>li(`${e}-value`))),dr());const VS=sr([fS,SS]);const jS=e=>Cr("separatormenuitem",VS,e);const ZS=sr([IS("autocompleteitem"),AS,MS,LS,bS,SS,zS]);const US=e=>Cr("Autocompleter.Separator",VS,e);const qS=e=>Cr("Autocompleter.Item",ZS,e);const WS=[MS,OS,zS,SS,xS];const $S=sr([fS,wS].concat(WS));const GS=e=>Cr("toolbarbutton",$S,e);const KS=[AS].concat(WS);const YS=sr(KS.concat([fS,wS]));const XS=e=>Cr("ToggleButton",YS,e);const JS=[ra("predicate",D),na("scope","node",["node","editor"]),na("position","selection",["node","selection","line"])];const QS=WS.concat([IS("contextformbutton"),RS,wS,Ar("original",C)]);const ez=KS.concat([IS("contextformbutton"),RS,wS,Ar("original",C)]);const tz=WS.concat([IS("contextformbutton")]);const oz=KS.concat([IS("contextformtogglebutton")]);const nz=Tr("type",{contextformbutton:QS,contextformtogglebutton:ez});const sz=sr([IS("contextform"),ra("initValue",x("")),TS,Zr("commands",nz),qr("launch",Tr("type",{contextformbutton:tz,contextformtogglebutton:oz}))].concat(JS));const rz=e=>Cr("ContextForm",sz,e);const az=sr([IS("contexttoolbar"),Lr("items")].concat(JS));const cz=e=>Cr("ContextToolbar",az,e);const iz=[fS,Lr("src"),$r("alt"),ca("classes",[],mr)];const lz=sr(iz);const dz=[fS,pS,CS,ca("classes",["tox-collection__item-label"],mr)];const uz=sr(dz);const fz=tr((()=>vr("type",{cardimage:lz,cardtext:uz,cardcontainer:mz})));const mz=sr([fS,oa("direction","horizontal"),oa("align","left"),oa("valign","middle"),Zr("items",fz)]);const gz=[MS,SS,ES,FS("menuitem"),LS];const pz=sr([fS,TS,Zr("items",fz),xS,HS].concat(gz));const hz=e=>Cr("cardmenuitem",pz,e);const yz=sr([fS,AS,zS].concat(gz));const bz=e=>Cr("choicemenuitem",yz,e);const vz=[fS,Lr("fancytype"),HS];const kz=[Qr("initData",{})].concat(vz);const wz=[ia("initData",{},[sa("allowCustomColors",true),oa("storageKey","default"),Yr("colors",dr())])].concat(vz);const _z=Tr("fancytype",{inserttable:kz,colorswatch:wz});const xz=e=>Cr("fancymenuitem",_z,e);const Cz=sr([fS,xS,HS,zS].concat(gz));const Sz=e=>Cr("menuitem",Cz,e);const zz=sr([fS,kS,xS,zS].concat(gz));const Oz=e=>Cr("nestedmenuitem",zz,e);const Tz=sr([fS,zS,AS,xS,wS].concat(gz));const Ez=e=>Cr("togglemenuitem",Tz,e);const Dz=(e,t,o)=>{const n=ng(e.element,"."+o);if(n.length>0){const e=J(n,(e=>{const o=e.dom.getBoundingClientRect().top;const s=n[0].dom.getBoundingClientRect().top;return Math.abs(o-s)>t})).getOr(n.length);return M.some({numColumns:e,numRows:Math.ceil(n.length/e)})}else{return M.none()}};const Az=(e,t)=>Mu([cw(e,t)]);const Nz=e=>Az(li("unnamed-events"),e);const Mz={namedEvents:Az,unnamedEvents:Nz};const Rz=li("tooltip.exclusive");const Bz=li("tooltip.show");const Lz=li("tooltip.hide");const Hz=(e,t,o)=>{e.getSystem().broadcastOn([Rz],{})};const Iz=(e,t,o,n)=>{o.getTooltip().each((e=>{if(e.getSystem().isConnected()){rw.set(e,n)}}))};var Pz=Object.freeze({__proto__:null,hideAllExclusive:Hz,setComponents:Iz});const Fz=(e,t)=>{const o=o=>{t.getTooltip().each((n=>{ip(n);e.onHide(o,n);t.clearTooltip()}));t.clearTimer()};const n=o=>{if(!t.isShowing()){Hz(o);const n=e.lazySink(o).getOrDie();const s=o.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Mc(e.mode==="normal"?[Hc(Va(),(e=>{zc(o,Bz)})),Hc(Pa(),(e=>{zc(o,Lz)}))]:[]),behaviours:Mu([rw.config({})])});t.setTooltip(s);rp(n,s);e.onShow(o,s);Kg.position(n,s,{anchor:e.anchor(o)})}};return Mc(Q([[Hc(Bz,(o=>{t.resetTimer((()=>{n(o)}),e.delay)})),Hc(Lz,(n=>{t.resetTimer((()=>{o(n)}),e.delay)})),Hc(sc(),((e,t)=>{const n=t;if(!n.universal){if(P(n.channels,Rz)){o(e)}}})),Gc((e=>{o(e)}))],e.mode==="normal"?[Hc(ja(),(e=>{zc(e,Bz)})),Hc(oc(),(e=>{zc(e,Lz)})),Hc(Va(),(e=>{zc(e,Bz)})),Hc(Pa(),(e=>{zc(e,Lz)}))]:[Hc(Cc(),((e,t)=>{zc(e,Bz)})),Hc(Sc(),(e=>{zc(e,Lz)}))]]))};var Vz=Object.freeze({__proto__:null,events:Fz});var jz=[Mr("lazySink"),Mr("tooltipDom"),Qr("exclusive",true),Qr("tooltipComponents",[]),Qr("delay",300),na("mode","normal",["normal","follow-highlight"]),Qr("anchor",(e=>({type:"hotspot",hotspot:e,layouts:{onLtr:x([mu,fu,iu,du,lu,uu]),onRtl:x([mu,fu,iu,du,lu,uu])}}))),Td("onHide"),Td("onShow")];const Zz=()=>{const e=_f();const t=_f();const o=()=>{e.on(clearTimeout)};const n=(t,n)=>{o();e.set(setTimeout(t,n))};const s=x("not-implemented");return Ai({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:o,resetTimer:n,readState:s})};var Uz=Object.freeze({__proto__:null,init:Zz});const qz=Bu({fields:jz,name:"tooltipping",active:Vz,state:Uz,apis:Pz});const Wz=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");const $z="silver.readonly";const Gz=sr([Ir("readonly")]);const Kz=(e,t)=>{const o=e.mainUi.outerContainer;const n=o.element;const s=[e.mainUi.mothership,...e.uiMotherships];if(t){U(s,(e=>{e.broadcastOn([Rp()],{target:n})}))}U(s,(e=>{e.broadcastOn([$z],{readonly:t})}))};const Yz=(e,t)=>{e.on("init",(()=>{if(e.mode.isReadOnly()){Kz(t,true)}}));e.on("SwitchMode",(()=>Kz(t,e.mode.isReadOnly())));if(ax(e)){e.mode.set("readonly")}};const Xz=()=>Pu.config({channels:{[$z]:{schema:Gz,onReceive:(e,t)=>{Jy.set(e,t.readonly)}}}});const Jz=e=>Jy.config({disabled:e,disableClass:"tox-collection__item--state-disabled"});const Qz=e=>Jy.config({disabled:e});const eO=e=>Jy.config({disabled:e,disableClass:"tox-tbtn--disabled"});const tO=e=>Jy.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:false});const oO={item:Jz,button:Qz,splitButton:eO,toolbarButton:tO};const nO=(e,t)=>{const o=e.getApi(t);return e=>{e(o)}};const sO=(e,t)=>$c((o=>{const n=nO(e,o);n((o=>{const n=e.onSetup(o);if(h(n)){t.set(n)}}))}));const rO=(e,t)=>Gc((o=>nO(e,o)(t.get())));const aO=(e,t)=>Yc(((o,n)=>{nO(e,o)(e.onAction);if(!e.triggersSubmenu&&t===iC.CLOSE_ON_EXECUTE){if(o.getSystem().isConnected()){zc(o,lc())}n.stop()}}));const cO={[rc()]:["disabling","alloy.base.behaviour","toggling","item-events"]};const iO=Ee;const lO=(e,t,o,n)=>{const s=la(v);return{type:"item",dom:t.dom,components:iO(t.optComponents),data:e.data,eventOrder:cO,hasSubmenu:e.triggersSubmenu,itemBehaviours:Mu([cw("item-events",[aO(e,o),sO(e,s),rO(e,s)]),oO.item((()=>!e.enabled||n.isDisabled())),Xz(),rw.config({})].concat(e.itemBehaviours))}};const dO=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}});const uO=e=>{const t=ex.os.isMacOS()||ex.os.isiOS();const o={alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"};const n={meta:"Ctrl",access:"Shift+Alt"};const s=t?o:n;const r=e.split("+");const a=Z(r,(e=>{const t=e.toLowerCase().trim();return Se(s,t)?s[t]:e}));return t?a.join(""):a.join("+")};const fO=(e,t,o=[pC])=>W_(e,{tag:"div",classes:o},t);const mO=e=>({dom:{tag:"div",classes:[hC]},components:[jl(B_.translate(e))]});const gO=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}});const pO=(e,t)=>({dom:{tag:"div",classes:[hC]},components:[{dom:{tag:e.tag,styles:e.styles},components:[jl(B_.translate(t))]}]});const hO=e=>({dom:{tag:"div",classes:[yC]},components:[jl(uO(e))]});const yO=e=>fO("checkmark",e,[vC]);const bO=e=>fO("chevron-right",e,[bC]);const vO=e=>fO("chevron-down",e,[bC]);const kO=(e,t)=>{const o=e.direction==="vertical"?_C:xC;const n=e.align==="left"?SC:CC;const s=()=>{switch(e.valign){case"top":return zC;case"middle":return OC;case"bottom":return TC}};return{dom:{tag:"div",classes:[wC,o,n,s()]},components:t}};const wO=(e,t,o)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:o.getOr("")}}});const _O=(e,t,o)=>{const n="custom";const s="remove";const r=e.ariaLabel;const a=e.value;const c=e.iconContent.map((e=>j_(e,t.icons,o)));const i=()=>{const e=uC;const o=c.getOr("");const i=r.map((e=>({title:t.translate(e)}))).getOr({});const l={tag:"div",attributes:i,classes:[e]};if(a===n){return{...l,tag:"button",classes:[...l.classes,"tox-swatches__picker-btn"],innerHtml:o}}else if(a===s){return{...l,classes:[...l.classes,"tox-swatch--remove"],innerHtml:o}}else if(p(a)){return{...l,attributes:{...l.attributes,"data-mce-color":a},styles:{"background-color":a},innerHtml:o}}else{return l}};return{dom:i(),optComponents:[]}};const xO=e=>{const t=e.map((e=>({attributes:{title:B_.translate(e)}}))).getOr({});return{tag:"div",classes:[lC,dC],...t}};const CO=(e,t,o,n)=>{const s={tag:"div",classes:[pC]};const r=e=>W_(e,s,t.icons,n);const a=()=>M.some({dom:s});const c=o?e.iconContent.map(r).orThunk(a):M.none();const i=e.checkMark;const l=M.from(e.meta).fold((()=>mO),(e=>Se(e,"style")?z(pO,e.style):mO));const d=e.htmlContent.fold((()=>e.textContent.map(l)),(e=>M.some(gO(e,[hC]))));const u={dom:xO(e.ariaLabel),optComponents:[c,d,e.shortcutContent.map(hO),i,e.caret]};return u};const SO=(e,t,o,n=M.none())=>{if(e.presets==="color"){return _O(e,t,n)}else{return CO(e,t,o,n)}};const zO=(e,t)=>Ce(e,"tooltipWorker").map((e=>[qz.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:qf}}),mode:"follow-highlight",onShow:(t,o)=>{e((e=>{qz.setComponents(t,[Zl({element:Qe.fromDom(e)})])}))}})])).getOr([]);const OO=e=>J_.DOM.encode(e);const TO=(e,t)=>{const o=B_.translate(e);const n=OO(o);if(t.length>0){const e=new RegExp(Wz(t),"gi");return n.replace(e,(e=>`<span class="tox-autocompleter-highlight">${e}</span>`))}else{return n}};const EO=(e,t,o,n,s,r,a,c=true)=>{const i=SO({presets:n,textContent:M.none(),htmlContent:o?e.text.map((e=>TO(e,t))):M.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:M.none(),checkMark:M.none(),caret:M.none(),value:e.value},a.providers,c,e.icon);return lO({data:dO(e),enabled:e.enabled,getApi:x({}),onAction:t=>s(e.value,e.meta),onSetup:x(v),triggersSubmenu:false,itemBehaviours:zO(e.meta,a)},i,r,a.providers)};const DO=(e,t)=>Z(e,(e=>{switch(e.type){case"cardcontainer":return kO(e,DO(e.items,t));case"cardimage":return wO(e.src,e.classes,e.alt);case"cardtext":const o=e.name.exists((e=>P(t.cardText.highlightOn,e)));const n=o?M.from(t.cardText.matchText).getOr(""):"";return gO(TO(e.text,n),e.classes)}}));const AO=(e,t,o,n)=>{const s=e=>({isEnabled:()=>!Jy.isDisabled(e),setEnabled:t=>{Jy.set(e,!t);U(ng(e.element,"*"),(o=>{e.getSystem().getByDom(o).each((e=>{if(e.hasConfigured(Jy)){Jy.set(e,!t)}}))}))}});const r={dom:xO(e.label),optComponents:[M.some({dom:{tag:"div",classes:[wC,xC]},components:DO(e.items,n)})]};return lO({data:dO({text:M.none(),...e}),enabled:e.enabled,getApi:s,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:false,itemBehaviours:M.from(n.itemBehaviours).getOr([])},r,t,o.providers)};const NO=(e,t,o,n,s,r,a,c=true)=>{const i=e=>({setActive:t=>{Bw.set(e,t)},isActive:()=>Bw.isOn(e),isEnabled:()=>!Jy.isDisabled(e),setEnabled:t=>Jy.set(e,!t)});const l=SO({presets:o,textContent:t?e.text:M.none(),htmlContent:M.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:M.none(),checkMark:t?M.some(yO(a.icons)):M.none(),caret:M.none(),value:e.value},a,c);return zs(lO({data:dO(e),enabled:e.enabled,getApi:i,onAction:t=>n(e.value),onSetup:e=>{e.setActive(s);return v},triggersSubmenu:false,itemBehaviours:[]},l,r,a),{toggling:{toggleClass:mC,toggleOnExecute:false,selected:e.active,exclusive:true}})};const MO=oy(Qw(),e_());const RO=e=>({value:e});const BO=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;const LO=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;const HO=e=>BO.test(e)||LO.test(e);const IO=e=>Ie(e,"#").toUpperCase();const PO=e=>HO(e)?M.some({value:IO(e)}):M.none();const FO=e=>{const t=e.value.replace(BO,((e,t,o,n)=>t+t+o+o+n+n));return{value:t}};const VO=e=>{const t=FO(e);const o=LO.exec(t.value);return o===null?["FFFFFF","FF","FF","FF"]:o};const jO=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()};const ZO=e=>{const t=jO(e.red)+jO(e.green)+jO(e.blue);return RO(t)};const UO=Math.min;const qO=Math.max;const WO=Math.round;const $O=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i;const GO=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i;const KO=(e,t,o,n)=>({red:e,green:t,blue:o,alpha:n});const YO=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255};const XO=e=>{let t;let o;let n;const s=(e.hue||0)%360;let r=e.saturation/100;let a=e.value/100;r=qO(0,UO(r,1));a=qO(0,UO(a,1));if(r===0){t=o=n=WO(255*a);return KO(t,o,n,1)}const c=s/60;const i=a*r;const l=i*(1-Math.abs(c%2-1));const d=a-i;switch(Math.floor(c)){case 0:t=i;o=l;n=0;break;case 1:t=l;o=i;n=0;break;case 2:t=0;o=i;n=l;break;case 3:t=0;o=l;n=i;break;case 4:t=l;o=0;n=i;break;case 5:t=i;o=0;n=l;break;default:t=o=n=0}t=WO(255*(t+d));o=WO(255*(o+d));n=WO(255*(n+d));return KO(t,o,n,1)};const JO=e=>{const t=VO(e);const o=parseInt(t[1],16);const n=parseInt(t[2],16);const s=parseInt(t[3],16);return KO(o,n,s,1)};const QO=(e,t,o,n)=>{const s=parseInt(e,10);const r=parseInt(t,10);const a=parseInt(o,10);const c=parseFloat(n);return KO(s,r,a,c)};const eT=e=>{if(e==="transparent"){return M.some(KO(0,0,0,0))}const t=$O.exec(e);if(t!==null){return M.some(QO(t[1],t[2],t[3],"1"))}const o=GO.exec(e);if(o!==null){return M.some(QO(o[1],o[2],o[3],o[4]))}return M.none()};const tT=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`;const oT=KO(255,0,0,1);const nT=e=>{e.dispatch("SkinLoaded")};const sT=(e,t)=>{e.dispatch("SkinLoadError",t)};const rT=e=>{e.dispatch("ResizeEditor")};const aT=(e,t)=>{e.dispatch("ResizeContent",t)};const cT=(e,t)=>{e.dispatch("ScrollContent",t)};const iT=(e,t)=>{e.dispatch("TextColorChange",t)};const lT=(e,t)=>{e.dispatch("AfterProgressState",{state:t})};const dT=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t});const uT=(e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})};var fT=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const mT={};const gT=(e,t=10)=>{const o=fT.getItem(e);const n=c(o)?JSON.parse(o):[];const s=e=>{const o=t-e.length;return o<0?e.slice(0,t):e};const r=s(n);const a=o=>{I(r,o).each(i);r.unshift(o);if(r.length>t){r.pop()}fT.setItem(e,JSON.stringify(r))};const i=e=>{r.splice(e,1)};const l=()=>r.slice(0);return{add:a,state:l}};const pT=e=>Ce(mT,e).getOrThunk((()=>{const t=`tinymce-custom-colors-${e}`;const o=fT.getItem(t);if(g(o)){const e=fT.getItem("tinymce-custom-colors");fT.setItem(t,p(e)?e:"[]")}const n=gT(t,10);mT[e]=n;return n}));const hT=e=>Z(pT(e).state(),(e=>({type:"choiceitem",text:e,icon:"checkmark",value:e})));const yT=(e,t)=>{pT(e).add(t)};const bT=(e,t,o)=>({hue:e,saturation:t,value:o});const vT=e=>{let t=0;let o=0;let n=0;const s=e.red/255;const r=e.green/255;const a=e.blue/255;const c=Math.min(s,Math.min(r,a));const i=Math.max(s,Math.max(r,a));if(c===i){n=c;return bT(0,0,n*100)}const l=s===c?r-a:a===c?s-r:a-s;t=s===c?3:a===c?1:5;t=60*(t-l/(i-c));o=(i-c)/i;n=i;return bT(Math.round(t),Math.round(o*100),Math.round(n*100))};const kT=e=>vT(JO(e));const wT=e=>ZO(XO(e));const _T=e=>PO(e).orThunk((()=>eT(e).map(ZO))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1;t.width=1;const o=t.getContext("2d");o.clearRect(0,0,t.width,t.height);o.fillStyle="#FFFFFF";o.fillStyle=e;o.fillRect(0,0,1,1);const n=o.getImageData(0,0,1,1).data;const s=n[0];const r=n[1];const a=n[2];const c=n[3];return ZO(KO(s,r,a,c))}));const xT="forecolor";const CT="hilitecolor";const ST=e=>Math.max(5,Math.ceil(Math.sqrt(e)));const zT=e=>{const t=[];for(let o=0;o<e.length;o+=2){t.push({text:e[o+1],value:"#"+_T(e[o]).value,icon:"checkmark",type:"choiceitem"})}return t};const OT=e=>t=>t.options.get(e);const TT="#000000";const ET=e=>{const t=e.options.register;const o=e=>{if(b(e,c)){return{value:zT(e),valid:true}}else{return{valid:false,message:"Must be an array of strings."}}};t("color_map",{processor:o,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]});t("color_map_background",{processor:o});t("color_map_foreground",{processor:o});t("color_cols",{processor:"number",default:ST(NT(e,"default").length)});t("color_cols_foreground",{processor:"number",default:ST(NT(e,xT).length)});t("color_cols_background",{processor:"number",default:ST(NT(e,CT).length)});t("custom_colors",{processor:"boolean",default:true});t("color_default_foreground",{processor:"string",default:TT});t("color_default_background",{processor:"string",default:TT})};const DT=(e,t)=>{if(t===xT){return OT("color_cols_foreground")(e)}else if(t===CT){return OT("color_cols_background")(e)}else{return OT("color_cols")(e)}};const AT=OT("custom_colors");const NT=(e,t)=>{if(t===xT&&e.options.isSet("color_map_foreground")){return OT("color_map_foreground")(e)}else if(t===CT&&e.options.isSet("color_map_background")){return OT("color_map_background")(e)}else{return OT("color_map")(e)}};const MT=OT("color_default_foreground");const RT=OT("color_default_background");const BT=(e,t)=>{const o=mo(Qe.fromDom(e.selection.getStart()),t==="hilitecolor"?"background-color":"color");return eT(o).map((e=>"#"+ZO(e).value))};const LT=(e,t,o)=>{e.undoManager.transact((()=>{e.focus();e.formatter.apply(t,{value:o});e.nodeChanged()}))};const HT=(e,t)=>{e.undoManager.transact((()=>{e.focus();e.formatter.remove(t,{value:null},undefined,true);e.nodeChanged()}))};const IT=e=>{e.addCommand("mceApplyTextcolor",((t,o)=>{LT(e,t,o)}));e.addCommand("mceRemoveTextcolor",(t=>{HT(e,t)}))};const PT=e=>{const t="choiceitem";const o={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};const n={type:t,text:"Custom color",icon:"color-picker",value:"custom"};return e?[o,n]:[o]};const FT=(e,t,o,n)=>{if(o==="custom"){const o=WT(e);o((o=>{o.each((o=>{yT(t,o);e.execCommand("mceApplyTextcolor",t,o);n(o)}))}),BT(e,t).getOr(TT))}else if(o==="remove"){n("");e.execCommand("mceRemoveTextcolor",t)}else{n(o);e.execCommand("mceApplyTextcolor",t,o)}};const VT=(e,t,o)=>e.concat(hT(t).concat(PT(o)));const jT=(e,t,o)=>n=>{n(VT(e,t,o))};const ZT=(e,t,o)=>{const n=t==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(n,o)};const UT=(e,t,o,n,s)=>{e.ui.registry.addSplitButton(t,{tooltip:n,presets:"color",icon:t==="forecolor"?"text-color":"highlight-bg-color",select:t=>{const n=BT(e,o);return Oe(n,t.toUpperCase())},columns:DT(e,o),fetch:jT(NT(e,o),o,AT(e)),onAction:t=>{FT(e,o,s.get(),v)},onItemAction:(n,r)=>{FT(e,o,r,(o=>{s.set(o);iT(e,{name:t,color:o})}))},onSetup:o=>{ZT(o,t,s.get());const n=e=>{if(e.name===t){ZT(o,e.name,e.color)}};e.on("TextColorChange",n);return()=>{e.off("TextColorChange",n)}}})};const qT=(e,t,o,n)=>{e.ui.registry.addNestedMenuItem(t,{text:n,icon:t==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",initData:{storageKey:o},onAction:t=>{FT(e,o,t.value,v)}}]})};const WT=e=>(t,o)=>{let n=false;const s=o=>{const s=o.getData();const r=s.colorpicker;if(n){t(M.from(r));o.close()}else{e.windowManager.alert(e.translate(["Invalid hex color code: {0}",r]))}};const r=(e,t)=>{if(t.name==="hex-valid"){n=t.value}};const a={colorpicker:o};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:a,onAction:r,onSubmit:s,onClose:v,onCancel:()=>{t(M.none())}})};const $T=e=>{IT(e);const t=MT(e);const o=RT(e);const n=la(t);const s=la(o);UT(e,"forecolor","forecolor","Text color",n);UT(e,"backcolor","hilitecolor","Background color",s);qT(e,"forecolor","forecolor","Text color");qT(e,"backcolor","hilitecolor","Background color")};const GT=(e,t,o,n,s,r,a,c)=>{const i=iS(t);const l=s!=="color"?"normal":"color";const d=KT(t,o,n,l,r,a,c);const u={menuType:s};return uS(e,i,d,n,u)};const KT=(e,t,o,n,s,r,a)=>Ee(Z(e,(c=>{if(c.type==="choiceitem"){return bz(c).fold(lS,(c=>M.some(NO(c,o===1,n,t,r(c.value),s,a,iS(e)))))}else{return M.none()}})));const YT=(e,t)=>{const o=NC(t);if(e===1){return{mode:"menu",moveOnTab:true}}else if(e==="auto"){return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}}}else{const e=t==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+e,previousSelector:e=>t==="color"?nd(e.element,"[aria-checked=true]"):M.none()}}};const XT=(e,t)=>{if(e===1){return{mode:"menu",moveOnTab:false,selector:".tox-collection__item"}}else if(e==="auto"){return{mode:"flatgrid",selector:"."+"tox-collection__item",initSize:{numColumns:1,numRows:1}}}else{return{mode:"matrix",selectors:{row:t==="color"?".tox-swatches__row":".tox-collection__group",cell:t==="color"?`.${uC}`:`.${dC}`}}}};const JT=(e,t)=>{const o=QT(e,t);const n=t.colorinput.getColorCols(e.initData.storageKey);const s="color";const r=GT(li("menu-value"),o,(t=>{e.onAction({value:t})}),n,s,iC.CLOSE_ON_EXECUTE,D,t.shared.providers);const a={...r,markers:NC(s),movement:YT(n,s)};return{type:"widget",data:{value:li("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[MO.widget(f_.sketch(a))]}};const QT=(e,t)=>{const o=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((()=>VT(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,o)),(e=>e.concat(PT(o))))};const eE=li("cell-over");const tE=li("cell-execute");const oE=(e,t,o)=>{const n=o=>Oc(o,eE,{row:e,col:t});const s=o=>Oc(o,tE,{row:e,col:t});const r=(e,t)=>{t.stop();s(e)};return $l({dom:{tag:"div",attributes:{role:"button",["aria-labelledby"]:o}},behaviours:Mu([cw("insert-table-picker-cell",[Hc(Va(),hw.focus),Hc(rc(),s),Hc(Ga(),r),Hc(cc(),r)]),Bw.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:false}),hw.config({onFocus:n})])})};const nE=(e,t,o)=>{const n=[];for(let s=0;s<t;s++){const t=[];for(let n=0;n<o;n++){t.push(oE(s,n,e))}n.push(t)}return n};const sE=(e,t,o,n,s)=>{for(let r=0;r<n;r++){for(let n=0;n<s;n++){Bw.set(e[r][n],r<=t&&n<=o)}}};const rE=e=>ee(e,(e=>Z(e,Gl)));const aE=(e,t)=>jl(`${t}x${e}`);const cE=e=>{const t=10;const o=10;const n=li("size-label");const s=nE(n,t,o);const r=aE(0,0);const a=R_({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:n}},components:[r],behaviours:Mu([rw.config({})])});return{type:"widget",data:{value:li("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[MO.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:rE(s).concat(a.asSpec()),behaviours:Mu([cw("insert-table-picker",[$c((e=>{rw.set(a.get(e),[r])})),Zc(eE,((e,n,r)=>{const{row:c,col:i}=r.event;sE(s,c,i,t,o);rw.set(a.get(e),[aE(c+1,i+1)])})),Zc(tE,((t,o,n)=>{const{row:s,col:r}=n.event;e.onAction({numRows:s+1,numColumns:r+1});zc(t,lc())}))]),qk.config({initSize:{numRows:t,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}};const iE={inserttable:cE,colorswatch:JT};const lE=(e,t)=>Ce(iE,e.fancytype).map((o=>o(e,t)));const dE=(e,t,o,n=true,s=false)=>{const r=s?vO(o.icons):bO(o.icons);const a=e=>({isEnabled:()=>!Jy.isDisabled(e),setEnabled:t=>Jy.set(e,!t)});const c=SO({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:M.none(),ariaLabel:e.text,caret:M.some(r),checkMark:M.none(),shortcutContent:e.shortcut},o,n);return lO({data:dO(e),getApi:a,enabled:e.enabled,onAction:v,onSetup:e.onSetup,triggersSubmenu:true,itemBehaviours:[]},c,t,o)};const uE=(e,t,o,n=true)=>{const s=e=>({isEnabled:()=>!Jy.isDisabled(e),setEnabled:t=>Jy.set(e,!t)});const r=SO({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:M.none(),ariaLabel:e.text,caret:M.none(),checkMark:M.none(),shortcutContent:e.shortcut},o,n);return lO({data:dO(e),getApi:s,enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:false,itemBehaviours:[]},r,t,o)};const fE=e=>({type:"separator",dom:{tag:"div",classes:[dC,gC]},components:e.text.map(jl).toArray()});const mE=(e,t,o,n=true)=>{const s=e=>({setActive:t=>{Bw.set(e,t)},isActive:()=>Bw.isOn(e),isEnabled:()=>!Jy.isDisabled(e),setEnabled:t=>Jy.set(e,!t)});const r=SO({iconContent:e.icon,textContent:e.text,htmlContent:M.none(),ariaLabel:e.text,checkMark:M.some(yO(o.icons)),caret:M.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},o,n);return zs(lO({data:dO(e),enabled:e.enabled,getApi:s,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:false,itemBehaviours:[]},r,t,o),{toggling:{toggleClass:mC,toggleOnExecute:false,selected:e.active}})};const gE=EO;const pE=fE;const hE=uE;const yE=dE;const bE=mE;const vE=lE;const kE=AO;const wE=(e,t,o,n)=>o.getOrCreate(e,t,n);const _E=(e,t,o,n)=>o.getExisting(e,t,n);var xE=Object.freeze({__proto__:null,getCoupled:wE,getExistingCoupled:_E});var CE=[Rr("others",_r(cs.value,dr()))];const SE=()=>{const e={};const t=(t,o)=>{const n=fe(t.others);if(n.length===0){throw new Error("Cannot find any known coupled components")}else{return Ce(e,o)}};const o=(o,n,s)=>t(n,s).getOrThunk((()=>{const t=Ce(n.others,s).getOrDie("No information found for coupled component: "+s);const r=t(o);const a=o.getSystem().build(r);e[s]=a;return a}));const n=(e,o,n)=>t(o,n).orThunk((()=>{Ce(o.others,n).getOrDie("No information found for coupled component: "+n);return M.none()}));const s=x({});return Ai({readState:s,getExisting:n,getOrCreate:o})};var zE=Object.freeze({__proto__:null,init:SE});const OE=Bu({fields:CE,name:"coupling",apis:xE,state:zE});const TE=e=>{let t=M.none();let o=[];const n=e=>TE((t=>{s((o=>{t(e(o))}))}));const s=e=>{if(a()){i(e)}else{o.push(e)}};const r=e=>{if(!a()){t=M.some(e);c(o);o=[]}};const a=()=>t.isSome();const c=e=>{U(e,i)};const i=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};e(r);return{get:s,map:n,isReady:a}};const EE=e=>TE((t=>{t(e)}));const DE={nu:TE,pure:EE};const AE=e=>{setTimeout((()=>{throw e}),0)};const NE=e=>{const t=t=>{e().then(t,AE)};const o=t=>NE((()=>e().then(t)));const n=t=>NE((()=>e().then((e=>t(e).toPromise()))));const s=t=>NE((()=>e().then((()=>t.toPromise()))));const r=()=>DE.nu(t);const a=()=>{let t=null;return NE((()=>{if(t===null){t=e()}return t}))};const c=e;return{map:o,bind:n,anonBind:s,toLazy:r,toCached:a,toPromise:c,get:t}};const ME=e=>NE((()=>new Promise(e)));const RE=e=>NE((()=>Promise.resolve(e)));const BE={nu:ME,pure:RE};const LE=x("sink");const HE=x(Yh({name:LE(),overrides:x({dom:{tag:"div"},behaviours:Mu([Kg.config({useFixed:A})]),events:Mc([Uc(Ua()),Uc(Ha()),Uc(Ga())])})}));const IE=(e,t)=>{const o=e.getHotspot(t).getOr(t);const n="hotspot";const s=e.getAnchorOverrides();return e.layouts.fold((()=>({type:n,hotspot:o,overrides:s})),(e=>({type:n,hotspot:o,overrides:s,layouts:e})))};const PE=(e,t,o)=>{const n=e.fetch;return n(o).map(t)};const FE=(e,t,o,n,s,r,a)=>{const c=PE(e,t,n);const i=qE(n,e);return c.map((e=>e.bind((e=>M.from(O_.sketch({...r.menu(),uid:yi(""),data:e,highlightOnOpen:a,onOpenMenu:(e,t)=>{const n=i().getOrDie();Kg.position(n,t,{anchor:o});Mp.decloak(s)},onOpenSubmenu:(e,t,o)=>{const n=i().getOrDie();Kg.position(n,o,{anchor:{type:"submenu",item:t}});Mp.decloak(s)},onRepositionMenu:(e,t,n)=>{const s=i().getOrDie();Kg.position(s,t,{anchor:o});U(n,(e=>{Kg.position(s,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:()=>{hw.focus(n);Mp.close(s);return M.some(true)}}))))))};const VE=(e,t,o,n,s,r,a)=>{const c=IE(e,o);const i=FE(e,t,c,o,n,s,a);return i.map((e=>{e.fold((()=>{if(Mp.isOpen(n)){Mp.close(n)}}),(e=>{Mp.cloak(n);Mp.open(n,e);r(n)}));return n}))};const jE=(e,t,o,n,s,r,a)=>{Mp.close(n);return BE.pure(n)};const ZE=(e,t,o,n,s,r)=>{const a=OE.getCoupled(o,"sandbox");const c=Mp.isOpen(a);const i=c?jE:VE;return i(e,t,o,a,n,s,r)};const UE=(e,t,o)=>{const n=My.getCurrent(t).getOr(t);const s=Mo(e.element);if(o){lo(n.element,"min-width",s+"px")}else{No(n.element,s)}};const qE=(e,t)=>e.getSystem().getByUid(t.uid+"-"+LE()).map((e=>()=>cs.value(e))).getOrThunk((()=>t.lazySink.fold((()=>()=>cs.error(new Error("No internal sink is specified, nor could an external sink be found"))),(t=>()=>t(e)))));const WE=e=>{Mp.getState(e).each((e=>{O_.repositionMenus(e)}))};const $E=(e,t,o)=>{const n=cd();const s=(s,r)=>{const a=IE(e,t);n.link(t.element);if(e.matchWidth){UE(a.hotspot,r,e.useMinWidth)}e.onOpen(a,s,r);if(o!==undefined&&o.onOpen!==undefined){o.onOpen(s,r)}};const r=(e,s)=>{n.unlink(t.element);if(o!==undefined&&o.onClose!==undefined){o.onClose(e,s)}};const a=qE(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:n.id,role:"listbox"}},behaviours:vh.augment(e.sandboxBehaviours,[ph.config({store:{mode:"memory",initialValue:t}}),Mp.config({onOpen:s,onClose:r,isPartOf:(e,o,n)=>ld(o,n)||ld(t,n),getAttachPoint:()=>a().getOrDie()}),My.config({find:e=>Mp.getState(e).bind((e=>My.getCurrent(e)))}),Pu.config({channels:{...Ip({isExtraPart:D}),...Fp({doReposition:WE})}})])}};const GE=e=>{const t=OE.getCoupled(e,"sandbox");WE(t)};const KE=()=>[Qr("sandboxClasses",[]),vh.field("sandboxBehaviours",[My,Pu,Mp,ph])];const YE=x([Mr("dom"),Mr("fetch"),Td("onOpen"),Ed("onExecute"),Qr("getHotspot",M.some),Qr("getAnchorOverrides",x({})),sm(),hh("dropdownBehaviours",[Bw,OE,qk,hw]),Mr("toggleClass"),Qr("eventOrder",{}),Ur("lazySink"),Qr("matchWidth",false),Qr("useMinWidth",false),Ur("role")].concat(KE()));const XE=x([Kh({schema:[Sd(),Qr("fakeFocus",false)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),HE()]);const JE=(e,t,o,n)=>{const s=t=>Ce(e.dom,"attributes").bind((e=>Ce(e,t)));const r=e=>{Mp.getState(e).each((e=>{O_.highlightPrimary(e)}))};const a=(t,o,s)=>ZE(e,C,t,n,o,s);const c=e=>{const t=r;a(e,t,w_.HighlightMenuAndItem).get(v)};const i={expand:e=>{if(!Bw.isOn(e)){a(e,v,w_.HighlightNone).get(v)}},open:e=>{if(!Bw.isOn(e)){a(e,v,w_.HighlightMenuAndItem).get(v)}},refetch:t=>{const o=OE.getExistingCoupled(t,"sandbox");return o.fold((()=>a(t,v,w_.HighlightMenuAndItem).map(v)),(o=>VE(e,C,t,o,n,v,w_.HighlightMenuAndItem).map(v)))},isOpen:Bw.isOn,close:e=>{if(Bw.isOn(e)){a(e,v,w_.HighlightMenuAndItem).get(v)}},repositionMenus:e=>{if(Bw.isOn(e)){GE(e)}}};const l=(e,t)=>{Tc(e);return M.some(true)};return{uid:e.uid,dom:e.dom,components:t,behaviours:bh(e.dropdownBehaviours,[Bw.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),OE.config({others:{sandbox:t=>$E(e,t,{onOpen:()=>Bw.on(t),onClose:()=>Bw.off(t)})}}),qk.config({mode:"special",onSpace:l,onEnter:l,onDown:(e,t)=>{if(QE.isOpen(e)){const t=OE.getCoupled(e,"sandbox");r(t)}else{QE.open(e)}return M.some(true)},onEscape:(e,t)=>{if(QE.isOpen(e)){QE.close(e);return M.some(true)}else{return M.none()}}}),hw.config({})]),events:Hw(M.some(c)),eventOrder:{...e.eventOrder,[rc()]:["disabling","toggling","alloy.base.behaviour"]},apis:i,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold((()=>({})),(e=>({role:e}))),...e.dom.tag==="button"?{type:s("type").getOr("button")}:{}}}}};const QE=Ty({name:"Dropdown",configFields:YE(),partFields:XE(),factory:JE,apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}});const eD=e=>{switch(e.searchMode){case"no-search":{return{menuType:"normal"}}default:{return{menuType:"searchable",searchMode:e}}}};const tD=e=>{const t=ph.getValue(e);const o=qC(e).map(GC);QE.refetch(t).get((()=>{const e=OE.getCoupled(t,"sandbox");o.each((t=>qC(e).each((e=>$C(e,t)))))}))};const oD=(e,t)=>{nD(e).each((o=>{Ac(e,o.element,t.event.eventType,t.event.interactionEvent)}))};const nD=e=>Mp.getState(e).bind(bb.getHighlighted).bind(bb.getHighlighted);const sD=e=>gl(e.element,XC)?M.some(e.element):nd(e.element,"."+XC);const rD=(e,t,o)=>{WC(e).each((e=>{KC(e,o);const n=sD(t);n.each((t=>{no(t,"id").each((t=>eo(e.element,"aria-controls",t)))}))}));eo(o.element,"aria-selected","true")};const aD=(e,t,o)=>{eo(o.element,"aria-selected","false")};const cD=e=>{WC(e).each((e=>hw.focus(e)))};const iD=e=>{const t=OE.getExistingCoupled(e,"sandbox");return t.bind(qC).map(GC).map((e=>e.fetchPattern)).getOr("")};var lD;(function(e){e[e["ContentFocus"]=0]="ContentFocus";e[e["UiFocus"]=1]="UiFocus"})(lD||(lD={}));const dD=(e,t,o,n,s)=>{const r=o.shared.providers;const a=e=>!s?e:{...e,shortcut:M.none(),icon:e.text.isSome()?M.none():e.icon};switch(e.type){case"menuitem":return Sz(e).fold(lS,(e=>M.some(hE(a(e),t,r,n))));case"nestedmenuitem":return Oz(e).fold(lS,(e=>M.some(yE(a(e),t,r,n,s))));case"togglemenuitem":return Ez(e).fold(lS,(e=>M.some(bE(a(e),t,r,n))));case"separator":return jS(e).fold(lS,(e=>M.some(pE(e))));case"fancymenuitem":return xz(e).fold(lS,(e=>vE(e,o)));default:{console.error("Unknown item in general menu",e);return M.none()}}};const uD=(e,t,o,n,s,r,a)=>{const c=n===1;const i=!c||iS(e);return Ee(Z(e,(e=>{switch(e.type){case"separator":return US(e).fold(lS,(e=>M.some(pE(e))));case"cardmenuitem":return hz(e).fold(lS,(e=>M.some(kE({...e,onAction:t=>{e.onAction(t);o(e.value,e.meta)}},s,r,{itemBehaviours:zO(e.meta,r),cardText:{matchText:t,highlightOn:a}}))));case"autocompleteitem":default:return qS(e).fold(lS,(e=>M.some(gE(e,t,c,"normal",o,s,r,i))))}})))};const fD=(e,t,o,n,s,r)=>{const a=iS(t);const c=Ee(Z(t,(e=>{const t=e=>s?!Se(e,"text"):a;const r=e=>dD(e,o,n,t(e),s);if(e.type==="nestedmenuitem"&&e.getSubmenuItems().length<=0){return r({...e,enabled:false})}else{return r(e)}})));const i=eD(r);const l=s?dS:uS;return l(e,a,c,1,i)};const mD=e=>O_.singleData(e.value,e);const gD=(e,t,o,n)=>{const s=YT(t,n);const r=NC(n);return{data:mD({...e,movement:s,menuBehaviours:Mz.unnamedEvents(t!=="auto"?[]:[$c(((e,t)=>{Dz(e,4,r.item).each((({numColumns:t,numRows:o})=>{qk.setGridSize(e,o,t)}))}))])}),menu:{markers:NC(n),fakeFocus:o===lD.ContentFocus}}};const pD=(e,t)=>nC(Qe.fromDom(t.startContainer)).map((t=>{const o=e.createRng();o.selectNode(t.dom);return o}));const hD=(e,t)=>{const o=la(false);const n=la(false);const s=$l(D_.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Mu([cw("dismissAutocompleter",[Hc(bc(),(()=>l()))])]),lazySink:t.getSink}));const r=()=>D_.isOpen(s);const a=n.get;const c=()=>{if(r()){D_.hide(s)}};const i=()=>D_.getContent(s).bind((e=>ce(e.components(),0)));const l=()=>e.execCommand("mceAutocompleterClose");const d=n=>{const s=ue(n,(e=>M.from(e.columns))).getOr(1);return ee(n,(n=>{const r=n.items;return uD(r,n.matchText,((t,s)=>{const r=e.selection.getRng();pD(e.dom,r).each((r=>{const a={hide:()=>l(),reload:t=>{c();e.execCommand("mceAutocompleterReload",false,{fetchOptions:t})}};o.set(true);n.onAction(a,r,t,s);o.set(false)}))}),s,iC.BUBBLE_TO_SANDBOX,t,n.highlightOn)}))};const u=(t,o)=>{sC(Qe.fromDom(e.getBody())).each((n=>{const r=ue(t,(e=>M.from(e.columns))).getOr(1);D_.showMenuAt(s,{anchor:{type:"node",root:Qe.fromDom(e.getBody()),node:M.from(n)}},gD(uS("autocompleter-value",true,o,r,{menuType:"normal"}),r,lD.ContentFocus,"normal"))}));i().each(bb.highlightFirst)};const f=e=>{const t=d(e);if(t.length>0){u(e,t)}else{c()}};e.on("AutocompleterStart",(({lookupData:e})=>{n.set(true);o.set(false);f(e)}));e.on("AutocompleterUpdate",(({lookupData:e})=>f(e)));e.on("AutocompleterEnd",(()=>{c();n.set(false);o.set(false)}));const m={cancelIfNecessary:l,isMenuOpen:r,isActive:a,isProcessingAction:o.get,getMenu:i};aC.setup(m,e)};const yD={register:hD};const bD=(e,t,o)=>sd(e,t,o).isSome();const vD=(e,t)=>{let o=null;const n=(...n)=>{o=setTimeout((()=>{e.apply(null,n);o=null}),t)};const s=()=>{if(o!==null){clearTimeout(o);o=null}};return{cancel:s,schedule:n}};const kD=5;const wD=400;const _D=e=>{const t=e.raw;if(t.touches===undefined||t.touches.length!==1){return M.none()}return M.some(t.touches[0])};const xD=(e,t)=>{const o=Math.abs(e.clientX-t.x);const n=Math.abs(e.clientY-t.y);return o>kD||n>kD};const CD=e=>{const t=_f();const o=la(false);const n=vD((t=>{e.triggerEvent(ic(),t);o.set(true)}),wD);const s=e=>{_D(e).each((s=>{n.cancel();const r={x:s.clientX,y:s.clientY,target:e.target};n.schedule(e);o.set(false);t.set(r)}));return M.none()};const r=e=>{n.cancel();_D(e).each((e=>{t.on((o=>{if(xD(e,o)){t.clear()}}))}));return M.none()};const a=s=>{n.cancel();const r=e=>St(e.target,s.target);return t.get().filter(r).map((t=>{if(o.get()){s.prevent();return false}else{return e.triggerEvent(cc(),s)}}))};const c=ba([{key:Ma(),value:s},{key:Ra(),value:r},{key:Ba(),value:a}]);const i=(e,t)=>Ce(c,t).bind((t=>t(e)));return{fireIfReady:i}};const SD=e=>{const t=e.raw;return t.which===vb[0]&&!P(["input","textarea"],ft(e.target))&&!bD(e.target,'[contenteditable="true"]')};const zD=(e,t)=>{const o={stopBackspace:true,...t};const n=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"];const s=CD(o);const r=Z(n.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(t=>Cf(e,t,(e=>{s.fireIfReady(e,t).each((t=>{if(t){e.kill()}}));const n=o.triggerEvent(t,e);if(n){e.kill()}}))));const a=_f();const c=Cf(e,"paste",(e=>{s.fireIfReady(e,"paste").each((t=>{if(t){e.kill()}}));const t=o.triggerEvent("paste",e);if(t){e.kill()}a.set(setTimeout((()=>{o.triggerEvent(nc(),e)}),0))}));const i=Cf(e,"keydown",(e=>{const t=o.triggerEvent("keydown",e);if(t){e.kill()}else if(o.stopBackspace&&SD(e)){e.prevent()}}));const l=Cf(e,"focusin",(e=>{const t=o.triggerEvent("focusin",e);if(t){e.kill()}}));const d=_f();const u=Cf(e,"focusout",(e=>{const t=o.triggerEvent("focusout",e);if(t){e.kill()}d.set(setTimeout((()=>{o.triggerEvent(oc(),e)}),0))}));const f=()=>{U(r,(e=>{e.unbind()}));i.unbind();l.unbind();u.unbind();c.unbind();a.on(clearTimeout);d.on(clearTimeout)};return{unbind:f}};const OD=(e,t)=>{const o=Ce(e,"target").getOr(t);return la(o)};const TD=(e,t)=>{const o=la(false);const n=la(false);const s=()=>{o.set(true)};const r=()=>{n.set(true)};return{stop:s,cut:r,isStopped:o.get,isCut:n.get,event:e,setSource:t.set,getSource:t.get}};const ED=e=>{const t=la(false);const o=()=>{t.set(true)};return{stop:o,cut:v,isStopped:t.get,isCut:D,event:e,setSource:T("Cannot set source of a broadcasted event"),getSource:T("Cannot get source of a broadcasted event")}};const DD=ua.generate([{stopped:[]},{resume:["element"]},{complete:[]}]);const AD=(e,t,o,n,s,r)=>{const a=e(t,n);const c=TD(o,s);return a.fold((()=>{r.logEventNoHandlers(t,n);return DD.complete()}),(e=>{const o=e.descHandler;const n=Zi(o);n(c);if(c.isStopped()){r.logEventStopped(t,e.element,o.purpose);return DD.stopped()}else if(c.isCut()){r.logEventCut(t,e.element,o.purpose);return DD.complete()}else{return At(e.element).fold((()=>{r.logNoParent(t,e.element,o.purpose);return DD.complete()}),(n=>{r.logEventResponse(t,e.element,o.purpose);return DD.resume(n)}))}}))};const ND=(e,t,o,n,s,r)=>AD(e,t,o,n,s,r).fold(A,(n=>ND(e,t,o,n,s,r)),D);const MD=(e,t,o,n,s)=>{const r=OD(o,n);return AD(e,t,o,n,r,s)};const RD=(e,t,o)=>{const n=ED(t);U(e,(e=>{const t=e.descHandler;const o=Zi(t);o(n)}));return n.isStopped()};const BD=(e,t,o,n)=>LD(e,t,o,o.target,n);const LD=(e,t,o,n,s)=>{const r=OD(o,n);return ND(e,t,o,n,r,s)};const HD=(e,t)=>({element:e,descHandler:t});const ID=(e,t)=>({id:e,descHandler:t});const PD=()=>{const e={};const t=(t,o,n)=>{ge(n,((n,s)=>{const r=e[s]!==undefined?e[s]:{};r[o]=ji(n,t);e[s]=r}))};const o=(e,t)=>hi(t).bind((t=>Ce(e,t))).map((e=>HD(t,e)));const n=t=>Ce(e,t).map((e=>we(e,((e,t)=>ID(t,e))))).getOr([]);const s=(t,n,s)=>Ce(e,n).bind((e=>Ca(s,(t=>o(e,t)),t)));const r=t=>{ge(e,((e,o)=>{if(Se(e,t)){delete e[t]}}))};return{registerId:t,unregisterId:r,filterByType:n,find:s}};const FD=()=>{const e=PD();const t={};const o=e=>{const t=e.element;return hi(t).getOrThunk((()=>gi("uid-",e.element)))};const n=(e,o)=>{const n=t[o];if(n===e){r(e)}else{throw new Error('The tagId "'+o+'" is already used by: '+si(n.element)+"\nCannot use it for: "+si(e.element)+"\n"+"The conflicting element is"+(Yt(n.element)?" ":" not ")+"already in the DOM")}};const s=s=>{const r=o(s);if(ze(t,r)){n(s,r)}const a=[s];e.registerId(a,r,s.events);t[r]=s};const r=o=>{hi(o.element).each((o=>{delete t[o];e.unregisterId(o)}))};const a=t=>e.filterByType(t);const c=(t,o,n)=>e.find(t,o,n);const i=e=>Ce(t,e);return{find:c,filter:a,register:s,unregister:r,getById:i}};const VD=e=>{const{attributes:t,...o}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...o},components:e.components,behaviours:yh(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}};const jD=Oy({name:"Container",factory:VD,configFields:[Qr("components",[]),hh("containerBehaviours",[]),Qr("events",{}),Qr("domModification",{}),Qr("eventOrder",{})]});const ZD=e=>{const t=t=>At(e.element).fold(A,(e=>St(t,e)));const o=FD();const n=(e,n)=>o.find(t,e,n);const s=zD(e.element,{triggerEvent:(e,t)=>bd(e,t.target,(o=>BD(n,e,t,o)))});const r={debugInfo:x("real"),triggerEvent:(e,t,o)=>{bd(e,t,(s=>LD(n,e,o,t,s)))},triggerFocus:(e,t)=>{hi(e).fold((()=>{ju(e)}),(o=>{bd(tc(),e,(o=>{MD(n,tc(),{originator:t,kill:v,prevent:v,target:e},e,o);return false}))}))},triggerEscape:(e,t)=>{r.triggerEvent("keydown",e.element,t.event)},getByUid:e=>p(e),getByDom:e=>h(e),build:$l,buildOrPatch:Wl,addToGui:e=>{i(e)},removeFromGui:e=>{l(e)},addToWorld:e=>{a(e)},removeFromWorld:e=>{c(e)},broadcast:e=>{f(e)},broadcastOn:(e,t)=>{m(e,t)},broadcastEvent:(e,t)=>{g(e,t)},isConnected:A};const a=e=>{e.connect(r);if(!yt(e.element)){o.register(e);U(e.components(),a);r.triggerEvent(uc(),e.element,{target:e.element})}};const c=e=>{if(!yt(e.element)){U(e.components(),c);o.unregister(e)}e.disconnect()};const i=t=>{rp(e,t)};const l=e=>{ip(e)};const d=()=>{s.unbind();Pn(e.element)};const u=e=>{const t=o.filter(sc());U(t,(t=>{const o=t.descHandler;const n=Zi(o);n(e)}))};const f=e=>{u({universal:true,data:e})};const m=(e,t)=>{u({universal:false,channels:e,data:t})};const g=(e,t)=>{const n=o.filter(e);return RD(n,t)};const p=e=>o.getById(e).fold((()=>cs.error(new Error('Could not find component with uid: "'+e+'" in system.'))),cs.value);const h=e=>{const t=hi(e).getOr("not found");return p(t)};a(e);return{root:e,element:e.element,destroy:d,add:i,remove:l,getByUid:p,getByDom:h,addToWorld:a,removeFromWorld:c,broadcast:f,broadcastOn:m,broadcastEvent:g}};const UD=(e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Z(e.items,t.interpreter)});const qD=x([Qr("prefix","form-field"),hh("fieldBehaviours",[My,ph])]);const WD=x([Yh({schema:[Mr("dom")],name:"label"}),Yh({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[Mr("text")],name:"aria-descriptor"}),Gh({factory:{sketch:e=>{const t=ha(e,["factory"]);return e.factory.sketch(t)}},schema:[Mr("factory")],name:"field"})]);const $D=(e,t,o,n)=>{const s=bh(e.fieldBehaviours,[My.config({find:t=>ly(t,e,"field")}),ph.config({store:{mode:"manual",getValue:e=>My.getCurrent(e).bind(ph.getValue),setValue:(e,t)=>{My.getCurrent(e).each((e=>{ph.setValue(e,t)}))}}})]);const r=Mc([$c(((t,o)=>{const n=uy(t,e,["label","field","aria-descriptor"]);n.field().each((t=>{const o=li(e.prefix);n.label().each((e=>{eo(e.element,"for",o);eo(t.element,"id",o)}));n["aria-descriptor"]().each((o=>{const n=li(e.prefix);eo(o.element,"id",n);eo(t.element,"aria-describedby",n)}))}))}))]);const a={getField:t=>ly(t,e,"field"),getLabel:t=>ly(t,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:s,events:r,apis:a}};const GD=Ty({name:"FormField",configFields:qD(),partFields:WD(),factory:$D,apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});const KD=(e,t)=>Li({attributes:ba([{key:t.tabAttr,value:"true"}])});var YD=Object.freeze({__proto__:null,exhibit:KD});var XD=[Qr("tabAttr","data-alloy-tabstop")];const JD=Bu({fields:XD,name:"tabstopping",active:YD});var QD=tinymce.util.Tools.resolve("tinymce.html.Entities");const eA=(e,t,o,n)=>{const s=oA(e,t,o,n);return GD.sketch(s)};const tA=(e,t)=>eA(e,t,[],[]);const oA=(e,t,o,n)=>({dom:sA(o),components:e.toArray().concat([t]),fieldBehaviours:Mu(n)});const nA=()=>sA([]);const sA=e=>({tag:"div",classes:["tox-form__group"].concat(e)});const rA=(e,t)=>GD.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[jl(t.translate(e))]});const aA=li("form-component-change");const cA=li("form-close");const iA=li("form-cancel");const lA=li("form-action");const dA=li("form-submit");const uA=li("form-block");const fA=li("form-unblock");const mA=li("form-tabchange");const gA=li("form-resize");const pA=(e,t,o)=>{const n=e.label.map((e=>rA(e,t)));const s=e=>(t,o)=>{sd(o.event.target,"[data-collection-item-value]").each((n=>{e(t,o,n,oo(n,"data-collection-item-value"))}))};const r=(o,n)=>{const s=Z(n,(o=>{const n=B_.translate(o.text);const s=e.columns===1?`<div class="tox-collection__item-label">${n}</div>`:"";const r=`<div class="tox-collection__item-icon">${o.icon}</div>`;const a={_:" "," - ":" ","-":" "};const c=n.replace(/\_| \- |\-/g,(e=>a[e]));const i=t.isDisabled()?" tox-collection__item--state-disabled":"";return`<div class="tox-collection__item${i}" tabindex="-1" data-collection-item-value="${QD.encodeAllRaw(o.value)}" title="${c}" aria-label="${c}">${r}${s}</div>`}));const r=e.columns!=="auto"&&e.columns>1?j(s,e.columns):[s];const a=Z(r,(e=>`<div class="tox-collection__group">${e.join("")}</div>`));Qc(o.element,a.join(""))};const a=s(((o,n,s,r)=>{n.stop();if(!t.isDisabled()){Oc(o,lA,{name:e.name,value:r})}}));const c=[Hc(Va(),s(((e,t,o)=>{ju(o)}))),Hc(Ga(),a),Hc(cc(),a),Hc(ja(),s(((e,t,o)=>{nd(e.element,"."+kC).each((e=>{ml(e,kC)}));ul(o,kC)}))),Hc(Za(),s((e=>{nd(e.element,"."+kC).each((e=>{ml(e,kC)}))}))),Yc(s(((t,o,n,s)=>{Oc(t,lA,{name:e.name,value:s})})))];const i=(e,t)=>Z(ng(e.element,".tox-collection__item"),t);const l=GD.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(e.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:C},behaviours:Mu([Jy.config({disabled:t.isDisabled,onDisabled:e=>{i(e,(e=>{ul(e,"tox-collection__item--state-disabled");eo(e,"aria-disabled",true)}))},onEnabled:e=>{i(e,(e=>{ml(e,"tox-collection__item--state-disabled");ro(e,"aria-disabled")}))}}),Xz(),rw.config({}),ph.config({store:{mode:"memory",initialValue:o.getOr([])},onSetValue:(t,o)=>{r(t,o);if(e.columns==="auto"){Dz(t,5,"tox-collection__item").each((({numRows:e,numColumns:o})=>{qk.setGridSize(t,e,o)}))}zc(t,gA)}}),JD.config({}),qk.config(XT(e.columns,"normal")),cw("collection-events",c)]),eventOrder:{[rc()]:["disabling","alloy.base.behaviour","collection-events"]}});const d=["tox-form__group--collection"];return eA(n,l,d,[])};const hA=["input","textarea"];const yA=e=>{const t=ft(e);return P(hA,t)};const bA=(e,t)=>{const o=t.getRoot(e).getOr(e.element);ml(o,t.invalidClass);t.notify.each((t=>{if(yA(e.element)){eo(e.element,"aria-invalid",false)}t.getContainer(e).each((e=>{Qc(e,t.validHtml)}));t.onValid(e)}))};const vA=(e,t,o,n)=>{const s=t.getRoot(e).getOr(e.element);ul(s,t.invalidClass);t.notify.each((t=>{if(yA(e.element)){eo(e.element,"aria-invalid",true)}t.getContainer(e).each((e=>{Qc(e,n)}));t.onInvalid(e,n)}))};const kA=(e,t,o)=>t.validator.fold((()=>BE.pure(cs.value(true))),(t=>t.validate(e)));const wA=(e,t,o)=>{t.notify.each((t=>{t.onValidate(e)}));return kA(e,t).map((n=>{if(e.getSystem().isConnected()){return n.fold((n=>{vA(e,t,o,n);return cs.error(n)}),(o=>{bA(e,t);return cs.value(o)}))}else{return cs.error("No longer in system")}}))};const _A=(e,t)=>{const o=t.getRoot(e).getOr(e.element);return gl(o,t.invalidClass)};var xA=Object.freeze({__proto__:null,markValid:bA,markInvalid:vA,query:kA,run:wA,isInvalid:_A});const CA=(e,t)=>e.validator.map((o=>Mc([Hc(o.onEvent,(o=>{wA(o,e,t).get(C)}))].concat(o.validateOnLoad?[$c((o=>{wA(o,e,t).get(v)}))]:[])))).getOr({});var SA=Object.freeze({__proto__:null,events:CA});var zA=[Mr("invalidClass"),Qr("getRoot",M.none),Xr("notify",[Qr("aria","alert"),Qr("getContainer",M.none),Qr("validHtml",""),Td("onValid"),Td("onInvalid"),Td("onValidate")]),Xr("validator",[Mr("validate"),Qr("onEvent","input"),Qr("validateOnLoad",true)])];const OA=Bu({fields:zA,name:"invalidating",active:SA,apis:xA,extra:{validation:e=>t=>{const o=ph.getValue(t);return BE.pure(e(o))}}});const TA=()=>Li({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}});const EA=()=>Mc([Rc(Ja(),A)]);var DA=Object.freeze({__proto__:null,events:EA,exhibit:TA});const AA=Bu({fields:[],name:"unselecting",active:DA});const NA=(e,t)=>QE.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Mu([oO.button(t.providers.isDisabled),Xz(),AA.config({}),JD.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:o=>BE.nu((t=>e.fetch(t))).map((n=>M.from(mD(zs(GT(li("menu-value"),n,(t=>{e.onItemAction(o,t)}),e.columns,e.presets,iC.CLOSE_ON_EXECUTE,D,t.providers),{movement:YT(e.columns,e.presets)}))))),parts:{menu:BC(false,1,e.presets)}});const MA=li("color-input-change");const RA=li("color-swatch-change");const BA=li("color-picker-cancel");const LA=(e,t,o,n)=>{const s=GD.parts.field({factory:VC,inputClasses:["tox-textfield"],data:n,onSetValue:e=>OA.run(e).get(v),inputBehaviours:Mu([Jy.config({disabled:t.providers.isDisabled}),Xz(),JD.config({}),OA.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>Nt(e.element),notify:{onValid:e=>{const t=ph.getValue(e);Oc(e,MA,{color:t})}},validator:{validateOnLoad:false,validate:e=>{const t=ph.getValue(e);if(t.length===0){return BE.pure(cs.value(true))}else{const e=Qe.fromTag("span");lo(e,"background-color",t);const o=po(e,"background-color").fold((()=>cs.error("blah")),(e=>cs.value(t)));return BE.pure(o)}}}})]),selectOnFocus:false});const r=e.label.map((e=>rA(e,t.providers)));const a=(e,t)=>{Oc(e,RA,{value:t})};const c=(t,n)=>{i.getOpt(t).each((t=>{if(n==="custom"){o.colorPicker((o=>{o.fold((()=>zc(t,BA)),(o=>{a(t,o);yT(e.storageKey,o)}))}),"#ffffff")}else if(n==="remove"){a(t,"")}else{a(t,n)}}))};const i=R_(NA({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[lu,iu,mu],onLtr:()=>[iu,lu,mu]},components:[],fetch:jT(o.getColors(e.storageKey),e.storageKey,o.hasCustomColors()),columns:o.getColorCols(e.storageKey),presets:"color",onItemAction:c},t));return GD.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:r.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,i.asSpec()]}]),fieldBehaviours:Mu([cw("form-field-events",[Hc(MA,((t,o)=>{i.getOpt(t).each((e=>{lo(e.element,"background-color",o.event.color)}));Oc(t,aA,{name:e.name})})),Hc(RA,((e,t)=>{GD.getField(e).each((o=>{ph.setValue(o,t.event.value);My.getCurrent(e).each(hw.focus)}))})),Hc(BA,((e,t)=>{GD.getField(e).each((t=>{My.getCurrent(e).each(hw.focus)}))}))])])})};const HA=Yh({schema:[Mr("dom")],name:"label"});const IA=e=>Yh({name:""+e+"-edge",overrides:t=>{const o=t.model.manager.edgeActions[e];return o.fold((()=>({})),(e=>({events:Mc([Ic(Ma(),((t,o,n)=>e(t,n)),[t]),Ic(Ha(),((t,o,n)=>e(t,n)),[t]),Ic(Ia(),((t,o,n)=>{if(n.mouseIsDown.get()){e(t,n)}}),[t])])})))}});const PA=IA("top-left");const FA=IA("top");const VA=IA("top-right");const jA=IA("right");const ZA=IA("bottom-right");const UA=IA("bottom");const qA=IA("bottom-left");const WA=IA("left");const $A=Gh({name:"thumb",defaults:x({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Mc([jc(Ma(),e,"spectrum"),jc(Ra(),e,"spectrum"),jc(Ba(),e,"spectrum"),jc(Ha(),e,"spectrum"),jc(Ia(),e,"spectrum"),jc(Fa(),e,"spectrum")])})});const GA=Gh({schema:[Ar("mouseIsDown",(()=>la(false)))],name:"spectrum",overrides:e=>{const t=e.model;const o=t.manager;const n=(t,n)=>o.getValueFromEvent(n).map((n=>o.setValueFrom(t,e,n)));return{behaviours:Mu([qk.config({mode:"special",onLeft:t=>o.onLeft(t,e),onRight:t=>o.onRight(t,e),onUp:t=>o.onUp(t,e),onDown:t=>o.onDown(t,e)}),hw.config({})]),events:Mc([Hc(Ma(),n),Hc(Ra(),n),Hc(Ha(),n),Hc(Ia(),((t,o)=>{if(e.mouseIsDown.get()){n(t,o)}}))])}}});var KA=[HA,WA,jA,FA,UA,PA,VA,qA,ZA,$A,GA];const YA="slider.change.value";const XA=x(YA);const JA=e=>e.type.indexOf("touch")!==-1;const QA=e=>{const t=e.event.raw;if(JA(t)){const e=t;return e.touches!==undefined&&e.touches.length===1?M.some(e.touches[0]).map((e=>zo(e.clientX,e.clientY))):M.none()}else{const e=t;return e.clientX!==undefined?M.some(e).map((e=>zo(e.clientX,e.clientY))):M.none()}};const eN="top",tN="right",oN="bottom",nN="left";const sN=e=>e.model.minX;const rN=e=>e.model.minY;const aN=e=>e.model.minX-1;const cN=e=>e.model.minY-1;const iN=e=>e.model.maxX;const lN=e=>e.model.maxY;const dN=e=>e.model.maxX+1;const uN=e=>e.model.maxY+1;const fN=(e,t,o)=>t(e)-o(e);const mN=e=>fN(e,iN,sN);const gN=e=>fN(e,lN,rN);const pN=e=>mN(e)/2;const hN=e=>gN(e)/2;const yN=e=>e.stepSize;const bN=e=>e.snapToGrid;const vN=e=>e.snapStart;const kN=e=>e.rounded;const wN=(e,t)=>e[t+"-edge"]!==undefined;const _N=e=>wN(e,nN);const xN=e=>wN(e,tN);const CN=e=>wN(e,eN);const SN=e=>wN(e,oN);const zN=e=>e.model.value.get();const ON=(e,t)=>({x:e,y:t});const TN=(e,t)=>{Oc(e,XA(),{value:t})};const EN=(e,t)=>{TN(e,ON(aN(t),cN(t)))};const DN=(e,t)=>{TN(e,cN(t))};const AN=(e,t)=>{TN(e,ON(pN(t),cN(t)))};const NN=(e,t)=>{TN(e,ON(dN(t),cN(t)))};const MN=(e,t)=>{TN(e,dN(t))};const RN=(e,t)=>{TN(e,ON(dN(t),hN(t)))};const BN=(e,t)=>{TN(e,ON(dN(t),uN(t)))};const LN=(e,t)=>{TN(e,uN(t))};const HN=(e,t)=>{TN(e,ON(pN(t),uN(t)))};const IN=(e,t)=>{TN(e,ON(aN(t),uN(t)))};const PN=(e,t)=>{TN(e,aN(t))};const FN=(e,t)=>{TN(e,ON(aN(t),hN(t)))};const VN=(e,t,o,n)=>{if(e<t){return e}else if(e>o){return o}else if(e===t){return t-1}else{return Math.max(t,e-n)}};const jN=(e,t,o,n)=>{if(e>o){return e}else if(e<t){return t}else if(e===o){return o+1}else{return Math.min(o,e+n)}};const ZN=(e,t,o)=>Math.max(t,Math.min(o,e));const UN=(e,t,o,n,s)=>s.fold((()=>{const s=e-t;const r=Math.round(s/n)*n;return ZN(t+r,t-1,o+1)}),(t=>{const s=(e-t)%n;const r=Math.round(s/n);const a=Math.floor((e-t)/n);const c=Math.floor((o-t)/n);const i=Math.min(c,a+r);const l=t+i*n;return Math.max(t,l)}));const qN=(e,t,o)=>Math.min(o,Math.max(e,t))-t;const WN=e=>{const{min:t,max:o,range:n,value:s,step:r,snap:a,snapStart:c,rounded:i,hasMinEdge:l,hasMaxEdge:d,minBound:u,maxBound:f,screenRange:m}=e;const g=l?t-1:t;const p=d?o+1:o;if(s<u){return g}else if(s>f){return p}else{const e=qN(s,u,f);const l=ZN(e/m*n+t,g,p);if(a&&l>=t&&l<=o){return UN(l,t,o,r,c)}else if(i){return Math.round(l)}else{return l}}};const $N=e=>{const{min:t,max:o,range:n,value:s,hasMinEdge:r,hasMaxEdge:a,maxBound:c,maxOffset:i,centerMinEdge:l,centerMaxEdge:d}=e;if(s<t){return r?0:l}else if(s>o){return a?c:d}else{return(s-t)/n*i}};const GN="top",KN="right",YN="bottom",XN="left",JN="width",QN="height";const eM=e=>e.element.dom.getBoundingClientRect();const tM=(e,t)=>e[t];const oM=e=>{const t=eM(e);return tM(t,XN)};const nM=e=>{const t=eM(e);return tM(t,KN)};const sM=e=>{const t=eM(e);return tM(t,GN)};const rM=e=>{const t=eM(e);return tM(t,YN)};const aM=e=>{const t=eM(e);return tM(t,JN)};const cM=e=>{const t=eM(e);return tM(t,QN)};const iM=(e,t,o)=>(e+t)/2-o;const lM=(e,t)=>{const o=eM(e);const n=eM(t);const s=tM(o,XN);const r=tM(o,KN);const a=tM(n,XN);return iM(s,r,a)};const dM=(e,t)=>{const o=eM(e);const n=eM(t);const s=tM(o,GN);const r=tM(o,YN);const a=tM(n,GN);return iM(s,r,a)};const uM=(e,t)=>{Oc(e,XA(),{value:t})};const fM=(e,t,o)=>{const n={min:sN(t),max:iN(t),range:mN(t),value:o,step:yN(t),snap:bN(t),snapStart:vN(t),rounded:kN(t),hasMinEdge:_N(t),hasMaxEdge:xN(t),minBound:oM(e),maxBound:nM(e),screenRange:aM(e)};return WN(n)};const mM=(e,t,o)=>{const n=fM(e,t,o);const s=n;uM(e,s);return n};const gM=(e,t)=>{const o=sN(t);uM(e,o)};const pM=(e,t)=>{const o=iN(t);uM(e,o)};const hM=(e,t,o)=>{const n=e>0?jN:VN;const s=n(zN(o),sN(o),iN(o),yN(o));uM(t,s);return M.some(s)};const yM=e=>(t,o)=>hM(e,t,o).map(A);const bM=e=>{const t=QA(e);return t.map((e=>e.left))};const vM=(e,t,o,n,s)=>{const r=0;const a=aM(e);const c=n.bind((t=>M.some(lM(t,e)))).getOr(r);const i=s.bind((t=>M.some(lM(t,e)))).getOr(a);const l={min:sN(t),max:iN(t),range:mN(t),value:o,hasMinEdge:_N(t),hasMaxEdge:xN(t),minBound:oM(e),minOffset:r,maxBound:nM(e),maxOffset:a,centerMinEdge:c,centerMaxEdge:i};return $N(l)};const kM=(e,t,o,n,s,r)=>{const a=vM(t,r,o,n,s);return oM(t)-oM(e)+a};const wM=(e,t,o,n)=>{const s=zN(o);const r=kM(e,n.getSpectrum(e),s,n.getLeftEdge(e),n.getRightEdge(e),o);const a=Mo(t.element)/2;lo(t.element,"left",r-a+"px")};const _M=yM(-1);const xM=yM(1);const CM=M.none;const SM=M.none;const zM={"top-left":M.none(),top:M.none(),"top-right":M.none(),right:M.some(MN),"bottom-right":M.none(),bottom:M.none(),"bottom-left":M.none(),left:M.some(PN)};var OM=Object.freeze({__proto__:null,setValueFrom:mM,setToMin:gM,setToMax:pM,findValueOfOffset:fM,getValueFromEvent:bM,findPositionOfValue:kM,setPositionFromValue:wM,onLeft:_M,onRight:xM,onUp:CM,onDown:SM,edgeActions:zM});const TM=(e,t)=>{Oc(e,XA(),{value:t})};const EM=(e,t,o)=>{const n={min:rN(t),max:lN(t),range:gN(t),value:o,step:yN(t),snap:bN(t),snapStart:vN(t),rounded:kN(t),hasMinEdge:CN(t),hasMaxEdge:SN(t),minBound:sM(e),maxBound:rM(e),screenRange:cM(e)};return WN(n)};const DM=(e,t,o)=>{const n=EM(e,t,o);const s=n;TM(e,s);return n};const AM=(e,t)=>{const o=rN(t);TM(e,o)};const NM=(e,t)=>{const o=lN(t);TM(e,o)};const MM=(e,t,o)=>{const n=e>0?jN:VN;const s=n(zN(o),rN(o),lN(o),yN(o));TM(t,s);return M.some(s)};const RM=e=>(t,o)=>MM(e,t,o).map(A);const BM=e=>{const t=QA(e);return t.map((e=>e.top))};const LM=(e,t,o,n,s)=>{const r=0;const a=cM(e);const c=n.bind((t=>M.some(dM(t,e)))).getOr(r);const i=s.bind((t=>M.some(dM(t,e)))).getOr(a);const l={min:rN(t),max:lN(t),range:gN(t),value:o,hasMinEdge:CN(t),hasMaxEdge:SN(t),minBound:sM(e),minOffset:r,maxBound:rM(e),maxOffset:a,centerMinEdge:c,centerMaxEdge:i};return $N(l)};const HM=(e,t,o,n,s,r)=>{const a=LM(t,r,o,n,s);return sM(t)-sM(e)+a};const IM=(e,t,o,n)=>{const s=zN(o);const r=HM(e,n.getSpectrum(e),s,n.getTopEdge(e),n.getBottomEdge(e),o);const a=_o(t.element)/2;lo(t.element,"top",r-a+"px")};const PM=M.none;const FM=M.none;const VM=RM(-1);const jM=RM(1);const ZM={"top-left":M.none(),top:M.some(DN),"top-right":M.none(),right:M.none(),"bottom-right":M.none(),bottom:M.some(LN),"bottom-left":M.none(),left:M.none()};var UM=Object.freeze({__proto__:null,setValueFrom:DM,setToMin:AM,setToMax:NM,findValueOfOffset:EM,getValueFromEvent:BM,findPositionOfValue:HM,setPositionFromValue:IM,onLeft:PM,onRight:FM,onUp:VM,onDown:jM,edgeActions:ZM});const qM=(e,t)=>{Oc(e,XA(),{value:t})};const WM=(e,t)=>({x:e,y:t});const $M=(e,t,o)=>{const n=fM(e,t,o.left);const s=EM(e,t,o.top);const r=WM(n,s);qM(e,r);return r};const GM=(e,t,o,n)=>{const s=e>0?jN:VN;const r=t?zN(n).x:s(zN(n).x,sN(n),iN(n),yN(n));const a=!t?zN(n).y:s(zN(n).y,rN(n),lN(n),yN(n));qM(o,WM(r,a));return M.some(r)};const KM=(e,t)=>(o,n)=>GM(e,t,o,n).map(A);const YM=(e,t)=>{const o=sN(t);const n=rN(t);qM(e,WM(o,n))};const XM=(e,t)=>{const o=iN(t);const n=lN(t);qM(e,WM(o,n))};const JM=e=>QA(e);const QM=(e,t,o,n)=>{const s=zN(o);const r=kM(e,n.getSpectrum(e),s.x,n.getLeftEdge(e),n.getRightEdge(e),o);const a=HM(e,n.getSpectrum(e),s.y,n.getTopEdge(e),n.getBottomEdge(e),o);const c=Mo(t.element)/2;const i=_o(t.element)/2;lo(t.element,"left",r-c+"px");lo(t.element,"top",a-i+"px")};const eR=KM(-1,false);const tR=KM(1,false);const oR=KM(-1,true);const nR=KM(1,true);const sR={"top-left":M.some(EN),top:M.some(AN),"top-right":M.some(NN),right:M.some(RN),"bottom-right":M.some(BN),bottom:M.some(HN),"bottom-left":M.some(IN),left:M.some(FN)};var rR=Object.freeze({__proto__:null,setValueFrom:$M,setToMin:YM,setToMax:XM,getValueFromEvent:JM,setPositionFromValue:QM,onLeft:eR,onRight:tR,onUp:oR,onDown:nR,edgeActions:sR});const aR=[Qr("stepSize",1),Qr("onChange",v),Qr("onChoose",v),Qr("onInit",v),Qr("onDragStart",v),Qr("onDragEnd",v),Qr("snapToGrid",false),Qr("rounded",true),Ur("snapStart"),Rr("model",Tr("mode",{x:[Qr("minX",0),Qr("maxX",100),Ar("value",(e=>la(e.mode.minX))),Mr("getInitialValue"),Nd("manager",OM)],y:[Qr("minY",0),Qr("maxY",100),Ar("value",(e=>la(e.mode.minY))),Mr("getInitialValue"),Nd("manager",UM)],xy:[Qr("minX",0),Qr("maxX",100),Qr("minY",0),Qr("maxY",100),Ar("value",(e=>la({x:e.mode.minX,y:e.mode.minY}))),Mr("getInitialValue"),Nd("manager",rR)]})),hh("sliderBehaviours",[qk,ph]),Ar("mouseIsDown",(()=>la(false)))];const cR=(e,t,o,n)=>{const s=t=>dy(t,e,"thumb");const r=t=>dy(t,e,"spectrum");const a=t=>ly(t,e,"left-edge");const c=t=>ly(t,e,"right-edge");const i=t=>ly(t,e,"top-edge");const l=t=>ly(t,e,"bottom-edge");const d=e.model;const u=d.manager;const f=(t,o)=>{u.setPositionFromValue(t,o,e,{getLeftEdge:a,getRightEdge:c,getTopEdge:i,getBottomEdge:l,getSpectrum:r})};const m=(e,t)=>{d.value.set(t);const o=s(e);f(e,o)};const g=(t,o)=>{m(t,o);const n=s(t);e.onChange(t,n,o);return M.some(true)};const p=t=>{u.setToMin(t,e)};const h=t=>{u.setToMax(t,e)};const y=t=>{const o=()=>{ly(t,e,"thumb").each((o=>{const n=d.value.get();e.onChoose(t,o,n)}))};const n=e.mouseIsDown.get();e.mouseIsDown.set(false);if(n){o()}};const b=(t,o)=>{o.stop();e.mouseIsDown.set(true);e.onDragStart(t,s(t))};const v=(t,o)=>{o.stop();e.onDragEnd(t,s(t));y(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:bh(e.sliderBehaviours,[qk.config({mode:"special",focusIn:t=>ly(t,e,"spectrum").map(qk.focusIn).map(A)}),ph.config({store:{mode:"manual",getValue:e=>d.value.get(),setValue:m}}),Pu.config({channels:{[Lp()]:{onReceive:y}}})]),events:Mc([Hc(XA(),((e,t)=>{g(e,t.event.value)})),$c(((t,o)=>{const n=d.getInitialValue();d.value.set(n);const a=s(t);f(t,a);const c=r(t);e.onInit(t,a,c,d.value.get())})),Hc(Ma(),b),Hc(Ba(),v),Hc(Ha(),b),Hc(Fa(),v)]),apis:{resetToMin:p,resetToMax:h,setValue:m,refresh:f},domModification:{styles:{position:"relative"}}}};const iR=Ty({name:"Slider",configFields:aR,partFields:KA,factory:cR,apis:{setValue:(e,t,o)=>{e.setValue(t,o)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}});const lR=li("rgb-hex-update");const dR=li("slider-update");const uR=li("palette-update");const fR=(e,t)=>{const o=iR.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}});const n=iR.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return iR.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:false,model:{mode:"y",getInitialValue:x(0)},components:[o,n],sliderBehaviours:Mu([hw.config({})]),onChange:(e,t,o)=>{Oc(e,dR,{value:o})}})};const mR="form";const gR=[hh("formBehaviours",[ph])];const pR=e=>"<alloy.field."+e+">";const hR=e=>{const t=(()=>{const e=[];const t=(t,o)=>{e.push(t);return sy(mR,pR(t),o)};return{field:t,record:x(e)}})();const o=e(t);const n=t.record();const s=Z(n,(e=>Gh({name:e,pname:pR(e)})));return wy(mR,gR,s,bR,o)};const yR=(e,t)=>e.fold((()=>cs.error(t)),cs.value);const bR=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:bh(e.formBehaviours,[ph.config({store:{mode:"manual",getValue:t=>{const o=fy(t,e);return pe(o,((e,t)=>e().bind((e=>{const o=My.getCurrent(e);return yR(o,new Error(`Cannot find a current component to extract the value from for form part '${t}': `+si(e.element)))})).map(ph.getValue)))},setValue:(t,o)=>{ge(o,((o,n)=>{ly(t,e,n).each((e=>{My.getCurrent(e).each((e=>{ph.setValue(e,o)}))}))}))}}})]),apis:{getField:(t,o)=>ly(t,e,o).bind(My.getCurrent)}});const vR={getField:Ei(((e,t,o)=>e.getField(t,o))),sketch:hR};const kR=li("valid-input");const wR=li("invalid-input");const _R=li("validating-input");const xR="colorcustom.rgb.";const CR=(e,t,o,n)=>{const s=(o,n)=>OA.config({invalidClass:t("invalid"),notify:{onValidate:e=>{Oc(e,_R,{type:o})},onValid:e=>{Oc(e,kR,{type:o,value:ph.getValue(e)})},onInvalid:e=>{Oc(e,wR,{type:o,value:ph.getValue(e)})}},validator:{validate:t=>{const o=ph.getValue(t);const s=n(o)?cs.value(true):cs.error(e("aria.input.invalid"));return BE.pure(s)},validateOnLoad:false}});const r=(o,n,r,a,c)=>{const i=e(xR+"range");const l=GD.parts.label({dom:{tag:"label",attributes:{"aria-label":a}},components:[jl(r)]});const d=GD.parts.field({data:c,factory:VC,inputAttributes:{type:"text",...n==="hex"?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:Mu([s(n,o),JD.config({})]),onSetValue:e=>{if(OA.isInvalid(e)){const t=OA.run(e);t.get(v)}}});const u=[l,d];const f=n!=="hex"?[GD.parts["aria-descriptor"]({text:i})]:[];const m=u.concat(f);return{dom:{tag:"div",attributes:{role:"presentation"}},components:m}};const a=(e,t)=>{const o=ZO(t);vR.getField(e,"hex").each((t=>{if(!hw.isFocused(t)){ph.setValue(e,{hex:o.value})}}));return o};const c=(e,t)=>{const o=t.red;const n=t.green;const s=t.blue;ph.setValue(e,{red:o,green:n,blue:s})};const i=R_({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}});const l=(e,t)=>{i.getOpt(e).each((e=>{lo(e.element,"background-color","#"+t.value)}))};const d=()=>{const s={red:la(M.some(255)),green:la(M.some(255)),blue:la(M.some(255)),hex:la(M.some("ffffff"))};const d=(e,t)=>{const o=JO(t);c(e,o);g(o)};const u=e=>s[e].get();const f=(e,t)=>{s[e].set(t)};const m=()=>u("red").bind((e=>u("green").bind((t=>u("blue").map((o=>KO(e,t,o,1)))))));const g=e=>{const t=e.red;const o=e.green;const n=e.blue;f("red",M.some(t));f("green",M.some(o));f("blue",M.some(n))};const p=(e,t)=>{const o=t.event;if(o.type!=="hex"){f(o.type,M.none())}else{n(e)}};const h=(e,t)=>{o(e);const n=RO(t);f("hex",M.some(t));const s=JO(n);c(e,s);g(s);Oc(e,lR,{hex:n});l(e,n)};const y=(e,t,o)=>{const n=parseInt(o,10);f(t,M.some(n));m().each((t=>{const o=a(e,t);Oc(e,lR,{hex:o});l(e,o)}))};const b=e=>e.type==="hex";const v=(e,t)=>{const o=t.event;if(b(o)){h(e,o.value)}else{y(e,o.type,o.value)}};const k=t=>({label:e(xR+t+".label"),description:e(xR+t+".description")});const w=k("red");const _=k("green");const x=k("blue");const C=k("hex");return zs(vR.sketch((o=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[o.field("red",GD.sketch(r(YO,"red",w.label,w.description,255))),o.field("green",GD.sketch(r(YO,"green",_.label,_.description,255))),o.field("blue",GD.sketch(r(YO,"blue",x.label,x.description,255))),o.field("hex",GD.sketch(r(HO,"hex",C.label,C.description,"ffffff"))),i.asSpec()],formBehaviours:Mu([OA.config({invalidClass:t("form-invalid")}),cw("rgb-form-events",[Hc(kR,v),Hc(wR,p),Hc(_R,p)])])}))),{apis:{updateHex:(e,t)=>{ph.setValue(e,{hex:t.value});d(e,t);l(e,t)}}})};const u=Oy({factory:d,name:"RgbForm",configFields:[],apis:{updateHex:(e,t,o)=>{e.updateHex(t,o)}},extraApis:{}});return u};const SR=(e,t)=>{const o=iR.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}});const n=iR.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}});const s=(e,t)=>{const{width:o,height:n}=e;const s=e.getContext("2d");if(s===null){return}s.fillStyle=t;s.fillRect(0,0,o,n);const r=s.createLinearGradient(0,0,o,0);r.addColorStop(0,"rgba(255,255,255,1)");r.addColorStop(1,"rgba(255,255,255,0)");s.fillStyle=r;s.fillRect(0,0,o,n);const a=s.createLinearGradient(0,0,0,n);a.addColorStop(0,"rgba(0,0,0,0)");a.addColorStop(1,"rgba(0,0,0,1)");s.fillStyle=a;s.fillRect(0,0,o,n)};const r=(e,t)=>{const o=e.components()[0].element.dom;const n=bT(t,100,100);const r=XO(n);s(o,tT(r))};const a=(e,t)=>{const o=vT(JO(t));iR.setValue(e,{x:o.saturation,y:100-o.value})};const c=e=>{const r=x({x:0,y:0});const a=(e,t,o)=>{Oc(e,uR,{value:o})};const c=(e,t,o,n)=>{s(o.element.dom,tT(oT))};const i=Mu([My.config({find:M.some}),hw.config({})]);return iR.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:r},rounded:false,components:[o,n],onChange:a,onInit:c,sliderBehaviours:i})};const i=Oy({factory:c,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,o)=>{r(t,o)},setThumb:(e,t,o)=>{a(t,o)}},extraApis:{}});return i};const zR=(e,t)=>{const o=o=>{const n=CR(e,t,o.onValidHex,o.onInvalidHex);const s=SR(e,t);const r=e=>(100-e)/100*360;const a=e=>100-e/360*100;const c={paletteRgba:la(oT),paletteHue:la(0)};const i=R_(fR(e,t));const l=R_(s.sketch({}));const d=R_(n.sketch({}));const u=(e,t,o)=>{l.getOpt(e).each((e=>{s.setHue(e,o)}))};const f=(e,t)=>{d.getOpt(e).each((e=>{n.updateHex(e,t)}))};const m=(e,t,o)=>{i.getOpt(e).each((e=>{iR.setValue(e,a(o))}))};const g=(e,t)=>{l.getOpt(e).each((e=>{s.setThumb(e,t)}))};const p=(e,t)=>{const o=JO(e);c.paletteRgba.set(o);c.paletteHue.set(t)};const h=(e,t,o,n)=>{p(t,o);U(n,(n=>{n(e,t,o)}))};const y=()=>{const e=[f];return(t,o)=>{const n=o.event.value;const s=c.paletteHue.get();const r=bT(s,n.x,100-n.y);const a=wT(r);h(t,a,s,e)}};const b=()=>{const e=[u,f];return(t,o)=>{const n=r(o.event.value);const s=c.paletteRgba.get();const a=vT(s);const i=bT(n,a.saturation,a.value);const l=wT(i);h(t,l,n,e)}};const v=()=>{const e=[u,m,g];return(t,o)=>{const n=o.event.hex;const s=kT(n);h(t,n,s.hue,e)}};return{uid:o.uid,dom:o.dom,components:[l.asSpec(),i.asSpec(),d.asSpec()],behaviours:Mu([cw("colour-picker-events",[Hc(lR,v()),Hc(uR,y()),Hc(dR,b())]),My.config({find:e=>d.getOpt(e)}),qk.config({mode:"acyclic"})])}};const n=Oy({name:"ColourPicker",configFields:[Mr("dom"),Qr("onValidHex",v),Qr("onInvalidHex",v)],factory:o});return n};const OR=()=>My.config({find:M.some});const TR=e=>My.config({find:e.getOpt});const ER=e=>My.config({find:t=>Lt(t.element,e).bind((e=>t.getSystem().getByDom(e).toOptional()))});const DR={self:OR,memento:TR,childAt:ER};const AR=sr([Qr("preprocess",C),Qr("postprocess",C)]);const NR=(e,t)=>{const o=zr("RepresentingConfigs.memento processors",AR,t);return ph.config({store:{mode:"manual",getValue:t=>{const n=e.get(t);const s=ph.getValue(n);return o.postprocess(s)},setValue:(t,n)=>{const s=o.preprocess(n);const r=e.get(t);ph.setValue(r,s)}}})};const MR=(e,t,o)=>ph.config({store:{mode:"manual",...e.map((e=>({initialValue:e}))).getOr({}),getValue:t,setValue:o}});const RR=(e,t,o)=>MR(e,(e=>t(e.element)),((e,t)=>o(e.element,t)));const BR=e=>RR(e,kl,wl);const LR=e=>RR(e,Jc,Qc);const HR=e=>ph.config({store:{mode:"memory",initialValue:e}});const IR={memento:NR,withElement:RR,withComp:MR,domValue:BR,domHtml:LR,memory:HR};const PR={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};const FR=e=>t=>e.translate(PR[t]);const VR=(e,t,o)=>{const n=e=>"tox-"+e;const s=zR(FR(t),n);const r=e=>{Oc(e,lA,{name:"hex-valid",value:true})};const a=e=>{Oc(e,lA,{name:"hex-valid",value:false})};const c=R_(s.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:r,onInvalidHex:a}));return{dom:{tag:"div"},components:[c.asSpec()],behaviours:Mu([IR.withComp(o,(e=>{const t=c.get(e);const o=My.getCurrent(t);const n=o.bind((e=>{const t=ph.getValue(e);return t.hex}));return n.map((e=>"#"+e)).getOr("")}),((e,t)=>{const o=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;const n=M.from(o.exec(t)).bind((e=>ce(e,1)));const s=c.get(e);const r=My.getCurrent(s);r.fold((()=>{console.log("Can not find form")}),(e=>{ph.setValue(e,{hex:n.getOr("")});vR.getField(e,"hex").each((e=>{zc(e,Wa())}))}))})),DR.self()])}};var jR=tinymce.util.Tools.resolve("tinymce.Resource");const ZR=e=>Se(e,"init");const UR=e=>{const t=_f();const o=R_({dom:{tag:e.tag}});const n=_f();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Mu([cw("custom-editor-events",[$c((s=>{o.getOpt(s).each((o=>{(ZR(e)?e.init(o.element.dom):jR.load(e.scriptId,e.scriptUrl).then((t=>t(o.element.dom,e.settings)))).then((e=>{n.on((t=>{e.setValue(t)}));n.clear();t.set(e)}))}))}))]),IR.withComp(M.none(),(()=>t.get().fold((()=>n.get().getOr("")),(e=>e.getValue()))),((e,o)=>{t.get().fold((()=>n.set(o)),(e=>e.setValue(o)))})),DR.self()]),components:[o.asSpec()]}};var qR=tinymce.util.Tools.resolve("tinymce.util.Tools");const WR=(e,t)=>{const o=qR.explode(t.getOption("images_file_types"));const n=e=>F(o,(t=>je(e.name.toLowerCase(),`.${t.toLowerCase()}`)));return $(de(e),n)};const $R=(e,t,o)=>{const n=(e,t)=>{t.stop()};const s=e=>(t,o)=>{U(e,(e=>{e(t,o)}))};const r=(e,t)=>{var o;if(!Jy.isDisabled(e)){const n=t.event.raw;c(e,(o=n.dataTransfer)===null||o===void 0?void 0:o.files)}};const a=(e,t)=>{const o=t.event.raw.target;c(e,o.files)};const c=(o,n)=>{if(n){ph.setValue(o,WR(n,t));Oc(o,aA,{name:e.name})}};const i=R_({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Mu([cw("input-file-events",[Uc(Ga()),Uc(cc())])])});const l=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Mu([IR.memory(o.getOr([])),DR.self(),Jy.config({}),Bw.config({toggleClass:"dragenter",toggleOnExecute:false}),cw("dropzone-events",[Hc("dragenter",s([n,Bw.toggle])),Hc("dragleave",s([n,Bw.toggle])),Hc("dragover",n),Hc("drop",s([n,r])),Hc($a(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[jl(t.translate("Drop an image here"))]},M_.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[jl(t.translate("Browse for an image")),i.asSpec()],action:e=>{const t=i.get(e);t.element.dom.click()},buttonBehaviours:Mu([JD.config({}),oO.button(t.isDisabled),Xz()])})]}]});const d=e.label.map((e=>rA(e,t)));const u=GD.parts.field({factory:{sketch:l}});return eA(d,u,["tox-form__group--stretched"],[])};const GR=(e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:Z(e.items,t.interpreter)});const KR=li("alloy-fake-before-tabstop");const YR=li("alloy-fake-after-tabstop");const XR=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Mu([hw.config({ignore:true}),JD.config({})])});const JR=e=>({dom:{tag:"div",classes:["tox-navobj"]},components:[XR([KR]),e,XR([YR])],behaviours:Mu([DR.childAt(1)])});const QR=(e,t)=>{Oc(e,Ua(),{raw:{which:9,shiftKey:t}})};const eB=(e,t)=>{const o=t.element;if(gl(o,KR)){QR(e,true)}else if(gl(o,YR)){QR(e,false)}};const tB=e=>bD(e,["."+KR,"."+YR].join(","),D);const oB=e=>{const t=la(e.getOr(""));return{getValue:e=>t.get(),setValue:(e,o)=>{if(t.get()!==o){eo(e.element,"srcdoc",o)}t.set(o)}}};const nB=(e,t,o)=>{const n=e.sandboxed;const s=e.transparent;const r="tox-dialog__iframe";const a={...e.label.map((e=>({title:e}))).getOr({}),...o.map((e=>({srcdoc:e}))).getOr({}),...n?{sandbox:"allow-scripts allow-same-origin"}:{}};const c=oB(o);const i=e.label.map((e=>rA(e,t)));const l=e=>JR({uid:e.uid,dom:{tag:"iframe",attributes:a,classes:s?[r]:[r,`${r}--opaque`]},behaviours:Mu([JD.config({}),hw.config({}),IR.withComp(o,c.getValue,c.setValue)])});const d=GD.parts.field({factory:{sketch:l}});return eA(i,d,["tox-form__group--stretched"],[])};const sB=e=>new Promise(((t,o)=>{const n=()=>{r();t(e)};const s=[Cf(e,"load",n),Cf(e,"error",(()=>{r();o("Unable to load data from image: "+e.dom.src)}))];const r=()=>U(s,(e=>e.unbind()));if(e.dom.complete){n()}}));const rB=(e,t,o,n,s)=>{const r=o*s;const a=n*s;const c=Math.max(0,e/2-r/2);const i=Math.max(0,t/2-a/2);return{left:c.toString()+"px",top:i.toString()+"px",width:r.toString()+"px",height:a.toString()+"px"}};const aB=(e,t,o)=>{const n=Mo(e);const s=_o(e);return Math.min(n/t,s/o,1)};const cB=(e,t)=>{const o=la(t.getOr({url:""}));const n=R_({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map((e=>({src:e.url}))).getOr({})}});const s=R_({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[n.asSpec()]});const r=(e,t)=>{const r={url:t.url};t.zoom.each((e=>r.zoom=e));t.cachedWidth.each((e=>r.cachedWidth=e));t.cachedHeight.each((e=>r.cachedHeight=e));o.set(r);const a=()=>{const{cachedWidth:t,cachedHeight:o,zoom:n}=r;if(!m(t)&&!m(o)){if(m(n)){const n=aB(e.element,t,o);r.zoom=n}const a=rB(Mo(e.element),_o(e.element),t,o,r.zoom);s.getOpt(e).each((e=>{uo(e.element,a)}))}};n.getOpt(e).each((o=>{const n=o.element;if(t.url!==oo(n,"src")){eo(n,"src",t.url);ml(e.element,"tox-imagepreview__loaded")}a();sB(n).then((t=>{if(e.getSystem().isConnected()){ul(e.element,"tox-imagepreview__loaded");r.cachedWidth=t.dom.naturalWidth;r.cachedHeight=t.dom.naturalHeight;a()}}))}))};const a={};e.height.each((e=>a.height=e));const c=t.map((e=>({url:e.url,zoom:M.from(e.zoom),cachedWidth:M.from(e.cachedWidth),cachedHeight:M.from(e.cachedHeight)})));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:a,attributes:{role:"presentation"}},components:[s.asSpec()],behaviours:Mu([DR.self(),IR.withComp(c,(()=>o.get()),r)])}};const iB=(e,t)=>{const o={dom:{tag:"label",classes:["tox-label"]},components:[jl(t.providers.translate(e.label))]};const n=Z(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o,...n],behaviours:Mu([DR.self(),rw.config({}),IR.domHtml(M.none()),qk.config({mode:"acyclic"})])}};const lB=li("toolbar.button.execute");const dB=e=>Yc(((t,o)=>{nO(e,t)((o=>{Oc(t,lB,{buttonApi:o});e.onAction(o)}))}));const uB={[rc()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]};const fB=(e,t,o)=>W_(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},t);const mB=(e,t)=>fB(e,t,[]);const gB=(e,t)=>fB(e,t,[rw.config({})]);const pB=(e,t,o)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[jl(o.translate(e))],behaviours:Mu([rw.config({})])});const hB=li("update-menu-text");const yB=li("update-menu-icon");const bB=(e,t,o)=>{const n=la(v);const s=e.text.map((e=>R_(pB(e,t,o.providers))));const r=e.icon.map((e=>R_(gB(e,o.providers.icons))));const a=(e,t)=>{const o=ph.getValue(e);hw.focus(o);Oc(o,"keydown",{raw:t.event.raw});QE.close(o);return M.some(true)};const c=e.role.fold((()=>({})),(e=>({role:e})));const i=e.tooltip.fold((()=>({})),(e=>{const t=o.providers.translate(e);return{title:t,"aria-label":t}}));const l=W_("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},o.providers.icons);const d=R_(QE.sketch({...e.uid?{uid:e.uid}:{},...c,dom:{tag:"button",classes:[t,`${t}--select`].concat(Z(e.classes,(e=>`${t}--${e}`))),attributes:{...i}},components:iO([r.map((e=>e.asSpec())),s.map((e=>e.asSpec())),M.some(l)]),matchWidth:true,useMinWidth:true,onOpen:(t,o,n)=>{if(e.searchable){cD(n)}},dropdownBehaviours:Mu([...e.dropdownBehaviours,oO.button((()=>e.disabled||o.providers.isDisabled())),Xz(),AA.config({}),rw.config({}),cw("dropdown-events",[sO(e,n),rO(e,n)]),cw("menubutton-update-display-text",[Hc(hB,((e,t)=>{s.bind((t=>t.getOpt(e))).each((e=>{rw.set(e,[jl(o.providers.translate(t.event.text))])}))})),Hc(yB,((e,t)=>{r.bind((t=>t.getOpt(e))).each((e=>{rw.set(e,[gB(t.event.icon,o.providers.icons)])}))}))])]),eventOrder:zs(uB,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Mu([qk.config({mode:"special",onLeft:a,onRight:a}),cw("dropdown-sandbox-events",[Hc(jC,((e,t)=>{tD(e);t.stop()})),Hc(ZC,((e,t)=>{oD(e,t);t.stop()}))])]),lazySink:o.getSink,toggleClass:`${t}--active`,parts:{menu:{...BC(false,e.columns,e.presets),fakeFocus:e.searchable,onHighlightItem:rD,onCollapseMenu:(e,t,o)=>{bb.getHighlighted(o).each((t=>{rD(e,o,t)}))},onDehighlightItem:aD}},fetch:t=>BE.nu(z(e.fetch,t))}));return d.asSpec()};const vB=e=>c(e);const kB=e=>e.type==="separator";const wB=e=>Se(e,"getSubmenuItems");const _B={type:"separator"};const xB=(e,t)=>{const o=K(e,((e,o)=>{if(vB(o)){if(o===""){return e}else if(o==="|"){return e.length>0&&!kB(e[e.length-1])?e.concat([_B]):e}else if(Se(t,o.toLowerCase())){return e.concat([t[o.toLowerCase()]])}else{return e}}else{return e.concat([o])}}),[]);if(o.length>0&&kB(o[o.length-1])){o.pop()}return o};const CB=(e,t)=>{const o=e.getSubmenuItems();const n=zB(o,t);const s=zs(n.menus,{[e.value]:n.items});const r=zs(n.expansions,{[e.value]:e.value});return{item:e,menus:s,expansions:r}};const SB=e=>{const t=Ce(e,"value").getOrThunk((()=>li("generated-menu-item")));return zs({value:t},e)};const zB=(e,t)=>{const o=xB(c(e)?e.split(" "):e,t);return G(o,((e,o)=>{if(wB(o)){const n=SB(o);const s=CB(n,t);return{menus:zs(e.menus,s.menus),items:[s.item,...e.items],expansions:zs(e.expansions,s.expansions)}}else{return{...e,items:[o,...e.items]}}}),{menus:{},expansions:{},items:[]})};const OB=e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-field",placeholder:e.placeholder})));const TB=e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-results"})));const EB=(e,t,o,n)=>{const s=li("primary-menu");const r=zB(e,o.shared.providers.menuItems());if(r.items.length===0){return M.none()}const a=OB(n);const c=fD(s,r.items,t,o,n.isHorizontalMenu,a);const i=TB(n);const l=pe(r.menus,((e,n)=>fD(n,e,t,o,false,i)));const d=zs(l,ya(s,c));return M.from(O_.tieredData(s,d,r.expansions))};const DB=e=>!Se(e,"items");const AB="data-value";const NB=(e,t,o,n)=>Z(o,(o=>{if(!DB(o)){return{type:"nestedmenuitem",text:o.text,getSubmenuItems:()=>NB(e,t,o.items,n)}}else{return{type:"togglemenuitem",text:o.text,value:o.value,active:o.value===n,onAction:()=>{ph.setValue(e,o.value);Oc(e,aA,{name:t});hw.focus(e)}}}}));const MB=(e,t)=>ue(e,(e=>{if(!DB(e)){return MB(e.items,t)}else{return Re(e.value===t,e)}}));const RB=(e,t,o)=>{const n=t.shared.providers;const s=o.bind((t=>MB(e.items,t))).orThunk((()=>ie(e.items).filter(DB)));const r=e.label.map((e=>rA(e,n)));const a=GD.parts.field({dom:{},factory:{sketch:o=>bB({uid:o.uid,text:s.map((e=>e.text)),icon:M.none(),tooltip:e.label,role:M.none(),fetch:(o,n)=>{const s=NB(o,e.name,e.items,ph.getValue(o));n(EB(s,iC.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:false,search:M.none()}))},onSetup:x(v),getApi:x({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[JD.config({}),IR.withComp(s.map((e=>e.value)),(e=>oo(e.element,AB)),((t,o)=>{MB(e.items,o).each((e=>{eo(t.element,AB,e.value);Oc(t,hB,{text:e.text})}))}))]},"tox-listbox",t.shared)}});const c={dom:{tag:"div",classes:["tox-listboxfield"]},components:[a]};return GD.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Q([r.toArray(),[c]]),fieldBehaviours:Mu([Jy.config({disabled:x(!e.enabled),onDisabled:e=>{GD.getField(e).each(Jy.disable)},onEnabled:e=>{GD.getField(e).each(Jy.enable)}})])})};const BB=(e,t)=>({dom:{tag:"div",classes:e.classes},components:Z(e.items,t.shared.interpreter)});const LB=(e,t)=>{const o=Z(e.options,(e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}})));const n=e.data.map((e=>ya("initialValue",e))).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:o,behaviours:bh(e.selectBehaviours,[hw.config({}),ph.config({store:{mode:"manual",getValue:e=>kl(e.element),setValue:(t,o)=>{const n=X(e.options,(e=>e.value===o));if(n.isSome()){wl(t.element,o)}},...n}})])}};const HB=Oy({name:"HtmlSelect",configFields:[Mr("options"),hh("selectBehaviours",[hw,ph]),Qr("selectClasses",[]),Qr("selectAttributes",{}),Ur("data")],factory:LB});const IB=(e,t,o)=>{const n=Z(e.items,(e=>({text:t.translate(e.text),value:e.value})));const s=e.label.map((e=>rA(e,t)));const r=GD.parts.field({dom:{},...o.map((e=>({data:e}))).getOr({}),selectAttributes:{size:e.size},options:n,factory:HB,selectBehaviours:Mu([Jy.config({disabled:()=>!e.enabled||t.isDisabled()}),JD.config({}),cw("selectbox-change",[Hc($a(),((t,o)=>{Oc(t,aA,{name:e.name})}))])])});const a=e.size>1?M.none():M.some(W_("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons));const c={dom:{tag:"div",classes:["tox-selectfield"]},components:Q([[r],a.toArray()])};return GD.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Q([s.toArray(),[c]]),fieldBehaviours:Mu([Jy.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{GD.getField(e).each(Jy.disable)},onEnabled:e=>{GD.getField(e).each(Jy.enable)}}),Xz()])})};const PB=x([Qr("field1Name","field1"),Qr("field2Name","field2"),Dd("onLockedChange"),zd(["lockClass"]),Qr("locked",false),vh.field("coupledFieldBehaviours",[My,ph])]);const FB=(e,t,o)=>ly(e,t,o).bind(My.getCurrent);const VB=(e,t)=>Gh({factory:GD,name:e,overrides:e=>({fieldBehaviours:Mu([cw("coupled-input-behaviour",[Hc(Wa(),(o=>{FB(o,e,t).each((t=>{ly(o,e,"lock").each((n=>{if(Bw.isOn(n)){e.onLockedChange(o,t,n)}}))}))}))])])})});const jB=x([VB("field1","field2"),VB("field2","field1"),Gh({factory:M_,schema:[Mr("dom")],name:"lock",overrides:e=>({buttonBehaviours:Mu([Bw.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]);const ZB=(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:vh.augment(e.coupledFieldBehaviours,[My.config({find:M.some}),ph.config({store:{mode:"manual",getValue:t=>{const o=gy(t,e,["field1","field2"]);return{[e.field1Name]:ph.getValue(o.field1()),[e.field2Name]:ph.getValue(o.field2())}},setValue:(t,o)=>{const n=gy(t,e,["field1","field2"]);if(ze(o,e.field1Name)){ph.setValue(n.field1(),o[e.field1Name])}if(ze(o,e.field2Name)){ph.setValue(n.field2(),o[e.field2Name])}}}})]),apis:{getField1:t=>ly(t,e,"field1"),getField2:t=>ly(t,e,"field2"),getLock:t=>ly(t,e,"lock")}});const UB=Ty({name:"FormCoupledInputs",configFields:PB(),partFields:jB(),factory:ZB,apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}});const qB=e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};const o=e=>e in t?t[e]:1;let n=e.value.toFixed(o(e.unit));if(n.indexOf(".")!==-1){n=n.replace(/\.?0*$/,"")}return n+e.unit};const WB=e=>{const t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/;const o=t.exec(e);if(o!==null){const e=parseFloat(o[1]);const t=o[2];return cs.value({value:e,unit:t})}else{return cs.error(e)}};const $B=(e,t)=>{const o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1};const n=e=>Se(o,e);if(e.unit===t){return M.some(e.value)}else if(n(e.unit)&&n(t)){if(o[e.unit]===o[t]){return M.some(e.value)}else{return M.some(e.value/o[e.unit]*o[t])}}else{return M.none()}};const GB=e=>M.none();const KB=(e,t)=>o=>$B(o,t).map((o=>({value:o*e,unit:t})));const YB=(e,t)=>{const o=WB(e).toOptional();const n=WB(t).toOptional();return Ae(o,n,((e,t)=>$B(e,t.unit).map((e=>t.value/e)).map((e=>KB(e,t.unit))).getOr(GB))).getOr(GB)};const XB=(e,t)=>{let o=GB;const n=li("ratio-event");const s=e=>W_(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons);const r=UB.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[s("lock"),s("unlock")],buttonBehaviours:Mu([Jy.config({disabled:()=>!e.enabled||t.isDisabled()}),Xz(),JD.config({})])});const a=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e});const c=o=>GD.parts.field({factory:VC,inputClasses:["tox-textfield"],inputBehaviours:Mu([Jy.config({disabled:()=>!e.enabled||t.isDisabled()}),Xz(),JD.config({}),cw("size-input-events",[Hc(ja(),((e,t)=>{Oc(e,n,{isField1:o})})),Hc($a(),((t,o)=>{Oc(t,aA,{name:e.name})}))])]),selectOnFocus:false});const i=e=>({dom:{tag:"label",classes:["tox-label"]},components:[jl(t.translate(e))]});const l=UB.parts.field1(a([GD.parts.label(i("Width")),c(true)]));const d=UB.parts.field2(a([GD.parts.label(i("Height")),c(false)]));return UB.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[l,d,a([i(Sm),r])]}],field1Name:"width",field2Name:"height",locked:true,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,n)=>{WB(ph.getValue(e)).each((e=>{o(e).each((e=>{ph.setValue(t,qB(e))}))}))},coupledFieldBehaviours:Mu([Jy.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{UB.getField1(e).bind(GD.getField).each(Jy.disable);UB.getField2(e).bind(GD.getField).each(Jy.disable);UB.getLock(e).each(Jy.disable)},onEnabled:e=>{UB.getField1(e).bind(GD.getField).each(Jy.enable);UB.getField2(e).bind(GD.getField).each(Jy.enable);UB.getLock(e).each(Jy.enable)}}),Xz(),cw("size-input-events2",[Hc(n,((e,t)=>{const n=t.event.isField1;const s=n?UB.getField1(e):UB.getField2(e);const r=n?UB.getField2(e):UB.getField1(e);const a=s.map(ph.getValue).getOr("");const c=r.map(ph.getValue).getOr("");o=YB(a,c)}))])])})};const JB=(e,t,o)=>{const n=iR.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[jl(t.translate(e.label))]});const s=iR.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}});const r=iR.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return iR.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:x(o.getOrThunk((()=>(Math.abs(e.max)-Math.abs(e.min))/2)))},components:[n,s,r],sliderBehaviours:Mu([DR.self(),hw.config({})]),onChoose:(t,o,n)=>{Oc(t,aA,{name:e.name,value:n})}})};const QB=(e,t)=>{const o=e=>({dom:{tag:"th",innerHtml:t.translate(e)}});const n=e=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Z(e,o)}]});const s=e=>({dom:{tag:"td",innerHtml:t.translate(e)}});const r=e=>({dom:{tag:"tr"},components:Z(e,s)});const a=e=>({dom:{tag:"tbody"},components:Z(e,r)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[n(e.header),a(e.cells)],behaviours:Mu([JD.config({}),hw.config({})])}};const eL=(e,t)=>{const o=e.label.map((e=>rA(e,t)));const n=[Jy.config({disabled:()=>e.disabled||t.isDisabled()}),Xz(),qk.config({mode:"execution",useEnter:e.multiline!==true,useControlEnter:e.multiline===true,execute:e=>{zc(e,dA);return M.some(true)}}),cw("textfield-change",[Hc(Wa(),((t,o)=>{Oc(t,aA,{name:e.name})})),Hc(nc(),((t,o)=>{Oc(t,aA,{name:e.name})}))]),JD.config({})];const s=e.validation.map((e=>OA.config({getRoot:e=>Nt(e.element),invalidClass:"tox-invalid",validator:{validate:t=>{const o=ph.getValue(t);const n=e.validator(o);return BE.pure(n===true?cs.value(o):cs.error(n))},validateOnLoad:e.validateOnLoad}}))).toArray();const r=e.placeholder.fold(x({}),(e=>({placeholder:t.translate(e)})));const a=e.inputMode.fold(x({}),(e=>({inputmode:e})));const c={...r,...a};const i=GD.parts.field({tag:e.multiline===true?"textarea":"input",...e.data.map((e=>({data:e}))).getOr({}),inputAttributes:c,inputClasses:[e.classname],inputBehaviours:Mu(Q([n,s])),selectOnFocus:false,factory:VC});const l=e.flex?["tox-form__group--stretched"]:[];const d=l.concat(e.maximized?["tox-form-group--maximize"]:[]);const u=[Jy.config({disabled:()=>e.disabled||t.isDisabled(),onDisabled:e=>{GD.getField(e).each(Jy.disable)},onEnabled:e=>{GD.getField(e).each(Jy.enable)}}),Xz()];return eA(o,i,d,u)};const tL=(e,t,o)=>eL({name:e.name,multiline:false,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:false,disabled:!e.enabled,classname:"tox-textfield",validation:M.none(),maximized:e.maximized,data:o},t);const oL=(e,t,o)=>eL({name:e.name,multiline:true,label:e.label,inputMode:M.none(),placeholder:e.placeholder,flex:true,disabled:!e.enabled,classname:"tox-textarea",validation:M.none(),maximized:e.maximized,data:o},t);const nL=(e,t)=>{const o=e.stream.streams;const n=o.setup(e,t);return Mc([Hc(e.event,n),Gc((()=>t.cancel()))].concat(e.cancelEvent.map((e=>[Hc(e,(()=>t.cancel()))])).getOr([])))};var sL=Object.freeze({__proto__:null,events:nL});const rL=(e,t)=>{let o=null;const n=()=>{if(!u(o)){clearTimeout(o);o=null}};const s=(...n)=>{if(u(o)){o=setTimeout((()=>{o=null;e.apply(null,n)}),t)}};return{cancel:n,throttle:s}};const aL=(e,t)=>{let o=null;const n=()=>{if(!u(o)){clearTimeout(o);o=null}};const s=(...s)=>{n();o=setTimeout((()=>{o=null;e.apply(null,s)}),t)};return{cancel:n,throttle:s}};const cL=e=>{const t=la(null);const o=()=>({timer:t.get()!==null?"set":"unset"});const n=e=>{t.set(e)};const s=()=>{const e=t.get();if(e!==null){e.cancel()}};return Ai({readState:o,setTimer:n,cancel:s})};const iL=e=>e.stream.streams.state(e);var lL=Object.freeze({__proto__:null,throttle:cL,init:iL});const dL=(e,t)=>{const o=e.stream;const n=aL(e.onStream,o.delay);t.setTimer(n);return(e,t)=>{n.throttle(e,t);if(o.stopEvent){t.stop()}}};var uL=[Rr("stream",Tr("mode",{throttle:[Mr("delay"),Qr("stopEvent",true),Nd("streams",{setup:dL,state:cL})]})),Qr("event","input"),Ur("cancelEvent"),Dd("onStream")];const fL=Bu({fields:uL,name:"streaming",active:sL,state:lL});const mL=(e,t,o)=>{const n=ph.getValue(o);ph.setValue(t,n);pL(t)};const gL=(e,t)=>{const o=e.element;const n=kl(o);const s=o.dom;if(oo(o,"type")!=="number"){t(s,n)}};const pL=e=>{gL(e,((e,t)=>e.setSelectionRange(t.length,t.length)))};const hL=(e,t)=>{gL(e,((e,o)=>e.setSelectionRange(t,o.length)))};const yL=(e,t,o)=>{if(!e.selectsOver){return M.none()}else{const n=ph.getValue(t);const s=e.getDisplayText(n);const r=ph.getValue(o);const a=e.getDisplayText(r);return a.indexOf(s)===0?M.some((()=>{mL(e,t,o);hL(t,s.length)})):M.none()}};const bL=x("alloy.typeahead.itemexecute");const vL=(e,t,o,n)=>{const s=(t,o,s)=>{e.previewing.set(false);const r=OE.getCoupled(t,"sandbox");if(Mp.isOpen(r)){My.getCurrent(r).each((e=>{bb.getHighlighted(e).fold((()=>{s(e)}),(()=>{Nc(r,e.element,"keydown",o)}))}))}else{const o=e=>{My.getCurrent(e).each(s)};VE(e,a(t),t,r,n,o,w_.HighlightMenuAndItem).get(v)}};const r=HC(e);const a=e=>t=>t.map((t=>{const o=xe(t.menus);const n=ee(o,(e=>$(e.items,(e=>e.type==="item"))));const s=ph.getState(e);s.update(Z(n,(e=>e.data)));return t}));const c=e=>My.getCurrent(e);const i="typeaheadevents";const l=[hw.config({}),ph.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:e=>kl(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,o)=>{wl(t.element,e.model.getDisplayText(o))},...e.initialData.map((e=>ya("initialValue",e))).getOr({})}}),fL.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:false},onStream:(t,o)=>{const s=OE.getCoupled(t,"sandbox");const r=hw.isFocused(t);if(r){if(kl(t.element).length>=e.minChars){const o=c(s).bind((e=>bb.getHighlighted(e).map(ph.getValue)));e.previewing.set(true);const r=t=>{c(s).each((t=>{o.fold((()=>{if(e.model.selectsOver){bb.highlightFirst(t)}}),(e=>{bb.highlightBy(t,(t=>{const o=ph.getValue(t);return o.value===e.value}));bb.getHighlighted(t).orThunk((()=>{bb.highlightFirst(t);return M.none()}))}))}))};VE(e,a(t),t,s,n,r,w_.HighlightJustMenu).get(v)}}},cancelEvent:dc()}),qk.config({mode:"special",onDown:(e,t)=>{s(e,t,bb.highlightFirst);return M.some(true)},onEscape:e=>{const t=OE.getCoupled(e,"sandbox");if(Mp.isOpen(t)){Mp.close(t);return M.some(true)}return M.none()},onUp:(e,t)=>{s(e,t,bb.highlightLast);return M.some(true)},onEnter:t=>{const o=OE.getCoupled(t,"sandbox");const n=Mp.isOpen(o);if(n&&!e.previewing.get()){return c(o).bind((e=>bb.getHighlighted(e))).map((e=>{Oc(t,bL(),{item:e});return true}))}else{const s=ph.getValue(t);zc(t,dc());e.onExecute(o,t,s);if(n){Mp.close(o)}return M.some(true)}}}),Bw.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),OE.config({others:{sandbox:t=>$E(e,t,{onOpen:()=>Bw.on(t),onClose:()=>Bw.off(t)})}}),cw(i,[$c((t=>{e.lazyTypeaheadComp.set(M.some(t))})),Gc((t=>{e.lazyTypeaheadComp.set(M.none())})),Yc((t=>{const o=v;ZE(e,a(t),t,n,o,w_.HighlightMenuAndItem).get(v)})),Hc(bL(),((t,o)=>{const n=OE.getCoupled(t,"sandbox");mL(e.model,t,o.event.item);zc(t,dc());e.onItemExecute(t,n,o.event.item,ph.getValue(t));Mp.close(n);pL(t)}))].concat(e.dismissOnBlur?[Hc(oc(),(e=>{const t=OE.getCoupled(e,"sandbox");if(Wu(t.element).isNone()){Mp.close(t)}}))]:[]))];const d={[yc()]:[ph.name(),fL.name(),i],...e.eventOrder};return{uid:e.uid,dom:PC(zs(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...r,...bh(e.typeaheadBehaviours,l)},eventOrder:d}};const kL=x([Ur("lazySink"),Mr("fetch"),Qr("minChars",5),Qr("responseTime",1e3),Td("onOpen"),Qr("getHotspot",M.some),Qr("getAnchorOverrides",x({})),Qr("layouts",M.none()),Qr("eventOrder",{}),ia("model",{},[Qr("getDisplayText",(e=>e.meta!==undefined&&e.meta.text!==undefined?e.meta.text:e.value)),Qr("selectsOver",true),Qr("populateFromBrowse",true)]),Td("onSetValue"),Ed("onExecute"),Td("onItemExecute"),Qr("inputClasses",[]),Qr("inputAttributes",{}),Qr("inputStyles",{}),Qr("matchWidth",true),Qr("useMinWidth",false),Qr("dismissOnBlur",true),zd(["openClass"]),Ur("initialData"),hh("typeaheadBehaviours",[hw,ph,fL,qk,Bw,OE]),Ar("lazyTypeaheadComp",(()=>la(M.none))),Ar("previewing",(()=>la(true)))].concat(LC()).concat(KE()));const wL=x([Kh({schema:[Sd()],name:"menu",overrides:e=>({fakeFocus:true,onHighlightItem:(t,o,n)=>{if(!e.previewing.get()){e.lazyTypeaheadComp.get().each((t=>{if(e.model.populateFromBrowse){mL(e.model,t,n)}}))}else{e.lazyTypeaheadComp.get().each((t=>{yL(e.model,t,n).fold((()=>{if(e.model.selectsOver){bb.dehighlight(o,n);e.previewing.set(true)}else{e.previewing.set(false)}}),(t=>{t();e.previewing.set(false)}))}))}},onExecute:(t,o)=>e.lazyTypeaheadComp.get().map((e=>{Oc(e,bL(),{item:o});return true})),onHover:(t,o)=>{e.previewing.set(false);e.lazyTypeaheadComp.get().each((t=>{if(e.model.populateFromBrowse){mL(e.model,t,o)}}))}})})]);const _L=Ty({name:"Typeahead",configFields:kL(),partFields:wL(),factory:vL});const xL=e=>{const t=()=>xL(e.toCached());const o=t=>xL(e.bind((e=>e.fold((e=>BE.pure(cs.error(e))),(e=>t(e))))));const n=t=>xL(e.map((e=>e.bind(t))));const s=t=>xL(e.map((e=>e.map(t))));const r=t=>xL(e.map((e=>e.mapError(t))));const a=(t,o)=>e.map((e=>e.fold(t,o)));const c=(t,o)=>xL(BE.nu((n=>{let s=false;const r=setTimeout((()=>{s=true;n(cs.error(o()))}),t);e.get((e=>{if(!s){clearTimeout(r);n(e)}}))})));return{...e,toCached:t,bindFuture:o,bindResult:n,mapResult:s,mapError:r,foldResult:a,withTimeout:c}};const CL=e=>xL(BE.nu(e));const SL=e=>xL(BE.pure(cs.value(e)));const zL=e=>xL(BE.pure(cs.error(e)));const OL=e=>xL(BE.pure(e));const TL=e=>xL(e.map(cs.value));const EL=e=>CL((t=>{e.then((e=>{t(cs.value(e))}),(e=>{t(cs.error(e))}))}));const DL={nu:CL,wrap:xL,pure:SL,value:SL,error:zL,fromResult:OL,fromFuture:TL,fromPromise:EL};const AL=e=>({isEnabled:()=>!Jy.isDisabled(e),setEnabled:t=>Jy.set(e,!t),setActive:t=>{const o=e.element;if(t){ul(o,"tox-tbtn--enabled");eo(o,"aria-pressed",true)}else{ml(o,"tox-tbtn--enabled");ro(o,"aria-pressed")}},isActive:()=>gl(e.element,"tox-tbtn--enabled")});const NL=(e,t,o,n)=>bB({text:e.text,icon:e.icon,tooltip:e.tooltip,searchable:e.search.isSome(),role:n,fetch:(t,n)=>{const s={pattern:e.search.isSome()?iD(t):""};e.fetch((t=>{n(EB(t,iC.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:false,search:e.search}))}),s)},onSetup:e.onSetup,getApi:AL,columns:1,presets:"normal",classes:[],dropdownBehaviours:[JD.config({})]},t,o.shared);const ML=(e,t,o)=>{const n=e=>n=>{const s=!n.isActive();n.setActive(s);e.storage.set(s);o.shared.getSink().each((o=>{t().getOpt(o).each((t=>{ju(t.element);Oc(t,lA,{name:e.name,value:e.storage.get()})}))}))};const s=e=>t=>{t.setActive(e.storage.get())};return t=>{t(Z(e,(e=>{const t=e.text.fold((()=>({})),(e=>({text:e})));return{type:e.type,active:false,...t,onAction:n(e),onSetup:s(e)}})))}};const RL=(e,t,o=[],n,s,r)=>{const a=t.fold((()=>({})),(e=>({action:e})));const c={buttonBehaviours:Mu([oO.button((()=>!e.enabled||r.isDisabled())),Xz(),JD.config({}),cw("button press",[Lc("click"),Lc("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...a};const i=zs(c,{dom:n});return zs(i,{components:s})};const BL=(e,t,o,n=[])=>{const s=e.tooltip.map((e=>({"aria-label":o.translate(e),title:o.translate(e)}))).getOr({});const r={tag:"button",classes:["tox-tbtn"],attributes:s};const a=e.icon.map((e=>mB(e,o.icons)));const c=iO([a]);return RL(e,t,n,r,c,o)};const LL=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}};const HL=(e,t,o,n=[],s=[])=>{const r=o.translate(e.text);const a=e.icon.map((e=>mB(e,o.icons)));const c=[a.getOrThunk((()=>jl(r)))];const i=e.buttonType.getOr(!e.primary&&!e.borderless?"secondary":"primary");const l=LL(i);const d=[...l,...a.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...s];const u={tag:"button",classes:d,attributes:{title:r}};return RL(e,t,n,u,c,o)};const IL=(e,t,o,n=[],s=[])=>{const r=HL(e,M.some(t),o,n,s);return M_.sketch(r)};const PL=(e,t)=>o=>{if(t==="custom"){Oc(o,lA,{name:e,value:{}})}else if(t==="submit"){zc(o,dA)}else if(t==="cancel"){zc(o,iA)}else{console.error("Unknown button type: ",t)}};const FL=(e,t)=>t==="menu";const VL=(e,t)=>t==="custom"||t==="cancel"||t==="submit";const jL=(e,t,o)=>{if(FL(e,t)){const t=()=>r;const n=e;const s={...e,type:"menubutton",search:M.none(),onSetup:t=>{t.setEnabled(e.enabled);return v},fetch:ML(n.items,t,o)};const r=R_(NL(s,"tox-tbtn",o,M.none()));return r.asSpec()}else if(VL(e,t)){const n=PL(e.name,t);const s={...e,borderless:false};return IL(s,n,o.shared.providers,[])}else{console.error("Unknown footer button type: ",t);throw new Error("Unknown footer button type")}};const ZL=(e,t)=>{const o=PL(e.name,"custom");return tA(M.none(),GD.parts.field({factory:M_,...HL(e,M.some(o),t,[IR.memory(""),DR.self()])}))};const UL={type:"separator"};const qL=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:v});const WL=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:undefined},onAction:v});const $L=e=>Z(e,qL);const GL=(e,t)=>$(t,(t=>t.type===e));const KL=(e,t)=>$L(GL(e,t));const YL=e=>KL("header",e.targets);const XL=e=>KL("anchor",e.targets);const JL=e=>M.from(e.anchorTop).map((e=>WL("<top>",e))).toArray();const QL=e=>M.from(e.anchorBottom).map((e=>WL("<bottom>",e))).toArray();const eH=e=>Z(e,(e=>WL(e,e)));const tH=e=>K(e,((e,t)=>{const o=e.length===0||t.length===0;return o?e.concat(t):e.concat(UL,t)}),[]);const oH=(e,t)=>{const o=e.toLowerCase();return $(t,(e=>{var t;const n=e.meta!==undefined&&e.meta.text!==undefined?e.meta.text:e.text;const s=(t=e.value)!==null&&t!==void 0?t:"";return Fe(n.toLowerCase(),o)||Fe(s.toLowerCase(),o)}))};const nH=(e,t,o)=>{const n=ph.getValue(t);const s=n.meta.text!==undefined?n.meta.text:n.value;const r=o.getLinkInformation();return r.fold((()=>[]),(t=>{const n=oH(s,eH(o.getHistory(e)));return e==="file"?tH([n,oH(s,YL(t)),oH(s,Q([JL(t),XL(t),QL(t)]))]):n}))};const sH=li("aria-invalid");const rH=(e,t,o,n)=>{const s=t.shared.providers;const r=t=>{const n=ph.getValue(t);o.addToHistory(n.value,e.filetype)};const a={...n.map((e=>({initialData:e}))).getOr({}),dismissOnBlur:true,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":sH,type:"url"},minChars:0,responseTime:0,fetch:n=>{const s=nH(e.filetype,n,o);const r=EB(s,iC.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:false,search:M.none()});return BE.pure(r)},getHotspot:e=>g.getOpt(e),onSetValue:(e,t)=>{if(e.hasConfigured(OA)){OA.run(e).get(v)}},typeaheadBehaviours:Mu([...o.getValidationHandler().map((t=>OA.config({getRoot:e=>Nt(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{d.getOpt(e).each((e=>{eo(e.element,"title",s.translate(t))}))}},validator:{validate:o=>{const n=ph.getValue(o);return DL.nu((o=>{t({type:e.filetype,url:n.value},(e=>{if(e.status==="invalid"){const t=cs.error(e.message);o(t)}else{const t=cs.value(e.message);o(t)}}))}))},validateOnLoad:false}}))).toArray(),Jy.config({disabled:()=>!e.enabled||s.isDisabled()}),JD.config({}),cw("urlinput-events",[Hc(Wa(),(t=>{const o=kl(t.element);const n=o.trim();if(n!==o){wl(t.element,n)}if(e.filetype==="file"){Oc(t,aA,{name:e.name})}})),Hc($a(),(t=>{Oc(t,aA,{name:e.name});r(t)})),Hc(nc(),(t=>{Oc(t,aA,{name:e.name});r(t)}))])]),eventOrder:{[Wa()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:false,populateFromBrowse:false},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:BC(false,1,"normal")},onExecute:(e,t,o)=>{Oc(t,dA,{})},onItemExecute:(t,o,n,s)=>{r(t);Oc(t,aA,{name:e.name})}};const c=GD.parts.field({...a,factory:_L});const i=e.label.map((e=>rA(e,s)));const l=(e,t,o=e,n=e)=>W_(o,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:s.translate(n),"aria-live":"polite",...t.fold((()=>({})),(e=>({id:e})))}},s.icons);const d=R_(l("invalid",M.some(sH),"warning"));const u=R_({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[d.asSpec()]});const f=o.getUrlPicker(e.filetype);const m=li("browser.url.event");const g=R_({dom:{tag:"div",classes:["tox-control-wrap"]},components:[c,u.asSpec()],behaviours:Mu([Jy.config({disabled:()=>!e.enabled||s.isDisabled()})])});const p=R_(IL({name:e.name,icon:M.some("browse"),text:e.label.getOr(""),enabled:e.enabled,primary:false,buttonType:M.none(),borderless:true},(e=>zc(e,m)),s,[],["tox-browse-url"]));const h=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Q([[g.asSpec()],f.map((()=>p.asSpec())).toArray()])});const y=t=>{My.getCurrent(t).each((o=>{const n=ph.getValue(o);const s={fieldname:e.name,...n};f.each((n=>{n(s).get((n=>{ph.setValue(o,n);Oc(t,aA,{name:e.name})}))}))}))};return GD.sketch({dom:nA(),components:i.toArray().concat([h()]),fieldBehaviours:Mu([Jy.config({disabled:()=>!e.enabled||s.isDisabled(),onDisabled:e=>{GD.getField(e).each(Jy.disable);p.getOpt(e).each(Jy.disable)},onEnabled:e=>{GD.getField(e).each(Jy.enable);p.getOpt(e).each(Jy.enable)}}),Xz(),cw("url-input-events",[Hc(m,y)])])})};const aH=(e,t)=>jD.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[M_.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:V_(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:t=>{Oc(t,lA,{name:"alert-banner",value:e.url})},buttonBehaviours:Mu([U_()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]});const cH=(e,t)=>{e.dom.checked=t};const iH=e=>e.dom.checked;const lH=(e,t,o)=>{const n=e=>{e.element.dom.click();return M.some(true)};const s=GD.parts.field({factory:{sketch:C},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Mu([DR.self(),Jy.config({disabled:()=>!e.enabled||t.isDisabled()}),JD.config({}),hw.config({}),IR.withElement(o,iH,cH),qk.config({mode:"special",onEnter:n,onSpace:n,stopSpaceKeyup:true}),cw("checkbox-events",[Hc($a(),((t,o)=>{Oc(t,aA,{name:e.name})}))])])});const r=GD.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[jl(t.translate(e.label))],behaviours:Mu([AA.config({})])});const a=e=>{const o=e==="checked"?"selected":"unselected";return W_(o,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons)};const c=R_({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return GD.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[s,c.asSpec(),r],fieldBehaviours:Mu([Jy.config({disabled:()=>!e.enabled||t.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:e=>{GD.getField(e).each(Jy.disable)},onEnabled:e=>{GD.getField(e).each(Jy.enable)}}),Xz()])})};const dH=e=>{if(e.presets==="presentation"){return jD.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}})}else{return jD.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Mu([JD.config({}),hw.config({})])})}};const uH=e=>(t,o,n,s)=>Ce(o,"name").fold((()=>e(o,s,M.none())),(r=>t.field(r,e(o,s,Ce(n,r)))));const fH=e=>(t,o,n,s)=>{const r=zs(o,{source:"dynamic"});return uH(e)(t,r,n,s)};const mH={bar:uH(((e,t)=>UD(e,t.shared))),collection:uH(((e,t,o)=>pA(e,t.shared.providers,o))),alertbanner:uH(((e,t)=>aH(e,t.shared.providers))),input:uH(((e,t,o)=>tL(e,t.shared.providers,o))),textarea:uH(((e,t,o)=>oL(e,t.shared.providers,o))),label:uH(((e,t)=>iB(e,t.shared))),iframe:fH(((e,t,o)=>nB(e,t.shared.providers,o))),button:uH(((e,t)=>ZL(e,t.shared.providers))),checkbox:uH(((e,t,o)=>lH(e,t.shared.providers,o))),colorinput:uH(((e,t,o)=>LA(e,t.shared,t.colorinput,o))),colorpicker:uH(((e,t,o)=>VR(e,t.shared.providers,o))),dropzone:uH(((e,t,o)=>$R(e,t.shared.providers,o))),grid:uH(((e,t)=>GR(e,t.shared))),listbox:uH(((e,t,o)=>RB(e,t,o))),selectbox:uH(((e,t,o)=>IB(e,t.shared.providers,o))),sizeinput:uH(((e,t)=>XB(e,t.shared.providers))),slider:uH(((e,t,o)=>JB(e,t.shared.providers,o))),urlinput:uH(((e,t,o)=>rH(e,t,t.urlinput,o))),customeditor:uH(UR),htmlpanel:uH(dH),imagepreview:uH(((e,t,o)=>cB(e,o))),table:uH(((e,t)=>QB(e,t.shared.providers))),panel:uH(((e,t)=>BB(e,t)))};const gH={field:(e,t)=>t,record:x([])};const pH=(e,t,o,n)=>{const s=zs(n,{shared:{interpreter:t=>hH(e,t,o,s)}});return hH(e,t,o,s)};const hH=(e,t,o,n)=>Ce(mH,t.type).fold((()=>{console.error(`Unknown factory type "${t.type}", defaulting to container: `,t);return t}),(s=>s(e,t,o,n)));const yH=(e,t,o)=>hH(gH,e,t,o);const bH="layout-inset";const vH=e=>e.x;const kH=(e,t)=>e.x+e.width/2-t.width/2;const wH=(e,t)=>e.x+e.width-t.width;const _H=e=>e.y;const xH=(e,t)=>e.y+e.height-t.height;const CH=(e,t)=>e.y+e.height/2-t.height/2;const SH=(e,t,o)=>Bd(wH(e,t),xH(e,t),o.insetSouthwest(),Zd(),"southwest",Xd(e,{right:0,bottom:3}),bH);const zH=(e,t,o)=>Bd(vH(e),xH(e,t),o.insetSoutheast(),jd(),"southeast",Xd(e,{left:1,bottom:3}),bH);const OH=(e,t,o)=>Bd(wH(e,t),_H(e),o.insetNorthwest(),Vd(),"northwest",Xd(e,{right:0,top:2}),bH);const TH=(e,t,o)=>Bd(vH(e),_H(e),o.insetNortheast(),Fd(),"northeast",Xd(e,{left:1,top:2}),bH);const EH=(e,t,o)=>Bd(kH(e,t),_H(e),o.insetNorth(),Ud(),"north",Xd(e,{top:2}),bH);const DH=(e,t,o)=>Bd(kH(e,t),xH(e,t),o.insetSouth(),qd(),"south",Xd(e,{bottom:3}),bH);const AH=(e,t,o)=>Bd(wH(e,t),CH(e,t),o.insetEast(),$d(),"east",Xd(e,{right:0}),bH);const NH=(e,t,o)=>Bd(vH(e),CH(e,t),o.insetWest(),Wd(),"west",Xd(e,{left:1}),bH);const MH=e=>{switch(e){case"north":return EH;case"northeast":return TH;case"northwest":return OH;case"south":return DH;case"southeast":return zH;case"southwest":return SH;case"east":return AH;case"west":return NH}};const RH=(e,t,o,n,s)=>{const r=uf(n).map(MH).getOr(EH);return r(e,t,o,n,s)};const BH=e=>{switch(e){case"north":return DH;case"northeast":return zH;case"northwest":return SH;case"south":return EH;case"southeast":return TH;case"southwest":return OH;case"east":return NH;case"west":return AH}};const LH=(e,t,o,n,s)=>{const r=uf(n).map(BH).getOr(EH);return r(e,t,o,n,s)};const HH={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]};const IH=(e,t,o)=>{const n=12;const s={maxHeightFunction:qf()};const r=()=>({type:"node",root:Ut(Zt(e())),node:M.from(e()),bubble:Yf(n,n,HH),layouts:{onRtl:()=>[TH],onLtr:()=>[OH]},overrides:s});const a=()=>({type:"hotspot",hotspot:t(),bubble:Yf(-n,n,HH),layouts:{onRtl:()=>[iu],onLtr:()=>[lu]},overrides:s});return()=>o()?r():a()};const PH=(e,t,o)=>{const n=()=>({type:"node",root:Ut(Zt(e())),node:M.from(e()),layouts:{onRtl:()=>[EH],onLtr:()=>[EH]}});const s=()=>({type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[mu],onLtr:()=>[mu]}});return()=>o()?n():s()};const FH=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const t=e.selection.getRng();return M.some(Zm.range(Qe.fromDom(t.startContainer),t.startOffset,Qe.fromDom(t.endContainer),t.endOffset))}});const VH=e=>t=>({type:"node",root:e(),node:t});const jH=(e,t,o)=>{const n=Yx(e);const s=()=>Qe.fromDom(e.getBody());const r=()=>Qe.fromDom(e.getContentAreaContainer());const a=()=>n||!o();return{inlineDialog:IH(r,t,a),banner:PH(r,t,a),cursor:FH(e,s),node:VH(s)}};const ZH=e=>(t,o)=>{const n=WT(e);n(t,o)};const UH=e=>()=>AT(e);const qH=e=>t=>NT(e,t);const WH=e=>t=>DT(e,t);const $H=e=>({colorPicker:ZH(e),hasCustomColors:UH(e),getColors:qH(e),getColorCols:WH(e)});const GH=e=>()=>Mx(e);const KH=e=>({isDraggableModal:GH(e)});const YH=e=>{const t=la(Gx(e)?"bottom":"top");return{isPositionedAtTop:()=>t.get()==="top",getDockingMode:t.get,setDockingMode:t.set}};const XH=e=>ze(e,"items");const JH=e=>ze(e,"format");const QH=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}];const eI=e=>Se(e,"items");const tI=e=>Se(e,"block");const oI=e=>Se(e,"inline");const nI=e=>Se(e,"selector");const sI=e=>K(e,((e,t)=>{if(eI(t)){const o=sI(t.items);return{customFormats:e.customFormats.concat(o.customFormats),formats:e.formats.concat([{title:t.title,items:o.formats}])}}else if(oI(t)||tI(t)||nI(t)){const o=c(t.name)?t.name:t.title.toLowerCase();const n=`custom-${o}`;return{customFormats:e.customFormats.concat([{name:n,format:t}]),formats:e.formats.concat([{title:t.title,format:n,icon:t.icon}])}}else{return{...e,formats:e.formats.concat(t)}}}),{customFormats:[],formats:[]});const rI=(e,t)=>{const o=sI(t);const n=t=>{U(t,(t=>{if(!e.formatter.has(t.name)){e.formatter.register(t.name,t.format)}}))};if(e.formatter){n(o.customFormats)}else{e.on("init",(()=>{n(o.customFormats)}))}return o.formats};const aI=e=>mx(e).map((t=>{const o=rI(e,t);return gx(e)?QH.concat(o):o})).getOr(QH);const cI=e=>{const t=fe(e);return t.length===1&&P(t,"title")};const iI=(e,t,o)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:o(e.format)});const lI=(e,t,o,n)=>{const s=e=>iI(e,o,n);const r=e=>{const t=i(e.items);return{...e,type:"submenu",getStyleItems:x(t)}};const a=t=>{const s=c(t.name)?t.name:li(t.title);const r=`custom-${s}`;const a={...t,type:"formatter",format:r,isSelected:o(r),getStylePreview:n(r)};e.formatter.register(s,a);return a};const i=e=>Z(e,(e=>{if(XH(e)){return r(e)}else if(JH(e)){return s(e)}else if(cI(e)){return{...e,type:"separator"}}else{return a(e)}}));return i(t)};const dI=e=>{const t=t=>()=>e.formatter.match(t);const o=t=>()=>{const o=e.formatter.get(t);return o!==undefined?M.some({tag:o.length>0?o[0].inline||o[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):M.none()};const n=la([]);const s=la([]);const r=la(false);e.on("PreInit",(s=>{const r=aI(e);const a=lI(e,r,t,o);n.set(a)}));e.on("addStyleModifications",(n=>{const a=lI(e,n.items,t,o);s.set(a);r.set(n.replace)}));const a=()=>{const e=r.get()?[]:n.get();const t=s.get();return e.concat(t)};return{getData:a}};const uI=e=>p(e)&&e.nodeType===1;const fI=qR.trim;const mI=e=>t=>{if(uI(t)){if(t.contentEditable===e){return true}if(t.getAttribute("data-mce-contenteditable")===e){return true}}return false};const gI=mI("true");const pI=mI("false");const hI=(e,t,o,n,s)=>({type:e,title:t,url:o,level:n,attach:s});const yI=e=>{let t=e;while(t=t.parentNode){const e=t.contentEditable;if(e&&e!=="inherit"){return gI(t)}}return false};const bI=(e,t)=>Z(ng(Qe.fromDom(t),e),(e=>e.dom));const vI=e=>e.innerText||e.textContent;const kI=e=>e.id?e.id:li("h");const wI=e=>e&&e.nodeName==="A"&&(e.id||e.name)!==undefined;const _I=e=>wI(e)&&CI(e);const xI=e=>e&&/^(H[1-6])$/.test(e.nodeName);const CI=e=>yI(e)&&!pI(e);const SI=e=>xI(e)&&CI(e);const zI=e=>xI(e)?parseInt(e.nodeName.substr(1),10):0;const OI=e=>{var t;const o=kI(e);const n=()=>{e.id=o};return hI("header",(t=vI(e))!==null&&t!==void 0?t:"","#"+o,zI(e),n)};const TI=e=>{const t=e.id||e.name;const o=vI(e);return hI("anchor",o?o:"#"+t,"#"+t,0,v)};const EI=e=>Z($(e,SI),OI);const DI=e=>Z($(e,_I),TI);const AI=e=>{const t=bI("h1,h2,h3,h4,h5,h6,a:not([href])",e);return t};const NI=e=>fI(e.title).length>0;const MI=e=>{const t=AI(e);return $(EI(t).concat(DI(t)),NI)};const RI={find:MI};const BI="tinymce-url-history";const LI=5;const HI=e=>c(e)&&/^https?/.test(e);const II=e=>d(e)&&e.length<=LI&&te(e,HI);const PI=e=>i(e)&&_e(e,(e=>!II(e))).isNone();const FI=()=>{const e=fT.getItem(BI);if(e===null){return{}}let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError){console.log("Local storage "+BI+" was not valid JSON",e);return{}}throw e}if(!PI(t)){console.log("Local storage "+BI+" was not valid format",t);return{}}return t};const VI=e=>{if(!PI(e)){throw new Error("Bad format for history:\n"+JSON.stringify(e))}fT.setItem(BI,JSON.stringify(e))};const jI=e=>{const t=FI();return Ce(t,e).getOr([])};const ZI=(e,t)=>{if(!HI(e)){return}const o=FI();const n=Ce(o,t).getOr([]);const s=$(n,(t=>t!==e));o[t]=[e].concat(s).slice(0,LI);VI(o)};const UI=e=>!!e;const qI=e=>pe(qR.makeMap(e,/[, ]/),UI);const WI=e=>M.from(Ox(e));const $I=e=>{const t=M.from(Ex(e)).filter(UI).map(qI);return WI(e).fold(D,(e=>t.fold(A,(e=>fe(e).length>0?e:false))))};const GI=(e,t)=>{const o=$I(e);if(f(o)){return o?WI(e):M.none()}else{return o[t]?WI(e):M.none()}};const KI=(e,t)=>GI(e,t).map((o=>n=>BE.nu((s=>{const r=(e,t)=>{if(!c(e)){throw new Error("Expected value to be string")}if(t!==undefined&&!i(t)){throw new Error("Expected meta to be a object")}const o={value:e,meta:t};s(o)};const a={filetype:t,fieldname:n.fieldname,...M.from(n.meta).getOr({})};o.call(e,r,n.value,a)}))));const YI=e=>M.from(e).filter(c).getOrUndefined();const XI=e=>{if(!Dx(e)){return M.none()}return M.some({targets:RI.find(e.getBody()),anchorTop:YI(Ax(e)),anchorBottom:YI(Nx(e))})};const JI=e=>M.from(Tx(e));const QI=e=>({getHistory:jI,addToHistory:ZI,getLinkInformation:()=>XI(e),getValidationHandler:()=>JI(e),getUrlPicker:t=>KI(e,t)});const eP=(e,t,o)=>{const n=la(false);const s=YH(t);const r={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:B_.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get};const a=QI(t);const c=dI(t);const i=$H(t);const l=KH(t);const d=()=>n.get();const u=e=>n.set(e);const f={shared:{providers:r,anchors:jH(t,o,s.isPositionedAtTop),header:s},urlinput:a,styles:c,colorinput:i,dialog:l,isContextMenuOpen:d,setContextMenuState:u};const m={...f,shared:{...f.shared,interpreter:e=>yH(e,{},m),getSink:e.popup}};const g={...f,shared:{...f.shared,interpreter:e=>yH(e,{},g),getSink:e.dialog}};return{popup:m,dialog:g}};const tP=(e,t,o)=>{const n=(e,n)=>{U([t,...o],(t=>{t.broadcastEvent(e,n)}))};const s=(e,n)=>{U([t,...o],(t=>{t.broadcastOn([e],n)}))};const r=e=>s(Rp(),{target:e.target});const a=qn();const c=Cf(a,"touchstart",r);const i=Cf(a,"touchmove",(e=>n(fc(),e)));const l=Cf(a,"touchend",(e=>n(mc(),e)));const d=Cf(a,"mousedown",r);const u=Cf(a,"mouseup",(e=>{if(e.raw.button===0){s(Lp(),{target:e.target})}}));const f=e=>s(Rp(),{target:Qe.fromDom(e.target)});const m=e=>{if(e.button===0){s(Lp(),{target:Qe.fromDom(e.target)})}};const g=()=>{U(e.editorManager.get(),(t=>{if(e!==t){t.dispatch("DismissPopups",{relatedTarget:e})}}))};const p=e=>n(gc(),zf(e));const h=e=>{s(Bp(),{});n(pc(),zf(e))};const y=()=>s(Bp(),{});const b=t=>{if(t.state){s(Rp(),{target:Qe.fromDom(e.getContainer())})}};const v=e=>{s(Rp(),{target:Qe.fromDom(e.relatedTarget.getContainer())})};e.on("PostRender",(()=>{e.on("click",f);e.on("tap",f);e.on("mouseup",m);e.on("mousedown",g);e.on("ScrollWindow",p);e.on("ResizeWindow",h);e.on("ResizeEditor",y);e.on("AfterProgressState",b);e.on("DismissPopups",v)}));e.on("remove",(()=>{e.off("click",f);e.off("tap",f);e.off("mouseup",m);e.off("mousedown",g);e.off("ScrollWindow",p);e.off("ResizeWindow",h);e.off("ResizeEditor",y);e.off("AfterProgressState",b);e.off("DismissPopups",v);d.unbind();c.unbind();i.unbind();l.unbind();u.unbind()}));e.on("detach",(()=>{U([t,...o],mp);U([t,...o],(e=>e.destroy()))}))};const oP=yy;const nP=Qh;const sP=x([Qr("shell",false),Mr("makeItem"),Qr("setupItem",v),vh.field("listBehaviours",[rw])]);const rP=()=>({behaviours:Mu([rw.config({})])});const aP=Yh({name:"items",overrides:rP});const cP=x([aP]);const iP=x("CustomList");const lP=(e,t,o,n)=>{const s=(t,o)=>{a(t).fold((()=>{console.error("Custom List was defined to not be a shell, but no item container was specified in components");throw new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(n=>{const s=rw.contents(n);const r=o.length;const a=r-s.length;const c=a>0?V(a,(()=>e.makeItem())):[];const i=s.slice(r);U(i,(e=>rw.remove(n,e)));U(c,(e=>rw.append(n,e)));const l=rw.contents(n);U(l,((n,s)=>{e.setupItem(t,n,o[s],s)}))}))};const r=e.shell?{behaviours:[rw.config({})],components:[]}:{behaviours:[],components:t};const a=t=>e.shell?M.some(t):ly(t,e,"items");return{uid:e.uid,dom:e.dom,components:r.components,behaviours:bh(e.listBehaviours,r.behaviours),apis:{setItems:s}}};const dP=Ty({name:iP(),configFields:sP(),partFields:cP(),factory:lP,apis:{setItems:(e,t,o)=>{e.setItems(t,o)}}});const uP=x([Mr("dom"),Qr("shell",true),hh("toolbarBehaviours",[rw])]);const fP=()=>({behaviours:Mu([rw.config({})])});const mP=x([Yh({name:"groups",overrides:fP})]);const gP=(e,t,o,n)=>{const s=(e,t)=>{r(e).fold((()=>{console.error("Toolbar was defined to not be a shell, but no groups container was specified in components");throw new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(e=>{rw.set(e,t)}))};const r=t=>e.shell?M.some(t):ly(t,e,"groups");const a=e.shell?{behaviours:[rw.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:bh(e.toolbarBehaviours,a.behaviours),apis:{setGroups:s},domModification:{attributes:{role:"group"}}}};const pP=Ty({name:"Toolbar",configFields:uP(),partFields:mP(),factory:gP,apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)}}});const hP=v;const yP=D;const bP=x([]);var vP=Object.freeze({__proto__:null,setup:hP,isDocked:yP,getBehaviours:bP});const kP=e=>{const t=Oe(po(e,"position"),"fixed");const o=t?M.none():Mt(e);return o.orThunk((()=>{const t=Qe.fromTag("span");return At(e).bind((e=>{Bn(e,t);const o=Mt(t);Pn(t);return o}))}))};const wP=e=>kP(e).map(Eo).getOrThunk((()=>zo(0,0)));const _P=ua.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]);const xP=(e,t)=>{const o=e.element;ul(o,t.transitionClass);ml(o,t.fadeOutClass);ul(o,t.fadeInClass);t.onShow(e)};const CP=(e,t)=>{const o=e.element;ul(o,t.transitionClass);ml(o,t.fadeInClass);ul(o,t.fadeOutClass);t.onHide(e)};const SP=(e,t)=>e.y<t.bottom&&e.bottom>t.y;const zP=(e,t)=>e.y>=t.y;const OP=(e,t)=>e.bottom<=t.bottom;const TP=(e,t,o)=>te(e,(e=>{switch(e){case"bottom":return OP(t,o);case"top":return zP(t,o)}}));const EP=(e,t)=>t.getInitialPos().map((t=>es(t.bounds.x,t.bounds.y,Mo(e),_o(e))));const DP=(e,t,o)=>{o.setInitialPos({style:ho(e),position:mo(e,"position")||"static",bounds:t})};const AP=(e,t,o)=>o.getInitialPos().bind((n=>{o.clearInitialPos();switch(n.position){case"static":return M.some(_P.static());case"absolute":const o=kP(e).map(ts).getOrThunk((()=>ts(Xt())));return M.some(_P.absolute(Gu("absolute",Ce(n.style,"left").map((e=>t.x-o.x)),Ce(n.style,"top").map((e=>t.y-o.y)),Ce(n.style,"right").map((e=>o.right-t.right)),Ce(n.style,"bottom").map((e=>o.bottom-t.bottom)))));default:return M.none()}}));const NP=(e,t,o)=>EP(e,o).filter((e=>TP(o.getModes(),e,t))).bind((t=>AP(e,t,o)));const MP=(e,t,o)=>{const n=ts(e);if(!TP(o.getModes(),n,t)){DP(e,n,o);const s=ns();const r=n.x-s.x;const a=t.y-s.y;const c=s.bottom-t.bottom;const i=n.y<=t.y;return M.some(_P.fixed(Gu("fixed",M.some(r),i?M.some(a):M.none(),M.none(),!i?M.some(c):M.none())))}else{return M.none()}};const RP=(e,t,o)=>{const n=e.element;const s=Oe(po(n,"position"),"fixed");return s?NP(n,t,o):MP(n,t,o)};const BP=(e,t)=>{const o=e.element;return EP(o,t).bind((e=>AP(o,e,t)))};const LP=(e,t,o)=>{o.setDocked(false);U(["left","right","top","bottom","position"],(t=>bo(e.element,t)));t.onUndocked(e)};const HP=(e,t,o,n)=>{const s=n.position==="fixed";o.setDocked(s);Yu(e.element,n);const r=s?t.onDocked:t.onUndocked;r(e)};const IP=(e,t,o,n,s=false)=>{t.contextual.each((t=>{t.lazyContext(e).each((r=>{const a=SP(r,n);if(a!==o.isVisible()){o.setVisible(a);if(s&&!a){pl(e.element,[t.fadeOutClass]);t.onHide(e)}else{const o=a?xP:CP;o(e,t)}}}))}))};const PP=(e,t,o)=>{const n=t.lazyViewport(e);const s=o.isDocked();if(s){IP(e,t,o,n)}RP(e,n,o).each((s=>{s.fold((()=>LP(e,t,o)),(n=>HP(e,t,o,n)),(s=>{IP(e,t,o,n,true);HP(e,t,o,s)}))}))};const FP=(e,t,o)=>{const n=e.element;o.setDocked(false);BP(e,o).each((n=>{n.fold((()=>LP(e,t,o)),(n=>HP(e,t,o,n)),v)}));o.setVisible(true);t.contextual.each((t=>{hl(n,[t.fadeInClass,t.fadeOutClass,t.transitionClass]);t.onShow(e)}));VP(e,t,o)};const VP=(e,t,o)=>{if(e.getSystem().isConnected()){PP(e,t,o)}};const jP=(e,t,o)=>{if(o.isDocked()){FP(e,t,o)}};const ZP=(e,t,o)=>o.isDocked();const UP=(e,t,o,n)=>o.setModes(n);const qP=(e,t,o)=>o.getModes();var WP=Object.freeze({__proto__:null,refresh:VP,reset:jP,isDocked:ZP,getModes:qP,setModes:UP});const $P=(e,t)=>Mc([Wc(Ya(),((o,n)=>{e.contextual.each((e=>{if(gl(o.element,e.transitionClass)){hl(o.element,[e.transitionClass,e.fadeInClass]);const n=t.isVisible()?e.onShown:e.onHidden;n(o)}n.stop()}))})),Hc(gc(),((o,n)=>{VP(o,e,t)})),Hc(pc(),((o,n)=>{jP(o,e,t)}))]);var GP=Object.freeze({__proto__:null,events:$P});var KP=[Xr("contextual",[Lr("fadeInClass"),Lr("fadeOutClass"),Lr("transitionClass"),Pr("lazyContext"),Td("onShow"),Td("onShown"),Td("onHide"),Td("onHidden")]),ra("lazyViewport",ns),ca("modes",["top","bottom"],mr),Td("onDocked"),Td("onUndocked")];const YP=e=>{const t=la(false);const o=la(true);const n=_f();const s=la(e.modes);const r=()=>`docked:  ${t.get()}, visible: ${o.get()}, modes: ${s.get().join(",")}`;return Ai({isDocked:t.get,setDocked:t.set,getInitialPos:n.get,setInitialPos:n.set,clearInitialPos:n.clear,isVisible:o.get,setVisible:o.set,getModes:s.get,setModes:s.set,readState:r})};var XP=Object.freeze({__proto__:null,init:YP});const JP=Bu({fields:KP,name:"docking",active:GP,apis:WP,state:XP});const QP=x(li("toolbar-height-change"));const eF={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"};const tF="tox-tinymce--toolbar-sticky-on";const oF="tox-tinymce--toolbar-sticky-off";const nF=(e,t)=>{const o=Ot(t);const n=Dt(t);const s=n.dom.innerHeight;const r=Fn(o);const a=Qe.fromDom(e.elm);const c=os(a);const i=_o(a);const l=c.y;const d=l+i;const u=Eo(t);const f=_o(t);const m=u.top;const g=m+f;const p=Math.abs(m-r.top)<2;const h=Math.abs(g-(r.top+s))<2;if(p&&l<g){Vn(r.left,l-f,o)}else if(h&&d>m){const e=l-s+i+f;Vn(r.left,e,o)}};const sF=(e,t)=>P(JP.getModes(e),t);const rF=e=>{const t=e=>xo(e)+(parseInt(mo(e,"margin-top"),10)||0)+(parseInt(mo(e,"margin-bottom"),10)||0);const o=e.element;Nt(o).each((n=>{const s="padding-"+JP.getModes(e)[0];if(JP.isDocked(e)){const e=Mo(n);lo(o,"width",e+"px");lo(n,s,t(o)+"px")}else{bo(o,"width");bo(n,s)}}))};const aF=(e,t)=>{if(t){ml(e,eF.fadeOutClass);pl(e,[eF.transitionClass,eF.fadeInClass])}else{ml(e,eF.fadeInClass);pl(e,[eF.fadeOutClass,eF.transitionClass])}};const cF=(e,t)=>{const o=Qe.fromDom(e.getContainer());if(t){ul(o,tF);ml(o,oF)}else{ul(o,oF);ml(o,tF)}};const iF=(e,t)=>{const o=Ot(t);qu(o).filter((e=>!St(t,e))).filter((t=>St(t,Qe.fromDom(o.dom.body))||zt(e,t))).each((()=>ju(t)))};const lF=(e,t)=>Wu(e).orThunk((()=>t().toOptional().bind((e=>Wu(e.element)))));const dF=(e,t,o)=>{if(!e.inline){if(!t.header.isPositionedAtTop()){e.on("ResizeEditor",(()=>{o().each(JP.reset)}))}e.on("ResizeWindow ResizeEditor",(()=>{o().each(rF)}));e.on("SkinLoaded",(()=>{o().each((e=>{JP.isDocked(e)?JP.reset(e):JP.refresh(e)}))}));e.on("FullscreenStateChanged",(()=>{o().each(JP.reset)}))}e.on("AfterScrollIntoView",(e=>{o().each((t=>{JP.refresh(t);const o=t.element;if(mv(o)){nF(e,o)}}))}));e.on("PostRender",(()=>{cF(e,false)}))};const uF=e=>e().map(JP.isDocked).getOr(false);const fF=()=>[Pu.config({channels:{[QP()]:{onReceive:rF}}})];const mF=(e,t)=>{const o=_f();const n=t.getSink;const s=e=>{n().each((t=>e(t.element)))};const r=t=>{if(!e.inline){rF(t)}cF(e,JP.isDocked(t));t.getSystem().broadcastOn([Bp()],{});n().each((e=>e.getSystem().broadcastOn([Bp()],{})))};const a=e.inline?[]:fF();return[hw.config({}),JP.config({contextual:{lazyContext:t=>{const o=xo(t.element);const n=e.inline?e.getContentAreaContainer():e.getContainer();const s=ts(Qe.fromDom(n));const r=s.height-o;const a=s.y+(sF(t,"top")?0:o);return M.some(es(s.x,a,s.width,r))},onShow:()=>{s((e=>aF(e,true)))},onShown:e=>{s((e=>hl(e,[eF.transitionClass,eF.fadeInClass])));o.get().each((t=>{iF(e.element,t);o.clear()}))},onHide:e=>{lF(e.element,n).fold(o.clear,o.set);s((e=>aF(e,false)))},onHidden:()=>{s((e=>hl(e,[eF.transitionClass])))},...eF},lazyViewport:t=>{const o=ns();const n=Cx(e);const s=o.y+(sF(t,"top")?n:0);const r=o.height-(sF(t,"bottom")?n:0);return es(o.x,s,o.width,r)},modes:[t.header.getDockingMode()],onDocked:r,onUndocked:r}),...a]};var gF=Object.freeze({__proto__:null,setup:dF,isDocked:uF,getBehaviours:mF});const pF=e=>{const t=e.editor;const o=e.sticky?mF:bP;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Mu(o(t,e.sharedBackstage))}};const hF=sr([fS,Rr("items",ar([lr([mS,Zr("items",mr)]),mr]))].concat(WS));const yF=e=>Cr("GroupToolbarButton",hF,e);const bF=[$r("text"),$r("tooltip"),$r("icon"),ea("search",false,ar([gr,sr([$r("placeholder")])],(e=>{if(f(e)){return e?M.some({placeholder:M.none()}):M.none()}else{return M.some(e)}}))),Pr("fetch"),ra("onSetup",(()=>v))];const vF=sr([fS,...bF]);const kF=e=>Cr("menubutton",vF,e);const wF=sr([fS,OS,zS,SS,DS,vS,xS,na("presets","normal",["normal","color","listpreview"]),BS(1),wS,_S]);const _F=e=>Cr("SplitButton",wF,e);const xF=(e,t)=>{const o=(e,o)=>{const n=Z(o,(e=>{const o={type:"menubutton",text:e.text,fetch:t=>{t(e.getItems())}};const n=kF(o).mapError((e=>Or(e))).getOrDie();return NL(n,"tox-mbtn",t.backstage,M.some("menuitem"))}));rw.set(e,n)};const n={focus:qk.focusIn,setMenus:o};return{uid:e.uid,dom:e.dom,components:[],behaviours:Mu([rw.config({}),cw("menubar-events",[$c((t=>{e.onSetup(t)})),Hc(Va(),((e,t)=>{nd(e.element,"."+"tox-mbtn--active").each((o=>{sd(t.event.target,"."+"tox-mbtn").each((t=>{if(!St(o,t)){e.getSystem().getByDom(o).each((o=>{e.getSystem().getByDom(t).each((e=>{QE.expand(e);QE.close(o);hw.focus(e)}))}))}}))}))})),Hc(kc(),((e,t)=>{t.event.prevFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((o=>{t.event.newFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((e=>{if(QE.isOpen(o)){QE.expand(e);QE.close(o)}}))}))}))]),qk.config({mode:"flow",selector:"."+"tox-mbtn",onEscape:t=>{e.onEscape(t);return M.some(true)}}),JD.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}};var CF=Oy({factory:xF,name:"silver.Menubar",configFields:[Mr("dom"),Mr("uid"),Mr("onEscape"),Mr("backstage"),Qr("onSetup",v)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,o)=>{e.setMenus(t,o)}}});const SF="⚡️Upgrade";const zF="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral";const OF=e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:zF,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:SF}}]});const TF=(e,t)=>t.getAnimationRoot.fold((()=>e.element),(t=>t(e)));const EF=e=>e.dimension.property;const DF=(e,t)=>e.dimension.getDimension(t);const AF=(e,t)=>{const o=TF(e,t);hl(o,[t.shrinkingClass,t.growingClass])};const NF=(e,t)=>{ml(e.element,t.openClass);ul(e.element,t.closedClass);lo(e.element,EF(t),"0px");vo(e.element)};const MF=(e,t)=>{ml(e.element,t.closedClass);ul(e.element,t.openClass);bo(e.element,EF(t))};const RF=(e,t,o,n)=>{o.setCollapsed();lo(e.element,EF(t),DF(t,e.element));AF(e,t);NF(e,t);t.onStartShrink(e);t.onShrunk(e)};const BF=(e,t,o,n)=>{const s=n.getOrThunk((()=>DF(t,e.element)));o.setCollapsed();lo(e.element,EF(t),s);vo(e.element);const r=TF(e,t);ml(r,t.growingClass);ul(r,t.shrinkingClass);NF(e,t);t.onStartShrink(e)};const LF=(e,t,o)=>{const n=DF(t,e.element);const s=n==="0px"?RF:BF;s(e,t,o,M.some(n))};const HF=(e,t,o)=>{const n=TF(e,t);const s=gl(n,t.shrinkingClass);const r=DF(t,e.element);MF(e,t);const a=DF(t,e.element);const c=()=>{lo(e.element,EF(t),r);vo(e.element)};const i=()=>{NF(e,t)};const l=s?c:i;l();ml(n,t.shrinkingClass);ul(n,t.growingClass);MF(e,t);lo(e.element,EF(t),a);o.setExpanded();t.onStartGrow(e)};const IF=(e,t,o)=>{if(o.isExpanded()){bo(e.element,EF(t));const o=DF(t,e.element);lo(e.element,EF(t),o)}};const PF=(e,t,o)=>{if(!o.isExpanded()){HF(e,t,o)}};const FF=(e,t,o)=>{if(o.isExpanded()){LF(e,t,o)}};const VF=(e,t,o)=>{if(o.isExpanded()){RF(e,t,o)}};const jF=(e,t,o)=>o.isExpanded();const ZF=(e,t,o)=>o.isCollapsed();const UF=(e,t,o)=>{const n=TF(e,t);return gl(n,t.growingClass)===true};const qF=(e,t,o)=>{const n=TF(e,t);return gl(n,t.shrinkingClass)===true};const WF=(e,t,o)=>UF(e,t)||qF(e,t);const $F=(e,t,o)=>{const n=o.isExpanded()?LF:HF;n(e,t,o)};const GF=(e,t,o)=>{if(!o.isExpanded()){MF(e,t);lo(e.element,EF(t),DF(t,e.element));AF(e,t);o.setExpanded();t.onStartGrow(e);t.onGrown(e)}};var KF=Object.freeze({__proto__:null,refresh:IF,grow:PF,shrink:FF,immediateShrink:VF,hasGrown:jF,hasShrunk:ZF,isGrowing:UF,isShrinking:qF,isTransitioning:WF,toggleGrow:$F,disableTransitions:AF,immediateGrow:GF});const YF=(e,t,o)=>{const n=t.expanded;return n?Li({classes:[t.openClass],styles:{}}):Li({classes:[t.closedClass],styles:ya(t.dimension.property,"0px")})};const XF=(e,t)=>Mc([Wc(Ya(),((o,n)=>{const s=n.event.raw;if(s.propertyName===e.dimension.property){AF(o,e);if(t.isExpanded()){bo(o.element,e.dimension.property)}const n=t.isExpanded()?e.onGrown:e.onShrunk;n(o)}}))]);var JF=Object.freeze({__proto__:null,exhibit:YF,events:XF});var QF=[Mr("closedClass"),Mr("openClass"),Mr("shrinkingClass"),Mr("growingClass"),Ur("getAnimationRoot"),Td("onShrunk"),Td("onStartShrink"),Td("onGrown"),Td("onStartGrow"),Qr("expanded",false),Rr("dimension",Tr("property",{width:[Nd("property","width"),Nd("getDimension",(e=>Mo(e)+"px"))],height:[Nd("property","height"),Nd("getDimension",(e=>_o(e)+"px"))]}))];const eV=e=>{const t=la(e.expanded);const o=()=>"expanded: "+t.get();return Ai({isExpanded:()=>t.get()===true,isCollapsed:()=>t.get()===false,setCollapsed:z(t.set,false),setExpanded:z(t.set,true),readState:o})};var tV=Object.freeze({__proto__:null,init:eV});const oV=Bu({fields:QF,name:"sliding",active:JF,apis:KF,state:tV});const nV="container";const sV=[hh("slotBehaviours",[])];const rV=e=>"<alloy.field."+e+">";const aV=e=>{const t=(()=>{const e=[];const t=(t,o)=>{e.push(t);return sy(nV,rV(t),o)};return{slot:t,record:x(e)}})();const o=e(t);const n=t.record();const s=Z(n,(e=>Gh({name:e,pname:rV(e)})));return wy(nV,sV,s,cV,o)};const cV=(e,t)=>{const o=t=>my(e);const n=(t,o)=>ly(t,e,o);const s=(t,o)=>(n,s)=>ly(n,e,s).map((e=>t(e,s))).getOr(o);const r=e=>(t,o)=>{U(o,(o=>e(t,o)))};const a=(e,t)=>oo(e.element,"aria-hidden")!=="true";const c=(e,t)=>{if(!a(e)){const o=e.element;bo(o,"display");ro(o,"aria-hidden");Oc(e,wc(),{name:t,visible:true})}};const i=(e,t)=>{if(a(e)){const o=e.element;lo(o,"display","none");eo(o,"aria-hidden","true");Oc(e,wc(),{name:t,visible:false})}};const l=s(a,false);const d=s(i);const u=r(d);const f=e=>u(e,o());const m=s(c);const g={getSlotNames:o,getSlot:n,isShowing:l,hideSlot:d,hideAllSlots:f,showSlot:m};return{uid:e.uid,dom:e.dom,components:t,behaviours:yh(e.slotBehaviours),apis:g}};const iV=pe({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,o)=>e.getSlot(t,o),isShowing:(e,t,o)=>e.isShowing(t,o),hideSlot:(e,t,o)=>e.hideSlot(t,o),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,o)=>e.showSlot(t,o)},(e=>Ei(e)));const lV={...iV,...{sketch:aV}};const dV=sr([zS,OS,ra("onShow",v),ra("onHide",v),xS]);const uV=e=>Cr("sidebar",dV,e);const fV=e=>{const{sidebars:t}=e.ui.registry.getAll();U(fe(t),(o=>{const n=t[o];const s=()=>Oe(M.from(e.queryCommandValue("ToggleSidebar")),o);e.ui.registry.addToggleButton(o,{icon:n.icon,tooltip:n.tooltip,onAction:t=>{e.execCommand("ToggleSidebar",false,o);t.setActive(s())},onSetup:t=>{t.setActive(s());const o=()=>t.setActive(s());e.on("ToggleSidebar",o);return()=>{e.off("ToggleSidebar",o)}}})}))};const mV=e=>({element:()=>e.element.dom});const gV=(e,t)=>{const o=Z(fe(t),(e=>{const o=t[e];const n=Sr(uV(o));return{name:e,getApi:mV,onSetup:n.onSetup,onShow:n.onShow,onHide:n.onHide}}));return Z(o,(t=>{const n=la(v);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Mz.unnamedEvents([sO(t,n),rO(t,n),Hc(wc(),((e,t)=>{const n=t.event;const s=X(o,(e=>e.name===n.name));s.each((t=>{const o=n.visible?t.onShow:t.onHide;o(t.getApi(e))}))}))])})}))};const pV=e=>lV.sketch((t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:gV(t,e),slotBehaviours:Mz.unnamedEvents([$c((e=>lV.hideAllSlots(e)))])})));const hV=(e,t,o)=>{const n=My.getCurrent(e);n.each((e=>{rw.set(e,[pV(t)]);const n=o===null||o===void 0?void 0:o.toLowerCase();if(c(n)&&Se(t,n)){My.getCurrent(e).each((t=>{lV.showSlot(t,n);oV.immediateGrow(e);bo(e.element,"width")}))}}))};const yV=(e,t)=>{const o=My.getCurrent(e);o.each((e=>{const o=My.getCurrent(e);o.each((o=>{if(oV.hasGrown(e)){if(lV.isShowing(o,t)){oV.shrink(e)}else{lV.hideAllSlots(o);lV.showSlot(o,t)}}else{lV.hideAllSlots(o);lV.showSlot(o,t);oV.grow(e)}}))}))};const bV=e=>{const t=My.getCurrent(e);return t.bind((e=>{const t=oV.isGrowing(e)||oV.hasGrown(e);if(t){const t=My.getCurrent(e);return t.bind((e=>X(lV.getSlotNames(e),(t=>lV.isShowing(e,t)))))}else{return M.none()}}))};const vV=li("FixSizeEvent");const kV=li("AutoSizeEvent");const wV=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Mu([JD.config({}),hw.config({}),oV.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{const t=My.getCurrent(e);t.each(lV.hideAllSlots);zc(e,kV)},onGrown:e=>{zc(e,kV)},onStartGrow:e=>{Oc(e,vV,{width:po(e.element,"width").getOr("")})},onStartShrink:e=>{Oc(e,vV,{width:Mo(e.element)+"px"})}}),rw.config({}),My.config({find:e=>{const t=rw.contents(e);return ie(t)}})])}],behaviours:Mu([DR.childAt(0),cw("sidebar-sliding-events",[Hc(vV,((e,t)=>{lo(e.element,"width",t.event.width)})),Hc(kV,((e,t)=>{bo(e.element,"width")}))])])});const _V=(e,t,o,n)=>{eo(e.element,"aria-busy",true);const s=t.getRoot(e).getOr(e);const r=Mu([qk.config({mode:"special",onTab:()=>M.some(true),onShiftTab:()=>M.some(true)}),hw.config({})]);const a=n(s,r);const c=s.getSystem().build(a);rw.append(s,Gl(c));if(c.hasConfigured(qk)&&t.focus){qk.focusIn(c)}if(!o.isBlocked()){t.onBlock(e)}o.blockWith((()=>rw.remove(s,c)))};const xV=(e,t,o)=>{ro(e.element,"aria-busy");if(o.isBlocked()){t.onUnblock(e)}o.clear()};var CV=Object.freeze({__proto__:null,block:_V,unblock:xV});var SV=[ra("getRoot",M.none),sa("focus",true),Td("onBlock"),Td("onUnblock")];const zV=()=>{const e=kf();const t=t=>{e.set({destroy:t})};return Ai({readState:e.isSet,blockWith:t,clear:e.clear,isBlocked:e.isSet})};var OV=Object.freeze({__proto__:null,init:zV});const TV=Bu({fields:SV,name:"blocking",apis:CV,state:OV});const EV=e=>{const t=e.dom.attributes!==undefined?e.dom.attributes:[];return K(t,((e,t)=>{if(t.name==="class"){return e}else{return{...e,[t.name]:t.value}}}),{})};const DV=e=>Array.prototype.slice.call(e.dom.classList,0);const AV=e=>{const t=Qe.fromHtml(e);const o=Bt(t);const n=EV(t);const s=DV(t);const r=o.length===0?{}:{innerHtml:Jc(t)};return{tag:ft(t),classes:s,attributes:n,...r}};const NV=e=>(t,o)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:AV('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]});const MV=e=>My.getCurrent(e).each((e=>ju(e.element)));const RV=(e,t)=>{const o="tabindex";const n=`data-mce-${o}`;M.from(e.iframeElement).map(Qe.fromDom).each((e=>{if(t){no(e,o).each((t=>eo(e,n,t)));eo(e,o,-1)}else{ro(e,o);no(e,n).each((t=>{eo(e,o,t);ro(e,n)}))}}))};const BV=(e,t,o,n)=>{const s=t.element;RV(e,o);if(o){TV.block(t,NV(n));bo(s,"display");ro(s,"aria-hidden");if(e.hasFocus()){MV(t)}}else{const o=My.getCurrent(t).exists((e=>Uu(e.element)));TV.unblock(t);lo(s,"display","none");eo(s,"aria-hidden","true");if(o){e.focus()}}};const LV=e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Mu([rw.config({}),TV.config({focus:false}),My.config({find:e=>ie(e.components())})]),components:[]});const HV=e=>e.type==="focusin";const IV=e=>{if(HV(e)){const t=e.composed?ie(e.composedPath()):M.from(e.target);return t.map(Qe.fromDom).filter(ht).exists((e=>gl(e,"mce-pastebin")))}else{return false}};const PV=(e,t,o)=>{const n=la(false);const s=_f();const r=o=>{if(n.get()&&!IV(o)){o.preventDefault();MV(t());e.editorManager.setActive(e)}};if(!e.inline){e.on("PreInit",(()=>{e.dom.bind(e.getWin(),"focusin",r);e.on("BeforeExecCommand",(e=>{if(e.command.toLowerCase()==="mcefocus"&&e.value!==true){r(e)}}))}))}const a=s=>{if(s!==n.get()){n.set(s);BV(e,t(),s,o.providers);lT(e,s)}};e.on("ProgressState",(t=>{s.on(clearTimeout);if(y(t.time)){const o=A_.setEditorTimeout(e,(()=>a(t.state)),t.time);s.set(o)}else{a(t.state);s.clear()}}))};const FV=(e,t)=>{const o={len:0,list:[]};const n=K(e,((e,o)=>{const n=t(o,e.len);return n.fold(x(e),(t=>({len:t.finish,list:e.list.concat([t])})))}),o);return n.list};const VV=(e,t,o)=>({within:e,extra:t,withinWidth:o});const jV=(e,t,o)=>{const n=FV(e,((e,t)=>{const n=o(e);return M.some({element:e,start:t,finish:t+n,width:n})}));const s=$(n,(e=>e.finish<=t));const r=G(s,((e,t)=>e+t.width),0);const a=n.slice(s.length);return{within:s,extra:a,withinWidth:r}};const ZV=e=>Z(e,(e=>e.element));const UV=(e,t,o)=>{const n=ZV(e.concat(t));return VV(n,[],o)};const qV=(e,t,o,n)=>{const s=ZV(e).concat([o]);return VV(s,ZV(t),n)};const WV=(e,t,o)=>VV(ZV(e),[],o);const $V=(e,t,o)=>{const n=jV(t,e,o);return n.extra.length===0?M.some(n):M.none()};const GV=(e,t,o,n)=>{const s=$V(e,t,o).getOrThunk((()=>jV(t,e-o(n),o)));const r=s.within;const a=s.extra;const c=s.withinWidth;if(a.length===1&&a[0].width<=o(n)){return UV(r,a,c)}else if(a.length>=1){return qV(r,a,n,c)}else{return WV(r,a,c)}};const KV=(e,t)=>{const o=Z(t,(e=>Gl(e)));pP.setGroups(e,o)};const YV=e=>ue(e,(e=>Wu(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()))));const XV=(e,t,o)=>{const n=t.builtGroups.get();if(n.length===0){return}const s=dy(e,t,"primary");const r=OE.getCoupled(e,"overflowGroup");lo(s.element,"visibility","hidden");const a=n.concat([r]);const c=YV(a);o([]);KV(s,a);const i=Mo(s.element);const l=GV(i,t.builtGroups.get(),(e=>Mo(e.element)),r);if(l.extra.length===0){rw.remove(s,r);o([])}else{KV(s,l.within);o(l.extra)}bo(s.element,"visibility");vo(s.element);c.each(hw.focus)};const JV=x([hh("splitToolbarBehaviours",[OE]),Ar("builtGroups",(()=>la([])))]);const QV=x([zd(["overflowToggledClass"]),Kr("getOverflowBounds"),Mr("lazySink"),Ar("overflowGroups",(()=>la([]))),Td("onOpened"),Td("onClosed")].concat(JV()));const ej=x([Gh({factory:pP,schema:uP(),name:"primary"}),Kh({schema:uP(),name:"overflow"}),Kh({name:"overflow-button"}),Kh({name:"overflow-group"})]);const tj=x(((e,t)=>{Bo(e,Math.floor(t))}));const oj=x([zd(["toggledClass"]),Mr("lazySink"),Pr("fetch"),Kr("getBounds"),Xr("fireDismissalEventInstead",[Qr("event",bc())]),sm(),Td("onToggled")]);const nj=x([Kh({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Mu([Bw.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:false,onToggled:e.onToggled})])})}),Kh({factory:pP,schema:uP(),name:"toolbar",overrides:e=>({toolbarBehaviours:Mu([qk.config({mode:"cyclic",onEscape:t=>{ly(t,e,"button").each(hw.focus);return M.none()}})])})})]);const sj=(e,t)=>{const o=OE.getCoupled(e,"toolbarSandbox");if(Mp.isOpen(o)){Mp.close(o)}else{Mp.open(o,t.toolbar())}};const rj=(e,t,o,n)=>{const s=o.getBounds.map((e=>e()));const r=o.lazySink(e).getOrDie();Kg.positionWithinBounds(r,t,{anchor:{type:"hotspot",hotspot:e,layouts:n,overrides:{maxWidthFunction:tj()}}},s)};const aj=(e,t,o,n,s)=>{pP.setGroups(t,s);rj(e,t,o,n);Bw.on(e)};const cj=(e,t,o)=>{const n=cd();const s=(s,r)=>{o.fetch().get((s=>{aj(e,r,o,t.layouts,s);n.link(e.element);qk.focusIn(r)}))};const r=()=>{Bw.off(e);hw.focus(e);n.unlink(e.element)};return{dom:{tag:"div",attributes:{id:n.id}},behaviours:Mu([qk.config({mode:"special",onEscape:e=>{Mp.close(e);return M.some(true)}}),Mp.config({onOpen:s,onClose:r,isPartOf:(t,o,n)=>ld(o,n)||ld(e,n),getAttachPoint:()=>o.lazySink(e).getOrDie()}),Pu.config({channels:{...Ip({isExtraPart:D,...o.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Fp({doReposition:()=>{Mp.getState(OE.getCoupled(e,"toolbarSandbox")).each((n=>{rj(e,n,o,t.layouts)}))}})}})])}};const ij=(e,t,o,n)=>({...M_.sketch({...n.button(),action:e=>{sj(e,n)},buttonBehaviours:vh.augment({dump:n.button().buttonBehaviours},[OE.config({others:{toolbarSandbox:t=>cj(t,o,e)}})])}),apis:{setGroups:(t,n)=>{Mp.getState(OE.getCoupled(t,"toolbarSandbox")).each((s=>{aj(t,s,e,o.layouts,n)}))},reposition:t=>{Mp.getState(OE.getCoupled(t,"toolbarSandbox")).each((n=>{rj(t,n,e,o.layouts)}))},toggle:e=>{sj(e,n)},getToolbar:e=>Mp.getState(OE.getCoupled(e,"toolbarSandbox")),isOpen:e=>Mp.isOpen(OE.getCoupled(e,"toolbarSandbox"))}});const lj=Ty({name:"FloatingToolbarButton",factory:ij,configFields:oj(),partFields:nj(),apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}});const dj=x([Mr("items"),zd(["itemSelector"]),hh("tgroupBehaviours",[qk])]);const uj=x([Xh({name:"items",unit:"item"})]);const fj=(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:bh(e.tgroupBehaviours,[qk.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}});const mj=Ty({name:"ToolbarGroup",configFields:dj(),partFields:uj(),factory:fj});const gj=e=>Z(e,(e=>Gl(e)));const pj=(e,t,o)=>{XV(e,o,(n=>{o.overflowGroups.set(n);t.getOpt(e).each((e=>{lj.setGroups(e,gj(n))}))}))};const hj=(e,t,o,n)=>{const s=R_(lj.sketch({fetch:()=>BE.nu((t=>{t(gj(e.overflowGroups.get()))})),layouts:{onLtr:()=>[lu,iu],onRtl:()=>[iu,lu],onBottomLtr:()=>[uu,du],onBottomRtl:()=>[du,uu]},getBounds:o.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:n["overflow-button"](),toolbar:n.overflow()},onToggled:(t,o)=>e[o?"onOpened":"onClosed"](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:bh(e.splitToolbarBehaviours,[OE.config({others:{overflowGroup:()=>mj.sketch({...n["overflow-group"](),items:[s.asSpec()]})}})]),apis:{setGroups:(t,o)=>{e.builtGroups.set(Z(o,t.getSystem().build));pj(t,s,e)},refresh:t=>pj(t,s,e),toggle:e=>{s.getOpt(e).each((e=>{lj.toggle(e)}))},isOpen:e=>s.getOpt(e).map(lj.isOpen).getOr(false),reposition:e=>{s.getOpt(e).each((e=>{lj.reposition(e)}))},getOverflow:e=>s.getOpt(e).bind(lj.getToolbar)},domModification:{attributes:{role:"group"}}}};const yj=Ty({name:"SplitFloatingToolbar",configFields:QV(),partFields:ej(),factory:hj,apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}});const bj=x([zd(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Td("onOpened"),Td("onClosed")].concat(JV()));const vj=x([Gh({factory:pP,schema:uP(),name:"primary"}),Gh({factory:pP,schema:uP(),name:"overflow",overrides:e=>({toolbarBehaviours:Mu([oV.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{ly(t,e,"overflow-button").each((e=>{Bw.off(e);hw.focus(e)}));e.onClosed(t)},onGrown:t=>{qk.focusIn(t);e.onOpened(t)},onStartGrow:t=>{ly(t,e,"overflow-button").each(Bw.on)}}),qk.config({mode:"acyclic",onEscape:t=>{ly(t,e,"overflow-button").each(hw.focus);return M.some(true)}})])})}),Kh({name:"overflow-button",overrides:e=>({buttonBehaviours:Mu([Bw.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:false})])})}),Kh({name:"overflow-group"})]);const kj=(e,t)=>ly(e,t,"overflow").map(oV.hasGrown).getOr(false);const wj=(e,t)=>{ly(e,t,"overflow-button").bind((()=>ly(e,t,"overflow"))).each((o=>{_j(e,t);oV.toggleGrow(o)}))};const _j=(e,t)=>{ly(e,t,"overflow").each((o=>{XV(e,t,(e=>{const t=Z(e,(e=>Gl(e)));pP.setGroups(o,t)}));ly(e,t,"overflow-button").each((e=>{if(oV.hasGrown(o)){Bw.on(e)}}));oV.refresh(o)}))};const xj=(e,t,o,n)=>{const s="alloy.toolbar.toggle";const r=(t,o)=>{const n=Z(o,t.getSystem().build);e.builtGroups.set(n)};return{uid:e.uid,dom:e.dom,components:t,behaviours:bh(e.splitToolbarBehaviours,[OE.config({others:{overflowGroup:e=>mj.sketch({...n["overflow-group"](),items:[M_.sketch({...n["overflow-button"](),action:t=>{zc(e,s)}})]})}}),cw("toolbar-toggle-events",[Hc(s,(t=>{wj(t,e)}))])]),apis:{setGroups:(t,o)=>{r(t,o);_j(t,e)},refresh:t=>_j(t,e),toggle:t=>wj(t,e),isOpen:t=>kj(t,e)},domModification:{attributes:{role:"group"}}}};const Cj=Ty({name:"SplitSlidingToolbar",configFields:bj(),partFields:vj(),factory:xj,apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}});const Sj=e=>{const t=e.title.fold((()=>({})),(e=>({attributes:{title:e}})));return{dom:{tag:"div",classes:["tox-toolbar__group"],...t},components:[mj.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), "+".tox-split-button:not([disabled]), "+".tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Mu([JD.config({}),hw.config({})])}};const zj=e=>mj.sketch(Sj(e));const Oj=(e,t)=>{const o=$c((t=>{const o=Z(e.initGroups,zj);pP.setGroups(t,o)}));return Mu([oO.toolbarButton(e.providers.isDisabled),Xz(),qk.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),cw("toolbar-events",[o])])};const Tj=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":Sj({title:M.none(),items:[]}),"overflow-button":BL({name:"more",icon:M.some("more-drawer"),enabled:true,tooltip:M.some("More..."),primary:false,buttonType:M.none(),borderless:false},M.none(),e.providers)},splitToolbarBehaviours:Oj(e,t)}};const Ej=e=>{const t=Tj(e);const o=4;const n=yj.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return yj.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const t=e.moreDrawerData.lazyHeader().element;const n=os(t);const s=Et(t);const r=os(s);const a=Math.max(s.dom.scrollHeight,r.height);return es(n.x+o,r.y,n.width-o*2,a)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>e.onToggled(t,true),onClosed:t=>e.onToggled(t,false)})};const Dj=e=>{const t=Cj.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});const o=Cj.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}});const n=Tj(e);return Cj.sketch({...n,components:[t,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>{t.getSystem().broadcastOn([QP()],{type:"opened"});e.onToggled(t,true)},onClosed:t=>{t.getSystem().broadcastOn([QP()],{type:"closed"});e.onToggled(t,false)}})};const Aj=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return pP.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===tx.scrolling?["tox-toolbar--scrolling"]:[])},components:[pP.parts.groups({})],toolbarBehaviours:Oj(e,t)})};const Nj=[Hr("type",["button"]),pS,na("buttonType","secondary",["primary","secondary"]),Pr("onAction")];const Mj=Tr("type",{button:Nj});const Rj=sr([ca("buttons",[],Mj),Pr("onShow"),Pr("onHide")]);const Bj=e=>Cr("view",Rj,e);const Lj=(e,t)=>IL({text:e.text,enabled:true,primary:false,name:"name",icon:M.none(),borderless:false,buttonType:M.some(e.buttonType)},(t=>{e.onAction()}),t);const Hj=e=>{const t=Z(e.buttons,(t=>Lj(t,e.providers)));return{uid:e.uid,dom:{tag:"div",classes:["tox-view__header"]},components:[jD.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),jD.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:t})]}};const Ij=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}});const Pj=(e,t,o,n)=>{const s={getPane:t=>oP.getPart(t,e,"pane"),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:t,apis:s}};var Fj=Ty({name:"silver.View",configFields:[Mr("viewConfig")],partFields:[Yh({factory:{sketch:Hj},schema:[Mr("buttons"),Mr("providers")],name:"header"}),Yh({factory:{sketch:Ij},schema:[],name:"pane"})],factory:Pj,apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const Vj=(e,t,o)=>we(t,((t,n)=>{const s=Sr(Bj(t));return e.slot(n,Fj.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:s,components:[...s.buttons.length>0?[Fj.parts.header({buttons:s.buttons,providers:o})]:[],Fj.parts.pane({})]}))}));const jj=(e,t)=>lV.sketch((o=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:Vj(o,e,t),slotBehaviours:Mz.unnamedEvents([$c((e=>lV.hideAllSlots(e)))])})));const Zj=e=>X(lV.getSlotNames(e),(t=>lV.isShowing(e,t)));const Uj=e=>{const t=e.element;lo(t,"display","none");eo(t,"aria-hidden","true")};const qj=e=>{const t=e.element;bo(t,"display");ro(t,"aria-hidden")};const Wj=e=>({getContainer:x(e)});const $j=(e,t,o)=>{lV.getSlot(e,t).each((e=>{Fj.getPane(e).each((t=>{const n=o(e);n(Wj(t.element.dom))}))}))};const Gj=(e,t)=>$j(e,t,Fj.getOnShow);const Kj=(e,t)=>$j(e,t,Fj.getOnHide);const Yj=(e,t)=>{const o=(e,o)=>{rw.set(e,[jj(o,t.backstage.shared.providers)])};const n=e=>My.getCurrent(e).bind(Zj);const s=(e,t,o,n)=>My.getCurrent(e).exists((s=>{const r=Zj(s);const a=r.exists((e=>n===e));const c=lV.getSlot(s,n).isSome();if(c){lV.hideAllSlots(s);if(!a){o();qj(e);lV.showSlot(s,n);Gj(s,n)}else{Uj(e);t()}r.each((e=>Kj(s,e)))}return c}));const r={setViews:o,whichView:n,toggleView:s};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Mu([rw.config({}),My.config({find:e=>{const t=rw.contents(e);return ie(t)}})]),apis:r}};var Xj=Oy({factory:Yj,name:"silver.ViewWrapper",configFields:[Mr("backstage")],apis:{setViews:(e,t,o)=>e.setViews(t,o),toggleView:(e,t,o,n,s)=>e.toggleView(t,o,n,s),whichView:(e,t)=>e.whichView(t)}});const Jj=(e,t,o)=>{let n=false;const s={getSocket:t=>oP.getPart(t,e,"socket"),setSidebar:(t,o,n)=>{oP.getPart(t,e,"sidebar").each((e=>hV(e,o,n)))},toggleSidebar:(t,o)=>{oP.getPart(t,e,"sidebar").each((e=>yV(e,o)))},whichSidebar:t=>oP.getPart(t,e,"sidebar").bind(bV).getOrNull(),getHeader:t=>oP.getPart(t,e,"header"),getToolbar:t=>oP.getPart(t,e,"toolbar"),setToolbar:(t,o)=>{oP.getPart(t,e,"toolbar").each((e=>{const t=Z(o,zj);e.getApis().setGroups(e,t)}))},setToolbars:(t,o)=>{oP.getPart(t,e,"multiple-toolbar").each((e=>{const t=Z(o,(e=>Z(e,zj)));dP.setItems(e,t)}))},refreshToolbar:t=>{const o=oP.getPart(t,e,"toolbar");o.each((e=>e.getApis().refresh(e)))},toggleToolbarDrawer:t=>{oP.getPart(t,e,"toolbar").each((e=>{Me(e.getApis().toggle,(t=>t(e)))}))},isToolbarDrawerToggled:t=>oP.getPart(t,e,"toolbar").bind((e=>M.from(e.getApis().isOpen).map((t=>t(e))))).getOr(false),getThrobber:t=>oP.getPart(t,e,"throbber"),focusToolbar:t=>{const o=oP.getPart(t,e,"toolbar").orThunk((()=>oP.getPart(t,e,"multiple-toolbar")));o.each((e=>{qk.focusIn(e)}))},setMenubar:(t,o)=>{oP.getPart(t,e,"menubar").each((e=>{CF.setMenus(e,o)}))},focusMenubar:t=>{oP.getPart(t,e,"menubar").each((e=>{CF.focus(e)}))},setViews:(t,o)=>{oP.getPart(t,e,"viewWrapper").each((e=>{Xj.setViews(e,o)}))},toggleView:(t,o)=>oP.getPart(t,e,"viewWrapper").exists((e=>Xj.toggleView(e,(()=>s.showMainView(t)),(()=>s.hideMainView(t)),o))),whichView:t=>oP.getPart(t,e,"viewWrapper").bind(Xj.whichView).getOrNull(),hideMainView:t=>{n=s.isToolbarDrawerToggled(t);if(n){s.toggleToolbarDrawer(t)}oP.getPart(t,e,"editorContainer").each((e=>{const t=e.element;lo(t,"display","none");eo(t,"aria-hidden","true")}))},showMainView:t=>{if(n){s.toggleToolbarDrawer(t)}oP.getPart(t,e,"editorContainer").each((e=>{const t=e.element;bo(t,"display");ro(t,"aria-hidden")}))}};return{uid:e.uid,dom:e.dom,components:t,apis:s,behaviours:e.behaviours}};const Qj=nP.optional({factory:CF,name:"menubar",schema:[Mr("backstage")]});const eZ=e=>{if(e.type===tx.sliding){return Dj}else if(e.type===tx.floating){return Ej}else{return Aj}};const tZ=nP.optional({factory:{sketch:e=>dP.sketch({uid:e.uid,dom:e.dom,listBehaviours:Mu([qk.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Aj({type:e.type,uid:li("multiple-toolbar-item"),cyclicKeying:false,initGroups:[],providers:e.providers,onEscape:()=>{e.onEscape();return M.some(true)}}),setupItem:(e,t,o,n)=>{pP.setGroups(t,o)},shell:true})},name:"multiple-toolbar",schema:[Mr("dom"),Mr("onEscape")]});const oZ=nP.optional({factory:{sketch:e=>{const t=eZ(e);const o={type:e.type,uid:e.uid,onEscape:()=>{e.onEscape();return M.some(true)},onToggled:(t,o)=>e.onToolbarToggled(o),cyclicKeying:false,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes};return t(o)}},name:"toolbar",schema:[Mr("dom"),Mr("onEscape"),Mr("getSink")]});const nZ=nP.optional({factory:{sketch:pF},name:"header",schema:[Mr("dom")]});const sZ=nP.optional({factory:{sketch:OF},name:"promotion",schema:[Mr("dom")]});const rZ=nP.optional({name:"socket",schema:[Mr("dom")]});const aZ=nP.optional({factory:{sketch:wV},name:"sidebar",schema:[Mr("dom")]});const cZ=nP.optional({factory:{sketch:LV},name:"throbber",schema:[Mr("dom")]});const iZ=nP.optional({factory:Xj,name:"viewWrapper",schema:[Mr("backstage")]});const lZ=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components});const dZ=nP.optional({factory:{sketch:lZ},name:"editorContainer",schema:[]});var uZ=Ty({name:"OuterContainer",factory:Jj,configFields:[Mr("dom"),Mr("behaviours")],partFields:[nZ,Qj,oZ,tZ,rZ,aZ,sZ,cZ,iZ,dZ],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,o,n)=>{e.setSidebar(t,o,n)},toggleSidebar:(e,t,o)=>{e.toggleSidebar(t,o)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,o)=>{e.setToolbar(t,o)},setToolbars:(e,t,o)=>{e.setToolbars(t,o)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,o)=>{e.setMenubar(t,o)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,o)=>{e.setViews(t,o)},toggleView:(e,t,o)=>e.toggleView(t,o),whichView:(e,t)=>e.whichView(t)}});const fZ="file edit view insert format tools table help";const mZ={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}};const gZ=(e,t,o)=>{const n=yx(o).split(/[ ,]/);return{text:e.title,getItems:()=>ee(e.items,(e=>{const o=e.toLowerCase();if(o.trim().length===0){return[]}else if(F(n,(e=>e===o))){return[]}else if(o==="separator"||o==="|"){return[{type:"separator"}]}else if(t.menuItems[o]){return[t.menuItems[o]]}else{return[]}}))}};const pZ=e=>e.split(" ");const hZ=(e,t)=>{const o={...mZ,...t.menus};const n=fe(t.menus).length>0;const s=t.menubar===undefined||t.menubar===true?pZ(fZ):pZ(t.menubar===false?"":t.menubar);const r=$(s,(e=>{const o=Se(mZ,e);if(n){return o||Ce(t.menus,e).exists((e=>Se(e,"items")))}else{return o}}));const a=Z(r,(n=>{const s=o[n];return gZ({title:s.title,items:pZ(s.items)},t,e)}));return $(a,(e=>{const t=e=>c(e)||e.type!=="separator";return e.getItems().length>0&&F(e.getItems(),t)}))};const yZ=e=>{const t=()=>{e._skinLoaded=true;nT(e)};return()=>{if(e.initialized){t()}else{e.on("init",t)}}};const bZ=(e,t)=>()=>sT(e,{message:t});const vZ=(e,t,o)=>{e.on("remove",(()=>o.unload(t)));return o.load(t)};const kZ=(e,t)=>{const o=t+"/skin.min.css";return vZ(e,o,e.ui.styleSheetLoader)};const wZ=(e,t)=>{const o=qt(Qe.fromDom(e.getElement()));if(o){const o=t+"/skin.shadowdom.min.css";return vZ(e,o,J_.DOM.styleSheetLoader)}else{return Promise.resolve()}};const _Z=(e,t)=>{const o=Zx(t);if(o){t.contentCSS.push(o+(e?"/content.inline":"/content")+".min.css")}if(!Vx(t)&&c(o)){Promise.all([kZ(t,o),wZ(t,o)]).then(yZ(t),bZ(t,"Skin could not be loaded"))}else{yZ(t)()}};const xZ=z(_Z,false);const CZ=z(_Z,true);const SZ=(e,t)=>o=>{const n=wf();const s=()=>{o.setActive(e.formatter.match(t));const s=e.formatter.formatChanged(t,o.setActive);n.set(s)};e.initialized?s():e.once("init",s);return()=>{e.off("init",s);n.clear()}};const zZ=(e,t,o)=>n=>{const s=()=>o(n);const r=()=>{o(n);e.on(t,s)};e.initialized?r():e.once("init",r);return()=>{e.off("init",r);e.off(t,s)}};const OZ=e=>t=>()=>{e.undoManager.transact((()=>{e.focus();e.execCommand("mceToggleFormat",false,t.format)}))};const TZ=(e,t)=>()=>e.execCommand(t);const EZ=(e,t,o)=>{const n=(e,n,r,a)=>{const c=t.shared.providers.translate(e.title);if(e.type==="separator"){return M.some({type:"separator",text:c})}else if(e.type==="submenu"){const t=ee(e.getStyleItems(),(e=>s(e,n,a)));if(n===0&&t.length<=0){return M.none()}else{return M.some({type:"nestedmenuitem",text:c,enabled:t.length>0,getSubmenuItems:()=>ee(e.getStyleItems(),(e=>s(e,n,a)))})}}else{return M.some({type:"togglemenuitem",text:c,icon:e.icon,active:e.isSelected(a),enabled:!r,onAction:o.onAction(e),...e.getStylePreview().fold((()=>({})),(e=>({meta:{style:e}})))})}};const s=(e,t,s)=>{const r=e.type==="formatter"&&o.isInvalid(e);if(t===0){return r?[]:n(e,t,false,s).toArray()}else{return n(e,t,r,s).toArray()}};const r=e=>{const t=o.getCurrentValue();const n=o.shouldHide?0:1;return ee(e,(e=>s(e,n,t)))};const a=(e,t)=>(o,n)=>{const s=t();const a=r(s);const c=EB(a,iC.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:false,search:M.none()});n(c)};return{validateItems:r,getFetch:a}};const DZ=(e,t,o)=>{const n=o.dataset;const s=n.type==="basic"?()=>Z(n.data,(e=>iI(e,o.isSelectedFor,o.getPreviewFor))):n.getData;return{items:EZ(e,t,o),getStyleItems:s}};const AZ=(e,t,o)=>{const{items:n,getStyleItems:s}=DZ(e,t,o);const r=e=>({getComponent:x(e)});const a=zZ(e,"NodeChange",(e=>{const t=e.getComponent();o.updateText(t)}));return bB({text:o.icon.isSome()?M.none():o.text,icon:o.icon,tooltip:M.from(o.tooltip),role:M.none(),fetch:n.getFetch(t,s),onSetup:a,getApi:r,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};const NZ=e=>Z(e,(e=>{let t=e,o=e;const n=e.split("=");if(n.length>1){t=n[0];o=n[1]}return{title:t,format:o}}));const MZ=e=>({type:"basic",data:e});var RZ;(function(e){e[e["SemiColon"]=0]="SemiColon";e[e["Space"]=1]="Space"})(RZ||(RZ={}));const BZ=(e,t)=>{if(t===RZ.SemiColon){return e.replace(/;$/,"").split(";")}else{return e.split(" ")}};const LZ=(e,t,o)=>{const n=e.options.get(t);const s=NZ(BZ(n,o));return{type:"basic",data:s}};const HZ=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}];const IZ=e=>{const t=()=>X(HZ,(t=>e.formatter.match(t.format)));const o=t=>()=>e.formatter.match(t);const n=e=>M.none;const s=e=>{const o=t();const n=o.fold(x("left"),(e=>e.title.toLowerCase()));Oc(e,yB,{icon:`align-${n}`})};const r=MZ(HZ);const a=t=>()=>X(HZ,(e=>e.format===t.format)).each((t=>e.execCommand(t.command)));return{tooltip:"Align",text:M.none(),icon:M.some("align-left"),isSelectedFor:o,getCurrentValue:M.none,getPreviewFor:n,onAction:a,updateText:s,dataset:r,shouldHide:false,isInvalid:t=>!e.formatter.canApply(t.format)}};const PZ=(e,t)=>AZ(e,t,IZ(e));const FZ=(e,t)=>{const o=DZ(e,t,IZ(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})};const VZ=(e,t)=>{const o=t();const n=Z(o,(e=>e.format));return M.from(e.formatter.closest(n)).bind((e=>X(o,(t=>t.format===e)))).orThunk((()=>Re(e.formatter.match("p"),{title:"Paragraph",format:"p"})))};const jZ=e=>{const t="Paragraph";const o=t=>()=>e.formatter.match(t);const n=t=>()=>{const o=e.formatter.get(t);if(o){return M.some({tag:o.length>0?o[0].inline||o[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}else{return M.none()}};const s=o=>{const n=VZ(e,(()=>r.data));const s=n.fold(x(t),(e=>e.title));Oc(o,hB,{text:s})};const r=LZ(e,"block_formats",RZ.SemiColon);return{tooltip:"Blocks",text:M.some(t),icon:M.none(),isSelectedFor:o,getCurrentValue:M.none,getPreviewFor:n,onAction:OZ(e),updateText:s,dataset:r,shouldHide:false,isInvalid:t=>!e.formatter.canApply(t.format)}};const ZZ=(e,t)=>AZ(e,t,jZ(e));const UZ=(e,t)=>{const o=DZ(e,t,jZ(e));e.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})};const qZ=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"];const WZ=e=>{const t=e.split(/\s*,\s*/);return Z(t,(e=>e.replace(/^['"]+|['"]+$/g,"")))};const $Z=e=>{const t=()=>{const t=WZ(e.toLowerCase());return te(qZ,(e=>t.indexOf(e.toLowerCase())>-1))};return e.indexOf("-apple-system")===0&&t()};const GZ=e=>{const t="System Font";const o=()=>{const o=e=>e?WZ(e)[0]:"";const n=e.queryCommandValue("FontName");const s=i.data;const r=n?n.toLowerCase():"";const a=X(s,(e=>{const t=e.format;return t.toLowerCase()===r||o(t).toLowerCase()===o(r).toLowerCase()})).orThunk((()=>Re($Z(r),{title:t,format:r})));return{matchOpt:a,font:n}};const n=e=>t=>t.exists((t=>t.format===e));const s=()=>{const{matchOpt:e}=o();return e};const r=e=>()=>M.some({tag:"div",styles:e.indexOf("dings")===-1?{"font-family":e}:{}});const a=t=>()=>{e.undoManager.transact((()=>{e.focus();e.execCommand("FontName",false,t.format)}))};const c=e=>{const{matchOpt:t,font:n}=o();const s=t.fold(x(n),(e=>e.title));Oc(e,hB,{text:s})};const i=LZ(e,"font_family_formats",RZ.SemiColon);return{tooltip:"Fonts",text:M.some(t),icon:M.none(),isSelectedFor:n,getCurrentValue:s,getPreviewFor:r,onAction:a,updateText:c,dataset:i,shouldHide:false,isInvalid:D}};const KZ=(e,t)=>AZ(e,t,GZ(e));const YZ=(e,t)=>{const o=DZ(e,t,GZ(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})};const XZ={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"};const JZ={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"};const QZ=(e,t)=>{const o=Math.pow(10,t);return Math.round(e*o)/o};const eU=(e,t)=>{if(/[0-9.]+px$/.test(e)){return QZ(parseInt(e,10)*72/96,t||0)+"pt"}else{return Ce(JZ,e).getOr(e)}};const tU=e=>Ce(XZ,e).getOr("");const oU=e=>{const t=()=>{let t=M.none();const o=c.data;const n=e.queryCommandValue("FontSize");if(n){for(let e=3;t.isNone()&&e>=0;e--){const s=eU(n,e);const r=tU(s);t=X(o,(e=>e.format===n||e.format===s||e.format===r))}}return{matchOpt:t,size:n}};const o=e=>t=>t.exists((t=>t.format===e));const n=()=>{const{matchOpt:e}=t();return e};const s=x(M.none);const r=t=>()=>{e.undoManager.transact((()=>{e.focus();e.execCommand("FontSize",false,t.format)}))};const a=e=>{const{matchOpt:o,size:n}=t();const s=o.fold(x(n),(e=>e.title));Oc(e,hB,{text:s})};const c=LZ(e,"font_size_formats",RZ.Space);return{tooltip:"Font sizes",text:M.some("12pt"),icon:M.none(),isSelectedFor:o,getPreviewFor:s,getCurrentValue:n,onAction:r,updateText:a,dataset:c,shouldHide:false,isInvalid:D}};const nU=(e,t)=>AZ(e,t,oU(e));const sU=(e,t)=>{const o=DZ(e,t,oU(e));e.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})};const rU=(e,t)=>{const o="Paragraph";const n=t=>()=>e.formatter.match(t);const s=t=>()=>{const o=e.formatter.get(t);return o!==undefined?M.some({tag:o.length>0?o[0].inline||o[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):M.none()};const r=t=>{const n=e=>{if(XH(e)){return ee(e.items,n)}else if(JH(e)){return[{title:e.title,format:e.format}]}else{return[]}};const s=ee(aI(e),n);const r=VZ(e,x(s));const a=r.fold(x(o),(e=>e.title));Oc(t,hB,{text:a})};return{tooltip:"Formats",text:M.some(o),icon:M.none(),isSelectedFor:n,getCurrentValue:M.none,getPreviewFor:s,onAction:OZ(e),updateText:r,shouldHide:px(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}};const aU=(e,t)=>{const o={type:"advanced",...t.styles};return AZ(e,t,rU(e,o))};const cU=(e,t)=>{const o={type:"advanced",...t.styles};const n=DZ(e,t,rU(e,o));e.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})};const iU=(e,t)=>{const o=(o,n)=>{e.updateState.each((e=>{const s=e(o,n);t.set(s)}));e.renderComponents.each((s=>{const r=s(n,t.get());const a=e.reuseDom?$k:Wk;a(o,r)}))};return Mc([Hc(sc(),((t,n)=>{const s=n;if(!s.universal){const n=e.channel;if(P(s.channels,n)){o(t,s.data)}}})),$c(((t,n)=>{e.initialData.each((e=>{o(t,e)}))}))])};var lU=Object.freeze({__proto__:null,events:iU});const dU=(e,t,o)=>o;var uU=Object.freeze({__proto__:null,getState:dU});var fU=[Mr("channel"),Ur("renderComponents"),Ur("updateState"),Ur("initialData"),sa("reuseDom",true)];const mU=()=>{const e=la(M.none());const t=()=>e.set(M.none());const o=()=>e.get().getOr("none");return{readState:o,get:e.get,set:e.set,clear:t}};var gU=Object.freeze({__proto__:null,init:mU});const pU=Bu({fields:fU,name:"reflecting",active:lU,apis:uU,state:gU});const hU=x([Mr("toggleClass"),Mr("fetch"),Dd("onExecute"),Qr("getHotspot",M.some),Qr("getAnchorOverrides",x({})),sm(),Dd("onItemExecute"),Ur("lazySink"),Mr("dom"),Td("onOpen"),hh("splitDropdownBehaviours",[OE,qk,hw]),Qr("matchWidth",false),Qr("useMinWidth",false),Qr("eventOrder",{}),Ur("role")].concat(KE()));const yU=Gh({factory:M_,schema:[Mr("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Mu([hw.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(Tc)},buttonBehaviours:Mu([Bw.config({toggleOnExecute:false,toggleClass:e.toggleClass})])})});const bU=Gh({factory:M_,schema:[Mr("dom")],name:"button",defaults:()=>({buttonBehaviours:Mu([hw.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each((o=>{e.onExecute(o,t)}))}})});const vU=x([yU,bU,Yh({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[Mr("text")],name:"aria-descriptor"}),Kh({schema:[Sd()],name:"menu",defaults:e=>({onExecute:(t,o)=>{t.getSystem().getByUid(e.uid).each((n=>{e.onItemExecute(n,t,o)}))}})}),HE()]);const kU=(e,t,o,n)=>{const s=e=>{My.getCurrent(e).each((e=>{bb.highlightFirst(e);qk.focusIn(e)}))};const r=t=>{const o=s;ZE(e,C,t,n,o,w_.HighlightMenuAndItem).get(v)};const a=e=>{r(e);return M.some(true)};const c=t=>{const o=dy(t,e,"button");Tc(o);return M.some(true)};const i={...Mc([$c(((t,o)=>{const n=ly(t,e,"aria-descriptor");n.each((e=>{const o=li("aria");eo(e.element,"id",o);eo(t.element,"aria-describedby",o)}))}))]),...Hw(M.some(r))};const l={repositionMenus:e=>{if(Bw.isOn(e)){GE(e)}}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:{...e.eventOrder,[rc()]:["disabling","toggling","alloy.base.behaviour"]},events:i,behaviours:bh(e.splitDropdownBehaviours,[OE.config({others:{sandbox:t=>{const o=dy(t,e,"arrow");const n={onOpen:()=>{Bw.on(o);Bw.on(t)},onClose:()=>{Bw.off(o);Bw.off(t)}};return $E(e,t,n)}}}),qk.config({mode:"special",onSpace:c,onEnter:c,onDown:a}),hw.config({}),Bw.config({toggleOnExecute:false,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":true}}}};const wU=Ty({name:"SplitDropdown",configFields:hU(),partFields:vU(),factory:kU,apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}});const _U=e=>({isEnabled:()=>!Jy.isDisabled(e),setEnabled:t=>Jy.set(e,!t)});const xU=e=>({setActive:t=>{Bw.set(e,t)},isActive:()=>Bw.isOn(e),isEnabled:()=>!Jy.isDisabled(e),setEnabled:t=>Jy.set(e,!t)});const CU=(e,t)=>e.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({});const SU=li("focus-button");const zU=(e,t,o,n,s,r)=>({dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:CU(o,r)},components:iO([e.map((e=>mB(e,r.icons))),t.map((e=>pB(e,"tox-tbtn",r)))]),eventOrder:{[Ha()]:["focusing","alloy.base.behaviour","common-button-display-events"]},buttonBehaviours:Mu([oO.toolbarButton(r.isDisabled),Xz(),cw("common-button-display-events",[Hc(Ha(),((e,t)=>{t.event.prevent();zc(e,SU)}))])].concat(n.map((o=>pU.config({channel:o,initialData:{icon:e,text:t},renderComponents:(e,t)=>iO([e.icon.map((e=>mB(e,r.icons))),e.text.map((e=>pB(e,"tox-tbtn",r)))])}))).toArray()).concat(s.getOr([])))});const OU=(e,t,o,n)=>{const s=t.shared;return lj.sketch({lazySink:s.getSink,fetch:()=>BE.nu((t=>{t(Z(o(e.items),zj))})),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:zU(e.icon,e.text,e.tooltip,M.none(),M.none(),s.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n}}}})};const TU=(e,t,o)=>{const n=la(v);const s=zU(e.icon,e.text,e.tooltip,M.none(),M.none(),o);return M_.sketch({dom:s.dom,components:s.components,eventOrder:uB,buttonBehaviours:Mu([cw("toolbar-button-events",[dB({onAction:e.onAction,getApi:t.getApi}),sO(t,n),rO(t,n)]),oO.toolbarButton((()=>!e.enabled||o.isDisabled())),Xz()].concat(t.toolbarButtonBehaviours))})};const EU=(e,t)=>DU(e,t,[]);const DU=(e,t,o)=>TU(e,{toolbarButtonBehaviours:o.length>0?[cw("toolbarButtonWith",o)]:[],getApi:_U,onSetup:e.onSetup},t);const AU=(e,t)=>NU(e,t,[]);const NU=(e,t,o)=>TU(e,{toolbarButtonBehaviours:[rw.config({}),Bw.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:false})].concat(o.length>0?[cw("toolbarToggleButtonWith",o)]:[]),getApi:xU,onSetup:e.onSetup},t);const MU=(e,t,o)=>n=>BE.nu((e=>t.fetch(e))).map((s=>M.from(mD(zs(GT(li("menu-value"),s,(o=>{t.onItemAction(e(n),o)}),t.columns,t.presets,iC.CLOSE_ON_EXECUTE,t.select.getOr(D),o),{movement:YT(t.columns,t.presets),menuBehaviours:Mz.unnamedEvents(t.columns!=="auto"?[]:[$c(((e,o)=>{Dz(e,4,EC(t.presets)).each((({numRows:t,numColumns:o})=>{qk.setGridSize(e,t,o)}))}))])})))));const RU=(e,t)=>{const o=li("channel-update-split-dropdown-display");const n=e=>({isEnabled:()=>!Jy.isDisabled(e),setEnabled:t=>Jy.set(e,!t),setIconFill:(t,o)=>{nd(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((e=>{eo(e,"fill",o)}))},setActive:t=>{eo(e.element,"aria-pressed",t);nd(e.element,"span").each((o=>{e.getSystem().getByDom(o).each((e=>Bw.set(e,t)))}))},isActive:()=>nd(e.element,"span").exists((t=>e.getSystem().getByDom(t).exists(Bw.isOn)))});const s=la(v);const r={getApi:n,onSetup:e.onSetup};return wU.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":false,...CU(e.tooltip,t.providers)}},onExecute:t=>{e.onAction(n(t))},onItemExecute:(e,t,o)=>{},splitDropdownBehaviours:Mu([oO.splitButton(t.providers.isDisabled),Xz(),cw("split-dropdown-events",[Hc(SU,hw.focus),sO(r,s),rO(r,s)]),AA.config({})]),eventOrder:{[hc()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:MU(n,e,t.providers),parts:{menu:BC(false,e.columns,e.presets)},components:[wU.parts.button(zU(e.icon,e.text,M.none(),M.some(o),M.some([Bw.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:false})]),t.providers)),wU.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:V_("chevron-down",t.providers.icons)},buttonBehaviours:Mu([oO.splitButton(t.providers.isDisabled),Xz(),U_()])}),wU.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})};const BU=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}];const LU=(e,t)=>(o,n,s)=>{const r=e(o).mapError((e=>Or(e))).getOrDie();return t(r,n,s)};const HU={button:LU(GS,((e,t)=>EU(e,t.shared.providers))),togglebutton:LU(XS,((e,t)=>AU(e,t.shared.providers))),menubutton:LU(kF,((e,t)=>NL(e,"tox-tbtn",t,M.none()))),splitbutton:LU(_F,((e,t)=>RU(e,t.shared))),grouptoolbarbutton:LU(yF,((e,t,o)=>{const n=o.ui.registry.getAll().buttons;const s=e=>qU(o,{buttons:n,toolbar:e,allowToolbarGroups:false},t,M.none());const r={[om]:t.shared.header.isPositionedAtTop()?tm.TopToBottom:tm.BottomToTop};switch(bx(o)){case tx.floating:return OU(e,t,s,r);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}))};const IU=(e,t,o)=>Ce(HU,e.type).fold((()=>{console.error("skipping button defined by",e);return M.none()}),(n=>M.some(n(e,t,o))));const PU={styles:aU,fontsize:nU,fontfamily:KZ,blocks:ZZ,align:PZ};const FU=e=>{const t=Z(BU,(t=>{const o=$(t.items,(t=>Se(e,t)||Se(PU,t)));return{name:t.name,items:o}}));return $(t,(e=>e.items.length>0))};const VU=e=>{const t=e.split("|");return Z(t,(e=>({items:e.trim().split(" ")})))};const jU=e=>b(e,(e=>Se(e,"name")&&Se(e,"items")));const ZU=e=>{const t=e.toolbar;const o=e.buttons;if(t===false){return[]}else if(t===undefined||t===true){return FU(o)}else if(c(t)){return VU(t)}else if(jU(t)){return t}else{console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]");return[]}};const UU=(e,t,o,n,s,r)=>Ce(t,o.toLowerCase()).orThunk((()=>r.bind((e=>ue(e,(e=>Ce(t,e+o.toLowerCase()))))))).fold((()=>Ce(PU,o.toLowerCase()).map((t=>t(e,s)))),(t=>{if(t.type==="grouptoolbarbutton"&&!n){console.warn(`Ignoring the '${o}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`);return M.none()}else{return IU(t,s,e)}}));const qU=(e,t,o,n)=>{const s=ZU(t);const r=Z(s,(s=>{const r=ee(s.items,(s=>s.trim().length===0?[]:UU(e,t.buttons,s,t.allowToolbarGroups,o,n).toArray()));return{title:M.from(e.translate(s.name)),items:r}}));return $(r,(e=>e.items.length>0))};const WU=(e,t,o,n)=>{const s=t.mainUi.outerContainer;const r=o.toolbar;const a=o.buttons;if(b(r,c)){const t=r.map((t=>{const s={toolbar:t,buttons:a,allowToolbarGroups:o.allowToolbarGroups};return qU(e,s,n,M.none())}));uZ.setToolbars(s,t)}else{uZ.setToolbar(s,qU(e,o,n,M.none()))}};const $U=Cn();const GU=$U.os.isiOS()&&$U.os.version.major<=12;const KU=(e,t)=>{const{uiMotherships:o}=t;const n=e.dom;let s=e.getWin();const r=e.getDoc().documentElement;const a=la(zo(s.innerWidth,s.innerHeight));const c=la(zo(r.offsetWidth,r.offsetHeight));const i=()=>{const t=a.get();if(t.left!==s.innerWidth||t.top!==s.innerHeight){a.set(zo(s.innerWidth,s.innerHeight));aT(e)}};const l=()=>{const t=e.getDoc().documentElement;const o=c.get();if(o.left!==t.offsetWidth||o.top!==t.offsetHeight){c.set(zo(t.offsetWidth,t.offsetHeight));aT(e)}};const d=t=>{cT(e,t)};n.bind(s,"resize",i);n.bind(s,"scroll",d);const u=Sf(Qe.fromDom(e.getBody()),"load",l);e.on("hide",(()=>{U(o,(e=>{lo(e.element,"display","none")}))}));e.on("show",(()=>{U(o,(e=>{bo(e.element,"display")}))}));e.on("NodeChange",l);e.on("remove",(()=>{u.unbind();n.unbind(s,"resize",i);n.unbind(s,"scroll",d);s=null}))};const YU=(e,t)=>{dp(e,t.dialogUi.mothership)};const XU=(e,t,o,n,s)=>{const{mainUi:r,uiMotherships:a}=t;const c=la(0);const i=r.outerContainer;xZ(e);const l=Qe.fromDom(s.targetNode);const d=Ut(Zt(l));up(l,r.mothership);YU(d,t);e.on("PostRender",(()=>{uZ.setSidebar(i,o.sidebar,Px(e));WU(e,t,o,n);c.set(e.getWin().innerWidth);uZ.setMenubar(i,hZ(e,o));uZ.setViews(i,o.views);KU(e,t)}));const f=uZ.getSocket(i).getOrDie("Could not find expected socket element");if(GU){uo(f.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const t=rL((()=>{e.dispatch("ScrollContent")}),20);const o=Cf(f.element,"scroll",t.throttle);e.on("remove",o.unbind)}Yz(e,t);e.addCommand("ToggleSidebar",((t,o)=>{uZ.toggleSidebar(i,o);e.dispatch("ToggleSidebar")}));e.addQueryValueHandler("ToggleSidebar",(()=>{var e;return(e=uZ.whichSidebar(i))!==null&&e!==void 0?e:""}));e.addCommand("ToggleView",((t,o)=>{if(uZ.toggleView(i,o)){const t=i.element;r.mothership.broadcastOn([Rp()],{target:t});U(a,(e=>{e.broadcastOn([Rp()],{target:t})}));if(u(uZ.whichView(i))){e.focus();e.nodeChanged()}}}));e.addQueryValueHandler("ToggleView",(()=>{var e;return(e=uZ.whichView(i))!==null&&e!==void 0?e:""}));const m=bx(e);const g=()=>{uZ.refreshToolbar(t.mainUi.outerContainer)};if(m===tx.sliding||m===tx.floating){e.on("ResizeWindow ResizeEditor ResizeContent",(()=>{const t=e.getWin().innerWidth;if(t!==c.get()){g();c.set(t)}}))}const p={setEnabled:e=>{Kz(t,!e)},isEnabled:()=>!Jy.isDisabled(i)};return{iframeContainer:f.element.dom,editorContainer:i.element.dom,api:p}};var JU=Object.freeze({__proto__:null,render:XU});const QU=e=>{const t=/^[0-9\.]+(|px)$/i;if(t.test(""+e)){return M.some(parseInt(""+e,10))}return M.none()};const eq=e=>y(e)?e+"px":e;const tq=(e,t,o)=>{const n=t.filter((t=>e<t));const s=o.filter((t=>e>t));return n.or(s).getOr(e)};const oq=e=>{const t=cx(e);const o=dx(e);const n=fx(e);return QU(t).map((e=>tq(e,o,n)))};const nq=e=>{const t=oq(e);return t.getOr(cx(e))};const sq=e=>{const t=ix(e);const o=lx(e);const n=ux(e);return QU(t).map((e=>tq(e,o,n)))};const rq=e=>{const t=sq(e);return t.getOr(ix(e))};const{ToolbarLocation:aq,ToolbarMode:cq}=tC;const iq=(e,t,o,n,s)=>{const{mainUi:r,uiMotherships:a}=o;const c=J_.DOM;const i=Yx(e);const l=Qx(e);const d=ux(e).or(sq(e));const u=n.shared.header;const f=u.isPositionedAtTop;const m=bx(e);const g=m===cq.sliding||m===cq.floating;const p=la(false);const h=()=>p.get()&&!e.removed;const y=e=>g?e.fold(x(0),(e=>e.components().length>1?_o(e.components()[1].element):0)):0;const b=o=>{switch(kx(e)){case aq.auto:const e=uZ.getToolbar(r.outerContainer);const n=y(e);const s=_o(o.element)-n;const a=ts(t);const c=a.y>s;if(c){return"top"}else{const e=Et(t);const o=Math.max(e.dom.scrollHeight,_o(e));const n=a.bottom<o-s;if(n){return"bottom"}else{const e=ns();const t=e.bottom<a.bottom-s;return t?"bottom":"top"}}case aq.bottom:return"bottom";case aq.top:default:return"top"}};const v=e=>{s.on((t=>{JP.setModes(t,[e]);u.setDockingMode(e);const o=f()?tm.TopToBottom:tm.BottomToTop;eo(t.element,om,o)}))};const k=()=>{s.on((e=>{const o=d.getOrThunk((()=>{const e=QU(mo(Xt(),"margin-left")).getOr(0);return Mo(Xt())-Eo(t).left+e}));lo(e.element,"max-width",o+"px")}))};const w=()=>{s.on((e=>{const o=uZ.getToolbar(r.outerContainer);const n=y(o);const s=ts(t);const a=f()?Math.max(s.y-_o(e.element)+n,0):s.bottom;uo(r.outerContainer.element,{position:"absolute",top:Math.round(a)+"px",left:Math.round(s.x)+"px"})}))};const _=()=>{U(a,(e=>{e.broadcastOn([Bp()],{})}))};const C=(e=false)=>{if(!h()){return}if(!i){k()}if(g){uZ.refreshToolbar(r.outerContainer)}if(!i){w()}if(l){const t=e?JP.reset:JP.refresh;s.on(t)}_()};const S=(e=true)=>{if(i||!l||!h()){return}s.on((t=>{const o=u.getDockingMode();const n=b(t);if(n!==o){v(n);if(e){C(true)}}}))};const z=()=>{p.set(true);lo(r.outerContainer.element,"display","flex");c.addClass(e.getBody(),"mce-edit-focus");U(a,(e=>{bo(e.element,"display")}));S(false);C()};const O=()=>{p.set(false);lo(r.outerContainer.element,"display","none");c.removeClass(e.getBody(),"mce-edit-focus");U(a,(e=>{lo(e.element,"display","none")}))};return{isVisible:h,isPositionedAtTop:f,show:z,hide:O,update:C,updateMode:S,repositionPopups:_}};const lq=(e,t)=>{const o=ts(e);return{pos:t?o.y:o.bottom,bounds:o}};const dq=(e,t,o,n)=>{const s=la(lq(t,o.isPositionedAtTop()));const r=n=>{const{pos:r,bounds:a}=lq(t,o.isPositionedAtTop());const{pos:c,bounds:i}=s.get();const l=a.height!==i.height||a.width!==i.width;s.set({pos:r,bounds:a});if(l){aT(e,n)}if(o.isVisible()){if(c!==r){o.update(true)}else if(l){o.updateMode();o.repositionPopups()}}};if(!n){e.on("activate",o.show);e.on("deactivate",o.hide)}e.on("SkinLoaded ResizeWindow",(()=>o.update(true)));e.on("NodeChange keydown",(e=>{requestAnimationFrame((()=>r(e)))}));e.on("ScrollWindow",(()=>o.updateMode()));const a=wf();a.set(Sf(Qe.fromDom(e.getBody()),"load",(e=>r(e.raw))));e.on("remove",(()=>{a.clear()}))};const uq=(e,t)=>{dp(e,t.dialogUi.mothership)};const fq=(e,t,o,n,s)=>{const{mainUi:r}=t;const a=_f();const c=Qe.fromDom(s.targetNode);const i=iq(e,c,t,n,a);const l=xx(e);CZ(e);const d=()=>{if(a.isSet()){i.show();return}a.set(uZ.getHeader(r.outerContainer).getOrDie());const s=Xx(e);dp(s,r.mothership);uq(s,t);WU(e,t,o,n);uZ.setMenubar(r.outerContainer,hZ(e,o));i.show();dq(e,c,i,l);e.nodeChanged()};e.on("show",d);e.on("hide",i.hide);if(!l){e.on("focus",d);e.on("blur",i.hide)}e.on("init",(()=>{if(e.hasFocus()||l){d()}}));Yz(e,t);const u={show:d,hide:i.hide,setEnabled:e=>{Kz(t,!e)},isEnabled:()=>!Jy.isDisabled(r.outerContainer)};return{editorContainer:r.outerContainer.element.dom,api:u}};var mq=Object.freeze({__proto__:null,render:fq});const gq=()=>{const e=_f();const t=_f();const o=_f();const n=t=>{e.set(t)};const s=(e,t)=>()=>o.get().bind((e=>t(e.outerContainer))).getOrDie(`Could not find ${e} element in OuterContainer`);return{dialogUi:e,popupUi:t,mainUi:o,getUiMotherships:()=>[...e.get().map((e=>e.mothership)).toArray()],setupDialogUi:n,lazyGetInOuterOrDie:s}};const pq="contexttoolbar-show";const hq="contexttoolbar-hide";const yq=e=>({hide:()=>zc(e,lc()),getValue:()=>ph.getValue(e)});const bq=(e,t)=>Hc(lB,((o,n)=>{const s=e.get(o);const r=yq(s);t.onAction(r,n.event.buttonApi)}));const vq=(e,t,o)=>{const{primary:n,...s}=t.original;const r=Sr(GS({...s,type:"button",onAction:v}));return DU(r,o,[bq(e,t)])};const kq=(e,t,o)=>{const{primary:n,...s}=t.original;const r=Sr(XS({...s,type:"togglebutton",onAction:v}));return NU(r,o,[bq(e,t)])};const wq=e=>e.type==="contextformtogglebutton";const _q=(e,t,o)=>{if(wq(t)){return kq(e,t,o)}else{return vq(e,t,o)}};const xq=(e,t,o)=>{const n=Z(t,(t=>R_(_q(e,t,o))));const s=()=>Z(n,(e=>e.asSpec()));const r=e=>ue(t,((t,o)=>{if(t.primary){return M.from(n[o]).bind((t=>t.getOpt(e))).filter(O(Jy.isDisabled))}else{return M.none()}}));return{asSpecs:s,findPrimary:r}};const Cq=(e,t)=>{const o=e.label.fold((()=>({})),(e=>({"aria-label":e})));const n=R_(VC.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:o,selectOnFocus:true,inputBehaviours:Mu([qk.config({mode:"special",onEnter:e=>s.findPrimary(e).map((e=>{Tc(e);return true})),onLeft:(e,t)=>{t.cut();return M.none()},onRight:(e,t)=>{t.cut();return M.none()}})])}));const s=xq(n,e.commands,t);return[{title:M.none(),items:[n.asSpec()]},{title:M.none(),items:s.asSpecs()}]};const Sq=(e,t,o)=>Aj({type:e,uid:li("context-toolbar"),initGroups:Cq(t,o),onEscape:M.none,cyclicKeying:true,providers:o});const zq={renderContextForm:Sq,buildInitGroups:Cq};const Oq=(e,t,o)=>t.bottom-e.y>=o&&e.bottom-t.y>=o;const Tq=e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const o=Pt(Qe.fromDom(e.startContainer),e.startOffset).element;const n=yt(o)?At(o):M.some(o);return n.filter(ht).map((e=>e.dom.getBoundingClientRect())).getOr(t)}else{return t}};const Eq=e=>{const t=e.selection.getRng();const o=Tq(t);if(e.inline){const e=Fn();return es(e.left+o.left,e.top+o.top,o.width,o.height)}else{const t=os(Qe.fromDom(e.getBody()));return es(t.x+o.left,t.y+o.top,o.width,o.height)}};const Dq=(e,t)=>t.filter((e=>Yt(e)&&pt(e))).map(os).getOrThunk((()=>Eq(e)));const Aq=(e,t,o)=>{const n=Math.max(e.x+o,t.x);const s=Math.min(e.right-o,t.right);return{x:n,width:s-n}};const Nq=(e,t,o,n,s,r)=>{const a=Qe.fromDom(e.getContainer());const c=nd(a,".tox-editor-header").getOr(a);const i=ts(c);const l=i.y>=t.bottom;const d=n&&!l;if(e.inline&&d){return{y:Math.max(i.bottom+r,o.y),bottom:o.bottom}}if(e.inline&&!d){return{y:o.y,bottom:Math.min(i.y-r,o.bottom)}}const u=s==="line"?ts(a):t;if(d){return{y:Math.max(i.bottom+r,o.y),bottom:Math.min(u.bottom-r,o.bottom)}}return{y:Math.max(u.y+r,o.y),bottom:Math.min(i.y-r,o.bottom)}};const Mq=(e,t,o,n=0)=>{const s=Un(window);const r=ts(Qe.fromDom(e.getContentAreaContainer()));const a=jx(e)||qx(e)||$x(e);const{x:c,width:i}=Aq(r,s,n);if(e.inline&&!a){return es(c,s.y,i,s.height)}else{const a=t.header.isPositionedAtTop();const{y:l,bottom:d}=Nq(e,r,s,a,o,n);return es(c,l,i,d-l)}};const Rq=12;const Bq={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]};const Lq={maxHeightFunction:qf(),maxWidthFunction:tj()};const Hq=(e,t)=>{const o=e.selection.getRng();const n=Pt(Qe.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&St(n.element,t)};const Iq=(e,t,o)=>{const n=po(e,"position");lo(e,"position",t);const s=o(e);n.each((t=>lo(e,"position",t)));return s};const Pq=e=>e==="node";const Fq=(e,t,o,n,s)=>{const r=Eq(e);const a=n.lastElement().exists((e=>St(o,e)));if(Hq(e,o)){return a?RH:EH}else if(a){return Iq(t,n.getMode(),(()=>{const e=Oq(r,ts(t),-20);return e&&!n.isReposition()?LH:RH}))}else{const e=n.getMode()==="fixed"?s.y+Fn().top:s.y;const o=_o(t)+Rq;return e+o<=r.y?EH:DH}};const Vq=(e,t,o,n)=>{const s=t=>(n,s,r,a,c)=>{const i=Fq(e,a,t,o,c);const l={...n,y:c.y,height:c.height};return{...i(l,s,r,a,c),alwaysFit:true}};const r=e=>Pq(n)?[s(e)]:[];const a={onLtr:e=>[fu,mu,du,iu,uu,lu].concat(r(e)),onRtl:e=>[fu,mu,uu,lu,du,iu].concat(r(e))};const c={onLtr:e=>[mu,iu,lu,du,uu,fu].concat(r(e)),onRtl:e=>[mu,lu,iu,uu,du,fu].concat(r(e))};return t?c:a};const jq=(e,t,o,n)=>{if(t==="line"){return{bubble:Yf(Rq,0,Bq),layouts:{onLtr:()=>[gu],onRtl:()=>[pu]},overrides:Lq}}else{return{bubble:Yf(0,Rq,Bq,1/Rq),layouts:Vq(e,o,n,t),overrides:Lq}}};const Zq=(e,t)=>{const o=$(t,(t=>t.predicate(e.dom)));const{pass:n,fail:s}=W(o,(e=>e.type==="contexttoolbar"));return{contextToolbars:n,contextForms:s}};const Uq=e=>{if(e.length<=1){return e}else{const t=t=>F(e,(e=>e.position===t));const o=t=>$(e,(e=>e.position===t));const n=t("selection");const s=t("node");if(n||s){if(s&&n){const e=o("node");const t=Z(o("selection"),(e=>({...e,position:"node"})));return e.concat(t)}else{return n?o("selection"):o("node")}}else{return o("line")}}};const qq=e=>{if(e.length<=1){return e}else{const t=t=>X(e,(e=>e.position===t));const o=t("selection").orThunk((()=>t("node"))).orThunk((()=>t("line"))).map((e=>e.position));return o.fold((()=>[]),(t=>$(e,(e=>e.position===t))))}};const Wq=(e,t,o)=>{const n=Zq(e,t);if(n.contextForms.length>0){return M.some({elem:e,toolbars:[n.contextForms[0]]})}else{const t=Zq(e,o);if(t.contextForms.length>0){return M.some({elem:e,toolbars:[t.contextForms[0]]})}else if(n.contextToolbars.length>0||t.contextToolbars.length>0){const o=Uq(n.contextToolbars.concat(t.contextToolbars));return M.some({elem:e,toolbars:o})}else{return M.none()}}};const $q=(e,t,o)=>{if(e(t)){return M.none()}else{return xa(t,(e=>{if(ht(e)){const{contextToolbars:t,contextForms:n}=Zq(e,o.inNodeScope);const s=n.length>0?n:qq(t);return s.length>0?M.some({elem:e,toolbars:s}):M.none()}else{return M.none()}}),e)}};const Gq=(e,t)=>{const o=Qe.fromDom(t.getBody());const n=e=>St(e,o);const s=e=>!n(e)&&!zt(o,e);const r=Qe.fromDom(t.selection.getNode());if(s(r)){return M.none()}return Wq(r,e.inNodeScope,e.inEditorScope).orThunk((()=>$q(n,r,e)))};const Kq=(e,t)=>{const o={};const n=[];const s=[];const r={};const a={};const c=(e,c)=>{const i=Sr(rz(c));o[e]=i;i.launch.map((o=>{r["form:"+e+""]={...c.launch,type:o.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{t(i)}}}));if(i.scope==="editor"){s.push(i)}else{n.push(i)}a[e]=i};const i=(e,t)=>{cz(t).each((o=>{if(t.scope==="editor"){s.push(o)}else{n.push(o)}a[e]=o}))};const l=fe(e);U(l,(t=>{const o=e[t];if(o.type==="contextform"){c(t,o)}else if(o.type==="contexttoolbar"){i(t,o)}}));return{forms:o,inNodeScope:n,inEditorScope:s,lookupTable:a,formNavigators:r}};const Yq=li("forward-slide");const Xq=li("backward-slide");const Jq=li("change-slide-event");const Qq="tox-pop--resizing";const eW=e=>{const t=la([]);return D_.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{t.set([]);D_.getContent(e).each((e=>{bo(e.element,"visibility")}));ml(e.element,Qq);bo(e.element,"width")},inlineBehaviours:Mu([cw("context-toolbar-events",[Wc(Ya(),((e,t)=>{if(t.event.raw.propertyName==="width"){ml(e.element,Qq);bo(e.element,"width")}})),Hc(Jq,((e,t)=>{const o=e.element;bo(o,"width");const n=Mo(o);D_.setContent(e,t.event.contents);ul(o,Qq);const s=Mo(o);lo(o,"width",n+"px");D_.getContent(e).each((e=>{t.event.focus.bind((e=>{ju(e);return Wu(o)})).orThunk((()=>{qk.focusIn(e);return qu(Zt(o))}))}));setTimeout((()=>{lo(e.element,"width",s+"px")}),0)})),Hc(Yq,((e,o)=>{D_.getContent(e).each((o=>{t.set(t.get().concat([{bar:o,focus:qu(Zt(e.element))}]))}));Oc(e,Jq,{contents:o.event.forwardContents,focus:M.none()})})),Hc(Xq,((e,o)=>{le(t.get()).each((o=>{t.set(t.get().slice(0,t.get().length-1));Oc(e,Jq,{contents:Gl(o.bar),focus:o.focus})}))}))]),qk.config({mode:"special",onEscape:o=>le(t.get()).fold((()=>e.onEscape()),(e=>{zc(o,Xq);return M.some(true)}))})]),lazySink:()=>cs.value(e.sink)})};const tW="tox-pop--transition";const oW=(e,t,o,n)=>{const s=n.backstage;const r=s.shared;const a=Cn().deviceType.isTouch;const c=_f();const i=_f();const l=_f();const d=$l(eW({sink:o,onEscape:()=>{e.focus();return M.some(true)}}));const u=()=>{const t=l.get().getOr("node");const o=Pq(t)?1:0;return Mq(e,r,t,o)};const f=()=>!e.removed&&!(a()&&s.isContextMenuOpen());const m=e=>Oe(Ae(e,c.get(),St),true);const g=()=>{if(!f()){return true}else{const t=u();const o=Oe(l.get(),"node")?Dq(e,c.get()):Eq(e);return t.height<=0||!Oq(o,t,.01)}};const p=()=>{c.clear();i.clear();l.clear();D_.hide(d)};const h=()=>{if(D_.isOpen(d)){const e=d.element;bo(e,"display");if(g()){lo(e,"display","none")}else{i.set(0);D_.reposition(d)}}};const y=t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Mu([qk.config({mode:"acyclic"}),cw("pop-dialog-wrap-events",[$c((t=>{e.shortcuts.add("ctrl+F9","focus statusbar",(()=>qk.focusIn(t)))})),Gc((t=>{e.shortcuts.remove("ctrl+F9")}))])])});const b=Lo((()=>Kq(t,(e=>{const t=_([e]);Oc(d,Yq,{forwardContents:y(t)})}))));const k=(t,o)=>qU(e,{buttons:t,toolbar:o.items,allowToolbarGroups:false},n.backstage,M.some(["form:"]));const w=(e,t)=>zq.buildInitGroups(e,t);const _=t=>{const{buttons:o}=e.ui.registry.getAll();const n=b();const s={...o,...n.formNavigators};const a=bx(e)===tx.scrolling?tx.scrolling:tx.default;const c=Q(Z(t,(e=>e.type==="contexttoolbar"?k(s,e):w(e,r.providers))));return Aj({type:a,uid:li("context-toolbar"),initGroups:c,onEscape:M.none,cyclicKeying:true,providers:r.providers})};const x=(t,n)=>{const s=t==="node"?r.anchors.node(n):r.anchors.cursor();const l=jq(e,t,a(),{lastElement:c.get,isReposition:()=>Oe(i.get(),0),getMode:()=>Kg.getMode(o)});return zs(s,l)};const C=(e,t)=>{S.cancel();if(!f()){return}const n=_(e);const s=e[0].position;const r=x(s,t);l.set(s);i.set(1);const a=d.element;bo(a,"display");if(!m(t)){ml(a,tW);Kg.reset(o,d)}D_.showWithinBounds(d,y(n),{anchor:r,transition:{classes:[tW],mode:"placement"}},(()=>M.some(u())));t.fold(c.clear,c.set);if(g()){lo(a,"display","none")}};const S=aL((()=>{if(!e.hasFocus()||e.removed){return}if(gl(d.element,tW)){S.throttle()}else{const t=b();Gq(t,e).fold(p,(e=>{C(e.toolbars,M.some(e.elem))}))}}),17);e.on("init",(()=>{e.on("remove",p);e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",h);e.on("click keyup focus SetContent",S.throttle);e.on(hq,p);e.on(pq,(t=>{const o=b();Ce(o.lookupTable,t.toolbarKey).each((o=>{C([o],Re(t.target!==e,t.target));D_.getContent(d).each(qk.focusIn)}))}));e.on("focusout",(t=>{A_.setEditorTimeout(e,(()=>{if(Wu(o.element).isNone()&&Wu(d.element).isNone()){p()}}),0)}));e.on("SwitchMode",(()=>{if(e.mode.isReadOnly()){p()}}));e.on("AfterProgressState",(t=>{if(t.state){p()}else if(e.hasFocus()){S.throttle()}}));e.on("NodeChange",(e=>{Wu(d.element).fold(S.throttle,v)}))}))};const nW=e=>{const t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];U(t,(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:TZ(e,t.cmd),onSetup:SZ(e,t.name)})}));e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:TZ(e,"JustifyNone")})};const sW={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]};const rW=(()=>{const e="[0-9]+";const t="[+-]?"+e;const o="[eE]"+t;const n="\\.";const s=e=>`(?:${e})?`;const r=["Infinity",e+n+s(e)+s(o),n+e+s(o),e+s(o)].join("|");const a=`[+-]?(?:${r})`;return new RegExp(`^(${a})(.*)$`)})();const aW=(e,t)=>F(t,(t=>F(sW[t],(t=>e===t))));const cW=(e,t)=>{const o=M.from(rW.exec(e));return o.bind((e=>{const o=Number(e[1]);const n=e[2];if(aW(n,t)){return M.some({value:o,unit:n})}else{return M.none()}}))};const iW=(e,t)=>cW(e,t).map((({value:e,unit:t})=>e+t));const lW=(e,t)=>{const o=()=>{const o=t.getOptions(e);const n=t.getCurrent(e).map(t.hash);const s=_f();return Z(o,(o=>({type:"togglemenuitem",text:t.display(o),onSetup:r=>{const a=e=>{if(e){s.on((e=>e.setActive(false)));s.set(r)}r.setActive(e)};a(Oe(n,t.hash(o)));const c=t.watcher(e,o,a);return()=>{s.clear();c()}},onAction:()=>t.setCurrent(e,o)})))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(o()),onSetup:t.onToolbarSetup});e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:o,onSetup:t.onMenuSetup})};const dW={name:"lineheight",text:"Line height",icon:"line-height",getOptions:Ux,hash:e=>iW(e,["fixed","relative","empty"]).getOr(e),display:C,watcher:(e,t,o)=>e.formatter.formatChanged("lineheight",o,false,{value:t}).unbind,getCurrent:e=>M.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",false,t)};const uW=e=>{const t=M.from(hx(e));return t.map((t=>({name:"language",text:"Language",icon:"language",getOptions:x(t),hash:e=>m(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,o)=>{var n;return e.formatter.formatChanged("lang",o,false,{value:t.code,customValue:(n=t.customCode)!==null&&n!==void 0?n:null}).unbind},getCurrent:e=>{const t=Qe.fromDom(e.selection.getNode());return Ca(t,(e=>M.some(e).filter(ht).bind((e=>{const t=no(e,"lang");return t.map((t=>{const o=no(e,"data-mce-lang").getOrUndefined();return{code:t,customCode:o,title:""}}))}))))},setCurrent:(e,t)=>e.execCommand("Lang",false,t),onToolbarSetup:t=>{const o=wf();t.setActive(e.formatter.match("lang",{},undefined,true));o.set(e.formatter.formatChanged("lang",t.setActive,true));return o.clear}})))};const fW=e=>{lW(e,dW);uW(e).each((t=>lW(e,t)))};const mW=(e,t)=>{FZ(e,t);YZ(e,t);cU(e,t);UZ(e,t);sU(e,t)};const gW=e=>zZ(e,"NodeChange",(t=>{t.setEnabled(e.queryCommandState("outdent"))}));const pW=e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:gW(e),onAction:TZ(e,"outdent")});e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:TZ(e,"indent")})};const hW=e=>{pW(e)};const yW=(e,t)=>o=>{o.setActive(t.get());const n=e=>{t.set(e.state);o.setActive(e.state)};e.on("PastePlainTextToggle",n);return()=>e.off("PastePlainTextToggle",n)};const bW=e=>{const t=la(Ix(e));const o=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:false,icon:"paste-text",tooltip:"Paste as text",onAction:o,onSetup:yW(e,t)});e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:o,onSetup:yW(e,t)})};const vW=(e,t)=>()=>{e.execCommand("mceToggleFormat",false,t)};const kW=e=>{qR.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],((t,o)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:SZ(e,t.name),onAction:vW(e,t.name)})}));for(let t=1;t<=6;t++){const o="h"+t;e.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+t,onSetup:SZ(e,o),onAction:vW(e,o)})}};const wW=e=>{qR.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:TZ(e,t.action)})}))};const _W=e=>{qR.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:TZ(e,t.action),onSetup:SZ(e,t.name)})}))};const xW=e=>{kW(e);wW(e);_W(e)};const CW=e=>{qR.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:TZ(e,t.action)})}));e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:vW(e,"code")})};const SW=e=>{xW(e);CW(e)};const zW=(e,t)=>zZ(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(o=>{o.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())}));const OW=e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:zW(e,"hasUndo"),onAction:TZ(e,"undo")});e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:zW(e,"hasRedo"),onAction:TZ(e,"redo")})};const TW=e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:false,onSetup:zW(e,"hasUndo"),onAction:TZ(e,"undo")});e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:false,onSetup:zW(e,"hasRedo"),onAction:TZ(e,"redo")})};const EW=e=>{OW(e);TW(e)};const DW=e=>zZ(e,"VisualAid",(t=>{t.setActive(e.hasVisual)}));const AW=e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:DW(e),onAction:TZ(e,"mceToggleVisualAid")})};const NW=e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:TZ(e,"mceToggleVisualAid")})};const MW=e=>{NW(e);AW(e)};const RW=(e,t)=>{nW(e);SW(e);mW(e,t);EW(e);$T(e);MW(e);hW(e);fW(e);bW(e)};const BW=e=>c(e)?e.split(/[ ,]/):e;const LW=e=>t=>t.options.get(e);const HW=e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""});t("contextmenu_never_use_native",{processor:"boolean",default:false});t("contextmenu",{processor:e=>{if(e===false){return{value:[],valid:true}}else if(c(e)||b(e,c)){return{value:BW(e),valid:true}}else{return{valid:false,message:"Must be false or a string."}}},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})};const IW=LW("contextmenu_never_use_native");const PW=LW("contextmenu_avoid_overlap");const FW=e=>VW(e).length===0;const VW=e=>{const t=e.ui.registry.getAll().contextMenus;const o=e.options.get("contextmenu");if(e.options.isSet("contextmenu")){return o}else{return $(o,(e=>Se(t,e)))}};const jW=(e,t)=>({type:"makeshift",x:e,y:t});const ZW=(e,t,o)=>jW(e.x+t,e.y+o);const UW=e=>e.type==="longpress"||e.type.indexOf("touch")===0;const qW=e=>{if(UW(e)){const t=e.touches[0];return jW(t.pageX,t.pageY)}else{return jW(e.pageX,e.pageY)}};const WW=e=>{if(UW(e)){const t=e.touches[0];return jW(t.clientX,t.clientY)}else{return jW(e.clientX,e.clientY)}};const $W=(e,t)=>{const o=J_.DOM.getPos(e);return ZW(t,o.x,o.y)};const GW=(e,t)=>{if(t.type==="contextmenu"||t.type==="longpress"){if(e.inline){return qW(t)}else{return $W(e.getContentAreaContainer(),WW(t))}}else{return KW(e)}};const KW=e=>({type:"selection",root:Qe.fromDom(e.selection.getNode())});const YW=e=>({type:"node",node:M.some(Qe.fromDom(e.selection.getNode())),root:Qe.fromDom(e.getBody())});const XW=(e,t,o)=>{switch(o){case"node":return YW(e);case"point":return GW(e,t);case"selection":return KW(e)}};const JW=(e,t,o,n,s,r)=>{const a=o();const c=XW(e,t,r);EB(a,iC.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:false,search:M.none()}).map((e=>{t.preventDefault();D_.showMenuAt(s,{anchor:c},{menu:{markers:NC("normal")},data:e})}))};const QW={onLtr:()=>[mu,iu,lu,du,uu,fu,EH,DH,TH,zH,OH,SH],onRtl:()=>[mu,lu,iu,uu,du,fu,EH,DH,OH,SH,TH,zH]};const e$=12;const t$={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]};const o$=(e,t)=>{const o=e.selection;if(o.isCollapsed()||t.touches.length<1){return false}else{const n=t.touches[0];const s=o.getRng();const r=dg(e.getWin(),Zm.domRange(s));return r.exists((e=>e.left<=n.clientX&&e.right>=n.clientX&&e.top<=n.clientY&&e.bottom>=n.clientY))}};const n$=e=>{const t=e.selection.getRng();const o=()=>{A_.setEditorTimeout(e,(()=>{e.selection.setRng(t)}),10);r()};e.once("touchend",o);const n=e=>{e.preventDefault();e.stopImmediatePropagation()};e.on("mousedown",n,true);const s=()=>r();e.once("longpresscancel",s);const r=()=>{e.off("touchend",o);e.off("longpresscancel",s);e.off("mousedown",n)}};const s$=(e,t,o)=>{const n=XW(e,t,o);const s=o==="point"?e$:0;return{bubble:Yf(0,s,t$),layouts:QW,overrides:{maxWidthFunction:tj(),maxHeightFunction:qf()},...n}};const r$=(e,t,o,n,s,r,a)=>{const c=s$(e,t,r);EB(o,iC.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:true,search:M.none()}).map((o=>{t.preventDefault();const i=a?w_.HighlightMenuAndItem:w_.HighlightNone;D_.showMenuWithinBounds(s,{anchor:c},{menu:{markers:NC("normal"),highlightOnOpen:i},data:o,type:"horizontal"},(()=>M.some(Mq(e,n.shared,r==="node"?"node":"selection"))));e.dispatch(hq)}))};const a$=(e,t,o,n,s,r)=>{const a=Cn();const c=a.os.isiOS();const i=a.os.isMacOS();const l=a.os.isAndroid();const d=a.deviceType.isTouch();const u=()=>!(l||c||i&&d);const f=()=>{const a=o();r$(e,t,a,n,s,r,u())};if((i||c)&&r!=="node"){const o=()=>{n$(e);f()};if(o$(e,t)){o()}else{e.once("selectionchange",o);e.once("touchend",(()=>e.off("selectionchange",o)))}}else{f()}};const c$=e=>c(e)?e==="|":e.type==="separator";const i$={type:"separator"};const l$=e=>{const t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(c(e)){return e}else{switch(e.type){case"separator":return i$;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const t=e.getSubmenuItems();if(c(t)){return t}else{return Z(t,l$)}}};default:const o=e;return{type:"menuitem",...t(o),onAction:k(o.onAction)}}}};const d$=(e,t)=>{if(t.length===0){return e}const o=le(e).filter((e=>!c$(e)));const n=o.fold((()=>[]),(e=>[i$]));return e.concat(n).concat(t).concat([i$])};const u$=(e,t,o)=>{const n=K(t,((t,n)=>Ce(e,n.toLowerCase()).map((e=>{const n=e.update(o);if(c(n)){return d$(t,n.split(" "))}else if(n.length>0){const e=Z(n,l$);return d$(t,e)}else{return t}})).getOrThunk((()=>t.concat([n])))),[]);if(n.length>0&&c$(n[n.length-1])){n.pop()}return n};const f$=(e,t)=>t.ctrlKey&&!IW(e);const m$=e=>e.type==="longpress"||Se(e,"touches");const g$=(e,t)=>!m$(t)&&(t.button!==2||t.target===e.getBody()&&t.pointerType==="");const p$=(e,t)=>g$(e,t)?e.selection.getStart(true):t.target;const h$=(e,t)=>{const o=PW(e);const n=g$(e,t)?"selection":"point";if(qe(o)){const s=p$(e,t);const r=bD(Qe.fromDom(s),o);return r?"node":n}else{return n}};const y$=(e,t,o)=>{const n=Cn();const s=n.deviceType.isTouch;const r=$l(D_.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>o.setContextMenuState(true),onHide:()=>o.setContextMenuState(false),fireDismissalEventInstead:{},inlineBehaviours:Mu([cw("dismissContextMenu",[Hc(bc(),((t,o)=>{Mp.close(t);e.focus()}))])])}));const a=()=>D_.hide(r);const c=t=>{if(IW(e)){t.preventDefault()}if(f$(e,t)||FW(e)){return}const n=h$(e,t);const a=()=>{const o=p$(e,t);const n=e.ui.registry.getAll();const s=VW(e);return u$(n.contextMenus,s,o)};const c=s()?a$:JW;c(e,t,a,o,r,n)};e.on("init",(()=>{const t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(s()?"":" ResizeWindow");e.on(t,a);e.on("longpress contextmenu",c)}))};const b$=ua.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]);const v$=e=>t=>t.translate(-e.left,-e.top);const k$=e=>t=>t.translate(e.left,e.top);const w$=e=>(t,o)=>K(e,((e,t)=>t(e)),zo(t,o));const _$=(e,t,o)=>e.fold(w$([k$(o),v$(t)]),w$([v$(t)]),w$([]));const x$=(e,t,o)=>e.fold(w$([k$(o)]),w$([]),w$([k$(t)]));const C$=(e,t,o)=>e.fold(w$([]),w$([v$(o)]),w$([k$(t),v$(o)]));const S$=(e,t,o,n,s,r)=>{const a=x$(e,s,r);const c=x$(t,s,r);return Math.abs(a.left-c.left)<=o&&Math.abs(a.top-c.top)<=n};const z$=(e,t,o,n,s,r)=>{const a=x$(e,s,r);const c=x$(t,s,r);const i=Math.abs(a.left-c.left);const l=Math.abs(a.top-c.top);return zo(i,l)};const O$=(e,t,o)=>{const n=e.fold(((e,t)=>({position:M.some("absolute"),left:M.some(e+"px"),top:M.some(t+"px")})),((e,t)=>({position:M.some("absolute"),left:M.some(e-o.left+"px"),top:M.some(t-o.top+"px")})),((e,t)=>({position:M.some("fixed"),left:M.some(e+"px"),top:M.some(t+"px")})));return{right:M.none(),bottom:M.none(),...n}};const T$=(e,t,o)=>e.fold(((e,n)=>D$(e+t,n+o)),((e,n)=>A$(e+t,n+o)),((e,n)=>N$(e+t,n+o)));const E$=(e,t,o,n)=>{const s=(e,s)=>(r,a)=>{const c=e(t,o,n);return s(r.getOr(c.left),a.getOr(c.top))};return e.fold(s(C$,D$),s(x$,A$),s(_$,N$))};const D$=b$.offset;const A$=b$.absolute;const N$=b$.fixed;const M$=(e,t)=>{const o=oo(e,t);return m(o)?NaN:parseInt(o,10)};const R$=(e,t)=>{const o=e.element;const n=M$(o,t.leftAttr);const s=M$(o,t.topAttr);return isNaN(n)||isNaN(s)?M.none():M.some(zo(n,s))};const B$=(e,t,o)=>{const n=e.element;eo(n,t.leftAttr,o.left+"px");eo(n,t.topAttr,o.top+"px")};const L$=(e,t)=>{const o=e.element;ro(o,t.leftAttr);ro(o,t.topAttr)};const H$=(e,t,o,n)=>R$(e,t).fold((()=>o),(e=>N$(e.left+n.left,e.top+n.top)));const I$=(e,t,o,n,s,r)=>{const a=H$(e,t,o,n);const c=t.mustSnap?V$(e,t,a,s,r):j$(e,t,a,s,r);const i=_$(a,s,r);B$(e,t,i);return c.fold((()=>({coord:N$(i.left,i.top),extra:M.none()})),(e=>({coord:e.output,extra:e.extra})))};const P$=(e,t)=>{L$(e,t)};const F$=(e,t,o,n)=>ue(e,(e=>{const s=e.sensor;const r=S$(t,s,e.range.left,e.range.top,o,n);return r?M.some({output:E$(e.output,t,o,n),extra:e.extra}):M.none()}));const V$=(e,t,o,n,s)=>{const r=t.getSnapPoints(e);const a=F$(r,o,n,s);return a.orThunk((()=>{const e=K(r,((e,t)=>{const r=t.sensor;const a=z$(o,r,t.range.left,t.range.top,n,s);return e.deltas.fold((()=>({deltas:M.some(a),snap:M.some(t)})),(o=>{const n=(a.left+a.top)/2;const s=(o.left+o.top)/2;if(n<=s){return{deltas:M.some(a),snap:M.some(t)}}else{return e}}))}),{deltas:M.none(),snap:M.none()});return e.snap.map((e=>({output:E$(e.output,o,n,s),extra:e.extra})))}))};const j$=(e,t,o,n,s)=>{const r=t.getSnapPoints(e);return F$(r,o,n,s)};const Z$=(e,t,o)=>({coord:E$(e.output,e.output,t,o),extra:e.extra});const U$=(e,t,o,n)=>{const s=t.getTarget(e.element);if(t.repositionTarget){const t=Ot(e.element);const o=Fn(t);const r=wP(s);const a=Z$(n,o,r);const c=O$(a.coord,o,r);fo(s,c)}};var q$=Object.freeze({__proto__:null,snapTo:U$});const W$="data-initial-z-index";const $$=e=>{At(e.element).filter(ht).each((e=>{no(e,W$).fold((()=>bo(e,"z-index")),(t=>lo(e,"z-index",t)));ro(e,W$)}))};const G$=e=>{At(e.element).filter(ht).each((t=>{po(t,"z-index").each((e=>{eo(t,W$,e)}));lo(t,"z-index",mo(e.element,"z-index"))}))};const K$=(e,t)=>{e.getSystem().addToGui(t);G$(t)};const Y$=e=>{$$(e);e.getSystem().removeFromGui(e)};const X$=(e,t,o)=>e.getSystem().build(jD.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:o}));var J$=Xr("snaps",[Mr("getSnapPoints"),Td("onSensor"),Mr("leftAttr"),Mr("topAttr"),Qr("lazyViewport",ns),Qr("mustSnap",false)]);const Q$=[Qr("useFixed",D),Mr("blockerClass"),Qr("getTarget",C),Qr("onDrag",v),Qr("repositionTarget",true),Qr("onDrop",v),ra("getBounds",ns),J$];const eG=e=>Ne(po(e,"left"),po(e,"top"),po(e,"position"),((e,t,o)=>{const n=o==="fixed"?N$:D$;return n(parseInt(e,10),parseInt(t,10))})).getOrThunk((()=>{const t=Eo(e);return A$(t.left,t.top)}));const tG=(e,t,o,n,s)=>{const r=s.bounds;const a=x$(t,o,n);const c=Kd(a.left,r.x,r.x+r.width-s.width);const i=Kd(a.top,r.y,r.y+r.height-s.height);const l=A$(c,i);return t.fold((()=>{const e=C$(l,o,n);return D$(e.left,e.top)}),x(l),(()=>{const e=_$(l,o,n);return N$(e.left,e.top)}))};const oG=(e,t,o,n,s,r,a)=>{const c=t.fold((()=>{const e=T$(o,r.left,r.top);const t=_$(e,n,s);return N$(t.left,t.top)}),(t=>{const a=I$(e,t,o,r,n,s);a.extra.each((o=>{t.onSensor(e,o)}));return a.coord}));return tG(e,c,n,s,a)};const nG=(e,t,o,n)=>{const s=t.getTarget(e.element);if(t.repositionTarget){const r=Ot(e.element);const a=Fn(r);const c=wP(s);const i=eG(s);const l=oG(e,t.snaps,i,a,c,n,o);const d=O$(l,a,c);fo(s,d)}t.onDrag(e,s,n)};const sG=(e,t)=>({bounds:e.getBounds(),height:xo(t.element),width:Ro(t.element)});const rG=(e,t,o,n,s)=>{const r=o.update(n,s);const a=o.getStartData().getOrThunk((()=>sG(t,e)));r.each((o=>{nG(e,t,a,o)}))};const aG=(e,t,o,n)=>{t.each(Y$);o.snaps.each((t=>{P$(e,t)}));const s=o.getTarget(e.element);n.reset();o.onDrop(e,s)};const cG=e=>(t,o)=>{const n=e=>{o.setStartData(sG(t,e))};return Mc([Hc(gc(),(e=>{o.getStartData().each((()=>n(e)))})),...e(t,o,n)])};const iG=e=>Mc([Hc(Ha(),e.forceDrop),Hc(Fa(),e.drop),Hc(Ia(),((t,o)=>{e.move(o.event)})),Hc(Pa(),e.delayDrop)]);const lG=e=>M.from(zo(e.x,e.y));const dG=(e,t)=>zo(t.left-e.left,t.top-e.top);var uG=Object.freeze({__proto__:null,getData:lG,getDelta:dG});const fG=(e,t,o)=>[Hc(Ha(),((n,s)=>{const r=s.event.raw;if(r.button!==0){return}s.stop();const a=()=>aG(n,M.some(l),e,t);const c=vD(a,200);const i={drop:a,delayDrop:c.schedule,forceDrop:a,move:o=>{c.cancel();rG(n,e,t,uG,o)}};const l=X$(n,e.blockerClass,iG(i));const d=()=>{o(n);K$(n,l)};d()}))];const mG=[...Q$,Nd("dragger",{handlers:cG(fG)})];const gG=e=>Mc([Hc(Ma(),e.forceDrop),Hc(Ba(),e.drop),Hc(La(),e.drop),Hc(Ra(),((t,o)=>{e.move(o.event)}))]);const pG=e=>{const t=e[0];return M.some(zo(t.clientX,t.clientY))};const hG=e=>{const t=e.raw;const o=t.touches;return o.length===1?pG(o):M.none()};const yG=(e,t)=>zo(t.left-e.left,t.top-e.top);var bG=Object.freeze({__proto__:null,getData:hG,getDelta:yG});const vG=(e,t,o)=>{const n=_f();const s=o=>{aG(o,n.get(),e,t);n.clear()};return[Hc(Ma(),((r,a)=>{a.stop();const c=()=>s(r);const i={drop:c,delayDrop:v,forceDrop:c,move:o=>{rG(r,e,t,bG,o)}};const l=X$(r,e.blockerClass,gG(i));n.set(l);const d=()=>{o(r);K$(r,l)};d()})),Hc(Ra(),((o,n)=>{n.stop();rG(o,e,t,bG,n.event)})),Hc(Ba(),((e,t)=>{t.stop();s(e)})),Hc(La(),s)]};const kG=[...Q$,Nd("dragger",{handlers:cG(vG)})];const wG=(e,t,o)=>[...fG(e,t,o),...vG(e,t,o)];const _G=[...Q$,Nd("dragger",{handlers:cG(wG)})];const xG=mG;const CG=kG;const SG=_G;var zG=Object.freeze({__proto__:null,mouse:xG,touch:CG,mouseOrTouch:SG});const OG=()=>{let e=M.none();let t=M.none();const o=()=>{e=M.none();t=M.none()};const n=(t,o)=>{const n=e.map((e=>t.getDelta(e,o)));e=M.some(o);return n};const s=(e,t)=>e.getData(t).bind((t=>n(e,t)));const r=e=>{t=M.some(e)};const a=()=>t;const c=x({});return Ai({readState:c,reset:o,update:s,getStartData:a,setStartData:r})};var TG=Object.freeze({__proto__:null,init:OG});const EG=Hu({branchKey:"mode",branches:zG,name:"dragging",active:{events:(e,t)=>{const o=e.dragger;return o.handlers(e,t)}},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:M.from(e.extra)})},state:TG,apis:q$});const DG=40;const AG=DG/2;const NG=(e,t,o,n,s,r)=>e.fold((()=>EG.snap({sensor:A$(o-AG,n-AG),range:zo(s,r),output:A$(M.some(o),M.some(n)),extra:{td:t}})),(e=>{const s=o-AG;const r=n-AG;const a=DG;const c=DG;const i=e.element.dom.getBoundingClientRect();return EG.snap({sensor:A$(s,r),range:zo(a,c),output:A$(M.some(o-i.width/2),M.some(n-i.height/2)),extra:{td:t}})}));const MG=(e,t,o)=>{const n=(e,t)=>e.exists((e=>St(e,t)));return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,s)=>{const r=s.td;if(!n(t.get(),r)){t.set(r);o(r)}},mustSnap:true}};const RG=e=>R_(M_.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Mu([EG.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),AA.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}));const BG=(e,t)=>{const o=la([]);const n=la([]);const s=la(false);const r=_f();const a=_f();const c=e=>{const o=os(e);return NG(m.getOpt(t),e,o.x,o.y,o.width,o.height)};const i=()=>Z(o.get(),(e=>c(e)));const l=e=>{const o=os(e);return NG(g.getOpt(t),e,o.right,o.bottom,o.width,o.height)};const d=()=>Z(n.get(),(e=>l(e)));const u=MG(i,r,(t=>{a.get().each((o=>{e.dispatch("TableSelectorChange",{start:t,finish:o})}))}));const f=MG(d,a,(t=>{r.get().each((o=>{e.dispatch("TableSelectorChange",{start:o,finish:t})}))}));const m=RG(u);const g=RG(f);const p=$l(m.asSpec());const h=$l(g.asSpec());const y=(t,o,n,s)=>{const r=o.dom.getBoundingClientRect();bo(t.element,"display");const a=Dt(Qe.fromDom(e.getBody())).dom.innerHeight;const c=n(r);const i=s(r,a);if(c||i){lo(t.element,"display","none")}};const b=(e,t,o,n)=>{const s=o(t);EG.snapTo(e,s);const r=e=>e[n]<0;const a=(e,t)=>e[n]>t;y(e,t,r,a)};const v=e=>b(p,e,c,"top");const k=()=>r.get().each(v);const w=e=>b(h,e,l,"bottom");const _=()=>a.get().each(w);if(Cn().deviceType.isTouch()){e.on("TableSelectionChange",(e=>{if(!s.get()){rp(t,p);rp(t,h);s.set(true)}r.set(e.start);a.set(e.finish);e.otherCells.each((t=>{o.set(t.upOrLeftCells);n.set(t.downOrRightCells);v(e.start);w(e.finish)}))}));e.on("ResizeEditor ResizeWindow ScrollContent",(()=>{k();_()}));e.on("TableSelectionClear",(()=>{if(s.get()){ip(p);ip(h);s.set(false)}r.clear();a.clear()}))}};var LG='<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n';const HG=e=>e.nodeName==="BR"||!!e.getAttribute("data-mce-bogus")||e.getAttribute("data-mce-type")==="bookmark";const IG=(e,t,o)=>{var n;const s=(n=t.delimiter)!==null&&n!==void 0?n:"›";const r=(t,n,s)=>M_.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":s,"aria-level":s+1}},components:[jl(t)],action:t=>{e.focus();e.selection.select(n);e.nodeChanged()},buttonBehaviours:Mu([oO.button(o.isDisabled),Xz()])});const a=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":true}},components:[jl(` ${s} `)]});const c=e=>K(e,((e,t,o)=>{const n=r(t.name,t.element,o);if(o===0){return e.concat([n])}else{return e.concat([a(),n])}}),[]);const i=t=>{const o=[];let n=t.length;while(n-- >0){const s=t[n];if(s.nodeType===1&&!HG(s)){const t=dT(e,s);if(!t.isDefaultPrevented()){o.push({name:t.name,element:s})}if(t.isPropagationStopped()){break}}}return o};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Mu([qk.config({mode:"flow",selector:"div[role=button]"}),Jy.config({disabled:o.isDisabled}),Xz(),JD.config({}),rw.config({}),cw("elementPathEvents",[$c(((t,o)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",(()=>qk.focusIn(t)));e.on("NodeChange",(e=>{const o=i(e.parents);const n=o.length>0?c(o):[];rw.set(t,n)}))}))])]),components:[]}};var PG;(function(e){e[e["None"]=0]="None";e[e["Both"]=1]="Both";e[e["Vertical"]=2]="Vertical"})(PG||(PG={}));const FG=(e,t,o,n,s)=>{const r={height:tq(n+t.top,dx(e),fx(e))};if(o===PG.Both){r.width=tq(s+t.left,lx(e),ux(e))}return r};const VG=(e,t,o)=>{const n=Qe.fromDom(e.getContainer());const s=FG(e,t,o,_o(n),Mo(n));ge(s,((e,t)=>{if(y(e)){lo(n,t,eq(e))}}));rT(e)};const jG=e=>{const t=Hx(e);if(t===false){return PG.None}else if(t==="both"){return PG.Both}else{return PG.Vertical}};const ZG=(e,t,o,n)=>{const s=20;const r=zo(o*s,n*s);VG(e,r,t);return M.some(true)};const UG=(e,t)=>{const o=jG(e);if(o===PG.None){return M.none()}return M.some(W_("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},behaviours:[EG.config({mode:"mouse",repositionTarget:false,onDrag:(t,n,s)=>VG(e,s,o),blockerClass:"tox-blocker"}),qk.config({mode:"special",onLeft:()=>ZG(e,o,-1,0),onRight:()=>ZG(e,o,1,0),onUp:()=>ZG(e,o,0,-1),onDown:()=>ZG(e,o,0,1)}),JD.config({}),hw.config({})]},t.icons))};const qG=(e,t)=>{const o=(e,o,n)=>rw.set(e,[jl(t.translate(["{0} "+n,o[n]]))]);return M_.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Mu([oO.button(t.isDisabled),Xz(),JD.config({}),rw.config({}),ph.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),cw("wordcount-events",[Yc((e=>{const t=ph.getValue(e);const n=t.mode==="words"?"characters":"words";ph.setValue(e,{mode:n,count:t.count});o(e,t.count,n)})),$c((t=>{e.on("wordCountUpdate",(e=>{const{mode:n}=ph.getValue(t);ph.setValue(t,{mode:n,count:e.wordCount});o(t,e.wordCount,n)}))}))])]),eventOrder:{[rc()]:["disabling","alloy.base.behaviour","wordcount-events"]}})};const WG=(e,t)=>{const o=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":B_.translate(["Powered by {0}","Tiny"])},innerHtml:LG.trim()},behaviours:Mu([hw.config({})])}]});const n=()=>{const n=[];if(Bx(e)){n.push(IG(e,{},t))}if(e.hasPlugin("wordcount")){n.push(qG(e,t))}if(Lx(e)){n.push(o())}if(n.length>0){return[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]}return[]};const s=()=>{const o=n();const s=UG(e,t);return o.concat(s.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:s()}};const $G=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`);const GG=e=>{const t=e.inline;const o=t?mq:JU;const n=Qx(e)?gF:vP;const s=gq();const r=_f();const a=_f();const c=Cn();const i=c.deviceType.isTouch();const l="tox-platform-touch";const d=i?[l]:[];const u=Gx(e);const f=bx(e);const m=R_({dom:{tag:"div",classes:["tox-anchorbar"]}});const g=()=>s.mainUi.get().map((e=>e.outerContainer)).bind(uZ.getHeader);const p=()=>cs.fromOption(s.dialogUi.get().map((e=>e.sink)),"UI has not been rendered");const h=()=>cs.fromOption(s.popupUi.get().map((e=>e.sink)),"(popup) UI has not been rendered");const y=s.lazyGetInOuterOrDie("anchor bar",m.getOpt);const b=s.lazyGetInOuterOrDie("toolbar",uZ.getToolbar);const v=s.lazyGetInOuterOrDie("throbber",uZ.getThrobber);const k=eP({popup:h,dialog:p},e,y);const w=()=>{const t={attributes:{[om]:u?tm.BottomToTop:tm.TopToBottom}};const o=uZ.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:k.popup,onEscape:()=>{e.focus()}});const n=uZ.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:k.popup.shared.getSink,providers:k.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{uT(e,t)},type:f,lazyToolbar:b,lazyHeader:()=>g().getOrDie("Could not find header element"),...t});const s=uZ.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:k.popup.shared.providers,onEscape:()=>{e.focus()},type:f});const r=$x(e);const a=qx(e);const c=jx(e);const i=Fx(e);const l=_();const d=r||a||c;const p=()=>{if(r){return[s]}else if(a){return[n]}else{return[]}};const h=i?[l,o]:[o];return uZ.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(d?[]:["tox-editor-header--empty"]),...t},components:Q([c?h:[],p(),Yx(e)?[]:[m.asSpec()]]),sticky:Qx(e),editor:e,sharedBackstage:k.popup.shared})};const _=()=>uZ.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}});const x=()=>{const e=uZ.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}});const t=uZ.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[e,t]}};const S=()=>{const t=Xx(e);const o=St(Xt(),t)&&mo(t,"display")==="grid";const s={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(d),attributes:{...B_.isRtl()?{dir:"rtl"}:{}}},behaviours:Mu([Kg.config({useFixed:()=>n.isDocked(g)})])};const r={dom:{styles:{width:document.body.clientWidth+"px"}},events:Mc([Hc(pc(),(e=>{lo(e.element,"width",document.body.clientWidth+"px")}))])};const c=$l(zs(s,o?r:{}));const i=ZD(c);a.set(i);return{sink:c,mothership:i}};const z=C;const O=()=>{const o=w();const n=x();const s=uZ.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:k.popup});const a=uZ.parts.viewWrapper({backstage:k.popup});const c=Rx(e)&&!t?M.some(WG(e,k.popup.shared.providers)):M.none();const i=Q([u?[]:[o],t?[]:[n],u?[o]:[]]);const l=uZ.parts.editorContainer({components:Q([i,t?[]:c.toArray()])});const f=Jx(e);const m={role:"application",...B_.isRtl()?{dir:"rtl"}:{},...f?{"aria-hidden":"true"}:{}};const g=$l(uZ.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(t?["tox-tinymce-inline"]:[]).concat(u?["tox-tinymce--toolbar-bottom"]:[]).concat(d),styles:{visibility:"hidden",...f?{opacity:"0",border:"0"}:{}},attributes:m},components:[l,...t?[]:[a],s],behaviours:Mu([Xz(),Jy.config({disableClass:"tox-tinymce--disabled"}),qk.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));const p=ZD(g);r.set(p);return{mothership:p,outerContainer:g}};const T=t=>{const o=eq(nq(e));const n=eq(rq(e));if(!e.inline){if(yo("div","width",n)){lo(t.element,"width",n)}if(yo("div","height",o)){lo(t.element,"height",o)}else{lo(t.element,"height","400px")}}return o};const E=t=>{e.addShortcut("alt+F9","focus menubar",(()=>{uZ.focusMenubar(t)}));e.addShortcut("alt+F10","focus toolbar",(()=>{uZ.focusToolbar(t)}));e.addCommand("ToggleToolbarDrawer",(()=>{uZ.toggleToolbarDrawer(t)}));e.addQueryStateHandler("ToggleToolbarDrawer",(()=>uZ.isToolbarDrawerToggled(t)))};const D=t=>{const{mainUi:s,popupUi:r,uiMotherships:a}=t;pe(vx(e),((t,o)=>{e.ui.registry.addGroupToolbarButton(o,t)}));const{buttons:c,menuItems:i,contextToolbars:l,sidebars:d,views:u}=e.ui.registry.getAll();const m=Wx(e);const p={menuItems:i,menus:eC(e),menubar:Sx(e),toolbar:m.getOrThunk((()=>zx(e))),allowToolbarGroups:f===tx.floating,buttons:c,sidebar:d,views:u};E(s.outerContainer);tP(e,s.mothership,a);n.setup(e,k.popup.shared,g);RW(e,k.popup);y$(e,k.popup.shared.getSink,k.popup);fV(e);PV(e,v,k.popup.shared);oW(e,l,r.sink,{backstage:k.popup});BG(e,r.sink);const h=e.getElement();const y=T(s.outerContainer);const b={targetNode:h,height:y};return o.render(e,t,p,k.popup,b)};const A=()=>{const e=O();const t=S();const o=z(t);s.dialogUi.set(t);s.popupUi.set(o);s.mainUi.set(e);const n={popupUi:o,dialogUi:t,mainUi:e,uiMotherships:s.getUiMotherships()};return D(n)};return{popups:{backstage:k.popup,getMothership:()=>$G("popups",a)},dialogs:{backstage:k.dialog,getMothership:()=>$G("dialogs",a)},renderUI:A}};const KG=(e,t)=>{const o=M.from(oo(e,"id")).fold((()=>{const e=li("dialog-describe");eo(t,"id",e);return e}),C);eo(e,"aria-describedby",o)};const YG=(e,t)=>{const o=no(e,"id").fold((()=>{const e=li("dialog-label");eo(t,"id",e);return e}),C);eo(e,"aria-labelledby",o)};const XG=x([Mr("lazySink"),Ur("dragBlockClass"),ra("getBounds",ns),Qr("useTabstopAt",A),Qr("eventOrder",{}),hh("modalBehaviours",[qk]),Ed("onExecute"),Ad("onEscape")]);const JG={sketch:C};const QG=x([Yh({name:"draghandle",overrides:(e,t)=>({behaviours:Mu([EG.config({mode:"mouse",getTarget:e=>td(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),Gh({schema:[Mr("dom")],name:"title"}),Gh({factory:JG,schema:[Mr("dom")],name:"close"}),Gh({factory:JG,schema:[Mr("dom")],name:"body"}),Yh({factory:JG,schema:[Mr("dom")],name:"footer"}),Kh({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[Qr("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Qr("components",[])],name:"blocker"})]);const eK=(e,t,o,n)=>{const s=_f();const r=t=>{s.set(t);const o=e.lazySink(t).getOrDie();const r=n.blocker();const a=o.getSystem().build({...r,components:r.components.concat([Gl(t)]),behaviours:Mu([hw.config({}),cw("dialog-blocker-events",[Wc(ja(),(()=>{qk.focusIn(t)}))])])});rp(o,a);qk.focusIn(t)};const a=e=>{s.clear();At(e.element).each((t=>{e.getSystem().getByDom(t).each((e=>{ip(e)}))}))};const c=t=>dy(t,e,"body");const i=t=>dy(t,e,"footer");const l=(e,t)=>{TV.block(e,t)};const d=e=>{TV.unblock(e)};const u=li("modal-events");const f={...e.eventOrder,[hc()]:[u].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:t,apis:{show:r,hide:a,getBody:c,getFooter:i,setIdle:d,setBusy:l},eventOrder:f,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:bh(e.modalBehaviours,[rw.config({}),qk.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),TV.config({getRoot:s.get}),cw(u,[$c((t=>{YG(t.element,dy(t,e,"title").element);KG(t.element,dy(t,e,"body").element)}))])])}};const tK=Ty({name:"ModalDialog",configFields:XG(),partFields:QG(),factory:eK,apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,o)=>{e.setBusy(t,o)},setIdle:(e,t)=>{e.setIdle(t)}}});const oK=sr([fS,mS].concat(gz));const nK=gr;const sK=[PS("button"),zS,na("align","end",["start","end"]),RS,MS,Gr("buttonType",["primary","secondary"])];const rK=[...sK,pS];const aK=[Hr("type",["submit","cancel","custom"]),...rK];const cK=[Hr("type",["menu"]),SS,OS,zS,Zr("items",oK),...sK];const iK=Tr("type",{submit:aK,cancel:aK,custom:aK,menu:cK});const lK=[fS,pS,Hr("level",["info","warn","error","success"]),yS,Qr("url","")];const dK=sr(lK);const uK=e=>[fS,e];const fK=[fS,pS,MS,PS("button"),zS,NS,Gr("buttonType",["primary","secondary","toolbar"]),RS];const mK=sr(fK);const gK=[fS,mS];const pK=gK.concat([TS]);const hK=gK.concat([gS,MS]);const yK=sr(hK);const bK=gr;const vK=pK.concat([BS("auto")]);const kK=sr(vK);const wK=lr([bS,pS,yS]);const _K=pK.concat([oa("storageKey","default")]);const xK=sr(_K);const CK=mr;const SK=pK;const zK=sr(SK);const OK=mr;const TK=gK.concat([oa("tag","textarea"),Lr("scriptId"),Lr("scriptUrl"),aa("settings",undefined)]);const EK=gK.concat([oa("tag","textarea"),Pr("init")]);const DK=wr((e=>Cr("customeditor.old",nr(EK),e).orThunk((()=>Cr("customeditor.new",nr(TK),e)))));const AK=mr;const NK=pK;const MK=sr(NK);const RK=kr();const BK=e=>[fS,Br("columns"),e];const LK=[fS,Lr("html"),na("presets","presentation",["presentation","document"])];const HK=sr(LK);const IK=pK.concat([sa("sandboxed",true),sa("transparent",true)]);const PK=sr(IK);const FK=mr;const VK=sr(gK.concat([$r("height")]));const jK=sr([Lr("url"),Wr("zoom"),Wr("cachedWidth"),Wr("cachedHeight")]);const ZK=pK.concat([$r("inputMode"),$r("placeholder"),sa("maximized",false),MS]);const UK=sr(ZK);const qK=mr;const WK=e=>[fS,gS,e];const $K=[pS,bS];const GK=[pS,Zr("items",Er("items",(()=>KK)))];const KK=ar([sr($K),sr(GK)]);const YK=pK.concat([Zr("items",KK),MS]);const XK=sr(YK);const JK=mr;const QK=pK.concat([jr("items",[pS,bS]),ta("size",1),MS]);const eY=sr(QK);const tY=mr;const oY=pK.concat([sa("constrain",true),MS]);const nY=sr(oY);const sY=sr([Lr("width"),Lr("height")]);const rY=gK.concat([gS,ta("min",0),ta("max",0)]);const aY=sr(rY);const cY=fr;const iY=[fS,Zr("header",mr),Zr("cells",rr(mr))];const lY=sr(iY);const dY=pK.concat([$r("placeholder"),sa("maximized",false),MS]);const uY=sr(dY);const fY=mr;const mY=pK.concat([na("filetype","file",["image","media","file"]),MS]);const gY=sr(mY);const pY=sr([bS,LS]);const hY=e=>Dr("items","items",Ts(),rr(wr((t=>Cr(`Checking item of ${e}`,yY,t).fold((e=>cs.error(Or(e))),(e=>cs.value(e)))))));const yY=tr((()=>vr("type",{alertbanner:dK,bar:sr(uK(hY("bar"))),button:mK,checkbox:yK,colorinput:xK,colorpicker:zK,dropzone:MK,grid:sr(BK(hY("grid"))),iframe:PK,input:UK,listbox:XK,selectbox:eY,sizeinput:nY,slider:aY,textarea:uY,urlinput:gY,customeditor:DK,htmlpanel:HK,imagepreview:VK,collection:kK,label:sr(WK(hY("label"))),table:lY,panel:vY})));const bY=[fS,Qr("classes",[]),Zr("items",yY)];const vY=sr(bY);const kY=[PS("tab"),hS,Zr("items",yY)];const wY=[fS,jr("tabs",kY)];const _Y=sr(wY);const xY=rK;const CY=iK;const SY=sr([Lr("title"),Rr("body",vr("type",{panel:vY,tabpanel:_Y})),oa("size","normal"),Zr("buttons",CY),Qr("initialData",{}),ra("onAction",v),ra("onChange",v),ra("onSubmit",v),ra("onClose",v),ra("onCancel",v),ra("onTabChange",v)]);const zY=e=>Cr("dialog",SY,e);const OY=sr([Hr("type",["cancel","custom"]),...xY]);const TY=sr([Lr("title"),Lr("url"),Wr("height"),Wr("width"),Yr("buttons",OY),ra("onAction",v),ra("onCancel",v),ra("onClose",v),ra("onMessage",v)]);const EY=e=>Cr("dialog",TY,e);const DY=e=>{if(i(e)){return[e].concat(ee(xe(e),DY))}else if(d(e)){return ee(e,DY)}else{return[]}};const AY=e=>c(e.type)&&c(e.name);const NY={checkbox:bK,colorinput:CK,colorpicker:OK,dropzone:RK,input:qK,iframe:FK,imagepreview:jK,selectbox:tY,sizeinput:sY,slider:cY,listbox:JK,size:sY,textarea:fY,urlinput:pY,customeditor:AK,collection:wK,togglemenuitem:nK};const MY=e=>M.from(NY[e.type]);const RY=e=>$(DY(e),AY);const BY=e=>{const t=RY(e);const o=ee(t,(e=>MY(e).fold((()=>[]),(t=>[Rr(e.name,t)]))));return sr(o)};const LY=e=>{var t;const o=Sr(zY(e));const n=BY(e);const s=(t=e.initialData)!==null&&t!==void 0?t:{};return{internalDialog:o,dataValidator:n,initialData:s}};const HY={open:(e,t)=>{const o=LY(t);return e(o.internalDialog,o.initialData,o.dataValidator)},openUrl:(e,t)=>{const o=Sr(EY(t));return e(o)},redial:e=>LY(e)};const IY=e=>{const t=[];const o={};ge(e,((e,n)=>{e.fold((()=>{t.push(n)}),(e=>{o[n]=e}))}));return t.length>0?cs.error(t):cs.value(o)};const PY=(e,t,o)=>{const n=R_(vR.sketch((n=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:Z(e.items,(e=>pH(n,e,t,o)))}))));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:Mu([qk.config({mode:"acyclic",useTabstopAt:O(tB)}),DR.memento(n),IR.memento(n,{postprocess:e=>IY(e).fold((e=>{console.error(e);return{}}),C)})])}};const FY=(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:Hw(e.action),behaviours:bh(e.tabButtonBehaviours,[hw.config({}),qk.config({mode:"execution",useSpace:true,useEnter:true}),ph.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification});const VY=Oy({name:"TabButton",configFields:[Qr("uid",undefined),Mr("value"),Dr("dom","dom",Ns((()=>({attributes:{role:"tab",id:li("aria"),"aria-selected":"false"}}))),dr()),Ur("action"),Qr("domModification",{}),hh("tabButtonBehaviours",[hw,qk,ph]),Mr("view")],factory:FY});const jY=x([Mr("tabs"),Mr("dom"),Qr("clickToDismiss",false),hh("tabbarBehaviours",[bb,qk]),zd(["tabClass","selectedClass"])]);const ZY=Xh({factory:VY,name:"tabs",unit:"tab",overrides:e=>{const t=(e,t)=>{bb.dehighlight(e,t);Oc(e,xc(),{tabbar:e,button:t})};const o=(e,t)=>{bb.highlight(e,t);Oc(e,_c(),{tabbar:e,button:t})};return{action:n=>{const s=n.getSystem().getByUid(e.uid).getOrDie();const r=bb.isHighlighted(s,n);const a=(()=>{if(r&&e.clickToDismiss){return t}else if(!r){return o}else{return v}})();a(s,n)},domModification:{classes:[e.markers.tabClass]}}}});const UY=x([ZY]);const qY=(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:bh(e.tabbarBehaviours,[bb.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{eo(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{eo(t.element,"aria-selected","false")}}),qk.config({mode:"flow",getInitial:e=>bb.getHighlighted(e).map((e=>e.element)),selector:"."+e.markers.tabClass,executeOnMove:true})])});const WY=Ty({name:"Tabbar",configFields:jY(),partFields:UY(),factory:qY});const $Y=(e,t)=>({uid:e.uid,dom:e.dom,behaviours:bh(e.tabviewBehaviours,[rw.config({})]),domModification:{attributes:{role:"tabpanel"}}});const GY=Oy({name:"Tabview",configFields:[hh("tabviewBehaviours",[rw])],factory:$Y});const KY=x([Qr("selectFirst",true),Td("onChangeTab"),Td("onDismissTab"),Qr("tabs",[]),hh("tabSectionBehaviours",[])]);const YY=Gh({factory:WY,schema:[Mr("dom"),Vr("markers",[Mr("tabClass"),Mr("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})});const XY=Gh({factory:GY,name:"tabview"});const JY=x([YY,XY]);const QY=(e,t,o,n)=>{const s=t=>{const o=ph.getValue(t);ly(t,e,"tabview").each((n=>{const s=X(e.tabs,(e=>e.value===o));s.each((o=>{const s=o.view();no(t.element,"id").each((e=>{eo(n.element,"aria-labelledby",e)}));rw.set(n,s);e.onChangeTab(n,t,s)}))}))};const r=(t,o)=>{ly(t,e,"tabbar").each((e=>{o(e).each(Tc)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:yh(e.tabSectionBehaviours),events:Mc(Q([e.selectFirst?[$c(((e,t)=>{r(e,bb.getFirst)}))]:[],[Hc(_c(),((e,t)=>{const o=t.event.button;s(o)})),Hc(xc(),((t,o)=>{const n=o.event.button;e.onDismissTab(t,n)}))]])),apis:{getViewItems:t=>ly(t,e,"tabview").map((e=>rw.contents(e))).getOr([]),showTab:(e,t)=>{const o=e=>{const o=bb.getCandidates(e);const n=X(o,(e=>ph.getValue(e)===t));return n.filter((t=>!bb.isHighlighted(e,t)))};r(e,o)}}}};const eX=Ty({name:"TabSection",configFields:KY(),partFields:JY(),factory:QY,apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,o)=>{e.showTab(t,o)}}});const tX=(e,t,o)=>Z(e,((n,s)=>{rw.set(o,e[s].view());const r=t.dom.getBoundingClientRect();rw.set(o,[]);return r.height}));const oX=e=>ie(ae(e,((e,t)=>{if(e>t){return-1}else if(e<t){return+1}else{return 0}})));const nX=(e,t,o)=>{const n=Et(e).dom;const s=td(e,".tox-dialog-wrap").getOr(e);const r=mo(s,"position")==="fixed";let a;if(r){a=Math.max(n.clientHeight,window.innerHeight)}else{a=Math.max(n.offsetHeight,n.scrollHeight)}const c=_o(t);const i=t.dom.offsetLeft>=o.dom.offsetLeft+Mo(o);const l=i?Math.max(_o(o),c):c;const d=parseInt(mo(e,"margin-top"),10)||0;const u=parseInt(mo(e,"margin-bottom"),10)||0;const f=_o(e)+d+u;const m=f-l;return a-m};const sX=(e,t)=>{ie(e).each((e=>eX.showTab(t,e.value)))};const rX=(e,t)=>{lo(e,"height",t+"px");lo(e,"flex-basis",t+"px")};const aX=(e,t,o)=>{td(e,'[role="dialog"]').each((e=>{nd(e,'[role="tablist"]').each((n=>{o.get().map((o=>{lo(t,"height","0");lo(t,"flex-basis","0");return Math.min(o,nX(e,t,n))})).each((e=>{rX(t,e)}))}))}))};const cX=e=>nd(e,'[role="tabpanel"]');const iX=e=>{const t=_f();const o=[$c((o=>{const n=o.element;cX(n).each((s=>{lo(s,"visibility","hidden");o.getSystem().getByDom(s).toOptional().each((o=>{const n=tX(e,s,o);const r=oX(n);r.fold(t.clear,t.set)}));aX(n,s,t);bo(s,"visibility");sX(e,o);requestAnimationFrame((()=>{aX(n,s,t)}))}))})),Hc(pc(),(e=>{const o=e.element;cX(o).each((e=>{aX(o,e,t)}))})),Hc(gA,((e,o)=>{const n=e.element;cX(n).each((e=>{const o=qu(Zt(e));lo(e,"visibility","hidden");const s=po(e,"height").map((e=>parseInt(e,10)));bo(e,"height");bo(e,"flex-basis");const r=e.dom.getBoundingClientRect().height;const a=s.forall((e=>r>e));if(a){t.set(r);aX(n,e,t)}else{s.each((t=>{rX(e,t)}))}bo(e,"visibility");o.each(ju)}))}))];const n=false;return{extraEvents:o,selectFirst:n}};const lX="send-data-to-section";const dX="send-data-to-view";const uX=(e,t,o)=>{const n=la({});const s=e=>{const t=ph.getValue(e);const o=IY(t).getOr({});const s=n.get();const r=zs(s,o);n.set(r)};const r=e=>{const t=n.get();ph.setValue(e,t)};const a=la(null);const c=Z(e.tabs,(e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[jl(o.shared.providers.translate(e.title))],view:()=>[vR.sketch((n=>({dom:{tag:"div",classes:["tox-form"]},components:Z(e.items,(e=>pH(n,e,t,o))),formBehaviours:Mu([qk.config({mode:"acyclic",useTabstopAt:O(tB)}),cw("TabView.form.events",[$c(r),Gc(s)]),Pu.config({channels:ba([{key:lX,value:{onReceive:s}},{key:dX,value:{onReceive:r}}])})])})))]})));const i=iX(c);return eX.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,o)=>{const n=ph.getValue(t);Oc(e,mA,{name:n,oldName:a.get()});a.set(n)},tabs:c,components:[eX.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[WY.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Mu([JD.config({})])}),eX.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:i.selectFirst,tabSectionBehaviours:Mu([cw("tabpanel",i.extraEvents),qk.config({mode:"acyclic"}),My.config({find:e=>ie(eX.getViewItems(e))}),IR.withComp(M.none(),(e=>{e.getSystem().broadcastOn([lX],{});return n.get()}),((e,t)=>{n.set(t);e.getSystem().broadcastOn([dX],{})}))])})};const fX=li("update-dialog");const mX=li("update-title");const gX=li("update-body");const pX=li("update-footer");const hX=li("body-send-message");const yX=(e,t,o,n,s)=>{const r=e=>{const t=e.body;switch(t.type){case"tabpanel":{return[uX(t,e.initialData,n)]}default:{return[PY(t,e.initialData,n)]}}};const a=(e,t)=>M.some({isTabPanel:()=>t.body.type==="tabpanel"});const c={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...o.map((e=>({id:e}))).getOr({}),...s?c:{}}},components:[],behaviours:Mu([DR.childAt(0),pU.config({channel:`${gX}-${t}`,updateState:a,renderComponents:r,initialData:e})])}};const bX=(e,t,o,n,s)=>yX(e,t,M.some(o),n,s);const vX=(e,t,o)=>{const n=yX(e,t,M.none(),o,false);return tK.parts.body(n)};const kX=e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[JR({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Mu([JD.config({}),hw.config({})])})]}],behaviours:Mu([qk.config({mode:"acyclic",useTabstopAt:O(tB)})])};return tK.parts.body(t)};function wX(e){"@babel/helpers - typeof";return wX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wX(e)}function _X(e,t){_X=Object.setPrototypeOf||function e(t,o){t.__proto__=o;return t};return _X(e,t)}function xX(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function CX(e,t,o){if(xX()){CX=Reflect.construct}else{CX=function e(t,o,n){var s=[null];s.push.apply(s,o);var r=Function.bind.apply(t,s);var a=new r;if(n)_X(a,n.prototype);return a}}return CX.apply(null,arguments)}function SX(e){return zX(e)||OX(e)||TX(e)||DX()}function zX(e){if(Array.isArray(e))return EX(e)}function OX(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TX(e,t){if(!e)return;if(typeof e==="string")return EX(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor)o=e.constructor.name;if(o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return EX(e,t)}function EX(e,t){if(t==null||t>e.length)t=e.length;for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function DX(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var AX=Object.hasOwnProperty,NX=Object.setPrototypeOf,MX=Object.isFrozen,RX=Object.getPrototypeOf,BX=Object.getOwnPropertyDescriptor;var LX=Object.freeze,HX=Object.seal,IX=Object.create;var PX=typeof Reflect!=="undefined"&&Reflect,FX=PX.apply,VX=PX.construct;if(!FX){FX=function e(t,o,n){return t.apply(o,n)}}if(!LX){LX=function e(t){return t}}if(!HX){HX=function e(t){return t}}if(!VX){VX=function e(t,o){return CX(t,SX(o))}}var jX=JX(Array.prototype.forEach);var ZX=JX(Array.prototype.pop);var UX=JX(Array.prototype.push);var qX=JX(String.prototype.toLowerCase);var WX=JX(String.prototype.match);var $X=JX(String.prototype.replace);var GX=JX(String.prototype.indexOf);var KX=JX(String.prototype.trim);var YX=JX(RegExp.prototype.test);var XX=QX(TypeError);function JX(e){return function(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),s=1;s<o;s++){n[s-1]=arguments[s]}return FX(e,t,n)}}function QX(e){return function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++){o[n]=arguments[n]}return VX(e,o)}}function eJ(e,t){if(NX){NX(e,null)}var o=t.length;while(o--){var n=t[o];if(typeof n==="string"){var s=qX(n);if(s!==n){if(!MX(t)){t[o]=s}n=s}}e[n]=true}return e}function tJ(e){var t=IX(null);var o;for(o in e){if(FX(AX,e,[o])){t[o]=e[o]}}return t}function oJ(e,t){while(e!==null){var o=BX(e,t);if(o){if(o.get){return JX(o.get)}if(typeof o.value==="function"){return JX(o.value)}}e=RX(e)}function n(e){console.warn("fallback value for",e);return null}return n}var nJ=LX(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]);var sJ=LX(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]);var rJ=LX(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]);var aJ=LX(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]);var cJ=LX(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]);var iJ=LX(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]);var lJ=LX(["#text"]);var dJ=LX(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]);var uJ=LX(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]);var fJ=LX(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]);var mJ=LX(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]);var gJ=HX(/\{\{[\w\W]*|[\w\W]*\}\}/gm);var pJ=HX(/<%[\w\W]*|[\w\W]*%>/gm);var hJ=HX(/^data-[\-\w.\u00B7-\uFFFF]/);var yJ=HX(/^aria-[\-\w]+$/);var bJ=HX(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i);var vJ=HX(/^(?:\w+script|data):/i);var kJ=HX(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g);var wJ=HX(/^html$/i);var _J=function e(){return typeof window==="undefined"?null:window};var xJ=function e(t,o){if(wX(t)!=="object"||typeof t.createPolicy!=="function"){return null}var n=null;var s="data-tt-policy-suffix";if(o.currentScript&&o.currentScript.hasAttribute(s)){n=o.currentScript.getAttribute(s)}var r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML:function e(t){return t}})}catch(e){console.warn("TrustedTypes policy "+r+" could not be created.");return null}};function CJ(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_J();var t=function e(t){return CJ(t)};t.version="2.3.8";t.removed=[];if(!e||!e.document||e.document.nodeType!==9){t.isSupported=false;return t}var o=e.document;var n=e.document;var s=e.DocumentFragment,r=e.HTMLTemplateElement,a=e.Node,c=e.Element,i=e.NodeFilter,l=e.NamedNodeMap,d=l===void 0?e.NamedNodeMap||e.MozNamedAttrMap:l,u=e.HTMLFormElement,f=e.DOMParser,m=e.trustedTypes;var g=c.prototype;var p=oJ(g,"cloneNode");var h=oJ(g,"nextSibling");var y=oJ(g,"childNodes");var b=oJ(g,"parentNode");if(typeof r==="function"){var v=n.createElement("template");if(v.content&&v.content.ownerDocument){n=v.content.ownerDocument}}var k=xJ(m,o);var w=k?k.createHTML(""):"";var _=n,x=_.implementation,C=_.createNodeIterator,S=_.createDocumentFragment,z=_.getElementsByTagName;var O=o.importNode;var T={};try{T=tJ(n).documentMode?n.documentMode:{}}catch(e){}var E={};t.isSupported=typeof b==="function"&&x&&typeof x.createHTMLDocument!=="undefined"&&T!==9;var D=gJ,A=pJ,N=hJ,M=yJ,R=vJ,B=kJ;var L=bJ;var H=null;var I=eJ({},[].concat(SX(nJ),SX(sJ),SX(rJ),SX(cJ),SX(lJ)));var P=null;var F=eJ({},[].concat(SX(dJ),SX(uJ),SX(fJ),SX(mJ)));var V=Object.seal(Object.create(null,{tagNameCheck:{writable:true,configurable:false,enumerable:true,value:null},attributeNameCheck:{writable:true,configurable:false,enumerable:true,value:null},allowCustomizedBuiltInElements:{writable:true,configurable:false,enumerable:true,value:false}}));var j=null;var Z=null;var U=true;var q=true;var W=false;var $=false;var G=false;var K=false;var Y=false;var X=false;var J=false;var Q=false;var ee=true;var te=true;var oe=false;var ne={};var se=null;var re=eJ({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);var ae=null;var ce=eJ({},["audio","video","img","source","image","track"]);var ie=null;var le=eJ({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]);var de="http://www.w3.org/1998/Math/MathML";var ue="http://www.w3.org/2000/svg";var fe="http://www.w3.org/1999/xhtml";var me=fe;var ge=false;var pe;var he=["application/xhtml+xml","text/html"];var ye="text/html";var be;var ve=null;var ke=n.createElement("form");var we=function e(t){return t instanceof RegExp||t instanceof Function};var _e=function e(t){if(ve&&ve===t){return}if(!t||wX(t)!=="object"){t={}}t=tJ(t);H="ALLOWED_TAGS"in t?eJ({},t.ALLOWED_TAGS):I;P="ALLOWED_ATTR"in t?eJ({},t.ALLOWED_ATTR):F;ie="ADD_URI_SAFE_ATTR"in t?eJ(tJ(le),t.ADD_URI_SAFE_ATTR):le;ae="ADD_DATA_URI_TAGS"in t?eJ(tJ(ce),t.ADD_DATA_URI_TAGS):ce;se="FORBID_CONTENTS"in t?eJ({},t.FORBID_CONTENTS):re;j="FORBID_TAGS"in t?eJ({},t.FORBID_TAGS):{};Z="FORBID_ATTR"in t?eJ({},t.FORBID_ATTR):{};ne="USE_PROFILES"in t?t.USE_PROFILES:false;U=t.ALLOW_ARIA_ATTR!==false;q=t.ALLOW_DATA_ATTR!==false;W=t.ALLOW_UNKNOWN_PROTOCOLS||false;$=t.SAFE_FOR_TEMPLATES||false;G=t.WHOLE_DOCUMENT||false;X=t.RETURN_DOM||false;J=t.RETURN_DOM_FRAGMENT||false;Q=t.RETURN_TRUSTED_TYPE||false;Y=t.FORCE_BODY||false;ee=t.SANITIZE_DOM!==false;te=t.KEEP_CONTENT!==false;oe=t.IN_PLACE||false;L=t.ALLOWED_URI_REGEXP||L;me=t.NAMESPACE||fe;if(t.CUSTOM_ELEMENT_HANDLING&&we(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)){V.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck}if(t.CUSTOM_ELEMENT_HANDLING&&we(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)){V.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck}if(t.CUSTOM_ELEMENT_HANDLING&&typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean"){V.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements}pe=he.indexOf(t.PARSER_MEDIA_TYPE)===-1?pe=ye:pe=t.PARSER_MEDIA_TYPE;be=pe==="application/xhtml+xml"?function(e){return e}:qX;if($){q=false}if(J){X=true}if(ne){H=eJ({},SX(lJ));P=[];if(ne.html===true){eJ(H,nJ);eJ(P,dJ)}if(ne.svg===true){eJ(H,sJ);eJ(P,uJ);eJ(P,mJ)}if(ne.svgFilters===true){eJ(H,rJ);eJ(P,uJ);eJ(P,mJ)}if(ne.mathMl===true){eJ(H,cJ);eJ(P,fJ);eJ(P,mJ)}}if(t.ADD_TAGS){if(H===I){H=tJ(H)}eJ(H,t.ADD_TAGS)}if(t.ADD_ATTR){if(P===F){P=tJ(P)}eJ(P,t.ADD_ATTR)}if(t.ADD_URI_SAFE_ATTR){eJ(ie,t.ADD_URI_SAFE_ATTR)}if(t.FORBID_CONTENTS){if(se===re){se=tJ(se)}eJ(se,t.FORBID_CONTENTS)}if(te){H["#text"]=true}if(G){eJ(H,["html","head","body"])}if(H.table){eJ(H,["tbody"]);delete j.tbody}if(LX){LX(t)}ve=t};var xe=eJ({},["mi","mo","mn","ms","mtext"]);var Ce=eJ({},["foreignobject","desc","title","annotation-xml"]);var Se=eJ({},["title","style","font","a","script"]);var ze=eJ({},sJ);eJ(ze,rJ);eJ(ze,aJ);var Oe=eJ({},cJ);eJ(Oe,iJ);var Te=function e(t){var o=b(t);if(!o||!o.tagName){o={namespaceURI:fe,tagName:"template"}}var n=qX(t.tagName);var s=qX(o.tagName);if(t.namespaceURI===ue){if(o.namespaceURI===fe){return n==="svg"}if(o.namespaceURI===de){return n==="svg"&&(s==="annotation-xml"||xe[s])}return Boolean(ze[n])}if(t.namespaceURI===de){if(o.namespaceURI===fe){return n==="math"}if(o.namespaceURI===ue){return n==="math"&&Ce[s]}return Boolean(Oe[n])}if(t.namespaceURI===fe){if(o.namespaceURI===ue&&!Ce[s]){return false}if(o.namespaceURI===de&&!xe[s]){return false}return!Oe[n]&&(Se[n]||!ze[n])}return false};var Ee=function e(o){UX(t.removed,{element:o});try{o.parentNode.removeChild(o)}catch(e){try{o.outerHTML=w}catch(e){o.remove()}}};var De=function e(o,n){try{UX(t.removed,{attribute:n.getAttributeNode(o),from:n})}catch(e){UX(t.removed,{attribute:null,from:n})}n.removeAttribute(o);if(o==="is"&&!P[o]){if(X||J){try{Ee(n)}catch(e){}}else{try{n.setAttribute(o,"")}catch(e){}}}};var Ae=function e(t){var o;var s;if(Y){t="<remove></remove>"+t}else{var r=WX(t,/^[\r\n\t ]+/);s=r&&r[0]}if(pe==="application/xhtml+xml"){t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>"}var a=k?k.createHTML(t):t;if(me===fe){try{o=(new f).parseFromString(a,pe)}catch(e){}}if(!o||!o.documentElement){o=x.createDocument(me,"template",null);try{o.documentElement.innerHTML=ge?"":a}catch(e){}}var c=o.body||o.documentElement;if(t&&s){c.insertBefore(n.createTextNode(s),c.childNodes[0]||null)}if(me===fe){return z.call(o,G?"html":"body")[0]}return G?o.documentElement:c};var Ne=function e(t){return C.call(t.ownerDocument||t,t,i.SHOW_ELEMENT|i.SHOW_COMMENT|i.SHOW_TEXT,null,false)};var Me=function e(t){return t instanceof u&&(typeof t.nodeName!=="string"||typeof t.textContent!=="string"||typeof t.removeChild!=="function"||!(t.attributes instanceof d)||typeof t.removeAttribute!=="function"||typeof t.setAttribute!=="function"||typeof t.namespaceURI!=="string"||typeof t.insertBefore!=="function")};var Re=function e(t){return wX(a)==="object"?t instanceof a:t&&wX(t)==="object"&&typeof t.nodeType==="number"&&typeof t.nodeName==="string"};var Be=function e(o,n,s){if(!E[o]){return}jX(E[o],(function(e){e.call(t,n,s,ve)}))};var Le=function e(o){var n;Be("beforeSanitizeElements",o,null);if(Me(o)){Ee(o);return true}if(YX(/[\u0080-\uFFFF]/,o.nodeName)){Ee(o);return true}var s=be(o.nodeName);Be("uponSanitizeElement",o,{tagName:s,allowedTags:H});if(o.hasChildNodes()&&!Re(o.firstElementChild)&&(!Re(o.content)||!Re(o.content.firstElementChild))&&YX(/<[/\w]/g,o.innerHTML)&&YX(/<[/\w]/g,o.textContent)){Ee(o);return true}if(s==="select"&&YX(/<template/i,o.innerHTML)){Ee(o);return true}if(!H[s]||j[s]){if(!j[s]&&Ie(s)){if(V.tagNameCheck instanceof RegExp&&YX(V.tagNameCheck,s))return false;if(V.tagNameCheck instanceof Function&&V.tagNameCheck(s))return false}if(te&&!se[s]){var r=b(o)||o.parentNode;var a=y(o)||o.childNodes;if(a&&r){var i=a.length;for(var l=i-1;l>=0;--l){r.insertBefore(p(a[l],true),h(o))}}}Ee(o);return true}if(o instanceof c&&!Te(o)){Ee(o);return true}if((s==="noscript"||s==="noembed")&&YX(/<\/no(script|embed)/i,o.innerHTML)){Ee(o);return true}if($&&o.nodeType===3){n=o.textContent;n=$X(n,D," ");n=$X(n,A," ");if(o.textContent!==n){UX(t.removed,{element:o.cloneNode()});o.textContent=n}}Be("afterSanitizeElements",o,null);return false};var He=function e(t,o,s){if(ee&&(o==="id"||o==="name")&&(s in n||s in ke)){return false}if(q&&!Z[o]&&YX(N,o));else if(U&&YX(M,o));else if(!P[o]||Z[o]){if(Ie(t)&&(V.tagNameCheck instanceof RegExp&&YX(V.tagNameCheck,t)||V.tagNameCheck instanceof Function&&V.tagNameCheck(t))&&(V.attributeNameCheck instanceof RegExp&&YX(V.attributeNameCheck,o)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(o))||o==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&YX(V.tagNameCheck,s)||V.tagNameCheck instanceof Function&&V.tagNameCheck(s)));else{return false}}else if(ie[o]);else if(YX(L,$X(s,B,"")));else if((o==="src"||o==="xlink:href"||o==="href")&&t!=="script"&&GX(s,"data:")===0&&ae[t]);else if(W&&!YX(R,$X(s,B,"")));else if(!s);else{return false}return true};var Ie=function e(t){return t.indexOf("-")>0};var Pe=function e(t){var o;var n;var s;var r;Be("beforeSanitizeAttributes",t,null);var a=t.attributes;if(!a){return}var c={attrName:"",attrValue:"",keepAttr:true,allowedAttributes:P};r=a.length;while(r--){o=a[r];var i=o,l=i.name,d=i.namespaceURI;n=l==="value"?o.value:KX(o.value);s=be(l);var u=n;c.attrName=s;c.attrValue=n;c.keepAttr=true;c.forceKeepAttr=undefined;Be("uponSanitizeAttribute",t,c);n=c.attrValue;if(c.forceKeepAttr){continue}if(!c.keepAttr){De(l,t);continue}if(YX(/\/>/i,n)){De(l,t);continue}if($){n=$X(n,D," ");n=$X(n,A," ")}var f=be(t.nodeName);if(!He(f,s,n)){De(l,t);continue}if(n!==u){try{if(d){t.setAttributeNS(d,l,n)}else{t.setAttribute(l,n)}}catch(e){De(l,t)}}}Be("afterSanitizeAttributes",t,null)};var Fe=function e(t){var o;var n=Ne(t);Be("beforeSanitizeShadowDOM",t,null);while(o=n.nextNode()){Be("uponSanitizeShadowNode",o,null);if(Le(o)){continue}if(o.content instanceof s){e(o.content)}Pe(o)}Be("afterSanitizeShadowDOM",t,null)};t.sanitize=function(n,r){var c;var i;var l;var d;var u;ge=!n;if(ge){n="\x3c!--\x3e"}if(typeof n!=="string"&&!Re(n)){if(typeof n.toString!=="function"){throw XX("toString is not a function")}else{n=n.toString();if(typeof n!=="string"){throw XX("dirty is not a string, aborting")}}}if(!t.isSupported){if(wX(e.toStaticHTML)==="object"||typeof e.toStaticHTML==="function"){if(typeof n==="string"){return e.toStaticHTML(n)}if(Re(n)){return e.toStaticHTML(n.outerHTML)}}return n}if(!K){_e(r)}t.removed=[];if(typeof n==="string"){oe=false}if(oe){if(n.nodeName){var f=be(n.nodeName);if(!H[f]||j[f]){throw XX("root node is forbidden and cannot be sanitized in-place")}}}else if(n instanceof a){c=Ae("\x3c!----\x3e");i=c.ownerDocument.importNode(n,true);if(i.nodeType===1&&i.nodeName==="BODY"){c=i}else if(i.nodeName==="HTML"){c=i}else{c.appendChild(i)}}else{if(!X&&!$&&!G&&n.indexOf("<")===-1){return k&&Q?k.createHTML(n):n}c=Ae(n);if(!c){return X?null:Q?w:""}}if(c&&Y){Ee(c.firstChild)}var m=Ne(oe?n:c);while(l=m.nextNode()){if(l.nodeType===3&&l===d){continue}if(Le(l)){continue}if(l.content instanceof s){Fe(l.content)}Pe(l);d=l}d=null;if(oe){return n}if(X){if(J){u=S.call(c.ownerDocument);while(c.firstChild){u.appendChild(c.firstChild)}}else{u=c}if(P.shadowroot){u=O.call(o,u,true)}return u}var g=G?c.outerHTML:c.innerHTML;if(G&&H["!doctype"]&&c.ownerDocument&&c.ownerDocument.doctype&&c.ownerDocument.doctype.name&&YX(wJ,c.ownerDocument.doctype.name)){g="<!DOCTYPE "+c.ownerDocument.doctype.name+">\n"+g}if($){g=$X(g,D," ");g=$X(g,A," ")}return k&&Q?k.createHTML(g):g};t.setConfig=function(e){_e(e);K=true};t.clearConfig=function(){ve=null;K=false};t.isValidAttribute=function(e,t,o){if(!ve){_e({})}var n=be(e);var s=be(t);return He(n,s,o)};t.addHook=function(e,t){if(typeof t!=="function"){return}E[e]=E[e]||[];UX(E[e],t)};t.removeHook=function(e){if(E[e]){return ZX(E[e])}};t.removeHooks=function(e){if(E[e]){E[e]=[]}};t.removeAllHooks=function(){E={}};return t}var SJ=CJ();const zJ=e=>SJ().sanitize(e);const OJ=ex.deviceType.isTouch();const TJ=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]});const EJ=(e,t)=>tK.parts.close(M_.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Mu([JD.config({})])}));const DJ=()=>tK.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}});const AJ=(e,t)=>tK.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:AV(`<p>${zJ(t.translate(e))}</p>`)}]}]});const NJ=e=>tK.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e});const MJ=(e,t)=>[jD.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),jD.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})];const RJ=e=>{const t="tox-dialog";const o=t+"-wrap";const n=o+"__backdrop";const s=t+"__disable-scroll";return tK.sketch({lazySink:e.lazySink,onEscape:t=>{e.onEscape(t);return M.some(true)},useTabstopAt:e=>!tB(e),dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:AV(`<div class="${o}"></div>`),components:[{dom:{tag:"div",classes:OJ?[n,n+"--opaque"]:[n]}}]}},dragBlockClass:o,modalBehaviours:Mu([hw.config({}),cw("dialog-events",e.dialogEvents.concat([Wc(ja(),((e,t)=>{qk.focusIn(e)}))])),cw("scroll-lock",[$c((()=>{ul(Xt(),s)})),Gc((()=>{ml(Xt(),s)}))]),...e.extraBehaviours]),eventOrder:{[rc()]:["dialog-events"],[hc()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[yc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})};const BJ=e=>M_.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[W_("close",{tag:"div",classes:["tox-icon"]},e.icons)],action:e=>{zc(e,iA)}});const LJ=(e,t,o,n)=>{const s=e=>[jl(n.translate(e.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...o.map((e=>({id:e}))).getOr({})}},components:[],behaviours:Mu([pU.config({channel:`${mX}-${t}`,initialData:e,renderComponents:s})])}};const HJ=()=>({dom:AV('<div class="tox-dialog__draghandle"></div>')});const IJ=(e,t,o,n)=>jD.sketch({dom:AV('<div class="tox-dialog__header"></div>'),components:[LJ(e,t,M.some(o),n),HJ(),BJ(n)],containerBehaviours:Mu([EG.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>sd(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])});const PJ=(e,t,o)=>{const n=tK.parts.title(LJ(e,t,M.none(),o));const s=tK.parts.draghandle(HJ());const r=tK.parts.close(BJ(o));const a=[n].concat(e.draggable?[s]:[]).concat([r]);return jD.sketch({dom:AV('<div class="tox-dialog__header"></div>'),components:a})};const FJ=(e,t,o)=>PJ({title:o.shared.providers.translate(e),draggable:o.dialog.isDraggableModal()},t,o.shared.providers);const VJ=(e,t,o)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:AV('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]});const jJ=(e,t,o)=>({onClose:()=>o.closeWindow(),onBlock:o=>{tK.setBusy(e(),((e,n)=>VJ(o.message,n,t)))},onUnblock:()=>{tK.setIdle(e())}});const ZJ=(e,t,o,n)=>{const s=(e,t)=>M.some(t);return $l(RJ({...e,lazySink:n.shared.getSink,extraBehaviours:[pU.config({channel:`${fX}-${e.id}`,updateState:s,initialData:t}),IR.memory({}),...e.extraBehaviours],onEscape:e=>{zc(e,iA)},dialogEvents:o,eventOrder:{[sc()]:[pU.name(),Pu.name()],[hc()]:["scroll-lock",pU.name(),"messages","dialog-events","alloy.base.behaviour"],[yc()]:["alloy.base.behaviour","dialog-events","messages",pU.name(),"scroll-lock"]}}))};const UJ=e=>{const t=e=>{const t=Z(e.items,(e=>{const t=la(false);return{...e,storage:t}}));return{...e,items:t}};return Z(e,(e=>e.type==="menu"?t(e):e))};const qJ=e=>K(e,((e,t)=>{if(t.type==="menu"){const o=t;return K(o.items,((e,t)=>{e[t.name]=t.storage;return e}),e)}return e}),{});const WJ=(e,t)=>[Zc(ja(),eB),e(cA,((e,o)=>{t.onClose();o.onClose()})),e(iA,((e,t,o,n)=>{t.onCancel(e);zc(n,cA)})),Hc(fA,((e,o)=>t.onUnblock())),Hc(uA,((e,o)=>t.onBlock(o.event)))];const $J=(e,t)=>{const o=(t,o)=>Hc(t,((t,s)=>{n(t,((n,r)=>{o(e(),n,s.event,t)}))}));const n=(e,t)=>{pU.getState(e).get().each((o=>{t(o,e)}))};return[...WJ(o,t),o(lA,((e,t,o)=>{t.onAction(e,{name:o.name})}))]};const GJ=(e,t,o)=>{const n=(t,o)=>Hc(t,((t,n)=>{s(t,((s,r)=>{o(e(),s,n.event,t)}))}));const s=(e,t)=>{pU.getState(e).get().each((o=>{t(o.internalDialog,e)}))};return[...WJ(n,t),n(dA,((e,t)=>t.onSubmit(e))),n(aA,((e,t,o)=>{t.onChange(e,{name:o.name})})),n(lA,((e,t,n,s)=>{const r=()=>qk.focusIn(s);const a=e=>so(e,"disabled")||no(e,"aria-disabled").exists((e=>e==="true"));const c=Zt(s.element);const i=qu(c);t.onAction(e,{name:n.name,value:n.value});qu(c).fold(r,(e=>{if(a(e)){r()}else if(i.exists((t=>zt(e,t)&&a(t)))){r()}else{o().toOptional().filter((t=>!zt(t.element,e))).each(r)}}))})),n(mA,((e,t,o)=>{t.onTabChange(e,{newTabName:o.name,oldTabName:o.oldName})})),Gc((t=>{const o=e();ph.setValue(t,o.getData())}))]};const KJ={initUrlDialog:$J,initDialog:GJ};const YJ=(e,t)=>jL(e,e.type,t);const XJ=(e,t,o)=>X(t,(e=>e.name===o)).bind((t=>t.memento.getOpt(e)));const JJ=(e,t)=>{const o=t.map((e=>e.footerButtons)).getOr([]);const n=W(o,(e=>e.align==="start"));const s=(e,t)=>jD.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${e}`]},components:Z(t,(e=>e.memento.asSpec()))});const r=s("start",n.pass);const a=s("end",n.fail);return[r,a]};const QJ=(e,t,o)=>{const n=(e,t)=>{const n=Z(t.buttons,(e=>{const t=R_(YJ(e,o));return{name:e.name,align:e.align,memento:t}}));const s=t=>XJ(e,n,t);return M.some({lookupByName:s,footerButtons:n})};return{dom:AV('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Mu([pU.config({channel:`${pX}-${t}`,initialData:e,updateState:n,renderComponents:JJ})])}};const eQ=(e,t,o)=>QJ(e,t,o);const tQ=(e,t,o)=>tK.parts.footer(QJ(e,t,o));const oQ=(e,t)=>{const o=e.getRoot();if(o.getSystem().isConnected()){const o=My.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return vR.getField(o,t).orThunk((()=>{const o=e.getFooter();const n=pU.getState(o).get();return n.bind((e=>e.lookupByName(t)))}))}else{return M.none()}};const nQ=(e,t)=>{const o=e.getRoot();return pU.getState(o).get().map((e=>Sr(Cr("data",e.dataValidator,t)))).getOr(t)};const sQ=(e,t,o)=>{const n=t=>{const o=e.getRoot();if(o.getSystem().isConnected()){t(o)}};const s=()=>{const t=e.getRoot();const n=t.getSystem().isConnected()?e.getFormWrapper():t;const s=ph.getValue(n);const r=pe(o,(e=>e.get()));return{...s,...r}};const r=t=>{n((n=>{const s=g.getData();const r=zs(s,t);const a=nQ(e,r);const c=e.getFormWrapper();ph.setValue(c,a);ge(o,((e,t)=>{if(Se(r,t)){e.set(r[t])}}))}))};const a=(t,o)=>{oQ(e,t).each(o?Jy.enable:Jy.disable)};const i=t=>{oQ(e,t).each(hw.focus)};const l=e=>{if(!c(e)){throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument")}n((t=>{Oc(t,uA,{message:e})}))};const d=()=>{n((e=>{zc(e,fA)}))};const u=t=>{n((o=>{const n=e.getBody();const s=pU.getState(n);if(s.get().exists((e=>e.isTabPanel()))){My.getCurrent(n).each((e=>{eX.showTab(e,t)}))}}))};const f=o=>{n((n=>{const s=e.getId();const r=t(o);n.getSystem().broadcastOn([`${fX}-${s}`],r);n.getSystem().broadcastOn([`${mX}-${s}`],r.internalDialog);n.getSystem().broadcastOn([`${gX}-${s}`],r.internalDialog);n.getSystem().broadcastOn([`${pX}-${s}`],r.internalDialog);g.setData(r.initialData)}))};const m=()=>{n((e=>{zc(e,cA)}))};const g={getData:s,setData:r,setEnabled:a,focus:i,block:l,unblock:d,showTab:u,redial:f,close:m};return g};const rQ=e=>{switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}};const aQ=(e,t,o)=>{const n=li("dialog");const s=e.internalDialog;const r=FJ(s.title,n,o);const a=vX({body:s.body,initialData:s.initialData},n,o);const c=UJ(s.buttons);const i=qJ(c);const l=tQ({buttons:c},n,o);const d=KJ.initDialog((()=>p),jJ((()=>m),o.shared.providers,t),o.shared.getSink);const u=rQ(s.size);const f={id:n,header:r,body:a,footer:M.some(l),extraClasses:u,extraBehaviours:[],extraStyles:{}};const m=ZJ(f,e,d,o);const g=(()=>{const e=()=>{const e=tK.getBody(m);return My.getCurrent(e).getOr(e)};return{getId:x(n),getRoot:x(m),getBody:()=>tK.getBody(m),getFooter:()=>tK.getFooter(m),getFormWrapper:e}})();const p=sQ(g,t.redial,i);return{dialog:m,instanceApi:p}};const cQ=(e,t,o,n)=>{const s=li("dialog");const r=li("dialog-label");const a=li("dialog-content");const c=e.internalDialog;const i=(e,t)=>M.some(t);const l=R_(IJ({title:c.title,draggable:true},s,r,o.shared.providers));const d=R_(bX({body:c.body,initialData:c.initialData},s,a,o,n));const u=UJ(c.buttons);const f=qJ(u);const m=R_(eQ({buttons:u},s,o));const g=KJ.initDialog((()=>h),{onBlock:e=>{TV.block(p,((t,n)=>VJ(e.message,n,o.shared.providers)))},onUnblock:()=>{TV.unblock(p)},onClose:()=>t.closeWindow()},o.shared.getSink);const p=$l({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:{role:"dialog",["aria-labelledby"]:r,["aria-describedby"]:a}},eventOrder:{[sc()]:[pU.name(),Pu.name()],[rc()]:["execute-on-form"],[hc()]:["reflecting","execute-on-form"]},behaviours:Mu([qk.config({mode:"cyclic",onEscape:e=>{zc(e,cA);return M.some(true)},useTabstopAt:e=>!tB(e)&&(ft(e)!=="button"||oo(e,"disabled")!=="disabled")}),pU.config({channel:`${fX}-${s}`,updateState:i,initialData:e}),hw.config({}),cw("execute-on-form",g.concat([Wc(ja(),((e,t)=>{qk.focusIn(e)}))])),TV.config({getRoot:()=>M.some(p)}),rw.config({}),IR.memory({})]),components:[l.asSpec(),d.asSpec(),m.asSpec()]});const h=sQ({getId:x(s),getRoot:x(p),getFooter:()=>m.get(p),getBody:()=>d.get(p),getFormWrapper:()=>{const e=d.get(p);return My.getCurrent(e).getOr(e)}},t.redial,f);return{dialog:p,instanceApi:h}};var iQ=tinymce.util.Tools.resolve("tinymce.util.URI");const lQ=e=>{const t=t=>{if(e.getSystem().isConnected()){t(e)}};const o=e=>{if(!c(e)){throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument")}t((t=>{Oc(t,uA,{message:e})}))};const n=()=>{t((e=>{zc(e,fA)}))};const s=()=>{t((e=>{zc(e,cA)}))};const r=e=>{t((t=>{t.getSystem().broadcastOn([hX],e)}))};return{block:o,unblock:n,close:s,sendMessage:r}};const dQ=["insertContent","setContent","execCommand","close","block","unblock"];const uQ=e=>i(e)&&dQ.indexOf(e.mceAction)!==-1;const fQ=e=>!uQ(e)&&i(e)&&Se(e,"mceAction");const mQ=(e,t,o)=>{switch(o.mceAction){case"insertContent":e.insertContent(o.content);break;case"setContent":e.setContent(o.content);break;case"execCommand":const n=f(o.ui)?o.ui:false;e.execCommand(o.cmd,n,o.value);break;case"close":t.close();break;case"block":t.block(o.message);break;case"unblock":t.unblock();break}};const gQ=(e,t,o,n)=>{const s=li("dialog");const r=FJ(e.title,s,n);const a=kX(e);const c=e.buttons.bind((e=>{if(e.length===0){return M.none()}else{return M.some(tQ({buttons:e},s,n))}}));const i=KJ.initUrlDialog((()=>b),jJ((()=>y),n.shared.providers,t));const l={...e.height.fold((()=>({})),(e=>({height:e+"px","max-height":e+"px"}))),...e.width.fold((()=>({})),(e=>({width:e+"px","max-width":e+"px"})))};const d=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[];const u=new iQ(e.url,{base_uri:new iQ(window.location.href)});const f=`${u.protocol}://${u.host}${u.port?":"+u.port:""}`;const m=wf();const g=[cw("messages",[$c((()=>{const t=Cf(Qe.fromDom(window),"message",(t=>{if(u.isSameOrigin(new iQ(t.raw.origin))){const n=t.raw.data;if(uQ(n)){mQ(o,b,n)}else if(fQ(n)){e.onMessage(b,n)}}}));m.set(t)})),Gc(m.clear)]),Pu.config({channels:{[hX]:{onReceive:(e,t)=>{nd(e.element,"iframe").each((e=>{const o=e.dom.contentWindow;if(p(o)){o.postMessage(t,f)}}))}}}})];const h={id:s,header:r,body:a,footer:c,extraClasses:d,extraBehaviours:g,extraStyles:l};const y=ZJ(h,e,i,n);const b=lQ(y);return{dialog:y,instanceApi:b}};const pQ=e=>{const t=e.shared;const o=(o,n)=>{const s=()=>{tK.hide(i);n()};const r=R_(jL({name:"close-alert",text:"OK",primary:true,buttonType:M.some("primary"),align:"end",enabled:true,icon:M.none()},"cancel",e));const a=DJ();const c=EJ(s,t.providers);const i=$l(RJ({lazySink:()=>t.getSink(),header:TJ(a,c),body:AJ(o,t.providers),footer:M.some(NJ(MJ([],[r.asSpec()]))),onEscape:s,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Hc(iA,s)],eventOrder:{}}));tK.show(i);const l=r.get(i);hw.focus(l)};return{open:o}};const hQ=e=>{const t=e.shared;const o=(o,n)=>{const s=e=>{tK.hide(l);n(e)};const r=R_(jL({name:"yes",text:"Yes",primary:true,buttonType:M.some("primary"),align:"end",enabled:true,icon:M.none()},"submit",e));const a=jL({name:"no",text:"No",primary:false,buttonType:M.some("secondary"),align:"end",enabled:true,icon:M.none()},"cancel",e);const c=DJ();const i=EJ((()=>s(false)),t.providers);const l=$l(RJ({lazySink:()=>t.getSink(),header:TJ(c,i),body:AJ(o,t.providers),footer:M.some(NJ(MJ([],[a,r.asSpec()]))),onEscape:()=>s(false),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Hc(iA,(()=>s(false))),Hc(dA,(()=>s(true)))],eventOrder:{}}));tK.show(l);const d=r.get(l);hw.focus(d)};return{open:o}};const yQ=(e,t)=>Sr(Cr("data",t,e));const bQ=e=>bD(e,".tox-alert-dialog")||bD(e,".tox-confirm-dialog");const vQ=(e,t,o)=>{if(t&&o){return[]}else{return[JP.config({contextual:{lazyContext:()=>M.some(ts(Qe.fromDom(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]}};const kQ=e=>{const t=e.editor;const o=Qx(t);const n=pQ(e.backstages.dialog);const s=hQ(e.backstages.dialog);const r=(t,o,n)=>{if(o!==undefined&&o.inline==="toolbar"){return l(t,e.backstages.popup.shared.anchors.inlineDialog(),n,o.ariaAttrs)}else if(o!==undefined&&o.inline==="cursor"){return l(t,e.backstages.popup.shared.anchors.cursor(),n,o.ariaAttrs)}else{return i(t,n)}};const a=(e,t)=>c(e,t);const c=(o,n)=>{const s=o=>{const s=gQ(o,{closeWindow:()=>{tK.hide(s.dialog);n(s.instanceApi)}},t,e.backstages.dialog);tK.show(s.dialog);return s.instanceApi};return HY.openUrl(s,o)};const i=(t,o)=>{const n=(t,n,s)=>{const r=n;const a={dataValidator:s,initialData:r,internalDialog:t};const c=aQ(a,{redial:HY.redial,closeWindow:()=>{tK.hide(c.dialog);o(c.instanceApi)}},e.backstages.dialog);tK.show(c.dialog);c.instanceApi.setData(r);return c.instanceApi};return HY.open(n,t)};const l=(n,s,r,a=false)=>{const c=(n,c,i)=>{const l=yQ(c,i);const d=_f();const u=e.backstages.popup.shared.header.isPositionedAtTop();const f={dataValidator:i,initialData:l,internalDialog:n};const m=()=>d.on((e=>{D_.reposition(e);JP.refresh(e)}));const g=cQ(f,{redial:HY.redial,closeWindow:()=>{d.on(D_.hide);t.off("ResizeEditor",m);d.clear();r(g.instanceApi)}},e.backstages.popup,a);const p=$l(D_.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...u?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Mu([cw("window-manager-inline-events",[Hc(bc(),((e,t)=>{zc(g.dialog,iA)}))]),...vQ(t,o,u)]),isExtraPart:(e,t)=>bQ(t)}));d.set(p);D_.showWithin(p,Gl(g.dialog),{anchor:s},M.some(Xt()));if(!o||!u){JP.refresh(p);t.on("ResizeEditor",m)}g.instanceApi.setData(l);qk.focusIn(g.dialog);return g.instanceApi};return HY.open(c,n)};const d=(e,t)=>{s.open(e,t)};const u=(e,t)=>{n.open(e,t)};const f=e=>{e.close()};return{open:r,openUrl:a,alert:u,close:f,confirm:d}};const wQ=e=>{rx(e);ET(e);HW(e)};var _Q=()=>{N.add("silver",(e=>{wQ(e);const{dialogs:t,popups:o,renderUI:n}=GG(e);yD.register(e,o.backstage.shared);const s=kQ({editor:e,backstages:{popup:o.backstage,dialog:t.backstage}});const r=()=>X_(e,{backstage:o.backstage},o.getMothership());return{renderUI:n,getWindowManagerImpl:x(s),getNotificationManagerImpl:r}}))};_Q()})()},(e,t,o)=>{o(7)},()=>{(function(){"use strict";const e=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");var o=tinymce.util.Tools.resolve("tinymce.Env");const n=e=>e.dispatch("ResizeEditor");const s=e=>t=>t.options.get(e);const r=e=>{const t=e.options.register;t("autoresize_overflow_padding",{processor:"number",default:1});t("autoresize_bottom_margin",{processor:"number",default:50})};const a=s("min_height");const c=s("max_height");const i=s("autoresize_overflow_padding");const l=s("autoresize_bottom_margin");const d=e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen();const u=(e,t)=>{const o=e.getBody();if(o){o.style.overflowY=t?"":"hidden";if(!t){o.scrollTop=0}}};const f=(e,t,o,n)=>{var s;const r=parseInt((s=e.getStyle(t,o,n))!==null&&s!==void 0?s:"",10);return isNaN(r)?0:r};const m=e=>{if((e===null||e===void 0?void 0:e.type.toLowerCase())==="setcontent"){const t=e;return t.selection===true||t.paste===true}else{return false}};const g=(e,t,s)=>{var r;const i=e.dom;const p=e.getDoc();if(!p){return}if(d(e)){u(e,true);return}const h=p.documentElement;const y=l(e);const b=(r=a(e))!==null&&r!==void 0?r:e.getElement().offsetHeight;let v=b;const k=f(i,h,"margin-top",true);const w=f(i,h,"margin-bottom",true);let _=h.offsetHeight+k+w+y;if(_<0){_=0}const x=e.getContainer().offsetHeight;const C=e.getContentAreaContainer().offsetHeight;const S=x-C;if(_+S>b){v=_+S}const z=c(e);if(z&&v>z){v=z;u(e,true)}else{u(e,false)}if(v!==t.get()){const r=v-t.get();i.setStyle(e.getContainer(),"height",v+"px");t.set(v);n(e);if(o.browser.isSafari()&&(o.os.isMacOS()||o.os.isiOS())){const t=e.getWin();t.scrollTo(t.pageXOffset,t.pageYOffset)}if(e.hasFocus()&&m(s)){e.selection.scrollIntoView()}if((o.browser.isSafari()||o.browser.isChromium())&&r<0){g(e,t,s)}}};const p=(e,t)=>{e.on("init",(()=>{const t=i(e);const o=e.dom;o.setStyles(e.getDoc().documentElement,{height:"auto"});o.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t,"min-height":0})}));e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",(o=>{g(e,t,o)}))};const h=(e,t)=>{e.addCommand("mceAutoResize",(()=>{g(e,t)}))};var y=()=>{t.add("autoresize",(t=>{r(t);if(!t.options.isSet("resize")){t.options.set("resize",false)}if(!t.inline){const o=e(0);h(t,o);p(t,o)}}))};y()})()},(e,t,o)=>{o(9)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t)=>{e.focus();e.undoManager.transact((()=>{e.setContent(t)}));e.selection.setCursorLocation();e.nodeChanged()};const o=e=>e.getContent({source_view:true});const n=e=>{const n=o(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:{code:n},onSubmit:o=>{t(e,o.getData().code);o.close()}})};const s=e=>{e.addCommand("mceCodeEditor",(()=>{n(e)}))};const r=e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t});e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})};var a=()=>{e.add("code",(e=>{s(e);r(e);return{}}))};a()})()},(e,t,o)=>{o(11)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=n("string");const a=s("boolean");const c=e=>e===null||e===undefined;const i=e=>!c(e);const l=s("function");const d=s("number");const u=(e,t)=>o=>e(t(o));const f=e=>()=>e;const m=f(false);class g{constructor(e,t){this.tag=e;this.value=t}static some(e){return new g(true,e)}static none(){return g.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return g.some(e(this.value))}else{return g.none()}}bind(e){if(this.tag){return e(this.value)}else{return g.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return g.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return i(e)?g.some(e):g.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}g.singletonNone=new g(false);const p=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const h=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const y=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const b=9;const v=11;const k=1;const w=3;const _=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return S(n.childNodes[0])};const x=(e,t)=>{const o=t||document;const n=o.createElement(e);return S(n)};const C=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return S(n)};const S=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const z=(e,t,o)=>g.from(e.dom.elementFromPoint(t,o)).map(S);const O={fromHtml:_,fromTag:x,fromText:C,fromDom:S,fromPoint:z};const T=(e,t)=>{const o=e.dom;if(o.nodeType!==k){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};typeof window!=="undefined"?window:Function("return this;")();const E=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const D=e=>e.dom.nodeType;const A=e=>t=>D(t)===e;const N=A(k);const M=A(w);const R=A(b);const B=A(v);const L=e=>t=>N(t)&&E(t)===e;const H=e=>O.fromDom(e.dom.ownerDocument);const I=e=>R(e)?e:H(e);const P=e=>g.from(e.dom.parentNode).map(O.fromDom);const F=e=>p(e.dom.childNodes,O.fromDom);const V=(e,t,o)=>{if(r(o)||a(o)||d(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const j=(e,t,o)=>{V(e.dom,t,o)};const Z=(e,t)=>{e.dom.removeAttribute(t)};const U=e=>B(e)&&i(e.dom.host);const q=l(Element.prototype.attachShadow)&&l(Node.prototype.getRootNode);const W=q?e=>O.fromDom(e.dom.getRootNode()):I;const $=e=>{const t=W(e);return U(t)?g.some(t):g.none()};const G=e=>O.fromDom(e.dom.host);const K=e=>{const t=M(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return $(O.fromDom(t)).fold((()=>o.body.contains(t)),u(K,G))};const Y=(e,t,o)=>{let n=e.dom;const s=l(o)?o:m;while(n.parentNode){n=n.parentNode;const e=O.fromDom(n);if(t(e)){return g.some(e)}else if(s(e)){break}}return g.none()};const X=(e,t,o)=>Y(e,(e=>T(e,t)),o);const J=e=>e.style!==undefined&&l(e.style.getPropertyValue);const Q=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!K(e)?ee(o,t):s};const ee=(e,t)=>J(e)?e.style.getPropertyValue(t):"";const te=e=>Q(e,"direction")==="rtl"?"rtl":"ltr";const oe=(e,t)=>y(F(e),t);const ne=(e,t)=>oe(e,(e=>T(e,t)));const se=e=>P(e).filter(N);const re=(e,t)=>{const o=t?X(e,"ol,ul"):g.some(e);return o.getOr(e)};const ae=L("li");const ce=(e,t)=>{const o=e.selection.getSelectedBlocks();if(o.length>0){h(o,(e=>{const o=O.fromDom(e);const n=ae(o);const s=re(o,n);const r=se(s);r.each((e=>{const o=te(e);if(o!==t){j(s,"dir",t)}else if(te(s)!==t){Z(s,"dir")}if(n){const e=ne(s,"li[dir]");h(e,(e=>Z(e,"dir")))}}))}));e.nodeChanged()}};const ie=e=>{e.addCommand("mceDirectionLTR",(()=>{ce(e,"ltr")}));e.addCommand("mceDirectionRTL",(()=>{ce(e,"rtl")}))};const le=(e,t)=>o=>{const n=e=>{const n=O.fromDom(e.element);o.setActive(te(n)===t)};e.on("NodeChange",n);return()=>e.off("NodeChange",n)};const de=e=>{e.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>e.execCommand("mceDirectionLTR"),onSetup:le(e,"ltr")});e.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>e.execCommand("mceDirectionRTL"),onSetup:le(e,"rtl")})};var ue=()=>{e.add("directionality",(e=>{ie(e);de(e)}))};ue()})()},(e,t,o)=>{o(13)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>e===t;const o=t(null);const n=t(undefined);const s=e=>e===null||e===undefined;const r=e=>!s(e);const a=()=>{};const c=e=>()=>e;const i=c(false);class l{constructor(e,t){this.tag=e;this.value=t}static some(e){return new l(true,e)}static none(){return l.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return l.some(e(this.value))}else{return l.none()}}bind(e){if(this.tag){return e(this.value)}else{return l.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return l.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return r(e)?l.some(e):l.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}l.singletonNone=new l(false);const d=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const u=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const f=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const m=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const g=(e,t)=>{let n=null;const s=()=>{if(!o(n)){clearTimeout(n);n=null}};const r=(...o)=>{s();n=setTimeout((()=>{n=null;e.apply(null,o)}),t)};return{cancel:s,throttle:r}};const p=(e,t)=>{e.insertContent(t)};const h=Object.keys;const y=Object.hasOwnProperty;const b=(e,t)=>{const o=h(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const v=(e,t)=>k(e,((e,o)=>({k:o,v:t(e,o)})));const k=(e,t)=>{const o={};b(e,((e,n)=>{const s=t(e,n);o[s.k]=s.v}));return o};const w=(e,t)=>y.call(e,t);const _=(e,t)=>t;const x=e=>(...t)=>{if(t.length===0){throw new Error(`Can't merge zero objects`)}const o={};for(let n=0;n<t.length;n++){const s=t[n];for(const t in s){if(w(s,t)){o[t]=e(o[t],s[t])}}}return o};const C=x(_);const S=e=>{const t=m(l.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(l.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(l.some(e))};return{clear:n,isSet:s,get:r,set:a}};const z=()=>{const e=S(a);const t=t=>e.get().each(t);return{...e,on:t}};const O=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const T=(e,t,o=0,s)=>{const r=e.indexOf(t,o);if(r!==-1){return n(s)?true:r+t.length<=s}else{return false}};const E=(e,t)=>O(e,t,0);var D=tinymce.util.Tools.resolve("tinymce.Resource");const A="tinymce.plugins.emoticons";const N=e=>t=>t.options.get(e);const M=(e,t)=>{const o=e.options.register;o("emoticons_database",{processor:"string",default:"emojis"});o("emoticons_database_url",{processor:"string",default:`${t}/js/${R(e)}${e.suffix}.js`});o("emoticons_database_id",{processor:"string",default:A});o("emoticons_append",{processor:"object",default:{}});o("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})};const R=N("emoticons_database");const B=N("emoticons_database_url");const L=N("emoticons_database_id");const H=N("emoticons_append");const I=N("emoticons_images_url");const P="All";const F={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"};const V=(e,t)=>w(e,t)?e[t]:t;const j=e=>{const t=H(e);return v(t,(e=>({keywords:[],category:"user",...e})))};const Z=(e,t,o)=>{const n=z();const s=z();const r=I(e);const a=e=>{if(E(e.char,"<img")){return e.char.replace(/src="([^"]+)"/,((e,t)=>`src="${r}${t}"`))}else{return e.char}};const c=e=>{const t={};const o=[];b(e,((e,n)=>{const s={title:n,keywords:e.keywords,char:a(e),category:V(F,e.category)};const r=t[s.category]!==undefined?t[s.category]:[];t[s.category]=r.concat([s]);o.push(s)}));n.set(t);s.set(o)};e.on("init",(()=>{D.load(o,t).then((t=>{const o=j(e);c(C(t,o))}),(e=>{console.log(`Failed to load emojis: ${e}`);n.set({});s.set([])}))}));const i=e=>{if(e===P){return d()}return n.get().bind((t=>l.from(t[e]))).getOr([])};const d=()=>s.get().getOr([]);const u=()=>[P].concat(h(n.get().getOr({})));const f=()=>{if(m()){return Promise.resolve(true)}else{return new Promise(((e,o)=>{let n=15;const s=setInterval((()=>{if(m()){clearInterval(s);e(true)}else{n--;if(n<0){console.log("Could not load emojis from url: "+t);clearInterval(s);o(false)}}}),100)}))}};const m=()=>n.isSet()&&s.isSet();return{listCategories:u,hasLoaded:m,waitForLoad:f,listAll:d,listCategory:i}};const U=(e,t)=>T(e.title.toLowerCase(),t)||d(e.keywords,(e=>T(e.toLowerCase(),t)));const q=(e,t,o)=>{const n=[];const s=t.toLowerCase();const r=o.fold((()=>i),(e=>t=>t>=e));for(let o=0;o<e.length;o++){if(t.length===0||U(e[o],s)){n.push({value:e[o].char,text:e[o].title,icon:e[o].char});if(r(n.length)){break}}}return n};const W="pattern";const $=(e,t)=>{const o={pattern:"",results:q(t.listAll(),"",l.some(300))};const n=m(P);const s=e=>{const o=e.getData();const s=n.get();const r=t.listCategory(s);const a=q(r,o[W],s===P?l.some(300):l.none());e.setData({results:a})};const r=g((e=>{s(e)}),200);const a={label:"Search",type:"input",name:W};const c={type:"collection",name:"results"};const i=()=>{const s={type:"tabpanel",tabs:u(t.listCategories(),(e=>({title:e,name:e,items:[a,c]})))};return{title:"Emojis",size:"normal",body:s,initialData:o,onTabChange:(e,t)=>{n.set(t.newTabName);r.throttle(e)},onChange:r.throttle,onAction:(t,o)=>{if(o.name==="results"){p(e,o.value);t.close()}},buttons:[{type:"cancel",text:"Close",primary:true}]}};const d=e.windowManager.open(i());d.focus(W);if(!t.hasLoaded()){d.block("Loading emojis...");t.waitForLoad().then((()=>{d.redial(i());r.throttle(d);d.focus(W);d.unblock()})).catch((e=>{d.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:true}],initialData:{pattern:"",results:[]}});d.focus(W);d.unblock()}))}};const G=(e,t)=>{e.addCommand("mceEmoticons",(()=>$(e,t)))};const K=e=>{e.on("PreInit",(()=>{e.parser.addAttributeFilter("data-emoticon",(e=>{f(e,(e=>{e.attr("data-mce-resize","false");e.attr("data-mce-placeholder","1")}))}))}))};const Y=(e,t)=>{e.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(e,o)=>t.waitForLoad().then((()=>{const n=t.listAll();return q(n,e,l.some(o))})),onAction:(t,o,n)=>{e.selection.setRng(o);e.insertContent(n);t.hide()}})};const X=e=>{const t=()=>e.execCommand("mceEmoticons");e.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:t});e.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:t})};var J=()=>{e.add("emoticons",((e,t)=>{M(e,t);const o=B(e);const n=L(e);const s=Z(e,o,n);G(e,s);X(e);Y(e,s);K(e)}))};J()})()},()=>{window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:false,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:false,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:false,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:false,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:false,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:false,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:false,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:false,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:false,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:false,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:false,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:false,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:false,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:false,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:false,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:false,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:false,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:false,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:false,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:false,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:false,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:false,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:false,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:false,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:false,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:false,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:false,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:false,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:false,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:false,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:false,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:false,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:false,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:false,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:false,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:false,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:false,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:false,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:false,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:false,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:false,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:false,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:false,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:false,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:false,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:false,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:false,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:false,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:false,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:false,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:false,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:false,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:false,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:false,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:false,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:false,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:false,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:false,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:false,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:false,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:false,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:false,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:false,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:false,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:false,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:false,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:false,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:false,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:false,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:false,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:false,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:false,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:false,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:false,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:false,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:false,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:false,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:false,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:false,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:false,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:false,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:false,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:false,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:false,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:false,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:false,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:false,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:false,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:false,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:false,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:false,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:false,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:false,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:false,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:false,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:false,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:false,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:false,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:false,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:false,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:false,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:false,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:false,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:false,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:false,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:false,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:false,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:false,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:false,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:true,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:true,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:true,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:true,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:true,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:true,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:true,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:true,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:true,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:true,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:true,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:true,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:true,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:true,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:true,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:true,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:true,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:true,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:true,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:true,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:false,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:true,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:true,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:true,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:true,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:true,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:true,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:true,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:true,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:true,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:true,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:true,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:true,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:true,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:true,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:false,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:false,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:false,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:true,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:true,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:false,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:false,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:false,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:false,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:false,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:false,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:true,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:true,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:true,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:true,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:true,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:true,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:true,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:true,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:true,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:true,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:true,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:true,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:true,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:true,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:true,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:true,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:true,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:true,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:true,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:true,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:true,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:true,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:true,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:true,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:true,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:true,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:true,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:true,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:true,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:true,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:true,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:true,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:true,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:true,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:true,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:true,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:true,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:true,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:true,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:true,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:true,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:true,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:true,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:true,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:true,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:true,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:true,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:true,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:true,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:true,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:true,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:true,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:true,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:true,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:true,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:true,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:true,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:true,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:true,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:true,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:true,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:true,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:true,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:true,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:true,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:true,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:true,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:true,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:true,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:false,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:false,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:false,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:false,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:true,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:true,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:true,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:true,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:true,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:true,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:true,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:true,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:true,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:true,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:true,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:true,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:true,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:true,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:true,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:true,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:true,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:false,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:false,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:false,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:false,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:false,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:true,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:true,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:true,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:true,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:true,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:true,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:true,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:true,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:true,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:true,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:true,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:true,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:true,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:true,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:true,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:true,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:true,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:true,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:true,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:true,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:true,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:true,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:true,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:true,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:false,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:false,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:false,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:false,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:false,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:false,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:false,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:false,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:false,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:false,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:false,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:false,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:false,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:false,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:false,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:false,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:false,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:false,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:false,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:false,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:false,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:false,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:false,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:false,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:false,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:false,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:false,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:false,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:false,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:false,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:false,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:false,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:false,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:false,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:false,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:false,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:false,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:false,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:false,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:false,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:false,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:false,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:false,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:false,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:false,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:false,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:false,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:false,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:false,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:false,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:false,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:false,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:false,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:false,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:false,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:false,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:false,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:false,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:false,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:false,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:false,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:false,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:false,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:false,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:false,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:false,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:false,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:false,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:false,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:false,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:false,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:false,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:false,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:false,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:false,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:false,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:false,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:false,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:false,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:false,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:false,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:false,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:false,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:false,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:false,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:false,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:false,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:false,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:false,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:false,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:false,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:false,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:false,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:false,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:false,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:false,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:false,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:false,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:false,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:false,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:false,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:false,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:false,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:false,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:false,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:false,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:false,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:false,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:false,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:false,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:false,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:false,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:false,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:false,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:false,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:false,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:false,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:false,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:false,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:false,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:false,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:false,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:false,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:false,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:false,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:false,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:false,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:false,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:false,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:false,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:false,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:false,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:false,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:false,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:false,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:false,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:false,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:false,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:false,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:false,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:false,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:false,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:false,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:false,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:false,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:false,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:false,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:false,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:false,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:false,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:false,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:false,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:false,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:false,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:false,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:false,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:false,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:false,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:false,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:false,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:false,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:false,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:false,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:false,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:false,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:false,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:false,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:false,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:false,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:false,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:false,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:false,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:false,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:false,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:false,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:false,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:false,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:false,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:false,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:false,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:false,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:false,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:false,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:false,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:false,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:false,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:false,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:false,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:false,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:false,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:false,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:false,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:false,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:false,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:false,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:false,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:false,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:false,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:false,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:false,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:false,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:false,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:false,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:false,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:false,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:false,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:false,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:false,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:false,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:false,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:false,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:false,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:false,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:false,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:false,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:false,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:false,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:false,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:false,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:false,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:false,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:false,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:false,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:false,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:false,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:false,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:false,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:false,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:false,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:false,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:false,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:false,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:false,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:false,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:false,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:false,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:false,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:false,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:false,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:false,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:false,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:false,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:false,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:false,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:false,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:false,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:false,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:false,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:false,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:false,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:false,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:false,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:false,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:false,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:false,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:false,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:false,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:false,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:false,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:false,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:false,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:false,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:false,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:false,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:false,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:false,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:false,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:false,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:false,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:false,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:false,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:false,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:false,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:false,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:false,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:false,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:false,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:false,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:false,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:false,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:false,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:false,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:false,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:false,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:false,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:false,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:false,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:false,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:false,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:false,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:false,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:false,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:false,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:false,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:false,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:false,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:false,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:false,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:false,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:false,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:false,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:false,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:false,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:false,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:false,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:false,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:false,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:false,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:false,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:false,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:false,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:false,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:false,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:false,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:false,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:false,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:false,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:false,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:false,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:false,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:false,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:false,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:false,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:false,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:false,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:false,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:false,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:false,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:false,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:false,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:false,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:false,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:false,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:false,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:false,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:false,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:false,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:false,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:false,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:false,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:false,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:false,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:false,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:false,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:false,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:false,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:false,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:false,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:false,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:false,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:false,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:false,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:false,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:false,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:false,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:false,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:false,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:false,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:false,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:false,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:false,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:false,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:false,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:false,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:false,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:false,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:true,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:false,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:false,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:false,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:false,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:false,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:false,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:false,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:false,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:false,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:true,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:false,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:false,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:false,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:true,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:true,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:true,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:true,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:false,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:false,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:false,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:false,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:false,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:false,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:false,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:false,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:true,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:true,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:true,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:true,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:true,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:true,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:true,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:true,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:true,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:true,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:true,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:true,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:true,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:true,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:true,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:true,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:true,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:true,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:true,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:true,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:true,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:true,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:true,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:false,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:false,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:false,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:false,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:false,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:false,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:false,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:false,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:false,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:false,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:false,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:false,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:false,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:false,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:true,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:true,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:false,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:false,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:false,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:false,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:false,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:false,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:false,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:false,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:false,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:false,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:false,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:false,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:false,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:false,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:false,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:false,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:false,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:false,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:false,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:false,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:false,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:false,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:false,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:false,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:false,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:false,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:false,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:false,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:false,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:false,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:false,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:false,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:false,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:false,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:false,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:false,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:false,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:false,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:false,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:false,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:false,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:false,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:false,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:false,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:false,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:false,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:false,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:false,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:false,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:false,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:false,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:false,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:false,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:false,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:false,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:false,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:false,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:false,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:false,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:false,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:false,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:false,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:false,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:false,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:false,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:false,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:false,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:false,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:false,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:false,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:false,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:false,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:false,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:false,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:false,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:false,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:false,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:false,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:false,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:false,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:false,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:false,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:false,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:false,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:false,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:false,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:false,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:false,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:false,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:false,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:false,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:false,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:false,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:false,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:false,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:false,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:false,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:false,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:false,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:false,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:false,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:false,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:false,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:false,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:false,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:false,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:false,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:false,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:false,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:false,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:false,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:false,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:false,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:false,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:false,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:false,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:false,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:false,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:false,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:false,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:false,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:false,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:false,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:false,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:false,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:false,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:false,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:false,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:false,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:false,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:false,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:false,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:false,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:false,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:false,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:false,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:false,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:false,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:false,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:false,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:false,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:false,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:false,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:false,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:false,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:false,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:false,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:false,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:false,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:false,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:false,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:false,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:false,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:false,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:false,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:false,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:false,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:false,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:false,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:false,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:false,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:false,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:false,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:false,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:false,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:false,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:false,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:false,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:false,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:false,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:false,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:false,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:false,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:false,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:false,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:false,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:false,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:false,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:false,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:false,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:false,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:false,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:false,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:false,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:false,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:false,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:false,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:false,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:false,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:false,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:false,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:false,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:false,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:false,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:false,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:false,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:false,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:false,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:false,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:false,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:false,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:false,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:false,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:false,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:false,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:false,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:false,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:false,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:false,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:false,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:false,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:false,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:false,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:false,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:false,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:false,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:false,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:false,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:false,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:false,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:false,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:false,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:false,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:false,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:false,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:false,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:false,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:false,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:false,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:false,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:false,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:false,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:false,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:false,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:false,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:false,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:false,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:false,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:false,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:false,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:false,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:false,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:false,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:false,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:false,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:true,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:false,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:false,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:false,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:false,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:false,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:false,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:false,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:false,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:false,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:false,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:false,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:false,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:false,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:false,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:false,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:false,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:false,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:false,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:false,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:false,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:false,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:false,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:false,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:false,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:false,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:false,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:false,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:false,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:false,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:false,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:false,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:false,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:false,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:false,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:false,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:false,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:false,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:false,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:false,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:false,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:false,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:false,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:false,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:false,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:false,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:false,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:false,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:false,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:false,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:false,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:false,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:false,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:false,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:false,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:false,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:false,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:false,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:false,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:false,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:false,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:false,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:false,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:false,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:false,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:false,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:false,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:false,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:false,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:false,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:false,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:false,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:false,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:false,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:false,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:false,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:false,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:false,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:false,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:false,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:false,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:false,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:false,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:false,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:false,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:false,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:false,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:false,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:false,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:false,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:false,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:false,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:false,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:false,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:false,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:false,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:false,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:false,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:false,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:false,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:false,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:false,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:false,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:false,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:false,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:false,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:false,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:false,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:false,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:false,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:false,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:false,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:false,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:false,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:false,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:false,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:false,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:false,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:false,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:false,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:false,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:false,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:false,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:false,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:false,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:false,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:false,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:false,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:false,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:false,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:false,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:false,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:false,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:false,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:false,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:false,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:false,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:false,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:false,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:false,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:false,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:false,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:false,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:false,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:false,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:false,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:false,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:false,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:false,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:false,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:false,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:false,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:false,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:false,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:false,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:false,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:false,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:false,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:false,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:false,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:false,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:false,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:false,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:false,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:false,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:false,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:false,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:false,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:false,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:false,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:false,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:false,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:false,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:false,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:false,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:false,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:false,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:false,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:false,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:false,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:false,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:false,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:false,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:false,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:false,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:false,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:false,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:false,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:false,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:false,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:false,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:false,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:false,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:false,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:false,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:false,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:false,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:false,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:false,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:false,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:false,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:false,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:false,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:false,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:false,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:false,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:false,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:false,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:false,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:false,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:false,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:false,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:false,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:false,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:false,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:false,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:false,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:false,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:false,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:false,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:false,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:false,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:false,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:false,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:false,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:false,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:false,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:false,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:false,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:false,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:false,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:false,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:false,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:false,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:false,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:false,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:false,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:false,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:false,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:false,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:false,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:false,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:false,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:false,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:false,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:false,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:false,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:false,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:false,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:false,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:false,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:false,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:false,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:false,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:false,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:false,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:false,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:false,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:false,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:false,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:false,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:false,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:false,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:false,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:false,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:false,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:false,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:false,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:false,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:false,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:false,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:false,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:false,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:false,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:false,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:false,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:false,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:false,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:false,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:false,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:false,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:false,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:false,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:false,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:false,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:false,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:false,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:false,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:false,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:false,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:false,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:false,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:false,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:false,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:false,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:false,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:false,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:false,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:false,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:false,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:false,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:false,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:false,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:false,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:false,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:false,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:false,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:false,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:false,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:false,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:false,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:false,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:false,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:false,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:false,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:false,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:false,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:false,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:false,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:false,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:false,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:false,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:false,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:false,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:false,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:false,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:false,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:false,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:false,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:false,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:false,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:false,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:false,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:false,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:false,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:false,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:false,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:false,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:false,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:false,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:false,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:false,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:false,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:false,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:false,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:false,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:false,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:false,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:false,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:false,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:false,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:false,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:false,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:false,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:false,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:false,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:false,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:false,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:false,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:false,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:false,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:false,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:false,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:false,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:false,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:false,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:false,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:false,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:false,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:false,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:false,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:false,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:false,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:false,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:false,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:false,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:false,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:false,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:false,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:false,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:false,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:false,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:false,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:false,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:false,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:false,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:false,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:false,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:false,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:false,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:false,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:false,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:false,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:false,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:false,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:false,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:false,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:false,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:false,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:false,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:false,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:false,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:false,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:false,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:false,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:false,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:false,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:false,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:false,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:false,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:false,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:false,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:false,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:false,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:false,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:false,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:false,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:false,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:false,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:false,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:false,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:false,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:false,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:false,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:false,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:false,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:false,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:false,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:false,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:false,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:false,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:false,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:false,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:false,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:false,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:false,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:false,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:false,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:false,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:false,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:false,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:false,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:false,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:false,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:false,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:false,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:false,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:false,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:false,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:false,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:false,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:false,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:false,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:false,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:false,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:false,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:false,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:false,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:false,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:false,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:false,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:false,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:false,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:false,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:false,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:false,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:false,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:false,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:false,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:false,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:false,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:false,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:false,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:false,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:false,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:false,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:false,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:false,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:false,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:false,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:false,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:false,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:false,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:false,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:false,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:false,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:false,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:false,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:false,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:false,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:false,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:false,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:false,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:false,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:false,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:false,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:false,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:false,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:false,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:false,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:false,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:false,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:false,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:false,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:false,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:false,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:false,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:false,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:false,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:false,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:false,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:false,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:false,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:false,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:false,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:false,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:false,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:false,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:false,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:false,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:false,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:false,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:false,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:false,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:false,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:false,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:false,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:false,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:false,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:false,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:false,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:false,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:false,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:false,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:false,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:false,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:false,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:false,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:false,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:false,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:false,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:false,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:false,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:false,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:false,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:false,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:false,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:false,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:false,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:false,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:false,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:false,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:false,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:false,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:false,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:false,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:false,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:false,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:false,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:false,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:false,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:false,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:false,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:false,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:false,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:false,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:false,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:false,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:false,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:false,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:false,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:false,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:false,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:false,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:false,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:false,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:false,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:false,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:false,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:false,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:false,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:false,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:false,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:false,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:false,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:false,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:false,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:false,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:false,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:false,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:false,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:false,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:false,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:false,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:false,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:false,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:false,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:false,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:false,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:false,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:false,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:false,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:false,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:false,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:false,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:false,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:false,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:false,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:false,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:false,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:false,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:false,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:false,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:false,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:false,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:false,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:false,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:false,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:false,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:false,category:"flags"}})},(e,t,o)=>{o(16)},()=>{(function(){"use strict";const e=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=e=>({isFullscreen:()=>e.get()!==null});const n=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const s=e=>{const t=typeof e;if(e===null){return"null"}else if(t==="object"&&Array.isArray(e)){return"array"}else if(t==="object"&&n(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return t}};const r=e=>t=>s(t)===e;const a=e=>t=>typeof t===e;const c=e=>t=>e===t;const i=r("string");const l=r("array");const d=c(null);const u=a("boolean");const f=c(undefined);const m=e=>e===null||e===undefined;const g=e=>!m(e);const p=a("function");const h=a("number");const y=()=>{};const b=(e,t)=>(...o)=>e(t.apply(null,o));const v=(e,t)=>o=>e(t(o));const k=e=>()=>e;function w(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const _=k(false);const x=k(true);class C{constructor(e,t){this.tag=e;this.value=t}static some(e){return new C(true,e)}static none(){return C.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return C.some(e(this.value))}else{return C.none()}}bind(e){if(this.tag){return e(this.value)}else{return C.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return C.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return g(e)?C.some(e):C.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}C.singletonNone=new C(false);const S=t=>{const o=e(C.none());const n=()=>o.get().each(t);const s=()=>{n();o.set(C.none())};const r=()=>o.get().isSome();const a=()=>o.get();const c=e=>{n();o.set(C.some(e))};return{clear:s,isSet:r,get:a,set:c}};const z=()=>S((e=>e.unbind()));const O=()=>{const e=S(y);const t=t=>e.get().each(t);return{...e,on:t}};const T=(e,t)=>{let o=null;const n=()=>{if(!d(o)){clearTimeout(o);o=null}};const s=(...n)=>{if(d(o)){o=setTimeout((()=>{o=null;e.apply(null,n)}),t)}};return{cancel:n,throttle:s}};const E=Array.prototype.push;const D=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const A=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const N=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const M=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return C.some(s)}else if(o(s,n)){break}}return C.none()};const R=(e,t)=>M(e,t,_);const B=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!l(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}E.apply(t,e[o])}return t};const L=(e,t)=>B(D(e,t));const H=(e,t)=>t>=0&&t<e.length?C.some(e[t]):C.none();const I=e=>H(e,0);const P=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return C.none()};const F=Object.keys;const V=(e,t)=>{const o=F(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const j=(e,t,o=0,n)=>{const s=e.indexOf(t,o);if(s!==-1){return f(n)?true:s+t.length<=n}else{return false}};const Z=e=>e.style!==undefined&&p(e.style.getPropertyValue);const U=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return $(n.childNodes[0])};const q=(e,t)=>{const o=t||document;const n=o.createElement(e);return $(n)};const W=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return $(n)};const $=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const G=(e,t,o)=>C.from(e.dom.elementFromPoint(t,o)).map($);const K={fromHtml:U,fromTag:q,fromText:W,fromDom:$,fromPoint:G};typeof window!=="undefined"?window:Function("return this;")();const Y=9;const X=11;const J=1;const Q=3;const ee=e=>e.dom.nodeType;const te=e=>t=>ee(t)===e;const oe=te(J);const ne=te(Q);const se=te(Y);const re=te(X);const ae=(e,t)=>{const o=e.dom;if(o.nodeType!==J){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const ce=e=>e.nodeType!==J&&e.nodeType!==Y&&e.nodeType!==X||e.childElementCount===0;const ie=(e,t)=>{const o=t===undefined?document:t.dom;return ce(o)?[]:D(o.querySelectorAll(e),K.fromDom)};const le=(e,t)=>e.dom===t.dom;const de=e=>K.fromDom(e.dom.ownerDocument);const ue=e=>se(e)?e:de(e);const fe=e=>C.from(e.dom.parentNode).map(K.fromDom);const me=(e,t)=>{const o=p(t)?t:_;let n=e.dom;const s=[];while(n.parentNode!==null&&n.parentNode!==undefined){const e=n.parentNode;const t=K.fromDom(e);s.push(t);if(o(t)===true){break}else{n=e}}return s};const ge=e=>{const t=t=>N(t,(t=>!le(e,t)));return fe(e).map(pe).map(t).getOr([])};const pe=e=>D(e.dom.childNodes,K.fromDom);const he=e=>re(e)&&g(e.dom.host);const ye=p(Element.prototype.attachShadow)&&p(Node.prototype.getRootNode);const be=k(ye);const ve=ye?e=>K.fromDom(e.dom.getRootNode()):ue;const ke=e=>{const t=ve(e);return he(t)?C.some(t):C.none()};const we=e=>K.fromDom(e.dom.host);const _e=e=>{if(be()&&g(e.target)){const t=K.fromDom(e.target);if(oe(t)&&xe(t)){if(e.composed&&e.composedPath){const t=e.composedPath();if(t){return I(t)}}}}return C.from(e.target)};const xe=e=>g(e.dom.shadowRoot);const Ce=e=>{const t=ne(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return ke(K.fromDom(t)).fold((()=>o.body.contains(t)),v(Ce,we))};const Se=e=>{const t=e.dom.body;if(t===null||t===undefined){throw new Error("Body is not available yet")}return K.fromDom(t)};const ze=(e,t,o)=>{if(i(o)||u(o)||h(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const Oe=(e,t,o)=>{ze(e.dom,t,o)};const Te=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?undefined:o};const Ee=(e,t)=>{e.dom.removeAttribute(t)};const De=(e,t,o)=>{if(!i(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(Z(e)){e.style.setProperty(t,o)}};const Ae=(e,t)=>{const o=e.dom;V(t,((e,t)=>{De(o,t,e)}))};const Ne=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!Ce(e)?Me(o,t):s};const Me=(e,t)=>Z(e)?e.style.getPropertyValue(t):"";const Re=(e,t,o,n,s,r,a)=>({target:e,x:t,y:o,stop:n,prevent:s,kill:r,raw:a});const Be=e=>{const t=K.fromDom(_e(e).getOr(e.target));const o=()=>e.stopPropagation();const n=()=>e.preventDefault();const s=b(n,o);return Re(t,e.clientX,e.clientY,o,n,s,e)};const Le=(e,t)=>o=>{if(e(o)){t(Be(o))}};const He=(e,t,o,n,s)=>{const r=Le(o,n);e.dom.addEventListener(t,r,s);return{unbind:w(Pe,e,t,r,s)}};const Ie=(e,t,o,n)=>He(e,t,o,n,false);const Pe=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)};const Fe=x;const Ve=(e,t,o)=>Ie(e,t,Fe,o);const je=e=>{let t=false;let o;return(...n)=>{if(!t){t=true;o=e.apply(null,n)}return o}};const Ze=(e,t,o,n)=>{const s=e.isiOS()&&/ipad/i.test(o)===true;const r=e.isiOS()&&!s;const a=e.isiOS()||e.isAndroid();const c=a||n("(pointer:coarse)");const i=s||!r&&a&&n("(min-device-width:768px)");const l=r||a&&!i;const d=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===false;const u=!l&&!i&&!d;return{isiPad:k(s),isiPhone:k(r),isTablet:k(i),isPhone:k(l),isTouch:k(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:k(d),isDesktop:k(u)}};const Ue=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t)){return n}}return undefined};const qe=(e,t)=>{const o=Ue(e,t);if(!o){return{major:0,minor:0}}const n=e=>Number(t.replace(o,"$"+e));return Ge(n(1),n(2))};const We=(e,t)=>{const o=String(t).toLowerCase();if(e.length===0){return $e()}return qe(e,o)};const $e=()=>Ge(0,0);const Ge=(e,t)=>({major:e,minor:t});const Ke={nu:Ge,detect:We,unknown:$e};const Ye=(e,t)=>P(t.brands,(t=>{const o=t.brand.toLowerCase();return R(e,(e=>{var t;return o===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:Ke.nu(parseInt(t.version,10),0)})))}));const Xe=(e,t)=>{const o=String(t).toLowerCase();return R(e,(e=>e.search(o)))};const Je=(e,t)=>Xe(e,t).map((e=>{const o=Ke.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const Qe=(e,t)=>Xe(e,t).map((e=>{const o=Ke.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const et=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;const tt=e=>t=>j(t,e);const ot=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>j(e,"edge/")&&j(e,"chrome")&&j(e,"safari")&&j(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,et],search:e=>j(e,"chrome")&&!j(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>j(e,"msie")||j(e,"trident")},{name:"Opera",versionRegexes:[et,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:tt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:tt("firefox")},{name:"Safari",versionRegexes:[et,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(j(e,"safari")||j(e,"mobile/"))&&j(e,"applewebkit")}];const nt=[{name:"Windows",search:tt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>j(e,"iphone")||j(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:tt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:tt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:tt("linux"),versionRegexes:[]},{name:"Solaris",search:tt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:tt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:tt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];const st={browsers:k(ot),oses:k(nt)};const rt="Edge";const at="Chromium";const ct="IE";const it="Opera";const lt="Firefox";const dt="Safari";const ut=()=>ft({current:undefined,version:Ke.unknown()});const ft=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isEdge:n(rt),isChromium:n(at),isIE:n(ct),isOpera:n(it),isFirefox:n(lt),isSafari:n(dt)}};const mt={unknown:ut,nu:ft,edge:k(rt),chromium:k(at),ie:k(ct),opera:k(it),firefox:k(lt),safari:k(dt)};const gt="Windows";const pt="iOS";const ht="Android";const yt="Linux";const bt="macOS";const vt="Solaris";const kt="FreeBSD";const wt="ChromeOS";const _t=()=>xt({current:undefined,version:Ke.unknown()});const xt=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isWindows:n(gt),isiOS:n(pt),isAndroid:n(ht),isMacOS:n(bt),isLinux:n(yt),isSolaris:n(vt),isFreeBSD:n(kt),isChromeOS:n(wt)}};const Ct={unknown:_t,nu:xt,windows:k(gt),ios:k(pt),android:k(ht),linux:k(yt),macos:k(bt),solaris:k(vt),freebsd:k(kt),chromeos:k(wt)};const St=(e,t,o)=>{const n=st.browsers();const s=st.oses();const r=t.bind((e=>Ye(n,e))).orThunk((()=>Je(n,e))).fold(mt.unknown,mt.nu);const a=Qe(s,e).fold(Ct.unknown,Ct.nu);const c=Ze(a,r,e,o);return{browser:r,os:a,deviceType:c}};const zt={detect:St};const Ot=e=>window.matchMedia(e).matches;let Tt=je((()=>zt.detect(navigator.userAgent,C.from(navigator.userAgentData),Ot)));const Et=()=>Tt();const Dt=(e,t)=>{const o=(o,n)=>Dt(e+o,t+n);return{left:e,top:t,translate:o}};const At=Dt;const Nt=e=>{const t=e!==undefined?e.dom:document;const o=t.body.scrollLeft||t.documentElement.scrollLeft;const n=t.body.scrollTop||t.documentElement.scrollTop;return At(o,n)};const Mt=e=>{const t=e===undefined?window:e;if(Et().browser.isFirefox()){return C.none()}else{return C.from(t.visualViewport)}};const Rt=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n});const Bt=e=>{const t=e===undefined?window:e;const o=t.document;const n=Nt(K.fromDom(o));return Mt(t).fold((()=>{const e=t.document.documentElement;const o=e.clientWidth;const s=e.clientHeight;return Rt(n.left,n.top,o,s)}),(e=>Rt(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)))};const Lt=(e,t,o)=>Mt(o).map((o=>{const n=e=>t(Be(e));o.addEventListener(e,n);return{unbind:()=>o.removeEventListener(e,n)}})).getOrThunk((()=>({unbind:y})));var Ht=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var It=tinymce.util.Tools.resolve("tinymce.Env");const Pt=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t});e.dispatch("ResizeEditor")};const Ft=e=>t=>t.options.get(e);const Vt=e=>{const t=e.options.register;t("fullscreen_native",{processor:"boolean",default:false})};const jt=Ft("fullscreen_native");const Zt=e=>{const t=K.fromDom(e.getElement());return ke(t).map(we).getOrThunk((()=>Se(de(t))))};const Ut=e=>{if(e.fullscreenElement!==undefined){return e.fullscreenElement}else if(e.msFullscreenElement!==undefined){return e.msFullscreenElement}else if(e.webkitFullscreenElement!==undefined){return e.webkitFullscreenElement}else{return null}};const qt=()=>{if(document.fullscreenElement!==undefined){return"fullscreenchange"}else if(document.msFullscreenElement!==undefined){return"MSFullscreenChange"}else if(document.webkitFullscreenElement!==undefined){return"webkitfullscreenchange"}else{return"fullscreenchange"}};const Wt=e=>{const t=e.dom;if(t.requestFullscreen){t.requestFullscreen()}else if(t.msRequestFullscreen){t.msRequestFullscreen()}else if(t.webkitRequestFullScreen){t.webkitRequestFullScreen()}};const $t=e=>{const t=e.dom;if(t.exitFullscreen){t.exitFullscreen()}else if(t.msExitFullscreen){t.msExitFullscreen()}else if(t.webkitCancelFullScreen){t.webkitCancelFullScreen()}};const Gt=e=>e.dom===Ut(de(e).dom);const Kt=(e,t,o)=>N(me(e,o),t);const Yt=(e,t)=>N(ge(e),t);const Xt=e=>ie(e);const Jt=(e,t,o)=>Kt(e,(e=>ae(e,t)),o);const Qt=(e,t)=>Yt(e,(e=>ae(e,t)));const eo="data-ephox-mobile-fullscreen-style";const to="display:none!important;";const oo="position:absolute!important;";const no="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;";const so="background-color:rgb(255,255,255)!important;";const ro=It.os.isAndroid();const ao=e=>{const t=Ne(e,"background-color");return t!==undefined&&t!==""?"background-color:"+t+"!important":so};const co=(e,t,o)=>{const n=e=>Qt(e,"*:not(.tox-silver-sink)");const s=t=>o=>{const n=Te(o,"style");const s=n===undefined?"no-styles":n.trim();if(s===t){return}else{Oe(o,eo,s);Ae(o,e.parseStyle(t))}};const r=Jt(t,"*");const a=L(r,n);const c=ao(o);A(a,s(to));A(r,s(oo+no+c));const i=ro===true?"":oo;s(i+no+c)(t)};const io=e=>{const t=Xt("["+eo+"]");A(t,(t=>{const o=Te(t,eo);if(o&&o!=="no-styles"){Ae(t,e.parseStyle(o))}else{Ee(t,"style")}Ee(t,eo)}))};const lo=Ht.DOM;const uo=()=>Bt(window);const fo=e=>window.scrollTo(e.x,e.y);const mo=Mt().fold((()=>({bind:y,unbind:y})),(e=>{const t=O();const o=z();const n=z();const s=()=>{document.body.scrollTop=0;document.documentElement.scrollTop=0};const r=()=>{window.requestAnimationFrame((()=>{t.on((t=>Ae(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})))}))};const a=T((()=>{s();r()}),50);const c=e=>{t.set(e);a.throttle();o.set(Lt("resize",a.throttle));n.set(Lt("scroll",a.throttle))};const i=()=>{t.on((()=>{o.clear();n.clear()}));t.clear()};return{bind:c,unbind:i}}));const go=(e,t)=>{const o=document.body;const n=document.documentElement;const s=e.getContainer();const r=K.fromDom(s);const a=Zt(e);const c=t.get();const i=K.fromDom(e.getBody());const l=It.deviceType.isTouch();const d=s.style;const u=e.iframeElement;const f=u===null||u===void 0?void 0:u.style;const m=e=>{e(o,"tox-fullscreen");e(n,"tox-fullscreen");e(s,"tox-fullscreen");ke(r).map((e=>we(e).dom)).each((t=>{e(t,"tox-fullscreen");e(t,"tox-shadowhost")}))};const g=()=>{if(l){io(e.dom)}m(lo.removeClass);mo.unbind();C.from(t.get()).each((e=>e.fullscreenChangeHandler.unbind()))};if(!c){const o=Ve(de(a),qt(),(o=>{if(jt(e)){if(!Gt(a)&&t.get()!==null){go(e,t)}}}));const n={scrollPos:uo(),containerWidth:d.width,containerHeight:d.height,containerTop:d.top,containerLeft:d.left,iframeWidth:f.width,iframeHeight:f.height,fullscreenChangeHandler:o};if(l){co(e.dom,r,i)}f.width=f.height="100%";d.width=d.height="";m(lo.addClass);mo.bind(r);e.on("remove",g);t.set(n);if(jt(e)){Wt(a)}Pt(e,true)}else{c.fullscreenChangeHandler.unbind();if(jt(e)&&Gt(a)){$t(de(a))}f.width=c.iframeWidth;f.height=c.iframeHeight;d.width=c.containerWidth;d.height=c.containerHeight;d.top=c.containerTop;d.left=c.containerLeft;g();fo(c.scrollPos);t.set(null);Pt(e,false);e.off("remove",g)}};const po=(e,t)=>{e.addCommand("mceFullScreen",(()=>{go(e,t)}))};const ho=(e,t)=>o=>{o.setActive(t.get()!==null);const n=e=>o.setActive(e.state);e.on("FullscreenStateChanged",n);return()=>e.off("FullscreenStateChanged",n)};const yo=(e,t)=>{const o=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:o,onSetup:ho(e,t)});e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:o,onSetup:ho(e,t)})};var bo=()=>{t.add("fullscreen",(t=>{const n=e(null);if(t.inline){return o(n)}Vt(t);po(t,n);yo(t,n);t.addShortcut("Meta+Shift+F","","mceFullScreen");return o(n)}))};bo()})()},(e,t,o)=>{o(18)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=Object.getPrototypeOf;const o=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const n=e=>{const t=typeof e;if(e===null){return"null"}else if(t==="object"&&Array.isArray(e)){return"array"}else if(t==="object"&&o(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return t}};const s=e=>t=>n(t)===e;const r=e=>t=>typeof t===e;const a=e=>t=>e===t;const c=(e,n)=>l(e)&&o(e,n,((e,o)=>t(e)===o));const i=s("string");const l=s("object");const d=e=>c(e,Object);const u=s("array");const f=a(null);const m=r("boolean");const g=e=>e===null||e===undefined;const p=e=>!g(e);const h=r("function");const y=r("number");const b=(e,t)=>{if(u(e)){for(let o=0,n=e.length;o<n;++o){if(!t(e[o])){return false}}return true}return false};const v=()=>{};class k{constructor(e,t){this.tag=e;this.value=t}static some(e){return new k(true,e)}static none(){return k.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return k.some(e(this.value))}else{return k.none()}}bind(e){if(this.tag){return e(this.value)}else{return k.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return k.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return p(e)?k.some(e):k.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}k.singletonNone=new k(false);const w=Object.keys;const _=Object.hasOwnProperty;const x=(e,t)=>{const o=w(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const C=e=>(t,o)=>{e[o]=t};const S=(e,t,o,n)=>{x(e,((e,s)=>{(t(e,s)?o:n)(e,s)}))};const z=(e,t)=>{const o={};S(e,t,C(o),v);return o};const O=(e,t)=>_.call(e,t);const T=(e,t)=>O(e,t)&&e[t]!==undefined&&e[t]!==null;const E=Array.prototype.push;const D=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!u(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}E.apply(t,e[o])}return t};const A=(e,t)=>t>=0&&t<e.length?k.some(e[t]):k.none();const N=e=>A(e,0);const M=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return k.none()};typeof window!=="undefined"?window:Function("return this;")();const R=(e,t,o)=>{if(i(o)||m(o)||y(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const B=(e,t,o)=>{R(e.dom,t,o)};const L=(e,t)=>{e.dom.removeAttribute(t)};const H=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return F(n.childNodes[0])};const I=(e,t)=>{const o=t||document;const n=o.createElement(e);return F(n)};const P=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return F(n)};const F=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const V=(e,t,o)=>k.from(e.dom.elementFromPoint(t,o)).map(F);const j={fromHtml:H,fromTag:I,fromText:P,fromDom:F,fromPoint:V};var Z=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var U=tinymce.util.Tools.resolve("tinymce.util.URI");const q=e=>e.length>0;const W=e=>t=>t.options.get(e);const $=e=>{const t=e.options.register;t("image_dimensions",{processor:"boolean",default:true});t("image_advtab",{processor:"boolean",default:false});t("image_uploadtab",{processor:"boolean",default:true});t("image_prepend_url",{processor:"string",default:""});t("image_class_list",{processor:"object[]"});t("image_description",{processor:"boolean",default:true});t("image_title",{processor:"boolean",default:false});t("image_caption",{processor:"boolean",default:false});t("image_list",{processor:e=>{const t=e===false||i(e)||b(e,l)||h(e);return t?{value:e,valid:t}:{valid:false,message:"Must be false, a string, an array or a function."}},default:false})};const G=W("image_dimensions");const K=W("image_advtab");const Y=W("image_uploadtab");const X=W("image_prepend_url");const J=W("image_class_list");const Q=W("image_description");const ee=W("image_title");const te=W("image_caption");const oe=W("image_list");const ne=W("a11y_advanced_options");const se=W("automatic_uploads");const re=e=>q(e.options.get("images_upload_url"));const ae=e=>p(e.options.get("images_upload_handler"));const ce=(e,t)=>Math.max(parseInt(e,10),parseInt(t,10));const ie=e=>new Promise((t=>{const o=document.createElement("img");const n=e=>{o.onload=o.onerror=null;if(o.parentNode){o.parentNode.removeChild(o)}t(e)};o.onload=()=>{const e=ce(o.width,o.clientWidth);const t=ce(o.height,o.clientHeight);const s={width:e,height:t};n(Promise.resolve(s))};o.onerror=()=>{n(Promise.reject(`Failed to get image dimensions for: ${e}`))};const s=o.style;s.visibility="hidden";s.position="fixed";s.bottom=s.left="0px";s.width=s.height="auto";document.body.appendChild(o);o.src=e}));const le=e=>{if(e){e=e.replace(/px$/,"")}return e};const de=e=>{if(e.length>0&&/^[0-9]+$/.test(e)){e+="px"}return e};const ue=e=>{if(e.margin){const t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[0];e["margin-bottom"]=e["margin-bottom"]||t[0];e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[1];e["margin-bottom"]=e["margin-bottom"]||t[0];e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[1];e["margin-bottom"]=e["margin-bottom"]||t[2];e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[1];e["margin-bottom"]=e["margin-bottom"]||t[2];e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e};const fe=(e,t)=>{const o=oe(e);if(i(o)){fetch(o).then((e=>{if(e.ok){e.json().then(t)}}))}else if(h(o)){o(t)}else{t(o)}};const me=(e,t,o)=>{const n=()=>{o.onload=o.onerror=null;if(e.selection){e.selection.select(o);e.nodeChanged()}};o.onload=()=>{if(!t.width&&!t.height&&G(e)){e.dom.setAttribs(o,{width:String(o.clientWidth),height:String(o.clientHeight)})}n()};o.onerror=n};const ge=e=>new Promise(((t,o)=>{const n=new FileReader;n.onload=()=>{t(n.result)};n.onerror=()=>{var e;o((e=n.error)===null||e===void 0?void 0:e.message)};n.readAsDataURL(e)}));const pe=e=>e.nodeName==="IMG"&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"));const he=(e,t)=>{const o=e.options.get;return U.isDomSafe(t,"img",{allow_html_data_urls:o("allow_html_data_urls"),allow_script_urls:o("allow_script_urls"),allow_svg_data_urls:o("allow_svg_data_urls")})};const ye=Z.DOM;const be=e=>{if(e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight){return le(e.style.marginLeft)}else{return""}};const ve=e=>{if(e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom){return le(e.style.marginTop)}else{return""}};const ke=e=>{if(e.style.borderWidth){return le(e.style.borderWidth)}else{return""}};const we=(e,t)=>{var o;if(e.hasAttribute(t)){return(o=e.getAttribute(t))!==null&&o!==void 0?o:""}else{return""}};const _e=e=>e.parentNode!==null&&e.parentNode.nodeName==="FIGURE";const xe=(e,t,o)=>{if(o===""||o===null){e.removeAttribute(t)}else{e.setAttribute(t,o)}};const Ce=e=>{const t=ye.create("figure",{class:"image"});ye.insertAfter(t,e);t.appendChild(e);t.appendChild(ye.create("figcaption",{contentEditable:"true"},"Caption"));t.contentEditable="false"};const Se=e=>{const t=e.parentNode;if(p(t)){ye.insertAfter(e,t);ye.remove(t)}};const ze=e=>{if(_e(e)){Se(e)}else{Ce(e)}};const Oe=(e,t)=>{const o=e.getAttribute("style");const n=t(o!==null?o:"");if(n.length>0){e.setAttribute("style",n);e.setAttribute("data-mce-style",n)}else{e.removeAttribute("style")}};const Te=(e,t)=>(e,o,n)=>{const s=e.style;if(s[o]){s[o]=de(n);Oe(e,t)}else{xe(e,o,n)}};const Ee=(e,t)=>{if(e.style[t]){return le(e.style[t])}else{return we(e,t)}};const De=(e,t)=>{const o=de(t);e.style.marginLeft=o;e.style.marginRight=o};const Ae=(e,t)=>{const o=de(t);e.style.marginTop=o;e.style.marginBottom=o};const Ne=(e,t)=>{const o=de(t);e.style.borderWidth=o};const Me=(e,t)=>{e.style.borderStyle=t};const Re=e=>{var t;return(t=e.style.borderStyle)!==null&&t!==void 0?t:""};const Be=e=>p(e)&&e.nodeName==="FIGURE";const Le=e=>e.nodeName==="IMG";const He=e=>ye.getAttrib(e,"alt").length===0&&ye.getAttrib(e,"role")==="presentation";const Ie=e=>{if(He(e)){return""}else{return we(e,"alt")}};const Pe=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:false,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:false});const Fe=(e,t)=>{var o;const n=document.createElement("img");xe(n,"style",t.style);if(be(n)||t.hspace!==""){De(n,t.hspace)}if(ve(n)||t.vspace!==""){Ae(n,t.vspace)}if(ke(n)||t.border!==""){Ne(n,t.border)}if(Re(n)||t.borderStyle!==""){Me(n,t.borderStyle)}return e((o=n.getAttribute("style"))!==null&&o!==void 0?o:"")};const Ve=(e,t)=>{const o=document.createElement("img");$e(e,{...t,caption:false},o);Ue(o,t.alt,t.isDecorative);if(t.caption){const e=ye.create("figure",{class:"image"});e.appendChild(o);e.appendChild(ye.create("figcaption",{contentEditable:"true"},"Caption"));e.contentEditable="false";return e}else{return o}};const je=(e,t)=>({src:we(t,"src"),alt:Ie(t),title:we(t,"title"),width:Ee(t,"width"),height:Ee(t,"height"),class:we(t,"class"),style:e(we(t,"style")),caption:_e(t),hspace:be(t),vspace:ve(t),border:ke(t),borderStyle:Re(t),isDecorative:He(t)});const Ze=(e,t,o,n,s)=>{if(o[n]!==t[n]){s(e,n,String(o[n]))}};const Ue=(e,t,o)=>{if(o){ye.setAttrib(e,"role","presentation");const t=j.fromDom(e);B(t,"alt","")}else{if(f(t)){const t=j.fromDom(e);L(t,"alt")}else{const o=j.fromDom(e);B(o,"alt",t)}if(ye.getAttrib(e,"role")==="presentation"){ye.setAttrib(e,"role","")}}};const qe=(e,t,o)=>{if(o.alt!==t.alt||o.isDecorative!==t.isDecorative){Ue(e,o.alt,o.isDecorative)}};const We=(e,t)=>(o,n,s)=>{e(o,s);Oe(o,t)};const $e=(e,t,o)=>{const n=je(e,o);Ze(o,n,t,"caption",((e,t,o)=>ze(e)));Ze(o,n,t,"src",xe);Ze(o,n,t,"title",xe);Ze(o,n,t,"width",Te("width",e));Ze(o,n,t,"height",Te("height",e));Ze(o,n,t,"class",xe);Ze(o,n,t,"style",We(((e,t)=>xe(e,"style",t)),e));Ze(o,n,t,"hspace",We(De,e));Ze(o,n,t,"vspace",We(Ae,e));Ze(o,n,t,"border",We(Ne,e));Ze(o,n,t,"borderStyle",We(Me,e));qe(o,n,t)};const Ge=(e,t)=>{const o=e.dom.styles.parse(t);const n=ue(o);const s=e.dom.styles.parse(e.dom.styles.serialize(n));return e.dom.styles.serialize(s)};const Ke=e=>{const t=e.selection.getNode();const o=e.dom.getParent(t,"figure.image");if(o){return e.dom.select("img",o)[0]}if(t&&(t.nodeName!=="IMG"||pe(t))){return null}return t};const Ye=(e,t)=>{var o;const n=e.dom;const s=z(e.schema.getTextBlockElements(),((t,o)=>!e.schema.isValidChild(o,"figure")));const r=n.getParent(t.parentNode,(e=>T(s,e.nodeName)),e.getBody());if(r){return(o=n.split(r,t))!==null&&o!==void 0?o:t}else{return t}};const Xe=e=>{const t=Ke(e);return t?je((t=>Ge(e,t)),t):Pe()};const Je=(e,t)=>{const o=Ve((t=>Ge(e,t)),t);e.dom.setAttrib(o,"data-mce-id","__mcenew");e.focus();e.selection.setContent(o.outerHTML);const n=e.dom.select('*[data-mce-id="__mcenew"]')[0];e.dom.setAttrib(n,"data-mce-id",null);if(Be(n)){const t=Ye(e,n);e.selection.select(t)}else{e.selection.select(n)}};const Qe=(e,t)=>{e.dom.setAttrib(t,"src",t.getAttribute("src"))};const et=(e,t)=>{if(t){const o=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(o);e.focus();e.nodeChanged();if(e.dom.isEmpty(e.getBody())){e.setContent("");e.selection.setCursorLocation()}}};const tt=(e,t)=>{const o=Ke(e);if(o){$e((t=>Ge(e,t)),t,o);Qe(e,o);if(Be(o.parentNode)){const t=o.parentNode;Ye(e,t);e.selection.select(o.parentNode)}else{e.selection.select(o);me(e,t,o)}}};const ot=(e,t)=>{const o=t.src;return{...t,src:he(e,o)?o:""}};const nt=(e,t)=>{const o=Ke(e);if(o){const n=je((t=>Ge(e,t)),o);const s={...n,...t};const r=ot(e,s);if(s.src){tt(e,r)}else{et(e,o)}}else if(t.src){Je(e,{...Pe(),...t})}};const st=(e,t)=>{const o=d(e)&&d(t);return o?at(e,t):t};const rt=e=>(...t)=>{if(t.length===0){throw new Error(`Can't merge zero objects`)}const o={};for(let n=0;n<t.length;n++){const s=t[n];for(const t in s){if(O(s,t)){o[t]=e(o[t],s[t])}}}return o};const at=rt(st);var ct=tinymce.util.Tools.resolve("tinymce.util.ImageUploader");var it=tinymce.util.Tools.resolve("tinymce.util.Tools");const lt=e=>i(e.value)?e.value:"";const dt=e=>{if(i(e.text)){return e.text}else if(i(e.title)){return e.title}else{return""}};const ut=(e,t)=>{const o=[];it.each(e,(e=>{const n=dt(e);if(e.menu!==undefined){const s=ut(e.menu,t);o.push({text:n,items:s})}else{const s=t(e);o.push({text:n,value:s})}}));return o};const ft=(e=lt)=>t=>{if(t){return k.from(t).map((t=>ut(t,e)))}else{return k.none()}};const mt=e=>ft(lt)(e);const gt=e=>O(e,"items");const pt=(e,t)=>M(e,(e=>{if(gt(e)){return pt(e.items,t)}else if(e.value===t){return k.some(e)}else{return k.none()}}));const ht=(e,t)=>e.bind((e=>pt(e,t)));const yt={sanitizer:ft,sanitize:mt,findEntry:ht};const bt=e=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]});const vt={makeTab:bt};const kt=e=>{const t=yt.sanitizer((t=>e.convertURL(t.value||t.url||"","src")));const o=new Promise((o=>{fe(e,(e=>{o(t(e).map((e=>D([[{text:"None",value:""}],e]))))}))}));const n=yt.sanitize(J(e));const s=K(e);const r=Y(e);const a=re(e);const c=ae(e);const l=Xe(e);const d=Q(e);const u=ee(e);const f=G(e);const m=te(e);const g=ne(e);const p=se(e);const h=k.some(X(e)).filter((e=>i(e)&&e.length>0));return o.then((e=>({image:l,imageList:e,classList:n,hasAdvTab:s,hasUploadTab:r,hasUploadUrl:a,hasUploadHandler:c,hasDescription:d,hasImageTitle:u,hasDimensions:f,hasImageCaption:m,prependURL:h,hasAccessibilityOptions:g,automaticUploads:p})))};const wt=e=>{const t={name:"src",type:"urlinput",filetype:"image",label:"Source"};const o=e.imageList.map((e=>({name:"images",type:"listbox",label:"Image list",items:e})));const n={name:"alt",type:"input",label:"Alternative description",enabled:!(e.hasAccessibilityOptions&&e.image.isDecorative)};const s={name:"title",type:"input",label:"Image title"};const r={name:"dimensions",type:"sizeinput"};const a={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]};const c=e.classList.map((e=>({name:"classes",type:"listbox",label:"Class",items:e})));const i={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};const l=e=>e?{type:"grid",columns:2}:{type:"panel"};return D([[t],o.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[a]:[],e.hasDescription?[n]:[],e.hasImageTitle?[s]:[],e.hasDimensions?[r]:[],[{...l(e.classList.isSome()&&e.hasImageCaption),items:D([c.toArray(),e.hasImageCaption?[i]:[]])}]])};const _t=e=>({title:"General",name:"general",items:wt(e)});const xt={makeTab:_t,makeItems:wt};const Ct=e=>{const t=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:t}};const St={makeTab:Ct};const zt=e=>({prevImage:yt.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:true});const Ot=e=>({src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative});const Tt=(e,t)=>({src:e.src.value,alt:(e.alt===null||e.alt.length===0)&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative});const Et=(e,t)=>{if(!/^(?:[a-zA-Z]+:)?\/\//.test(t)){return e.prependURL.bind((e=>{if(t.substring(0,e.length)!==e){return k.some(e+t)}return k.none()}))}return k.none()};const Dt=(e,t)=>{const o=t.getData();Et(e,o.src.value).each((e=>{t.setData({src:{value:e,meta:o.src.meta}})}))};const At=(e,t,o)=>{if(e.hasDescription&&i(o.alt)){t.alt=o.alt}if(e.hasAccessibilityOptions){t.isDecorative=o.isDecorative||t.isDecorative||false}if(e.hasImageTitle&&i(o.title)){t.title=o.title}if(e.hasDimensions){if(i(o.width)){t.dimensions.width=o.width}if(i(o.height)){t.dimensions.height=o.height}}if(i(o.class)){yt.findEntry(e.classList,o.class).each((e=>{t.classes=e.value}))}if(e.hasImageCaption){if(m(o.caption)){t.caption=o.caption}}if(e.hasAdvTab){if(i(o.style)){t.style=o.style}if(i(o.vspace)){t.vspace=o.vspace}if(i(o.border)){t.border=o.border}if(i(o.hspace)){t.hspace=o.hspace}if(i(o.borderstyle)){t.borderstyle=o.borderstyle}}};const Nt=(e,t)=>{const o=t.getData();const n=o.src.meta;if(n!==undefined){const s=at({},o);At(e,s,n);t.setData(s)}};const Mt=(e,t,o,n)=>{const s=n.getData();const r=s.src.value;const a=s.src.meta||{};if(!a.width&&!a.height&&t.hasDimensions){if(q(r)){e.imageSize(r).then((e=>{if(o.open){n.setData({dimensions:e})}})).catch((e=>console.error(e)))}else{n.setData({dimensions:{width:"",height:""}})}}};const Rt=(e,t,o)=>{const n=o.getData();const s=yt.findEntry(e.imageList,n.src.value);t.prevImage=s;o.setData({images:s.map((e=>e.value)).getOr("")})};const Bt=(e,t,o,n)=>{Dt(t,n);Nt(t,n);Mt(e,t,o,n);Rt(t,o,n)};const Lt=(e,t,o,n)=>{const s=n.getData();const r=yt.findEntry(t.imageList,s.images);r.each((e=>{const t=s.alt===""||o.prevImage.map((e=>e.text===s.alt)).getOr(false);if(t){if(e.value===""){n.setData({src:e,alt:o.prevAlt})}else{n.setData({src:e,alt:e.text})}}else{n.setData({src:e})}}));o.prevImage=r;Bt(e,t,o,n)};const Ht=(e,t,o,n)=>{const s=n.getData();n.block("Uploading image");N(s.fileinput).fold((()=>{n.unblock()}),(s=>{const r=URL.createObjectURL(s);const a=()=>{n.unblock();URL.revokeObjectURL(r)};const c=s=>{n.setData({src:{value:s,meta:{}}});n.showTab("general");Bt(e,t,o,n)};ge(s).then((o=>{const i=e.createBlobCache(s,r,o);if(t.automaticUploads){e.uploadImage(i).then((e=>{c(e.url);a()})).catch((t=>{a();e.alertErr(t)}))}else{e.addToBlobCache(i);c(i.blobUri());n.unblock()}}))}))};const It=(e,t,o)=>(n,s)=>{if(s.name==="src"){Bt(e,t,o,n)}else if(s.name==="images"){Lt(e,t,o,n)}else if(s.name==="alt"){o.prevAlt=n.getData().alt}else if(s.name==="fileinput"){Ht(e,t,o,n)}else if(s.name==="isDecorative"){n.setEnabled("alt",!n.getData().isDecorative)}};const Pt=e=>()=>{e.open=false};const Ft=e=>{if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){const t={type:"tabpanel",tabs:D([[xt.makeTab(e)],e.hasAdvTab?[vt.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[St.makeTab(e)]:[]])};return t}else{const t={type:"panel",items:xt.makeItems(e)};return t}};const Vt=(e,t,o)=>n=>{const s=at(Ot(t.image),n.getData());const r={...s,style:Fe(o.normalizeCss,Tt(s,false))};e.execCommand("mceUpdateImage",false,Tt(r,t.hasAccessibilityOptions));e.editorUpload.uploadImagesAuto();n.close()};const jt=e=>t=>{if(!he(e,t)){return Promise.resolve({width:"",height:""})}else{return ie(e.documentBaseURI.toAbsolute(t)).then((e=>({width:String(e.width),height:String(e.height)})))}};const Zt=e=>(t,o,n)=>{var s;return e.editorUpload.blobCache.create({blob:t,blobUri:o,name:(s=t.name)===null||s===void 0?void 0:s.replace(/\.[^\.]+$/,""),filename:t.name,base64:n.split(",")[1]})};const Ut=e=>t=>{e.editorUpload.blobCache.add(t)};const qt=e=>t=>{e.windowManager.alert(t)};const Wt=e=>t=>Ge(e,t);const $t=e=>t=>e.dom.parseStyle(t);const Gt=e=>(t,o)=>e.dom.serializeStyle(t,o);const Kt=e=>t=>ct(e).upload([t],false).then((e=>{var t;if(e.length===0){return Promise.reject("Failed to upload image")}else if(e[0].status===false){return Promise.reject((t=e[0].error)===null||t===void 0?void 0:t.message)}else{return e[0]}}));const Yt=e=>{const t={imageSize:jt(e),addToBlobCache:Ut(e),createBlobCache:Zt(e),alertErr:qt(e),normalizeCss:Wt(e),parseStyle:$t(e),serializeStyle:Gt(e),uploadImage:Kt(e)};const o=()=>{kt(e).then((o=>{const n=zt(o);return{title:"Insert/Edit Image",size:"normal",body:Ft(o),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:Ot(o.image),onSubmit:Vt(e,o,t),onChange:It(t,o,n),onClose:Pt(n)}})).then(e.windowManager.open)};return{open:o}};const Xt=e=>{e.addCommand("mceImage",Yt(e).open);e.addCommand("mceUpdateImage",((t,o)=>{e.undoManager.transact((()=>nt(e,o)))}))};const Jt=e=>{const t=e.attr("class");return p(t)&&/\bimage\b/.test(t)};const Qt=e=>t=>{let o=t.length;const n=t=>{t.attr("contenteditable",e?"true":null)};while(o--){const s=t[o];if(Jt(s)){s.attr("contenteditable",e?"false":null);it.each(s.getAll("figcaption"),n)}}};const eo=e=>{e.on("PreInit",(()=>{e.parser.addNodeFilter("figure",Qt(true));e.serializer.addNodeFilter("figure",Qt(false))}))};const to=e=>{e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Yt(e).open,onSetup:t=>{t.setActive(p(Ke(e)));return e.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",t.setActive).unbind}});e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Yt(e).open});e.ui.registry.addContextMenu("image",{update:e=>Be(e)||Le(e)&&!pe(e)?["image"]:[]})};var oo=()=>{e.add("image",(e=>{$(e);eo(e);to(e);Xt(e)}))};oo()})()},(e,t,o)=>{o(20)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=e=>t=>e===t;const a=n("string");const c=n("object");const i=n("array");const l=r(null);const d=s("boolean");const u=e=>e===null||e===undefined;const f=e=>!u(e);const m=s("function");const g=(e,t)=>{if(i(e)){for(let o=0,n=e.length;o<n;++o){if(!t(e[o])){return false}}return true}return false};const p=()=>{};const h=e=>()=>e;const y=(e,t)=>e===t;class b{constructor(e,t){this.tag=e;this.value=t}static some(e){return new b(true,e)}static none(){return b.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return b.some(e(this.value))}else{return b.none()}}bind(e){if(this.tag){return e(this.value)}else{return b.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return b.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return f(e)?b.some(e):b.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}b.singletonNone=new b(false);const v=Array.prototype.indexOf;const k=Array.prototype.push;const w=(e,t)=>v.call(e,t);const _=(e,t)=>w(e,t)>-1;const x=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const C=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const S=(e,t,o)=>{C(e,((e,n)=>{o=t(o,e,n)}));return o};const z=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!i(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}k.apply(t,e[o])}return t};const O=(e,t)=>z(x(e,t));const T=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return b.none()};const E=(e,t,o=y)=>e.exists((e=>o(e,t)));const D=e=>{const t=[];const o=e=>{t.push(e)};for(let t=0;t<e.length;t++){e[t].each(o)}return t};const A=(e,t)=>e?b.some(t):b.none();const N=e=>t=>t.options.get(e);const M=e=>{const t=e.options.register;t("link_assume_external_targets",{processor:e=>{const t=a(e)||d(e);if(t){if(e===true){return{value:1,valid:t}}else if(e==="http"||e==="https"){return{value:e,valid:t}}else{return{value:0,valid:t}}}else{return{valid:false,message:"Must be a string or a boolean."}}},default:false});t("link_context_toolbar",{processor:"boolean",default:false});t("link_list",{processor:e=>a(e)||m(e)||g(e,c)});t("link_default_target",{processor:"string"});t("link_default_protocol",{processor:"string",default:"https"});t("link_target_list",{processor:e=>d(e)||g(e,c),default:true});t("link_rel_list",{processor:"object[]",default:[]});t("link_class_list",{processor:"object[]",default:[]});t("link_title",{processor:"boolean",default:true});t("allow_unsafe_link_target",{processor:"boolean",default:false});t("link_quicklink",{processor:"boolean",default:false})};const R=N("link_assume_external_targets");const B=N("link_context_toolbar");const L=N("link_list");const H=N("link_default_target");const I=N("link_default_protocol");const P=N("link_target_list");const F=N("link_rel_list");const V=N("link_class_list");const j=N("link_title");const Z=N("allow_unsafe_link_target");const U=N("link_quicklink");var q=tinymce.util.Tools.resolve("tinymce.util.Tools");const W=e=>a(e.value)?e.value:"";const $=e=>{if(a(e.text)){return e.text}else if(a(e.title)){return e.title}else{return""}};const G=(e,t)=>{const o=[];q.each(e,(e=>{const n=$(e);if(e.menu!==undefined){const s=G(e.menu,t);o.push({text:n,items:s})}else{const s=t(e);o.push({text:n,value:s})}}));return o};const K=(e=W)=>t=>b.from(t).map((t=>G(t,e)));const Y=e=>K(W)(e);const X=(e,t)=>o=>({name:e,type:"listbox",label:t,items:o});const J={sanitize:Y,sanitizeWith:K,createUi:X,getValue:W};const Q=Object.keys;const ee=Object.hasOwnProperty;const te=(e,t)=>{const o=Q(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const oe=e=>(t,o)=>{e[o]=t};const ne=(e,t,o,n)=>{te(e,((e,s)=>{(t(e,s)?o:n)(e,s)}))};const se=(e,t)=>{const o={};ne(e,t,oe(o),p);return o};const re=(e,t)=>ee.call(e,t);const ae=(e,t)=>re(e,t)&&e[t]!==undefined&&e[t]!==null;var ce=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");var ie=tinymce.util.Tools.resolve("tinymce.util.URI");const le=e=>f(e)&&e.nodeName.toLowerCase()==="a";const de=e=>le(e)&&!!me(e);const ue=(e,t)=>{if(e.collapsed){return[]}else{const o=e.cloneContents();const n=o.firstChild;const s=new ce(n,o);const r=[];let a=n;do{if(t(a)){r.push(a)}}while(a=s.next());return r}};const fe=e=>/^\w+:/i.test(e);const me=e=>{var t,o;return(o=(t=e.getAttribute("data-mce-href"))!==null&&t!==void 0?t:e.getAttribute("href"))!==null&&o!==void 0?o:""};const ge=(e,t)=>{const o=["noopener"];const n=e?e.split(/\s+/):[];const s=e=>q.trim(e.sort().join(" "));const r=e=>{e=a(e);return e.length>0?e.concat(o):o};const a=e=>e.filter((e=>q.inArray(o,e)===-1));const c=t?r(n):a(n);return c.length>0?s(c):""};const pe=e=>e.replace(/\uFEFF/g,"");const he=(e,t)=>{t=t||e.selection.getNode();if(_e(t)){return b.from(e.dom.select("a[href]",t)[0])}else{return b.from(e.dom.getParent(t,"a[href]"))}};const ye=(e,t)=>he(e,t).isSome();const be=(e,t)=>{const o=t.fold((()=>e.getContent({format:"text"})),(e=>e.innerText||e.textContent||""));return pe(o)};const ve=e=>q.grep(e,de).length>0;const ke=e=>ue(e,de).length>0;const we=e=>{const t=e.schema.getTextInlineElements();const o=e=>e.nodeType===1&&!le(e)&&!re(t,e.nodeName.toLowerCase());const n=he(e).exists((e=>e.hasAttribute("data-mce-block")));if(n){return false}const s=e.selection.getRng();if(!s.collapsed){const e=ue(s,o);return e.length===0}else{return true}};const _e=e=>f(e)&&e.nodeName==="FIGURE"&&/\bimage\b/i.test(e.className);const xe=e=>{const t=["title","rel","class","target"];return S(t,((t,o)=>{e[o].each((e=>{t[o]=e.length>0?e:null}));return t}),{href:e.href})};const Ce=(e,t)=>{if((t==="http"||t==="https")&&!fe(e)){return t+"://"+e}return e};const Se=(e,t)=>{const o={...t};if(F(e).length===0&&!Z(e)){const e=ge(o.rel,o.target==="_blank");o.rel=e?e:null}if(b.from(o.target).isNone()&&P(e)===false){o.target=H(e)}o.href=Ce(o.href,R(e));return o};const ze=(e,t,o,n)=>{o.each((e=>{if(re(t,"innerText")){t.innerText=e}else{t.textContent=e}}));e.dom.setAttribs(t,n);e.selection.select(t)};const Oe=(e,t,o,n)=>{const s=e.dom;if(_e(t)){Le(s,t,n)}else{o.fold((()=>{e.execCommand("mceInsertLink",false,n)}),(t=>{e.insertContent(s.createHTML("a",n,s.encode(t)))}))}};const Te=(e,t,o)=>{const n=e.selection.getNode();const s=he(e,n);const r=Se(e,xe(o));e.undoManager.transact((()=>{if(o.href===t.href){t.attach()}s.fold((()=>{Oe(e,n,o.text,r)}),(t=>{e.focus();ze(e,t,o.text,r)}))}))};const Ee=e=>{const t=e.dom,o=e.selection;const n=o.getBookmark();const s=o.getRng().cloneRange();const r=t.getParent(s.startContainer,"a[href]",e.getBody());const a=t.getParent(s.endContainer,"a[href]",e.getBody());if(r){s.setStartBefore(r)}if(a){s.setEndAfter(a)}o.setRng(s);e.execCommand("unlink");o.moveToBookmark(n)};const De=e=>{e.undoManager.transact((()=>{const t=e.selection.getNode();if(_e(t)){Be(e,t)}else{Ee(e)}e.focus()}))};const Ae=e=>{const{class:t,href:o,rel:n,target:s,text:r,title:a}=e;return se({class:t.getOrNull(),href:o,rel:n.getOrNull(),target:s.getOrNull(),text:r.getOrNull(),title:a.getOrNull()},((e,t)=>l(e)===false))};const Ne=(e,t)=>{const o=e.options.get;const n={allow_html_data_urls:o("allow_html_data_urls"),allow_script_urls:o("allow_script_urls"),allow_svg_data_urls:o("allow_svg_data_urls")};const s=t.href;return{...t,href:ie.isDomSafe(s,"a",n)?s:""}};const Me=(e,t,o)=>{const n=Ne(e,o);e.hasPlugin("rtc",true)?e.execCommand("createlink",false,Ae(n)):Te(e,t,n)};const Re=e=>{e.hasPlugin("rtc",true)?e.execCommand("unlink"):De(e)};const Be=(e,t)=>{var o;const n=e.dom.select("img",t)[0];if(n){const s=e.dom.getParents(n,"a[href]",t)[0];if(s){(o=s.parentNode)===null||o===void 0?void 0:o.insertBefore(n,s);e.dom.remove(s)}}};const Le=(e,t,o)=>{var n;const s=e.select("img",t)[0];if(s){const t=e.create("a",o);(n=s.parentNode)===null||n===void 0?void 0:n.insertBefore(t,s);t.appendChild(s)}};const He=e=>ae(e,"items");const Ie=(e,t)=>T(t,(t=>{if(He(t)){return Ie(e,t.items)}else{return A(t.value===e,t)}}));const Pe=(e,t,o,n)=>{const s=n[t];const r=e.length>0;return s!==undefined?Ie(s,o).map((t=>({url:{value:t.value,meta:{text:r?e:t.text,attach:p}},text:r?e:t.text}))):b.none()};const Fe=(e,t)=>{if(t==="link"){return e.link}else if(t==="anchor"){return e.anchor}else{return b.none()}};const Ve=(e,t)=>{const o={text:e.text,title:e.title};const n=e=>{var t;return A(o.title.length<=0,b.from((t=e.meta)===null||t===void 0?void 0:t.title).getOr(""))};const s=e=>{var t;return A(o.text.length<=0,b.from((t=e.meta)===null||t===void 0?void 0:t.text).getOr(e.value))};const r=e=>{const t=s(e.url);const o=n(e.url);if(t.isSome()||o.isSome()){return b.some({...t.map((e=>({text:e}))).getOr({}),...o.map((e=>({title:e}))).getOr({})})}else{return b.none()}};const a=(e,n)=>{const s=Fe(t,n).getOr([]);return Pe(o.text,n,s,e)};const c=(e,t)=>{const n=t.name;if(n==="url"){return r(e())}else if(_(["anchor","link"],n)){return a(e(),n)}else if(n==="text"||n==="title"){o[n]=e()[n];return b.none()}else{return b.none()}};return{onChange:c}};const je={init:Ve,getDelta:Pe};var Ze=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ue=(e,t,o)=>{const n=e.selection.getRng();Ze.setEditorTimeout(e,(()=>{e.windowManager.confirm(t,(t=>{e.selection.setRng(n);o(t)}))}))};const qe=e=>{const t=e.href;const o=t.indexOf("@")>0&&t.indexOf("/")===-1&&t.indexOf("mailto:")===-1;return o?b.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:e=>({...e,href:"mailto:"+t})}):b.none()};const We=(e,t)=>o=>{const n=o.href;const s=e===1&&!fe(n)||e===0&&/^\s*www(\.|\d\.)/i.test(n);return s?b.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${t}:// prefix?`,preprocess:e=>({...e,href:t+"://"+n})}):b.none()};const $e=(e,t)=>T([qe,We(R(e),I(e))],(e=>e(t))).fold((()=>Promise.resolve(t)),(o=>new Promise((n=>{Ue(e,o.message,(e=>{n(e?o.preprocess(t):t)}))}))));const Ge={preprocess:$e};const Ke=e=>{const t=e.dom.select("a:not([href])");const o=O(t,(e=>{const t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return o.length>0?b.some([{text:"None",value:""}].concat(o)):b.none()};const Ye={getAnchors:Ke};const Xe=e=>{const t=V(e);if(t.length>0){return J.sanitize(t)}return b.none()};const Je={getClasses:Xe};const Qe=e=>{try{return b.some(JSON.parse(e))}catch(e){return b.none()}};const et=e=>{const t=t=>e.convertURL(t.value||t.url||"","href");const o=L(e);return new Promise((e=>{if(a(o)){fetch(o).then((e=>e.ok?e.text().then(Qe):Promise.reject())).then(e,(()=>e(b.none())))}else if(m(o)){o((t=>e(b.some(t))))}else{e(b.from(o))}})).then((e=>e.bind(J.sanitizeWith(t)).map((e=>{if(e.length>0){const t=[{text:"None",value:""}];return t.concat(e)}else{return e}}))))};const tt={getLinks:et};const ot=(e,t)=>{const o=F(e);if(o.length>0){const n=E(t,"_blank");const s=Z(e)===false;const r=e=>ge(J.getValue(e),n);const a=s?J.sanitizeWith(r):J.sanitize;return a(o)}return b.none()};const nt={getRels:ot};const st=[{text:"Current window",value:""},{text:"New window",value:"_blank"}];const rt=e=>{const t=P(e);if(i(t)){return J.sanitize(t).orThunk((()=>b.some(st)))}else if(t===false){return b.none()}return b.some(st)};const at={getTargets:rt};const ct=(e,t,o)=>{const n=e.getAttrib(t,o);return n!==null&&n.length>0?b.some(n):b.none()};const it=(e,t)=>{const o=e.dom;const n=we(e);const s=n?b.some(be(e.selection,t)):b.none();const r=t.bind((e=>b.from(o.getAttrib(e,"href"))));const a=t.bind((e=>b.from(o.getAttrib(e,"target"))));const c=t.bind((e=>ct(o,e,"rel")));const i=t.bind((e=>ct(o,e,"class")));const l=t.bind((e=>ct(o,e,"title")));return{url:r,text:s,title:l,target:a,rel:c,linkClass:i}};const lt=(e,t)=>tt.getLinks(e).then((o=>{const n=it(e,t);return{anchor:n,catalogs:{targets:at.getTargets(e),rels:nt.getRels(e,n.target),classes:Je.getClasses(e),anchor:Ye.getAnchors(e),link:o},optNode:t,flags:{titleEnabled:j(e)}}}));const dt={collect:lt};const ut=(e,t)=>o=>{const n=o.getData();if(!n.url.value){Re(e);o.close();return}const s=e=>b.from(n[e]).filter((o=>!E(t.anchor[e],o)));const r={href:n.url.value,text:s("text"),target:s("target"),rel:s("rel"),class:s("linkClass"),title:s("title")};const a={href:n.url.value,attach:n.url.meta!==undefined&&n.url.meta.attach?n.url.meta.attach:p};Ge.preprocess(e,r).then((t=>{Me(e,a,t)}));o.close()};const ft=e=>{const t=he(e);return dt.collect(e,t)};const mt=(e,t)=>{const o=e.anchor;const n=o.url.getOr("");return{url:{value:n,meta:{original:{value:n}}},text:o.text.getOr(""),title:o.title.getOr(""),anchor:n,link:n,rel:o.rel.getOr(""),target:o.target.or(t).getOr(""),linkClass:o.linkClass.getOr("")}};const gt=(e,t,o)=>{const n=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}];const s=e.anchor.text.map((()=>({name:"text",type:"input",label:"Text to display"}))).toArray();const r=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[];const a=b.from(H(o));const c=mt(e,a);const i=e.catalogs;const l=je.init(c,i);const d={type:"panel",items:z([n,s,r,D([i.anchor.map(J.createUi("anchor","Anchors")),i.rels.map(J.createUi("rel","Rel")),i.targets.map(J.createUi("target","Open link in...")),i.link.map(J.createUi("link","Link list")),i.classes.map(J.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:d,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:c,onChange:(e,{name:t})=>{l.onChange(e.getData,{name:t}).each((t=>{e.setData(t)}))},onSubmit:t}};const pt=e=>{const t=ft(e);t.then((t=>{const o=ut(e,t);return gt(t,o,e)})).then((t=>{e.windowManager.open(t)}))};const ht=e=>{e.addCommand("mceLink",((t,o)=>{if((o===null||o===void 0?void 0:o.dialog)===true||!U(e)){pt(e)}else{e.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})}}))};var yt=tinymce.util.Tools.resolve("tinymce.util.VK");const bt=(e,t)=>{document.body.appendChild(e);e.dispatchEvent(t);document.body.removeChild(e)};const vt=e=>{const t=document.createElement("a");t.target="_blank";t.href=e;t.rel="noreferrer noopener";const o=document.createEvent("MouseEvents");o.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);bt(t,o)};const kt=(e,t)=>e.dom.getParent(t,"a[href]");const wt=e=>kt(e,e.selection.getStart());const _t=e=>e.altKey===true&&e.shiftKey===false&&e.ctrlKey===false&&e.metaKey===false;const xt=(e,t)=>{if(t){const o=me(t);if(/^#/.test(o)){const t=e.dom.select(o);if(t.length){e.selection.scrollIntoView(t[0],true)}}else{vt(t.href)}}};const Ct=e=>()=>{e.execCommand("mceLink",false,{dialog:true})};const St=e=>()=>{xt(e,wt(e))};const zt=e=>{e.on("click",(t=>{const o=kt(e,t.target);if(o&&yt.metaKeyPressed(t)){t.preventDefault();xt(e,o)}}));e.on("keydown",(t=>{if(!t.isDefaultPrevented()&&t.keyCode===13&&_t(t)){const o=wt(e);if(o){t.preventDefault();xt(e,o)}}}))};const Ot=(e,t)=>{e.on("NodeChange",t);return()=>e.off("NodeChange",t)};const Tt=e=>t=>{const o=()=>t.setActive(!e.mode.isReadOnly()&&ye(e,e.selection.getNode()));o();return Ot(e,o)};const Et=e=>t=>{const o=()=>t.setEnabled(ye(e,e.selection.getNode()));o();return Ot(e,o)};const Dt=e=>t=>{const o=t=>ve(t)||ke(e.selection.getRng());const n=e.dom.getParents(e.selection.getStart());t.setEnabled(o(n));return Ot(e,(e=>t.setEnabled(o(e.parents))))};const At=e=>{e.addShortcut("Meta+K","",(()=>{e.execCommand("mceLink")}))};const Nt=e=>{e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Ct(e),onSetup:Tt(e)});e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:St(e),onSetup:Et(e)});e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Re(e),onSetup:Dt(e)})};const Mt=e=>{e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:St(e),onSetup:Et(e)});e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ct(e)});e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Re(e),onSetup:Dt(e)})};const Rt=e=>{const t="link unlink openlink";const o="link";e.ui.registry.addContextMenu("link",{update:n=>ve(e.dom.getParents(n,"a"))?t:o})};const Bt=e=>{const t=e=>{e.selection.collapse(false)};const o=t=>{const o=e.selection.getNode();t.setEnabled(ye(e,o));return p};const n=t=>{const o=he(e);const n=we(e);if(o.isNone()&&n){const n=be(e.selection,o);return b.some(n.length>0?n:t)}else{return b.none()}};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Tt(e)},label:"Link",predicate:t=>B(e)&&ye(e,t),initValue:()=>{const t=he(e);return t.fold(h(""),me)},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:true,onSetup:t=>{const o=e.selection.getNode();t.setActive(ye(e,o));return Tt(e)(t)},onAction:o=>{const s=o.getValue();const r=n(s);const a={href:s,attach:p};Me(e,a,{href:s,text:r,title:b.none(),rel:b.none(),target:b.none(),class:b.none()});t(e);o.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:o,onAction:t=>{Re(e);t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:o,onAction:t=>{St(e)();t.hide()}}]})};var Lt=()=>{e.add("link",(e=>{M(e);Nt(e);Mt(e);Rt(e);Bt(e);zt(e);ht(e);At(e)}))};Lt()})()},(e,t,o)=>{o(22)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=n("string");const a=n("object");const c=n("array");const i=s("boolean");const l=e=>e===null||e===undefined;const d=e=>!l(e);const u=s("function");const f=s("number");const m=()=>{};const g=e=>()=>e;const p=(e,t)=>e===t;const h=e=>t=>!e(t);const y=g(false);class b{constructor(e,t){this.tag=e;this.value=t}static some(e){return new b(true,e)}static none(){return b.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return b.some(e(this.value))}else{return b.none()}}bind(e){if(this.tag){return e(this.value)}else{return b.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return b.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return d(e)?b.some(e):b.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}b.singletonNone=new b(false);const v=Array.prototype.slice;const k=Array.prototype.indexOf;const w=Array.prototype.push;const _=(e,t)=>k.call(e,t);const x=(e,t)=>_(e,t)>-1;const C=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const S=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const z=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const O=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const T=(e,t)=>{if(e.length===0){return[]}else{let o=t(e[0]);const n=[];let s=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];const c=t(a);if(c!==o){n.push(s);s=[]}o=c;s.push(a)}if(s.length!==0){n.push(s)}return n}};const E=(e,t,o)=>{z(e,((e,n)=>{o=t(o,e,n)}));return o};const D=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return b.some(s)}else if(o(s,n)){break}}return b.none()};const A=(e,t)=>D(e,t,y);const N=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!c(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}w.apply(t,e[o])}return t};const M=(e,t)=>N(S(e,t));const R=e=>{const t=v.call(e,0);t.reverse();return t};const B=(e,t)=>t>=0&&t<e.length?b.some(e[t]):b.none();const L=e=>B(e,0);const H=e=>B(e,e.length-1);const I=(e,t)=>{const o=[];const n=u(t)?e=>C(o,(o=>t(o,e))):e=>x(o,e);for(let t=0,s=e.length;t<s;t++){const s=e[t];if(!n(s)){o.push(s)}}return o};const P=(e,t,o=p)=>e.exists((e=>o(e,t)));const F=(e,t,o=p)=>V(e,t,o).getOr(e.isNone()&&t.isNone());const V=(e,t,o)=>e.isSome()&&t.isSome()?b.some(o(e.getOrDie(),t.getOrDie())):b.none();const j=1;const Z=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return W(n.childNodes[0])};const U=(e,t)=>{const o=t||document;const n=o.createElement(e);return W(n)};const q=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return W(n)};const W=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const $=(e,t,o)=>b.from(e.dom.elementFromPoint(t,o)).map(W);const G={fromHtml:Z,fromTag:U,fromText:q,fromDom:W,fromPoint:$};const K=(e,t)=>{const o=e.dom;if(o.nodeType!==j){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const Y=(e,t)=>e.dom===t.dom;const X=(e,t)=>{const o=e.dom;const n=t.dom;return o===n?false:o.contains(n)};const J=K;var Q=(e,t,o,n,s)=>{if(e(o,n)){return b.some(o)}else if(u(s)&&s(o)){return b.none()}else{return t(o,n,s)}};typeof window!=="undefined"?window:Function("return this;")();const ee=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const te=e=>e.dom.nodeType;const oe=e=>t=>te(t)===e;const ne=oe(j);const se=e=>t=>ne(t)&&ee(t)===e;const re=e=>b.from(e.dom.parentNode).map(G.fromDom);const ae=e=>b.from(e.dom.parentElement).map(G.fromDom);const ce=e=>b.from(e.dom.nextSibling).map(G.fromDom);const ie=e=>S(e.dom.childNodes,G.fromDom);const le=(e,t)=>{const o=e.dom.childNodes;return b.from(o[t]).map(G.fromDom)};const de=e=>le(e,0);const ue=e=>le(e,e.dom.childNodes.length-1);const fe=(e,t,o)=>{let n=e.dom;const s=u(o)?o:y;while(n.parentNode){n=n.parentNode;const e=G.fromDom(n);if(t(e)){return b.some(e)}else if(s(e)){break}}return b.none()};const me=(e,t,o)=>{const n=(e,t)=>t(e);return Q(n,fe,e,t,o)};const ge=(e,t)=>{const o=re(e);o.each((o=>{o.dom.insertBefore(t.dom,e.dom)}))};const pe=(e,t)=>{const o=ce(e);o.fold((()=>{const o=re(e);o.each((e=>{he(e,t)}))}),(e=>{ge(e,t)}))};const he=(e,t)=>{e.dom.appendChild(t.dom)};const ye=(e,t)=>{z(t,(t=>{ge(e,t)}))};const be=(e,t)=>{z(t,(t=>{he(e,t)}))};const ve=e=>{e.dom.textContent="";z(ie(e),(e=>{ke(e)}))};const ke=e=>{const t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};var we=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils");var _e=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");var xe=tinymce.util.Tools.resolve("tinymce.util.VK");const Ce=e=>S(e,G.fromDom);const Se=Object.keys;const ze=(e,t)=>{const o=Se(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const Oe=e=>(t,o)=>{e[o]=t};const Te=(e,t,o,n)=>{ze(e,((e,s)=>{(t(e,s)?o:n)(e,s)}))};const Ee=(e,t)=>{const o={};Te(e,t,Oe(o),m);return o};const De=(e,t,o)=>{if(r(o)||i(o)||f(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const Ae=(e,t)=>{const o=e.dom;ze(t,((e,t)=>{De(o,t,e)}))};const Ne=e=>E(e.dom.attributes,((e,t)=>{e[t.name]=t.value;return e}),{});const Me=(e,t)=>G.fromDom(e.dom.cloneNode(t));const Re=e=>Me(e,true);const Be=(e,t)=>{const o=G.fromTag(t);const n=Ne(e);Ae(o,n);return o};const Le=(e,t)=>{const o=Be(e,t);pe(e,o);const n=ie(e);be(o,n);ke(e);return o};var He=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var Ie=tinymce.util.Tools.resolve("tinymce.util.Tools");const Pe=e=>t=>d(t)&&t.nodeName.toLowerCase()===e;const Fe=e=>t=>d(t)&&e.test(t.nodeName);const Ve=e=>d(e)&&e.nodeType===3;const je=e=>d(e)&&e.nodeType===1;const Ze=Fe(/^(OL|UL|DL)$/);const Ue=Fe(/^(OL|UL)$/);const qe=Pe("ol");const We=Fe(/^(LI|DT|DD)$/);const $e=Fe(/^(DT|DD)$/);const Ge=Fe(/^(TH|TD)$/);const Ke=Pe("br");const Ye=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e};const Xe=(e,t)=>d(t)&&t.nodeName in e.schema.getTextBlockElements();const Je=(e,t)=>d(e)&&e.nodeName in t;const Qe=(e,t)=>{if(!Ke(t)){return false}return e.isBlock(t.nextSibling)&&!Ke(t.previousSibling)};const et=(e,t,o)=>{const n=e.isEmpty(t);if(o&&e.select("span[data-mce-type=bookmark]",t).length>0){return false}return n};const tt=(e,t)=>e.isChildOf(t,e.getRoot());const ot=e=>t=>t.options.get(e);const nt=e=>{const t=e.options.register;t("lists_indent_on_tab",{processor:"boolean",default:true})};const st=ot("lists_indent_on_tab");const rt=ot("forced_root_block");const at=ot("forced_root_block_attrs");const ct=(e,t)=>{const o=e.dom;const n=e.schema.getBlockElements();const s=o.createFragment();const r=rt(e);const a=at(e);let c;let i;let l=false;i=o.create(r,a);if(!Je(t.firstChild,n)){s.appendChild(i)}while(c=t.firstChild){const e=c.nodeName;if(!l&&(e!=="SPAN"||c.getAttribute("data-mce-type")!=="bookmark")){l=true}if(Je(c,n)){s.appendChild(c);i=null}else{if(!i){i=o.create(r,a);s.appendChild(i)}i.appendChild(c)}}if(!l&&i){i.appendChild(o.create("br",{"data-mce-bogus":"1"}))}return s};const it=He.DOM;const lt=(e,t,o)=>{const n=e=>{const t=e.parentNode;if(t){Ie.each(s,(e=>{t.insertBefore(e,o.parentNode)}))}it.remove(e)};const s=it.select('span[data-mce-type="bookmark"]',t);const r=ct(e,o);const a=it.createRng();a.setStartAfter(o);a.setEndAfter(t);const c=a.extractContents();for(let t=c.firstChild;t;t=t.firstChild){if(t.nodeName==="LI"&&e.dom.isEmpty(t)){it.remove(t);break}}if(!e.dom.isEmpty(c)){it.insertAfter(c,t)}it.insertAfter(r,t);const i=o.parentElement;if(i&&et(e.dom,i)){n(i)}it.remove(o);if(et(e.dom,t)){it.remove(t)}};const dt=se("dd");const ut=se("dt");const ft=(e,t)=>{if(dt(t)){Le(t,"dt")}else if(ut(t)){ae(t).each((o=>lt(e,o.dom,t.dom)))}};const mt=e=>{if(ut(e)){Le(e,"dd")}};const gt=(e,t,o)=>{if(t==="Indent"){z(o,mt)}else{z(o,(t=>ft(e,t)))}};const pt=(e,t)=>{if(Ve(e)){return{container:e,offset:t}}const o=we.getNode(e,t);if(Ve(o)){return{container:o,offset:t>=e.childNodes.length?o.data.length:0}}else if(o.previousSibling&&Ve(o.previousSibling)){return{container:o.previousSibling,offset:o.previousSibling.data.length}}else if(o.nextSibling&&Ve(o.nextSibling)){return{container:o.nextSibling,offset:0}}return{container:e,offset:t}};const ht=e=>{const t=e.cloneRange();const o=pt(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const n=pt(e.endContainer,e.endOffset);t.setEnd(n.container,n.offset);return t};const yt=["OL","UL","DL"];const bt=yt.join(",");const vt=(e,t)=>{const o=t||e.selection.getStart(true);return e.dom.getParent(o,bt,Tt(e,o))};const kt=(e,t)=>d(e)&&t.length===1&&t[0]===e;const wt=e=>O(e.querySelectorAll(bt),Ze);const _t=e=>{const t=vt(e);const o=e.selection.getSelectedBlocks();if(kt(t,o)){return wt(t)}else{return O(o,(e=>Ze(e)&&t!==e))}};const xt=(e,t)=>{const o=Ie.map(t,(t=>{const o=e.dom.getParent(t,"li,dd,dt",Tt(e,t));return o?o:t}));return I(o)};const Ct=e=>{const t=e.selection.getSelectedBlocks();return O(xt(e,t),We)};const St=e=>O(Ct(e),$e);const zt=(e,t)=>{const o=e.dom.getParents(t,"TD,TH");return o.length>0?o[0]:e.getBody()};const Ot=(e,t)=>!Ze(t)&&!We(t)&&C(yt,(o=>e.isValidChild(t.nodeName,o)));const Tt=(e,t)=>{const o=e.dom.getParents(t,e.dom.isBlock);const n=A(o,(t=>Ot(e.schema,t)));return n.getOr(e.getBody())};const Et=(e,t)=>{const o=e.dom.getParents(t,"ol,ul",Tt(e,t));return H(o)};const Dt=e=>{const t=Et(e,e.selection.getStart());const o=O(e.selection.getSelectedBlocks(),Ue);return t.toArray().concat(o)};const At=e=>{const t=Dt(e);return Nt(e,t)};const Nt=(e,t)=>{const o=S(t,(t=>Et(e,t).getOr(t)));return I(o)};const Mt=e=>/\btox\-/.test(e.className);const Rt=(e,t)=>D(e,Ze,Ge).exists((e=>e.nodeName===t&&!Mt(e)));const Bt=(e,t)=>t!==null&&e.dom.getContentEditableParent(t)==="false";const Lt=e=>{const t=vt(e);return Bt(e,t)};const Ht=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return Bt(e,o)};const It=(e,t)=>{const o=e.selection.getNode();t({parents:e.dom.getParents(o),element:o});e.on("NodeChange",t);return()=>e.off("NodeChange",t)};const Pt=(e,t)=>{const o=t||document;const n=o.createDocumentFragment();z(e,(e=>{n.appendChild(e.dom)}));return G.fromDom(n)};const Ft=(e,t,o)=>e.dispatch("ListMutation",{action:t,element:o});const Vt=e=>t=>t.replace(e,"");const jt=Vt(/^\s+|\s+$/g);const Zt=e=>e.length>0;const Ut=e=>!Zt(e);const qt=e=>e.style!==undefined&&u(e.style.getPropertyValue);const Wt=(e,t,o)=>{if(!r(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(qt(e)){e.style.setProperty(t,o)}};const $t=(e,t,o)=>{const n=e.dom;Wt(n,t,o)};const Gt=(e,t)=>{he(e.item,t.list)};const Kt=e=>{for(let t=1;t<e.length;t++){Gt(e[t-1],e[t])}};const Yt=(e,t)=>{V(H(e),L(t),Gt)};const Xt=(e,t)=>{const o={list:G.fromTag(t,e),item:G.fromTag("li",e)};he(o.list,o.item);return o};const Jt=(e,t,o)=>{const n=[];for(let s=0;s<o;s++){n.push(Xt(e,t.listType))}return n};const Qt=(e,t)=>{for(let t=0;t<e.length-1;t++){$t(e[t].item,"list-style-type","none")}H(e).each((e=>{Ae(e.list,t.listAttributes);Ae(e.item,t.itemAttributes);be(e.item,t.content)}))};const eo=(e,t)=>{if(ee(e.list)!==t.listType){e.list=Le(e.list,t.listType)}Ae(e.list,t.listAttributes)};const to=(e,t,o)=>{const n=G.fromTag("li",e);Ae(n,t);be(n,o);return n};const oo=(e,t)=>{he(e.list,t);e.item=t};const no=(e,t,o)=>{const n=t.slice(0,o.depth);H(n).each((t=>{const n=to(e,o.itemAttributes,o.content);oo(t,n);eo(t,o)}));return n};const so=(e,t,o)=>{const n=Jt(e,o,o.depth-t.length);Kt(n);Qt(n,o);Yt(t,n);return t.concat(n)};const ro=(e,t)=>{const o=E(t,((t,o)=>o.depth>t.length?so(e,t,o):no(e,t,o)),[]);return L(o).map((e=>e.list))};const ao=e=>J(e,"OL,UL");const co=e=>de(e).exists(ao);const io=e=>ue(e).exists(ao);const lo=e=>e.depth>0;const uo=e=>e.isSelected;const fo=e=>{const t=ie(e);const o=io(e)?t.slice(0,-1):t;return S(o,Re)};const mo=(e,t,o)=>re(e).filter(ne).map((n=>({depth:t,dirty:false,isSelected:o,content:fo(e),itemAttributes:Ne(e),listAttributes:Ne(n),listType:ee(n)})));const go=(e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=true};const po=(e,t)=>{e.listType=t.listType;e.listAttributes={...t.listAttributes}};const ho=e=>{e.listAttributes=Ee(e.listAttributes,((e,t)=>t!=="start"))};const yo=(e,t)=>{const o=e[t].depth;const n=e=>e.depth===o&&!e.dirty;const s=e=>e.depth<o;return D(R(e.slice(0,t)),n,s).orThunk((()=>D(e.slice(t+1),n,s)))};const bo=e=>{z(e,((t,o)=>{yo(e,o).fold((()=>{if(t.dirty){ho(t)}}),(e=>po(t,e)))}));return e};const vo=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const ko=(e,t,o,n)=>de(n).filter(ao).fold((()=>{t.each((e=>{if(Y(e.start,n)){o.set(true)}}));const s=mo(n,e,o.get());t.each((e=>{if(Y(e.end,n)){o.set(false)}}));const r=ue(n).filter(ao).map((n=>wo(e,t,o,n))).getOr([]);return s.toArray().concat(r)}),(n=>wo(e,t,o,n)));const wo=(e,t,o,n)=>M(ie(n),(n=>{const s=ao(n)?wo:ko;const r=e+1;return s(r,t,o,n)}));const _o=(e,t)=>{const o=vo(false);const n=0;return S(e,(e=>({sourceList:e,entries:wo(n,t,o,e)})))};const xo=(e,t)=>{const o=bo(t);return S(o,(t=>{const o=Pt(t.content);return G.fromDom(ct(e,o.dom))}))};const Co=(e,t)=>{const o=bo(t);return ro(e.contentDocument,o).toArray()};const So=(e,t)=>M(T(t,lo),(t=>{const o=L(t).exists(lo);return o?Co(e,t):xo(e,t)}));const zo=(e,t)=>{z(O(e,uo),(e=>go(t,e)))};const Oo=e=>{const t=S(Ct(e),G.fromDom);return V(A(t,h(co)),A(R(t),h(co)),((e,t)=>({start:e,end:t})))};const To=(e,t,o)=>{const n=_o(t,Oo(e));z(n,(t=>{zo(t.entries,o);const n=So(e,t.entries);z(n,(t=>{Ft(e,o==="Indent"?"IndentList":"OutdentList",t.dom)}));ye(t.sourceList,n);ke(t.sourceList)}))};const Eo=(e,t)=>{const o=Ce(At(e));const n=Ce(St(e));let s=false;if(o.length||n.length){const r=e.selection.getBookmark();To(e,o,t);gt(e,t,n);e.selection.moveToBookmark(r);e.selection.setRng(ht(e.selection.getRng()));e.nodeChanged();s=true}return s};const Do=(e,t)=>!Lt(e)&&Eo(e,t);const Ao=e=>Do(e,"Indent");const No=e=>Do(e,"Outdent");const Mo=e=>Do(e,"Flatten");var Ro=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Bo=He.DOM;const Lo=e=>{const t={};const o=o=>{let n=e[o?"startContainer":"endContainer"];let s=e[o?"startOffset":"endOffset"];if(je(n)){const e=Bo.create("span",{"data-mce-type":"bookmark"});if(n.hasChildNodes()){s=Math.min(s,n.childNodes.length-1);if(o){n.insertBefore(e,n.childNodes[s])}else{Bo.insertAfter(e,n.childNodes[s])}}else{n.appendChild(e)}n=e;s=0}t[o?"startContainer":"endContainer"]=n;t[o?"startOffset":"endOffset"]=s};o(true);if(!e.collapsed){o()}return t};const Ho=e=>{const t=t=>{const o=e=>{var t;let o=(t=e.parentNode)===null||t===void 0?void 0:t.firstChild;let n=0;while(o){if(o===e){return n}if(!je(o)||o.getAttribute("data-mce-type")!=="bookmark"){n++}o=o.nextSibling}return-1};let n=e[t?"startContainer":"endContainer"];let s=e[t?"startOffset":"endOffset"];if(!n){return}if(je(n)&&n.parentNode){const e=n;s=o(n);n=n.parentNode;Bo.remove(e);if(!n.hasChildNodes()&&Bo.isBlock(n)){n.appendChild(Bo.create("br"))}}e[t?"startContainer":"endContainer"]=n;e[t?"startOffset":"endOffset"]=s};t(true);t();const o=Bo.createRng();o.setStart(e.startContainer,e.startOffset);if(e.endContainer){o.setEnd(e.endContainer,e.endOffset)}return ht(o)};const Io=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}};const Po=(e,t,o)=>{const n=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(t,"list-style-type",n)};const Fo=(e,t)=>{Ie.each(t,((t,o)=>{e.setAttribute(o,t)}))};const Vo=(e,t,o)=>{Fo(t,o["list-attributes"]);Ie.each(e.select("li",t),(e=>{Fo(e,o["list-item-attributes"])}))};const jo=(e,t,o)=>{Po(e,t,o);Vo(e,t,o)};const Zo=(e,t,o)=>{Ie.each(o,(o=>e.setStyle(t,o,"")))};const Uo=(e,t,o,n)=>{let s=t[o?"startContainer":"endContainer"];const r=t[o?"startOffset":"endOffset"];if(je(s)){s=s.childNodes[Math.min(r,s.childNodes.length-1)]||s}if(!o&&Ke(s.nextSibling)){s=s.nextSibling}while(s.parentNode!==n){const t=s.parentNode;if(Xe(e,s)){return s}if(/^(TD|TH)$/.test(t.nodeName)){return s}s=t}return s};const qo=(e,t,o)=>{const n=[];const s=e.dom;const r=Uo(e,t,true,o);const a=Uo(e,t,false,o);let c;const i=[];for(let e=r;e;e=e.nextSibling){i.push(e);if(e===a){break}}Ie.each(i,(t=>{var r;if(Xe(e,t)){n.push(t);c=null;return}if(s.isBlock(t)||Ke(t)){if(Ke(t)){s.remove(t)}c=null;return}const a=t.nextSibling;if(Ro.isBookmarkNode(t)){if(Ze(a)||Xe(e,a)||!a&&t.parentNode===o){c=null;return}}if(!c){c=s.create("p");(r=t.parentNode)===null||r===void 0?void 0:r.insertBefore(c,t);n.push(c)}c.appendChild(t)}));return n};const Wo=(e,t,o)=>{const n=e.getStyle(t,"list-style-type");let s=o?o["list-style-type"]:"";s=s===null?"":s;return n===s};const $o=(e,t,o)=>{const n=e.selection.getRng();let s="LI";const r=Tt(e,e.selection.getStart(true));const a=e.dom;if(a.getContentEditable(e.selection.getNode())==="false"){return}t=t.toUpperCase();if(t==="DL"){s="DT"}const c=Lo(n);const i=qo(e,n,r);Ie.each(i,(n=>{let r;const c=n.previousSibling;const i=n.parentNode;if(!We(i)){if(c&&Ze(c)&&c.nodeName===t&&Wo(a,c,o)){r=c;n=a.rename(n,s);c.appendChild(n)}else{r=a.create(t);i.insertBefore(r,n);r.appendChild(n);n=a.rename(n,s)}Zo(a,n,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]);jo(a,r,o);Jo(e.dom,r)}}));e.selection.setRng(Ho(c))};const Go=(e,t)=>Ze(e)&&e.nodeName===(t===null||t===void 0?void 0:t.nodeName);const Ko=(e,t,o)=>{const n=e.getStyle(t,"list-style-type",true);const s=e.getStyle(o,"list-style-type",true);return n===s};const Yo=(e,t)=>e.className===t.className;const Xo=(e,t,o)=>Go(t,o)&&Ko(e,t,o)&&Yo(t,o);const Jo=(e,t)=>{let o;let n=t.nextSibling;if(Xo(e,t,n)){const s=n;while(o=s.firstChild){t.appendChild(o)}e.remove(s)}n=t.previousSibling;if(Xo(e,t,n)){const s=n;while(o=s.lastChild){t.insertBefore(o,t.firstChild)}e.remove(s)}};const Qo=(e,t,o,n)=>{if(t.nodeName!==o){const s=e.dom.rename(t,o);jo(e.dom,s,n);Ft(e,Io(o),s)}else{jo(e.dom,t,n);Ft(e,Io(o),t)}};const en=(e,t,o,n,s)=>{const r=Ze(t);if(r&&t.nodeName===n&&!tn(s)){Mo(e)}else{$o(e,n,s);const a=Lo(e.selection.getRng());const c=r?[t,...o]:o;Ie.each(c,(t=>{Qo(e,t,n,s)}));e.selection.setRng(Ho(a))}};const tn=e=>"list-style-type"in e;const on=(e,t,o,n)=>{if(t===e.getBody()){return}if(t){if(t.nodeName===o&&!tn(n)&&!Mt(t)){Mo(e)}else{const s=Lo(e.selection.getRng());jo(e.dom,t,n);const r=e.dom.rename(t,o);Jo(e.dom,r);e.selection.setRng(Ho(s));$o(e,o,n);Ft(e,Io(o),r)}}else{$o(e,o,n);Ft(e,Io(o),t)}};const nn=(e,t,o)=>{const n=vt(e);if(Ht(e,n)){return}const s=_t(e);const r=a(o)?o:{};if(s.length>0){en(e,n,s,t,r)}else{on(e,n,t,r)}};const sn=He.DOM;const rn=(e,t)=>{const o=t.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===t){const n=o.previousSibling;if(n&&n.nodeName==="LI"){n.appendChild(t);if(et(e,o)){sn.remove(o)}}else{sn.setStyle(o,"listStyleType","none")}}if(Ze(o)){const e=o.previousSibling;if(e&&e.nodeName==="LI"){e.appendChild(t)}}};const an=(e,t)=>{const o=Ie.grep(e.select("ol,ul",t));Ie.each(o,(t=>{rn(e,t)}))};const cn=(e,t,o,n)=>{let s=t.startContainer;const r=t.startOffset;if(Ve(s)&&(o?r<s.data.length:r>0)){return s}const a=e.schema.getNonEmptyElements();if(je(s)){s=we.getNode(s,r)}const c=new _e(s,n);if(o){if(Qe(e.dom,s)){c.next()}}const i=o?c.next.bind(c):c.prev2.bind(c);while(s=i()){if(s.nodeName==="LI"&&!s.hasChildNodes()){return s}if(a[s.nodeName]){return s}if(Ve(s)&&s.data.length>0){return s}}return null};const ln=(e,t)=>{const o=t.childNodes;return o.length===1&&!Ze(o[0])&&e.isBlock(o[0])};const dn=(e,t)=>{if(ln(e,t)){e.remove(t.firstChild,true)}};const un=(e,t,o)=>{let n;const s=ln(e,o)?o.firstChild:o;dn(e,t);if(!et(e,t,true)){while(n=t.firstChild){s.appendChild(n)}}};const fn=(e,t,o)=>{let n;const s=t.parentNode;if(!tt(e,t)||!tt(e,o)){return}if(Ze(o.lastChild)){n=o.lastChild}if(s===o.lastChild){if(Ke(s.previousSibling)){e.remove(s.previousSibling)}}const r=o.lastChild;if(r&&Ke(r)&&t.hasChildNodes()){e.remove(r)}if(et(e,o,true)){ve(G.fromDom(o))}un(e,t,o);if(n){o.appendChild(n)}const a=X(G.fromDom(o),G.fromDom(t));const c=a?e.getParents(t,Ze,o):[];e.remove(t);z(c,(t=>{if(et(e,t)&&t!==e.getRoot()){e.remove(t)}}))};const mn=(e,t,o)=>{ve(G.fromDom(o));fn(e.dom,t,o);e.selection.setCursorLocation(o,0)};const gn=(e,t,o,n)=>{const s=e.dom;if(s.isEmpty(n)){mn(e,o,n)}else{const r=Lo(t);fn(s,o,n);e.selection.setRng(Ho(r))}};const pn=(e,t,o,n)=>{const s=Lo(t);fn(e.dom,o,n);const r=Ho(s);e.selection.setRng(r)};const hn=(e,t)=>{const o=e.dom,n=e.selection;const s=n.getStart();const r=zt(e,s);const a=o.getParent(n.getStart(),"LI",r);if(a){const s=a.parentElement;if(s===e.getBody()&&et(o,s)){return true}const c=ht(n.getRng());const i=o.getParent(cn(e,c,t,r),"LI",r);if(i&&i!==a){e.undoManager.transact((()=>{if(t){gn(e,c,i,a)}else{if(Ye(a)){No(e)}else{pn(e,c,a,i)}}}));return true}else if(!i){if(!t&&c.startOffset===0&&c.endOffset===0){e.undoManager.transact((()=>{Mo(e)}));return true}}}return false};const yn=(e,t,o)=>{const n=e.getParent(t.parentNode,e.isBlock,o);e.remove(t);if(n&&e.isEmpty(n)){e.remove(n)}};const bn=(e,t)=>{const o=e.dom;const n=e.selection.getStart();const s=zt(e,n);const r=o.getParent(n,o.isBlock,s);if(r&&o.isEmpty(r)){const n=ht(e.selection.getRng());const a=o.getParent(cn(e,n,t,s),"LI",s);if(a){const c=e=>x(["td","th","caption"],ee(e));const i=e=>e.dom===s;const l=me(G.fromDom(a),c,i);const d=me(G.fromDom(n.startContainer),c,i);if(!F(l,d,Y)){return false}e.undoManager.transact((()=>{yn(o,r,s);Jo(o,a.parentNode);e.selection.select(a,true);e.selection.collapse(t)}));return true}}return false};const vn=(e,t)=>hn(e,t)||bn(e,t);const kn=e=>{const t=e.selection.getStart();const o=zt(e,t);const n=e.dom.getParent(t,"LI,DT,DD",o);return n||Ct(e).length>0};const wn=e=>{if(kn(e)){e.undoManager.transact((()=>{e.execCommand("Delete");an(e.dom,e.getBody())}));return true}return false};const _n=(e,t)=>{const o=e.selection;return!Ht(e,o.getNode())&&(o.isCollapsed()?vn(e,t):wn(e))};const xn=e=>{e.on("ExecCommand",(t=>{const o=t.command.toLowerCase();if((o==="delete"||o==="forwarddelete")&&kn(e)){an(e.dom,e.getBody())}}));e.on("keydown",(t=>{if(t.keyCode===xe.BACKSPACE){if(_n(e,false)){t.preventDefault()}}else if(t.keyCode===xe.DELETE){if(_n(e,true)){t.preventDefault()}}}))};const Cn=e=>({backspaceDelete:t=>{_n(e,t)}});const Sn=(e,t)=>{const o=vt(e);if(o===null||Ht(e,o)){return}e.undoManager.transact((()=>{if(a(t.styles)){e.dom.setStyles(o,t.styles)}if(a(t.attrs)){ze(t.attrs,((t,n)=>e.dom.setAttrib(o,n,t)))}}))};const zn=e=>{const t=R(jt(e).split(""));const o=S(t,((e,t)=>{const o=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*o}));return E(o,((e,t)=>e+t),0)};const On=e=>{e--;if(e<0){return""}else{const t=e%26;const o=Math.floor(e/26);const n=On(o);const s=String.fromCharCode("A".charCodeAt(0)+t);return n+s}};const Tn=e=>/^[A-Z]+$/.test(e);const En=e=>/^[a-z]+$/.test(e);const Dn=e=>/^[0-9]+$/.test(e);const An=e=>{if(Dn(e)){return 2}else if(Tn(e)){return 0}else if(En(e)){return 1}else if(Ut(e)){return 3}else{return 4}};const Nn=e=>{switch(An(e)){case 2:return b.some({listStyleType:b.none(),start:e});case 0:return b.some({listStyleType:b.some("upper-alpha"),start:zn(e).toString()});case 1:return b.some({listStyleType:b.some("lower-alpha"),start:zn(e).toString()});case 3:return b.some({listStyleType:b.none(),start:""});case 4:return b.none()}};const Mn=e=>{const t=parseInt(e.start,10);if(P(e.listStyleType,"upper-alpha")){return On(t)}else if(P(e.listStyleType,"lower-alpha")){return On(t).toLowerCase()}else{return e.start}};const Rn=e=>{const t=vt(e);if(!qe(t)||Ht(e,t)){return}e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Mn({start:e.dom.getAttrib(t,"start","1"),listStyleType:b.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],onSubmit:t=>{const o=t.getData();Nn(o.start).each((t=>{e.execCommand("mceListUpdate",false,{attrs:{start:t.start==="1"?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})}));t.close()}})};const Bn=(e,t)=>()=>{const o=vt(e);return d(o)&&o.nodeName===t};const Ln=e=>{e.addCommand("mceListProps",(()=>{Rn(e)}))};const Hn=e=>{e.on("BeforeExecCommand",(t=>{const o=t.command.toLowerCase();if(o==="indent"){Ao(e)}else if(o==="outdent"){No(e)}}));e.addCommand("InsertUnorderedList",((t,o)=>{nn(e,"UL",o)}));e.addCommand("InsertOrderedList",((t,o)=>{nn(e,"OL",o)}));e.addCommand("InsertDefinitionList",((t,o)=>{nn(e,"DL",o)}));e.addCommand("RemoveList",(()=>{Mo(e)}));Ln(e);e.addCommand("mceListUpdate",((t,o)=>{if(a(o)){Sn(e,o)}}));e.addQueryStateHandler("InsertUnorderedList",Bn(e,"UL"));e.addQueryStateHandler("InsertOrderedList",Bn(e,"OL"));e.addQueryStateHandler("InsertDefinitionList",Bn(e,"DL"))};const In=e=>{e.on("keydown",(t=>{if(t.keyCode!==xe.TAB||xe.metaKeyPressed(t)){return}e.undoManager.transact((()=>{if(t.shiftKey?No(e):Ao(e)){t.preventDefault()}}))}))};const Pn=e=>{if(st(e)){In(e)}xn(e)};const Fn=(e,t)=>o=>{const n=n=>{o.setActive(Rt(n.parents,t));o.setEnabled(!Ht(e,n.element))};return It(e,n)};const Vn=e=>{const t=t=>()=>e.execCommand(t);if(!e.hasPlugin("advlist")){e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:false,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:Fn(e,"OL")});e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:false,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:Fn(e,"UL")})}};const jn=(e,t)=>o=>{const n=n=>o.setEnabled(Rt(n.parents,t)&&!Ht(e,n.element));return It(e,n)};const Zn=e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:jn(e,"OL")};e.ui.registry.addMenuItem("listprops",t);e.ui.registry.addContextMenu("lists",{update:t=>{const o=vt(e,t);return qe(o)?["listprops"]:[]}})};var Un=()=>{e.add("lists",(e=>{nt(e);if(!e.hasPlugin("rtc",true)){Pn(e);Hn(e)}else{Ln(e)}Vn(e);Zn(e);return Cn(e)}))};Un()})()},(e,t,o)=>{o(24)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=n("string");const a=s("boolean");const c=e=>e===null||e===undefined;const i=e=>!c(e);const l=s("function");const d=e=>t=>t.options.get(e);const u=e=>{const t=e.options.register;const o=e=>t=>{const o=a(t)||r(t);if(o){if(a(t)){return{value:t?e:"",valid:o}}else{return{value:t.trim(),valid:o}}}else{return{valid:false,message:"Must be a boolean or string."}}};const n="bold italic | quicklink h2 h3 blockquote";t("quickbars_selection_toolbar",{processor:o(n),default:n});const s="quickimage quicktable";t("quickbars_insert_toolbar",{processor:o(s),default:s});const c="alignleft aligncenter alignright";t("quickbars_image_toolbar",{processor:o(c),default:c})};const f=d("quickbars_selection_toolbar");const m=d("quickbars_insert_toolbar");const g=d("quickbars_image_toolbar");let p=0;const h=e=>{const t=new Date;const o=t.getTime();const n=Math.floor(Math.random()*1e9);p++;return e+"_"+n+p+String(o)};const y=(e,t,o)=>{e.execCommand("mceInsertTable",false,{rows:o,columns:t})};const b=(e,t,o)=>{const n=e.editorUpload.blobCache;const s=n.create(h("mceu"),o,t);n.add(s);e.insertContent(e.dom.createHTML("img",{src:s.blobUri()}))};const v=e=>new Promise((t=>{const o=new FileReader;o.onloadend=()=>{t(o.result.split(",")[1])};o.readAsDataURL(e)}));var k=tinymce.util.Tools.resolve("tinymce.Env");var w=tinymce.util.Tools.resolve("tinymce.util.Delay");const _=e=>new Promise((t=>{const o=document.createElement("input");o.type="file";o.accept="image/*";o.style.position="fixed";o.style.left="0";o.style.top="0";o.style.opacity="0.001";document.body.appendChild(o);const n=e=>{t(Array.prototype.slice.call(e.target.files))};o.addEventListener("change",n);const s=n=>{const r=()=>{var e;t([]);(e=o.parentNode)===null||e===void 0?void 0:e.removeChild(o)};if(k.os.isAndroid()&&n.type!=="remove"){w.setEditorTimeout(e,r,0)}else{r()}e.off("focusin remove",s)};e.on("focusin remove",s);o.click()}));const x=e=>{e.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{_(e).then((t=>{if(t.length>0){const o=t[0];v(o).then((t=>{b(e,t,o)}))}}))}});e.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{y(e,2,2)}})};const C=e=>()=>e;const S=C(false);class z{constructor(e,t){this.tag=e;this.value=t}static some(e){return new z(true,e)}static none(){return z.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return z.some(e(this.value))}else{return z.none()}}bind(e){if(this.tag){return e(this.value)}else{return z.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return z.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return i(e)?z.some(e):z.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}z.singletonNone=new z(false);typeof window!=="undefined"?window:Function("return this;")();const O=1;const T=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const E=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):false};var D=(e,t,o,n,s)=>{if(e(o,n)){return z.some(o)}else if(l(s)&&s(o)){return z.none()}else{return t(o,n,s)}};const A=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return R(n.childNodes[0])};const N=(e,t)=>{const o=t||document;const n=o.createElement(e);return R(n)};const M=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return R(n)};const R=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const B=(e,t,o)=>z.from(e.dom.elementFromPoint(t,o)).map(R);const L={fromHtml:A,fromTag:N,fromText:M,fromDom:R,fromPoint:B};const H=(e,t)=>{const o=e.dom;if(o.nodeType!==O){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const I=(e,t,o)=>{let n=e.dom;const s=l(o)?o:S;while(n.parentNode){n=n.parentNode;const e=L.fromDom(n);if(t(e)){return z.some(e)}else if(s(e)){break}}return z.none()};const P=(e,t,o)=>{const n=(e,t)=>t(e);return D(n,I,e,t,o)};const F=(e,t,o)=>P(e,t,o).isSome();const V=(e,t,o)=>I(e,(e=>H(e,t)),o);const j=(e,t,o)=>{const n=(e,t)=>H(e,t);return D(n,V,e,t,o)};const Z=e=>{const t=m(e);if(t.length>0){e.ui.registry.addContextToolbar("quickblock",{predicate:t=>{const o=L.fromDom(t);const n=e.schema.getTextBlockElements();const s=t=>t.dom===e.getBody();return!E(o,"data-mce-bogus")&&j(o,'table,[data-mce-bogus="all"]',s).fold((()=>F(o,(t=>T(t)in n&&e.dom.isEmpty(t.dom)),s)),S)},items:t,position:"line",scope:"editor"})}};const U=e=>{const t=t=>e.dom.getContentEditableParent(t)!=="false";const o=e=>e.nodeName==="IMG"||e.nodeName==="FIGURE"&&/image/i.test(e.className);const n=g(e);if(n.length>0){e.ui.registry.addContextToolbar("imageselection",{predicate:o,items:n,position:"node"})}const s=f(e);if(s.length>0){e.ui.registry.addContextToolbar("textselection",{predicate:n=>!o(n)&&!e.selection.isCollapsed()&&t(n),items:s,position:"selection",scope:"editor"})}};var q=()=>{e.add("quickbars",(e=>{u(e);x(e);Z(e);U(e)}))};q()})()},(e,t,o)=>{o(26)},()=>{(function(){"use strict";const e=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const n=e=>{const t=typeof e;if(e===null){return"null"}else if(t==="object"&&Array.isArray(e)){return"array"}else if(t==="object"&&o(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return t}};const s=e=>t=>n(t)===e;const r=e=>t=>typeof t===e;const a=s("string");const c=s("array");const i=r("boolean");const l=e=>e===null||e===undefined;const d=e=>!l(e);const u=r("number");const f=()=>{};const m=e=>()=>e;const g=m(true);const p="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]";const h=m(p);class y{constructor(e,t){this.tag=e;this.value=t}static some(e){return new y(true,e)}static none(){return y.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return y.some(e(this.value))}else{return y.none()}}bind(e){if(this.tag){return e(this.value)}else{return y.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return y.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return d(e)?y.some(e):y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}y.singletonNone=new y(false);const b=h;var v=tinymce.util.Tools.resolve("tinymce.Env");var k=tinymce.util.Tools.resolve("tinymce.util.Tools");const w=Array.prototype.slice;const _=Array.prototype.push;const x=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const C=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const S=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}};const z=(e,t)=>{if(e.length===0){return[]}else{let o=t(e[0]);const n=[];let s=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];const c=t(a);if(c!==o){n.push(s);s=[]}o=c;s.push(a)}if(s.length!==0){n.push(s)}return n}};const O=(e,t,o)=>{C(e,((e,n)=>{o=t(o,e,n)}));return o};const T=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!c(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}_.apply(t,e[o])}return t};const E=(e,t)=>T(x(e,t));const D=(e,t)=>{const o=w.call(e,0);o.sort(t);return o};const A=Object.hasOwnProperty;const N=(e,t)=>A.call(e,t);typeof window!=="undefined"?window:Function("return this;")();const M=9;const R=11;const B=1;const L=3;const H=e=>e.dom.nodeType;const I=e=>t=>H(t)===e;const P=I(L);const F=(e,t,o)=>{if(a(o)||i(o)||u(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const V=(e,t,o)=>{F(e.dom,t,o)};const j=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return q(n.childNodes[0])};const Z=(e,t)=>{const o=t||document;const n=o.createElement(e);return q(n)};const U=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return q(n)};const q=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const W=(e,t,o)=>y.from(e.dom.elementFromPoint(t,o)).map(q);const $={fromHtml:j,fromTag:Z,fromText:U,fromDom:q,fromPoint:W};const G=e=>e.nodeType!==B&&e.nodeType!==M&&e.nodeType!==R||e.childElementCount===0;const K=(e,t)=>{const o=t===undefined?document:t.dom;return G(o)?[]:x(o.querySelectorAll(e),$.fromDom)};const Y=e=>y.from(e.dom.parentNode).map($.fromDom);const X=e=>x(e.dom.childNodes,$.fromDom);const J=(e,t)=>({element:e,offset:t});const Q=(e,t)=>{const o=X(e);return o.length>0&&t<o.length?J(o[t],0):J(e,t)};const ee=(e,t)=>{const o=Y(e);o.each((o=>{o.dom.insertBefore(t.dom,e.dom)}))};const te=(e,t)=>{e.dom.appendChild(t.dom)};const oe=(e,t)=>{ee(e,t);te(t,e)};const ne=(e,t)=>{const o=o=>{if(!e(o)){throw new Error("Can only get "+t+" value of a "+t+" node")}return n(o).getOr("")};const n=t=>e(t)?y.from(t.dom.nodeValue):y.none();const s=(o,n)=>{if(!e(o)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}o.dom.nodeValue=n};return{get:o,getOption:n,set:s}};const se=ne(P,"text");const re=e=>se.get(e);const ae=(e,t,o)=>(e.compareDocumentPosition(t)&o)!==0;const ce=(e,t)=>ae(e,t,Node.DOCUMENT_POSITION_PRECEDING);const ie=(e,t)=>K(t,e);var le=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const de=(e,t)=>e.isBlock(t)||N(e.schema.getVoidElements(),t.nodeName);const ue=(e,t)=>e.getContentEditable(t)==="false";const fe=(e,t)=>e.getContentEditable(t)==="true"&&t.parentNode&&e.getContentEditableParent(t.parentNode)==="false";const me=(e,t)=>!e.isBlock(t)&&N(e.schema.getWhitespaceElements(),t.nodeName);const ge=(e,t)=>de(e,t)||ue(e,t)||me(e,t)||fe(e,t);const pe=e=>e.nodeType===3;const he=()=>({sOffset:0,fOffset:0,elements:[]});const ye=(e,t)=>Q($.fromDom(e),t);const be=(e,t,o,n,s,r=true)=>{let a=r?t(false):o;while(a){const o=ue(e,a);if(o||me(e,a)){const e=o?n.cef(a):n.boundary(a);if(e){break}else{a=t(true);continue}}else if(de(e,a)){if(n.boundary(a)){break}}else if(pe(a)){n.text(a)}if(a===s){break}else{a=t(false)}}};const ve=(e,t,o,n,s)=>{var r;if(ge(e,o)){return}const a=(r=e.getParent(n,e.isBlock))!==null&&r!==void 0?r:e.getRoot();const c=new le(o,a);const i=s?c.next.bind(c):c.prev.bind(c);be(e,i,o,{boundary:g,cef:g,text:e=>{if(s){t.fOffset+=e.length}else{t.sOffset+=e.length}t.elements.push($.fromDom(e))}})};const ke=(e,t,o,n,s,r=true)=>{const a=new le(o,t);const c=[];let i=he();ve(e,i,o,t,false);const l=()=>{if(i.elements.length>0){c.push(i);i=he()}return false};be(e,a.next.bind(a),o,{boundary:l,cef:e=>{l();if(s){c.push(...s.cef(e))}return false},text:e=>{i.elements.push($.fromDom(e));if(s){s.text(e,i)}}},n,r);if(n){ve(e,i,n,t,true)}l();return c};const we=(e,t)=>{const o=ye(t.startContainer,t.startOffset);const n=o.element.dom;const s=ye(t.endContainer,t.endOffset);const r=s.element.dom;return ke(e,t.commonAncestorContainer,n,r,{text:(e,t)=>{if(e===r){t.fOffset+=e.length-s.offset}else if(e===n){t.sOffset+=o.offset}},cef:t=>{const o=E(ie($.fromDom(t),"*[contenteditable=true]"),(t=>{const o=t.dom;return ke(e,o,o)}));return D(o,((e,t)=>ce(e.elements[0].dom,t.elements[0].dom)?1:-1))}},false)};const _e=(e,t)=>t.collapsed?[]:we(e,t);const xe=(e,t)=>{const o=e.createRng();o.selectNode(t);return _e(e,o)};const Ce=(e,t)=>E(t,(t=>xe(e,t)));const Se=(e,t,o=0,n=e.length)=>{const s=t.regex;s.lastIndex=o;const r=[];let a;while(a=s.exec(e)){const e=a[t.matchIndex];const o=a.index+a[0].indexOf(e);const c=o+e.length;if(c>n){break}r.push({start:o,finish:c});s.lastIndex=c}return r};const ze=(e,t)=>{const o=O(e,((e,o)=>{const n=re(o);const s=e.last;const r=s+n.length;const a=E(t,((e,t)=>{if(e.start<r&&e.finish>s){return[{element:o,start:Math.max(s,e.start)-s,finish:Math.min(r,e.finish)-s,matchId:t}]}else{return[]}}));return{results:e.results.concat(a),last:r}}),{results:[],last:0}).results;return z(o,(e=>e.matchId))};const Oe=(e,t)=>E(t,(t=>{const o=t.elements;const n=x(o,re).join("");const s=Se(n,e,t.sOffset,n.length-t.fOffset);return ze(o,s)}));const Te=(e,t)=>{S(e,((e,o)=>{S(e,(e=>{const n=$.fromDom(t.cloneNode(false));V(n,"data-mce-index",o);const s=e.element.dom;if(s.length===e.finish&&e.start===0){oe(e.element,n)}else{if(s.length!==e.finish){s.splitText(e.finish)}const t=s.splitText(e.start);oe($.fromDom(t),n)}}))}))};const Ee=(e,t,o,n)=>{const s=xe(e,o);const r=Oe(t,s);Te(r,n);return r.length};const De=(e,t,o,n)=>{const s=o.getBookmark();const r=e.select("td[data-mce-selected],th[data-mce-selected]");const a=r.length>0?Ce(e,r):_e(e,o.getRng());const c=Oe(t,a);Te(c,n);o.moveToBookmark(s);return c.length};const Ae=e=>e.getAttribute("data-mce-index");const Ne=(e,t,o,n)=>{const s=e.dom.create("span",{"data-mce-bogus":1});s.className="mce-match-marker";const r=e.getBody();Ze(e,t,false);if(n){return De(e.dom,o,e.selection,s)}else{return Ee(e.dom,o,r,s)}};const Me=e=>{var t;const o=e.parentNode;if(e.firstChild){o.insertBefore(e.firstChild,e)}(t=e.parentNode)===null||t===void 0?void 0:t.removeChild(e)};const Re=(e,t)=>{const o=[];const n=k.toArray(e.getBody().getElementsByTagName("span"));if(n.length){for(let e=0;e<n.length;e++){const s=Ae(n[e]);if(s===null||!s.length){continue}if(s===t.toString()){o.push(n[e])}}}return o};const Be=(e,t,o)=>{const n=t.get();let s=n.index;const r=e.dom;if(o){if(s+1===n.count){s=0}else{s++}}else{if(s-1===-1){s=n.count-1}else{s--}}r.removeClass(Re(e,n.index),"mce-match-marker-selected");const a=Re(e,s);if(a.length){r.addClass(Re(e,s),"mce-match-marker-selected");e.selection.scrollIntoView(a[0]);return s}return-1};const Le=(e,t)=>{const o=t.parentNode;e.remove(t);if(o&&e.isEmpty(o)){e.remove(o)}};const He=(e,t)=>{const o=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]");const n="("+o+")";return t?`(?:^|\\s|${b()})`+n+`(?=$|\\s|${b()})`:n};const Ie=(e,t,o,n,s,r)=>{const a=e.selection;const c=He(o,s);const i=a.isForward();const l={regex:new RegExp(c,n?"g":"gi"),matchIndex:1};const d=Ne(e,t,l,r);if(v.browser.isSafari()){a.setRng(a.getRng(),i)}if(d){const a=Be(e,t,true);t.set({index:a,count:d,text:o,matchCase:n,wholeWord:s,inSelection:r})}return d};const Pe=(e,t)=>{const o=Be(e,t,true);t.set({...t.get(),index:o})};const Fe=(e,t)=>{const o=Be(e,t,false);t.set({...t.get(),index:o})};const Ve=e=>{const t=Ae(e);return t!==null&&t.length>0};const je=(e,t,o,n,s)=>{const r=t.get();const a=r.index;let c,i=a;n=n!==false;const l=e.getBody();const d=k.grep(k.toArray(l.getElementsByTagName("span")),Ve);for(let t=0;t<d.length;t++){const l=Ae(d[t]);let u=c=parseInt(l,10);if(s||u===r.index){if(o.length){d[t].innerText=o;Me(d[t])}else{Le(e.dom,d[t])}while(d[++t]){u=parseInt(Ae(d[t]),10);if(u===c){Le(e.dom,d[t])}else{t--;break}}if(n){i--}}else if(c>a){d[t].setAttribute("data-mce-index",String(c-1))}}t.set({...r,count:s?0:r.count-1,index:i});if(n){Pe(e,t)}else{Fe(e,t)}return!s&&t.get().count>0};const Ze=(e,t,o)=>{let n;let s;const r=t.get();const a=k.toArray(e.getBody().getElementsByTagName("span"));for(let e=0;e<a.length;e++){const t=Ae(a[e]);if(t!==null&&t.length){if(t===r.index.toString()){if(!n){n=a[e].firstChild}s=a[e].firstChild}Me(a[e])}}t.set({...r,index:-1,count:0,text:""});if(n&&s){const t=e.dom.createRng();t.setStart(n,0);t.setEnd(s,s.data.length);if(o!==false){e.selection.setRng(t)}return t}else{return undefined}};const Ue=(e,t)=>t.get().count>1;const qe=(e,t)=>t.get().count>1;const We=(e,t)=>{const o=o=>Ze(e,t,o);const n=(o,n,s,r=false)=>Ie(e,t,o,n,s,r);const s=()=>Pe(e,t);const r=()=>Fe(e,t);const a=(o,n,s)=>je(e,t,o,n,s);return{done:o,find:n,next:s,prev:r,replace:a}};const $e=t=>{const o=e(y.none());const n=()=>o.get().each(t);const s=()=>{n();o.set(y.none())};const r=()=>o.get().isSome();const a=()=>o.get();const c=e=>{n();o.set(y.some(e))};return{clear:s,isSet:r,get:a,set:c}};const Ge=()=>{const e=$e(f);const t=t=>e.get().each(t);return{...e,on:t}};const Ke=(e,t)=>{const o=Ge();e.undoManager.add();const n=k.trim(e.selection.getContent({format:"text"}));const s=o=>{o.setEnabled("next",Ue(e,t));o.setEnabled("prev",qe(e,t))};const r=e=>{const o=e.getData();const n=t.get();t.set({...n,matchCase:o.matchcase,wholeWord:o.wholewords,inSelection:o.inselection})};const a=(e,t)=>{const o=["replace","replaceall","prev","next"];const n=o=>e.setEnabled(o,!t);C(o,n)};const c=t=>{e.windowManager.alert("Could not find the specified string.",(()=>{t.focus("findtext")}))};const i=(e,t)=>{if(v.browser.isSafari()&&v.deviceType.isTouch()&&(t==="find"||t==="replace"||t==="replaceall")){e.focus(t)}};const l=o=>{Ze(e,t,false);a(o,true);s(o)};const d=o=>{const n=o.getData();const r=t.get();if(!n.findtext.length){l(o);return}if(r.text===n.findtext&&r.matchCase===n.matchcase&&r.wholeWord===n.wholewords){Pe(e,t)}else{const s=Ie(e,t,n.findtext,n.matchcase,n.wholewords,n.inselection);if(s<=0){c(o)}a(o,s===0)}s(o)};const u=t.get();const f={findtext:n,replacetext:"",wholewords:u.wholeWord,matchcase:u.matchCase,inselection:u.inSelection};const m={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:true,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:false,borderless:true},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:false,borderless:true}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:true},{type:"custom",name:"replace",text:"Replace",enabled:false},{type:"custom",name:"replaceall",text:"Replace all",enabled:false}],initialData:f,onChange:(e,o)=>{if(o.name==="findtext"&&t.get().count>0){l(e)}},onAction:(o,n)=>{const a=o.getData();switch(n.name){case"find":d(o);break;case"replace":if(!je(e,t,a.replacetext)){l(o)}else{s(o)}break;case"replaceall":je(e,t,a.replacetext,true,true);l(o);break;case"prev":Fe(e,t);s(o);break;case"next":Pe(e,t);s(o);break;case"matchcase":case"wholewords":case"inselection":r(o);l(o);break}i(o,n.name)},onSubmit:e=>{d(e);i(e,"find")},onClose:()=>{e.focus();Ze(e,t);e.undoManager.add()}};o.set(e.windowManager.open(m,{inline:"toolbar"}))};const Ye=(e,t)=>{e.addCommand("SearchReplace",(()=>{Ke(e,t)}))};const Xe=(e,t)=>()=>{Ke(e,t)};const Je=(e,t)=>{e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Xe(e,t),icon:"search"});e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Xe(e,t),icon:"search"});e.shortcuts.add("Meta+F","",Xe(e,t))};var Qe=()=>{t.add("searchreplace",(t=>{const o=e({index:-1,count:0,text:"",matchCase:false,wholeWord:false,inSelection:false});Ye(t,o);Je(t,o);return We(t,o)}))};Qe()})()},(e,t,o)=>{o(28)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=e=>t=>e===t;const a=n("string");const c=n("array");const i=s("boolean");const l=r(undefined);const d=e=>e===null||e===undefined;const u=e=>!d(e);const f=s("function");const m=s("number");const g=()=>{};const p=(e,t)=>o=>e(t(o));const h=e=>()=>e;const y=e=>e;const b=(e,t)=>e===t;function v(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const k=e=>{e()};const w=h(false);const _=h(true);class x{constructor(e,t){this.tag=e;this.value=t}static some(e){return new x(true,e)}static none(){return x.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return x.some(e(this.value))}else{return x.none()}}bind(e){if(this.tag){return e(this.value)}else{return x.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return x.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return u(e)?x.some(e):x.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}x.singletonNone=new x(false);const C=Object.keys;const S=Object.hasOwnProperty;const z=(e,t)=>{const o=C(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const O=e=>(t,o)=>{e[o]=t};const T=(e,t,o,n)=>{z(e,((e,s)=>{(t(e,s)?o:n)(e,s)}))};const E=(e,t)=>{const o={};T(e,t,O(o),g);return o};const D=(e,t)=>{const o=[];z(e,((e,n)=>{o.push(t(e,n))}));return o};const A=e=>D(e,y);const N=e=>C(e).length;const M=(e,t)=>R(e,t)?x.from(e[t]):x.none();const R=(e,t)=>S.call(e,t);const B=(e,t)=>R(e,t)&&e[t]!==undefined&&e[t]!==null;const L=Array.prototype.indexOf;const H=Array.prototype.push;const I=(e,t)=>L.call(e,t);const P=(e,t)=>I(e,t)>-1;const F=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const V=(e,t)=>{const o=[];for(let n=0;n<e;n++){o.push(t(n))}return o};const j=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const Z=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const U=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}};const q=(e,t)=>{const o=[];const n=[];for(let s=0,r=e.length;s<r;s++){const r=e[s];const a=t(r,s)?o:n;a.push(r)}return{pass:o,fail:n}};const W=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const $=(e,t,o)=>{U(e,((e,n)=>{o=t(o,e,n)}));return o};const G=(e,t,o)=>{Z(e,((e,n)=>{o=t(o,e,n)}));return o};const K=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return x.some(s)}else if(o(s,n)){break}}return x.none()};const Y=(e,t)=>K(e,t,w);const X=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!c(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}H.apply(t,e[o])}return t};const J=(e,t)=>X(j(e,t));const Q=(e,t)=>{for(let o=0,n=e.length;o<n;++o){const n=e[o];if(t(n,o)!==true){return false}}return true};const ee=(e,t)=>{const o={};for(let n=0,s=e.length;n<s;n++){const s=e[n];o[String(s)]=t(s,n)}return o};const te=(e,t)=>t>=0&&t<e.length?x.some(e[t]):x.none();const oe=e=>te(e,0);const ne=e=>te(e,e.length-1);const se=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return x.none()};const re=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return ie(n.childNodes[0])};const ae=(e,t)=>{const o=t||document;const n=o.createElement(e);return ie(n)};const ce=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return ie(n)};const ie=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const le=(e,t,o)=>x.from(e.dom.elementFromPoint(t,o)).map(ie);const de={fromHtml:re,fromTag:ae,fromText:ce,fromDom:ie,fromPoint:le};typeof window!=="undefined"?window:Function("return this;")();const ue=8;const fe=9;const me=11;const ge=1;const pe=3;const he=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const ye=e=>e.dom.nodeType;const be=e=>t=>ye(t)===e;const ve=e=>ye(e)===ue||he(e)==="#comment";const ke=be(ge);const we=be(pe);const _e=be(fe);const xe=be(me);const Ce=e=>t=>ke(t)&&he(t)===e;const Se=(e,t)=>{const o=e.dom;if(o.nodeType!==ge){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const ze=e=>e.nodeType!==ge&&e.nodeType!==fe&&e.nodeType!==me||e.childElementCount===0;const Oe=(e,t)=>{const o=t===undefined?document:t.dom;return ze(o)?[]:j(o.querySelectorAll(e),de.fromDom)};const Te=(e,t)=>{const o=t===undefined?document:t.dom;return ze(o)?x.none():x.from(o.querySelector(e)).map(de.fromDom)};const Ee=(e,t)=>e.dom===t.dom;const De=Se;const Ae=e=>de.fromDom(e.dom.ownerDocument);const Ne=e=>_e(e)?e:Ae(e);const Me=e=>x.from(e.dom.parentNode).map(de.fromDom);const Re=(e,t)=>{const o=f(t)?t:w;let n=e.dom;const s=[];while(n.parentNode!==null&&n.parentNode!==undefined){const e=n.parentNode;const t=de.fromDom(e);s.push(t);if(o(t)===true){break}else{n=e}}return s};const Be=e=>x.from(e.dom.previousSibling).map(de.fromDom);const Le=e=>x.from(e.dom.nextSibling).map(de.fromDom);const He=e=>j(e.dom.childNodes,de.fromDom);const Ie=(e,t)=>{const o=e.dom.childNodes;return x.from(o[t]).map(de.fromDom)};const Pe=e=>Ie(e,0);const Fe=e=>xe(e)&&u(e.dom.host);const Ve=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode);const je=Ve?e=>de.fromDom(e.dom.getRootNode()):Ne;const Ze=e=>{const t=je(e);return Fe(t)?x.some(t):x.none()};const Ue=e=>de.fromDom(e.dom.host);const qe=e=>{const t=we(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return Ze(de.fromDom(t)).fold((()=>o.body.contains(t)),p(qe,Ue))};const We=(e,t)=>W(He(e),t);const $e=(e,t)=>{let o=[];Z(He(e),(e=>{if(t(e)){o=o.concat([e])}o=o.concat($e(e,t))}));return o};const Ge=(e,t)=>We(e,(e=>Se(e,t)));const Ke=(e,t)=>Oe(t,e);var Ye=(e,t,o,n,s)=>{if(e(o,n)){return x.some(o)}else if(f(s)&&s(o)){return x.none()}else{return t(o,n,s)}};const Xe=(e,t,o)=>{let n=e.dom;const s=f(o)?o:w;while(n.parentNode){n=n.parentNode;const e=de.fromDom(n);if(t(e)){return x.some(e)}else if(s(e)){break}}return x.none()};const Je=(e,t)=>{const o=e=>t(de.fromDom(e));const n=Y(e.dom.childNodes,o);return n.map(de.fromDom)};const Qe=(e,t,o)=>Xe(e,(e=>Se(e,t)),o);const et=(e,t)=>Je(e,(e=>Se(e,t)));const tt=(e,t)=>Te(t,e);const ot=(e,t,o)=>{const n=(e,t)=>Se(e,t);return Ye(n,Qe,e,t,o)};const nt=(e,t,o)=>{if(a(o)||i(o)||m(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const st=(e,t,o)=>{nt(e.dom,t,o)};const rt=(e,t)=>{const o=e.dom;z(t,((e,t)=>{nt(o,t,e)}))};const at=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?undefined:o};const ct=(e,t)=>x.from(at(e,t));const it=(e,t)=>{e.dom.removeAttribute(t)};const lt=e=>G(e.dom.attributes,((e,t)=>{e[t.name]=t.value;return e}),{});const dt=(e,t,o=b)=>e.exists((e=>o(e,t)));const ut=e=>{const t=[];const o=e=>{t.push(e)};for(let t=0;t<e.length;t++){e[t].each(o)}return t};const ft=(e,t,o)=>e.isSome()&&t.isSome()?x.some(o(e.getOrDie(),t.getOrDie())):x.none();const mt=e=>e.bind(y);const gt=(e,t)=>e?x.some(t):x.none();const pt=(e,t)=>e.substring(t);const ht=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const yt=(e,t)=>bt(e,t)?pt(e,t.length):e;const bt=(e,t)=>ht(e,t,0);const vt=e=>t=>t.replace(e,"");const kt=vt(/^\s+|\s+$/g);const wt=e=>e.length>0;const _t=e=>!wt(e);const xt=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?x.none():x.some(o)};const Ct=e=>{const t=parseFloat(e);return isNaN(t)?x.none():x.some(t)};const St=e=>e.style!==undefined&&f(e.style.getPropertyValue);const zt=(e,t,o)=>{if(!a(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(St(e)){e.style.setProperty(t,o)}};const Ot=(e,t)=>{if(St(e)){e.style.removeProperty(t)}};const Tt=(e,t,o)=>{const n=e.dom;zt(n,t,o)};const Et=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!qe(e)?Dt(o,t):s};const Dt=(e,t)=>St(e)?e.style.getPropertyValue(t):"";const At=(e,t)=>{const o=e.dom;const n=Dt(o,t);return x.from(n).filter((e=>e.length>0))};const Nt=(e,t)=>{const o=e.dom;Ot(o,t);if(dt(ct(e,"style").map(kt),"")){it(e,"style")}};const Mt=(e,t,o=0)=>ct(e,t).map((e=>parseInt(e,10))).getOr(o);const Rt=(e,t)=>Bt(e,t,_);const Bt=(e,t,o)=>J(He(e),(e=>{if(Se(e,t)){return o(e)?[e]:[]}else{return Bt(e,t,o)}}));const Lt=["tfoot","thead","tbody","colgroup"];const Ht=e=>P(Lt,e);const It=(e,t)=>({rows:e,columns:t});const Pt=(e,t,o)=>({element:e,rowspan:t,colspan:o});const Ft=(e,t,o,n,s,r)=>({element:e,rowspan:t,colspan:o,row:n,column:s,isLocked:r});const Vt=(e,t,o)=>({element:e,cells:t,section:o});const jt=(e,t,o,n)=>({startRow:e,startCol:t,finishRow:o,finishCol:n});const Zt=(e,t,o)=>({element:e,colspan:t,column:o});const Ut=(e,t)=>({element:e,columns:t});const qt=(e,t,o=w)=>{if(o(t)){return x.none()}if(P(e,he(t))){return x.some(t)}const n=e=>Se(e,"table")||o(e);return Qe(t,e.join(","),n)};const Wt=(e,t)=>qt(["td","th"],e,t);const $t=e=>Rt(e,"th,td");const Gt=e=>{if(Se(e,"colgroup")){return Ge(e,"col")}else{return J(Xt(e),(e=>Ge(e,"col")))}};const Kt=(e,t)=>ot(e,"table",t);const Yt=e=>Rt(e,"tr");const Xt=e=>Kt(e).fold(h([]),(e=>Ge(e,"colgroup")));const Jt=(e,t)=>j(e,(e=>{if(he(e)==="colgroup"){const t=j(Gt(e),(e=>{const t=Mt(e,"span",1);return Pt(e,1,t)}));return Vt(e,t,"colgroup")}else{const o=j($t(e),(e=>{const t=Mt(e,"rowspan",1);const o=Mt(e,"colspan",1);return Pt(e,t,o)}));return Vt(e,o,t(e))}}));const Qt=e=>Me(e).map((e=>{const t=he(e);return Ht(t)?t:"tbody"})).getOr("tbody");const eo=e=>{const t=Yt(e);const o=Xt(e);const n=[...o,...t];return Jt(n,Qt)};const to="data-snooker-locked-cols";const oo=e=>ct(e,to).bind((e=>x.from(e.match(/\d+/g)))).map((e=>ee(e,_)));const no=(e,t)=>e+","+t;const so=(e,t,o)=>x.from(e.access[no(t,o)]);const ro=(e,t,o)=>{const n=ao(e,(e=>o(t,e.element)));return n.length>0?x.some(n[0]):x.none()};const ao=(e,t)=>{const o=J(e.all,(e=>e.cells));return W(o,t)};const co=e=>{const t={};let o=0;Z(e.cells,(e=>{const n=e.colspan;V(n,(s=>{const r=o+s;t[r]=Zt(e.element,n,r)}));o+=n}));return t};const io=e=>{const t={};const o=[];const n=oe(e).map((e=>e.element)).bind(Kt);const s=n.bind(oo).getOr({});let r=0;let a=0;let c=0;const{pass:i,fail:l}=q(e,(e=>e.section==="colgroup"));Z(l,(e=>{const n=[];Z(e.cells,(e=>{let o=0;while(t[no(c,o)]!==undefined){o++}const r=B(s,o.toString());const i=Ft(e.element,e.rowspan,e.colspan,c,o,r);for(let n=0;n<e.colspan;n++){for(let s=0;s<e.rowspan;s++){const e=c+s;const r=o+n;const l=no(e,r);t[l]=i;a=Math.max(a,r+1)}}n.push(i)}));r++;o.push(Vt(e.element,n,e.section));c++}));const{columns:d,colgroups:u}=ne(i).map((e=>{const t=co(e);const o=Ut(e.element,A(t));return{colgroups:[o],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}})));const f=It(r,a);return{grid:f,access:t,all:o,columns:d,colgroups:u}};const lo=e=>{const t=eo(e);return io(t)};const uo=e=>J(e.all,(e=>e.cells));const fo=e=>A(e.columns);const mo=e=>C(e.columns).length>0;const go=(e,t)=>x.from(e.columns[t]);const po={fromTable:lo,generate:io,getAt:so,findItem:ro,filterItems:ao,justCells:uo,justColumns:fo,hasColumns:mo,getColumnAt:go};var ho=tinymce.util.Tools.resolve("tinymce.util.Tools");const yo=(e,t,o)=>{const n=e.select("td,th",t);let s;for(let t=0;t<n.length;t++){const r=e.getStyle(n[t],o);if(l(s)){s=r}if(s!==r){return""}}return s};const bo=(e,t,o)=>{ho.each("left center right".split(" "),(n=>{if(n!==o){e.formatter.remove("align"+n,{},t)}}));if(o){e.formatter.apply("align"+o,{},t)}};const vo=(e,t,o)=>{ho.each("top middle bottom".split(" "),(n=>{if(n!==o){e.formatter.remove("valign"+n,{},t)}}));if(o){e.formatter.apply("valign"+o,{},t)}};const ko=(e,t,o)=>{e.dispatch("TableModified",{...o,table:t})};const wo=(e,t)=>Ct(e).getOr(t);const _o=(e,t,o)=>wo(Et(e,t),o);const xo=(e,t,o,n)=>{const s=_o(e,`padding-${o}`,0);const r=_o(e,`padding-${n}`,0);const a=_o(e,`border-${o}-width`,0);const c=_o(e,`border-${n}-width`,0);return t-s-r-a-c};const Co=(e,t)=>{const o=e.dom;const n=o.getBoundingClientRect().width||o.offsetWidth;return t==="border-box"?n:xo(e,n,"left","right")};const So=e=>Co(e,"content-box");const zo=So;var Oo=tinymce.util.Tools.resolve("tinymce.Env");const To="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol";const Eo=V(5,(e=>{const t=`${e+1}px`;return{title:t,value:t}}));const Do=j(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(e=>({title:e,value:e.toLowerCase()})));const Ao="100%";const No=e=>{var t;const o=e.dom;const n=(t=o.getParent(e.selection.getStart(),o.isBlock))!==null&&t!==void 0?t:e.getBody();return zo(de.fromDom(n))+"px"};const Mo=(e,t)=>{if(Qo(e)||!qo(e)){return t}else if(Jo(e)){return{...t,width:No(e)}}else{return{...t,width:Ao}}};const Ro=(e,t)=>{if(Qo(e)||qo(e)){return t}else if(Jo(e)){return{...t,width:No(e)}}else{return{...t,width:Ao}}};const Bo=e=>t=>t.options.get(e);const Lo=e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:Eo});t("table_border_styles",{processor:"object[]",default:Do});t("table_cell_advtab",{processor:"boolean",default:true});t("table_row_advtab",{processor:"boolean",default:true});t("table_advtab",{processor:"boolean",default:true});t("table_appearance_options",{processor:"boolean",default:true});t("table_grid",{processor:"boolean",default:!Oo.deviceType.isTouch()});t("table_cell_class_list",{processor:"object[]",default:[]});t("table_row_class_list",{processor:"object[]",default:[]});t("table_class_list",{processor:"object[]",default:[]});t("table_toolbar",{processor:"string",default:To});t("table_background_color_map",{processor:"object[]",default:[]});t("table_border_color_map",{processor:"object[]",default:[]})};const Ho=Bo("table_sizing_mode");const Io=Bo("table_border_widths");const Po=Bo("table_border_styles");const Fo=Bo("table_cell_advtab");const Vo=Bo("table_row_advtab");const jo=Bo("table_advtab");const Zo=Bo("table_appearance_options");const Uo=Bo("table_grid");const qo=Bo("table_style_by_css");const Wo=Bo("table_cell_class_list");const $o=Bo("table_row_class_list");const Go=Bo("table_class_list");const Ko=Bo("table_toolbar");const Yo=Bo("table_background_color_map");const Xo=Bo("table_border_color_map");const Jo=e=>Ho(e)==="fixed";const Qo=e=>Ho(e)==="responsive";const en=e=>{const t=e.options;const o=t.get("table_default_styles");return t.isSet("table_default_styles")?o:Mo(e,o)};const tn=e=>{const t=e.options;const o=t.get("table_default_attributes");return t.isSet("table_default_attributes")?o:Ro(e,o)};const on=e=>e.nodeName.toLowerCase();const nn=e=>de.fromDom(e.getBody());const sn=e=>t=>Ee(t,nn(e));const rn=e=>e?e.replace(/px$/,""):"";const an=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e;const cn=e=>de.fromDom(e.selection.getStart());const ln=e=>de.fromDom(e.selection.getEnd());const dn=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow;const un=(e,t)=>{let o=true;const n=v(dn,t);for(let s=t.startRow;s<=t.finishRow;s++){for(let r=t.startCol;r<=t.finishCol;r++){o=o&&po.getAt(e,s,r).exists(n)}}return o?x.some(t):x.none()};const fn=(e,t)=>jt(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1));const mn=(e,t,o)=>{const n=po.findItem(e,t,Ee);const s=po.findItem(e,o,Ee);return n.bind((e=>s.map((t=>fn(e,t)))))};const gn=(e,t,o)=>mn(e,t,o).bind((t=>un(e,t)));const pn=(e,t,o)=>{const n=hn(e);return gn(n,t,o)};const hn=po.fromTable;const yn=(e,t)=>{const o=Me(e);o.each((o=>{o.dom.insertBefore(t.dom,e.dom)}))};const bn=(e,t)=>{const o=Le(e);o.fold((()=>{const o=Me(e);o.each((e=>{kn(e,t)}))}),(e=>{yn(e,t)}))};const vn=(e,t)=>{const o=Pe(e);o.fold((()=>{kn(e,t)}),(o=>{e.dom.insertBefore(t.dom,o.dom)}))};const kn=(e,t)=>{e.dom.appendChild(t.dom)};const wn=(e,t)=>{yn(e,t);kn(t,e)};const _n=(e,t)=>{Z(t,((o,n)=>{const s=n===0?e:t[n-1];bn(s,o)}))};const xn=(e,t)=>{Z(t,(t=>{kn(e,t)}))};const Cn=e=>{const t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};const Sn=e=>{const t=He(e);if(t.length>0){_n(e,t)}Cn(e)};const zn=(e,t)=>{const o=o=>{if(!e(o)){throw new Error("Can only get "+t+" value of a "+t+" node")}return n(o).getOr("")};const n=t=>e(t)?x.from(t.dom.nodeValue):x.none();const s=(o,n)=>{if(!e(o)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}o.dom.nodeValue=n};return{get:o,getOption:n,set:s}};const On=zn(we,"text");const Tn=e=>On.get(e);const En=(e,t)=>On.set(e,t);var Dn=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];var An=()=>{const e=e=>de.fromDom(e.dom.cloneNode(false));const t=e=>Ne(e).dom;const o=e=>{if(!ke(e)){return false}if(he(e)==="body"){return true}return P(Dn,he(e))};const n=e=>{if(!ke(e)){return false}return P(["br","img","hr","input"],he(e))};const s=e=>ke(e)&&at(e,"contenteditable")==="false";const r=(e,t)=>e.dom.compareDocumentPosition(t.dom);const a=(e,t)=>{const o=lt(e);rt(t,o)};const c=e=>{const t=he(e);return P(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)};const i=e=>ke(e)?ct(e,"lang"):x.none();return{up:h({selector:Qe,closest:ot,predicate:Xe,all:Re}),down:h({selector:Ke,predicate:$e}),styles:h({get:Et,getRaw:At,set:Tt,remove:Nt}),attrs:h({get:at,set:st,remove:it,copyTo:a}),insert:h({before:yn,after:bn,afterAll:_n,append:kn,appendAll:xn,prepend:vn,wrap:wn}),remove:h({unwrap:Sn,remove:Cn}),create:h({nu:de.fromTag,clone:e,text:de.fromText}),query:h({comparePosition:r,prevSibling:Be,nextSibling:Le}),property:h({children:He,name:he,parent:Me,document:t,isText:we,isComment:ve,isElement:ke,isSpecial:c,getLanguage:i,getText:Tn,setText:En,isBoundary:o,isEmptyTag:n,isNonEditable:s}),eq:Ee,is:De}};const Nn=(e,t,o,n)=>{const s=o[0];const r=o.slice(1);return n(e,t,s,r)};const Mn=(e,t,o)=>o.length>0?Nn(e,t,o,Rn):x.none();const Rn=(e,t,o,n)=>{const s=t(e,o);return $(n,((o,n)=>{const s=t(e,n);return Bn(e,o,s)}),s)};const Bn=(e,t,o)=>t.bind((t=>o.filter(v(e.eq,t))));const Ln=Mn;const Hn=An();const In=(e,t)=>Ln(Hn,((t,o)=>e(o)),t);const Pn=e=>Qe(e,"table");const Fn=(e,t)=>{const o=Ke(e,t);return o.length>0?x.some(o):x.none()};const Vn=(e,t,o)=>tt(e,t).bind((t=>tt(e,o).bind((e=>In(Pn,[t,e]).map((o=>({first:t,last:e,table:o})))))));const jn=(e,t)=>Fn(e,t);const Zn=(e,t,o)=>Vn(e,t,o).bind((t=>{const o=t=>Ee(e,t);const n="thead,tfoot,tbody,table";const s=Qe(t.first,n,o);const r=Qe(t.last,n,o);return s.bind((e=>r.bind((o=>Ee(e,o)?pn(t.table,t.first,t.last):x.none()))))}));const Un=e=>j(e,de.fromDom);const qn="data-mce-selected";const Wn="td["+qn+"],th["+qn+"]";const $n="data-mce-first-selected";const Gn="td["+$n+"],th["+$n+"]";const Kn="data-mce-last-selected";const Yn="td["+Kn+"],th["+Kn+"]";const Xn={selected:qn,selectedSelector:Wn,firstSelected:$n,firstSelectedSelector:Gn,lastSelected:Kn,lastSelectedSelector:Yn};const Jn=e=>Kt(e).bind((e=>jn(e,Xn.firstSelectedSelector))).fold(h(e),(e=>e[0]));const Qn=e=>(t,o)=>{const n=he(t);const s=n==="col"||n==="colgroup"?Jn(t):t;return ot(s,e,o)};const es=Qn("th,td,caption");const ts=Qn("th,td");const os=e=>Un(e.model.table.getSelectedCells());const ns=(e,t)=>{const o=ts(e);const n=o.bind((e=>Kt(e))).map((e=>Yt(e)));return ft(o,n,((e,o)=>W(o,(o=>F(Un(o.dom.cells),(o=>at(o,t)==="1"||Ee(o,e))))))).getOr([])};const ss=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}];const rs=e=>({value:e});const as=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;const cs=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;const is=e=>as.test(e)||cs.test(e);const ls=e=>yt(e,"#").toUpperCase();const ds=e=>is(e)?x.some({value:ls(e)}):x.none();const us=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()};const fs=e=>{const t=us(e.red)+us(e.green)+us(e.blue);return rs(t)};const ms=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i;const gs=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i;const ps=(e,t,o,n)=>({red:e,green:t,blue:o,alpha:n});const hs=(e,t,o,n)=>{const s=parseInt(e,10);const r=parseInt(t,10);const a=parseInt(o,10);const c=parseFloat(n);return ps(s,r,a,c)};const ys=e=>{if(e==="transparent"){return x.some(ps(0,0,0,0))}const t=ms.exec(e);if(t!==null){return x.some(hs(t[1],t[2],t[3],"1"))}const o=gs.exec(e);if(o!==null){return x.some(hs(o[1],o[2],o[3],o[4]))}return x.none()};const bs=e=>ds(e).orThunk((()=>ys(e).map(fs))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1;t.width=1;const o=t.getContext("2d");o.clearRect(0,0,t.width,t.height);o.fillStyle="#FFFFFF";o.fillStyle=e;o.fillRect(0,0,1,1);const n=o.getImageData(0,0,1,1).data;const s=n[0];const r=n[1];const a=n[2];const c=n[3];return fs(ps(s,r,a,c))}));const vs=e=>ys(e).map(fs).map((e=>"#"+e.value)).getOr(e);const ks=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const ws=e=>{const t=ks(x.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(x.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(x.some(e))};return{clear:n,isSet:s,get:r,set:a}};const _s=()=>ws((e=>e.unbind()));const xs=(e,t,o)=>n=>{const s=_s();const r=_t(o);const a=()=>{const a=os(e);const c=n=>e.formatter.match(t,{value:o},n.dom,r);if(r){n.setActive(!F(a,c));s.set(e.formatter.formatChanged(t,(e=>n.setActive(!e)),true))}else{n.setActive(Q(a,c));s.set(e.formatter.formatChanged(t,n.setActive,false,{value:o}))}};e.initialized?a():e.on("init",a);return s.clear};const Cs=e=>B(e,"menu");const Ss=e=>j(e,(e=>{const t=e.text||e.title||"";if(Cs(e)){return{text:t,items:Ss(e.menu)}}else{return{text:t,value:e.value}}}));const zs=(e,t,o,n)=>j(t,(t=>{const s=t.text||t.title;if(Cs(t)){return{type:"nestedmenuitem",text:s,getSubmenuItems:()=>zs(e,t.menu,o,n)}}else{return{text:s,type:"togglemenuitem",onAction:()=>n(t.value),onSetup:xs(e,o,t.value)}}}));const Os=(e,t)=>o=>{e.execCommand("mceTableApplyCellStyle",false,{[t]:o})};const Ts=e=>J(e,(e=>{if(Cs(e)){return[{...e,menu:Ts(e.menu)}]}else{return wt(e.value)?[e]:[]}}));const Es=(e,t,o,n)=>s=>s(zs(e,t,o,n));const Ds=(e,t,o)=>{const n=j(t,(e=>({text:e.title,value:"#"+bs(e.value).value,type:"choiceitem"})));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:n.length>0?n:undefined,allowCustomColors:false},onAction:t=>{const n=t.value==="remove"?"":t.value;e.execCommand("mceTableApplyCellStyle",false,{[o]:n})}}]};const As=e=>()=>{const t=e.queryCommandValue("mceTableRowType");const o=t==="header"?"body":"header";e.execCommand("mceTableRowType",false,{type:o})};const Ns=e=>()=>{const t=e.queryCommandValue("mceTableColType");const o=t==="th"?"td":"th";e.execCommand("mceTableColType",false,{type:o})};const Ms=e=>{const t=Ss(Wo(e));if(t.length>0){return x.some({name:"class",type:"listbox",label:"Class",items:t})}return x.none()};const Rs=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:ss}];const Bs=e=>Rs.concat(Ms(e).toArray());const Ls=(e,t)=>{const o=[{text:"Select...",value:""}];const n=[{name:"borderstyle",type:"listbox",label:"Border style",items:o.concat(Ss(Po(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];const s={name:"borderwidth",type:"input",label:"Border width"};const r=t==="cell"?[s].concat(n):n;return{title:"Advanced",name:"advanced",items:r}};const Hs=(e,t)=>{const o=e.dom;const n=(e,n)=>{o.setAttrib(t,e,n)};const s=(e,n)=>{o.setStyle(t,e,n)};const r=(o,n)=>{if(n===""){e.formatter.remove(o,{value:null},t,true)}else{e.formatter.apply(o,{value:n},t)}};return{setAttrib:n,setStyle:s,setFormat:r}};const Is={normal:Hs};const Ps=Ce("th");const Fs=(e,t)=>{if(e&&t){return"sectionCells"}else if(e){return"section"}else{return"cells"}};const Vs=e=>{const t=e.section==="thead";const o=dt(js(e.cells),"th");if(e.section==="tfoot"){return{type:"footer"}}else if(t||o){return{type:"header",subType:Fs(t,o)}}else{return{type:"body"}}};const js=e=>{const t=W(e,(e=>Ps(e.element)));if(t.length===0){return x.some("td")}else if(t.length===e.length){return x.some("th")}else{return x.none()}};const Zs=e=>{const t=j(e,(e=>Vs(e).type));const o=P(t,"header");const n=P(t,"footer");if(!o&&!n){return x.some("body")}else{const e=P(t,"body");if(o&&!e&&!n){return x.some("header")}else if(!o&&!e&&n){return x.some("footer")}else{return x.none()}}};const Us=e=>{let t=false;let o;return(...n)=>{if(!t){t=true;o=e.apply(null,n)}return o}};const qs=(e,t)=>se(e.all,(e=>Y(e.cells,(e=>Ee(t,e.element)))));const Ws=(e,t,o)=>{const n=j(t.selection,(t=>Wt(t).bind((t=>qs(e,t))).filter(o)));const s=ut(n);return gt(s.length>0,s)};const $s=(e,t)=>t.mergable;const Gs=(e,t)=>t.unmergable;const Ks=(e,t)=>Ws(e,t,_);const Ys=(e,t)=>qs(e,t).exists((e=>!e.isLocked));const Xs=(e,t)=>Q(t,(t=>Ys(e,t)));const Js=(e,t)=>$s(e,t).filter((t=>Xs(e,t.cells)));const Qs=(e,t)=>Gs(e,t).filter((t=>Xs(e,t)));const er=e=>{if(!c(e)){throw new Error("cases must be an array")}if(e.length===0){throw new Error("there must be at least one case")}const t=[];const o={};Z(e,((n,s)=>{const r=C(n);if(r.length!==1){throw new Error("one and only one name per case")}const a=r[0];const i=n[a];if(o[a]!==undefined){throw new Error("duplicate key detected:"+a)}else if(a==="cata"){throw new Error("cannot have a case named cata (sorry)")}else if(!c(i)){throw new Error("case arguments must be an array")}t.push(a);o[a]=(...o)=>{const n=o.length;if(n!==i.length){throw new Error("Wrong number of arguments to case "+a+". Expected "+i.length+" ("+i+"), got "+n)}const r=e=>{const n=C(e);if(t.length!==n.length){throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","))}const s=Q(t,(e=>P(n,e)));if(!s){throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "))}return e[a].apply(null,o)};return{fold:(...t)=>{if(t.length!==e.length){throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)}const n=t[s];return n.apply(null,o)},match:r,log:e=>{console.log(e,{constructors:t,constructor:a,params:o})}}}}));return o};const tr={generate:er};const or=tr.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]);({...or});const nr=(e,t)=>{const o=po.fromTable(e);const n=Ks(o,t);return n.bind((e=>{const t=e[e.length-1];const n=e[0].row;const s=t.row+t.rowspan;const r=o.all.slice(n,s);return Zs(r)})).getOr("")};const sr=nr;const rr=e=>bt(e,"rgb")?vs(e):e;const ar=e=>{const t=de.fromDom(e);return{borderwidth:At(t,"border-width").getOr(""),borderstyle:At(t,"border-style").getOr(""),bordercolor:At(t,"border-color").map(rr).getOr(""),backgroundcolor:At(t,"background-color").map(rr).getOr("")}};const cr=e=>{const t=e[0];const o=e.slice(1);Z(o,(e=>{Z(C(t),(o=>{z(e,((e,n)=>{const s=t[o];if(s!==""&&o===n){if(s!==e){t[o]=""}}}))}))}));return t};const ir=(e,t,o,n)=>Y(e,(e=>!l(o.formatter.matchNode(n,t+e)))).getOr("");const lr=v(ir,["left","center","right"],"align");const dr=v(ir,["top","middle","bottom"],"valign");const ur=(e,t)=>{const o=en(e);const n=tn(e);const s=()=>({borderstyle:M(o,"border-style").getOr(""),bordercolor:rr(M(o,"border-color").getOr("")),backgroundcolor:rr(M(o,"background-color").getOr(""))});const r={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:false,class:"",align:"",border:""};const a=()=>{const t=o["border-width"];if(qo(e)&&t){return{border:t}}return M(n,"border").fold((()=>({})),(e=>({border:e})))};const c=t?s():{};const i=()=>{const e=M(o,"border-spacing").or(M(n,"cellspacing")).fold((()=>({})),(e=>({cellspacing:e})));const t=M(o,"border-padding").or(M(n,"cellpadding")).fold((()=>({})),(e=>({cellpadding:e})));return{...e,...t}};const l={...r,...o,...n,...c,...a(),...i()};return l};const fr=e=>Kt(de.fromDom(e)).map((t=>{const o={selection:Un(e.cells)};return sr(t,o)})).getOr("");const mr=(e,t,o)=>{const n=(t,o)=>{const n=At(de.fromDom(o),"border-width");if(qo(e)&&n.isSome()){return n.getOr("")}return t.getAttrib(o,"border")||yo(e.dom,o,"border-width")||yo(e.dom,o,"border")||""};const s=e.dom;const r=qo(e)?s.getStyle(t,"border-spacing")||s.getAttrib(t,"cellspacing"):s.getAttrib(t,"cellspacing")||s.getStyle(t,"border-spacing");const a=qo(e)?yo(s,t,"padding")||s.getAttrib(t,"cellpadding"):s.getAttrib(t,"cellpadding")||yo(s,t,"padding");return{width:s.getStyle(t,"width")||s.getAttrib(t,"width"),height:s.getStyle(t,"height")||s.getAttrib(t,"height"),cellspacing:r!==null&&r!==void 0?r:"",cellpadding:a!==null&&a!==void 0?a:"",border:n(s,t),caption:!!s.select("caption",t)[0],class:s.getAttrib(t,"class",""),align:lr(e,t),...o?ar(t):{}}};const gr=(e,t,o)=>{const n=e.dom;return{height:n.getStyle(t,"height")||n.getAttrib(t,"height"),class:n.getAttrib(t,"class",""),type:fr(t),align:lr(e,t),...o?ar(t):{}}};const pr=(e,t,o,n)=>{const s=e.dom;const r=n.getOr(t);const a=(e,t)=>s.getStyle(e,t)||s.getAttrib(e,t);return{width:a(r,"width"),height:a(t,"height"),scope:s.getAttrib(t,"scope"),celltype:on(t),class:s.getAttrib(t,"class",""),halign:lr(e,t),valign:dr(e,t),...o?ar(t):{}}};const hr=(e,t)=>{const o=po.fromTable(e);const n=po.justCells(o);const s=W(n,(e=>F(t,(t=>Ee(e.element,t)))));return j(s,(e=>({element:e.element.dom,column:po.getColumnAt(o,e.column).map((e=>e.element.dom))})))};const yr=(e,t,o,n)=>{if(n("scope")){e.setAttrib("scope",o.scope)}if(n("class")){e.setAttrib("class",o.class)}if(n("height")){e.setStyle("height",an(o.height))}if(n("width")){t.setStyle("width",an(o.width))}};const br=(e,t,o)=>{if(o("backgroundcolor")){e.setFormat("tablecellbackgroundcolor",t.backgroundcolor)}if(o("bordercolor")){e.setFormat("tablecellbordercolor",t.bordercolor)}if(o("borderstyle")){e.setFormat("tablecellborderstyle",t.borderstyle)}if(o("borderwidth")){e.setFormat("tablecellborderwidth",an(t.borderwidth))}};const vr=(e,t,o,n)=>{const s=t.length===1;Z(t,(t=>{const r=t.element;const a=s?_:n;const c=Is.normal(e,r);const i=t.column.map((t=>Is.normal(e,t))).getOr(c);yr(c,i,o,a);if(Fo(e)){br(c,o,a)}if(n("halign")){bo(e,r,o.halign)}if(n("valign")){vo(e,r,o.valign)}}))};const kr=(e,t)=>{e.execCommand("mceTableCellType",false,{type:t.celltype,no_events:true})};const wr=(e,t,o,n)=>{const s=E(n,((e,t)=>o[t]!==e));if(N(s)>0&&t.length>=1){Kt(t[0]).each((o=>{const r=hr(o,t);const a=N(E(s,((e,t)=>t!=="scope"&&t!=="celltype")))>0;const c=R(s,"celltype");if(a||R(s,"scope")){vr(e,r,n,v(R,s))}if(c){kr(e,n)}ko(e,o.dom,{structure:c,style:a})}))}};const _r=(e,t,o,n)=>{const s=n.getData();n.close();e.undoManager.transact((()=>{wr(e,t,o,s);e.focus()}))};const xr=(e,t)=>{const o=Kt(t[0]).map((o=>j(hr(o,t),(t=>pr(e,t.element,Fo(e),t.column)))));return cr(o.getOrDie())};const Cr=e=>{const t=os(e);if(t.length===0){return}const o=xr(e,t);const n={type:"tabpanel",tabs:[{title:"General",name:"general",items:Bs(e)},Ls(e,"cell")]};const s={type:"panel",items:[{type:"grid",columns:2,items:Bs(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Fo(e)?n:s,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:o,onSubmit:v(_r,e,t,o)})};const Sr=e=>{const t=Ss($o(e));if(t.length>0){return x.some({name:"class",type:"listbox",label:"Class",items:t})}return x.none()};const zr=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}];const Or=e=>zr.concat(Sr(e).toArray());const Tr=(e,t,o)=>{if(o("class")){e.setAttrib("class",t.class)}if(o("height")){e.setStyle("height",an(t.height))}};const Er=(e,t,o)=>{if(o("backgroundcolor")){e.setStyle("background-color",t.backgroundcolor)}if(o("bordercolor")){e.setStyle("border-color",t.bordercolor)}if(o("borderstyle")){e.setStyle("border-style",t.borderstyle)}};const Dr=(e,t,o,n)=>{const s=t.length===1;const r=s?_:n;Z(t,(t=>{const s=Is.normal(e,t);Tr(s,o,r);if(Vo(e)){Er(s,o,r)}if(n("align")){bo(e,t,o.align)}}))};const Ar=(e,t)=>{e.execCommand("mceTableRowType",false,{type:t.type,no_events:true})};const Nr=(e,t,o,n)=>{const s=E(n,((e,t)=>o[t]!==e));if(N(s)>0){const o=R(s,"type");const r=o?N(s)>1:true;if(r){Dr(e,t,n,v(R,s))}if(o){Ar(e,n)}Kt(de.fromDom(t[0])).each((t=>ko(e,t.dom,{structure:o,style:r})))}};const Mr=(e,t,o,n)=>{const s=n.getData();n.close();e.undoManager.transact((()=>{Nr(e,t,o,s);e.focus()}))};const Rr=e=>{const t=ns(cn(e),Xn.selected);if(t.length===0){return}const o=j(t,(t=>gr(e,t.dom,Vo(e))));const n=cr(o);const s={type:"tabpanel",tabs:[{title:"General",name:"general",items:Or(e)},Ls(e,"row")]};const r={type:"panel",items:[{type:"grid",columns:2,items:Or(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:Vo(e)?s:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:n,onSubmit:v(Mr,e,j(t,(e=>e.dom)),n)})};const Br=(e,t,o)=>{const n=!o?[]:[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}];const s=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}];const r=Zo(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[];const a=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}];const c=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return n.concat(s).concat(r).concat(a).concat(c)};const Lr=(e,t,o,n)=>{if(t.tagName==="TD"||t.tagName==="TH"){if(a(o)&&u(n)){e.setStyle(t,o,n)}else{e.setStyles(t,o)}}else{if(t.children){for(let s=0;s<t.children.length;s++){Lr(e,t.children[s],o,n)}}}};const Hr=(e,t,o)=>{const n=e.dom;const s={};const r={};if(!l(o.class)){s.class=o.class}r.height=an(o.height);if(qo(e)){r.width=an(o.width)}else if(n.getAttrib(t,"width")){s.width=rn(o.width)}if(qo(e)){r["border-width"]=an(o.border);r["border-spacing"]=an(o.cellspacing)}else{s.border=o.border;s.cellpadding=o.cellpadding;s.cellspacing=o.cellspacing}if(qo(e)&&t.children){for(let s=0;s<t.children.length;s++){Lr(n,t.children[s],{"border-width":an(o.border),padding:an(o.cellpadding)});if(jo(e)){Lr(n,t.children[s],{"border-color":o.bordercolor})}}}if(jo(e)){const e=o;r["background-color"]=e.backgroundcolor;r["border-color"]=e.bordercolor;r["border-style"]=e.borderstyle}s.style=n.serializeStyle({...en(e),...r});n.setAttribs(t,{...tn(e),...s})};const Ir=(e,t,o,n)=>{const s=e.dom;const r=n.getData();const a=E(r,((e,t)=>o[t]!==e));n.close();if(r.class===""){delete r.class}e.undoManager.transact((()=>{if(!t){const o=xt(r.cols).getOr(1);const n=xt(r.rows).getOr(1);e.execCommand("mceInsertTable",false,{rows:n,columns:o});t=ts(cn(e),sn(e)).bind((t=>Kt(t,sn(e)))).map((e=>e.dom)).getOrDie()}if(N(a)>0){Hr(e,t,r);const o=s.select("caption",t)[0];if(o&&!r.caption||!o&&r.caption){e.execCommand("mceTableToggleCaption")}bo(e,t,r.align)}e.focus();e.addVisual();if(N(a)>0){const o=R(a,"caption");const n=o?N(a)>1:true;ko(e,t,{structure:o,style:n})}}))};const Pr=(e,t)=>{const o=e.dom;let n;let s=ur(e,jo(e));if(t){s.cols="1";s.rows="1";if(jo(e)){s.borderstyle="";s.bordercolor="";s.backgroundcolor=""}}else{n=o.getParent(e.selection.getStart(),"table",e.getBody());if(n){s=mr(e,n,jo(e))}else{if(jo(e)){s.borderstyle="";s.bordercolor="";s.backgroundcolor=""}}}const r=Ss(Go(e));if(r.length>0){if(s.class){s.class=s.class.replace(/\s*mce\-item\-table\s*/g,"")}}const a={type:"grid",columns:2,items:Br(e,r,t)};const c=()=>({type:"panel",items:[a]});const i=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[a]},Ls(e,"table")]});const l=jo(e)?i():c();e.windowManager.open({title:"Table Properties",size:"normal",body:l,onSubmit:v(Ir,e,n,s),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:s})};const Fr=e=>{z({mceTableProps:v(Pr,e,false),mceTableRowProps:v(Rr,e),mceTableCellProps:v(Cr,e)},((t,o)=>e.addCommand(o,(()=>t()))));e.addCommand("mceInsertTableDialog",(t=>{Pr(e,true)}))};const Vr=(e,t)=>et(e,t).isSome();const jr=y;const Zr=e=>{const t=(e,t)=>ct(e,t).exists((e=>parseInt(e,10)>1));const o=e=>t(e,"rowspan")||t(e,"colspan");return e.length>0&&Q(e,o)?x.some(e):x.none()};const Ur=(e,t,o)=>{if(t.length<=1){return x.none()}else{return Zn(e,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>({bounds:e,cells:t})))}};const qr=e=>({element:e,mergable:x.none(),unmergable:x.none(),selection:[e]});const Wr=(e,t,o)=>({element:o,mergable:Ur(t,e,Xn),unmergable:Zr(e),selection:jr(e)});const $r=e=>{const t=ks(x.none());const o=ks([]);let n=x.none();const s=Ce("caption");const r=e=>n.forall((t=>!t[e]));const a=()=>es(cn(e),sn(e));const c=()=>es(ln(e),sn(e));const i=()=>a().bind((t=>mt(ft(Kt(t),c().bind(Kt),((o,n)=>{if(Ee(o,n)){if(s(t)){return x.some(qr(t))}else{return x.some(Wr(os(e),o,t))}}return x.none()})))));const l=e=>{const t=Kt(e.element);return t.map((t=>{const o=po.fromTable(t);const n=Ks(o,e).getOr([]);const s=G(n,((e,t)=>{if(t.isLocked){e.onAny=true;if(t.column===0){e.onFirst=true}else if(t.column+t.colspan>=o.grid.columns){e.onLast=true}}return e}),{onAny:false,onFirst:false,onLast:false});return{mergeable:Js(o,e).isSome(),unmergeable:Qs(o,e).isSome(),locked:s}}))};const d=()=>{t.set(Us(i)());n=t.get().bind(l);Z(o.get(),k)};const u=e=>{e();o.set(o.get().concat([e]));return()=>{o.set(W(o.get(),(t=>t!==e)))}};const f=(e,o)=>u((()=>t.get().fold((()=>{e.setEnabled(false)}),(t=>{e.setEnabled(!o(t))}))));const m=(e,o,n)=>u((()=>t.get().fold((()=>{e.setEnabled(false);e.setActive(false)}),(t=>{e.setEnabled(!o(t));e.setActive(n(t))}))));const g=e=>n.exists((t=>t.locked[e]));const p=e=>f(e,(e=>false));const h=e=>f(e,(e=>s(e.element)));const y=e=>t=>f(t,(t=>s(t.element)||g(e)));const b=e=>t=>f(t,(t=>s(t.element)||e().isNone()));const v=(e,t)=>o=>f(o,(o=>s(o.element)||e().isNone()||g(t)));const _=e=>f(e,(e=>r("mergeable")));const C=e=>f(e,(e=>r("unmergeable")));const S=t=>m(t,w,(t=>{const o=Kt(t.element,sn(e));return o.exists((e=>Vr(e,"caption")))}));const z=(t,o)=>n=>m(n,(e=>s(e.element)),(()=>e.queryCommandValue(t)===o));const O=z("mceTableRowType","header");const T=z("mceTableColType","th");e.on("NodeChange ExecCommand TableSelectorChange",d);return{onSetupTable:p,onSetupCellOrRow:h,onSetupColumn:y,onSetupPasteable:b,onSetupPasteableColumn:v,onSetupMergeable:_,onSetupUnmergeable:C,resetTargets:d,onSetupTableWithCaption:S,onSetupTableRowHeaders:O,onSetupTableColumnHeaders:T,targets:t.get}};var Gr=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Kr="x-tinymce/dom-table-";const Yr=Kr+"rows";const Xr=Kr+"columns";const Jr=e=>{var t;const o=(t=Gr.read())!==null&&t!==void 0?t:[];return se(o,(t=>x.from(t.getType(e))))};const Qr=()=>Jr(Yr);const ea=()=>Jr(Xr);const ta=(e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const o=t=>()=>e.execCommand(t);const n=(t,n)=>{if(e.queryCommandSupported(n.command)){e.ui.registry.addButton(t,{...n,onAction:f(n.onAction)?n.onAction:o(n.command)})}};const s=(t,n)=>{if(e.queryCommandSupported(n.command)){e.ui.registry.addToggleButton(t,{...n,onAction:f(n.onAction)?n.onAction:o(n.command)})}};n("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable});n("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable});n("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow});n("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable});n("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable});n("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow});n("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow});n("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow});n("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow});n("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")});n("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")});n("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")});n("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow});n("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow});n("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(Qr)});n("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(Qr)});n("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")});n("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")});n("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(ea,"onFirst")});n("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(ea,"onLast")});n("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table"});const r=Ts(Go(e));if(r.length!==0&&e.queryCommandSupported("mceTableToggleClass")){e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Es(e,r,"tableclass",(t=>e.execCommand("mceTableToggleClass",false,t))),onSetup:t.onSetupTable})}const a=Ts(Wo(e));if(a.length!==0&&e.queryCommandSupported("mceTableCellToggleClass")){e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Es(e,a,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",false,t))),onSetup:t.onSetupCellOrRow})}if(e.queryCommandSupported("mceTableApplyCellStyle")){e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Es(e,ss,"tablecellverticalalign",Os(e,"vertical-align")),onSetup:t.onSetupCellOrRow});e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Es(e,Io(e),"tablecellborderwidth",Os(e,"border-width")),onSetup:t.onSetupCellOrRow});e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Es(e,Po(e),"tablecellborderstyle",Os(e,"border-style")),onSetup:t.onSetupCellOrRow});e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(Ds(e,Yo(e),"background-color")),onSetup:t.onSetupCellOrRow});e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(Ds(e,Xo(e),"border-color")),onSetup:t.onSetupCellOrRow})}s("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption});s("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:As(e),onSetup:t.onSetupTableRowHeaders});s("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Ns(e),onSetup:t.onSetupTableColumnHeaders})};const oa=e=>{const t=t=>e.dom.is(t,"table")&&e.getBody().contains(t);const o=Ko(e);if(o.length>0){e.ui.registry.addContextToolbar("table",{predicate:t,items:o,scope:"node",position:"node"})}};const na=(e,t)=>{const o=t=>()=>e.execCommand(t);const n=(t,n)=>{if(e.queryCommandSupported(n.command)){e.ui.registry.addMenuItem(t,{...n,onAction:f(n.onAction)?n.onAction:o(n.command)});return true}else{return false}};const s=(t,n)=>{if(e.queryCommandSupported(n.command)){e.ui.registry.addToggleMenuItem(t,{...n,onAction:f(n.onAction)?n.onAction:o(n.command)})}};const r=t=>{e.execCommand("mceInsertTable",false,{rows:t.numRows,columns:t.numColumns})};const a=[n("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),n("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),n("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),n("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),n("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),n("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),n("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(Qr)}),n("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(Qr)})];const c=[n("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),n("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),n("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),n("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),n("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),n("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(ea,"onFirst")}),n("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(ea,"onLast")})];const i=[n("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),n("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),n("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];if(!Uo(e)){e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:o("mceInsertTableDialog")})}else{e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:r}]})}e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:o("mceInsertTableDialog")});n("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"});n("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"});if(P(a,true)){e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:h("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")})}if(P(c,true)){e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:h("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")})}if(P(i,true)){e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:h("tablecellprops tablemergecells tablesplitcells")})}e.ui.registry.addContextMenu("table",{update:()=>{t.resetTargets();return t.targets().fold(h(""),(e=>{if(he(e.element)==="caption"){return"tableprops deletetable"}else{return"cell row column | advtablesort | tableprops deletetable"}}))}});const l=Ts(Go(e));if(l.length!==0&&e.queryCommandSupported("mceTableToggleClass")){e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>zs(e,l,"tableclass",(t=>e.execCommand("mceTableToggleClass",false,t))),onSetup:t.onSetupTable})}const d=Ts(Wo(e));if(d.length!==0&&e.queryCommandSupported("mceTableCellToggleClass")){e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>zs(e,d,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",false,t))),onSetup:t.onSetupCellOrRow})}if(e.queryCommandSupported("mceTableApplyCellStyle")){e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>zs(e,ss,"tablecellverticalalign",Os(e,"vertical-align")),onSetup:t.onSetupCellOrRow});e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>zs(e,Io(e),"tablecellborderwidth",Os(e,"border-width")),onSetup:t.onSetupCellOrRow});e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>zs(e,Po(e),"tablecellborderstyle",Os(e,"border-style")),onSetup:t.onSetupCellOrRow});e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Ds(e,Yo(e),"background-color"),onSetup:t.onSetupCellOrRow});e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Ds(e,Xo(e),"border-color"),onSetup:t.onSetupCellOrRow})}s("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption});s("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:As(e),onSetup:t.onSetupTableRowHeaders});s("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Ns(e),onSetup:t.onSetupTableRowHeaders})};const sa=e=>{const t=$r(e);Lo(e);Fr(e);na(e,t);ta(e,t);oa(e)};var ra=()=>{e.add("table",sa)};ra()})()}];var t={};function o(n){var s=t[n];if(s!==undefined){return s.exports}var r=t[n]={exports:{}};e[n](r,r.exports,o);return r.exports}var n={};(()=>{
/**
 * ---------------------------------------------------------------------
 *
 * GLPI - Gestionnaire Libre de Parc Informatique
 *
 * http://glpi-project.org
 *
 * @copyright 2015-2023 Teclib' and contributors.
 * @copyright 2003-2014 by the INDEPNET Development Team.
 * @licence   https://www.gnu.org/licenses/gpl-3.0.html
 *
 * ---------------------------------------------------------------------
 *
 * LICENSE
 *
 * This file is part of GLPI.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 *
 * ---------------------------------------------------------------------
 */
window.tinymce=window.tinyMCE=o(1);o(2);o(3);o(5);o(6);o(8);o(10);o(12);o(14);o(15);o(17);o(19);o(21);o(23);o(25);o(27)})()})();