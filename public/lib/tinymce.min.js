(()=>{var e=[,e=>{(function(){"use strict";var t=function(e){if(e===null){return"null"}if(e===undefined){return"undefined"}var t=typeof e;if(t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")){return"array"}if(t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")){return"string"}return t};var o=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1};var n=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)};var s=function(e,t){return r((function(o,n){return e.eq(t(o),t(n))}))};var r=function(e){return{eq:e}};var a=r((function(e,t){return e===t}));var c=a;var i=function(e){return r((function(t,o){if(t.length!==o.length){return false}var n=t.length;for(var s=0;s<n;s++){if(!e.eq(t[s],o[s])){return false}}return true}))};var l=function(e,t){return s(i(e),(function(e){return n(e,t)}))};var d=function(e){return r((function(t,o){var n=Object.keys(t);var s=Object.keys(o);if(!l(c).eq(n,s)){return false}var r=n.length;for(var a=0;a<r;a++){var i=n[a];if(!e.eq(t[i],o[i])){return false}}return true}))};var u=r((function(e,n){if(e===n){return true}var s=t(e);var r=t(n);if(s!==r){return false}if(o(s)){return e===n}else if(s==="array"){return i(u).eq(e,n)}else if(s==="object"){return d(u).eq(e,n)}return false}));const f=Object.getPrototypeOf;const m=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const g=e=>{const t=typeof e;if(e===null){return"null"}else if(t==="object"&&Array.isArray(e)){return"array"}else if(t==="object"&&m(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return t}};const p=e=>t=>g(t)===e;const h=e=>t=>typeof t===e;const y=e=>t=>e===t;const b=(e,t)=>k(e)&&m(e,t,((e,t)=>f(e)===t));const v=p("string");const k=p("object");const w=e=>b(e,Object);const _=p("array");const x=y(null);const C=h("boolean");const S=y(undefined);const z=e=>e===null||e===undefined;const E=e=>!z(e);const T=h("function");const O=h("number");const D=(e,t)=>{if(_(e)){for(let o=0,n=e.length;o<n;++o){if(!t(e[o])){return false}}return true}return false};const A=()=>{};const N=(e,t)=>(...o)=>e(t.apply(null,o));const M=(e,t)=>o=>e(t(o));const R=e=>()=>e;const B=e=>e;const L=(e,t)=>e===t;function H(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const I=e=>t=>!e(t);const P=e=>()=>{throw new Error(e)};const F=e=>e();const V=e=>{e()};const j=R(false);const Z=R(true);class U{constructor(e,t){this.tag=e;this.value=t}static some(e){return new U(true,e)}static none(){return U.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return U.some(e(this.value))}else{return U.none()}}bind(e){if(this.tag){return e(this.value)}else{return U.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return U.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return E(e)?U.some(e):U.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}U.singletonNone=new U(false);const q=Array.prototype.slice;const W=Array.prototype.indexOf;const $=Array.prototype.push;const G=(e,t)=>W.call(e,t);const K=(e,t)=>{const o=G(e,t);return o===-1?U.none():U.some(o)};const Y=(e,t)=>G(e,t)>-1;const X=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const J=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const Q=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const ee=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}};const te=(e,t)=>{const o=[];const n=[];for(let s=0,r=e.length;s<r;s++){const r=e[s];const a=t(r,s)?o:n;a.push(r)}return{pass:o,fail:n}};const oe=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const ne=(e,t,o)=>{ee(e,((e,n)=>{o=t(o,e,n)}));return o};const se=(e,t,o)=>{Q(e,((e,n)=>{o=t(o,e,n)}));return o};const re=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return U.some(s)}else if(o(s,n)){break}}return U.none()};const ae=(e,t)=>re(e,t,j);const ce=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return U.some(o)}}return U.none()};const ie=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!_(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}$.apply(t,e[o])}return t};const le=(e,t)=>ie(J(e,t));const de=(e,t)=>{for(let o=0,n=e.length;o<n;++o){const n=e[o];if(t(n,o)!==true){return false}}return true};const ue=e=>{const t=q.call(e,0);t.reverse();return t};const fe=(e,t)=>oe(e,(e=>!Y(t,e)));const me=(e,t)=>{const o={};for(let n=0,s=e.length;n<s;n++){const s=e[n];o[String(s)]=t(s,n)}return o};const ge=(e,t)=>{const o=q.call(e,0);o.sort(t);return o};const pe=(e,t)=>t>=0&&t<e.length?U.some(e[t]):U.none();const he=e=>pe(e,0);const ye=e=>pe(e,e.length-1);const be=T(Array.from)?Array.from:e=>q.call(e);const ve=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return U.none()};const ke=(e,t)=>{const o=[];const n=T(t)?e=>X(o,(o=>t(o,e))):e=>Y(o,e);for(let t=0,s=e.length;t<s;t++){const s=e[t];if(!n(s)){o.push(s)}}return o};const we=Object.keys;const _e=Object.hasOwnProperty;const xe=(e,t)=>{const o=we(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const Ce=(e,t)=>Se(e,((e,o)=>({k:o,v:t(e,o)})));const Se=(e,t)=>{const o={};xe(e,((e,n)=>{const s=t(e,n);o[s.k]=s.v}));return o};const ze=e=>(t,o)=>{e[o]=t};const Ee=(e,t,o,n)=>{xe(e,((e,s)=>{(t(e,s)?o:n)(e,s)}))};const Te=(e,t)=>{const o={};const n={};Ee(e,t,ze(o),ze(n));return{t:o,f:n}};const Oe=(e,t)=>{const o={};Ee(e,t,ze(o),A);return o};const De=(e,t)=>{const o=[];xe(e,((e,n)=>{o.push(t(e,n))}));return o};const Ae=e=>De(e,B);const Ne=(e,t)=>Me(e,t)?U.from(e[t]):U.none();const Me=(e,t)=>_e.call(e,t);const Re=(e,t)=>Me(e,t)&&e[t]!==undefined&&e[t]!==null;const Be=(e,t,o=u)=>d(o).eq(e,t);const Le=e=>{const t={};Q(e,(e=>{t[e]={}}));return we(t)};const He=e=>e.length!==undefined;const Ie=Array.isArray;const Pe=e=>{if(!Ie(e)){const t=[];for(let o=0,n=e.length;o<n;o++){t[o]=e[o]}return t}else{return e}};const Fe=(e,t,o)=>{if(!e){return false}o=o||e;if(He(e)){for(let n=0,s=e.length;n<s;n++){if(t.call(o,e[n],n,e)===false){return false}}}else{for(const n in e){if(Me(e,n)){if(t.call(o,e[n],n,e)===false){return false}}}}return true};const Ve=(e,t)=>{const o=[];Fe(e,((n,s)=>{o.push(t(n,s,e))}));return o};const je=(e,t)=>{const o=[];Fe(e,((n,s)=>{if(!t||t(n,s,e)){o.push(n)}}));return o};const Ze=(e,t)=>{if(e){for(let o=0,n=e.length;o<n;o++){if(e[o]===t){return o}}}return-1};const Ue=(e,t,o,n)=>{let s=S(o)?e[0]:o;for(let o=0;o<e.length;o++){s=t.call(n,s,e[o],o)}return s};const qe=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){if(t.call(o,e[n],n,e)){return n}}return-1};const We=e=>e[e.length-1];const $e=e=>{let t=false;let o;return(...n)=>{if(!t){t=true;o=e.apply(null,n)}return o}};const Ge=(e,t,o,n)=>{const s=e.isiOS()&&/ipad/i.test(o)===true;const r=e.isiOS()&&!s;const a=e.isiOS()||e.isAndroid();const c=a||n("(pointer:coarse)");const i=s||!r&&a&&n("(min-device-width:768px)");const l=r||a&&!i;const d=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===false;const u=!l&&!i&&!d;return{isiPad:R(s),isiPhone:R(r),isTablet:R(i),isPhone:R(l),isTouch:R(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:R(d),isDesktop:R(u)}};const Ke=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t)){return n}}return undefined};const Ye=(e,t)=>{const o=Ke(e,t);if(!o){return{major:0,minor:0}}const n=e=>Number(t.replace(o,"$"+e));return Qe(n(1),n(2))};const Xe=(e,t)=>{const o=String(t).toLowerCase();if(e.length===0){return Je()}return Ye(e,o)};const Je=()=>Qe(0,0);const Qe=(e,t)=>({major:e,minor:t});const et={nu:Qe,detect:Xe,unknown:Je};const tt=(e,t)=>ve(t.brands,(t=>{const o=t.brand.toLowerCase();return ae(e,(e=>{var t;return o===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:et.nu(parseInt(t.version,10),0)})))}));const ot=(e,t)=>{const o=String(t).toLowerCase();return ae(e,(e=>e.search(o)))};const nt=(e,t)=>ot(e,t).map((e=>{const o=et.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const st=(e,t)=>ot(e,t).map((e=>{const o=et.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const rt=(e,t)=>e.substring(t);const at=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const ct=(e,t)=>lt(e,t)?rt(e,t.length):e;const it=(e,t,o=0,n)=>{const s=e.indexOf(t,o);if(s!==-1){return S(n)?true:s+t.length<=n}else{return false}};const lt=(e,t)=>at(e,t,0);const dt=(e,t)=>at(e,t,e.length-t.length);const ut=e=>t=>t.replace(e,"");const ft=ut(/^\s+|\s+$/g);const mt=ut(/^\s+/g);const gt=ut(/\s+$/g);const pt=e=>e.length>0;const ht=e=>!pt(e);const yt=(e,t)=>t<=0?"":new Array(t+1).join(e);const bt=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?U.none():U.some(o)};const vt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;const kt=e=>t=>it(t,e);const wt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>it(e,"edge/")&&it(e,"chrome")&&it(e,"safari")&&it(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,vt],search:e=>it(e,"chrome")&&!it(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>it(e,"msie")||it(e,"trident")},{name:"Opera",versionRegexes:[vt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:kt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:kt("firefox")},{name:"Safari",versionRegexes:[vt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(it(e,"safari")||it(e,"mobile/"))&&it(e,"applewebkit")}];const _t=[{name:"Windows",search:kt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>it(e,"iphone")||it(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:kt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:kt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:kt("linux"),versionRegexes:[]},{name:"Solaris",search:kt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:kt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:kt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];const xt={browsers:R(wt),oses:R(_t)};const Ct="Edge";const St="Chromium";const zt="IE";const Et="Opera";const Tt="Firefox";const Ot="Safari";const Dt=()=>At({current:undefined,version:et.unknown()});const At=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isEdge:n(Ct),isChromium:n(St),isIE:n(zt),isOpera:n(Et),isFirefox:n(Tt),isSafari:n(Ot)}};const Nt={unknown:Dt,nu:At,edge:R(Ct),chromium:R(St),ie:R(zt),opera:R(Et),firefox:R(Tt),safari:R(Ot)};const Mt="Windows";const Rt="iOS";const Bt="Android";const Lt="Linux";const Ht="macOS";const It="Solaris";const Pt="FreeBSD";const Ft="ChromeOS";const Vt=()=>jt({current:undefined,version:et.unknown()});const jt=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isWindows:n(Mt),isiOS:n(Rt),isAndroid:n(Bt),isMacOS:n(Ht),isLinux:n(Lt),isSolaris:n(It),isFreeBSD:n(Pt),isChromeOS:n(Ft)}};const Zt={unknown:Vt,nu:jt,windows:R(Mt),ios:R(Rt),android:R(Bt),linux:R(Lt),macos:R(Ht),solaris:R(It),freebsd:R(Pt),chromeos:R(Ft)};const Ut=(e,t,o)=>{const n=xt.browsers();const s=xt.oses();const r=t.bind((e=>tt(n,e))).orThunk((()=>nt(n,e))).fold(Nt.unknown,Nt.nu);const a=st(s,e).fold(Zt.unknown,Zt.nu);const c=Ge(a,r,e,o);return{browser:r,os:a,deviceType:c}};const qt={detect:Ut};const Wt=e=>window.matchMedia(e).matches;let $t=$e((()=>qt.detect(navigator.userAgent,U.from(navigator.userAgentData),Wt)));const Gt=()=>$t();const Kt=navigator.userAgent;const Yt=Gt();const Xt=Yt.browser;const Jt=Yt.os;const Qt=Yt.deviceType;const eo=Kt.indexOf("Windows Phone")!==-1;const to={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Xt.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Xt.isIE(),windowsPhone:eo,browser:{current:Xt.current,version:Xt.version,isChromium:Xt.isChromium,isEdge:Xt.isEdge,isFirefox:Xt.isFirefox,isIE:Xt.isIE,isOpera:Xt.isOpera,isSafari:Xt.isSafari},os:{current:Jt.current,version:Jt.version,isAndroid:Jt.isAndroid,isChromeOS:Jt.isChromeOS,isFreeBSD:Jt.isFreeBSD,isiOS:Jt.isiOS,isLinux:Jt.isLinux,isMacOS:Jt.isMacOS,isSolaris:Jt.isSolaris,isWindows:Jt.isWindows},deviceType:{isDesktop:Qt.isDesktop,isiPad:Qt.isiPad,isiPhone:Qt.isiPhone,isPhone:Qt.isPhone,isTablet:Qt.isTablet,isTouch:Qt.isTouch,isWebView:Qt.isWebView}};const oo=/^\s*|\s*$/g;const no=e=>z(e)?"":(""+e).replace(oo,"");const so=(e,t)=>{if(!t){return e!==undefined}if(t==="array"&&Ie(e)){return true}return typeof e===t};const ro=(e,t,o={})=>{const n=v(e)?e.split(t||","):e||[];let s=n.length;while(s--){o[n[s]]={}}return o};const ao=Me;const co=(e,...t)=>{for(let o=0;o<t.length;o++){const n=t[o];for(const t in n){if(Me(n,t)){const o=n[t];if(o!==undefined){e[t]=o}}}}return e};const io=function(e,t,o,n){n=n||this;if(e){if(o){e=e[o]}Fe(e,((e,s)=>{if(t.call(n,e,s,o)===false){return false}else{io(e,t,o,n);return true}}))}};const lo=(e,t=window)=>{const o=e.split(".");for(let e=0,n=o.length;e<n;e++){t=t[o[e]];if(!t){break}}return t};const uo=(e,t)=>{if(_(e)){return e}else if(e===""){return[]}else{return Ve(e.split(t||","),no)}};const fo=e=>{const t=to.cacheSuffix;if(t){e+=(e.indexOf("?")===-1?"?":"&")+t}return e};const mo={trim:no,isArray:Ie,is:so,toArray:Pe,makeMap:ro,each:Fe,map:Ve,grep:je,inArray:Ze,hasOwn:ao,extend:co,walk:io,resolve:lo,explode:uo,_addCacheSuffix:fo};const go=(e,t,o=L)=>e.exists((e=>o(e,t)));const po=(e,t,o=L)=>yo(e,t,o).getOr(e.isNone()&&t.isNone());const ho=e=>{const t=[];const o=e=>{t.push(e)};for(let t=0;t<e.length;t++){e[t].each(o)}return t};const yo=(e,t,o)=>e.isSome()&&t.isSome()?U.some(o(e.getOrDie(),t.getOrDie())):U.none();const bo=(e,t,o,n)=>e.isSome()&&t.isSome()&&o.isSome()?U.some(n(e.getOrDie(),t.getOrDie(),o.getOrDie())):U.none();const vo=(e,t)=>e?U.some(t):U.none();const ko=typeof window!=="undefined"?window:Function("return this;")();const wo=(e,t)=>{let o=t!==undefined&&t!==null?t:ko;for(let t=0;t<e.length&&o!==undefined&&o!==null;++t){o=o[e[t]]}return o};const _o=(e,t)=>{const o=e.split(".");return wo(o,t)};const xo=(e,t)=>_o(e,t);const Co=(e,t)=>{const o=xo(e,t);if(o===undefined||o===null){throw new Error(e+" not available on this browser")}return o};const So=Object.getPrototypeOf;const zo=e=>Co("HTMLElement",e);const Eo=e=>{const t=_o("ownerDocument.defaultView",e);return k(e)&&(zo(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(So(e).constructor.name))};const To=8;const Oo=9;const Do=11;const Ao=1;const No=3;const Mo=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const Ro=e=>e.dom.nodeType;const Bo=e=>t=>Ro(t)===e;const Lo=e=>Ro(e)===To||Mo(e)==="#comment";const Ho=e=>Io(e)&&Eo(e.dom);const Io=Bo(Ao);const Po=Bo(No);const Fo=Bo(Oo);const Vo=Bo(Do);const jo=e=>t=>Io(t)&&Mo(t)===e;const Zo=(e,t,o)=>{if(v(o)||C(o)||O(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const Uo=(e,t,o)=>{Zo(e.dom,t,o)};const qo=(e,t)=>{const o=e.dom;xe(t,((e,t)=>{Zo(o,t,e)}))};const Wo=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?undefined:o};const $o=(e,t)=>U.from(Wo(e,t));const Go=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):false};const Ko=(e,t)=>{e.dom.removeAttribute(t)};const Yo=e=>{const t=e.dom.attributes;return t===undefined||t===null||t.length===0};const Xo=e=>se(e.dom.attributes,((e,t)=>{e[t.name]=t.value;return e}),{});const Jo=(e,t)=>{const o=Wo(e,t);return o===undefined||o===""?[]:o.split(" ")};const Qo=(e,t,o)=>{const n=Jo(e,t);const s=n.concat([o]);Uo(e,t,s.join(" "));return true};const en=(e,t,o)=>{const n=oe(Jo(e,t),(e=>e!==o));if(n.length>0){Uo(e,t,n.join(" "))}else{Ko(e,t)}return false};const tn=e=>e.dom.classList!==undefined;const on=e=>Jo(e,"class");const nn=(e,t)=>Qo(e,"class",t);const sn=(e,t)=>en(e,"class",t);const rn=(e,t)=>{if(Y(on(e),t)){return sn(e,t)}else{return nn(e,t)}};const an=(e,t)=>{if(tn(e)){e.dom.classList.add(t)}else{nn(e,t)}};const cn=e=>{const t=tn(e)?e.dom.classList:on(e);if(t.length===0){Ko(e,"class")}};const ln=(e,t)=>{if(tn(e)){const o=e.dom.classList;o.remove(t)}else{sn(e,t)}cn(e)};const dn=(e,t)=>{const o=tn(e)?e.dom.classList.toggle(t):rn(e,t);cn(e);return o};const un=(e,t)=>tn(e)&&e.dom.classList.contains(t);const fn=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return pn(n.childNodes[0])};const mn=(e,t)=>{const o=t||document;const n=o.createElement(e);return pn(n)};const gn=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return pn(n)};const pn=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const hn=(e,t,o)=>U.from(e.dom.elementFromPoint(t,o)).map(pn);const yn={fromHtml:fn,fromTag:mn,fromText:gn,fromDom:pn,fromPoint:hn};const bn=(e,t)=>{const o=[];const n=e=>{o.push(e);return t(e)};let s=t(e);do{s=s.bind(n)}while(s.isSome());return o};const vn=(e,t)=>{const o=e.dom;if(o.nodeType!==Ao){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const kn=e=>e.nodeType!==Ao&&e.nodeType!==Oo&&e.nodeType!==Do||e.childElementCount===0;const wn=(e,t)=>{const o=t===undefined?document:t.dom;return kn(o)?[]:J(o.querySelectorAll(e),yn.fromDom)};const _n=(e,t)=>{const o=t===undefined?document:t.dom;return kn(o)?U.none():U.from(o.querySelector(e)).map(yn.fromDom)};const xn=(e,t)=>e.dom===t.dom;const Cn=(e,t)=>{const o=e.dom;const n=t.dom;return o===n?false:o.contains(n)};const Sn=e=>yn.fromDom(e.dom.ownerDocument);const zn=e=>Fo(e)?e:Sn(e);const En=e=>yn.fromDom(zn(e).dom.documentElement);const Tn=e=>yn.fromDom(zn(e).dom.defaultView);const On=e=>U.from(e.dom.parentNode).map(yn.fromDom);const Dn=e=>U.from(e.dom.parentElement).map(yn.fromDom);const An=(e,t)=>{const o=T(t)?t:j;let n=e.dom;const s=[];while(n.parentNode!==null&&n.parentNode!==undefined){const e=n.parentNode;const t=yn.fromDom(e);s.push(t);if(o(t)===true){break}else{n=e}}return s};const Nn=e=>{const t=t=>oe(t,(t=>!xn(e,t)));return On(e).map(Hn).map(t).getOr([])};const Mn=e=>U.from(e.dom.previousSibling).map(yn.fromDom);const Rn=e=>U.from(e.dom.nextSibling).map(yn.fromDom);const Bn=e=>ue(bn(e,Mn));const Ln=e=>bn(e,Rn);const Hn=e=>J(e.dom.childNodes,yn.fromDom);const In=(e,t)=>{const o=e.dom.childNodes;return U.from(o[t]).map(yn.fromDom)};const Pn=e=>In(e,0);const Fn=e=>In(e,e.dom.childNodes.length-1);const Vn=e=>e.dom.childNodes.length;const jn=e=>e.dom.hasChildNodes();const Zn=e=>{const t=e.dom.head;if(t===null||t===undefined){throw new Error("Head is not available yet")}return yn.fromDom(t)};const Un=e=>Vo(e)&&E(e.dom.host);const qn=T(Element.prototype.attachShadow)&&T(Node.prototype.getRootNode);const Wn=R(qn);const $n=qn?e=>yn.fromDom(e.dom.getRootNode()):zn;const Gn=e=>Un(e)?e:Zn(zn(e));const Kn=e=>Un(e)?e:yn.fromDom(zn(e).dom.body);const Yn=e=>{const t=$n(e);return Un(t)?U.some(t):U.none()};const Xn=e=>yn.fromDom(e.dom.host);const Jn=e=>{if(Wn()&&E(e.target)){const t=yn.fromDom(e.target);if(Io(t)&&Qn(t)){if(e.composed&&e.composedPath){const t=e.composedPath();if(t){return he(t)}}}}return U.from(e.target)};const Qn=e=>E(e.dom.shadowRoot);const es=e=>{const t=Po(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return Yn(yn.fromDom(t)).fold((()=>o.body.contains(t)),M(es,Xn))};var ts=(e,t,o,n,s)=>{if(e(o,n)){return U.some(o)}else if(T(s)&&s(o)){return U.none()}else{return t(o,n,s)}};const os=(e,t,o)=>{let n=e.dom;const s=T(o)?o:j;while(n.parentNode){n=n.parentNode;const e=yn.fromDom(n);if(t(e)){return U.some(e)}else if(s(e)){break}}return U.none()};const ns=(e,t,o)=>{const n=(e,t)=>t(e);return ts(n,os,e,t,o)};const ss=(e,t)=>{const o=e.dom;if(!o.parentNode){return U.none()}return rs(yn.fromDom(o.parentNode),(o=>!xn(e,o)&&t(o)))};const rs=(e,t)=>{const o=e=>t(yn.fromDom(e));const n=ae(e.dom.childNodes,o);return n.map(yn.fromDom)};const as=(e,t)=>{const o=e=>{for(let n=0;n<e.childNodes.length;n++){const s=yn.fromDom(e.childNodes[n]);if(t(s)){return U.some(s)}const r=o(e.childNodes[n]);if(r.isSome()){return r}}return U.none()};return o(e.dom)};const cs=(e,t,o)=>os(e,(e=>vn(e,t)),o);const is=(e,t)=>_n(t,e);const ls=(e,t,o)=>{const n=(e,t)=>vn(e,t);return ts(n,cs,e,t,o)};const ds=e=>ls(e,"[contenteditable]");const us=(e,t=false)=>{if(es(e)){return e.dom.isContentEditable}else{return ds(e).fold(R(t),(e=>fs(e)==="true"))}};const fs=e=>e.dom.contentEditable;const ms=e=>e.style!==undefined&&T(e.style.getPropertyValue);const gs=(e,t,o)=>{if(!v(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(ms(e)){e.style.setProperty(t,o)}};const ps=(e,t)=>{if(ms(e)){e.style.removeProperty(t)}};const hs=(e,t,o)=>{const n=e.dom;gs(n,t,o)};const ys=(e,t)=>{const o=e.dom;xe(t,((e,t)=>{gs(o,t,e)}))};const bs=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!es(e)?vs(o,t):s};const vs=(e,t)=>ms(e)?e.style.getPropertyValue(t):"";const ks=(e,t)=>{const o=e.dom;const n=vs(o,t);return U.from(n).filter((e=>e.length>0))};const ws=e=>{const t={};const o=e.dom;if(ms(o)){for(let e=0;e<o.style.length;e++){const n=o.style.item(e);t[n]=o.style[n]}}return t};const _s=(e,t)=>{const o=e.dom;ps(o,t);if(go($o(e,"style").map(ft),"")){Ko(e,"style")}};const xs=e=>e.dom.offsetWidth;const Cs=(e,t)=>{const o=On(e);o.each((o=>{o.dom.insertBefore(t.dom,e.dom)}))};const Ss=(e,t)=>{const o=Rn(e);o.fold((()=>{const o=On(e);o.each((e=>{Es(e,t)}))}),(e=>{Cs(e,t)}))};const zs=(e,t)=>{const o=Pn(e);o.fold((()=>{Es(e,t)}),(o=>{e.dom.insertBefore(t.dom,o.dom)}))};const Es=(e,t)=>{e.dom.appendChild(t.dom)};const Ts=(e,t)=>{Cs(e,t);Es(t,e)};const Os=(e,t)=>{Q(t,((o,n)=>{const s=n===0?e:t[n-1];Ss(s,o)}))};const Ds=(e,t)=>{Q(t,(t=>{Es(e,t)}))};const As=e=>{e.dom.textContent="";Q(Hn(e),(e=>{Ns(e)}))};const Ns=e=>{const t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};const Ms=e=>{const t=Hn(e);if(t.length>0){Os(e,t)}Ns(e)};const Rs=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;return Hn(yn.fromDom(n))};const Bs=e=>J(e,yn.fromDom);const Ls=e=>e.dom.innerHTML;const Hs=(e,t)=>{const o=Sn(e);const n=o.dom;const s=yn.fromDom(n.createDocumentFragment());const r=Rs(t,n);Ds(s,r);As(e);Es(e,s)};const Is=e=>{const t=yn.fromTag("div");const o=yn.fromDom(e.dom.cloneNode(true));Es(t,o);return Ls(t)};const Ps=(e,t,o,n,s,r,a)=>({target:e,x:t,y:o,stop:n,prevent:s,kill:r,raw:a});const Fs=e=>{const t=yn.fromDom(Jn(e).getOr(e.target));const o=()=>e.stopPropagation();const n=()=>e.preventDefault();const s=N(n,o);return Ps(t,e.clientX,e.clientY,o,n,s,e)};const Vs=(e,t)=>o=>{if(e(o)){t(Fs(o))}};const js=(e,t,o,n,s)=>{const r=Vs(o,n);e.dom.addEventListener(t,r,s);return{unbind:H(Us,e,t,r,s)}};const Zs=(e,t,o,n)=>js(e,t,o,n,false);const Us=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)};const qs=(e,t)=>{const o=(o,n)=>qs(e+o,t+n);return{left:e,top:t,translate:o}};const Ws=qs;const $s=e=>{const t=e.getBoundingClientRect();return Ws(t.left,t.top)};const Gs=(e,t)=>{if(e!==undefined){return e}else{return t!==undefined?t:0}};const Ks=e=>{const t=e.dom.ownerDocument;const o=t.body;const n=t.defaultView;const s=t.documentElement;if(o===e.dom){return Ws(o.offsetLeft,o.offsetTop)}const r=Gs(n===null||n===void 0?void 0:n.pageYOffset,s.scrollTop);const a=Gs(n===null||n===void 0?void 0:n.pageXOffset,s.scrollLeft);const c=Gs(s.clientTop,o.clientTop);const i=Gs(s.clientLeft,o.clientLeft);return Ys(e).translate(a-i,r-c)};const Ys=e=>{const t=e.dom;const o=t.ownerDocument;const n=o.body;if(n===t){return Ws(n.offsetLeft,n.offsetTop)}if(!es(e)){return Ws(0,0)}return $s(t)};const Xs=e=>{const t=e!==undefined?e.dom:document;const o=t.body.scrollLeft||t.documentElement.scrollLeft;const n=t.body.scrollTop||t.documentElement.scrollTop;return Ws(o,n)};const Js=(e,t,o)=>{const n=o!==undefined?o.dom:document;const s=n.defaultView;if(s){s.scrollTo(e,t)}};const Qs=(e,t)=>{const o=Gt().browser.isSafari();if(o&&T(e.dom.scrollIntoViewIfNeeded)){e.dom.scrollIntoViewIfNeeded(false)}else{e.dom.scrollIntoView(t)}};const er=e=>{const t=e===undefined?window:e;if(Gt().browser.isFirefox()){return U.none()}else{return U.from(t.visualViewport)}};const tr=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n});const or=e=>{const t=e===undefined?window:e;const o=t.document;const n=Xs(yn.fromDom(o));return er(t).fold((()=>{const e=t.document.documentElement;const o=e.clientWidth;const s=e.clientHeight;return tr(n.left,n.top,o,s)}),(e=>tr(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)))};const nr=(e,t)=>oe(Hn(e),t);const sr=(e,t)=>{let o=[];Q(Hn(e),(e=>{if(t(e)){o=o.concat([e])}o=o.concat(sr(e,t))}));return o};const rr=(e,t)=>wn(t,e);const ar=(e,t,o)=>cs(e,t,o).isSome();class cr{constructor(e,t){this.node=e;this.rootNode=t;this.current=this.current.bind(this);this.next=this.next.bind(this);this.prev=this.prev.bind(this);this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){this.node=this.findSibling(this.node,"firstChild","nextSibling",e);return this.node}prev(e){this.node=this.findSibling(this.node,"lastChild","previousSibling",e);return this.node}prev2(e){this.node=this.findPreviousNode(this.node,e);return this.node}findSibling(e,t,o,n){if(e){if(!n&&e[t]){return e[t]}if(e!==this.rootNode){let t=e[o];if(t){return t}for(let n=e.parentNode;n&&n!==this.rootNode;n=n.parentNode){t=n[o];if(t){return t}}}}return undefined}findPreviousNode(e,t){if(e){const o=e.previousSibling;if(this.rootNode&&o===this.rootNode){return}if(o){if(!t){for(let e=o.lastChild;e;e=e.lastChild){if(!e.lastChild){return e}}}return o}const n=e.parentNode;if(n&&n!==this.rootNode){return n}}return undefined}}const ir=e=>t=>!!t&&t.nodeType===e;const lr=e=>!!e&&!Object.getPrototypeOf(e);const dr=ir(1);const ur=e=>{const t=e.toLowerCase();return e=>E(e)&&e.nodeName.toLowerCase()===t};const fr=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const o=e.nodeName.toLowerCase();return Y(t,o)}return false}};const mr=(e,t)=>{const o=t.toLowerCase().split(" ");return t=>{if(dr(t)){const n=t.ownerDocument.defaultView;if(n){for(let s=0;s<o.length;s++){const r=n.getComputedStyle(t,null);const a=r?r.getPropertyValue(e):null;if(a===o[s]){return true}}}}return false}};const gr=e=>t=>dr(t)&&t.hasAttribute(e);const pr=(e,t)=>o=>dr(o)&&o.getAttribute(e)===t;const hr=e=>dr(e)&&e.hasAttribute("data-mce-bogus");const yr=e=>dr(e)&&e.getAttribute("data-mce-bogus")==="all";const br=e=>dr(e)&&e.tagName==="TABLE";const vr=e=>t=>{if(dr(t)){if(t.contentEditable===e){return true}if(t.getAttribute("data-mce-contenteditable")===e){return true}}return false};const kr=fr(["textarea","input"]);const wr=ir(3);const _r=ir(4);const xr=ir(7);const Cr=ir(8);const Sr=ir(9);const zr=ir(11);const Er=ur("br");const Tr=ur("img");const Or=vr("true");const Dr=vr("false");const Ar=fr(["td","th"]);const Nr=fr(["td","th","caption"]);const Mr=fr(["video","audio","object","embed"]);const Rr=ur("li");const Br=ur("details");const Lr=ur("summary");const Hr="\ufeff";const Ir=" ";const Pr=e=>e===Hr;const Fr=e=>e.replace(/\uFEFF/g,"");const Vr=(e,t)=>{const o=o=>{if(!e(o)){throw new Error("Can only get "+t+" value of a "+t+" node")}return n(o).getOr("")};const n=t=>e(t)?U.from(t.dom.nodeValue):U.none();const s=(o,n)=>{if(!e(o)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}o.dom.nodeValue=n};return{get:o,getOption:n,set:s}};const jr=Vr(Po,"text");const Zr=e=>jr.get(e);const Ur=e=>jr.getOption(e);const qr=(e,t)=>jr.set(e,t);const Wr=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"];const $r=["td","th"];const Gr=["thead","tbody","tfoot"];const Kr=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"];const Yr=["h1","h2","h3","h4","h5","h6"];const Xr=["li","dd","dt"];const Jr=["ul","ol","dl"];const Qr=["pre","script","textarea","style"];const ea=["pre"].concat(Yr);const ta=e=>{let t;return o=>{t=t?t:me(e,Z);return Me(t,Mo(o))}};const oa=ta(Wr);const na=e=>Mo(e)==="table";const sa=e=>Io(e)&&!oa(e);const ra=e=>Io(e)&&Mo(e)==="br";const aa=ta(Kr);const ca=ta(Jr);const ia=ta(Xr);const la=ta(Gr);const da=ta($r);const ua=ta(Qr);const fa=ta(ea);const ma=e=>fa(e)||sa(e);const ga=e=>{const t=[];let o=e.dom;while(o){t.push(yn.fromDom(o));o=o.lastChild}return t};const pa=e=>{const t=rr(e,"br");const o=oe(ga(e).slice(-1),ra);if(t.length===o.length){Q(o,Ns)}};const ha=()=>{const e=yn.fromTag("br");Uo(e,"data-mce-bogus","1");return e};const ya=e=>{As(e);Es(e,ha())};const ba=e=>{Fn(e).each((t=>{Mn(t).each((o=>{if(oa(e)&&ra(t)&&oa(o)){Ns(t)}}))}))};const va=Hr;const ka=Pr;const wa=Fr;const _a=e=>e.insertContent(va,{preserve_zwsp:true});const xa=dr;const Ca=wr;const Sa=e=>{if(Ca(e)){e=e.parentNode}return xa(e)&&e.hasAttribute("data-mce-caret")};const za=e=>Ca(e)&&ka(e.data);const Ea=e=>Sa(e)||za(e);const Ta=e=>e.firstChild!==e.lastChild||!Er(e.firstChild);const Oa=(e,t)=>{var o;const n=(o=e.ownerDocument)!==null&&o!==void 0?o:document;const s=n.createTextNode(va);const r=e.parentNode;if(!t){const t=e.nextSibling;if(Ca(t)){if(Ea(t)){return t}if(Ma(t)){t.splitText(1);return t}}if(e.nextSibling){r===null||r===void 0?void 0:r.insertBefore(s,e.nextSibling)}else{r===null||r===void 0?void 0:r.appendChild(s)}}else{const t=e.previousSibling;if(Ca(t)){if(Ea(t)){return t}if(Ra(t)){return t.splitText(t.data.length-1)}}r===null||r===void 0?void 0:r.insertBefore(s,e)}return s};const Da=e=>{const t=e.container();if(!wr(t)){return false}return t.data.charAt(e.offset())===va||e.isAtStart()&&za(t.previousSibling)};const Aa=e=>{const t=e.container();if(!wr(t)){return false}return t.data.charAt(e.offset()-1)===va||e.isAtEnd()&&za(t.nextSibling)};const Na=(e,t,o)=>{var n;const s=(n=t.ownerDocument)!==null&&n!==void 0?n:document;const r=s.createElement(e);r.setAttribute("data-mce-caret",o?"before":"after");r.setAttribute("data-mce-bogus","all");r.appendChild(ha().dom);const a=t.parentNode;if(!o){if(t.nextSibling){a===null||a===void 0?void 0:a.insertBefore(r,t.nextSibling)}else{a===null||a===void 0?void 0:a.appendChild(r)}}else{a===null||a===void 0?void 0:a.insertBefore(r,t)}return r};const Ma=e=>Ca(e)&&e.data[0]===va;const Ra=e=>Ca(e)&&e.data[e.data.length-1]===va;const Ba=e=>{var t;const o=e.getElementsByTagName("br");const n=o[o.length-1];if(hr(n)){(t=n.parentNode)===null||t===void 0?void 0:t.removeChild(n)}};const La=e=>{if(e&&e.hasAttribute("data-mce-caret")){Ba(e);e.removeAttribute("data-mce-caret");e.removeAttribute("data-mce-bogus");e.removeAttribute("style");e.removeAttribute("data-mce-style");e.removeAttribute("_moz_abspos");return e}return null};const Ha=e=>Sa(e.startContainer);const Ia=Or;const Pa=Dr;const Fa=Er;const Va=wr;const ja=fr(["script","style","textarea"]);const Za=fr(["img","input","textarea","hr","iframe","video","audio","object","embed"]);const Ua=fr(["table"]);const qa=Ea;const Wa=e=>{if(qa(e)){return false}if(Va(e)){return!ja(e.parentNode)}return Za(e)||Fa(e)||Ua(e)||Ga(e)};const $a=e=>dr(e)&&e.getAttribute("unselectable")==="true";const Ga=e=>!$a(e)&&Pa(e);const Ka=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(Ga(o)){return false}if(Ia(o)){return true}}return true};const Ya=e=>{if(!Ga(e)){return false}return!se(be(e.getElementsByTagName("*")),((e,t)=>e||Ia(t)),false)};const Xa=e=>Za(e)||Ya(e);const Ja=(e,t)=>Wa(e)&&Ka(e,t);const Qa=/^[ \t\r\n]*$/;const ec=e=>Qa.test(e);const tc=e=>{for(const t of e){if(!Pr(t)){return false}}return true};const oc=e=>" \f\t\v".indexOf(e)!==-1;const nc=e=>e==="\n"||e==="\r";const sc=(e,t)=>t<e.length&&t>=0?nc(e[t]):false;const rc=(e,t=4,o=true,n=true)=>{const s=yt(" ",t);const r=e.replace(/\t/g,s);const a=se(r,((e,t)=>{if(oc(t)||t===Ir){if(e.pcIsSpace||e.str===""&&o||e.str.length===r.length-1&&n||sc(r,e.str.length+1)){return{pcIsSpace:false,str:e.str+Ir}}else{return{pcIsSpace:true,str:e.str+" "}}}else{return{pcIsSpace:nc(t),str:e.str+t}}}),{pcIsSpace:false,str:""});return a.str};const ac=(e,t)=>{const o=yn.fromDom(t);const n=yn.fromDom(e);return ar(n,"pre,code",H(xn,o))};const cc=(e,t)=>wr(e)&&ec(e.data)&&!ac(e,t);const ic=e=>dr(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"));const lc=(e,t)=>Wa(e)&&!cc(e,t)||ic(e)||dc(e);const dc=gr("data-mce-bookmark");const uc=gr("data-mce-bogus");const fc=pr("data-mce-bogus","all");const mc=(e,t)=>{let o=0;if(lc(e,e)){return false}else{let n=e.firstChild;if(!n){return true}const s=new cr(n,e);do{if(t){if(fc(n)){n=s.next(true);continue}if(uc(n)){n=s.next();continue}}if(Er(n)){o++;n=s.next();continue}if(lc(n,e)){return false}n=s.next()}while(n);return o<=1}};const gc=(e,t=true)=>mc(e.dom,t);const pc="data-mce-block";const hc=e=>oe(we(e),(e=>!/[A-Z]/.test(e)));const yc=e=>hc(e).join(",");const bc=(e,t)=>{if(E(t.querySelector(e))){t.setAttribute(pc,"true");if(t.getAttribute("data-mce-selected")==="inline-boundary"){t.removeAttribute("data-mce-selected")}return true}else{t.removeAttribute(pc);return false}};const vc=(e,t)=>{const o=yc(e.getTransparentElements());const n=yc(e.getBlockElements());return oe(t.querySelectorAll(o),(e=>bc(n,e)))};const kc=(e,t)=>{var o;const n=t?"lastChild":"firstChild";for(let t=e[n];t;t=t[n]){if(gc(yn.fromDom(t))){(o=t.parentNode)===null||o===void 0?void 0:o.removeChild(t);return}}};const wc=(e,t)=>{const o=document.createRange();const n=e.parentNode;if(n){o.setStartBefore(e);o.setEndBefore(t);const s=o.extractContents();kc(s,true);o.setStartAfter(t);o.setEndAfter(e);const r=o.extractContents();kc(r,false);if(!gc(yn.fromDom(s))){n.insertBefore(s,e)}if(!gc(yn.fromDom(t))){n.insertBefore(t,e)}if(!gc(yn.fromDom(r))){n.insertBefore(r,e)}n.removeChild(e)}};const _c=(e,t,o)=>{const n=e.getBlockElements();const s=yn.fromDom(t);const r=e=>Mo(e)in n;const a=e=>xn(e,s);Q(Bs(o),(t=>{os(t,r,a).each((o=>{const n=nr(t,(t=>r(t)&&!e.isValidChild(Mo(o),Mo(t))));if(n.length>0){const t=Dn(o);Q(n,(e=>{os(e,r,a).each((t=>{wc(t.dom,e.dom)}))}));t.each((t=>vc(e,t.dom)))}}))}))};const xc=(e,t,o)=>{Q([...o,...Dc(e,t)?[t]:[]],(t=>Q(rr(yn.fromDom(t),t.nodeName.toLowerCase()),(t=>{if(Ac(e,t.dom)){Ms(t)}}))))};const Cc=(e,t)=>{const o=vc(e,t);_c(e,t,o);xc(e,t,o)};const Sc=(e,t)=>{if(Oc(e,t)){const o=yc(e.getBlockElements());bc(o,t)}};const zc=(e,t,o)=>{const n=e=>xn(e,yn.fromDom(t));const s=An(yn.fromDom(o),n);pe(s,s.length-2).filter(Io).fold((()=>Cc(e,t)),(t=>Cc(e,t.dom)))};const Ec=e=>e.hasAttribute(pc);const Tc=(e,t)=>Me(e.getTransparentElements(),t);const Oc=(e,t)=>dr(t)&&Tc(e,t.nodeName);const Dc=(e,t)=>Oc(e,t)&&Ec(t);const Ac=(e,t)=>Oc(e,t)&&!Ec(t);const Nc=(e,t)=>t.type===1&&Tc(e,t.name)&&v(t.attr(pc));const Mc=Gt().browser;const Rc=e=>ae(e,Io);const Bc=e=>{if(Mc.isFirefox()&&Mo(e)==="table"){return Rc(Hn(e)).filter((e=>Mo(e)==="caption")).bind((e=>Rc(Ln(e)).map((t=>{const o=t.dom.offsetTop;const n=e.dom.offsetTop;const s=e.dom.offsetHeight;return o<=n?-s:0})))).getOr(0)}else{return 0}};const Lc=(e,t)=>e.children&&Y(e.children,t);const Hc=(e,t,o)=>{let n=0,s=0;const r=e.ownerDocument;o=o?o:e;if(t){if(o===e&&t.getBoundingClientRect&&bs(yn.fromDom(e),"position")==="static"){const o=t.getBoundingClientRect();n=o.left+(r.documentElement.scrollLeft||e.scrollLeft)-r.documentElement.clientLeft;s=o.top+(r.documentElement.scrollTop||e.scrollTop)-r.documentElement.clientTop;return{x:n,y:s}}let a=t;while(a&&a!==o&&a.nodeType&&!Lc(a,o)){const e=a;n+=e.offsetLeft||0;s+=e.offsetTop||0;a=e.offsetParent}a=t.parentNode;while(a&&a!==o&&a.nodeType&&!Lc(a,o)){n-=a.scrollLeft||0;s-=a.scrollTop||0;a=a.parentNode}s+=Bc(yn.fromDom(t))}return{x:n,y:s}};const Ic=(e,t={})=>{let o=0;const n={};const s=yn.fromDom(e);const r=zn(s);const a=e=>{t.referrerPolicy=e};const c=e=>{t.contentCssCors=e};const i=e=>{Es(Gn(s),e)};const l=e=>{const t=Gn(s);is(t,"#"+e).each(Ns)};const d=e=>Ne(n,e).getOrThunk((()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})));const u=e=>new Promise(((o,s)=>{let a;const c=mo._addCacheSuffix(e);const l=d(c);n[c]=l;l.count++;const u=(e,t)=>{Q(e,V);l.status=t;l.passed=[];l.failed=[];if(a){a.onload=null;a.onerror=null;a=null}};const f=()=>u(l.passed,2);const m=()=>u(l.failed,3);if(o){l.passed.push(o)}if(s){l.failed.push(s)}if(l.status===1){return}if(l.status===2){f();return}if(l.status===3){m();return}l.status=1;const g=yn.fromTag("link",r.dom);qo(g,{rel:"stylesheet",type:"text/css",id:l.id});if(t.contentCssCors){Uo(g,"crossOrigin","anonymous")}if(t.referrerPolicy){Uo(g,"referrerpolicy",t.referrerPolicy)}a=g.dom;a.onload=f;a.onerror=m;i(g);Uo(g,"href",c)}));const f=e=>{const t=Promise.allSettled(J(e,(e=>u(e).then(R(e)))));return t.then((e=>{const t=te(e,(e=>e.status==="fulfilled"));if(t.fail.length>0){return Promise.reject(J(t.fail,(e=>e.reason)))}else{return J(t.pass,(e=>e.value))}}))};const m=e=>{const t=mo._addCacheSuffix(e);Ne(n,t).each((e=>{const o=--e.count;if(o===0){delete n[t];l(e.id)}}))};const g=e=>{Q(e,(e=>{m(e)}))};return{load:u,loadAll:f,unload:m,unloadAll:g,_setReferrerPolicy:a,_setContentCssCors:c}};const Pc=()=>{const e=new WeakMap;const t=(t,o)=>{const n=$n(t);const s=n.dom;return U.from(e.get(s)).getOrThunk((()=>{const t=Ic(s,o);e.set(s,t);return t}))};return{forElement:t}};const Fc=Pc();const Vc=e=>e.nodeName.toLowerCase()==="span";const jc=(e,t)=>E(e)&&(lc(e,t)||sa(yn.fromDom(e)));const Zc=(e,t)=>{const o=new cr(e,t).prev(false);const n=new cr(e,t).next(false);const s=S(o)||jc(o,t);const r=S(n)||jc(n,t);return s&&r};const Uc=e=>Vc(e)&&e.getAttribute("data-mce-type")==="bookmark";const qc=(e,t)=>wr(e)&&e.data.length>0&&Zc(e,t);const Wc=e=>dr(e)?e.childNodes.length>0:false;const $c=e=>zr(e)||Sr(e);const Gc=(e,t,o)=>{var n;const s=o||t;if(dr(t)&&Uc(t)){return t}const r=t.childNodes;for(let t=r.length-1;t>=0;t--){Gc(e,r[t],s)}if(dr(t)){const e=t.childNodes;if(e.length===1&&Uc(e[0])){(n=t.parentNode)===null||n===void 0?void 0:n.insertBefore(e[0],t)}}if(!$c(t)&&!lc(t,s)&&!Wc(t)&&!qc(t,s)){e.remove(t)}return t};const Kc=mo.makeMap;const Yc=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g;const Xc=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g;const Jc=/[<>&\"\']/g;const Qc=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi;const ei={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};const ti={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"};const oi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":`'`};const ni=e=>{const t=yn.fromTag("div").dom;t.innerHTML=e;return t.textContent||t.innerText||e};const si=(e,t)=>{const o={};if(e){const n=e.split(",");t=t||10;for(let e=0;e<n.length;e+=2){const s=String.fromCharCode(parseInt(n[e],t));if(!ti[s]){const t="&"+n[e+1]+";";o[s]=t;o[t]=s}}return o}else{return undefined}};const ri=si("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,"+"5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,"+"5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,"+"5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,"+"68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,"+"6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,"+"6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,"+"75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,"+"7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,"+"7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,"+"sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,"+"st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,"+"t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,"+"tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,"+"u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,"+"81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,"+"8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,"+"8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,"+"8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,"+"8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,"+"nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,"+"rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,"+"Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,"+"80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,"+"811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);const ai=(e,t)=>e.replace(t?Yc:Xc,(e=>ti[e]||e));const ci=e=>(""+e).replace(Jc,(e=>ti[e]||e));const ii=(e,t)=>e.replace(t?Yc:Xc,(e=>{if(e.length>1){return"&#"+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+";"}return ti[e]||"&#"+e.charCodeAt(0)+";"}));const li=(e,t,o)=>{const n=o||ri;return e.replace(t?Yc:Xc,(e=>ti[e]||n[e]||e))};const di=(e,t)=>{const o=si(t)||ri;const n=(e,t)=>e.replace(t?Yc:Xc,(e=>{if(ti[e]!==undefined){return ti[e]}if(o[e]!==undefined){return o[e]}if(e.length>1){return"&#"+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+";"}return"&#"+e.charCodeAt(0)+";"}));const s=(e,t)=>li(e,t,o);const r=Kc(e.replace(/\+/g,","));if(r.named&&r.numeric){return n}if(r.named){if(t){return s}return li}if(r.numeric){return ii}return ai};const ui=e=>e.replace(Qc,((e,t)=>{if(t){if(t.charAt(0).toLowerCase()==="x"){t=parseInt(t.substr(1),16)}else{t=parseInt(t,10)}if(t>65535){t-=65536;return String.fromCharCode(55296+(t>>10),56320+(t&1023))}return ei[t]||String.fromCharCode(t)}return oi[e]||ri[e]||ni(e)}));const fi={encodeRaw:ai,encodeAllRaw:ci,encodeNumeric:ii,encodeNamed:li,getEncodeFunc:di,decode:ui};const mi=(e,t)=>{e=mo.trim(e);return e?e.split(t||" "):[]};const gi=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$");const pi=e=>{const t=/^(~)?(.+)$/;return le(mi(e,","),(e=>{const o=t.exec(e);if(o){const e=o[1]==="~";const t=e?"span":"div";const n=o[2];return[{inline:e,cloneName:t,name:n}]}else{return[]}}))};const hi=e=>{let t,o;let n,s;t="id accesskey class dir lang style tabindex title role";o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul";n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd "+"label map noscript object q s samp script select small span strong sub sup "+"textarea u var #text #comment";if(e!=="html4"){const e="a ins del canvas map";t+=" contenteditable contextmenu draggable dropzone "+"hidden spellcheck translate";o+=" article aside details dialog figure main header footer hgroup section nav "+e;n+=" audio canvas command datalist mark meter output picture "+"progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){t+=" xml:lang";const e="acronym applet basefont big font strike tt";n=[n,e].join(" ");const r="center dir isindex noframes";o=[o,r].join(" ");s=[o,n].join(" ")}s=s||[o,n].join(" ");return{globalAttributes:t,blockContent:o,phrasingContent:n,flowContent:s}};const yi=e=>{const{globalAttributes:t,phrasingContent:o,flowContent:n}=hi(e);const s={};const r=(e,o="",n="")=>{const r=mi(n);const a=mi(e);let c=a.length;while(c--){const e=mi([t,o].join(" "));s[a[c]]={attributes:me(e,R({})),attributesOrder:e,children:me(r,R({}))}}};const a=(e,t)=>{const o=mi(e);const n=mi(t);let r=o.length;while(r--){const e=s[o[r]];for(let t=0,o=n.length;t<o;t++){e.attributes[n[t]]={};e.attributesOrder.push(n[t])}}};if(e!=="html5-strict"){const e="acronym applet basefont big font strike tt";Q(mi(e),(e=>{r(e,"",o)}));const t="center dir isindex noframes";Q(mi(t),(e=>{r(e,"",n)}))}r("html","manifest","head body");r("head","","base command link meta noscript script style title");r("title hr noscript br");r("base","href target");r("link","href rel media hreflang type sizes hreflang");r("meta","name http-equiv content charset");r("style","media type scoped");r("script","src async defer type charset");r("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus "+"onhashchange onload onmessage onoffline ononline onpagehide onpageshow "+"onpopstate onresize onscroll onstorage onunload",n);r("dd div","",n);r("address dt caption","",e==="html4"?o:n);r("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o);r("blockquote","cite",n);r("ol","reversed start type","li");r("ul","","li");r("li","value",n);r("dl","","dt dd");r("a","href target rel media hreflang type",e==="html4"?o:n);r("q","cite",o);r("ins del","cite datetime",n);r("img","src sizes srcset alt usemap ismap width height");r("iframe","src name width height",n);r("embed","src type width height");r("object","data type typemustmatch name usemap form width height",[n,"param"].join(" "));r("param","name value");r("map","name",[n,"area"].join(" "));r("area","alt coords shape href target rel media hreflang type");r("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":""));r("colgroup","span","col");r("col","span");r("tbody thead tfoot","","tr");r("tr","","td th");r("td","colspan rowspan headers",n);r("th","colspan rowspan headers scope abbr",n);r("form","accept-charset action autocomplete enctype method name novalidate target",n);r("fieldset","disabled form name",[n,"legend"].join(" "));r("label","form for",o);r("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate "+"formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");r("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?n:o);r("select","disabled form multiple name required size","option optgroup");r("optgroup","disabled label","option");r("option","disabled label selected value");r("textarea","cols dirname disabled form maxlength name readonly required rows wrap");r("menu","type label",[n,"li"].join(" "));r("noscript","",n);if(e!=="html4"){r("wbr");r("ruby","",[o,"rt rp"].join(" "));r("figcaption","",n);r("mark rt rp summary bdi","",o);r("canvas","width height",n);r("video","src crossorigin poster preload autoplay mediagroup loop "+"muted controls width height buffered",[n,"track source"].join(" "));r("audio","src crossorigin preload autoplay mediagroup loop muted controls "+"buffered volume",[n,"track source"].join(" "));r("picture","","img source");r("source","src srcset type media sizes");r("track","kind src srclang label default");r("datalist","",[o,"option"].join(" "));r("article section nav aside main header footer","",n);r("hgroup","","h1 h2 h3 h4 h5 h6");r("figure","",[n,"figcaption"].join(" "));r("time","datetime",o);r("dialog","open",n);r("command","type label icon disabled checked radiogroup command");r("output","for form name",o);r("progress","value max",o);r("meter","value min max low high optimum",o);r("details","open",[n,"summary"].join(" "));r("keygen","autofocus challenge disabled form keytype name")}if(e!=="html5-strict"){a("script","language xml:space");a("style","xml:space");a("object","declare classid code codebase codetype archive standby align border hspace vspace");a("embed","align name hspace vspace");a("param","valuetype type");a("a","charset name rev shape coords");a("br","clear");a("applet","codebase archive code object alt name width height align hspace vspace");a("img","name longdesc align border hspace vspace");a("iframe","longdesc frameborder marginwidth marginheight scrolling align");a("font basefont","size color face");a("input","usemap align");a("select");a("textarea");a("h1 h2 h3 h4 h5 h6 div p legend caption","align");a("ul","type compact");a("li","type");a("ol dl menu dir","compact");a("pre","width xml:space");a("hr","align noshade size width");a("isindex","prompt");a("table","summary width frame rules cellspacing cellpadding align bgcolor");a("col","width align char charoff valign");a("colgroup","width align char charoff valign");a("thead","align char charoff valign");a("tr","align char charoff valign bgcolor");a("th","axis align char charoff valign nowrap bgcolor width height");a("form","accept");a("td","abbr axis scope align char charoff valign nowrap bgcolor width height");a("tfoot","align char charoff valign");a("tbody","align char charoff valign");a("area","nohref");a("body","background bgcolor text link vlink alink")}if(e!=="html4"){a("input button select textarea","autofocus");a("input textarea","placeholder");a("a","download");a("link script img","crossorigin");a("img","loading");a("iframe","sandbox seamless allow allowfullscreen loading")}if(e!=="html4"){Q([s.video,s.audio],(e=>{delete e.children.audio;delete e.children.video}))}Q(mi("a form meter progress dfn"),(e=>{if(s[e]){delete s[e].children[e]}}));delete s.caption.children.table;delete s.script;return s};const bi=e=>e==="-"?"remove":"add";const vi=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return le(mi(e,","),(e=>{const o=t.exec(e);if(o){const e=o[1];const t=e?bi(e):"replace";const n=o[2];const s=mi(o[3],"|");return[{operation:t,name:n,validChildren:s}]}else{return[]}}))};const ki=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/;const n=/[*?+]/;const{attributes:s,attributesOrder:r}=t;return Q(mi(e,"|"),(e=>{const a=o.exec(e);if(a){const e={};const o=a[1];const c=a[2].replace(/[\\:]:/g,":");const i=a[3];const l=a[4];if(o==="!"){t.attributesRequired=t.attributesRequired||[];t.attributesRequired.push(c);e.required=true}if(o==="-"){delete s[c];r.splice(mo.inArray(r,c),1);return}if(i){if(i==="="){t.attributesDefault=t.attributesDefault||[];t.attributesDefault.push({name:c,value:l});e.defaultValue=l}else if(i==="~"){t.attributesForced=t.attributesForced||[];t.attributesForced.push({name:c,value:l});e.forcedValue=l}else if(i==="<"){e.validValues=mo.makeMap(l,"?")}}if(n.test(c)){const o=e;t.attributePatterns=t.attributePatterns||[];o.pattern=gi(c);t.attributePatterns.push(o)}else{if(!s[c]){r.push(c)}s[c]=e}}}))};const wi=(e,t)=>{xe(e.attributes,((e,o)=>{t.attributes[o]=e}));t.attributesOrder.push(...e.attributesOrder)};const _i=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return le(mi(t,","),(t=>{const n=o.exec(t);if(n){const t=n[1];const o=n[2];const s=n[3];const r=n[4];const a=n[5];const c={attributes:{},attributesOrder:[]};e.each((e=>wi(e,c)));if(t==="#"){c.paddEmpty=true}else if(t==="-"){c.removeEmpty=true}if(r==="!"){c.removeEmptyAttrs=true}if(a){ki(a,c)}if(s){c.outputName=o}if(o==="@"){if(e.isNone()){e=U.some(c)}else{return[]}}return[s?{name:o,element:c,aliasName:s}:{name:o,element:c}]}else{return[]}}))};const xi={};const Ci=mo.makeMap,Si=mo.each,zi=mo.extend,Ei=mo.explode;const Ti=(e,t={})=>{const o=Ci(e," ",Ci(e.toUpperCase()," "));return zi(o,t)};const Oi=e=>Ti("td th li dt dd figcaption caption details summary",e.getTextBlockElements());const Di=(e,t)=>{if(e){const o={};if(v(e)){e={"*":e}}Si(e,((e,n)=>{o[n]=o[n.toUpperCase()]=t==="map"?Ci(e,/[, ]/):Ei(e,/[, ]/)}));return o}else{return undefined}};const Ai=(e={})=>{var t;const o={};const n={};let s=[];const r={};const a={};const c=(t,o,n)=>{const s=e[t];if(!s){let e=xi[t];if(!e){e=Ti(o,n);xi[t]=e}return e}else{return Ci(s,/[, ]/,Ci(s.toUpperCase(),/[, ]/))}};const i=(t=e.schema)!==null&&t!==void 0?t:"html5";const l=yi(i);if(e.verify_html===false){e.valid_elements="*[*]"}const d=Di(e.valid_styles);const u=Di(e.invalid_styles,"map");const f=Di(e.valid_classes,"map");const m=c("whitespace_elements","pre script noscript style textarea video audio iframe object code");const g=c("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");const p=c("void_elements","area base basefont br col frame hr img input isindex link "+"meta param embed source wbr track");const h=c("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize "+"noshade nowrap readonly selected autoplay loop controls allowfullscreen");const y="td th iframe video audio object script code";const b=c("non_empty_elements",y+" pre",p);const v=c("move_caret_before_on_enter_elements",y+" table",p);const k=c("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form "+"blockquote center dir fieldset header footer article section hgroup aside main nav figure");const w=c("block_elements","hr table tbody thead tfoot "+"th tr td li ol ul caption dl dt dd noscript menu isindex option "+"datalist select optgroup figcaption details summary",k);const _=c("text_inline_elements","span strong b em i font s strike u var cite "+"dfn code mark q sup sub samp");const x=c("transparent_elements","a ins del canvas map");Si("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(e=>{a[e]=new RegExp("</"+e+"[^>]*>","gi")}));const C=e=>{const t=U.from(o["@"]);const n=/[*?+]/;Q(_i(t,e!==null&&e!==void 0?e:""),(({name:e,element:t,aliasName:r})=>{if(r){o[r]=t}if(n.test(e)){const o=t;o.pattern=gi(e);s.push(o)}else{o[e]=t}}))};const S=e=>{s=[];Q(we(o),(e=>{delete o[e]}));C(e)};const z=e=>{delete xi.text_block_elements;delete xi.block_elements;Q(pi(e!==null&&e!==void 0?e:""),(({inline:e,name:t,cloneName:s})=>{n[t]=n[s];r[t]=s;b[t.toUpperCase()]={};b[t]={};if(!e){w[t.toUpperCase()]={};w[t]={}}if(!o[t]){let e=o[s];e=zi({},e);delete e.removeEmptyAttrs;delete e.removeEmpty;o[t]=e}xe(n,((e,o)=>{if(e[s]){n[o]=e=zi({},n[o]);e[t]=e[s]}}))}))};const E=e=>{Q(vi(e!==null&&e!==void 0?e:""),(({operation:e,name:t,validChildren:o})=>{const s=e==="replace"?{"#comment":{}}:n[t];Q(o,(t=>{if(e==="remove"){delete s[t]}else{s[t]={}}}));n[t]=s}))};const T=e=>{const t=o[e];if(t){return t}let n=s.length;while(n--){const t=s[n];if(t.pattern.test(e)){return t}}return undefined};if(!e.valid_elements){Si(l,((e,t)=>{o[t]={attributes:e.attributes,attributesOrder:e.attributesOrder};n[t]=e.children}));Si(mi("strong/b em/i"),(e=>{const t=mi(e,"/");o[t[1]].outputName=t[0]}));Si(_,((t,n)=>{if(o[n]){if(e.padd_empty_block_inline_children){o[n].paddInEmptyBlock=true}o[n].removeEmpty=true}}));Si(mi("ol ul blockquote a table tbody"),(e=>{if(o[e]){o[e].removeEmpty=true}}));Si(mi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),(e=>{if(o[e]){o[e].paddEmpty=true}}));Si(mi("span"),(e=>{o[e].removeEmptyAttrs=true}))}else{S(e.valid_elements);Si(l,((e,t)=>{n[t]=e.children}))}z(e.custom_elements);E(e.valid_children);C(e.extended_valid_elements);E("+ol[ul|ol],+ul[ul|ol]");Si({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},((e,t)=>{if(o[t]){o[t].parentsRequired=mi(e)}}));if(e.invalid_elements){Si(Ei(e.invalid_elements),(e=>{if(o[e]){delete o[e]}}))}if(!T("span")){C("span[!data-mce-type|*]")}const O=R(d);const D=R(u);const A=R(f);const N=R(h);const M=R(w);const B=R(k);const L=R(_);const H=R(Object.seal(p));const I=R(g);const P=R(b);const F=R(v);const V=R(m);const j=R(x);const Z=R(Object.seal(a));const q=(e,t)=>{const o=n[e.toLowerCase()];return!!(o&&o[t.toLowerCase()])};const W=(e,t)=>{const o=T(e);if(o){if(t){if(o.attributes[t]){return true}const e=o.attributePatterns;if(e){let o=e.length;while(o--){if(e[o].pattern.test(t)){return true}}}}else{return true}}return false};const $=R(r);return{type:i,children:n,elements:o,getValidStyles:O,getValidClasses:A,getBlockElements:M,getInvalidStyles:D,getVoidElements:H,getTextBlockElements:B,getTextInlineElements:L,getBoolAttrs:N,getElementRule:T,getSelfClosingElements:I,getNonEmptyElements:P,getMoveCaretBeforeOnEnterElements:F,getWhitespaceElements:V,getTransparentElements:j,getSpecialElements:Z,isValidChild:q,isValid:W,getCustomElements:$,addValidElements:C,setValidElements:S,addCustomElements:z,addValidChildren:E}};const Ni=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi;const n=/\s*([^:]+):\s*([^;]+);?/g;const s=/\s+$/;const r={};let a;let c;const i=Hr;if(t){a=t.getValidStyles();c=t.getInvalidStyles()}const l=(`\\" \\' \\; \\: ; : `+i).split(" ");for(let e=0;e<l.length;e++){r[l[e]]=i+e;r[i+e]=l[e]}const d={parse:t=>{const a={};let c=false;const l=e.url_converter;const u=e.url_converter_scope||d;const f=(e,t,o)=>{const n=a[e+"-top"+t];if(!n){return}const s=a[e+"-right"+t];if(!s){return}const r=a[e+"-bottom"+t];if(!r){return}const c=a[e+"-left"+t];if(!c){return}const i=[n,s,r,c];let l=i.length-1;while(l--){if(i[l]!==i[l+1]){break}}if(l>-1&&o){return}a[e+t]=l===-1?i[0]:i.join(" ");delete a[e+"-top"+t];delete a[e+"-right"+t];delete a[e+"-bottom"+t];delete a[e+"-left"+t]};const m=e=>{const t=a[e];if(!t){return}const o=t.indexOf(",")>-1?[t]:t.split(" ");let n=o.length;while(n--){if(o[n]!==o[0]){return false}}a[e]=o[0];return true};const g=(e,t,o,n)=>{if(!m(t)){return}if(!m(o)){return}if(!m(n)){return}a[e]=a[t]+" "+a[o]+" "+a[n];delete a[t];delete a[o];delete a[n]};const p=e=>{c=true;return r[e]};const h=(e,t)=>{if(c){e=e.replace(/\uFEFF[0-9]/g,(e=>r[e]))}if(!t){e=e.replace(/\\([\'\";:])/g,"$1")}return e};const y=e=>String.fromCharCode(parseInt(e.slice(1),16));const b=e=>e.replace(/\\[0-9a-f]+/gi,y);const v=(t,o,n,s,r,a)=>{r=r||a;if(r){r=h(r);return`'`+r.replace(/\'/g,`\\'`)+`'`}o=h(o||n||s||"");if(!e.allow_script_urls){const t=o.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t)){return""}if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t)){return""}}if(l){o=l.call(u,o,"style")}return`url('`+o.replace(/\'/g,`\\'`)+`')`};if(t){t=t.replace(/[\u0000-\u001F]/g,"");t=t.replace(/\\[\"\';:\uFEFF]/g,p).replace(/\"[^\"]+\"|\'[^\']+\'/g,(e=>e.replace(/[;:]/g,p)));let r;while(r=n.exec(t)){n.lastIndex=r.index+r[0].length;let t=r[1].replace(s,"").toLowerCase();let l=r[2].replace(s,"");if(t&&l){t=b(t);l=b(l);if(t.indexOf(i)!==-1||t.indexOf('"')!==-1){continue}if(!e.allow_script_urls&&(t==="behavior"||/expression\s*\(|\/\*|\*\//.test(l))){continue}if(t==="font-weight"&&l==="700"){l="bold"}else if(t==="color"||t==="background-color"){l=l.toLowerCase()}l=l.replace(o,v);a[t]=c?h(l,true):l}}f("border","",true);f("border","-width");f("border","-color");f("border","-style");f("padding","");f("margin","");g("border","border-width","border-style","border-color");if(a.border==="medium none"){delete a.border}if(a["border-image"]==="none"){delete a["border-image"]}}return a},serialize:(e,t)=>{let o="";const n=(t,n)=>{const s=n[t];if(s){for(let t=0,n=s.length;t<n;t++){const n=s[t];const r=e[n];if(r){o+=(o.length>0?" ":"")+n+": "+r+";"}}}};const s=(e,t)=>{if(!c||!t){return true}let o=c["*"];if(o&&o[e]){return false}o=c[t];return!(o&&o[e])};if(t&&a){n("*",a);n(t,a)}else{xe(e,((e,n)=>{if(e&&s(n,t)){o+=(o.length>0?" ":"")+n+": "+e+";"}}))}return o}};return d};const Mi={keyLocation:true,layerX:true,layerY:true,returnValue:true,webkitMovementX:true,webkitMovementY:true,keyIdentifier:true,mozPressure:true};const Ri=e=>e instanceof Event||T(e.initEvent);const Bi=e=>e.isDefaultPrevented===Z||e.isDefaultPrevented===j;const Li=e=>z(e.preventDefault)||Ri(e);const Hi=(e,t)=>{const o=t!==null&&t!==void 0?t:{};for(const t in e){if(!Me(Mi,t)){o[t]=e[t]}}if(E(e.composedPath)){o.composedPath=()=>e.composedPath()}if(E(e.getModifierState)){o.getModifierState=t=>e.getModifierState(t)}return o};const Ii=(e,t,o,n)=>{var s;const r=Hi(t,n);r.type=e;if(z(r.target)){r.target=(s=r.srcElement)!==null&&s!==void 0?s:o}if(Li(t)){r.preventDefault=()=>{r.defaultPrevented=true;r.isDefaultPrevented=Z;if(T(t.preventDefault)){t.preventDefault()}};r.stopPropagation=()=>{r.cancelBubble=true;r.isPropagationStopped=Z;if(T(t.stopPropagation)){t.stopPropagation()}};r.stopImmediatePropagation=()=>{r.isImmediatePropagationStopped=Z;r.stopPropagation()};if(!Bi(r)){r.isDefaultPrevented=r.defaultPrevented===true?Z:j;r.isPropagationStopped=r.cancelBubble===true?Z:j;r.isImmediatePropagationStopped=j}}return r};const Pi="mce-data-";const Fi=/^(?:mouse|contextmenu)|click/;const Vi=(e,t,o,n)=>{e.addEventListener(t,o,n||false)};const ji=(e,t,o,n)=>{e.removeEventListener(t,o,n||false)};const Zi=e=>E(e)&&Fi.test(e.type);const Ui=(e,t)=>{const o=Ii(e.type,e,document,t);if(Zi(e)&&S(e.pageX)&&!S(e.clientX)){const t=o.target.ownerDocument||document;const n=t.documentElement;const s=t.body;const r=o;r.pageX=e.clientX+(n&&n.scrollLeft||s&&s.scrollLeft||0)-(n&&n.clientLeft||s&&s.clientLeft||0);r.pageY=e.clientY+(n&&n.scrollTop||s&&s.scrollTop||0)-(n&&n.clientTop||s&&s.clientTop||0)}return o};const qi=(e,t,o)=>{const n=e.document,s={type:"ready"};if(o.domLoaded){t(s);return}const r=()=>n.readyState==="complete"||n.readyState==="interactive"&&n.body;const a=()=>{ji(e,"DOMContentLoaded",a);ji(e,"load",a);if(!o.domLoaded){o.domLoaded=true;t(s)}e=null};if(r()){a()}else{Vi(e,"DOMContentLoaded",a)}if(!o.domLoaded){Vi(e,"load",a)}};class Wi{constructor(){this.domLoaded=false;this.events={};this.count=1;this.expando=Pi+(+new Date).toString(32);this.hasFocusIn="onfocusin"in document.documentElement;this.count=1}bind(e,t,o,n){const s=this;let r;const a=window;const c=e=>{s.executeHandlers(Ui(e||a.event),i)};if(!e||wr(e)||Cr(e)){return o}let i;if(!e[s.expando]){i=s.count++;e[s.expando]=i;s.events[i]={}}else{i=e[s.expando]}n=n||e;const l=t.split(" ");let d=l.length;while(d--){let t=l[d];let u=c;let f=false;let m=false;if(t==="DOMContentLoaded"){t="ready"}if(s.domLoaded&&t==="ready"&&e.readyState==="complete"){o.call(n,Ui({type:t}));continue}if(!s.hasFocusIn&&(t==="focusin"||t==="focusout")){f=true;m=t==="focusin"?"focus":"blur";u=e=>{const t=Ui(e||a.event);t.type=t.type==="focus"?"focusin":"focusout";s.executeHandlers(t,i)}}r=s.events[i][t];if(!r){s.events[i][t]=r=[{func:o,scope:n}];r.fakeName=m;r.capture=f;r.nativeHandler=u;if(t==="ready"){qi(e,u,s)}else{Vi(e,m||t,u,f)}}else{if(t==="ready"&&s.domLoaded){o(Ui({type:t}))}else{r.push({func:o,scope:n})}}}e=r=null;return o}unbind(e,t,o){if(!e||wr(e)||Cr(e)){return this}const n=e[this.expando];if(n){let s=this.events[n];if(t){const n=t.split(" ");let r=n.length;while(r--){const t=n[r];const a=s[t];if(a){if(o){let e=a.length;while(e--){if(a[e].func===o){const o=a.nativeHandler;const n=a.fakeName,r=a.capture;const c=a.slice(0,e).concat(a.slice(e+1));c.nativeHandler=o;c.fakeName=n;c.capture=r;s[t]=c}}}if(!o||a.length===0){delete s[t];ji(e,a.fakeName||t,a.nativeHandler,a.capture)}}}}else{xe(s,((t,o)=>{ji(e,t.fakeName||o,t.nativeHandler,t.capture)}));s={}}for(const e in s){if(Me(s,e)){return this}}delete this.events[n];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,o){return this.dispatch(e,t,o)}dispatch(e,t,o){if(!e||wr(e)||Cr(e)){return this}const n=Ui({type:t,target:e},o);do{const t=e[this.expando];if(t){this.executeHandlers(n,t)}e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!n.isPropagationStopped());return this}clean(e){if(!e||wr(e)||Cr(e)){return this}if(e[this.expando]){this.unbind(e)}if(!e.getElementsByTagName){e=e.document}if(e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName("*");let o=t.length;while(o--){e=t[o];if(e[this.expando]){this.unbind(e)}}}return this}destroy(){this.events={}}cancel(e){if(e){e.preventDefault();e.stopImmediatePropagation()}return false}executeHandlers(e,t){const o=this.events[t];const n=o&&o[e.type];if(n){for(let t=0,o=n.length;t<o;t++){const o=n[t];if(o&&o.func.call(o.scope,e)===false){e.preventDefault()}if(e.isImmediatePropagationStopped()){return}}}}}Wi.Event=new Wi;const $i=mo.each;const Gi=mo.grep;const Ki="data-mce-style";const Yi=mo.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," ");const Xi=(e,t,o)=>{if(z(o)||o===""){Ko(e,t)}else{Uo(e,t,o)}};const Ji=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()));const Qi=(e,t)=>{let o=0;if(e){for(let n=e.nodeType,s=e.previousSibling;s;s=s.previousSibling){const e=s.nodeType;if(t&&wr(s)){if(e===n||!s.data.length){continue}}o++;n=e}}return o};const el=(e,t)=>{const o=Wo(t,"style");const n=e.serialize(e.parse(o),Mo(t));Xi(t,Ki,n)};const tl=(e,t)=>{if(O(e)){return Me(Yi,t)?e+"":e+"px"}else{return e}};const ol=(e,t,o)=>{const n=Ji(t);if(z(o)||o===""){_s(e,n)}else{hs(e,n,tl(o,n))}};const nl=(e,t,o)=>{const n=t.keep_values;const s={set:(e,n,s)=>{const r=yn.fromDom(e);if(T(t.url_converter)&&E(n)){n=t.url_converter.call(t.url_converter_scope||o(),String(n),s,e)}const a="data-mce-"+s;Xi(r,a,n);Xi(r,s,n)},get:(e,t)=>{const o=yn.fromDom(e);return Wo(o,"data-mce-"+t)||Wo(o,t)}};const r={style:{set:(t,o)=>{const s=yn.fromDom(t);if(n){Xi(s,Ki,o)}Ko(s,"style");if(v(o)){ys(s,e.parse(o))}},get:t=>{const o=yn.fromDom(t);const n=Wo(o,Ki)||Wo(o,"style");return e.serialize(e.parse(n),Mo(o))}}};if(n){r.href=r.src=s}return r};const sl=(e,t={})=>{const o={};const n=window;const s={};let r=0;const a=true;const c=true;const i=Fc.forElement(yn.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy});const l=[];const d=t.schema?t.schema:Ai({});const u=Ni({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema);const f=t.ownEvents?new Wi:Wi.Event;const m=d.getBlockElements();const g=e=>{if(v(e)){return Me(m,e)}else{return dr(e)&&(Me(m,e.nodeName)||Dc(d,e))}};const p=t=>t&&e&&v(t)?e.getElementById(t):t;const h=e=>{const t=p(e);return E(t)?yn.fromDom(t):null};const y=(e,t,o="")=>{let n;const s=h(e);if(E(s)&&Io(s)){const e=Ve[t];if(e&&e.get){n=e.get(s.dom,t)}else{n=Wo(s,t)}}return E(n)?n:o};const b=e=>{const t=p(e);return z(t)?[]:t.attributes};const k=(e,o,n)=>{U(e,(e=>{if(dr(e)){const s=yn.fromDom(e);const r=n===""?null:n;const a=Wo(s,o);const c=Ve[o];if(c&&c.set){c.set(s.dom,r,o)}else{Xi(s,o,r)}if(a!==r&&t.onSetAttrib){t.onSetAttrib({attrElm:s.dom,attrName:o,attrValue:r})}}}))};const w=(e,t)=>e.cloneNode(t);const x=()=>t.root_element||e.body;const C=e=>{const t=or(e);return{x:t.x,y:t.y,w:t.width,h:t.height}};const S=(t,o)=>Hc(e.body,p(t),o);const O=(e,o,n)=>{U(e,(e=>{const s=yn.fromDom(e);ol(s,o,n);if(t.update_styles){el(u,s)}}))};const D=(e,o)=>{U(e,(e=>{const n=yn.fromDom(e);xe(o,((e,t)=>{ol(n,t,e)}));if(t.update_styles){el(u,n)}}))};const N=(e,t,o)=>{const n=p(e);if(z(n)||!dr(n)){return undefined}if(o){return bs(yn.fromDom(n),Ji(t))}else{t=t.replace(/-(\D)/g,((e,t)=>t.toUpperCase()));if(t==="float"){t="cssFloat"}return n.style?n.style[t]:undefined}};const M=e=>{const t=p(e);if(!t){return{w:0,h:0}}let o=N(t,"width");let n=N(t,"height");if(!o||o.indexOf("px")===-1){o="0"}if(!n||n.indexOf("px")===-1){n="0"}return{w:parseInt(o,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}};const B=e=>{const t=p(e);const o=S(t);const n=M(t);return{x:o.x,y:o.y,w:n.w,h:n.h}};const L=(e,t)=>{if(!e){return false}const o=_(e)?e:[e];return X(o,(e=>vn(yn.fromDom(e),t)))};const H=(e,t,o,n)=>{const s=[];let r=p(e);n=n===undefined;const a=o||(x().nodeName!=="BODY"?x().parentNode:null);if(v(t)){if(t==="*"){t=dr}else{const e=t;t=t=>L(t,e)}}while(r){if(r===a||z(r.nodeType)||Sr(r)||zr(r)){break}if(!t||t(r)){if(n){s.push(r)}else{return[r]}}r=r.parentNode}return n?s:null};const I=(e,t,o)=>{const n=H(e,t,o,false);return n&&n.length>0?n[0]:null};const P=(e,t,o)=>{let n=t;if(e){if(v(t)){n=e=>L(e,t)}for(let t=e[o];t;t=t[o]){if(T(n)&&n(t)){return t}}}return null};const F=(e,t)=>P(e,t,"nextSibling");const V=(e,t)=>P(e,t,"previousSibling");const j=e=>T(e.querySelectorAll);const Z=(o,n)=>{var s,r;const a=(r=(s=p(n))!==null&&s!==void 0?s:t.root_element)!==null&&r!==void 0?r:e;return j(a)?be(a.querySelectorAll(o)):[]};const U=function(e,t,o){const n=o!==null&&o!==void 0?o:this;if(_(e)){const o=[];$i(e,((e,s)=>{const r=p(e);if(r){o.push(t.call(n,r,s))}}));return o}else{const o=p(e);return!o?false:t.call(n,o)}};const q=(e,t)=>{U(e,(e=>{xe(t,((t,o)=>{k(e,o,t)}))}))};const W=(e,t)=>{U(e,(e=>{const o=yn.fromDom(e);Hs(o,t)}))};const $=(t,o,n,s,r)=>U(t,(t=>{const a=v(o)?e.createElement(o):o;if(E(n)){q(a,n)}if(s){if(!v(s)&&s.nodeType){a.appendChild(s)}else if(v(s)){W(a,s)}}return!r?t.appendChild(a):a}));const G=(t,o,n)=>$(e.createElement(t),t,o,n,true);const K=fi.decode;const Y=fi.encodeAllRaw;const J=(e,t,o="")=>{let n="<"+e;for(const e in t){if(Re(t,e)){n+=" "+e+'="'+Y(t[e])+'"'}}if(ht(o)&&Me(d.getVoidElements(),e)){return n+" />"}else{return n+">"+o+"</"+e+">"}};const ee=t=>{const o=e.createElement("div");const n=e.createDocumentFragment();n.appendChild(o);if(t){o.innerHTML=t}let s;while(s=o.firstChild){n.appendChild(s)}n.removeChild(o);return n};const te=(e,t)=>U(e,(e=>{const o=yn.fromDom(e);if(t){Q(Hn(o),(e=>{if(Po(e)&&e.dom.length===0){Ns(e)}else{Cs(o,e)}}))}Ns(o);return o.dom}));const oe=e=>U(e,(e=>{const t=e.attributes;for(let o=t.length-1;o>=0;o--){e.removeAttributeNode(t.item(o))}}));const ne=e=>u.parse(e);const se=(e,t)=>u.serialize(e,t);const re=t=>{if(Fe!==sl.DOM&&e===document){if(o[t]){return}o[t]=true}let n=e.getElementById("mceDefaultStyles");if(!n){n=e.createElement("style");n.id="mceDefaultStyles";n.type="text/css";const t=e.head;if(t.firstChild){t.insertBefore(n,t.firstChild)}else{t.appendChild(n)}}if(n.styleSheet){n.styleSheet.cssText+=t}else{n.appendChild(e.createTextNode(t))}};const ae=e=>{if(!e){e=""}Q(e.split(","),(e=>{s[e]=true;i.load(e).catch(A)}))};const ce=(e,t,o)=>{U(e,(e=>{if(dr(e)){const n=yn.fromDom(e);const s=t.split(" ");Q(s,(e=>{if(E(o)){const t=o?an:ln;t(n,e)}else{dn(n,e)}}))}}))};const ie=(e,t)=>{ce(e,t,true)};const le=(e,t)=>{ce(e,t,false)};const ue=(e,t)=>{const o=h(e);const n=t.split(" ");return E(o)&&de(n,(e=>un(o,e)))};const fe=e=>{U(e,(e=>_s(yn.fromDom(e),"display")))};const me=e=>{U(e,(e=>hs(yn.fromDom(e),"display","none")))};const ge=e=>{const t=h(e);return E(t)&&go(ks(t,"display"),"none")};const pe=e=>(!e?"mce_":e)+r++;const he=e=>{const t=h(e);if(E(t)){return dr(t.dom)?t.dom.outerHTML:Is(t)}else{return""}};const ye=(e,t)=>{U(e,(e=>{if(dr(e)){e.outerHTML=t}}))};const ve=(e,t)=>{const o=p(t);return U(e,(e=>{const t=o===null||o===void 0?void 0:o.parentNode;const n=o===null||o===void 0?void 0:o.nextSibling;if(t){if(n){t.insertBefore(e,n)}else{t.appendChild(e)}}return e}))};const ke=(e,t,o)=>U(t,(n=>{var s;const r=_(t)?e.cloneNode(true):e;if(o){$i(Gi(n.childNodes),(e=>{r.appendChild(e)}))}(s=n.parentNode)===null||s===void 0?void 0:s.replaceChild(r,n);return n}));const we=(e,t)=>{if(e.nodeName!==t.toUpperCase()){const o=G(t);$i(b(e),(t=>{k(o,t.nodeName,y(e,t.nodeName))}));ke(o,e,true);return o}else{return e}};const _e=(e,t)=>{let o=e;while(o){let e=t;while(e&&o!==e){e=e.parentNode}if(o===e){break}o=o.parentNode}if(!o&&e.ownerDocument){return e.ownerDocument.documentElement}else{return o}};const Ce=e=>{if(dr(e)){const t=e.nodeName.toLowerCase()==="a"&&!y(e,"href")&&y(e,"id");if(y(e,"name")||y(e,"data-mce-bookmark")||t){return true}}return false};const Se=(e,t,o)=>{let n=0;if(Ce(e)){return false}const s=e.firstChild;if(s){const r=new cr(s,e);const a=d?d.getWhitespaceElements():{};const c=t||(d?d.getNonEmptyElements():null);let i=s;do{if(dr(i)){const e=i.getAttribute("data-mce-bogus");if(e){i=r.next(e==="all");continue}const t=i.nodeName.toLowerCase();if(c&&c[t]){if(t==="br"){n++;i=r.next();continue}return false}if(Ce(i)){return false}}if(Cr(i)){return false}if(wr(i)&&!ec(i.data)&&(!(o===null||o===void 0?void 0:o.includeZwsp)||!tc(i.data))){return false}if(wr(i)&&i.parentNode&&a[i.parentNode.nodeName]&&ec(i.data)){return false}i=r.next()}while(i)}return n<=1};const ze=()=>e.createRange();const Ee=(e,t,o)=>{let n=ze();let s;let r;if(e&&t&&e.parentNode&&t.parentNode){const a=e.parentNode;n.setStart(a,Qi(e));n.setEnd(t.parentNode,Qi(t));s=n.extractContents();n=ze();n.setStart(t.parentNode,Qi(t)+1);n.setEnd(a,Qi(e)+1);r=n.extractContents();a.insertBefore(Gc(Fe,s),e);if(o){a.insertBefore(o,e)}else{a.insertBefore(t,e)}a.insertBefore(Gc(Fe,r),e);te(e);return o||t}else{return undefined}};const Te=(o,s,r,a)=>{if(_(o)){let e=o.length;const t=[];while(e--){t[e]=Te(o[e],s,r,a)}return t}else{if(t.collect&&(o===e||o===n)){l.push([o,s,r,a])}return f.bind(o,s,r,a||Fe)}};const Oe=(t,o,s)=>{if(_(t)){let e=t.length;const n=[];while(e--){n[e]=Oe(t[e],o,s)}return n}else{if(l.length>0&&(t===e||t===n)){let e=l.length;while(e--){const[n,r,a]=l[e];if(t===n&&(!o||o===r)&&(!s||s===a)){f.unbind(n,r,a)}}}return f.unbind(t,o,s)}};const De=(e,t,o)=>f.dispatch(e,t,o);const Ae=(e,t,o)=>f.dispatch(e,t,o);const Ne=e=>{if(e&&dr(e)){const t=e.getAttribute("data-mce-contenteditable");if(t&&t!=="inherit"){return t}return e.contentEditable!=="inherit"?e.contentEditable:null}else{return null}};const Be=e=>{const t=x();let o=null;for(let n=e;n&&n!==t;n=n.parentNode){o=Ne(n);if(o!==null){break}}return o};const Le=e=>{if(E(e)){const t=dr(e)?e:e.parentElement;return E(t)&&us(yn.fromDom(t))}else{return false}};const He=()=>{if(l.length>0){let e=l.length;while(e--){const[t,o,n]=l[e];f.unbind(t,o,n)}}xe(s,((e,t)=>{i.unload(t);delete s[t]}))};const Ie=(e,t)=>e===t||t.contains(e);const Pe=e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset;const Fe={doc:e,settings:t,win:n,files:s,stdMode:a,boxModel:c,styleSheetLoader:i,boundEvents:l,styles:u,schema:d,events:f,isBlock:g,root:null,clone:w,getRoot:x,getViewPort:C,getRect:B,getSize:M,getParent:I,getParents:H,get:p,getNext:F,getPrev:V,select:Z,is:L,add:$,create:G,createHTML:J,createFragment:ee,remove:te,setStyle:O,getStyle:N,setStyles:D,removeAllAttribs:oe,setAttrib:k,setAttribs:q,getAttrib:y,getPos:S,parseStyle:ne,serializeStyle:se,addStyle:re,loadCSS:ae,addClass:ie,removeClass:le,hasClass:ue,toggleClass:ce,show:fe,hide:me,isHidden:ge,uniqueId:pe,setHTML:W,getOuterHTML:he,setOuterHTML:ye,decode:K,encode:Y,insertAfter:ve,replace:ke,rename:we,findCommonAncestor:_e,run:U,getAttribs:b,isEmpty:Se,createRng:ze,nodeIndex:Qi,split:Ee,bind:Te,unbind:Oe,fire:Ae,dispatch:De,getContentEditable:Ne,getContentEditableParent:Be,isEditable:Le,destroy:He,isChildOf:Ie,dumpRng:Pe};const Ve=nl(u,t,R(Fe));return Fe};sl.DOM=sl(document);sl.nodeIndex=Qi;const rl=sl.DOM;const al=0;const cl=1;const il=2;const ll=3;class dl{constructor(e={}){this.states={};this.queue=[];this.scriptLoadedCallbacks={};this.queueLoadedCallbacks=[];this.loading=false;this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise(((t,o)=>{const n=rl;let s;const r=()=>{n.remove(i);if(s){s.onerror=s.onload=s=null}};const a=()=>{r();t()};const c=()=>{r();o("Failed to load script: "+e)};const i=n.uniqueId();s=document.createElement("script");s.id=i;s.type="text/javascript";s.src=mo._addCacheSuffix(e);if(this.settings.referrerPolicy){n.setAttrib(s,"referrerpolicy",this.settings.referrerPolicy)}s.onload=a;s.onerror=c;(document.getElementsByTagName("head")[0]||document.body).appendChild(s)}))}isDone(e){return this.states[e]===il}markDone(e){this.states[e]=il}add(e){const t=this;t.queue.push(e);const o=t.states[e];if(o===undefined){t.states[e]=al}return new Promise(((o,n)=>{if(!t.scriptLoadedCallbacks[e]){t.scriptLoadedCallbacks[e]=[]}t.scriptLoadedCallbacks[e].push({resolve:o,reject:n})}))}load(e){return this.add(e)}remove(e){delete this.states[e];delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;this.queue=[];return this.loadScripts(e)}loadScripts(e){const t=this;const o=(e,o)=>{Ne(t.scriptLoadedCallbacks,o).each((t=>{Q(t,(t=>t[e](o)))}));delete t.scriptLoadedCallbacks[o]};const n=e=>{const t=oe(e,(e=>e.status==="rejected"));if(t.length>0){return Promise.reject(le(t,(({reason:e})=>_(e)?e:[e])))}else{return Promise.resolve()}};const s=e=>Promise.allSettled(J(e,(e=>{if(t.states[e]===il){o("resolve",e);return Promise.resolve()}else if(t.states[e]===ll){o("reject",e);return Promise.reject(e)}else{t.states[e]=cl;return t.loadScript(e).then((()=>{t.states[e]=il;o("resolve",e);const r=t.queue;if(r.length>0){t.queue=[];return s(r).then(n)}else{return Promise.resolve()}}),(()=>{t.states[e]=ll;o("reject",e);return Promise.reject(e)}))}})));const r=e=>{t.loading=true;return s(e).then((e=>{t.loading=false;const o=t.queueLoadedCallbacks.shift();U.from(o).each(V);return n(e)}))};const a=Le(e);if(t.loading){return new Promise(((e,o)=>{t.queueLoadedCallbacks.push((()=>{r(a).then(e,o)}))}))}else{return r(a)}}}dl.ScriptLoader=new dl;const ul=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const fl=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o};const ml=e=>k(e)&&Me(e,"raw");const gl=e=>_(e)&&e.length>1;const pl={};const hl=ul("en");const yl=()=>Ne(pl,hl.get());const bl=()=>Ce(pl,(e=>({...e})));const vl=e=>{if(e){hl.set(e)}};const kl=()=>hl.get();const wl=(e,t)=>{let o=pl[e];if(!o){pl[e]=o={}}const n=J(we(t),(e=>e.toLowerCase()));xe(t,((e,s)=>{const r=s.toLowerCase();if(r!==s&&fl(n,r)){if(!Me(t,r)){o[r]=e}o[s]=e}else{o[r]=e}}))};const _l=e=>{const t=yl().getOr({});const o=e=>{if(T(e)){return Object.prototype.toString.call(e)}return!n(e)?""+e:""};const n=e=>e===""||e===null||e===undefined;const s=e=>{const n=o(e);return Me(t,n)?o(t[n]):Ne(t,n.toLowerCase()).map(o).getOr(n)};const r=e=>e.replace(/{context:\w+}$/,"");if(n(e)){return""}if(ml(e)){return o(e.raw)}if(gl(e)){const t=e.slice(1);const n=s(e[0]).replace(/\{([0-9]+)\}/g,((e,n)=>Me(t,n)?o(t[n]):e));return r(n)}return r(s(e))};const xl=()=>yl().bind((e=>Ne(e,"_dir"))).exists((e=>e==="rtl"));const Cl=e=>Me(pl,e);const Sl={getData:bl,setCode:vl,getCode:kl,add:wl,translate:_l,isRtl:xl,hasCode:Cl};const zl=()=>{const e=[];const t={};const o={};const n=[];const s=(e,t)=>{const o=oe(n,(o=>o.name===e&&o.state===t));Q(o,(e=>e.resolve()))};const r=e=>Me(t,e);const a=e=>Me(o,e);const c=e=>{if(o[e]){return o[e].instance}return undefined};const i=(e,o)=>{const n=Sl.getCode();const s=","+(o||"")+",";if(!n||o&&s.indexOf(","+n+",")===-1){return}dl.ScriptLoader.add(t[e]+"/langs/"+n+".js")};const l=(e,t)=>{if(zl.languageLoad!==false){if(r(e)){i(e,t)}else{g(e,"loaded").then((()=>i(e,t)))}}};const d=(t,n)=>{e.push(n);o[t]={instance:n};s(t,"added");return n};const u=e=>{delete t[e];delete o[e]};const f=(e,t)=>{if(v(t)){return v(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}}else{return t}};const m=(e,n)=>{if(t[e]){return Promise.resolve()}let r=v(n)?n:n.prefix+n.resource+n.suffix;if(r.indexOf("/")!==0&&r.indexOf("://")===-1){r=zl.baseURL+"/"+r}t[e]=r.substring(0,r.lastIndexOf("/"));const a=()=>{s(e,"loaded");return Promise.resolve()};if(o[e]){return a()}else{return dl.ScriptLoader.add(r).then(a)}};const g=(e,t="added")=>{if(t==="added"&&a(e)){return Promise.resolve()}else if(t==="loaded"&&r(e)){return Promise.resolve()}else{return new Promise((o=>{n.push({name:e,state:t,resolve:o})}))}};return{items:e,urls:t,lookup:o,get:c,requireLangPack:l,add:d,remove:u,createUrl:f,load:m,waitFor:g}};zl.languageLoad=true;zl.baseURL="";zl.PluginManager=zl();zl.ThemeManager=zl();zl.ModelManager=zl();const El=e=>{const t=ul(U.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(U.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(U.some(e))};return{clear:n,isSet:s,get:r,set:a}};const Tl=e=>{const t=ul(U.none());const o=()=>t.get().each((e=>clearInterval(e)));const n=()=>{o();t.set(U.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=n=>{o();t.set(U.some(setInterval(n,e)))};return{clear:n,isSet:s,get:r,set:a}};const Ol=()=>{const e=El(A);const t=t=>e.get().each(t);return{...e,on:t}};const Dl=(e,t)=>{let o=null;const n=()=>{if(!x(o)){clearTimeout(o);o=null}};const s=(...n)=>{if(x(o)){o=setTimeout((()=>{o=null;e.apply(null,n)}),t)}};return{cancel:n,throttle:s}};const Al=(e,t)=>{let o=null;const n=()=>{if(!x(o)){clearTimeout(o);o=null}};const s=(...s)=>{n();o=setTimeout((()=>{o=null;e.apply(null,s)}),t)};return{cancel:n,throttle:s}};const Nl=R("mce-annotation");const Ml=R("data-mce-annotation");const Rl=R("data-mce-annotation-uid");const Bl=R("data-mce-annotation-active");const Ll=R("data-mce-annotation-classes");const Hl=R("data-mce-annotation-attrs");const Il=e=>t=>xn(t,e);const Pl=(e,t)=>{const o=e.selection.getRng();const n=yn.fromDom(o.startContainer);const s=yn.fromDom(e.getBody());const r=t.fold((()=>"."+Nl()),(e=>`[${Ml()}="${e}"]`));const a=In(n,o.startOffset).getOr(n);const c=ls(a,r,Il(s));return c.bind((t=>$o(t,`${Rl()}`).bind((o=>$o(t,`${Ml()}`).map((t=>{const n=jl(e,o);return{uid:o,name:t,elements:n}}))))))};const Fl=e=>Io(e)&&un(e,Nl());const Vl=(e,t)=>Go(e,"data-mce-bogus")||ar(e,'[data-mce-bogus="all"]',Il(t));const jl=(e,t)=>{const o=yn.fromDom(e.getBody());const n=rr(o,`[${Rl()}="${t}"]`);return oe(n,(e=>!Vl(e,o)))};const Zl=(e,t)=>{const o=yn.fromDom(e.getBody());const n=rr(o,`[${Ml()}="${t}"]`);const s={};Q(n,(e=>{if(!Vl(e,o)){const t=Wo(e,Rl());const o=Ne(s,t).getOr([]);s[t]=o.concat([e])}}));return s};const Ul=(e,t)=>{const o=ul({});const n=()=>({listeners:[],previous:Ol()});const s=(e,t)=>{r(e,(e=>{t(e);return e}))};const r=(e,t)=>{const s=o.get();const r=Ne(s,e).getOrThunk(n);const a=t(r);s[e]=a;o.set(s)};const a=(e,t,o)=>{s(e,(n=>{Q(n.listeners,(n=>n(true,e,{uid:t,nodes:J(o,(e=>e.dom))})))}))};const c=e=>{s(e,(t=>{Q(t.listeners,(t=>t(false,e)))}))};const i=(t,o)=>{Q(jl(e,t),(e=>{if(o){Uo(e,Bl(),"true")}else{Ko(e,Bl())}}))};const l=Al((()=>{const o=ge(t.getNames());Q(o,(t=>{r(t,(o=>{const n=o.previous.get();Pl(e,U.some(t)).fold((()=>{n.each((e=>{c(t);o.previous.clear();i(e,false)}))}),(({uid:e,name:t,elements:s})=>{if(!go(n,e)){n.each((e=>i(e,false)));a(t,e,s);o.previous.set(e);i(e,true)}}));return{previous:o.previous,listeners:o.listeners}}))}))}),30);e.on("remove",(()=>{l.cancel()}));e.on("NodeChange",(()=>{l.throttle()}));const d=(e,t)=>{r(e,(e=>({previous:e.previous,listeners:e.listeners.concat([t])})))};return{addListener:d}};const ql=(e,t)=>{const o=Ml();const n=e=>U.from(e.attr(o)).bind(t.lookup);const s=e=>{var t,o;e.attr(Rl(),null);e.attr(Ml(),null);e.attr(Bl(),null);const n=U.from(e.attr(Hl())).map((e=>e.split(","))).getOr([]);const s=U.from(e.attr(Ll())).map((e=>e.split(","))).getOr([]);Q(n,(t=>e.attr(t,null)));const r=(o=(t=e.attr("class"))===null||t===void 0?void 0:t.split(" "))!==null&&o!==void 0?o:[];const a=fe(r,[Nl()].concat(s));e.attr("class",a.length>0?a.join(" "):null);e.attr(Ll(),null);e.attr(Hl(),null)};e.serializer.addTempAttr(Bl());e.serializer.addAttributeFilter(o,(e=>{for(const t of e){n(t).each((e=>{if(e.persistent===false){if(t.name==="span"){t.unwrap()}else{s(t)}}}))}}))};const Wl=()=>{const e={};const t=(t,o)=>{e[t]={name:t,settings:o}};const o=t=>Ne(e,t).map((e=>e.settings));const n=()=>we(e);return{register:t,lookup:o,getNames:n}};let $l=0;const Gl=e=>{const t=new Date;const o=t.getTime();const n=Math.floor(Math.random()*1e9);$l++;return e+"_"+n+$l+String(o)};const Kl=(e,t)=>{Q(t,(t=>{an(e,t)}))};const Yl=(e,t)=>{Q(t,(t=>{ln(e,t)}))};const Xl=(e,t)=>yn.fromDom(e.dom.cloneNode(t));const Jl=e=>Xl(e,false);const Ql=e=>Xl(e,true);const ed=(e,t)=>{const o=yn.fromTag(t);const n=Xo(e);qo(o,n);return o};const td=(e,t)=>{const o=ed(e,t);Ss(e,o);const n=Hn(e);Ds(o,n);Ns(e);return o};const od=(e,t,o=j)=>{const n=new cr(e,t);const s=e=>{let t;do{t=n[e]()}while(t&&!wr(t)&&!o(t));return U.from(t).filter(wr)};return{current:()=>U.from(n.current()).filter(wr),next:()=>s("next"),prev:()=>s("prev"),prev2:()=>s("prev2")}};const nd=(e,t)=>{const o=t?t:t=>e.isBlock(t)||Er(t)||Dr(t);const n=(e,t,o,s)=>{if(wr(e)){const o=s(e,t,e.data);if(o!==-1){return U.some({container:e,offset:o})}}return o().bind((e=>n(e.container,e.offset,o,s)))};const s=(t,s,r,a)=>{const c=od(t,a!==null&&a!==void 0?a:e.getRoot(),o);return n(t,s,(()=>c.prev().map((e=>({container:e,offset:e.length})))),r).getOrNull()};const r=(t,s,r,a)=>{const c=od(t,a!==null&&a!==void 0?a:e.getRoot(),o);return n(t,s,(()=>c.next().map((e=>({container:e,offset:0})))),r).getOrNull()};return{backwards:s,forwards:r}};const sd=Math.round;const rd=e=>{if(!e){return{left:0,top:0,bottom:0,right:0,width:0,height:0}}return{left:sd(e.left),top:sd(e.top),bottom:sd(e.bottom),right:sd(e.right),width:sd(e.width),height:sd(e.height)}};const ad=(e,t)=>{e=rd(e);if(t){e.right=e.left}else{e.left=e.left+e.width;e.right=e.left}e.width=0;return e};const cd=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right;const id=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2;const ld=(e,t)=>{const o=Math.min(t.height/2,e.height/2);if(e.bottom-o<t.top){return true}if(e.top>t.bottom){return false}return id(t.top-e.bottom,e,t)};const dd=(e,t)=>{if(e.top>t.bottom){return true}if(e.bottom<t.top){return false}return id(t.bottom-e.top,e,t)};const ud=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom;const fd=e=>se(e,((e,t)=>e.fold((()=>U.some(t)),(e=>{const o=Math.min(t.left,e.left);const n=Math.min(t.top,e.top);const s=Math.max(t.right,e.right);const r=Math.max(t.bottom,e.bottom);return U.some({top:n,right:s,bottom:r,left:o,width:s-o,height:r-n})}))),U.none());const md=(e,t,o)=>{const n=Math.max(Math.min(t,e.left+e.width),e.left);const s=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-n)*(t-n)+(o-s)*(o-s))};const gd=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));const pd=(e,t,o)=>Math.min(Math.max(e,t),o);const hd=e=>{const t=e.startContainer,o=e.startOffset;if(t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1){return t.childNodes[o]}return null};const yd=(e,t)=>{if(dr(e)&&e.hasChildNodes()){const o=e.childNodes;const n=pd(t,0,o.length-1);return o[n]}else{return e}};const bd=(e,t)=>{if(t<0&&dr(e)&&e.hasChildNodes()){return undefined}else{return yd(e,t)}};const vd=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ؚ"+"ً-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް"+"߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़"+"ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣ"+"ਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼"+"ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗ"+"ୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖ"+"ౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ"+"്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູ"+"ົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗ"+"ྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴ"+"ႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵"+"ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘ"+"ᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴"+"ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩ"+"ᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹"+"᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⳱"+"⵿ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱"+"ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼ"+"ꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁"+"ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]");const kd=e=>v(e)&&e.charCodeAt(0)>=768&&vd.test(e);const wd=(...e)=>t=>{for(let o=0;o<e.length;o++){if(e[o](t)){return true}}return false};const _d=(...e)=>t=>{for(let o=0;o<e.length;o++){if(!e[o](t)){return false}}return true};const xd=dr;const Cd=Wa;const Sd=mr("display","block table");const zd=mr("float","left right");const Ed=_d(xd,Cd,I(zd));const Td=I(mr("white-space","pre pre-line pre-wrap"));const Od=wr;const Dd=Er;const Ad=sl.nodeIndex;const Nd=bd;const Md=e=>e?e.createRange():sl.DOM.createRng();const Rd=e=>v(e)&&/[\r\n\t ]/.test(e);const Bd=e=>!!e.setStart&&!!e.setEnd;const Ld=e=>{const t=e.startContainer;const o=e.startOffset;if(Rd(e.toString())&&Td(t.parentNode)&&wr(t)){const e=t.data;if(Rd(e[o-1])||Rd(e[o+1])){return true}}return false};const Hd=e=>{const t=e.ownerDocument;const o=Md(t);const n=t.createTextNode(Ir);const s=e.parentNode;s.insertBefore(n,e);o.setStart(n,0);o.setEnd(n,1);const r=rd(o.getBoundingClientRect());s.removeChild(n);return r};const Id=e=>{const t=e.startContainer;const o=e.endContainer;const n=e.startOffset;const s=e.endOffset;if(t===o&&wr(o)&&n===0&&s===1){const t=e.cloneRange();t.setEndAfter(o);return Fd(t)}else{return null}};const Pd=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0;const Fd=e=>{var t;let o;const n=e.getClientRects();if(n.length>0){o=rd(n[0])}else{o=rd(e.getBoundingClientRect())}if(!Bd(e)&&Dd(e)&&Pd(o)){return Hd(e)}if(Pd(o)&&Bd(e)){return(t=Id(e))!==null&&t!==void 0?t:o}return o};const Vd=(e,t)=>{const o=ad(e,t);o.width=1;o.right=o.left+1;return o};const jd=e=>{const t=[];const o=e=>{if(e.height===0){return}if(t.length>0){if(cd(e,t[t.length-1])){return}}t.push(e)};const n=(e,t)=>{const n=Md(e.ownerDocument);if(t<e.data.length){if(kd(e.data[t])){return}if(kd(e.data[t-1])){n.setStart(e,t);n.setEnd(e,t+1);if(!Ld(n)){o(Vd(Fd(n),false));return}}}if(t>0){n.setStart(e,t-1);n.setEnd(e,t);if(!Ld(n)){o(Vd(Fd(n),false))}}if(t<e.data.length){n.setStart(e,t);n.setEnd(e,t+1);if(!Ld(n)){o(Vd(Fd(n),true))}}};const s=e.container();const r=e.offset();if(Od(s)){n(s,r);return t}if(xd(s)){if(e.isAtEnd()){const e=Nd(s,r);if(Od(e)){n(e,e.data.length)}if(Ed(e)&&!Dd(e)){o(Vd(Fd(e),false))}}else{const a=Nd(s,r);if(Od(a)){n(a,0)}if(Ed(a)&&e.isAtEnd()){o(Vd(Fd(a),false));return t}const c=Nd(e.container(),e.offset()-1);if(Ed(c)&&!Dd(c)){if(Sd(c)||Sd(a)||!Ed(a)){o(Vd(Fd(c),false))}}if(Ed(a)){o(Vd(Fd(a),true))}}}return t};const Zd=(e,t,o)=>{const n=()=>{if(Od(e)){return t===0}return t===0};const s=()=>{if(Od(e)){return t>=e.data.length}return t>=e.childNodes.length};const r=()=>{const o=Md(e.ownerDocument);o.setStart(e,t);o.setEnd(e,t);return o};const a=()=>{if(!o){o=jd(Zd(e,t))}return o};const c=()=>a().length>0;const i=o=>o&&e===o.container()&&t===o.offset();const l=o=>Nd(e,o?t-1:t);return{container:R(e),offset:R(t),toRange:r,getClientRects:a,isVisible:c,isAtStart:n,isAtEnd:s,isEqual:i,getNode:l}};Zd.fromRangeStart=e=>Zd(e.startContainer,e.startOffset);Zd.fromRangeEnd=e=>Zd(e.endContainer,e.endOffset);Zd.after=e=>Zd(e.parentNode,Ad(e)+1);Zd.before=e=>Zd(e.parentNode,Ad(e));Zd.isAbove=(e,t)=>yo(he(t.getClientRects()),ye(e.getClientRects()),ld).getOr(false);Zd.isBelow=(e,t)=>yo(ye(t.getClientRects()),he(e.getClientRects()),dd).getOr(false);Zd.isAtStart=e=>e?e.isAtStart():false;Zd.isAtEnd=e=>e?e.isAtEnd():false;Zd.isTextPosition=e=>e?wr(e.container()):false;Zd.isElementPosition=e=>!Zd.isTextPosition(e);const Ud=(e,t)=>{if(wr(t)&&t.data.length===0){e.remove(t)}};const qd=(e,t,o)=>{t.insertNode(o);Ud(e,o.previousSibling);Ud(e,o.nextSibling)};const Wd=(e,t,o)=>{const n=U.from(o.firstChild);const s=U.from(o.lastChild);t.insertNode(o);n.each((t=>Ud(e,t.previousSibling)));s.each((t=>Ud(e,t.nextSibling)))};const $d=(e,t,o)=>{if(zr(o)){Wd(e,t,o)}else{qd(e,t,o)}};const Gd=wr;const Kd=hr;const Yd=sl.nodeIndex;const Xd=e=>{const t=e.parentNode;if(Kd(t)){return Xd(t)}return t};const Jd=e=>{if(!e){return[]}return Ue(e.childNodes,((e,t)=>{if(Kd(t)&&t.nodeName!=="BR"){e=e.concat(Jd(t))}else{e.push(t)}return e}),[])};const Qd=(e,t)=>{let o=e;while(o=o.previousSibling){if(!Gd(o)){break}t+=o.data.length}return t};const eu=e=>t=>e===t;const tu=e=>{let t,o;t=Jd(Xd(e));o=qe(t,eu(e),e);t=t.slice(0,o+1);const n=Ue(t,((e,o,n)=>{if(Gd(o)&&Gd(t[n-1])){e++}return e}),0);t=je(t,fr([e.nodeName]));o=qe(t,eu(e),e);return o-n};const ou=e=>{const t=Gd(e)?"text()":e.nodeName.toLowerCase();return t+"["+tu(e)+"]"};const nu=(e,t,o)=>{const n=[];for(let s=t.parentNode;s&&s!==e;s=s.parentNode){if(o&&o(s)){break}n.push(s)}return n};const su=(e,t)=>{let o=[];let n=t.container();let s=t.offset();let r;if(Gd(n)){r=Qd(n,s)}else{const e=n.childNodes;if(s>=e.length){r="after";s=e.length-1}else{r="before"}n=e[s]}o.push(ou(n));let a=nu(e,n);a=je(a,I(hr));o=o.concat(Ve(a,(e=>ou(e))));return o.reverse().join("/")+","+r};const ru=(e,t,o)=>{let n=Jd(e);n=je(n,((e,t)=>!Gd(e)||!Gd(n[t-1])));n=je(n,fr([t]));return n[o]};const au=(e,t)=>{let o=e;let n=0;while(Gd(o)){const s=o.data.length;if(t>=n&&t<=n+s){e=o;t=t-n;break}if(!Gd(o.nextSibling)){e=o;t=s;break}n+=s;o=o.nextSibling}if(Gd(e)&&t>e.data.length){t=e.data.length}return Zd(e,t)};const cu=(e,t)=>{if(!t){return null}const o=t.split(",");const n=o[0].split("/");const s=o.length>1?o[1]:"before";const r=Ue(n,((e,t)=>{const o=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);if(!o){return null}if(o[1]==="text()"){o[1]="#text"}return ru(e,o[1],parseInt(o[2],10))}),e);if(!r){return null}if(!Gd(r)&&r.parentNode){let e;if(s==="after"){e=Yd(r)+1}else{e=Yd(r)}return Zd(r.parentNode,e)}return au(r,parseInt(s,10))};const iu=Dr;const lu=(e,t,o)=>{let n=e(t.data.slice(0,o)).length;for(let o=t.previousSibling;o&&wr(o);o=o.previousSibling){n+=e(o.data).length}return n};const du=(e,t,o,n,s)=>{const r=s?n.startContainer:n.endContainer;let a=s?n.startOffset:n.endOffset;const c=[];const i=e.getRoot();if(wr(r)){c.push(o?lu(t,r,a):a)}else{let t=0;const n=r.childNodes;if(a>=n.length&&n.length){t=1;a=Math.max(0,n.length-1)}c.push(e.nodeIndex(n[a],o)+t)}for(let t=r;t&&t!==i;t=t.parentNode){c.push(e.nodeIndex(t,o))}return c};const uu=(e,t,o,n)=>{const s=t.dom;const r=du(s,e,o,n,true);const a=t.isForward();const c=Ha(n)?{isFakeCaret:true}:{};if(!t.isCollapsed()){const t=du(s,e,o,n,false);return{start:r,end:t,forward:a,...c}}else{return{start:r,forward:a,...c}}};const fu=(e,t,o)=>{let n=0;mo.each(e.select(t),(e=>{if(e.getAttribute("data-mce-bogus")==="all"){return}else if(e===o){return false}else{n++;return}}));return n};const mu=(e,t)=>{let o=t?e.startContainer:e.endContainer;let n=t?e.startOffset:e.endOffset;if(dr(o)&&o.nodeName==="TR"){const s=o.childNodes;o=s[Math.min(t?n:n-1,s.length-1)];if(o){n=t?0:o.childNodes.length;if(t){e.setStart(o,n)}else{e.setEnd(o,n)}}}};const gu=e=>{mu(e,true);mu(e,false);return e};const pu=(e,t)=>{if(dr(e)){e=yd(e,t);if(iu(e)){return e}}if(Ea(e)){if(wr(e)&&Sa(e)){e=e.parentNode}let t=e.previousSibling;if(iu(t)){return t}t=e.nextSibling;if(iu(t)){return t}}return undefined};const hu=e=>pu(e.startContainer,e.startOffset)||pu(e.endContainer,e.endOffset);const yu=(e,t,o)=>{const n=o.getNode();const s=o.getRng();if(n.nodeName==="IMG"||iu(n)){const e=n.nodeName;return{name:e,index:fu(o.dom,e,n)}}const r=hu(s);if(r){const e=r.tagName;return{name:e,index:fu(o.dom,e,r)}}return uu(e,o,t,s)};const bu=e=>{const t=e.getRng();return{start:su(e.dom.getRoot(),Zd.fromRangeStart(t)),end:su(e.dom.getRoot(),Zd.fromRangeEnd(t)),forward:e.isForward()}};const vu=e=>({rng:e.getRng(),forward:e.isForward()});const ku=(e,t,o)=>{const n={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",n,"&#xFEFF;"):e.create("span",n)};const wu=(e,t)=>{const o=e.dom;let n=e.getRng();const s=o.uniqueId();const r=e.isCollapsed();const a=e.getNode();const c=a.nodeName;const i=e.isForward();if(c==="IMG"){return{name:c,index:fu(o,c,a)}}const l=gu(n.cloneRange());if(!r){l.collapse(false);const e=ku(o,s+"_end",t);$d(o,l,e)}n=gu(n);n.collapse(true);const d=ku(o,s+"_start",t);$d(o,n,d);e.moveToBookmark({id:s,keep:true,forward:i});return{id:s,forward:i}};const _u=(e,t,o=false)=>{if(t===2){return yu(wa,o,e)}else if(t===3){return bu(e)}else if(t){return vu(e)}else{return wu(e,false)}};const xu=H(yu,B,true);const Cu=e=>{const t=t=>t(e);const o=R(e);const n=()=>s;const s={tag:true,inner:e,fold:(t,o)=>o(e),isValue:Z,isError:j,map:t=>Eu.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:t=>{t(e)},toOptional:()=>U.some(e)};return s};const Su=e=>{const t=()=>o;const o={tag:false,inner:e,fold:(t,o)=>t(e),isValue:j,isError:Z,map:t,mapError:t=>Eu.error(t(e)),bind:t,exists:j,forall:Z,getOr:B,or:B,getOrThunk:F,orThunk:F,getOrDie:P(String(e)),each:A,toOptional:U.none};return o};const zu=(e,t)=>e.fold((()=>Su(t)),Cu);const Eu={value:Cu,error:Su,fromOption:zu};const Tu=e=>{if(!_(e)){throw new Error("cases must be an array")}if(e.length===0){throw new Error("there must be at least one case")}const t=[];const o={};Q(e,((n,s)=>{const r=we(n);if(r.length!==1){throw new Error("one and only one name per case")}const a=r[0];const c=n[a];if(o[a]!==undefined){throw new Error("duplicate key detected:"+a)}else if(a==="cata"){throw new Error("cannot have a case named cata (sorry)")}else if(!_(c)){throw new Error("case arguments must be an array")}t.push(a);o[a]=(...o)=>{const n=o.length;if(n!==c.length){throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+n)}const r=e=>{const n=we(e);if(t.length!==n.length){throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","))}const s=de(t,(e=>Y(n,e)));if(!s){throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "))}return e[a].apply(null,o)};return{fold:(...t)=>{if(t.length!==e.length){throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)}const n=t[s];return n.apply(null,o)},match:r,log:e=>{console.log(e,{constructors:t,constructor:a,params:o})}}}}));return o};const Ou={generate:Tu};Ou.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Du=e=>{const t=[];const o=[];Q(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{o.push(e)}))}));return{errors:t,values:o}};const Au=e=>e.type==="inline-command"||e.type==="inline-format";const Nu=e=>e.type==="block-command"||e.type==="block-format";const Mu=e=>{const t=t=>Eu.error({message:t,pattern:e});const o=(o,n,s)=>{if(e.format!==undefined){let s;if(_(e.format)){if(!de(e.format,v)){return t(o+" pattern has non-string items in the `format` array")}s=e.format}else if(v(e.format)){s=[e.format]}else{return t(o+" pattern has non-string `format` parameter")}return Eu.value(n(s))}else if(e.cmd!==undefined){if(!v(e.cmd)){return t(o+" pattern has non-string `cmd` parameter")}return Eu.value(s(e.cmd,e.value))}else{return t(o+" pattern is missing both `format` and `cmd` parameters")}};if(!k(e)){return t("Raw pattern is not an object")}if(!v(e.start)){return t("Raw pattern is missing `start` parameter")}if(e.end!==undefined){if(!v(e.end)){return t("Inline pattern has non-string `end` parameter")}if(e.start.length===0&&e.end.length===0){return t("Inline pattern has empty `start` and `end` parameters")}let n=e.start;let s=e.end;if(s.length===0){s=n;n=""}return o("Inline",(e=>({type:"inline-format",start:n,end:s,format:e})),((e,t)=>({type:"inline-command",start:n,end:s,cmd:e,value:t})))}else if(e.replacement!==undefined){if(!v(e.replacement)){return t("Replacement pattern has non-string `replacement` parameter")}if(e.start.length===0){return t("Replacement pattern has empty `start` parameter")}return Eu.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement})}else{if(e.start.length===0){return t("Block pattern has empty `start` parameter")}return o("Block",(t=>({type:"block-format",start:e.start,format:t[0]})),((t,o)=>({type:"block-command",start:e.start,cmd:t,value:o})))}};const Ru=e=>oe(e,Nu);const Bu=e=>oe(e,Au);const Lu=(e,t)=>({inlinePatterns:Bu(e),blockPatterns:Ru(e),dynamicPatternsLookup:t});const Hu=e=>{const t=Du(J(e,Mu));Q(t.errors,(e=>console.error(e.message,e.pattern)));return t.values};const Iu=e=>t=>{const o=e(t);return Hu(o)};const Pu=Gt().deviceType;const Fu=Pu.isTouch();const Vu=sl.DOM;const ju=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return se(t,((e,t)=>{const o=t.split("=");const n=o[0];const s=o.length>1?o[1]:n;e[ft(n)]=ft(s);return e}),{})};const Zu=e=>b(e,RegExp);const Uu=e=>t=>t.options.get(e);const qu=e=>v(e)||k(e);const Wu=(e,t="")=>o=>{const n=v(o);if(n){if(o.indexOf("=")!==-1){const s=ju(o);return{value:Ne(s,e.id).getOr(t),valid:n}}else{return{value:o,valid:n}}}else{return{valid:false,message:"Must be a string."}}};const $u=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id});t("selector",{processor:"string"});t("target",{processor:"object"});t("suffix",{processor:"string"});t("cache_suffix",{processor:"string"});t("base_url",{processor:"string"});t("referrer_policy",{processor:"string",default:""});t("language_load",{processor:"boolean",default:true});t("inline",{processor:"boolean",default:false});t("iframe_attrs",{processor:"object",default:{}});t("doctype",{processor:"string",default:"<!DOCTYPE html>"});t("document_base_url",{processor:"string",default:e.documentBaseUrl});t("body_id",{processor:Wu(e,"tinymce"),default:"tinymce"});t("body_class",{processor:Wu(e),default:""});t("content_security_policy",{processor:"string",default:""});t("br_in_pre",{processor:"boolean",default:true});t("forced_root_block",{processor:e=>{const t=v(e)&&pt(e);if(t){return{value:e,valid:t}}else{return{valid:false,message:"Must be a non-empty string."}}},default:"p"});t("forced_root_block_attrs",{processor:"object",default:{}});t("newline_behavior",{processor:e=>{const t=Y(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:false,message:"Must be one of: block, linebreak, invert or default."}},default:"default"});t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"});t("no_newline_selector",{processor:"string",default:""});t("keep_styles",{processor:"boolean",default:true});t("end_container_on_empty_block",{processor:e=>{if(C(e)){return{valid:true,value:e}}else if(v(e)){return{valid:true,value:e}}else{return{valid:false,message:"Must be boolean or a string"}}},default:"blockquote"});t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"});t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"});t("font_size_classes",{processor:"string",default:""});t("automatic_uploads",{processor:"boolean",default:true});t("images_reuse_filename",{processor:"boolean",default:false});t("images_replace_blob_uris",{processor:"boolean",default:true});t("icons",{processor:"string",default:""});t("icons_url",{processor:"string",default:""});t("images_upload_url",{processor:"string",default:""});t("images_upload_base_path",{processor:"string",default:""});t("images_upload_credentials",{processor:"boolean",default:false});t("images_upload_handler",{processor:"function"});t("language",{processor:"string",default:"en"});t("language_url",{processor:"string",default:""});t("entity_encoding",{processor:"string",default:"named"});t("indent",{processor:"boolean",default:true});t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,"+"tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"});t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,"+"tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"});t("indent_use_margin",{processor:"boolean",default:false});t("indentation",{processor:"string",default:"40px"});t("content_css",{processor:e=>{const t=e===false||v(e)||D(e,v);if(t){if(v(e)){return{value:J(e.split(","),ft),valid:t}}else if(_(e)){return{value:e,valid:t}}else if(e===false){return{value:[],valid:t}}else{return{value:e,valid:t}}}else{return{valid:false,message:"Must be false, a string or an array of strings."}}},default:Uf(e)?[]:["default"]});t("content_style",{processor:"string"});t("content_css_cors",{processor:"boolean",default:false});t("font_css",{processor:e=>{const t=v(e)||D(e,v);if(t){const o=_(e)?e:J(e.split(","),ft);return{value:o,valid:t}}else{return{valid:false,message:"Must be a string or an array of strings."}}},default:[]});t("inline_boundaries",{processor:"boolean",default:true});t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"});t("object_resizing",{processor:e=>{const t=C(e)||v(e);if(t){if(e===false||Pu.isiPhone()||Pu.isiPad()){return{value:"",valid:t}}else{return{value:e===true?"table,img,figure.image,div,video,iframe":e,valid:t}}}else{return{valid:false,message:"Must be boolean or a string"}}},default:!Fu});t("resize_img_proportional",{processor:"boolean",default:true});t("event_root",{processor:"object"});t("service_message",{processor:"string"});t("theme",{processor:e=>e===false||v(e)||T(e),default:"silver"});t("theme_url",{processor:"string"});t("formats",{processor:"object"});t("format_empty_lines",{processor:"boolean",default:false});t("format_noneditable_selector",{processor:"string",default:""});t("preview_styles",{processor:e=>{const t=e===false||v(e);if(t){return{value:e===false?"":e,valid:t}}else{return{valid:false,message:"Must be false or a string"}}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"});t("custom_ui_selector",{processor:"string",default:""});t("hidden_input",{processor:"boolean",default:true});t("submit_patch",{processor:"boolean",default:true});t("encoding",{processor:"string"});t("add_form_submit_trigger",{processor:"boolean",default:true});t("add_unload_trigger",{processor:"boolean",default:true});t("custom_undo_redo_levels",{processor:"number",default:0});t("disable_nodechange",{processor:"boolean",default:false});t("readonly",{processor:"boolean",default:false});t("editable_root",{processor:"boolean",default:true});t("plugins",{processor:"string[]",default:[]});t("external_plugins",{processor:"object"});t("forced_plugins",{processor:"string[]"});t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"});t("model_url",{processor:"string"});t("block_unsupported_drop",{processor:"boolean",default:true});t("visual",{processor:"boolean",default:true});t("visual_table_class",{processor:"string",default:"mce-item-table"});t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"});t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."});t("setup",{processor:"function"});t("init_instance_callback",{processor:"function"});t("url_converter",{processor:"function",default:e.convertURL});t("url_converter_scope",{processor:"object",default:e});t("urlconverter_callback",{processor:"function"});t("allow_conditional_comments",{processor:"boolean",default:false});t("allow_html_data_urls",{processor:"boolean",default:false});t("allow_svg_data_urls",{processor:"boolean"});t("allow_html_in_named_anchor",{processor:"boolean",default:false});t("allow_script_urls",{processor:"boolean",default:false});t("allow_unsafe_link_target",{processor:"boolean",default:false});t("convert_fonts_to_spans",{processor:"boolean",default:true,deprecated:true});t("fix_list_elements",{processor:"boolean",default:false});t("preserve_cdata",{processor:"boolean",default:false});t("remove_trailing_brs",{processor:"boolean",default:true});t("pad_empty_with_br",{processor:"boolean",default:false});t("inline_styles",{processor:"boolean",default:true,deprecated:true});t("element_format",{processor:"string",default:"html"});t("entities",{processor:"string"});t("schema",{processor:"string",default:"html5"});t("convert_urls",{processor:"boolean",default:true});t("relative_urls",{processor:"boolean",default:true});t("remove_script_host",{processor:"boolean",default:true});t("custom_elements",{processor:"string"});t("extended_valid_elements",{processor:"string"});t("invalid_elements",{processor:"string"});t("invalid_styles",{processor:qu});t("valid_children",{processor:"string"});t("valid_classes",{processor:qu});t("valid_elements",{processor:"string"});t("valid_styles",{processor:qu});t("verify_html",{processor:"boolean",default:true});t("auto_focus",{processor:e=>v(e)||e===true});t("browser_spellcheck",{processor:"boolean",default:false});t("protect",{processor:"array"});t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"});t("deprecation_warnings",{processor:"boolean",default:true});t("a11y_advanced_options",{processor:"boolean",default:false});t("api_key",{processor:"string"});t("paste_block_drop",{processor:"boolean",default:false});t("paste_data_images",{processor:"boolean",default:true});t("paste_preprocess",{processor:"function"});t("paste_postprocess",{processor:"function"});t("paste_webkit_styles",{processor:"string",default:"none"});t("paste_remove_styles_if_webkit",{processor:"boolean",default:true});t("paste_merge_formats",{processor:"boolean",default:true});t("smart_paste",{processor:"boolean",default:true});t("paste_as_text",{processor:"boolean",default:false});t("paste_tab_spaces",{processor:"number",default:4});t("text_patterns",{processor:e=>{if(D(e,k)||e===false){const t=e===false?[]:e;return{value:Hu(t),valid:true}}else{return{valid:false,message:"Must be an array of objects or false."}}},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]});t("text_patterns_lookup",{processor:e=>{if(T(e)){return{value:Iu(e),valid:true}}else{return{valid:false,message:"Must be a single function"}}},default:e=>[]});t("noneditable_class",{processor:"string",default:"mceNonEditable"});t("editable_class",{processor:"string",default:"mceEditable"});t("noneditable_regexp",{processor:e=>{if(D(e,Zu)){return{value:e,valid:true}}else if(Zu(e)){return{value:[e],valid:true}}else{return{valid:false,message:"Must be a RegExp or an array of RegExp."}}},default:[]});t("table_tab_navigation",{processor:"boolean",default:true});t("highlight_on_focus",{processor:"boolean",default:false});t("xss_sanitization",{processor:"boolean",default:true});t("details_initial_state",{processor:e=>{const t=Y(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:false,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"});t("details_serialized_state",{processor:e=>{const t=Y(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:false,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"});t("init_content_sync",{processor:"boolean",default:false});t("newdocument_content",{processor:"string",default:""});e.on("ScriptsLoaded",(()=>{t("directionality",{processor:"string",default:Sl.isRtl()?"rtl":undefined});t("placeholder",{processor:"string",default:Vu.getAttrib(e.getElement(),"placeholder")})}))};const Gu=Uu("iframe_attrs");const Ku=Uu("doctype");const Yu=Uu("document_base_url");const Xu=Uu("body_id");const Ju=Uu("body_class");const Qu=Uu("content_security_policy");const ef=Uu("br_in_pre");const tf=Uu("forced_root_block");const of=Uu("forced_root_block_attrs");const nf=Uu("newline_behavior");const sf=Uu("br_newline_selector");const rf=Uu("no_newline_selector");const af=Uu("keep_styles");const cf=Uu("end_container_on_empty_block");const lf=Uu("automatic_uploads");const df=Uu("images_reuse_filename");const uf=Uu("images_replace_blob_uris");const ff=Uu("icons");const mf=Uu("icons_url");const gf=Uu("images_upload_url");const pf=Uu("images_upload_base_path");const hf=Uu("images_upload_credentials");const yf=Uu("images_upload_handler");const bf=Uu("content_css_cors");const vf=Uu("referrer_policy");const kf=Uu("language");const wf=Uu("language_url");const _f=Uu("indent_use_margin");const xf=Uu("indentation");const Cf=Uu("content_css");const Sf=Uu("content_style");const zf=Uu("font_css");const Ef=Uu("directionality");const Tf=Uu("inline_boundaries_selector");const Of=Uu("object_resizing");const Df=Uu("resize_img_proportional");const Af=Uu("placeholder");const Nf=Uu("event_root");const Mf=Uu("service_message");const Rf=Uu("theme");const Bf=Uu("theme_url");const Lf=Uu("model");const Hf=Uu("model_url");const If=Uu("inline_boundaries");const Pf=Uu("formats");const Ff=Uu("preview_styles");const Vf=Uu("format_empty_lines");const jf=Uu("format_noneditable_selector");const Zf=Uu("custom_ui_selector");const Uf=Uu("inline");const qf=Uu("hidden_input");const Wf=Uu("submit_patch");const $f=Uu("add_form_submit_trigger");const Gf=Uu("add_unload_trigger");const Kf=Uu("custom_undo_redo_levels");const Yf=Uu("disable_nodechange");const Xf=Uu("readonly");const Jf=Uu("editable_root");const Qf=Uu("content_css_cors");const em=Uu("plugins");const tm=Uu("external_plugins");const om=Uu("block_unsupported_drop");const nm=Uu("visual");const sm=Uu("visual_table_class");const rm=Uu("visual_anchor_class");const am=Uu("iframe_aria_text");const cm=Uu("setup");const im=Uu("init_instance_callback");const lm=Uu("urlconverter_callback");const dm=Uu("auto_focus");const um=Uu("browser_spellcheck");const fm=Uu("protect");const mm=Uu("paste_block_drop");const gm=Uu("paste_data_images");const pm=Uu("paste_preprocess");const hm=Uu("paste_postprocess");const ym=Uu("newdocument_content");const bm=Uu("paste_webkit_styles");const vm=Uu("paste_remove_styles_if_webkit");const km=Uu("paste_merge_formats");const wm=Uu("smart_paste");const _m=Uu("paste_as_text");const xm=Uu("paste_tab_spaces");const Cm=Uu("allow_html_data_urls");const Sm=Uu("text_patterns");const zm=Uu("text_patterns_lookup");const Em=Uu("noneditable_class");const Tm=Uu("editable_class");const Om=Uu("noneditable_regexp");const Dm=Uu("preserve_cdata");const Am=Uu("highlight_on_focus");const Nm=Uu("xss_sanitization");const Mm=Uu("init_content_sync");const Rm=e=>e.options.isSet("text_patterns_lookup");const Bm=e=>mo.explode(e.options.get("font_size_style_values"));const Lm=e=>mo.explode(e.options.get("font_size_classes"));const Hm=e=>e.options.get("encoding")==="xml";const Im=e=>mo.explode(e.options.get("images_file_types"));const Pm=Uu("table_tab_navigation");const Fm=Uu("details_initial_state");const Vm=Uu("details_serialized_state");const jm=dr;const Zm=wr;const Um=e=>{const t=e.parentNode;if(t){t.removeChild(e)}};const qm=e=>{const t=wa(e);return{count:e.length-t.length,text:t}};const Wm=e=>{let t;while((t=e.data.lastIndexOf(va))!==-1){e.deleteData(t,1)}};const $m=(e,t)=>{Qm(e);return t};const Gm=(e,t)=>{const o=qm(e.data.substr(0,t.offset()));const n=qm(e.data.substr(t.offset()));const s=o.text+n.text;if(s.length>0){Wm(e);return Zd(e,t.offset()-o.count)}else{return t}};const Km=(e,t)=>{const o=t.container();const n=K(be(o.childNodes),e).map((e=>e<t.offset()?Zd(o,t.offset()-1):t)).getOr(t);Qm(e);return n};const Ym=(e,t)=>Zm(e)&&t.container()===e?Gm(e,t):$m(e,t);const Xm=(e,t)=>t.container()===e.parentNode?Km(e,t):$m(e,t);const Jm=(e,t)=>Zd.isTextPosition(t)?Ym(e,t):Xm(e,t);const Qm=e=>{if(jm(e)&&Ea(e)){if(Ta(e)){e.removeAttribute("data-mce-caret")}else{Um(e)}}if(Zm(e)){Wm(e);if(e.data.length===0){Um(e)}}};const eg=Dr;const tg=Mr;const og=Ar;const ng="*[contentEditable=false],video,audio,embed,object";const sg=(e,t,o)=>{const n=ad(t.getBoundingClientRect(),o);let s;let r;if(e.tagName==="BODY"){const t=e.ownerDocument.documentElement;s=e.scrollLeft||t.scrollLeft;r=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();s=e.scrollLeft-t.left;r=e.scrollTop-t.top}n.left+=s;n.right+=s;n.top+=r;n.bottom+=r;n.width=1;let a=t.offsetWidth-t.clientWidth;if(a>0){if(o){a*=-1}n.left+=a;n.right+=a}return n};const rg=e=>{var t,o;const n=rr(yn.fromDom(e),ng);for(let e=0;e<n.length;e++){const s=n[e].dom;let r=s.previousSibling;if(Ra(r)){const e=r.data;if(e.length===1){(t=r.parentNode)===null||t===void 0?void 0:t.removeChild(r)}else{r.deleteData(e.length-1,1)}}r=s.nextSibling;if(Ma(r)){const e=r.data;if(e.length===1){(o=r.parentNode)===null||o===void 0?void 0:o.removeChild(r)}else{r.deleteData(0,1)}}}};const ag=(e,t,o,n)=>{const s=Ol();let r;let a;const c=tf(e);const i=e.dom;const l=(e,n)=>{let r;d();if(og(n)){return null}if(o(n)){const o=Na(c,n,e);const l=sg(t,n,e);i.setStyle(o,"top",l.top);a=o;const d=i.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});i.setStyles(d,{...l});i.add(t,d);s.set({caret:d,element:n,before:e});if(e){i.addClass(d,"mce-visual-caret-before")}u();r=n.ownerDocument.createRange();r.setStart(o,0);r.setEnd(o,0)}else{a=Oa(n,e);r=n.ownerDocument.createRange();if(ig(a.nextSibling)){r.setStart(a,0);r.setEnd(a,0)}else{r.setStart(a,1);r.setEnd(a,1)}return r}return r};const d=()=>{rg(t);if(a){Qm(a);a=null}s.on((e=>{i.remove(e.caret);s.clear()}));if(r){clearInterval(r);r=undefined}};const u=()=>{r=setInterval((()=>{s.on((e=>{if(n()){i.toggleClass(e.caret,"mce-visual-caret-hidden")}else{i.addClass(e.caret,"mce-visual-caret-hidden")}}))}),500)};const f=()=>{s.on((e=>{const o=sg(t,e.element,e.before);i.setStyles(e.caret,{...o})}))};const m=()=>clearInterval(r);const g=()=>".mce-visual-caret {"+"position: absolute;"+"background-color: black;"+"background-color: currentcolor;"+"}"+".mce-visual-caret-hidden {"+"display: none;"+"}"+"*[data-mce-caret] {"+"position: absolute;"+"left: -1000px;"+"right: auto;"+"top: 0;"+"margin: 0;"+"padding: 0;"+"}";return{show:l,hide:d,getCss:g,reposition:f,destroy:m}};const cg=()=>to.browser.isFirefox();const ig=e=>eg(e)||tg(e);const lg=e=>{const t=ig(e)||br(e)&&cg();return t&&Dn(yn.fromDom(e)).exists(us)};const dg=Or;const ug=Dr;const fg=Mr;const mg=mr("display","block table table-cell table-caption list-item");const gg=Ea;const pg=Sa;const hg=dr;const yg=wr;const bg=Wa;const vg=e=>e>0;const kg=e=>e<0;const wg=(e,t)=>{let o;while(o=e(t)){if(!pg(o)){return o}}return null};const _g=(e,t,o,n,s)=>{const r=new cr(e,n);const a=ug(e)||pg(e);let c;if(kg(t)){if(a){c=wg(r.prev.bind(r),true);if(o(c)){return c}}while(c=wg(r.prev.bind(r),s)){if(o(c)){return c}}}if(vg(t)){if(a){c=wg(r.next.bind(r),true);if(o(c)){return c}}while(c=wg(r.next.bind(r),s)){if(o(c)){return c}}}return null};const xg=(e,t)=>{const o=e=>dg(e.dom);const n=e=>e.dom===t;return os(yn.fromDom(e),o,n).map((e=>e.dom)).getOr(t)};const Cg=(e,t)=>{while(e&&e!==t){if(mg(e)){return e}e=e.parentNode}return null};const Sg=(e,t,o)=>Cg(e.container(),o)===Cg(t.container(),o);const zg=(e,t)=>{if(!t){return U.none()}const o=t.container();const n=t.offset();if(!hg(o)){return U.none()}return U.from(o.childNodes[n+e])};const Eg=(e,t)=>{var o;const n=(o=t.ownerDocument)!==null&&o!==void 0?o:document;const s=n.createRange();if(e){s.setStartBefore(t);s.setEndBefore(t)}else{s.setStartAfter(t);s.setEndAfter(t)}return s};const Tg=(e,t,o)=>Cg(t,e)===Cg(o,e);const Og=(e,t,o)=>{const n=e?"previousSibling":"nextSibling";let s=o;while(s&&s!==t){let e=s[n];if(e&&gg(e)){e=e[n]}if(ug(e)||fg(e)){if(Tg(t,e,s)){return e}break}if(bg(e)){break}s=s.parentNode}return null};const Dg=H(Eg,true);const Ag=H(Eg,false);const Ng=(e,t,o)=>{let n;const s=H(Og,true,t);const r=H(Og,false,t);const a=o.startContainer;const c=o.startOffset;if(Sa(a)){const e=yg(a)?a.parentNode:a;const t=e.getAttribute("data-mce-caret");if(t==="before"){n=e.nextSibling;if(lg(n)){return Dg(n)}}if(t==="after"){n=e.previousSibling;if(lg(n)){return Ag(n)}}}if(!o.collapsed){return o}if(wr(a)){if(gg(a)){if(e===1){n=r(a);if(n){return Dg(n)}n=s(a);if(n){return Ag(n)}}if(e===-1){n=s(a);if(n){return Ag(n)}n=r(a);if(n){return Dg(n)}}return o}if(Ra(a)&&c>=a.data.length-1){if(e===1){n=r(a);if(n){return Dg(n)}}return o}if(Ma(a)&&c<=1){if(e===-1){n=s(a);if(n){return Ag(n)}}return o}if(c===a.data.length){n=r(a);if(n){return Dg(n)}return o}if(c===0){n=s(a);if(n){return Ag(n)}return o}}return o};const Mg=(e,t)=>zg(e?0:-1,t).filter(ug);const Rg=(e,t,o)=>{const n=Ng(e,t,o);return e===-1?Zd.fromRangeStart(n):Zd.fromRangeEnd(n)};const Bg=e=>U.from(e.getNode()).map(yn.fromDom);const Lg=e=>U.from(e.getNode(true)).map(yn.fromDom);const Hg=(e,t)=>{let o=t;while(o=e(o)){if(o.isVisible()){return o}}return o};const Ig=(e,t)=>{const o=Sg(e,t);if(!o&&Er(e.getNode())){return true}return o};var Pg;(function(e){e[e["Backwards"]=-1]="Backwards";e[e["Forwards"]=1]="Forwards"})(Pg||(Pg={}));const Fg=Dr;const Vg=wr;const jg=dr;const Zg=Er;const Ug=Wa;const qg=Xa;const Wg=Ja;const $g=(e,t)=>{const o=[];let n=e;while(n&&n!==t){o.push(n);n=n.parentNode}return o};const Gg=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){return e.childNodes[t]}return null};const Kg=(e,t)=>{if(vg(e)){if(Ug(t.previousSibling)&&!Vg(t.previousSibling)){return Zd.before(t)}if(Vg(t)){return Zd(t,0)}}if(kg(e)){if(Ug(t.nextSibling)&&!Vg(t.nextSibling)){return Zd.after(t)}if(Vg(t)){return Zd(t,t.data.length)}}if(kg(e)){if(Zg(t)){return Zd.before(t)}return Zd.after(t)}return Zd.before(t)};const Yg=(e,t)=>{const o=t.nextSibling;if(o&&Ug(o)){if(Vg(o)){return Zd(o,0)}else{return Zd.before(o)}}else{return Xg(Pg.Forwards,Zd.after(t),e)}};const Xg=(e,t,o)=>{let n;let s;let r;let a;if(!jg(o)||!t){return null}if(t.isEqual(Zd.after(o))&&o.lastChild){a=Zd.after(o.lastChild);if(kg(e)&&Ug(o.lastChild)&&jg(o.lastChild)){return Zg(o.lastChild)?Zd.before(o.lastChild):a}}else{a=t}const c=a.container();let i=a.offset();if(Vg(c)){if(kg(e)&&i>0){return Zd(c,--i)}if(vg(e)&&i<c.length){return Zd(c,++i)}n=c}else{if(kg(e)&&i>0){s=Gg(c,i-1);if(Ug(s)){if(!qg(s)){r=_g(s,e,Wg,s);if(r){if(Vg(r)){return Zd(r,r.data.length)}return Zd.after(r)}}if(Vg(s)){return Zd(s,s.data.length)}return Zd.before(s)}}if(vg(e)&&i<c.childNodes.length){s=Gg(c,i);if(Ug(s)){if(Zg(s)){return Yg(o,s)}if(!qg(s)){r=_g(s,e,Wg,s);if(r){if(Vg(r)){return Zd(r,0)}return Zd.before(r)}}if(Vg(s)){return Zd(s,0)}return Zd.after(s)}}n=s?s:a.getNode()}if(n&&(vg(e)&&a.isAtEnd()||kg(e)&&a.isAtStart())){n=_g(n,e,Z,o,true);if(Wg(n,o)){return Kg(e,n)}}s=n?_g(n,e,Wg,o):n;const l=We(oe($g(c,o),Fg));if(l&&(!s||!l.contains(s))){if(vg(e)){a=Zd.after(l)}else{a=Zd.before(l)}return a}if(s){return Kg(e,s)}return null};const Jg=e=>({next:t=>Xg(Pg.Forwards,t,e),prev:t=>Xg(Pg.Backwards,t,e)});const Qg=(e,t,o)=>{const n=e?Zd.before(o):Zd.after(o);return ap(e,t,n)};const ep=e=>Er(e)?Zd.before(e):Zd.after(e);const tp=e=>{if(Zd.isTextPosition(e)){return e.offset()===0}else{return Wa(e.getNode())}};const op=e=>{if(Zd.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else{return Wa(e.getNode(true))}};const np=(e,t)=>!Zd.isTextPosition(e)&&!Zd.isTextPosition(t)&&e.getNode()===t.getNode(true);const sp=e=>!Zd.isTextPosition(e)&&Er(e.getNode());const rp=(e,t,o)=>{if(e){return!np(t,o)&&!sp(t)&&op(t)&&tp(o)}else{return!np(o,t)&&tp(t)&&op(o)}};const ap=(e,t,o)=>{const n=Jg(t);return U.from(e?n.next(o):n.prev(o))};const cp=(e,t,o)=>ap(e,t,o).bind((n=>{if(Sg(o,n,t)&&rp(e,o,n)){return ap(e,t,n)}else{return U.some(n)}}));const ip=(e,t,o,n)=>cp(e,t,o).bind((o=>n(o)?ip(e,t,o,n):U.some(o)));const lp=(e,t)=>{const o=e?t.firstChild:t.lastChild;if(wr(o)){return U.some(Zd(o,e?0:o.data.length))}else if(o){if(Wa(o)){return U.some(e?Zd.before(o):ep(o))}else{return Qg(e,t,o)}}else{return U.none()}};const dp=H(ap,true);const up=H(ap,false);const fp=H(lp,true);const mp=H(lp,false);const gp="_mce_caret";const pp=e=>dr(e)&&e.id===gp;const hp=(e,t)=>{let o=t;while(o&&o!==e){if(pp(o)){return o}o=o.parentNode}return null};const yp=e=>v(e.start);const bp=e=>Me(e,"rng");const vp=e=>Me(e,"id");const kp=e=>Me(e,"name");const wp=e=>mo.isArray(e.start);const _p=e=>!kp(e)&&C(e.forward)?e.forward:true;const xp=(e,t)=>{if(dr(t)&&e.isBlock(t)&&!t.innerHTML){t.innerHTML='<br data-mce-bogus="1" />'}return t};const Cp=(e,t)=>{const o=U.from(cu(e.getRoot(),t.start));const n=U.from(cu(e.getRoot(),t.end));return yo(o,n,((o,n)=>{const s=e.createRng();s.setStart(o.container(),o.offset());s.setEnd(n.container(),n.offset());return{range:s,forward:_p(t)}}))};const Sp=(e,t)=>{var o;const n=(o=e.ownerDocument)!==null&&o!==void 0?o:document;const s=n.createTextNode(va);e.appendChild(s);t.setStart(s,0);t.setEnd(s,0)};const zp=e=>!e.hasChildNodes();const Ep=(e,t)=>mp(e).fold(j,(e=>{t.setStart(e.container(),e.offset());t.setEnd(e.container(),e.offset());return true}));const Tp=(e,t,o)=>{if(zp(t)&&hp(e,t)){Sp(t,o);return true}else{return false}};const Op=(e,t,o,n)=>{const s=o[t?"start":"end"];const r=e.getRoot();if(s){let e=r;let o=s[0];for(let t=s.length-1;e&&t>=1;t--){const o=e.childNodes;if(Tp(r,e,n)){return true}if(s[t]>o.length-1){if(Tp(r,e,n)){return true}return Ep(e,n)}e=o[s[t]]}if(wr(e)){o=Math.min(s[0],e.data.length)}if(dr(e)){o=Math.min(s[0],e.childNodes.length)}if(t){n.setStart(e,o)}else{n.setEnd(e,o)}}return true};const Dp=e=>wr(e)&&e.data.length>0;const Ap=(e,t,o)=>{const n=e.get(o.id+"_"+t);const s=n===null||n===void 0?void 0:n.parentNode;const r=o.keep;if(n&&s){let a;let c;if(t==="start"){if(!r){a=s;c=e.nodeIndex(n)}else{if(n.hasChildNodes()){a=n.firstChild;c=1}else if(Dp(n.nextSibling)){a=n.nextSibling;c=0}else if(Dp(n.previousSibling)){a=n.previousSibling;c=n.previousSibling.data.length}else{a=s;c=e.nodeIndex(n)+1}}}else{if(!r){a=s;c=e.nodeIndex(n)}else{if(n.hasChildNodes()){a=n.firstChild;c=1}else if(Dp(n.previousSibling)){a=n.previousSibling;c=n.previousSibling.data.length}else{a=s;c=e.nodeIndex(n)}}}if(!r){const s=n.previousSibling;const r=n.nextSibling;mo.each(mo.grep(n.childNodes),(e=>{if(wr(e)){e.data=e.data.replace(/\uFEFF/g,"")}}));let i;while(i=e.get(o.id+"_"+t)){e.remove(i,true)}if(wr(r)&&wr(s)&&!to.browser.isOpera()){const t=s.data.length;s.appendData(r.data);e.remove(r);a=s;c=t}}return U.some(Zd(a,c))}else{return U.none()}};const Np=(e,t)=>{const o=e.createRng();if(Op(e,true,t,o)&&Op(e,false,t,o)){return U.some({range:o,forward:_p(t)})}else{return U.none()}};const Mp=(e,t)=>{const o=Ap(e,"start",t);const n=Ap(e,"end",t);return yo(o,n.or(o),((o,n)=>{const s=e.createRng();s.setStart(xp(e,o.container()),o.offset());s.setEnd(xp(e,n.container()),n.offset());return{range:s,forward:_p(t)}}))};const Rp=(e,t)=>U.from(e.select(t.name)[t.index]).map((t=>{const o=e.createRng();o.selectNode(t);return{range:o,forward:true}}));const Bp=(e,t)=>{const o=e.dom;if(t){if(wp(t)){return Np(o,t)}else if(yp(t)){return Cp(o,t)}else if(vp(t)){return Mp(o,t)}else if(kp(t)){return Rp(o,t)}else if(bp(t)){return U.some({range:t.rng,forward:_p(t)})}}return U.none()};const Lp=(e,t,o)=>_u(e,t,o);const Hp=(e,t)=>{Bp(e,t).each((({range:t,forward:o})=>{e.setRng(t,o)}))};const Ip=e=>dr(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark";const Pp=e=>t=>e===t;const Fp=Pp(Ir);const Vp=e=>e!==""&&" \f\n\r\t\v".indexOf(e)!==-1;const jp=e=>!Vp(e)&&!Fp(e)&&!Pr(e);const Zp=e=>({value:Up(e)});const Up=e=>ct(e,"#").toUpperCase();const qp=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()};const Wp=e=>{const t=qp(e.red)+qp(e.green)+qp(e.blue);return Zp(t)};const $p=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i;const Gp=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i;const Kp=(e,t,o,n)=>({red:e,green:t,blue:o,alpha:n});const Yp=(e,t,o,n)=>{const s=parseInt(e,10);const r=parseInt(t,10);const a=parseInt(o,10);const c=parseFloat(n);return Kp(s,r,a,c)};const Xp=e=>{if(e==="transparent"){return U.some(Kp(0,0,0,0))}const t=$p.exec(e);if(t!==null){return U.some(Yp(t[1],t[2],t[3],"1"))}const o=Gp.exec(e);if(o!==null){return U.some(Yp(o[1],o[2],o[3],o[4]))}return U.none()};const Jp=e=>Xp(e).map(Wp).map((e=>"#"+e.value)).getOr(e);const Qp=e=>{const t=[];if(e){for(let o=0;o<e.rangeCount;o++){t.push(e.getRangeAt(o))}}return t};const eh=e=>le(e,(e=>{const t=hd(e);return t?[yn.fromDom(t)]:[]}));const th=e=>Qp(e).length>1;const oh=e=>oe(eh(e),da);const nh=e=>rr(e,"td[data-mce-selected],th[data-mce-selected]");const sh=(e,t)=>{const o=nh(t);return o.length>0?o:oh(e)};const rh=e=>sh(Qp(e.selection.getSel()),yn.fromDom(e.getBody()));const ah=(e,t)=>cs(e,"table",t);const ch=e=>{const t=e.startContainer,o=e.startOffset;if(wr(t)){return o===0?U.some(yn.fromDom(t)):U.none()}else{return U.from(t.childNodes[o]).map(yn.fromDom)}};const ih=e=>{const t=e.endContainer,o=e.endOffset;if(wr(t)){return o===t.data.length?U.some(yn.fromDom(t)):U.none()}else{return U.from(t.childNodes[o-1]).map(yn.fromDom)}};const lh=e=>Pn(e).fold(R([e]),(t=>[e].concat(lh(t))));const dh=e=>Fn(e).fold(R([e]),(t=>{if(Mo(t)==="br"){return Mn(t).map((t=>[e].concat(dh(t)))).getOr([])}else{return[e].concat(dh(t))}}));const uh=(e,t)=>yo(ch(t),ih(t),((t,o)=>{const n=ae(lh(e),H(xn,t));const s=ae(dh(e),H(xn,o));return n.isSome()&&s.isSome()})).getOr(false);const fh=(e,t,o,n)=>{const s=o;const r=new cr(o,s);const a=Oe(e.schema.getMoveCaretBeforeOnEnterElements(),((e,t)=>!Y(["td","th","table"],t.toLowerCase())));let c=o;do{if(wr(c)&&mo.trim(c.data).length!==0){if(n){t.setStart(c,0)}else{t.setEnd(c,c.data.length)}return}if(a[c.nodeName]){if(n){t.setStartBefore(c)}else{if(c.nodeName==="BR"){t.setEndBefore(c)}else{t.setEndAfter(c)}}return}}while(c=n?r.next():r.prev());if(s.nodeName==="BODY"){if(n){t.setStart(s,0)}else{t.setEnd(s,s.childNodes.length)}}};const mh=e=>{const t=e.selection.getSel();return E(t)&&t.rangeCount>0};const gh=(e,t)=>{const o=rh(e);if(o.length>0){Q(o,(o=>{const n=o.dom;const s=e.dom.createRng();s.setStartBefore(n);s.setEndAfter(n);t(s,true)}))}else{t(e.selection.getRng(),false)}};const ph=(e,t,o)=>{const n=wu(e,t);o(n);e.moveToBookmark(n)};const hh=e=>O(e===null||e===void 0?void 0:e.nodeType);const yh=e=>dr(e)&&!Ip(e)&&!pp(e)&&!hr(e);const bh=(e,t)=>{if(yh(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected");const n=parseInt(o,10);return!isNaN(n)&&n>0}else{return false}};const vh=e=>e.isContentEditable===true;const kh=(e,t,o)=>{const{selection:n,dom:s}=e;const r=n.getNode();const a=Dr(r);ph(n,true,(()=>{t()}));const c=a&&Dr(r);if(c&&s.isChildOf(r,e.getBody())){e.selection.select(r)}else if(o(n.getStart())){wh(s,n)}};const wh=(e,t)=>{var o,n;const s=t.getRng();const{startContainer:r,startOffset:a}=s;const c=t.getNode();if(bh(e,c)){return}if(dr(r)){const c=r.childNodes;const i=e.getRoot();let l;if(a<c.length){const t=c[a];l=new cr(t,(o=e.getParent(t,e.isBlock))!==null&&o!==void 0?o:i)}else{const t=c[c.length-1];l=new cr(t,(n=e.getParent(t,e.isBlock))!==null&&n!==void 0?n:i);l.next(true)}for(let o=l.current();o;o=l.next()){if(e.getContentEditable(o)==="false"){return}else if(wr(o)&&!Sh(o)){s.setStart(o,0);t.setRng(s);return}}}};const _h=(e,t,o)=>{if(e){const n=t?"nextSibling":"previousSibling";for(e=o?e:e[n];e;e=e[n]){if(dr(e)||!Sh(e)){return e}}}return undefined};const xh=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Dc(e,t);const Ch=(e,t,o)=>e.schema.isValidChild(t,o);const Sh=(e,t=false)=>{if(E(e)&&wr(e)){const o=t?e.data.replace(/ /g," "):e.data;return ec(o)}else{return false}};const zh=e=>E(e)&&wr(e)&&e.length===0;const Eh=(e,t)=>{const o="[data-mce-cef-wrappable]";const n=jf(e);const s=ht(n)?o:`${o},${n}`;return vn(yn.fromDom(t),s)};const Th=(e,t)=>{const o=e.dom;return yh(t)&&o.getContentEditable(t)==="false"&&Eh(e,t)&&o.select('[contenteditable="true"]',t).length===0};const Oh=(e,t)=>{if(T(e)){return e(t)}else if(E(t)){e=e.replace(/%(\w+)/g,((e,o)=>t[o]||e))}return e};const Dh=(e,t)=>{e=e||"";t=t||"";e=""+(e.nodeName||e);t=""+(t.nodeName||t);return e.toLowerCase()===t.toLowerCase()};const Ah=(e,t)=>{if(z(e)){return null}else{let o=String(e);if(t==="color"||t==="backgroundColor"){o=Jp(o)}if(t==="fontWeight"&&e===700){o="bold"}if(t==="fontFamily"){o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}return o}};const Nh=(e,t,o)=>{const n=e.getStyle(t,o);return Ah(n,o)};const Mh=(e,t)=>{let o;e.getParent(t,(t=>{if(dr(t)){o=e.getStyle(t,"text-decoration");return!!o&&o!=="none"}else{return false}}));return o};const Rh=(e,t,o)=>e.getParents(t,o,e.getRoot());const Bh=(e,t,o)=>{const n=e.formatter.get(t);return E(n)&&X(n,o)};const Lh=(e,t)=>{const o=e=>{const t=e=>T(e)||e.length>1&&e.charAt(0)==="%";return X(["styles","attributes"],(o=>Ne(e,o).exists((e=>{const o=_(e)?e:Ae(e);return X(o,t)}))))};return Bh(e,t,o)};const Hh=(e,t,o)=>{const n=["inline","block","selector","attributes","styles","classes"];const s=e=>Oe(e,((e,t)=>X(n,(e=>e===t))));return Bh(e,t,(t=>{const n=s(t);return Bh(e,o,(e=>{const t=s(e);return Be(n,t)}))}))};const Ih=e=>Re(e,"block");const Ph=e=>Ih(e)&&e.wrapper===true;const Fh=e=>Ih(e)&&e.wrapper!==true;const Vh=e=>Re(e,"selector");const jh=e=>Re(e,"inline");const Zh=e=>Vh(e)&&jh(e)&&go(Ne(e,"mixed"),true);const Uh=e=>Vh(e)&&e.expand!==false&&!jh(e);const qh=Ip;const Wh=Rh;const $h=Sh;const Gh=xh;const Kh=e=>Er(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling;const Yh=(e,t)=>{let o=t;while(o){if(dr(o)&&e.getContentEditable(o)){return e.getContentEditable(o)==="false"?o:t}o=o.parentNode}return t};const Xh=(e,t,o,n)=>{const s=t.data;if(e){for(let e=o;e>0;e--){if(n(s.charAt(e-1))){return e}}}else{for(let e=o;e<s.length;e++){if(n(s.charAt(e))){return e}}}return-1};const Jh=(e,t,o)=>Xh(e,t,o,(e=>Fp(e)||Vp(e)));const Qh=(e,t,o)=>Xh(e,t,o,jp);const ey=(e,t,o,n,s,r)=>{let a;const c=e.getParent(o,e.isBlock)||t;const i=(t,o,n)=>{const r=nd(e);const i=s?r.backwards:r.forwards;return U.from(i(t,o,((e,t)=>{if(qh(e.parentNode)){return-1}else{a=e;return n(s,e,t)}}),c))};const l=i(o,n,Jh);return l.bind((e=>r?i(e.container,e.offset+(s?-1:0),Qh):U.some(e))).orThunk((()=>a?U.some({container:a,offset:s?0:a.length}):U.none()))};const ty=(e,t,o,n,s)=>{const r=n[s];if(wr(n)&&ht(n.data)&&r){n=r}const a=Wh(e,n);for(let n=0;n<a.length;n++){for(let s=0;s<t.length;s++){const r=t[s];if(E(r.collapsed)&&r.collapsed!==o.collapsed){continue}if(Vh(r)&&e.is(a[n],r.selector)){return a[n]}}}return n};const oy=(e,t,o,n)=>{var s;let r=o;const a=e.getRoot();const c=t[0];if(Ih(c)){r=c.wrapper?null:e.getParent(o,c.block,a)}if(!r){const t=(s=e.getParent(o,"LI,TD,TH"))!==null&&s!==void 0?s:a;r=e.getParent(wr(o)?o.parentNode:o,(t=>t!==a&&Gh(e.schema,t)),t)}if(r&&Ih(c)&&c.wrapper){r=Wh(e,r,"ul,ol").reverse()[0]||r}if(!r){r=o;while(r&&r[n]&&!e.isBlock(r[n])){r=r[n];if(Dh(r,"br")){break}}}return r||o};const ny=(e,t,o,n)=>{const s=o.parentNode;if(E(o[n])){return false}else if(s===t||z(s)||e.isBlock(s)){return true}else{return ny(e,t,s,n)}};const sy=(e,t,o,n,s)=>{let r=o;const a=s?"previousSibling":"nextSibling";const c=e.getRoot();if(wr(o)&&!$h(o)){if(s?n>0:n<o.data.length){return o}}while(r){if(!t[0].block_expand&&e.isBlock(r)){return r}for(let t=r[a];t;t=t[a]){const o=wr(t)&&!ny(e,c,t,a);if(!qh(t)&&!Kh(t)&&!$h(t,o)){return r}}if(r===c||r.parentNode===c){o=r;break}r=r.parentNode}return o};const ry=e=>qh(e.parentNode)||qh(e);const ay=(e,t,o,n=false)=>{let{startContainer:s,startOffset:r,endContainer:a,endOffset:c}=t;const i=o[0];if(dr(s)&&s.hasChildNodes()){s=yd(s,r);if(wr(s)){r=0}}if(dr(a)&&a.hasChildNodes()){a=yd(a,t.collapsed?c:c-1);if(wr(a)){c=a.data.length}}s=Yh(e,s);a=Yh(e,a);if(ry(s)){s=qh(s)?s:s.parentNode;if(t.collapsed){s=s.previousSibling||s}else{s=s.nextSibling||s}if(wr(s)){r=t.collapsed?s.length:0}}if(ry(a)){a=qh(a)?a:a.parentNode;if(t.collapsed){a=a.nextSibling||a}else{a=a.previousSibling||a}if(wr(a)){c=t.collapsed?0:a.length}}if(t.collapsed){const t=ey(e,e.getRoot(),s,r,true,n);t.each((({container:e,offset:t})=>{s=e;r=t}));const o=ey(e,e.getRoot(),a,c,false,n);o.each((({container:e,offset:t})=>{a=e;c=t}))}if(jh(i)||i.block_expand){if(!jh(i)||(!wr(s)||r===0)){s=sy(e,o,s,r,true)}if(!jh(i)||(!wr(a)||c===a.data.length)){a=sy(e,o,a,c,false)}}if(Uh(i)){s=ty(e,o,t,s,"previousSibling");a=ty(e,o,t,a,"nextSibling")}if(Ih(i)||Vh(i)){s=oy(e,o,s,"previousSibling");a=oy(e,o,a,"nextSibling");if(Ih(i)){if(!e.isBlock(s)){s=sy(e,o,s,r,true)}if(!e.isBlock(a)){a=sy(e,o,a,c,false)}}}if(dr(s)&&s.parentNode){r=e.nodeIndex(s);s=s.parentNode}if(dr(a)&&a.parentNode){c=e.nodeIndex(a)+1;a=a.parentNode}return{startContainer:s,startOffset:r,endContainer:a,endOffset:c}};const cy=(e,t,o)=>{var n;const s=t.startOffset;const r=yd(t.startContainer,s);const a=t.endOffset;const c=yd(t.endContainer,a-1);const i=e=>{const t=e[0];if(wr(t)&&t===r&&s>=t.data.length){e.splice(0,1)}const o=e[e.length-1];if(a===0&&e.length>0&&o===c&&wr(o)){e.splice(e.length-1,1)}return e};const l=(e,t,o)=>{const n=[];for(;e&&e!==o;e=e[t]){n.push(e)}return n};const d=(t,o)=>e.getParent(t,(e=>e.parentNode===o),o);const u=(e,t,n)=>{const s=n?"nextSibling":"previousSibling";for(let r=e,a=r.parentNode;r&&r!==t;r=a){a=r.parentNode;const t=l(r===e?r:r[s],s);if(t.length){if(!n){t.reverse()}o(i(t))}}};if(r===c){return o(i([r]))}const f=(n=e.findCommonAncestor(r,c))!==null&&n!==void 0?n:e.getRoot();if(e.isChildOf(r,c)){return u(r,f,true)}if(e.isChildOf(c,r)){return u(c,f)}const m=d(r,f)||r;const g=d(c,f)||c;u(r,m,true);const p=l(m===r?m:m.nextSibling,"nextSibling",g===c?g.nextSibling:g);if(p.length){o(i(p))}u(c,g)};const iy=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"];const ly=e=>Po(e)&&Zr(e)===va;const dy=(e,t,o,n)=>On(t).fold((()=>"skipping"),(s=>{if(n==="br"||ly(t)){return"valid"}else if(Fl(t)){return"existing"}else if(pp(t.dom)){return"caret"}else if(X(iy,(e=>vn(t,e)))){return"valid-block"}else if(!Ch(e,o,n)||!Ch(e,Mo(s),o)){return"invalid-child"}else{return"valid"}}));const uy=(e,t)=>{const o=ay(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset);t.setEnd(o.endContainer,o.endOffset);e.selection.setRng(t)};const fy=(e,t,o,n,s,r)=>{const{uid:a=t,...c}=o;an(e,Nl());Uo(e,`${Rl()}`,a);Uo(e,`${Ml()}`,n);const{attributes:i={},classes:l=[]}=s(a,c);qo(e,i);Kl(e,l);if(r){if(l.length>0){Uo(e,`${Ll()}`,l.join(","))}const t=we(i);if(t.length>0){Uo(e,`${Hl()}`,t.join(","))}}};const my=e=>{ln(e,Nl());Ko(e,`${Rl()}`);Ko(e,`${Ml()}`);Ko(e,`${Bl()}`);const t=$o(e,`${Hl()}`).map((e=>e.split(","))).getOr([]);const o=$o(e,`${Ll()}`).map((e=>e.split(","))).getOr([]);Q(t,(t=>Ko(e,t)));Yl(e,o);Ko(e,`${Ll()}`);Ko(e,`${Hl()}`)};const gy=(e,t,o,n,s)=>{const r=yn.fromTag("span",e);fy(r,t,o,n,s,false);return r};const py=(e,t,o,n,s,r)=>{const a=[];const c=gy(e.getDoc(),o,r,n,s);const i=Ol();const l=()=>{i.clear()};const d=()=>i.get().getOrThunk((()=>{const e=Jl(c);a.push(e);i.set(e);return e}));const u=e=>{Q(e,f)};const f=t=>{const a=dy(e,t,"span",Mo(t));switch(a){case"invalid-child":{l();const e=Hn(t);u(e);l();break}case"valid-block":{l();fy(t,o,r,n,s,true);break}case"valid":{const e=d();Ts(t,e);break}}};const m=e=>{const t=J(e,yn.fromDom);u(t)};cy(e.dom,t,(e=>{l();m(e)}));return a};const hy=(e,t,o,n)=>{e.undoManager.transact((()=>{const s=e.selection;const r=s.getRng();const a=rh(e).length>0;const c=Gl("mce-annotation");if(r.collapsed&&!a){uy(e,r)}if(s.getRng().collapsed&&!a){const r=gy(e.getDoc(),c,n,t,o.decorate);Hs(r,Ir);s.getRng().insertNode(r.dom);s.select(r.dom)}else{ph(s,false,(()=>{gh(e,(s=>{py(e,s,c,t,o.decorate,n)}))}))}}))};const yy=e=>{const t=Wl();ql(e,t);const o=Ul(e,t);const n=jo("span");const s=e=>{Q(e,(e=>{if(n(e)){Ms(e)}else{my(e)}}))};return{register:(e,o)=>{t.register(e,o)},annotate:(o,n)=>{t.lookup(o).each((t=>{hy(e,o,t,n)}))},annotationChanged:(e,t)=>{o.addListener(e,t)},remove:t=>{Pl(e,U.some(t)).each((({elements:t})=>{const o=e.selection.getBookmark();s(t);e.selection.moveToBookmark(o)}))},removeAll:t=>{const o=e.selection.getBookmark();xe(Zl(e,t),((e,t)=>{s(e)}));e.selection.moveToBookmark(o)},getAll:t=>{const o=Zl(e,t);return Ce(o,(e=>J(e,(e=>e.dom))))}}};const by=e=>({getBookmark:H(Lp,e),moveToBookmark:H(Hp,e)});by.isBookmarkNode=Ip;const vy=(e,t,o)=>{if(o.collapsed){return false}else{return X(o.getClientRects(),(o=>ud(o,e,t)))}};const ky=(e,t)=>e.dispatch("PreProcess",t);const wy=(e,t)=>e.dispatch("PostProcess",t);const _y=e=>{e.dispatch("remove")};const xy=e=>{e.dispatch("detach")};const Cy=(e,t)=>{e.dispatch("SwitchMode",{mode:t})};const Sy=(e,t,o,n,s)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:n,origin:s})};const zy=(e,t,o,n,s)=>{e.dispatch("ObjectResized",{target:t,width:o,height:n,origin:s})};const Ey=e=>{e.dispatch("PreInit")};const Ty=e=>{e.dispatch("PostRender")};const Oy=e=>{e.dispatch("Init")};const Dy=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})};const Ay=(e,t,o)=>{e.dispatch(t,o)};const Ny=(e,t,o,n)=>{e.dispatch("FormatApply",{format:t,node:o,vars:n})};const My=(e,t,o,n)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:n})};const Ry=(e,t)=>e.dispatch("BeforeSetContent",t);const By=(e,t)=>e.dispatch("SetContent",t);const Ly=(e,t)=>e.dispatch("BeforeGetContent",t);const Hy=(e,t)=>e.dispatch("GetContent",t);const Iy=(e,t)=>{e.dispatch("AutocompleterStart",t)};const Py=(e,t)=>{e.dispatch("AutocompleterUpdate",t)};const Fy=e=>{e.dispatch("AutocompleterEnd")};const Vy=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o});const jy=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o});const Zy=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t});const Uy=(e,t)=>e.dispatch("EditableRootStateChange",{state:t});const qy={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||qy.metaKeyPressed(e),metaKeyPressed:e=>to.os.isMacOS()||to.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey};const Wy="data-mce-selected";const $y="table,img,figure.image,hr,video,span.mce-preview-object,details";const Gy=Math.abs;const Ky=Math.round;const Yy={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};const Xy=e=>e.type==="longpress"||e.type.indexOf("touch")===0;const Jy=(e,t)=>{const o=t.dom;const n=t.getDoc();const s=document;const r=t.getBody();let a,c,i,l,d;let u,f,m,g,p,h,y,b;let v;let k;let w;let _;const x=e=>E(e)&&(Tr(e)||o.is(e,"figure.image"));const C=e=>Mr(e)||o.hasClass(e,"mce-preview-object");const S=(e,t)=>{if(Xy(e)){const o=e.touches[0];return x(e.target)&&!vy(o.clientX,o.clientY,t)}else{return x(e.target)&&!vy(e.clientX,e.clientY,t)}};const z=e=>{const o=e.target;if(S(e,t.selection.getRng())&&!e.isDefaultPrevented()){t.selection.select(o)}};const T=e=>{if(o.hasClass(e,"mce-preview-object")&&E(e.firstElementChild)){return[e,e.firstElementChild]}else if(o.is(e,"figure.image")){return[e.querySelector("img")]}else{return[e]}};const O=e=>{const n=Of(t);if(!n){return false}if(e.getAttribute("data-mce-resize")==="false"){return false}if(e===t.getBody()){return false}if(o.hasClass(e,"mce-preview-object")&&E(e.firstElementChild)){return vn(yn.fromDom(e.firstElementChild),n)}else{return vn(yn.fromDom(e),n)}};const D=e=>{if(C(e)){return o.create("img",{src:to.transparentSrc})}else{return e.cloneNode(true)}};const A=(e,n,s)=>{if(E(s)){const r=T(e);Q(r,(e=>{if(e.style[n]||!t.schema.isValid(e.nodeName.toLowerCase(),n)){o.setStyle(e,n,s)}else{o.setAttrib(e,n,""+s)}}))}};const N=(e,t,o)=>{A(e,"width",t);A(e,"height",o)};const M=e=>{let n,s,d;let S,z;n=e.screenX-u;s=e.screenY-f;v=n*l[2]+p;k=s*l[3]+h;v=v<5?5:v;k=k<5?5:k;if((x(a)||C(a))&&Df(t)!==false){d=!qy.modifierPressed(e)}else{d=qy.modifierPressed(e)}if(d){if(Gy(n)>Gy(s)){k=Ky(v*y);v=Ky(k/y)}else{v=Ky(k/y);k=Ky(v*y)}}N(c,v,k);S=l.startPos.x+n;z=l.startPos.y+s;S=S>0?S:0;z=z>0?z:0;o.setStyles(i,{left:S,top:z,display:"block"});i.innerHTML=v+" &times; "+k;if(l[2]<0&&c.clientWidth<=v){o.setStyle(c,"left",m+(p-v))}if(l[3]<0&&c.clientHeight<=k){o.setStyle(c,"top",g+(h-k))}n=r.scrollWidth-w;s=r.scrollHeight-_;if(n+s!==0){o.setStyles(i,{left:S-n,top:z-s})}if(!b){Sy(t,a,p,h,"corner-"+l.name);b=true}};const R=()=>{const e=b;b=false;if(e){A(a,"width",v);A(a,"height",k)}o.unbind(n,"mousemove",M);o.unbind(n,"mouseup",R);if(s!==n){o.unbind(s,"mousemove",M);o.unbind(s,"mouseup",R)}o.remove(c);o.remove(i);o.remove(d);B(a);if(e){zy(t,a,v,k,"corner-"+l.name);o.setAttrib(a,"style",o.getAttrib(a,"style"))}t.nodeChanged()};const B=e=>{F();const m=o.getPos(e,r);const g=m.x;const b=m.y;const x=e.getBoundingClientRect();const C=x.width||x.right-x.left;const S=x.height||x.bottom-x.top;if(a!==e){H();a=e;v=k=0}const z=t.dispatch("ObjectSelected",{target:e});if(O(e)&&!z.isDefaultPrevented()){xe(Yy,((e,t)=>{const m=m=>{const v=T(a)[0];u=m.screenX;f=m.screenY;p=v.clientWidth;h=v.clientHeight;y=h/p;l=e;l.name=t;l.startPos={x:C*e[0]+g,y:S*e[1]+b};w=r.scrollWidth;_=r.scrollHeight;d=o.add(r,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"});o.setStyles(d,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"});c=D(a);o.addClass(c,"mce-clonedresizable");o.setAttrib(c,"data-mce-bogus","all");c.contentEditable="false";o.setStyles(c,{left:g,top:b,margin:0});N(c,C,S);c.removeAttribute(Wy);r.appendChild(c);o.bind(n,"mousemove",M);o.bind(n,"mouseup",R);if(s!==n){o.bind(s,"mousemove",M);o.bind(s,"mouseup",R)}i=o.add(r,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},p+" &times; "+h)};let v=o.get("mceResizeHandle"+t);if(v){o.remove(v)}v=o.add(r,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:true,style:"cursor:"+t+"-resize; margin:0; padding:0"});o.bind(v,"mousedown",(e=>{e.stopImmediatePropagation();e.preventDefault();m(e)}));e.elm=v;o.setStyles(v,{left:C*e[0]+g-v.offsetWidth/2,top:S*e[1]+b-v.offsetHeight/2})}))}else{H(false)}};const L=Dl(B,0);const H=(e=true)=>{L.cancel();F();if(a&&e){a.removeAttribute(Wy)}xe(Yy,((e,t)=>{const n=o.get("mceResizeHandle"+t);if(n){o.unbind(n);o.remove(n)}}))};const I=(e,t)=>o.isChildOf(e,t);const P=n=>{if(b||t.removed||t.composing){return}const s=n.type==="mousedown"?n.target:e.getNode();const a=ls(yn.fromDom(s),$y).map((e=>e.dom)).filter((e=>o.isEditable(e.parentElement))).getOrUndefined();const c=E(a)?o.getAttrib(a,Wy,"1"):"1";Q(o.select(`img[${Wy}],hr[${Wy}]`),(e=>{e.removeAttribute(Wy)}));if(E(a)&&I(a,r)&&t.hasFocus()){V();const t=e.getStart(true);if(I(t,a)&&I(e.getEnd(true),a)){o.setAttrib(a,Wy,c);L.throttle(a);return}}H()};const F=()=>{xe(Yy,(e=>{if(e.elm){o.unbind(e.elm);delete e.elm}}))};const V=()=>{try{t.getDoc().execCommand("enableObjectResizing",false,"false")}catch(e){}};t.on("init",(()=>{V();t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",P);t.on("keyup compositionend",(e=>{if(a&&a.nodeName==="TABLE"){P(e)}}));t.on("hide blur",H);t.on("contextmenu longpress",z,true)}));t.on("remove",F);const j=()=>{L.cancel();a=c=d=null};return{isResizable:O,showResizeRect:B,hideResizeRect:H,updateResizeRect:P,destroy:j}};const Qy=(e,t)=>{t.fold((t=>{e.setStartBefore(t.dom)}),((t,o)=>{e.setStart(t.dom,o)}),(t=>{e.setStartAfter(t.dom)}))};const eb=(e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,o)=>{e.setEnd(t.dom,o)}),(t=>{e.setEndAfter(t.dom)}))};const tb=(e,t,o)=>{const n=e.document.createRange();Qy(n,t);eb(n,o);return n};const ob=(e,t,o,n,s)=>{const r=e.document.createRange();r.setStart(t.dom,o);r.setEnd(n.dom,s);return r};const nb=Ou.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);const sb=(e,t,o)=>t(yn.fromDom(o.startContainer),o.startOffset,yn.fromDom(o.endContainer),o.endOffset);const rb=(e,t)=>t.match({domRange:e=>({ltr:R(e),rtl:U.none}),relative:(t,o)=>({ltr:$e((()=>tb(e,t,o))),rtl:$e((()=>U.some(tb(e,o,t))))}),exact:(t,o,n,s)=>({ltr:$e((()=>ob(e,t,o,n,s))),rtl:$e((()=>U.some(ob(e,n,s,t,o))))})});const ab=(e,t)=>{const o=t.ltr();if(o.collapsed){const n=t.rtl().filter((e=>e.collapsed===false));return n.map((e=>nb.rtl(yn.fromDom(e.endContainer),e.endOffset,yn.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>sb(e,nb.ltr,o)))}else{return sb(e,nb.ltr,o)}};const cb=(e,t)=>{const o=rb(e,t);return ab(e,o)};nb.ltr;nb.rtl;const ib=(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n});const lb={create:ib};const db=(e,t,o)=>{var n,s;return U.from((s=(n=e.dom).caretPositionFromPoint)===null||s===void 0?void 0:s.call(n,t,o)).bind((t=>{if(t.offsetNode===null){return U.none()}const o=e.dom.createRange();o.setStart(t.offsetNode,t.offset);o.collapse();return U.some(o)}))};const ub=(e,t,o)=>{var n,s;return U.from((s=(n=e.dom).caretRangeFromPoint)===null||s===void 0?void 0:s.call(n,t,o))};const fb=(()=>{if(document.caretPositionFromPoint){return db}else if(document.caretRangeFromPoint){return ub}else{return U.none}})();const mb=(e,t,o)=>{const n=yn.fromDom(e.document);return fb(n,t,o).map((e=>lb.create(yn.fromDom(e.startContainer),e.startOffset,yn.fromDom(e.endContainer),e.endOffset)))};const gb=Ou.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);const pb=(e,t,o,n)=>e.fold(t,o,n);const hb=e=>e.fold(B,B,B);const yb=gb.before;const bb=gb.on;const vb=gb.after;const kb={before:yb,on:bb,after:vb,cata:pb,getStart:hb};const wb=Ou.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]);const _b=e=>wb.exact(e.start,e.soffset,e.finish,e.foffset);const xb=e=>e.match({domRange:e=>yn.fromDom(e.startContainer),relative:(e,t)=>kb.getStart(e),exact:(e,t,o,n)=>e});const Cb=wb.domRange;const Sb=wb.relative;const zb=wb.exact;const Eb=e=>{const t=xb(e);return Tn(t)};const Tb=lb.create;const Ob={domRange:Cb,relative:Sb,exact:zb,exactFromRange:_b,getWin:Eb,range:Tb};const Db=(e,t)=>{const o=Mo(e);if("input"===o){return kb.after(e)}else if(!Y(["br","img"],o)){return kb.on(e,t)}else{return t===0?kb.before(e):kb.after(e)}};const Ab=(e,t)=>{const o=e.fold(kb.before,Db,kb.after);const n=t.fold(kb.before,Db,kb.after);return Ob.relative(o,n)};const Nb=(e,t,o,n)=>{const s=Db(e,t);const r=Db(o,n);return Ob.relative(s,r)};const Mb=e=>e.match({domRange:e=>{const t=yn.fromDom(e.startContainer);const o=yn.fromDom(e.endContainer);return Nb(t,e.startOffset,o,e.endOffset)},relative:Ab,exact:Nb});const Rb=(e,t)=>{const o=t||document;const n=o.createDocumentFragment();Q(e,(e=>{n.appendChild(e.dom)}));return yn.fromDom(n)};const Bb=e=>{const t=Ob.getWin(e).dom;const o=(e,o,n,s)=>ob(t,e,o,n,s);const n=Mb(e);return cb(t,n).match({ltr:o,rtl:o})};const Lb=(e,t,o)=>mb(e,t,o);const Hb=(e,t,o)=>{const n=Tn(yn.fromDom(o));return Lb(n.dom,e,t).map((e=>{const t=o.createRange();t.setStart(e.start.dom,e.soffset);t.setEnd(e.finish.dom,e.foffset);return t})).getOrUndefined()};const Ib=(e,t)=>E(e)&&E(t)&&(e.startContainer===t.startContainer&&e.startOffset===t.startOffset)&&(e.endContainer===t.endContainer&&e.endOffset===t.endOffset);const Pb=(e,t,o)=>{let n=e;while(n&&n!==t){if(o(n)){return n}n=n.parentNode}return null};const Fb=(e,t,o)=>Pb(e,t,o)!==null;const Vb=(e,t,o)=>Fb(e,t,(e=>e.nodeName===o));const jb=(e,t)=>Ea(e)&&!Fb(e,t,pp);const Zb=(e,t,o)=>{const n=t.parentNode;if(n){const s=new cr(t,e.getParent(n,e.isBlock)||e.getRoot());let r;while(r=s[o?"prev":"next"]()){if(Er(r)){return true}}}return false};const Ub=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t};const qb=(e,t)=>{let o=t;while(o&&o!==e){if(Dr(o)){return true}o=o.parentNode}return false};const Wb=(e,t,o,n,s)=>{const r=e.getRoot();const a=e.schema.getNonEmptyElements();const c=s.parentNode;let i;let l;if(!c){return U.none()}const d=e.getParent(c,e.isBlock)||r;if(n&&Er(s)&&t&&e.isEmpty(d)){return U.some(Zd(c,e.nodeIndex(s)))}const u=new cr(s,d);while(l=u[n?"prev":"next"]()){if(e.getContentEditableParent(l)==="false"||jb(l,r)){return U.none()}if(wr(l)&&l.data.length>0){if(!Vb(l,r,"A")){return U.some(Zd(l,n?l.data.length:0))}return U.none()}if(e.isBlock(l)||a[l.nodeName.toLowerCase()]){return U.none()}i=l}if(Cr(i)){return U.none()}if(o&&i){return U.some(Zd(i,0))}return U.none()};const $b=(e,t,o,n)=>{const s=e.getRoot();let r;let a=false;let c=o?n.startContainer:n.endContainer;let i=o?n.startOffset:n.endOffset;const l=dr(c)&&i===c.childNodes.length;const d=e.schema.getNonEmptyElements();let u=o;if(Ea(c)){return U.none()}if(dr(c)&&i>c.childNodes.length-1){u=false}if(Sr(c)){c=s;i=0}if(c===s){if(u){r=c.childNodes[i>0?i-1:0];if(r){if(Ea(r)){return U.none()}if(d[r.nodeName]||br(r)){return U.none()}}}if(c.hasChildNodes()){i=Math.min(!u&&i>0?i-1:i,c.childNodes.length-1);c=c.childNodes[i];i=wr(c)&&l?c.data.length:0;if(!t&&c===s.lastChild&&br(c)){return U.none()}if(qb(s,c)||Ea(c)){return U.none()}if(c.hasChildNodes()&&!br(c)){r=c;const t=new cr(c,s);do{if(Dr(r)||Ea(r)){a=false;break}if(wr(r)&&r.data.length>0){i=u?0:r.data.length;c=r;a=true;break}if(d[r.nodeName.toLowerCase()]&&!Nr(r)){i=e.nodeIndex(r);c=r.parentNode;if(!u){i++}a=true;break}}while(r=u?t.next():t.prev())}}}if(t){if(wr(c)&&i===0){Wb(e,l,t,true,c).each((e=>{c=e.container();i=e.offset();a=true}))}if(dr(c)){r=c.childNodes[i];if(!r){r=c.childNodes[i-1]}if(r&&Er(r)&&!Ub(r,"A")&&!Zb(e,r,false)&&!Zb(e,r,true)){Wb(e,l,t,true,r).each((e=>{c=e.container();i=e.offset();a=true}))}}}if(u&&!t&&wr(c)&&i===c.data.length){Wb(e,l,t,false,c).each((e=>{c=e.container();i=e.offset();a=true}))}return a&&c?U.some(Zd(c,i)):U.none()};const Gb=(e,t)=>{const o=t.collapsed,n=t.cloneRange();const s=Zd.fromRangeStart(t);$b(e,o,true,n).each((e=>{if(!o||!Zd.isAbove(s,e)){n.setStart(e.container(),e.offset())}}));if(!o){$b(e,o,false,n).each((e=>{n.setEnd(e.container(),e.offset())}))}if(o){n.collapse(true)}return Ib(t,n)?U.none():U.some(n)};const Kb=(e,t)=>e.splitText(t);const Yb=e=>{let t=e.startContainer,o=e.startOffset,n=e.endContainer,s=e.endOffset;if(t===n&&wr(t)){if(o>0&&o<t.data.length){n=Kb(t,o);t=n.previousSibling;if(s>o){s=s-o;const e=Kb(n,s).previousSibling;t=n=e;s=e.data.length;o=0}else{s=0}}}else{if(wr(t)&&o>0&&o<t.data.length){t=Kb(t,o);o=0}if(wr(n)&&s>0&&s<n.data.length){const e=Kb(n,s).previousSibling;n=e;s=e.data.length}}return{startContainer:t,startOffset:o,endContainer:n,endOffset:s}};const Xb=e=>{const t=(t,o)=>cy(e,t,o);const o=Yb;const n=t=>Gb(e,t).fold(j,(e=>{t.setStart(e.startContainer,e.startOffset);t.setEnd(e.endContainer,e.endOffset);return true}));const s=(t,o={type:"word"})=>{if(o.type==="word"){const o=ay(e,t,[{inline:"span"}]);const n=e.createRng();n.setStart(o.startContainer,o.startOffset);n.setEnd(o.endContainer,o.endOffset);return n}return t};return{walk:t,split:o,expand:s,normalize:n}};Xb.compareRanges=Ib;Xb.getCaretRangeFromPoint=Hb;Xb.getSelectedNode=hd;Xb.getNode=yd;const Jb=(e,t)=>{const o=(t,o)=>{if(!O(o)&&!o.match(/^[0-9]+$/)){throw new Error(e+".set accepts only positive integer values. Value was "+o)}const n=t.dom;if(ms(n)){n.style[e]=o+"px"}};const n=o=>{const n=t(o);if(n<=0||n===null){const t=bs(o,e);return parseFloat(t)||0}return n};const s=n;const r=(e,t)=>se(t,((t,o)=>{const n=bs(e,o);const s=n===undefined?0:parseInt(n,10);return isNaN(s)?t:t+s}),0);const a=(e,t,o)=>{const n=r(e,o);const s=t>n?t-n:0;return s};return{set:o,get:n,getOuter:s,aggregate:r,max:a}};const Qb=Jb("height",(e=>{const t=e.dom;return es(e)?t.getBoundingClientRect().height:t.offsetHeight}));const ev=e=>Qb.get(e);const tv=()=>yn.fromDom(document);const ov=(e,t)=>{const o=e.view(t);return o.fold(R([]),(t=>{const o=e.owner(t);const n=ov(e,o);return[t].concat(n)}))};const nv=(e,t)=>{const o=t.owner(e);return ov(t,o)};const sv=e=>{var t;const o=e.dom===document?U.none():U.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return o.map(yn.fromDom)};const rv=e=>zn(e);var av=Object.freeze({__proto__:null,view:sv,owner:rv});const cv=e=>{const t=tv();const o=Xs(t);const n=nv(e,av);const s=Ys(e);const r=ne(n,((e,t)=>{const o=Ys(t);return{left:e.left+o.left,top:e.top+o.top}}),{left:0,top:0});return Ws(r.left+s.left+o.left,r.top+s.top+o.top)};const iv=e=>Mo(e)==="textarea";const lv=(e,t)=>{const o=e.dispatch("ScrollIntoView",t);return o.isDefaultPrevented()};const dv=(e,t)=>{e.dispatch("AfterScrollIntoView",t)};const uv=(e,t)=>{const o=Hn(e);if(o.length===0||iv(e)){return{element:e,offset:t}}else if(t<o.length&&!iv(o[t])){return{element:o[t],offset:0}}else{const n=o[o.length-1];if(iv(n)){return{element:e,offset:t}}else{if(Mo(n)==="img"){return{element:n,offset:1}}else if(Po(n)){return{element:n,offset:Zr(n).length}}else{return{element:n,offset:Hn(n).length}}}}};const fv=(e,t)=>{const o=Ks(e);const n=ev(e);return{element:e,bottom:o.top+n,height:n,pos:o,cleanup:t}};const mv=(e,t)=>{const o=uv(e,t);const n=yn.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+va+"</span>");Cs(o.element,n);return fv(n,(()=>Ns(n)))};const gv=e=>fv(yn.fromDom(e),A);const pv=(e,t,o,n)=>{vv(e,((s,r)=>yv(e,t,o,n)),o)};const hv=(e,t,o,n,s)=>{const r={elm:n.element.dom,alignToTop:s};if(lv(e,r)){return}const a=Xs(t).top;o(e,t,a,n,s);dv(e,r)};const yv=(e,t,o,n)=>{const s=yn.fromDom(e.getBody());const r=yn.fromDom(e.getDoc());xs(s);const a=mv(yn.fromDom(o.startContainer),o.startOffset);hv(e,r,t,a,n);a.cleanup()};const bv=(e,t,o,n)=>{const s=yn.fromDom(e.getDoc());hv(e,s,o,gv(t),n)};const vv=(e,t,o)=>{const n=o.startContainer;const s=o.startOffset;const r=o.endContainer;const a=o.endOffset;t(yn.fromDom(n),yn.fromDom(r));const c=e.dom.createRng();c.setStart(n,s);c.setEnd(r,a);e.selection.setRng(o)};const kv=(e,t,o,n,s)=>{const r=t.pos;if(n){Js(r.left,r.top,s)}else{const n=r.top-o+t.height;Js(-e.getBody().getBoundingClientRect().left,n,s)}};const wv=(e,t,o,n,s,r)=>{const a=n+o;const c=s.pos.top;const i=s.bottom;const l=i-c>=n;if(c<o){kv(e,s,n,r!==false,t)}else if(c>a){const o=l?r!==false:r===true;kv(e,s,n,o,t)}else if(i>a&&!l){kv(e,s,n,r===true,t)}};const _v=(e,t,o,n,s)=>{const r=Tn(t).dom.innerHeight;wv(e,t,o,r,n,s)};const xv=(e,t,o,n,s)=>{const r=Tn(t).dom.innerHeight;wv(e,t,o,r,n,s);const a=cv(n.element);const c=or(window);if(a.top<c.y){Qs(n.element,s!==false)}else if(a.top>c.bottom){Qs(n.element,s===true)}};const Cv=(e,t,o)=>pv(e,_v,t,o);const Sv=(e,t,o)=>bv(e,t,_v,o);const zv=(e,t,o)=>pv(e,xv,t,o);const Ev=(e,t,o)=>bv(e,t,xv,o);const Tv=(e,t,o)=>{const n=e.inline?Sv:Ev;n(e,t,o)};const Ov=(e,t,o)=>{const n=e.inline?Cv:zv;n(e,t,o)};const Dv=e=>e.dom.focus();const Av=e=>{const t=$n(e).dom;return e.dom===t.activeElement};const Nv=(e=tv())=>U.from(e.dom.activeElement).map(yn.fromDom);const Mv=e=>Nv($n(e)).filter((t=>e.dom.contains(t.dom)));const Rv=(e,t)=>{const o=Po(t)?Zr(t).length:Hn(t).length+1;if(e>o){return o}else if(e<0){return 0}return e};const Bv=e=>Ob.range(e.start,Rv(e.soffset,e.start),e.finish,Rv(e.foffset,e.finish));const Lv=(e,t)=>!lr(t.dom)&&(Cn(e,t)||xn(e,t));const Hv=e=>t=>Lv(e,t.start)&&Lv(e,t.finish);const Iv=e=>e.inline||to.browser.isFirefox();const Pv=e=>Ob.range(yn.fromDom(e.startContainer),e.startOffset,yn.fromDom(e.endContainer),e.endOffset);const Fv=e=>{const t=e.getSelection();const o=!t||t.rangeCount===0?U.none():U.from(t.getRangeAt(0));return o.map(Pv)};const Vv=e=>{const t=Tn(e);return Fv(t.dom).filter(Hv(e))};const jv=(e,t)=>U.from(t).filter(Hv(e)).map(Bv);const Zv=e=>{const t=document.createRange();try{t.setStart(e.start.dom,e.soffset);t.setEnd(e.finish.dom,e.foffset);return U.some(t)}catch(e){return U.none()}};const Uv=e=>{const t=Iv(e)?Vv(yn.fromDom(e.getBody())):U.none();e.bookmark=t.isSome()?t:e.bookmark};const qv=e=>{const t=e.bookmark?e.bookmark:U.none();return t.bind((t=>jv(yn.fromDom(e.getBody()),t))).bind(Zv)};const Wv=e=>{qv(e).each((t=>e.selection.setRng(t)))};const $v=e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1};const Gv={isEditorUIElement:$v};const Kv=(e,t)=>{if(!O(t)){t=0}return setTimeout(e,t)};const Yv=(e,t)=>{if(!O(t)){t=0}return setInterval(e,t)};const Xv={setEditorTimeout:(e,t,o)=>Kv((()=>{if(!e.removed){t()}}),o),setEditorInterval:(e,t,o)=>{const n=Yv((()=>{if(!e.removed){t()}else{clearInterval(n)}}),o);return n}};const Jv=e=>e.type==="nodechange"&&e.selectionChange;const Qv=(e,t)=>{const o=()=>{t.throttle()};sl.DOM.bind(document,"mouseup",o);e.on("remove",(()=>{sl.DOM.unbind(document,"mouseup",o)}))};const ek=(e,t)=>{e.on("mouseup touchend",(e=>{t.throttle()}))};const tk=(e,t)=>{ek(e,t);e.on("keyup NodeChange AfterSetSelectionRange",(t=>{if(!Jv(t)){Uv(e)}}))};const ok=e=>{const t=Dl((()=>{Uv(e)}),0);e.on("init",(()=>{if(e.inline){Qv(e,t)}tk(e,t)}));e.on("remove",(()=>{t.cancel()}))};let nk;const sk=sl.DOM;const rk=e=>dr(e)&&Gv.isEditorUIElement(e);const ak=e=>{const t=e.classList;if(t!==undefined){return t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body")}else{return false}};const ck=(e,t)=>{const o=Zf(e);const n=sk.getParent(t,(t=>rk(t)||(o?e.dom.is(t,o):false)));return n!==null};const ik=e=>{try{const t=$n(yn.fromDom(e.getElement()));return Nv(t).fold((()=>document.body),(e=>e.dom))}catch(e){return document.body}};const lk=(e,t)=>{const o=t.editor;ok(o);const n=(e,t)=>{if(Am(e)&&e.inline!==true){const o=yn.fromDom(e.getContainer());t(o,"tox-edit-focus")}};o.on("focusin",(()=>{const t=e.focusedEditor;if(ak(ik(o))){n(o,an)}if(t!==o){if(t){t.dispatch("blur",{focusedEditor:o})}e.setActive(o);e.focusedEditor=o;o.dispatch("focus",{blurredEditor:t});o.focus(true)}}));o.on("focusout",(()=>{Xv.setEditorTimeout(o,(()=>{const t=e.focusedEditor;if(!ak(ik(o))||t!==o){n(o,ln)}if(!ck(o,ik(o))&&t===o){o.dispatch("blur",{focusedEditor:null});e.focusedEditor=null}}))}));if(!nk){nk=t=>{const o=e.activeEditor;if(o){Jn(t).each((t=>{const n=t;if(n.ownerDocument===document){if(n!==document.body&&!ck(o,n)&&e.focusedEditor===o){o.dispatch("blur",{focusedEditor:null});e.focusedEditor=null}}}))}};sk.bind(document,"focusin",nk)}};const dk=(e,t)=>{if(e.focusedEditor===t.editor){e.focusedEditor=null}if(!e.activeEditor&&nk){sk.unbind(document,"focusin",nk);nk=null}};const uk=e=>{e.on("AddEditor",H(lk,e));e.on("RemoveEditor",H(dk,e))};const fk=(e,t)=>e.dom.getParent(t,(t=>e.dom.getContentEditable(t)==="true"));const mk=e=>e.collapsed?U.from(yd(e.startContainer,e.startOffset)).map(yn.fromDom):U.none();const gk=(e,t)=>mk(t).bind((t=>{if(la(t)){return U.some(t)}else if(!Cn(e,t)){return U.some(e)}else{return U.none()}}));const pk=(e,t)=>{gk(yn.fromDom(e.getBody()),t).bind((e=>fp(e.dom))).fold((()=>{e.selection.normalize()}),(t=>e.selection.setRng(t.toRange())))};const hk=e=>{if(e.setActive){try{e.setActive()}catch(t){e.focus()}}else{e.focus()}};const yk=e=>Av(e)||Mv(e).isSome();const bk=e=>E(e.iframeElement)&&Av(yn.fromDom(e.iframeElement));const vk=e=>{const t=e.getBody();return t&&yk(yn.fromDom(t))};const kk=e=>{const t=$n(yn.fromDom(e.getElement()));return Nv(t).filter((t=>!ak(t.dom)&&ck(e,t.dom))).isSome()};const wk=e=>e.inline?vk(e):bk(e);const _k=e=>wk(e)||kk(e);const xk=e=>{const t=e.selection;const o=e.getBody();let n=t.getRng();e.quirks.refreshContentEditable();if(E(e.bookmark)&&!wk(e)){qv(e).each((t=>{e.selection.setRng(t);n=t}))}const s=fk(e,t.getNode());if(s&&e.dom.isChildOf(s,o)){hk(s);pk(e,n);Ck(e);return}if(!e.inline){if(!to.browser.isOpera()){hk(o)}e.getWin().focus()}if(to.browser.isFirefox()||e.inline){hk(o);pk(e,n)}Ck(e)};const Ck=e=>e.editorManager.setActive(e);const Sk=(e,t)=>{if(e.removed){return}if(t){Ck(e)}else{xk(e)}};const zk=(e,t,o,n,s)=>{const r=o?t.startContainer:t.endContainer;const a=o?t.startOffset:t.endOffset;return U.from(r).map(yn.fromDom).map((e=>!n||!t.collapsed?In(e,s(e,a)).getOr(e):e)).bind((e=>Io(e)?U.some(e):On(e).filter(Io))).map((e=>e.dom)).getOr(e)};const Ek=(e,t,o=false)=>zk(e,t,true,o,((e,t)=>Math.min(Vn(e),t)));const Tk=(e,t,o=false)=>zk(e,t,false,o,((e,t)=>t>0?t-1:t));const Ok=(e,t)=>{const o=e;while(e&&wr(e)&&e.length===0){e=t?e.nextSibling:e.previousSibling}return e||o};const Dk=(e,t)=>{if(!t){return e}let o=t.startContainer;let n=t.endContainer;const s=t.startOffset;const r=t.endOffset;let a=t.commonAncestorContainer;if(!t.collapsed){if(o===n){if(r-s<2){if(o.hasChildNodes()){a=o.childNodes[s]}}}if(wr(o)&&wr(n)){if(o.length===s){o=Ok(o.nextSibling,true)}else{o=o.parentNode}if(r===0){n=Ok(n.previousSibling,false)}else{n=n.parentNode}if(o&&o===n){a=o}}}const c=wr(a)?a.parentNode:a;return dr(c)?c:e};const Ak=(e,t,o,n)=>{const s=[];const r=e.getRoot();const a=e.getParent(o||Ek(r,t,t.collapsed),e.isBlock);const c=e.getParent(n||Tk(r,t,t.collapsed),e.isBlock);if(a&&a!==r){s.push(a)}if(a&&c&&a!==c){let t;const o=new cr(a,r);while((t=o.next())&&t!==c){if(e.isBlock(t)){s.push(t)}}}if(c&&a!==c&&c!==r){s.push(c)}return s};const Nk=(e,t,o)=>U.from(t).bind((t=>U.from(t.parentNode).map((n=>{const s=e.nodeIndex(t);const r=e.createRng();r.setStart(n,s);r.setEnd(n,s+1);if(o){fh(e,r,t,true);fh(e,r,t,false)}return r}))));const Mk=(e,t)=>J(t,(t=>{const o=e.dispatch("GetSelectionRange",{range:t});return o.range!==t?o.range:t}));const Rk=e=>Mo(e)==="img"?1:Ur(e).fold((()=>Hn(e).length),(e=>e.length));const Bk=e=>Ur(e).filter((e=>e.trim().length!==0||e.indexOf(Ir)>-1)).isSome();const Lk=e=>Ho(e)&&Wo(e,"contenteditable")==="false";const Hk=["img","br"];const Ik=e=>{const t=Bk(e);return t||Y(Hk,Mo(e))||Lk(e)};const Pk=e=>as(e,Ik);const Fk=e=>Vk(e,Ik);const Vk=(e,t)=>{const o=e=>{const n=Hn(e);for(let e=n.length-1;e>=0;e--){const s=n[e];if(t(s)){return U.some(s)}const r=o(s);if(r.isSome()){return r}}return U.none()};return o(e)};const jk="[data-mce-autocompleter]";const Zk=(e,t)=>{if(qk(yn.fromDom(e.getBody())).isNone()){const o=yn.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Es(o,yn.fromDom(t.extractContents()));t.insertNode(o.dom);On(o).each((e=>e.dom.normalize()));Fk(o).map((t=>{e.selection.setCursorLocation(t.dom,Rk(t))}))}};const Uk=e=>ls(e,jk);const qk=e=>is(e,jk);const Wk=(e,t)=>qk(t).each((t=>{const o=e.selection.getBookmark();Ms(t);e.selection.moveToBookmark(o)}));const $k={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};const Gk=(e,t,o)=>{const n=o?"lastChild":"firstChild";const s=o?"prev":"next";if(e[n]){return e[n]}if(e!==t){let o=e[s];if(o){return o}for(let n=e.parent;n&&n!==t;n=n.parent){o=n[s];if(o){return o}}}return undefined};const Kk=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!ec(o)){return false}const n=e.parent;if(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(o)){return false}return true};const Yk=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Xk{static create(e,t){const o=new Xk(e,$k[e]||1);if(t){xe(t,((e,t)=>{o.attr(t,e)}))}return o}constructor(e,t){this.name=e;this.type=t;if(t===1){this.attributes=[];this.attributes.map={}}}replace(e){const t=this;if(e.parent){e.remove()}t.insert(e,t);t.remove();return t}attr(e,t){const o=this;if(!v(e)){if(E(e)){xe(e,((e,t)=>{o.attr(t,e)}))}return o}const n=o.attributes;if(n){if(t!==undefined){if(t===null){if(e in n.map){delete n.map[e];let t=n.length;while(t--){if(n[t].name===e){n.splice(t,1);return o}}}return o}if(e in n.map){let o=n.length;while(o--){if(n[o].name===e){n[o].value=t;break}}}else{n.push({name:e,value:t})}n.map[e]=t;return o}return n.map[e]}return undefined}clone(){const e=this;const t=new Xk(e.name,e.type);const o=e.attributes;if(o){const e=[];e.map={};for(let t=0,n=o.length;t<n;t++){const n=o[t];if(n.name!=="id"){e[e.length]={name:n.name,value:n.value};e.map[n.name]=n.value}}t.attributes=e}t.value=e.value;return t}wrap(e){const t=this;if(t.parent){t.parent.insert(e,t);e.append(t)}return t}unwrap(){const e=this;for(let t=e.firstChild;t;){const o=t.next;e.insert(t,e,true);t=o}e.remove()}remove(){const e=this,t=e.parent,o=e.next,n=e.prev;if(t){if(t.firstChild===e){t.firstChild=o;if(o){o.prev=null}}else if(n){n.next=o}if(t.lastChild===e){t.lastChild=n;if(n){n.next=null}}else if(o){o.prev=n}e.parent=e.next=e.prev=null}return e}append(e){const t=this;if(e.parent){e.remove()}const o=t.lastChild;if(o){o.next=e;e.prev=o;t.lastChild=e}else{t.lastChild=t.firstChild=e}e.parent=t;return e}insert(e,t,o){if(e.parent){e.remove()}const n=t.parent||this;if(o){if(t===n.firstChild){n.firstChild=e}else if(t.prev){t.prev.next=e}e.prev=t.prev;e.next=t;t.prev=e}else{if(t===n.lastChild){n.lastChild=e}else if(t.next){t.next.prev=e}e.next=t.next;e.prev=t;t.next=e}e.parent=n;return e}getAll(e){const t=this;const o=[];for(let n=t.firstChild;n;n=Gk(n,t)){if(n.name===e){o.push(n)}}return o}children(){const e=this;const t=[];for(let o=e.firstChild;o;o=o.next){t.push(o)}return t}empty(){const e=this;if(e.firstChild){const t=[];for(let o=e.firstChild;o;o=Gk(o,e)){t.push(o)}let o=t.length;while(o--){const e=t[o];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}e.firstChild=e.lastChild=null;return e}isEmpty(e,t={},o){var n;const s=this;let r=s.firstChild;if(Yk(s)){return false}if(r){do{if(r.type===1){if(r.attr("data-mce-bogus")){continue}if(e[r.name]){return false}if(Yk(r)){return false}}if(r.type===8){return false}if(r.type===3&&!Kk(r)){return false}if(r.type===3&&r.parent&&t[r.parent.name]&&ec((n=r.value)!==null&&n!==void 0?n:"")){return false}if(o&&o(r)){return false}}while(r=Gk(r,s))}return true}walk(e){return Gk(this,null,e)}}const Jk=mo.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," ");const Qk=e=>v(e.nodeValue)&&e.nodeValue.includes(va);const ew=e=>`${e.length===0?"":`${J(e,(e=>`[${e}]`)).join(",")},`}[data-mce-bogus="all"]`;const tw=(e,t)=>t.querySelectorAll(ew(e));const ow=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,(e=>Qk(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP));const nw=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,(e=>{if(Qk(e)){const t=e.parentNode;return t&&Me(Jk,t.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else{return NodeFilter.FILTER_SKIP}}));const sw=e=>ow(e).nextNode()!==null;const rw=e=>nw(e).nextNode()!==null;const aw=(e,t)=>t.querySelector(ew(e))!==null;const cw=(e,t)=>{Q(tw(e,t),(t=>{const o=yn.fromDom(t);if(Wo(o,"data-mce-bogus")==="all"){Ns(o)}else{Q(e,(e=>{if(Go(o,e)){Ko(o,e)}}))}}))};const iw=e=>{let t=e.nextNode();while(t!==null){t.nodeValue=null;t=e.nextNode()}};const lw=N(iw,ow);const dw=N(iw,nw);const uw=(e,t)=>{const o=[{condition:H(aw,t),action:H(cw,t)},{condition:sw,action:lw},{condition:rw,action:dw}];let n=e;let s=false;Q(o,(({condition:t,action:o})=>{if(t(n)){if(!s){n=e.cloneNode(true);s=true}o(n)}}));return n};const fw=e=>{const t=rr(e,"[data-mce-bogus]");Q(t,(e=>{const t=Wo(e,"data-mce-bogus");if(t==="all"){Ns(e)}else if(ra(e)){Cs(e,yn.fromText(Hr));Ns(e)}else{Ms(e)}}))};const mw=e=>{const t=rr(e,"input");Q(t,(e=>{Ko(e,"name")}))};const gw=(e,t)=>{const o=tf(e);const n=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(n,"")};const pw=(e,t)=>{const o=e.getDoc();const n=$n(yn.fromDom(e.getBody()));const s=yn.fromTag("div",o);Uo(s,"data-mce-bogus","all");ys(s,{position:"fixed",left:"-9999999px",top:"0"});Hs(s,t.innerHTML);fw(s);mw(s);const r=Kn(n);Es(r,s);const a=wa(s.dom.innerText);Ns(s);return a};const hw=(e,t,o)=>{let n;if(t.format==="raw"){n=mo.trim(wa(uw(o,e.serializer.getTempAttrs()).innerHTML))}else if(t.format==="text"){n=pw(e,o)}else if(t.format==="tree"){n=e.serializer.serialize(o,t)}else{n=gw(e,e.serializer.serialize(o,t))}const s=t.format!=="text"&&!ua(yn.fromDom(o));return s&&v(n)?mo.trim(n):n};const yw=(e,t)=>U.from(e.getBody()).fold(R(t.format==="tree"?new Xk("body",11):""),(o=>hw(e,t,o)));const bw=mo.makeMap;const vw=e=>{const t=[];e=e||{};const o=e.indent;const n=bw(e.indent_before||"");const s=bw(e.indent_after||"");const r=fi.getEncodeFunc(e.entity_encoding||"raw",e.entities);const a=e.element_format!=="xhtml";return{start:(e,c,i)=>{if(o&&n[e]&&t.length>0){const e=t[t.length-1];if(e.length>0&&e!=="\n"){t.push("\n")}}t.push("<",e);if(c){for(let e=0,o=c.length;e<o;e++){const o=c[e];t.push(" ",o.name,'="',r(o.value,true),'"')}}if(!i||a){t[t.length]=">"}else{t[t.length]=" />"}if(i&&o&&s[e]&&t.length>0){const e=t[t.length-1];if(e.length>0&&e!=="\n"){t.push("\n")}}},end:e=>{let n;t.push("</",e,">");if(o&&s[e]&&t.length>0){n=t[t.length-1];if(n.length>0&&n!=="\n"){t.push("\n")}}},text:(e,o)=>{if(e.length>0){t[t.length]=o?e:r(e)}},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,n)=>{if(n){t.push("<?",e," ",r(n),"?>")}else{t.push("<?",e,"?>")}if(o){t.push("\n")}},doctype:e=>{t.push("<!DOCTYPE",e,">",o?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}};const kw=(e={},t=Ai())=>{const o=vw(e);e.validate="validate"in e?e.validate:true;const n=n=>{const s=e.validate;const r={3:e=>{var t;o.text((t=e.value)!==null&&t!==void 0?t:"",e.raw)},8:e=>{var t;o.comment((t=e.value)!==null&&t!==void 0?t:"")},7:e=>{o.pi(e.name,e.value)},10:e=>{var t;o.doctype((t=e.value)!==null&&t!==void 0?t:"")},4:e=>{var t;o.cdata((t=e.value)!==null&&t!==void 0?t:"")},11:e=>{let t=e;if(t=t.firstChild){do{a(t)}while(t=t.next)}}};o.reset();const a=e=>{var n;const c=r[e.type];if(!c){const r=e.name;const c=r in t.getVoidElements();let i=e.attributes;if(s&&i&&i.length>1){const o=[];o.map={};const n=t.getElementRule(e.name);if(n){for(let e=0,t=n.attributesOrder.length;e<t;e++){const t=n.attributesOrder[e];if(t in i.map){const e=i.map[t];o.map[t]=e;o.push({name:t,value:e})}}for(let e=0,t=i.length;e<t;e++){const t=i[e].name;if(!(t in o.map)){const e=i.map[t];o.map[t]=e;o.push({name:t,value:e})}}i=o}}o.start(r,i,c);if(!c){let t=e.firstChild;if(t){if((r==="pre"||r==="textarea")&&t.type===3&&((n=t.value)===null||n===void 0?void 0:n[0])==="\n"){o.text("\n",true)}do{a(t)}while(t=t.next)}o.end(r)}}else{c(e)}};if(n.type===1&&!e.inner){a(n)}else if(n.type===3){r[3](n)}else{r[11](n)}return o.getContent()};return{serialize:n}};const ww=new Set;(()=>{const e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Q(e,(e=>{ww.add(e)}))})();const _w=["font","text-decoration","text-emphasis"];const xw=(e,t)=>we(e.parseStyle(e.getAttrib(t,"style")));const Cw=e=>ww.has(e);const Sw=(e,t)=>de(xw(e,t),(e=>!Cw(e)));const zw=e=>oe(e,(e=>X(_w,(t=>lt(e,t)))));const Ew=(e,t,o)=>{const n=xw(e,t);const s=xw(e,o);const r=n=>{var s,r;const a=(s=e.getStyle(t,n))!==null&&s!==void 0?s:"";const c=(r=e.getStyle(o,n))!==null&&r!==void 0?r:"";return pt(a)&&pt(c)&&a!==c};return X(n,(e=>{const t=t=>X(t,(t=>t===e));if(!t(s)&&t(_w)){const e=zw(s);return X(e,r)}else{return r(e)}}))};const Tw=(e,t,o)=>U.from(o.container()).filter(wr).exists((n=>{const s=e?0:-1;return t(n.data.charAt(o.offset()+s))}));const Ow=H(Tw,true,Vp);const Dw=H(Tw,false,Vp);const Aw=e=>{const t=e.container();return wr(t)&&(t.data.length===0||ka(t.data)&&by.isBookmarkNode(t.parentNode))};const Nw=(e,t)=>o=>zg(e?0:-1,o).filter(t).isSome();const Mw=e=>Tr(e)&&bs(yn.fromDom(e),"display")==="block";const Rw=e=>Dr(e)&&!yr(e);const Bw=Nw(true,Mw);const Lw=Nw(false,Mw);const Hw=Nw(true,Mr);const Iw=Nw(false,Mr);const Pw=Nw(true,br);const Fw=Nw(false,br);const Vw=Nw(true,Rw);const jw=Nw(false,Rw);const Zw=e=>e.slice(0,-1);const Uw=(e,t,o)=>{if(Cn(t,e)){return Zw(An(e,(e=>o(e)||xn(e,t))))}else{return[]}};const qw=(e,t)=>Uw(e,t,j);const Ww=(e,t)=>[e].concat(qw(e,t));const $w=(e,t,o)=>ip(e,t,o,Aw);const Gw=(e,t)=>ae(Ww(yn.fromDom(t.container()),e),oa);const Kw=(e,t,o)=>$w(e,t.dom,o).forall((e=>Gw(t,o).fold((()=>!Sg(e,o,t.dom)),(n=>!Sg(e,o,t.dom)&&Cn(n,yn.fromDom(e.container()))))));const Yw=(e,t,o)=>Gw(t,o).fold((()=>$w(e,t.dom,o).forall((e=>!Sg(e,o,t.dom)))),(t=>$w(e,t.dom,o).isNone()));const Xw=H(Yw,false);const Jw=H(Yw,true);const Qw=H(Kw,false);const e_=H(Kw,true);const t_=e=>Bg(e).exists(ra);const o_=(e,t,o)=>{const n=oe(Ww(yn.fromDom(o.container()),t),oa);const s=he(n).getOr(t);return ap(e,s.dom,o).filter(t_)};const n_=(e,t)=>Bg(t).exists(ra)||o_(true,e,t).isSome();const s_=(e,t)=>Lg(t).exists(ra)||o_(false,e,t).isSome();const r_=H(o_,false);const a_=H(o_,true);const c_=e=>Zd.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd();const i_=(e,t)=>{const o=oe(Ww(yn.fromDom(t.container()),e),oa);return he(o).getOr(e)};const l_=(e,t)=>{if(c_(t)){return Dw(t)}else{return Dw(t)||up(i_(e,t).dom,t).exists(Dw)}};const d_=(e,t)=>{if(c_(t)){return Ow(t)}else{return Ow(t)||dp(i_(e,t).dom,t).exists(Ow)}};const u_=e=>Y(["pre","pre-wrap"],e);const f_=e=>Bg(e).bind((e=>ns(e,Io))).exists((e=>u_(bs(e,"white-space"))));const m_=(e,t)=>up(e.dom,t).isNone();const g_=(e,t)=>dp(e.dom,t).isNone();const p_=(e,t)=>m_(e,t)||g_(e,t)||Xw(e,t)||Jw(e,t)||s_(e,t)||n_(e,t);const h_=e=>E(e)&&Dr(e)&&mg(e);const y_=(e,t)=>o=>h_(new cr(o,e)[t]());const b_=(e,t)=>{const o=dp(e.dom,t).getOr(t);const n=y_(e.dom,"next");return t.isAtEnd()&&(n(t.container())||n(o.container()))};const v_=(e,t)=>{const o=up(e.dom,t).getOr(t);const n=y_(e.dom,"prev");return t.isAtStart()&&(n(t.container())||n(o.container()))};const k_=(e,t)=>{if(f_(t)){return false}else{return p_(e,t)||l_(e,t)||d_(e,t)}};const w_=(e,t)=>{if(f_(t)){return false}else{return Xw(e,t)||Qw(e,t)||s_(e,t)||l_(e,t)||v_(e,t)}};const __=e=>{const t=e.container();const o=e.offset();if(wr(t)&&o<t.data.length){return Zd(t,o+1)}else{return e}};const x_=(e,t)=>{if(f_(t)){return false}else{return Jw(e,t)||e_(e,t)||n_(e,t)||d_(e,t)||b_(e,t)}};const C_=(e,t)=>w_(e,t)||x_(e,__(t));const S_=(e,t)=>Fp(e.charAt(t));const z_=(e,t)=>Vp(e.charAt(t));const E_=e=>{const t=e.container();return wr(t)&&it(t.data,Ir)};const T_=e=>{const t=e.split("");return J(t,((e,o)=>{if(Fp(e)&&o>0&&o<t.length-1&&jp(t[o-1])&&jp(t[o+1])){return" "}else{return e}})).join("")};const O_=(e,t,o)=>{const n=t.data;const s=Zd(t,0);if(!o&&S_(n,0)&&!C_(e,s)){t.data=" "+n.slice(1);return true}else if(o&&z_(n,0)&&w_(e,s)){t.data=Ir+n.slice(1);return true}else{return false}};const D_=e=>{const t=e.data;const o=T_(t);if(o!==t){e.data=o;return true}else{return false}};const A_=(e,t,o)=>{const n=t.data;const s=Zd(t,n.length-1);if(!o&&S_(n,n.length-1)&&!C_(e,s)){t.data=n.slice(0,-1)+" ";return true}else if(o&&z_(n,n.length-1)&&x_(e,s)){t.data=n.slice(0,-1)+Ir;return true}else{return false}};const N_=(e,t)=>{const o=t.container();if(!wr(o)){return U.none()}if(E_(t)){const n=O_(e,o,false)||D_(o)||A_(e,o,false);return vo(n,t)}else if(C_(e,t)){const n=O_(e,o,true)||A_(e,o,true);return vo(n,t)}else{return U.none()}};const M_=e=>{const t=yn.fromDom(e.getBody());if(e.selection.isCollapsed()){N_(t,Zd.fromRangeStart(e.selection.getRng())).each((t=>{e.selection.setRng(t.toRange())}))}};const R_=(e,t,o)=>{if(o===0){return}const n=yn.fromDom(e);const s=os(n,oa).getOr(n);const r=e.data.slice(t,t+o);const a=t+o>=e.data.length&&x_(s,Zd(e,e.data.length));const c=t===0&&w_(s,Zd(e,0));e.replaceData(t,o,rc(r,4,c,a))};const B_=(e,t)=>{const o=e.data.slice(t);const n=o.length-mt(o).length;R_(e,t,n)};const L_=(e,t)=>{const o=e.data.slice(0,t);const n=o.length-gt(o).length;R_(e,t-n,n)};const H_=(e,t,o,n=true)=>{const s=gt(e.data).length;const r=n?e:t;const a=n?t:e;if(n){r.appendData(a.data)}else{r.insertData(0,a.data)}Ns(yn.fromDom(a));if(o){B_(r,s)}return r};const I_=(e,t)=>{const o=e.container();const n=e.offset();return!Zd.isTextPosition(e)&&o===t.parentNode&&n>Zd.before(t).offset()};const P_=(e,t)=>I_(t,e)?Zd(t.container(),t.offset()-1):t;const F_=e=>wr(e)?Zd(e,0):Zd.before(e);const V_=e=>wr(e)?Zd(e,e.data.length):Zd.after(e);const j_=e=>{if(Wa(e.previousSibling)){return U.some(V_(e.previousSibling))}else{return e.previousSibling?mp(e.previousSibling):U.none()}};const Z_=e=>{if(Wa(e.nextSibling)){return U.some(F_(e.nextSibling))}else{return e.nextSibling?fp(e.nextSibling):U.none()}};const U_=(e,t)=>U.from(t.previousSibling?t.previousSibling:t.parentNode).bind((t=>up(e,Zd.before(t)))).orThunk((()=>dp(e,Zd.after(t))));const q_=(e,t)=>dp(e,Zd.after(t)).orThunk((()=>up(e,Zd.before(t))));const W_=(e,t)=>j_(t).orThunk((()=>Z_(t))).orThunk((()=>U_(e,t)));const $_=(e,t)=>Z_(t).orThunk((()=>j_(t))).orThunk((()=>q_(e,t)));const G_=(e,t,o)=>e?$_(t,o):W_(t,o);const K_=(e,t,o)=>G_(e,t,o).map(H(P_,o));const Y_=(e,t,o)=>{o.fold((()=>{e.focus()}),(o=>{e.selection.setRng(o.toRange(),t)}))};const X_=e=>t=>t.dom===e;const J_=(e,t)=>t&&Me(e.schema.getBlockElements(),Mo(t));const Q_=e=>{if(gc(e)){const t=yn.fromHtml('<br data-mce-bogus="1">');As(e);Es(e,t);return U.some(Zd.before(t.dom))}else{return U.none()}};const ex=(e,t,o)=>{const n=Mn(e).filter(Po);const s=Rn(e).filter(Po);Ns(e);return bo(n,s,t,((e,t,n)=>{const s=e.dom,r=t.dom;const a=s.data.length;H_(s,r,o);return n.container()===r?Zd(s,a):n})).orThunk((()=>{if(o){n.each((e=>L_(e.dom,e.dom.length)));s.each((e=>B_(e.dom,0)))}return t}))};const tx=(e,t)=>Me(e.schema.getTextInlineElements(),Mo(t));const ox=(e,t,o,n=true)=>{const s=K_(t,e.getBody(),o.dom);const r=os(o,H(J_,e),X_(e.getBody()));const a=ex(o,s,tx(e,o));if(e.dom.isEmpty(e.getBody())){e.setContent("");e.selection.setCursorLocation()}else{r.bind(Q_).fold((()=>{if(n){Y_(e,t,a)}}),(o=>{if(n){Y_(e,t,U.some(o))}}))}};const nx=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;const sx=e=>nx.test(e);const rx=(e,t)=>vn(yn.fromDom(t),Tf(e))&&!Dc(e.schema,t)&&e.dom.isEditable(t);const ax=e=>{var t;return sl.DOM.getStyle(e,"direction",true)==="rtl"||sx((t=e.textContent)!==null&&t!==void 0?t:"")};const cx=(e,t,o)=>oe(sl.DOM.getParents(o.container(),"*",t),e);const ix=(e,t,o)=>{const n=cx(e,t,o);return U.from(n[n.length-1])};const lx=(e,t,o)=>{const n=Cg(t,e);const s=Cg(o,e);return E(n)&&n===s};const dx=e=>Da(e)||Aa(e);const ux=(e,t)=>{const o=t.container(),n=t.offset();if(e){if(za(o)){if(wr(o.nextSibling)){return Zd(o.nextSibling,0)}else{return Zd.after(o)}}else{return Da(t)?Zd(o,n+1):t}}else{if(za(o)){if(wr(o.previousSibling)){return Zd(o.previousSibling,o.previousSibling.data.length)}else{return Zd.before(o)}}else{return Aa(t)?Zd(o,n-1):t}}};const fx=H(ux,true);const mx=H(ux,false);const gx=(e,t)=>{const o=e=>e.stopImmediatePropagation();e.on("beforeinput input",o,true);e.getDoc().execCommand(t);e.off("beforeinput input",o)};const px=e=>{e.execCommand("delete")};const hx=e=>gx(e,"Delete");const yx=e=>gx(e,"ForwardDelete");const bx=e=>t=>go(On(t),e,xn);const vx=e=>aa(e)||ia(e);const kx=(e,t)=>{if(Cn(e,t)){return ns(t,vx,bx(e))}else{return U.none()}};const wx=(e,t=true)=>{if(e.dom.isEmpty(e.getBody())){e.setContent("",{no_selection:!t})}};const _x=(e,t,o)=>yo(fp(o),mp(o),((n,s)=>{const r=ux(true,n);const a=ux(false,s);const c=ux(false,t);if(e){return dp(o,c).exists((e=>e.isEqual(a)&&t.isEqual(r)))}else{return up(o,c).exists((e=>e.isEqual(r)&&t.isEqual(a)))}})).getOr(true);const xx=e=>{const t=Lo(e)?Mn(e):Fn(e);return t.bind(xx).orThunk((()=>U.some(e)))};const Cx=(e,t,o,n=true)=>{var s;t.deleteContents();const r=xx(o).getOr(o);const a=yn.fromDom((s=e.dom.getParent(r.dom,e.dom.isBlock))!==null&&s!==void 0?s:o.dom);if(a.dom===e.getBody()){wx(e,n)}else if(gc(a)){ya(a);if(n){e.selection.setCursorLocation(a.dom,0)}}if(!xn(o,a)){const e=go(On(a),o)?[]:Nn(a);Q(e.concat(Hn(o)),(e=>{if(!xn(e,a)&&!Cn(e,a)&&gc(e)){Ns(e)}}))}};const Sx=e=>t=>xn(e,t);const zx=e=>rr(e,"td,th");const Ex=(e,t)=>{const o=e=>ah(yn.fromDom(e),t);const n=o(e.startContainer);const s=o(e.endContainer);const r=n.isSome();const a=s.isSome();const c=yo(n,s,xn).getOr(false);const i=!c&&r&&a;return{startTable:n,endTable:s,isStartInTable:r,isEndInTable:a,isSameTable:c,isMultiTable:i}};const Tx=(e,t)=>({start:e,end:t});const Ox=(e,t,o)=>({rng:e,table:t,cells:o});const Dx=Ou.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]);const Ax=(e,t)=>ls(yn.fromDom(e),"td,th",t);const Nx=e=>!xn(e.start,e.end);const Mx=(e,t)=>ah(e.start,t).bind((o=>ah(e.end,t).bind((e=>vo(xn(o,e),o)))));const Rx=(e,t)=>!Nx(e)&&Mx(e,t).exists((e=>{const t=e.dom.rows;return t.length===1&&t[0].cells.length===1}));const Bx=(e,t)=>{const o=Ax(e.startContainer,t);const n=Ax(e.endContainer,t);return yo(o,n,Tx)};const Lx=e=>t=>ah(t,e).bind((e=>ye(zx(e)).map((e=>Tx(t,e)))));const Hx=e=>t=>ah(t,e).bind((e=>he(zx(e)).map((e=>Tx(e,t)))));const Ix=e=>t=>Mx(t,e).map((e=>Ox(t,e,zx(e))));const Px=(e,t,o,n)=>{if(o.collapsed||!e.forall(Nx)){return U.none()}else if(t.isSameTable){const t=e.bind(Ix(n));return U.some({start:t,end:t})}else{const e=Ax(o.startContainer,n);const t=Ax(o.endContainer,n);const s=e.bind(Lx(n)).bind(Ix(n));const r=t.bind(Hx(n)).bind(Ix(n));return U.some({start:s,end:r})}};const Fx=(e,t)=>ce(e,(e=>xn(e,t)));const Vx=e=>yo(Fx(e.cells,e.rng.start),Fx(e.cells,e.rng.end),((t,o)=>e.cells.slice(t,o+1)));const jx=(e,t,o)=>e.exists((e=>Rx(e,o)&&uh(e.start,t)));const Zx=(e,t)=>{const{startTable:o,endTable:n}=t;const s=e.cloneRange();o.each((e=>s.setStartAfter(e.dom)));n.each((e=>s.setEndBefore(e.dom)));return s};const Ux=(e,t,o,n)=>Px(e,t,o,n).bind((({start:e,end:t})=>e.or(t))).bind((e=>{const{isSameTable:n}=t;const s=Vx(e).getOr([]);if(n&&e.cells.length===s.length){return U.some(Dx.fullTable(e.table))}else if(s.length>0){if(n){return U.some(Dx.partialTable(s,U.none()))}else{const e=Zx(o,t);return U.some(Dx.partialTable(s,U.some({...t,rng:e})))}}else{return U.none()}}));const qx=(e,t,o,n)=>Px(e,t,o,n).bind((({start:e,end:n})=>{const s=e.bind(Vx).getOr([]);const r=n.bind(Vx).getOr([]);if(s.length>0&&r.length>0){const e=Zx(o,t);return U.some(Dx.multiTable(s,r,e))}else{return U.none()}}));const Wx=(e,t)=>{const o=Sx(e);const n=Bx(t,o);const s=Ex(t,o);if(jx(n,t,o)){return n.map((e=>Dx.singleCellTable(t,e.start)))}else if(s.isMultiTable){return qx(n,s,t,o)}else{return Ux(n,s,t,o)}};const $x=e=>Q(e,(e=>{Ko(e,"contenteditable");ya(e)}));const Gx=(e,t)=>U.from(e.dom.getParent(t,e.dom.isBlock)).map(yn.fromDom);const Kx=(e,t,o)=>{o.each((o=>{if(t){Ns(o)}else{ya(o);e.selection.setCursorLocation(o.dom,0)}}))};const Yx=(e,t,o,n)=>{const s=o.cloneRange();if(n){s.setStart(o.startContainer,o.startOffset);s.setEndAfter(t.dom.lastChild)}else{s.setStartBefore(t.dom.firstChild);s.setEnd(o.endContainer,o.endOffset)}eC(e,s,t,false).each((e=>e()))};const Xx=e=>{const t=rh(e);const o=yn.fromDom(e.selection.getNode());if(Ar(o.dom)&&gc(o)){e.selection.setCursorLocation(o.dom,0)}else{e.selection.collapse(true)}if(t.length>1&&X(t,(e=>xn(e,o)))){Uo(o,"data-mce-selected","1")}};const Jx=(e,t,o)=>U.some((()=>{const n=e.selection.getRng();const s=o.bind((({rng:o,isStartInTable:s})=>{const r=Gx(e,s?o.endContainer:o.startContainer);o.deleteContents();Kx(e,s,r.filter(gc));const a=s?t[0]:t[t.length-1];Yx(e,a,n,s);if(!gc(a)){return U.some(s?t.slice(1):t.slice(0,-1))}else{return U.none()}})).getOr(t);$x(s);Xx(e)}));const Qx=(e,t,o,n)=>U.some((()=>{const s=e.selection.getRng();const r=t[0];const a=o[o.length-1];Yx(e,r,s,true);Yx(e,a,s,false);const c=gc(r)?t:t.slice(1);const i=gc(a)?o:o.slice(0,-1);$x(c.concat(i));n.deleteContents();Xx(e)}));const eC=(e,t,o,n=true)=>U.some((()=>{Cx(e,t,o,n)}));const tC=(e,t)=>U.some((()=>ox(e,false,t)));const oC=(e,t,o)=>Wx(t,o).bind((t=>t.fold(H(eC,e),H(tC,e),H(Jx,e),H(Qx,e))));const nC=(e,t)=>lC(e,t);const sC=(e,t,o,n)=>cC(t,n).fold((()=>oC(e,t,o)),(t=>nC(e,t)));const rC=(e,t,o)=>{const n=yn.fromDom(e.getBody());const s=e.selection.getRng();return o.length!==0?Jx(e,o,U.none()):sC(e,n,s,t)};const aC=(e,t)=>ae(Ww(t,e),da);const cC=(e,t)=>ae(Ww(t,e),jo("caption"));const iC=(e,t,o,n,s)=>cp(o,e.getBody(),s).bind((e=>aC(t,yn.fromDom(e.getNode())).bind((e=>xn(e,n)?U.none():U.some(A)))));const lC=(e,t)=>U.some((()=>{ya(t);e.selection.setCursorLocation(t.dom,0)}));const dC=(e,t,o,n)=>fp(e.dom).bind((s=>mp(e.dom).map((e=>t?o.isEqual(s)&&n.isEqual(e):o.isEqual(e)&&n.isEqual(s))))).getOr(true);const uC=(e,t)=>lC(e,t);const fC=(e,t,o)=>cC(e,yn.fromDom(o.getNode())).fold((()=>U.some(A)),(e=>vo(!xn(e,t),A)));const mC=(e,t,o,n,s)=>cp(o,e.getBody(),s).fold((()=>U.some(A)),(r=>dC(n,o,s,r)?uC(e,n):fC(t,n,r)));const gC=(e,t,o,n)=>{const s=Zd.fromRangeStart(e.selection.getRng());return aC(o,n).bind((n=>gc(n)?lC(e,n):iC(e,o,t,n,s)))};const pC=(e,t,o,n)=>{const s=Zd.fromRangeStart(e.selection.getRng());return gc(n)?lC(e,n):mC(e,o,t,n,s)};const hC=(e,t)=>e?Pw(t):Fw(t);const yC=(e,t)=>{const o=Zd.fromRangeStart(e.selection.getRng());return hC(t,o)||ap(t,e.getBody(),o).exists((e=>hC(t,e)))};const bC=(e,t,o)=>{const n=yn.fromDom(e.getBody());return cC(n,o).fold((()=>gC(e,t,n,o).orThunk((()=>vo(yC(e,t),A)))),(o=>pC(e,t,n,o)))};const vC=(e,t)=>{const o=yn.fromDom(e.selection.getStart(true));const n=rh(e);return e.selection.isCollapsed()&&n.length===0?bC(e,t,o):rC(e,o,n)};const kC=(e,t)=>{let o=t;while(o&&o!==e){if(Or(o)||Dr(o)){return o}o=o.parentNode}return null};const wC=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"];const _C=mo.each;const xC=e=>{const t=e.dom;const o=new Set(e.serializer.getTempAttrs());const n=(e,o)=>{if(e.nodeName!==o.nodeName||e.nodeType!==o.nodeType){return false}const n=e=>{const o={};_C(t.getAttribs(e),(n=>{const r=n.nodeName.toLowerCase();if(r!=="style"&&!s(r)){o[r]=t.getAttrib(e,r)}}));return o};const r=(e,t)=>{for(const o in e){if(Me(e,o)){const n=t[o];if(S(n)){return false}if(e[o]!==n){return false}delete t[o]}}for(const e in t){if(Me(t,e)){return false}}return true};if(dr(e)&&dr(o)){if(!r(n(e),n(o))){return false}if(!r(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(o,"style")))){return false}}return!Ip(e)&&!Ip(o)};const s=e=>X(wC,(t=>lt(e,t)))||o.has(e);return{compare:n,isAttributeInternal:s}};const CC=(e,t)=>{let o=e;while(o=o.walk()){t(o)}};const SC=(e,t,o,n)=>{const s=o.name;for(let t=0,r=e.length;t<r;t++){const r=e[t];if(r.name===s){const e=n.nodes[s];if(e){e.nodes.push(o)}else{n.nodes[s]={filter:r,nodes:[o]}}}}if(o.attributes){for(let e=0,s=t.length;e<s;e++){const s=t[e];const r=s.name;if(r in o.attributes.map){const e=n.attributes[r];if(e){e.nodes.push(o)}else{n.attributes[r]={filter:s,nodes:[o]}}}}}};const zC=(e,t,o)=>{const n={nodes:{},attributes:{}};if(o.firstChild){CC(o,(o=>{SC(e,t,o,n)}))}return n};const EC=(e,t)=>{const o=(e,o)=>{xe(e,(e=>{const n=be(e.nodes);Q(e.filter.callbacks,(s=>{for(let t=n.length-1;t>=0;t--){const s=n[t];const r=o?s.attr(e.filter.name)!==undefined:s.name===e.filter.name;if(!r||z(s.parent)){n.splice(t,1)}}if(n.length>0){s(n,e.filter.name,t)}}))}))};o(e.nodes,false);o(e.attributes,true)};const TC=(e,t,o,n={})=>{const s=zC(e,t,o);EC(s,n)};const OC=(e,t,o,n)=>{const s=e.pad_empty_with_br||t.insert;if(s&&o(n)){const e=new Xk("br",1);if(t.insert){e.attr("data-mce-bogus","1")}n.empty().append(e)}else{n.empty().append(new Xk("#text",3)).value=Ir}};const DC=e=>{var t;return AC(e,"#text")&&((t=e===null||e===void 0?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Ir};const AC=(e,t)=>{const o=e===null||e===void 0?void 0:e.firstChild;return E(o)&&o===e.lastChild&&o.name===t};const NC=(e,t)=>{const o=e.getElementRule(t.name);return(o===null||o===void 0?void 0:o.paddEmpty)===true};const MC=(e,t,o,n)=>n.isEmpty(t,o,(t=>NC(e,t)));const RC=(e,t)=>E(e)&&(t(e)||e.name==="br");const BC=e=>{let t;for(let o=e;o;o=o.parent){const e=o.attr("contenteditable");if(e==="false"){break}else if(e==="true"){t=o}}return U.from(t)};const LC=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name]){e.empty().remove()}else{const n=e.children();for(const e of n){if(o&&!t.isValidChild(o.name,e.name)){LC(e,t,o)}}e.unwrap()}};const HC=(e,t,o,n=A)=>{const s=t.getTextBlockElements();const r=t.getNonEmptyElements();const a=t.getWhitespaceElements();const c=mo.makeMap("tr,td,th,tbody,thead,tfoot,table,summary");const i=new Set;const l=e=>e!==o&&!c[e.name];for(let o=0;o<e.length;o++){const c=e[o];let d;let u;let f;if(!c.parent||i.has(c)){continue}if(s[c.name]&&c.parent.name==="li"){let e=c.next;while(e){if(s[e.name]){e.name="li";i.add(e);c.parent.insert(e,c.parent)}else{break}e=e.next}c.unwrap();continue}const m=[c];for(d=c.parent;d&&!t.isValidChild(d.name,c.name)&&l(d);d=d.parent){m.push(d)}if(d&&m.length>1){if(t.isValidChild(d.name,c.name)){m.reverse();u=m[0].clone();n(u);let e=u;for(let o=0;o<m.length-1;o++){if(t.isValidChild(e.name,m[o].name)&&o>0){f=m[o].clone();n(f);e.append(f)}else{f=e}for(let e=m[o].firstChild;e&&e!==m[o+1];){const t=e.next;f.append(e);e=t}e=f}if(!MC(t,r,a,u)){d.insert(u,m[0],true);d.insert(c,u)}else{d.insert(c,m[0],true)}d=m[0];if(MC(t,r,a,d)||AC(d,"br")){d.empty().remove()}}else{LC(c,t)}}else if(c.parent){if(c.name==="li"){let e=c.prev;if(e&&(e.name==="ul"||e.name==="ol")){e.append(c);continue}e=c.next;if(e&&(e.name==="ul"||e.name==="ol")&&e.firstChild){e.insert(c,e.firstChild,true);continue}const t=new Xk("ul",1);n(t);c.wrap(t);continue}if(t.isValidChild(c.parent.name,"div")&&t.isValidChild("div",c.name)){const e=new Xk("div",1);n(e);c.wrap(e)}else{LC(c,t)}}}};const IC=(e,t)=>{let o=e;while(o){if(o.name===t){return true}o=o.parent}return false};const PC=(e,t,o=t.parent)=>{if(o&&e.children[t.name]&&!e.isValidChild(o.name,t.name)){return true}else if(o&&t.name==="a"&&IC(o,"a")){return true}else{return false}};const FC=(e,t,o,n)=>{const s=document.createRange();s.setStart(e,t);s.setEnd(o,n);return s};const VC=e=>{const t=Zd.fromRangeStart(e);const o=Zd.fromRangeEnd(e);const n=e.commonAncestorContainer;return ap(false,n,o).map((s=>{if(!Sg(t,o,n)&&Sg(t,s,n)){return FC(t.container(),t.offset(),s.container(),s.offset())}else{return e}})).getOr(e)};const jC=e=>e.collapsed?e:VC(e);const ZC=e=>E(e.firstChild)&&e.firstChild===e.lastChild;const UC=e=>e.name==="br"||e.value===Ir;const qC=(e,t)=>{const o=e.getBlockElements();return o[t.name]&&ZC(t)&&UC(t.firstChild)};const WC=(e,t)=>{const o=e.getNonEmptyElements();return E(t)&&(t.isEmpty(o)||qC(e,t))};const $C=(e,t)=>{let o=t.firstChild;let n=t.lastChild;if(o&&o.name==="meta"){o=o.next}if(n&&n.attr("id")==="mce_marker"){n=n.prev}if(WC(e,n)){n=n===null||n===void 0?void 0:n.prev}if(!o||o!==n){return false}return o.name==="ul"||o.name==="ol"};const GC=e=>{var t,o;const n=e.firstChild;const s=e.lastChild;if(n&&n.nodeName==="META"){(t=n.parentNode)===null||t===void 0?void 0:t.removeChild(n)}if(s&&s.id==="mce_marker"){(o=s.parentNode)===null||o===void 0?void 0:o.removeChild(s)}return e};const KC=(e,t,o)=>{const n=t.serialize(o);const s=e.createFragment(n);return GC(s)};const YC=e=>{var t;return oe((t=e===null||e===void 0?void 0:e.childNodes)!==null&&t!==void 0?t:[],(e=>e.nodeName==="LI"))};const XC=e=>e.data===Ir||Er(e);const JC=e=>E(e===null||e===void 0?void 0:e.firstChild)&&e.firstChild===e.lastChild&&XC(e.firstChild);const QC=e=>!e.firstChild||JC(e);const eS=e=>e.length>0&&QC(e[e.length-1])?e.slice(0,-1):e;const tS=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null};const oS=(e,t)=>!!tS(e,t);const nS=(e,t)=>{const o=t.cloneRange();const n=t.cloneRange();o.setStartBefore(e);n.setEndAfter(e);return[o.cloneContents(),n.cloneContents()]};const sS=(e,t)=>{const o=Zd.before(e);const n=Jg(t);const s=n.next(o);return s?s.toRange():null};const rS=(e,t)=>{const o=Zd.after(e);const n=Jg(t);const s=n.prev(o);return s?s.toRange():null};const aS=(e,t,o,n)=>{const s=nS(e,n);const r=e.parentNode;if(r){r.insertBefore(s[0],e);mo.each(t,(t=>{r.insertBefore(t,e)}));r.insertBefore(s[1],e);r.removeChild(e)}return rS(t[t.length-1],o)};const cS=(e,t,o)=>{const n=e.parentNode;if(n){mo.each(t,(t=>{n.insertBefore(t,e)}))}return sS(e,o)};const iS=(e,t,o,n)=>{n.insertAfter(t.reverse(),e);return rS(t[0],o)};const lS=(e,t,o,n)=>{const s=KC(t,e,n);const r=tS(t,o.startContainer);const a=eS(YC(s.firstChild));const c=1,i=2;const l=t.getRoot();const d=e=>{const n=Zd.fromRangeStart(o);const s=Jg(t.getRoot());const a=e===c?s.prev(n):s.next(n);const i=a===null||a===void 0?void 0:a.getNode();return i?tS(t,i)!==r:true};if(!r){return null}else if(d(c)){return cS(r,a,l)}else if(d(i)){return iS(r,a,l,t)}else{return aS(r,a,l,o)}};const dS=["pre"];const uS=(e,t,o,n)=>{var s;const r=t.firstChild;const a=t.lastChild;const c=a.attr("data-mce-type")==="bookmark"?a.prev:a;const i=r===c;const l=Y(dS,r.name);if(i&&l){const t=r.attr("contenteditable")!=="false";const a=((s=e.getParent(o,e.isBlock))===null||s===void 0?void 0:s.nodeName.toLowerCase())===r.name;const c=U.from(kC(n,o)).forall(Or);return t&&a&&c}else{return false}};const fS=Ar;const mS=(e,t,o)=>{if(E(o)){const n=e.getParent(t.endContainer,fS);return o===n&&uh(yn.fromDom(o),t)}else{return false}};const gS=(e,t,o)=>{var n;if(o.getAttribute("data-mce-bogus")==="all"){(n=o.parentNode)===null||n===void 0?void 0:n.insertBefore(e.dom.createFragment(t),o)}else{const n=o.firstChild;const s=o.lastChild;if(!n||n===s&&n.nodeName==="BR"){e.dom.setHTML(o,t)}else{e.selection.setContent(t,{no_events:true})}}};const pS=(e,t)=>{U.from(e.getParent(t,"td,th")).map(yn.fromDom).each(ba)};const hS=(e,t)=>{const o=e.schema.getTextInlineElements();const n=e.dom;if(t){const t=e.getBody();const s=xC(e);mo.each(n.select("*[data-mce-fragment]"),(e=>{const r=E(o[e.nodeName.toLowerCase()]);if(r&&Sw(n,e)){for(let o=e.parentElement;E(o)&&o!==t;o=o.parentElement){const t=Ew(n,e,o);if(t){break}if(s.compare(o,e)){n.remove(e,true);break}}}}))}};const yS=e=>{let t=e;while(t=t.walk()){if(t.type===1){t.attr("data-mce-fragment","1")}}};const bS=e=>{mo.each(e.getElementsByTagName("*"),(e=>{e.removeAttribute("data-mce-fragment")}))};const vS=e=>!!e.getAttribute("data-mce-fragment");const kS=(e,t)=>E(t)&&!e.schema.getVoidElements()[t.nodeName];const wS=(e,t)=>{var o,n,s;let r;const a=e.dom;const c=e.selection;if(!t){return}c.scrollIntoView(t);const i=kC(e.getBody(),t);if(i&&a.getContentEditable(i)==="false"){a.remove(t);c.select(i);return}let l=a.createRng();const d=t.previousSibling;if(wr(d)){l.setStart(d,(n=(o=d.nodeValue)===null||o===void 0?void 0:o.length)!==null&&n!==void 0?n:0);const e=t.nextSibling;if(wr(e)){d.appendData(e.data);(s=e.parentNode)===null||s===void 0?void 0:s.removeChild(e)}}else{l.setStartBefore(t);l.setEndBefore(t)}const u=t=>{let o=Zd.fromRangeStart(t);const n=Jg(e.getBody());o=n.next(o);return o===null||o===void 0?void 0:o.toRange()};const f=a.getParent(t,a.isBlock);a.remove(t);if(f&&a.isEmpty(f)){const e=fS(f);As(yn.fromDom(f));l.setStart(f,0);l.setEnd(f,0);if(!e&&!vS(f)&&(r=u(l))){l=r;a.remove(f)}else{a.add(f,a.create("br",e?{}:{"data-mce-bogus":"1"}))}}c.setRng(l)};const _S=e=>{const t=e.dom;const o=jC(e.selection.getRng());e.selection.setRng(o);const n=t.getParent(o.startContainer,fS);if(mS(t,o,n)){eC(e,o,yn.fromDom(n))}else if(o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&wr(o.startContainer.childNodes[o.startOffset])){o.deleteContents()}else{e.getDoc().execCommand("Delete",false)}};const xS=e=>{for(let t=e;t;t=t.walk()){if(t.attr("id")==="mce_marker"){return U.some(t)}}return U.none()};const CS=(e,t,o)=>{var n,s;const r=e.selection;const a=e.dom;const c=e.parser;const i=o.merge;const l=kw({validate:true},e.schema);const d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(!o.preserve_zwsp){t=wa(t)}if(t.indexOf("{$caret}")===-1){t+="{$caret}"}t=t.replace(/\{\$caret\}/,d);let u=r.getRng();const f=u.startContainer;const m=e.getBody();if(f===m&&r.isCollapsed()){if(a.isBlock(m.firstChild)&&kS(e,m.firstChild)&&a.isEmpty(m.firstChild)){u=a.createRng();u.setStart(m.firstChild,0);u.setEnd(m.firstChild,0);r.setRng(u)}}if(!r.isCollapsed()){_S(e)}const g=r.getNode();const p={context:g.nodeName.toLowerCase(),data:o.data,insert:true};const h=c.parse(t,p);if(o.paste===true&&$C(e.schema,h)&&oS(a,g)){u=lS(l,a,r.getRng(),h);if(u){r.setRng(u)}return t}if(o.paste===true&&uS(a,h,g,e.getBody())){(n=h.firstChild)===null||n===void 0?void 0:n.unwrap()}yS(h);let y=h.lastChild;if(y&&y.attr("id")==="mce_marker"){const t=y;for(y=y.prev;y;y=y.walk(true)){if(y.type===3||!a.isBlock(y.name)){if(y.parent&&e.schema.isValidChild(y.parent.name,"span")){y.parent.insert(t,y,y.name==="br")}break}}}e._selectionOverrides.showBlockCaretContainer(g);if(!p.invalid){t=l.serialize(h);gS(e,t,g)}else{e.selection.setContent(d);let o=r.getNode();let n;const i=e.getBody();if(Sr(o)){o=n=i}else{n=o}while(n&&n!==i){o=n;n=n.parentNode}t=o===i?i.innerHTML:a.getOuterHTML(o);const u=c.parse(t);const f=xS(u);const m=f.bind(BC).getOr(u);f.each((e=>e.replace(h)));const g=h.children();const p=(s=h.parent)!==null&&s!==void 0?s:u;h.unwrap();const y=oe(g,(t=>PC(e.schema,t,p)));HC(y,e.schema,m);TC(c.getNodeFilters(),c.getAttributeFilters(),u);t=l.serialize(u);if(o===i){a.setHTML(i,t)}else{a.setOuterHTML(o,t)}}hS(e,i);wS(e,a.get("mce_marker"));bS(e.getBody());pS(a,r.getStart());zc(e.schema,e.getBody(),r.getStart());return t};const SS=e=>e instanceof Xk;const zS=e=>{if(wk(e)){fp(e.getBody()).each((t=>{const o=t.getNode();const n=br(o)?fp(o).getOr(t):t;e.selection.setRng(n.toRange())}))}};const ES=(e,t,o)=>{e.dom.setHTML(e.getBody(),t);if(o!==true){zS(e)}};const TS=(e,t,o,n)=>{o=wa(o);if(o.length===0||/^\s+$/.test(o)){const s='<br data-mce-bogus="1">';if(t.nodeName==="TABLE"){o="<tr><td>"+s+"</td></tr>"}else if(/^(UL|OL)$/.test(t.nodeName)){o="<li>"+s+"</li>"}const r=tf(e);if(e.schema.isValidChild(t.nodeName.toLowerCase(),r.toLowerCase())){o=s;o=e.dom.createHTML(r,of(e),o)}else if(!o){o=s}ES(e,o,n.no_selection);return{content:o,html:o}}else{if(n.format!=="raw"){o=kw({validate:false},e.schema).serialize(e.parser.parse(o,{isRootContent:true,insert:true}))}const s=ua(yn.fromDom(t))?o:mo.trim(o);ES(e,s,n.no_selection);return{content:s,html:s}}};const OS=(e,t,o,n)=>{TC(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const s=kw({validate:false},e.schema).serialize(o);const r=wa(ua(yn.fromDom(t))?s:mo.trim(s));ES(e,r,n.no_selection);return{content:o,html:r}};const DS=(e,t,o)=>U.from(e.getBody()).map((n=>{if(SS(t)){return OS(e,n,t,o)}else{return TS(e,n,t,o)}})).getOr({content:t,html:SS(o.content)?"":o.content});const AS=(e,t,o)=>os(e,t,o).isSome();const NS=(e,t)=>ss(e,t).isSome();const MS=e=>T(e)?e:j;const RS=(e,t,o)=>{let n=e.dom;const s=MS(o);while(n.parentNode){n=n.parentNode;const e=yn.fromDom(n);const o=t(e);if(o.isSome()){return o}else if(s(e)){break}}return U.none()};const BS=(e,t,o)=>{const n=t(e);const s=MS(o);return n.orThunk((()=>s(e)?U.none():RS(e,t,s)))};const LS=Dh;const HS=(e,t,o)=>{const n=e.formatter.get(o);if(n){for(let o=0;o<n.length;o++){const s=n[o];if(Vh(s)&&s.inherit===false&&e.dom.is(t,s.selector)){return true}}}return false};const IS=(e,t,o,n,s)=>{const r=e.dom.getRoot();if(t===r){return false}const a=e.dom.getParent(t,(t=>{if(HS(e,t,o)){return true}return t.parentNode===r||!!VS(e,t,o,n,true)}));return!!VS(e,a,o,n,s)};const PS=(e,t,o)=>{if(jh(o)&&LS(t,o.inline)){return true}if(Ih(o)&&LS(t,o.block)){return true}if(Vh(o)){return dr(t)&&e.is(t,o.selector)}return false};const FS=(e,t,o,n,s,r)=>{const a=o[n];const c=n==="attributes";if(T(o.onmatch)){return o.onmatch(t,o,n)}if(a){if(!He(a)){for(const n in a){if(Me(a,n)){const i=c?e.getAttrib(t,n):Nh(e,t,n);const l=Oh(a[n],r);const d=z(i)||ht(i);if(d&&z(l)){continue}if(s&&d&&!o.exact){return false}if((!s||o.exact)&&!LS(i,Ah(l,n))){return false}}}}else{for(let o=0;o<a.length;o++){if(c?e.getAttrib(t,a[o]):Nh(e,t,a[o])){return true}}}}return true};const VS=(e,t,o,n,s)=>{const r=e.formatter.get(o);const a=e.dom;if(r&&dr(t)){for(let o=0;o<r.length;o++){const c=r[o];if(PS(e.dom,t,c)&&FS(a,t,c,"attributes",s,n)&&FS(a,t,c,"styles",s,n)){const o=c.classes;if(o){for(let s=0;s<o.length;s++){if(!e.dom.hasClass(t,Oh(o[s],n))){return}}}return c}}}return undefined};const jS=(e,t,o,n,s)=>{if(n){return IS(e,n,t,o,s)}n=e.selection.getNode();if(IS(e,n,t,o,s)){return true}const r=e.selection.getStart();if(r!==n){if(IS(e,r,t,o,s)){return true}}return false};const ZS=(e,t,o)=>{const n=[];const s={};const r=e.selection.getStart();e.dom.getParent(r,(r=>{for(let a=0;a<t.length;a++){const c=t[a];if(!s[c]&&VS(e,r,c,o)){s[c]=true;n.push(c)}}}),e.dom.getRoot());return n};const US=(e,t)=>{const o=t=>xn(t,yn.fromDom(e.getBody()));const n=(t,o)=>VS(e,t.dom,o)?U.some(o):U.none();return U.from(e.selection.getStart(true)).bind((e=>BS(yn.fromDom(e),(e=>ve(t,(t=>n(e,t)))),o))).getOrNull()};const qS=(e,t)=>{const o=e.formatter.get(t);const n=e.dom;if(o&&e.selection.isEditable()){const t=e.selection.getStart();const s=Rh(n,t);for(let e=o.length-1;e>=0;e--){const t=o[e];if(!Vh(t)){return true}for(let e=s.length-1;e>=0;e--){if(n.is(s[e],t.selector)){return true}}}}return false};const WS=(e,t,o)=>se(o,((o,n)=>{const s=Lh(e,n);if(e.formatter.matchNode(t,n,{},s)){return o.concat([n])}else{return o}}),[]);const $S=va;const GS=(e,t)=>e.importNode(t,true);const KS=e=>{const t=[];let o=e;while(o){if(wr(o)&&o.data!==$S||o.childNodes.length>1){return[]}if(dr(o)){t.push(o)}o=o.firstChild}return t};const YS=e=>KS(e).length>0;const XS=e=>{if(e){const t=new cr(e,e);for(let e=t.current();e;e=t.next()){if(wr(e)){return e}}}return null};const JS=e=>{const t=yn.fromTag("span");qo(t,{id:gp,"data-mce-bogus":"1","data-mce-type":"format-caret"});if(e){Es(t,yn.fromText($S))}return t};const QS=e=>{const t=XS(e);if(t&&t.data.charAt(0)===$S){t.deleteData(0,1)}return t};const ez=(e,t,o=true)=>{const n=e.dom,s=e.selection;if(YS(t)){ox(e,false,yn.fromDom(t),o)}else{const e=s.getRng();const o=n.getParent(t,n.isBlock);const r=e.startContainer;const a=e.startOffset;const c=e.endContainer;const i=e.endOffset;const l=QS(t);n.remove(t,true);if(r===l&&a>0){e.setStart(l,a-1)}if(c===l&&i>0){e.setEnd(l,i-1)}if(o&&n.isEmpty(o)){ya(yn.fromDom(o))}s.setRng(e)}};const tz=(e,t,o=true)=>{const n=e.dom,s=e.selection;if(!t){t=hp(e.getBody(),s.getStart());if(!t){while(t=n.get(gp)){ez(e,t,o)}}}else{ez(e,t,o)}};const oz=(e,t,o)=>{var n,s;const r=e.dom;const a=r.getParent(o,H(xh,e.schema));if(a&&r.isEmpty(a)){(n=o.parentNode)===null||n===void 0?void 0:n.replaceChild(t,o)}else{pa(yn.fromDom(o));if(r.isEmpty(o)){(s=o.parentNode)===null||s===void 0?void 0:s.replaceChild(t,o)}else{r.insertAfter(t,o)}}};const nz=(e,t)=>{e.appendChild(t);return t};const sz=(e,t)=>{var o;const n=ne(e,((e,t)=>nz(e,t.cloneNode(false))),t);const s=(o=n.ownerDocument)!==null&&o!==void 0?o:document;return nz(n,s.createTextNode($S))};const rz=(e,t,o,n,s,r)=>{const a=e.formatter;const c=e.dom;const i=oe(we(a.get()),(e=>e!==n&&!it(e,"removeformat")));const l=WS(e,o,i);const d=oe(l,(t=>!Hh(e,t,n)));if(d.length>0){const e=o.cloneNode(false);c.add(t,e);a.remove(n,s,e,r);c.remove(e);return U.some(e)}else{return U.none()}};const az=(e,t,o)=>{let n;const s=e.selection;const r=e.formatter.get(t);if(!r){return}const a=s.getRng();let c=a.startOffset;const i=a.startContainer;const l=i.nodeValue;n=hp(e.getBody(),s.getStart());const d=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&c>0&&c<l.length&&d.test(l.charAt(c))&&d.test(l.charAt(c-1))){const n=s.getBookmark();a.collapse(true);let c=ay(e.dom,a,r);c=Yb(c);e.formatter.apply(t,o,c);s.moveToBookmark(n)}else{let r=n?XS(n):null;if(!n||(r===null||r===void 0?void 0:r.data)!==$S){n=GS(e.getDoc(),JS(true).dom);r=n.firstChild;a.insertNode(n);c=1;e.formatter.apply(t,o,n)}else{e.formatter.apply(t,o,n)}s.setCursorLocation(r,c)}};const cz=(e,t,o,n)=>{const s=e.dom;const r=e.selection;let a=false;const c=e.formatter.get(t);if(!c){return}const i=r.getRng();const l=i.startContainer;const d=i.startOffset;let u=l;if(wr(l)){if(d!==l.data.length){a=true}u=u.parentNode}const f=[];let m;while(u){if(VS(e,u,t,o,n)){m=u;break}if(u.nextSibling){a=true}f.push(u);u=u.parentNode}if(!m){return}if(a){const a=r.getBookmark();i.collapse(true);let l=ay(s,i,c,true);l=Yb(l);e.formatter.remove(t,o,l,n);r.moveToBookmark(a)}else{const a=hp(e.getBody(),m);const c=JS(false).dom;oz(e,c,a!==null&&a!==void 0?a:m);const i=rz(e,c,m,t,o,n);const l=sz(f.concat(i.toArray()),c);if(a){ez(e,a,false)}r.setCursorLocation(l,1);if(s.isEmpty(m)){s.remove(m)}}};const iz=(e,t,o)=>{const n=e.selection,s=e.getBody();tz(e,null,o);if((t===8||t===46)&&n.isCollapsed()&&n.getStart().innerHTML===$S){tz(e,hp(s,n.getStart()))}if(t===37||t===39){tz(e,hp(s,n.getStart()))}};const lz=e=>wr(e)&&dt(e.data,Ir);const dz=e=>{e.on("mouseup keydown",(t=>{iz(e,t.keyCode,lz(e.selection.getRng().endContainer))}))};const uz=e=>{const t=JS(false);const o=sz(e,t.dom);return{caretContainer:t,caretPosition:Zd(o,0)}};const fz=(e,t)=>{const{caretContainer:o,caretPosition:n}=uz(t);Cs(yn.fromDom(e),o);Ns(yn.fromDom(e));return n};const mz=(e,t)=>{const{caretContainer:o,caretPosition:n}=uz(t);e.insertNode(o.dom);return n};const gz=(e,t)=>{const o=e.schema.getTextInlineElements();return Me(o,Mo(t))&&!pp(t.dom)&&!hr(t.dom)};const pz=e=>pp(e.dom)&&YS(e.dom);const hz={};const yz=fr(["pre"]);const bz=(e,t)=>{const o=hz[e];if(!o){hz[e]=[]}hz[e].push(t)};const vz=(e,t)=>{if(Me(hz,e)){Q(hz[e],(e=>{e(t)}))}};bz("pre",(e=>{const t=e.selection.getRng();const o=e=>t=>{const o=t.previousSibling;return yz(o)&&Y(e,o)};const n=(e,t)=>{const o=yn.fromDom(t);const n=zn(o).dom;Ns(o);Ds(yn.fromDom(e),[yn.fromTag("br",n),yn.fromTag("br",n),...Hn(o)])};if(!t.collapsed){const t=e.selection.getSelectedBlocks();const s=oe(oe(t,yz),o(t));Q(s,(e=>{n(e.previousSibling,e)}))}}));const kz=["fontWeight","fontStyle","color","fontSize","fontFamily"];const wz=e=>k(e.styles)&&X(we(e.styles),(e=>Y(kz,e)));const _z=e=>ae(e,(e=>jh(e)&&e.inline==="span"&&wz(e)));const xz=(e,t)=>{const o=e.get(t);return _(o)?_z(o):U.none()};const Cz=(e,t)=>up(t,Zd.fromRangeStart(e)).isNone();const Sz=(e,t)=>dp(t,Zd.fromRangeEnd(e)).exists((e=>!Er(e.getNode())||dp(t,e).isSome()))===false;const zz=e=>t=>Rr(t)&&e.isEditable(t);const Ez=e=>{const t=e.getSelectedBlocks();const o=e.getRng();if(e.isCollapsed()){return[]}if(t.length===1){return Cz(o,t[0])&&Sz(o,t[0])?t:[]}else{const e=he(t).filter((e=>Cz(o,e))).toArray();const n=ye(t).filter((e=>Sz(o,e))).toArray();const s=t.slice(1,-1);return e.concat(s).concat(n)}};const Tz=e=>oe(Ez(e),zz(e.dom));const Oz=e=>oe(e.getSelectedBlocks(),zz(e.dom));const Dz=mo.each;const Az=e=>dr(e)&&!Ip(e)&&!pp(e)&&!hr(e);const Nz=(e,t)=>{for(let o=e;o;o=o[t]){if(wr(o)&&pt(o.data)){return e}if(dr(o)&&!Ip(o)){return o}}return e};const Mz=(e,t,o)=>{const n=xC(e);const s=dr(t)&&vh(t);const r=dr(o)&&vh(o);if(s&&r){const s=Nz(t,"previousSibling");const r=Nz(o,"nextSibling");if(n.compare(s,r)){for(let e=s.nextSibling;e&&e!==r;){const t=e;e=e.nextSibling;s.appendChild(t)}e.dom.remove(r);mo.each(mo.grep(r.childNodes),(e=>{s.appendChild(e)}));return s}}return o};const Rz=(e,t,o,n)=>{var s;if(n&&t.merge_siblings!==false){const t=(s=Mz(e,_h(n),n))!==null&&s!==void 0?s:n;Mz(e,t,_h(t,true))}};const Bz=(e,t,o)=>{if(t.clear_child_styles){const n=t.links?"*:not(a)":"*";Dz(e.select(n,o),(o=>{if(Az(o)&&vh(o)){Dz(t.styles,((t,n)=>{e.setStyle(o,n,"")}))}}))}};const Lz=(e,t,o)=>{Dz(e.childNodes,(e=>{if(Az(e)){if(t(e)){o(e)}if(e.hasChildNodes()){Lz(e,t,o)}}}))};const Hz=(e,t)=>{if(t.nodeName==="SPAN"&&e.getAttribs(t).length===0){e.remove(t,true)}};const Iz=(e,t)=>o=>!!(o&&Nh(e,o,t));const Pz=(e,t,o)=>n=>{e.setStyle(n,t,o);if(n.getAttribute("style")===""){n.removeAttribute("style")}Hz(e,n)};const Fz=Ou.generate([{keep:[]},{rename:["name"]},{removed:[]}]);const Vz=/^(src|href|style)$/;const jz=mo.each;const Zz=Dh;const Uz=e=>/^(TR|TH|TD)$/.test(e.nodeName);const qz=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o);const Wz=(e,t,o)=>{let n=t[o?"startContainer":"endContainer"];let s=t[o?"startOffset":"endOffset"];if(dr(n)){const e=n.childNodes.length-1;if(!o&&s){s--}n=n.childNodes[s>e?e:s]}if(wr(n)&&o&&s>=n.data.length){n=new cr(n,e.getBody()).next()||n}if(wr(n)&&!o&&s===0){n=new cr(n,e.getBody()).prev()||n}return n};const $z=(e,t)=>{const o=t?"firstChild":"lastChild";const n=e[o];if(Uz(e)&&n){if(e.nodeName==="TR"){return n[o]||n}else{return n}}return e};const Gz=(e,t,o,n)=>{var s;const r=e.create(o,n);(s=t.parentNode)===null||s===void 0?void 0:s.insertBefore(r,t);r.appendChild(t);return r};const Kz=(e,t,o,n,s)=>{const r=yn.fromDom(t);const a=yn.fromDom(e.create(n,s));const c=o?Ln(r):Bn(r);Ds(a,c);if(o){Cs(r,a);zs(a,r)}else{Ss(r,a);Es(a,r)}return a.dom};const Yz=(e,t)=>t.links&&e.nodeName==="A";const Xz=(e,t,o)=>{const n=t.parentNode;let s;const r=e.dom;const a=tf(e);if(Ih(o)){if(n===r.getRoot()){if(!o.list_block||!Zz(t,o.list_block)){Q(be(t.childNodes),(t=>{if(Ch(e,a,t.nodeName.toLowerCase())){if(!s){s=Gz(r,t,a);r.setAttribs(s,of(e))}else{s.appendChild(t)}}else{s=null}}))}}}if(Zh(o)&&!Zz(o.inline,t)){return}r.remove(t,true)};const Jz=(e,t,o)=>{if(O(e)){return{name:t,value:null}}else{return{name:e,value:Oh(t,o)}}};const Qz=(e,t)=>{if(e.getAttrib(t,"style")===""){t.removeAttribute("style");t.removeAttribute("data-mce-style")}};const eE=(e,t,o,n,s)=>{let r=false;jz(o.styles,((a,c)=>{const{name:i,value:l}=Jz(c,a,n);const d=Ah(l,i);if(o.remove_similar||x(l)||!dr(s)||Zz(Nh(e,s,i),d)){e.setStyle(t,i,"")}r=true}));if(r){Qz(e,t)}};const tE=(e,t,o)=>{if(t==="removeformat"){Q(Oz(e.selection),(t=>{Q(kz,(o=>e.dom.setStyle(t,o,"")));Qz(e.dom,t)}))}else{xz(e.formatter,t).each((t=>{Q(Oz(e.selection),(n=>eE(e.dom,n,t,o,null)))}))}};const oE=(e,t,o,n,s)=>{const r=e.dom;const a=xC(e);const c=e.schema;if(jh(t)&&Tc(c,t.inline)&&Dc(c,n)&&n.parentElement===e.getBody()){Xz(e,n,t);return Fz.removed()}if(!t.ceFalseOverride&&n&&r.getContentEditableParent(n)==="false"){return Fz.keep()}if(n&&!PS(r,n,t)&&!Yz(n,t)){return Fz.keep()}const i=n;const l=t.preserve_attributes;if(jh(t)&&t.remove==="all"&&_(l)){const e=oe(r.getAttribs(i),(e=>Y(l,e.name.toLowerCase())));r.removeAllAttribs(i);Q(e,(e=>r.setAttrib(i,e.name,e.value)));if(e.length>0){return Fz.rename("span")}}if(t.remove!=="all"){eE(r,i,t,o,s);jz(t.attributes,((e,n)=>{const{name:a,value:c}=Jz(n,e,o);if(t.remove_similar||x(c)||!dr(s)||Zz(r.getAttrib(s,a),c)){if(a==="class"){const e=r.getAttrib(i,a);if(e){let t="";Q(e.split(/\s+/),(e=>{if(/mce\-\w+/.test(e)){t+=(t?" ":"")+e}}));if(t){r.setAttrib(i,a,t);return}}}if(Vz.test(a)){i.removeAttribute("data-mce-"+a)}if(a==="style"&&fr(["li"])(i)&&r.getStyle(i,"list-style-type")==="none"){i.removeAttribute(a);r.setStyle(i,"list-style-type","none");return}if(a==="class"){i.removeAttribute("className")}i.removeAttribute(a)}}));jz(t.classes,(e=>{e=Oh(e,o);if(!dr(s)||r.hasClass(s,e)){r.removeClass(i,e)}}));const e=r.getAttribs(i);for(let t=0;t<e.length;t++){const o=e[t].nodeName;if(!a.isAttributeInternal(o)){return Fz.keep()}}}if(t.remove!=="none"){Xz(e,i,t);return Fz.removed()}return Fz.keep()};const nE=(e,t,o,n,s)=>{let r;if(t.parentNode){Q(Rh(e.dom,t.parentNode).reverse(),(t=>{if(!r&&dr(t)&&t.id!=="_start"&&t.id!=="_end"){const a=VS(e,t,o,n,s);if(a&&a.split!==false){r=t}}}))}return r};const sE=(e,t,o,n)=>oE(e,t,o,n,n).fold(R(n),(t=>{const o=e.dom.createFragment();o.appendChild(n);return e.dom.rename(n,t)}),R(null));const rE=(e,t,o,n,s,r,a,c)=>{var i,l;let d;let u;const f=e.dom;if(o){const m=o.parentNode;for(let o=n.parentNode;o&&o!==m;o=o.parentNode){let n=f.clone(o,false);for(let o=0;o<t.length;o++){n=sE(e,t[o],c,n);if(n===null){break}}if(n){if(d){n.appendChild(d)}if(!u){u=n}d=n}}if(r&&(!a.mixed||!f.isBlock(o))){n=(i=f.split(o,n))!==null&&i!==void 0?i:n}if(d&&u){(l=s.parentNode)===null||l===void 0?void 0:l.insertBefore(d,s);u.appendChild(s);if(jh(a)){Rz(e,a,c,d)}}}return n};const aE=(e,t,o,n,s)=>{const r=e.formatter.get(t);const a=r[0];const c=e.dom;const i=e.selection;const l=n=>{const c=nE(e,n,t,o,s);return rE(e,r,c,n,n,true,a,o)};const d=e=>Ip(e)&&dr(e)&&(e.id==="_start"||e.id==="_end");const u=t=>X(r,(n=>iE(e,n,o,t,t)));const f=t=>{const o=be(t.childNodes);const n=u(t);const s=n||X(r,(e=>PS(c,t,e)));const i=t.parentNode;if(!s&&E(i)&&Uh(a)){u(i)}if(a.deep){if(o.length){for(let e=0;e<o.length;e++){f(o[e])}}}const l=["underline","line-through","overline"];Q(l,(o=>{if(dr(t)&&e.dom.getStyle(t,"text-decoration")===o&&t.parentNode&&Mh(c,t.parentNode)===o){iE(e,{deep:false,exact:true,inline:"span",styles:{textDecoration:o}},undefined,t)}}))};const m=e=>{const t=c.get(e?"_start":"_end");if(t){let o=t[e?"firstChild":"lastChild"];if(d(o)){o=o[e?"firstChild":"lastChild"]}if(wr(o)&&o.data.length===0){o=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling}c.remove(t,true);return o}else{return null}};const g=t=>{let o;let n;let s=ay(c,t,r,t.collapsed);if(a.split){s=Yb(s);o=Wz(e,s,true);n=Wz(e,s);if(o!==n){o=$z(o,true);n=$z(n,false);if(qz(c,o,n)){const e=U.from(o.firstChild).getOr(o);l(Kz(c,e,true,"span",{id:"_start","data-mce-type":"bookmark"}));m(true);return}if(qz(c,n,o)){const e=U.from(n.lastChild).getOr(n);l(Kz(c,e,false,"span",{id:"_end","data-mce-type":"bookmark"}));m(false);return}o=Gz(c,o,"span",{id:"_start","data-mce-type":"bookmark"});n=Gz(c,n,"span",{id:"_end","data-mce-type":"bookmark"});const e=c.createRng();e.setStartAfter(o);e.setEndBefore(n);cy(c,e,(e=>{Q(e,(e=>{if(!Ip(e)&&!Ip(e.parentNode)){l(e)}}))}));l(o);l(n);o=m(true);n=m()}else{o=n=l(o)}s.startContainer=o.parentNode?o.parentNode:o;s.startOffset=c.nodeIndex(o);s.endContainer=n.parentNode?n.parentNode:n;s.endOffset=c.nodeIndex(n)+1}cy(c,s,(e=>{Q(e,f)}))};if(n){if(hh(n)){const e=c.createRng();e.setStartBefore(n);e.setEndAfter(n);g(e)}else{g(n)}My(e,t,n,o);return}if(!i.isCollapsed()||!jh(a)||rh(e).length){kh(e,(()=>gh(e,g)),(n=>jh(a)&&jS(e,t,o,n)));e.nodeChanged()}else{cz(e,t,o,s)}tE(e,t,o);My(e,t,n,o)};const cE=(e,t,o,n,s)=>{if(n||e.selection.isEditable()){aE(e,t,o,n,s)}};const iE=(e,t,o,n,s)=>oE(e,t,o,n,s).fold(j,(t=>{e.dom.rename(n,t);return true}),Z);const lE=mo.each;const dE=(e,t,o,n)=>{const s=t=>{if(dr(t)&&dr(t.parentNode)&&vh(t)){const o=Mh(e,t.parentNode);if(e.getStyle(t,"color")&&o){e.setStyle(t,"text-decoration",o)}else if(e.getStyle(t,"text-decoration")===o){e.setStyle(t,"text-decoration",null)}}};if(t.styles&&(t.styles.color||t.styles.textDecoration)){mo.walk(n,s,"childNodes");s(n)}};const uE=(e,t,o,n)=>{if(t.styles&&t.styles.backgroundColor){const s=Iz(e,"fontSize");Lz(n,(e=>s(e)&&vh(e)),Pz(e,"backgroundColor",Oh(t.styles.backgroundColor,o)))}};const fE=(e,t,o,n)=>{if(jh(t)&&(t.inline==="sub"||t.inline==="sup")){const o=Iz(e,"fontSize");Lz(n,(e=>o(e)&&vh(e)),Pz(e,"fontSize",""));const s=oe(e.select(t.inline==="sup"?"sub":"sup",n),vh);e.remove(s,true)}};const mE=(e,t,o,n)=>{lE(t,(t=>{if(jh(t)){lE(e.dom.select(t.inline,n),(n=>{if(Az(n)){iE(e,t,o,n,t.exact?n:null)}}))}Bz(e.dom,t,n)}))};const gE=(e,t,o,n,s)=>{const r=s.parentNode;if(VS(e,r,o,n)){if(iE(e,t,n,s)){return}}if(t.merge_with_parents&&r){e.dom.getParent(r,(r=>{if(VS(e,r,o,n)){iE(e,t,n,s);return true}else{return false}}))}};const pE=mo.each;const hE=(e,t,o,n)=>{if(Vf(e)&&jh(t)&&o.parentNode){const t=Oi(e.schema);const s=NS(yn.fromDom(o),(e=>pp(e.dom)));return Re(t,n)&&gc(yn.fromDom(o.parentNode),false)&&!s}else{return false}};const yE=(e,t,o,n)=>{pE(o.styles,((o,s)=>{e.setStyle(t,s,Oh(o,n))}));if(o.styles){const o=e.getAttrib(t,"style");if(o){e.setAttrib(t,"data-mce-style",o)}}};const bE=(e,t,o,n)=>{const s=e.formatter.get(t);const r=s[0];const a=!n&&e.selection.isCollapsed();const c=e.dom;const i=e.selection;const l=(e,t=r)=>{if(T(t.onformat)){t.onformat(e,t,o,n)}yE(c,e,t,o);pE(t.attributes,((t,n)=>{c.setAttrib(e,n,Oh(t,o))}));pE(t.classes,(t=>{const n=Oh(t,o);if(!c.hasClass(e,n)){c.addClass(e,n)}}))};const d=(e,t)=>{let o=false;pE(e,(e=>{if(!Vh(e)){return false}if(c.getContentEditable(t)==="false"&&!e.ceFalseOverride){return true}if(E(e.collapsed)&&e.collapsed!==a){return true}if(c.is(t,e.selector)&&!pp(t)){l(t,e);o=true;return false}return true}));return o};const u=e=>{if(v(e)){const t=c.create(e);l(t);return t}else{return null}};const f=(n,a,c)=>{const i=[];let f=true;const m=r.inline||r.block;const g=u(m);const p=n=>Ph(r)&&VS(e,n,t,o);const h=(t,o,n)=>{const s=Fh(r)&&xh(e.schema,t)&&Ch(e,o,m);return n&&s};const y=(t,o,s,a)=>{const i=t.nodeName.toLowerCase();const l=Ch(e,m,i)&&Ch(e,o,m);const d=!c&&wr(t)&&ka(t.data);const u=pp(t);const f=!jh(r)||!n.isBlock(t);return(s||a)&&l&&!d&&!u&&f};cy(n,a,(t=>{let o;const a=t=>{let c=false;let u=f;let b=false;const v=t.parentNode;const k=v.nodeName.toLowerCase();const w=n.getContentEditable(t);if(E(w)){u=f;f=w==="true";c=true;b=Th(e,t)}const _=f&&!c;if(Er(t)&&!hE(e,r,t,k)){o=null;if(Ih(r)){n.remove(t)}return}if(p(t)){o=null;return}if(h(t,k,_)){const e=n.rename(t,m);l(e);i.push(e);o=null;return}if(Vh(r)){let e=d(s,t);if(!e&&E(v)&&Uh(r)){e=d(s,v)}if(!jh(r)||e){o=null;return}}if(E(g)&&y(t,k,_,b)){if(!o){o=n.clone(g,false);v.insertBefore(o,t);i.push(o)}if(b&&c){f=u}o.appendChild(t)}else{o=null;Q(be(t.childNodes),a);if(c){f=u}o=null}};Q(t,a)}));if(r.links===true){Q(i,(e=>{const t=e=>{if(e.nodeName==="A"){l(e,r)}Q(be(e.childNodes),t)};t(e)}))}Q(i,(a=>{const c=e=>{let t=0;Q(e.childNodes,(e=>{if(!zh(e)&&!Ip(e)){t++}}));return t};const d=e=>{const t=ae(e.childNodes,yh).filter((e=>n.getContentEditable(e)!=="false"&&PS(n,e,r)));return t.map((t=>{const o=n.clone(t,false);l(o);n.replace(o,e,true);n.remove(t,true);return o})).getOr(e)};const u=c(a);if((i.length>1||!n.isBlock(a))&&u===0){n.remove(a,true);return}if(jh(r)||Ih(r)&&r.wrapper){if(!r.exact&&u===1){a=d(a)}mE(e,s,o,a);gE(e,r,t,o,a);uE(n,r,o,a);dE(n,r,o,a);fE(n,r,o,a);Rz(e,r,o,a)}}))};const m=hh(n)?n:i.getNode();if(c.getContentEditable(m)==="false"&&!Th(e,m)){n=m;d(s,n);Ny(e,t,n,o);return}if(r){if(n){if(hh(n)){if(!d(s,n)){const e=c.createRng();e.setStartBefore(n);e.setEndAfter(n);f(c,ay(c,e,s),true)}}else{f(c,n,true)}}else{if(!a||!jh(r)||rh(e).length){i.setRng(jC(i.getRng()));kh(e,(()=>{gh(e,((e,t)=>{const o=t?e:ay(c,e,s);f(c,o,false)}))}),Z);e.nodeChanged()}else{az(e,t,o)}xz(e.formatter,t).each((t=>{Q(Tz(e.selection),(e=>yE(c,e,t,o)))}))}vz(t,e)}Ny(e,t,n,o)};const vE=(e,t,o,n)=>{if(n||e.selection.isEditable()){bE(e,t,o,n)}};const kE=e=>Me(e,"vars");const wE=(e,t)=>{e.set({});t.on("NodeChange",(o=>{SE(t,o.element,e.get())}));t.on("FormatApply FormatRemove",(o=>{const n=U.from(o.node).map((e=>hh(e)?e:e.startContainer)).bind((e=>dr(e)?U.some(e):U.from(e.parentElement))).getOrThunk((()=>_E(t)));SE(t,n,e.get())}))};const _E=e=>e.selection.getStart();const xE=(e,t,o,n,s)=>{const r=t=>{const r=e.formatter.matchNode(t,o,s!==null&&s!==void 0?s:{},n);return!S(r)};const a=t=>{if(HS(e,t,o)){return true}else{if(!n){return E(e.formatter.matchNode(t,o,s,true))}else{return false}}};return re(t,r,a)};const CE=(e,t)=>{const o=t!==null&&t!==void 0?t:_E(e);return oe(Rh(e.dom,o),(e=>dr(e)&&!hr(e)))};const SE=(e,t,o)=>{const n=CE(e,t);xe(o,((o,s)=>{const r=o=>{const r=xE(e,n,s,o.similar,kE(o)?o.vars:undefined);const a=r.isSome();if(o.state.get()!==a){o.state.set(a);const e=r.getOr(t);if(kE(o)){o.callback(a,{node:e,format:s,parents:n})}else{Q(o.callbacks,(t=>t(a,{node:e,format:s,parents:n})))}}};Q([o.withSimilar,o.withoutSimilar],r);Q(o.withVars,r)}))};const zE=(e,t,o,n,s,r)=>{const a=t.get();Q(o.split(","),(t=>{const o=Ne(a,t).getOrThunk((()=>{const e={withSimilar:{state:ul(false),similar:true,callbacks:[]},withoutSimilar:{state:ul(false),similar:false,callbacks:[]},withVars:[]};a[t]=e;return e}));const c=()=>{const o=CE(e);return xE(e,o,t,s,r).isSome()};if(S(r)){const e=s?o.withSimilar:o.withoutSimilar;e.callbacks.push(n);if(e.callbacks.length===1){e.state.set(c())}}else{o.withVars.push({state:ul(c()),similar:s,vars:r,callback:n})}}));t.set(a)};const EE=(e,t,o)=>{const n=e.get();Q(t.split(","),(e=>Ne(n,e).each((t=>{n[e]={withSimilar:{...t.withSimilar,callbacks:oe(t.withSimilar.callbacks,(e=>e!==o))},withoutSimilar:{...t.withoutSimilar,callbacks:oe(t.withoutSimilar.callbacks,(e=>e!==o))},withVars:oe(t.withVars,(e=>e.callback!==o))}}))));e.set(n)};const TE=(e,t,o,n,s,r)=>{zE(e,t,o,n,s,r);return{unbind:()=>EE(t,o,n)}};const OE=(e,t,o,n)=>{const s=e.formatter.get(t);if(s){if(jS(e,t,o,n)&&(!("toggle"in s[0])||s[0].toggle)){cE(e,t,o,n)}else{vE(e,t,o,n)}}};const DE=mo.explode;const AE=()=>{const e={};const t=(t,o)=>{Q(DE(t),(t=>{if(!Me(e,t)){e[t]={name:t,callbacks:[]}}e[t].callbacks.push(o)}))};const o=()=>Ae(e);const n=(t,o)=>{Q(DE(t),(t=>{if(Me(e,t)){if(E(o)){const n=e[t];const s=oe(n.callbacks,(e=>e!==o));if(s.length>0){n.callbacks=s}else{delete e[t]}}else{delete e[t]}}}))};return{addFilter:t,getFilters:o,removeFilter:n}};const NE=(e,t)=>{Q(t,(t=>{e.attr(t,null)}))};const ME=(e,t,o)=>{e.addNodeFilter("font",(e=>{Q(e,(e=>{const n=t.parse(e.attr("style"));const s=e.attr("color");const r=e.attr("face");const a=e.attr("size");if(s){n.color=s}if(r){n["font-family"]=r}if(a){bt(a).each((e=>{n["font-size"]=o[e-1]}))}e.name="span";e.attr("style",t.serialize(n));NE(e,["color","face","size"])}))}))};const RE=(e,t,o)=>{e.addNodeFilter("strike",(e=>{const n=t.type!=="html4";Q(e,(e=>{if(n){e.name="s"}else{const t=o.parse(e.attr("style"));t["text-decoration"]="line-through";e.name="span";e.attr("style",o.serialize(t))}}))}))};const BE=(e,t,o)=>{var n;const s=Ni();if(t.convert_fonts_to_spans){ME(e,s,mo.explode((n=t.font_size_legacy_values)!==null&&n!==void 0?n:""))}RE(e,o,s)};const LE=(e,t,o)=>{if(t.inline_styles){BE(e,t,o)}};const HE=(e,t,o)=>{t.addNodeFilter("br",((t,n,s)=>{const r=mo.extend({},o.getBlockElements());const a=o.getNonEmptyElements();const c=o.getWhitespaceElements();r.body=1;const i=e=>e.name in r||Nc(o,e);for(let n=0,l=t.length;n<l;n++){let l=t[n];let d=l.parent;if(d&&i(d)&&l===d.lastChild){let t=l.prev;while(t){const e=t.name;if(e!=="span"||t.attr("data-mce-type")!=="bookmark"){if(e==="br"){l=null}break}t=t.prev}if(l){l.remove();if(MC(o,a,c,d)){const t=o.getElementRule(d.name);if(t){if(t.removeEmpty){d.remove()}else if(t.paddEmpty){OC(e,s,i,d)}}}}}else{let e=l;while(d&&d.firstChild===e&&d.lastChild===e){e=d;if(r[d.name]){break}d=d.parent}if(e===d){const e=new Xk("#text",3);e.value=Ir;l.replace(e)}}}}))};const IE=e=>fetch(e).then((e=>e.ok?e.blob():Promise.reject())).catch((()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})));const PE=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""};const FE=e=>{const[t,...o]=e.split(",");const n=o.join(",");const s=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(s){const e=s[2]===";base64";const t=e?PE(n):decodeURIComponent(n);return U.some({type:s[1],data:t,base64Encoded:e})}else{return U.none()}};const VE=(e,t,o=true)=>{let n=t;if(o){try{n=atob(t)}catch(e){return U.none()}}const s=new Uint8Array(n.length);for(let e=0;e<s.length;e++){s[e]=n.charCodeAt(e)}return U.some(new Blob([s],{type:e}))};const jE=e=>new Promise(((t,o)=>{FE(e).bind((({type:e,data:t,base64Encoded:o})=>VE(e,t,o))).fold((()=>o("Invalid data URI")),t)}));const ZE=e=>{if(lt(e,"blob:")){return IE(e)}else if(lt(e,"data:")){return jE(e)}else{return Promise.reject("Unknown URI format")}};const UE=e=>new Promise(((t,o)=>{const n=new FileReader;n.onloadend=()=>{t(n.result)};n.onerror=()=>{var e;o((e=n.error)===null||e===void 0?void 0:e.message)};n.readAsDataURL(e)}));let qE=0;const WE=e=>(e||"blobid")+qE++;const $E=(e,t,o)=>FE(e).bind((({data:e,type:n,base64Encoded:s})=>{if(t&&!s){return U.none()}else{const t=s?e:btoa(e);return o(t,n)}}));const GE=(e,t,o)=>{const n=e.create(WE(),t,o);e.add(n);return n};const KE=(e,t,o=false)=>$E(t,o,((t,o)=>U.from(e.getByData(t,o)).orThunk((()=>VE(o,t).map((o=>GE(e,o,t)))))));const YE=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(lt(t,"blob:")){const n=e.getByUri(t);if(E(n)){return Promise.resolve(n)}else{return ZE(t).then((t=>UE(t).then((n=>$E(n,false,(o=>U.some(GE(e,t,o)))).getOrThunk(o)))))}}else if(lt(t,"data:")){return KE(e,t).fold(o,(e=>Promise.resolve(e)))}else{return Promise.reject("Unknown image data format")}};const XE=e=>E(e.attr("data-mce-bogus"));const JE=e=>e.attr("src")===to.transparentSrc||E(e.attr("data-mce-placeholder"));const QE=(e,t)=>{const{blob_cache:o}=t;if(o){const t=e=>{const t=e.attr("src");if(JE(e)||XE(e)||z(t)){return}KE(o,t,true).each((t=>{e.attr("src",t.blobUri())}))};e.addAttributeFilter("src",(e=>Q(e,t)))}};const eT=(e,t)=>{const o=e.schema;if(t.remove_trailing_brs){HE(t,e,o)}e.addAttributeFilter("href",(e=>{let o=e.length;const n=e=>{const t=e.split(" ").filter((e=>e.length>0));return t.concat(["noopener"]).sort().join(" ")};const s=e=>{const t=e?mo.trim(e):"";if(!/\b(noopener)\b/g.test(t)){return n(t)}else{return t}};if(!t.allow_unsafe_link_target){while(o--){const t=e[o];if(t.name==="a"&&t.attr("target")==="_blank"){t.attr("rel",s(t.attr("rel")))}}}}));if(!t.allow_html_in_named_anchor){e.addAttributeFilter("id,name",(e=>{let t=e.length,o,n,s,r;while(t--){r=e[t];if(r.name==="a"&&r.firstChild&&!r.attr("href")){s=r.parent;o=r.lastChild;while(o&&s){n=o.prev;s.insert(o,r);o=n}}}}))}if(t.fix_list_elements){e.addNodeFilter("ul,ol",(e=>{let t=e.length,o,n;while(t--){o=e[t];n=o.parent;if(n&&(n.name==="ul"||n.name==="ol")){if(o.prev&&o.prev.name==="li"){o.prev.append(o)}else{const e=new Xk("li",1);e.attr("style","list-style-type: none");o.wrap(e)}}}}))}const n=o.getValidClasses();if(t.validate&&n){e.addAttributeFilter("class",(e=>{var t;let o=e.length;while(o--){const s=e[o];const r=(t=s.attr("class"))!==null&&t!==void 0?t:"";const a=mo.explode(r," ");let c="";for(let e=0;e<a.length;e++){const t=a[e];let o=false;let r=n["*"];if(r&&r[t]){o=true}r=n[s.name];if(!o&&r&&r[t]){o=true}if(o){if(c){c+=" "}c+=t}}if(!c.length){c=null}s.attr("class",c)}}))}QE(e,t)};function tT(e){"@babel/helpers - typeof";return tT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tT(e)}function oT(e,t){oT=Object.setPrototypeOf||function e(t,o){t.__proto__=o;return t};return oT(e,t)}function nT(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function sT(e,t,o){if(nT()){sT=Reflect.construct}else{sT=function e(t,o,n){var s=[null];s.push.apply(s,o);var r=Function.bind.apply(t,s);var a=new r;if(n)oT(a,n.prototype);return a}}return sT.apply(null,arguments)}function rT(e){return aT(e)||cT(e)||iT(e)||dT()}function aT(e){if(Array.isArray(e))return lT(e)}function cT(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iT(e,t){if(!e)return;if(typeof e==="string")return lT(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor)o=e.constructor.name;if(o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return lT(e,t)}function lT(e,t){if(t==null||t>e.length)t=e.length;for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function dT(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var uT=Object.hasOwnProperty,fT=Object.setPrototypeOf,mT=Object.isFrozen,gT=Object.getPrototypeOf,pT=Object.getOwnPropertyDescriptor;var hT=Object.freeze,yT=Object.seal,bT=Object.create;var vT=typeof Reflect!=="undefined"&&Reflect,kT=vT.apply,wT=vT.construct;if(!kT){kT=function e(t,o,n){return t.apply(o,n)}}if(!hT){hT=function e(t){return t}}if(!yT){yT=function e(t){return t}}if(!wT){wT=function e(t,o){return sT(t,rT(o))}}var _T=NT(Array.prototype.forEach);var xT=NT(Array.prototype.pop);var CT=NT(Array.prototype.push);var ST=NT(String.prototype.toLowerCase);var zT=NT(String.prototype.match);var ET=NT(String.prototype.replace);var TT=NT(String.prototype.indexOf);var OT=NT(String.prototype.trim);var DT=NT(RegExp.prototype.test);var AT=MT(TypeError);function NT(e){return function(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),s=1;s<o;s++){n[s-1]=arguments[s]}return kT(e,t,n)}}function MT(e){return function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++){o[n]=arguments[n]}return wT(e,o)}}function RT(e,t){if(fT){fT(e,null)}var o=t.length;while(o--){var n=t[o];if(typeof n==="string"){var s=ST(n);if(s!==n){if(!mT(t)){t[o]=s}n=s}}e[n]=true}return e}function BT(e){var t=bT(null);var o;for(o in e){if(kT(uT,e,[o])){t[o]=e[o]}}return t}function LT(e,t){while(e!==null){var o=pT(e,t);if(o){if(o.get){return NT(o.get)}if(typeof o.value==="function"){return NT(o.value)}}e=gT(e)}function n(e){console.warn("fallback value for",e);return null}return n}var HT=hT(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]);var IT=hT(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]);var PT=hT(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]);var FT=hT(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]);var VT=hT(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]);var jT=hT(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]);var ZT=hT(["#text"]);var UT=hT(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]);var qT=hT(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]);var WT=hT(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]);var $T=hT(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]);var GT=yT(/\{\{[\w\W]*|[\w\W]*\}\}/gm);var KT=yT(/<%[\w\W]*|[\w\W]*%>/gm);var YT=yT(/^data-[\-\w.\u00B7-\uFFFF]/);var XT=yT(/^aria-[\-\w]+$/);var JT=yT(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i);var QT=yT(/^(?:\w+script|data):/i);var eO=yT(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g);var tO=yT(/^html$/i);var oO=function e(){return typeof window==="undefined"?null:window};var nO=function e(t,o){if(tT(t)!=="object"||typeof t.createPolicy!=="function"){return null}var n=null;var s="data-tt-policy-suffix";if(o.currentScript&&o.currentScript.hasAttribute(s)){n=o.currentScript.getAttribute(s)}var r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML:function e(t){return t}})}catch(e){console.warn("TrustedTypes policy "+r+" could not be created.");return null}};function sO(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:oO();var t=function e(t){return sO(t)};t.version="2.3.8";t.removed=[];if(!e||!e.document||e.document.nodeType!==9){t.isSupported=false;return t}var o=e.document;var n=e.document;var s=e.DocumentFragment,r=e.HTMLTemplateElement,a=e.Node,c=e.Element,i=e.NodeFilter,l=e.NamedNodeMap,d=l===void 0?e.NamedNodeMap||e.MozNamedAttrMap:l,u=e.HTMLFormElement,f=e.DOMParser,m=e.trustedTypes;var g=c.prototype;var p=LT(g,"cloneNode");var h=LT(g,"nextSibling");var y=LT(g,"childNodes");var b=LT(g,"parentNode");if(typeof r==="function"){var v=n.createElement("template");if(v.content&&v.content.ownerDocument){n=v.content.ownerDocument}}var k=nO(m,o);var w=k?k.createHTML(""):"";var _=n,x=_.implementation,C=_.createNodeIterator,S=_.createDocumentFragment,z=_.getElementsByTagName;var E=o.importNode;var T={};try{T=BT(n).documentMode?n.documentMode:{}}catch(e){}var O={};t.isSupported=typeof b==="function"&&x&&typeof x.createHTMLDocument!=="undefined"&&T!==9;var D=GT,A=KT,N=YT,M=XT,R=QT,B=eO;var L=JT;var H=null;var I=RT({},[].concat(rT(HT),rT(IT),rT(PT),rT(VT),rT(ZT)));var P=null;var F=RT({},[].concat(rT(UT),rT(qT),rT(WT),rT($T)));var V=Object.seal(Object.create(null,{tagNameCheck:{writable:true,configurable:false,enumerable:true,value:null},attributeNameCheck:{writable:true,configurable:false,enumerable:true,value:null},allowCustomizedBuiltInElements:{writable:true,configurable:false,enumerable:true,value:false}}));var j=null;var Z=null;var U=true;var q=true;var W=false;var $=false;var G=false;var K=false;var Y=false;var X=false;var J=false;var Q=false;var ee=true;var te=true;var oe=false;var ne={};var se=null;var re=RT({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);var ae=null;var ce=RT({},["audio","video","img","source","image","track"]);var ie=null;var le=RT({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]);var de="http://www.w3.org/1998/Math/MathML";var ue="http://www.w3.org/2000/svg";var fe="http://www.w3.org/1999/xhtml";var me=fe;var ge=false;var pe;var he=["application/xhtml+xml","text/html"];var ye="text/html";var be;var ve=null;var ke=n.createElement("form");var we=function e(t){return t instanceof RegExp||t instanceof Function};var _e=function e(t){if(ve&&ve===t){return}if(!t||tT(t)!=="object"){t={}}t=BT(t);H="ALLOWED_TAGS"in t?RT({},t.ALLOWED_TAGS):I;P="ALLOWED_ATTR"in t?RT({},t.ALLOWED_ATTR):F;ie="ADD_URI_SAFE_ATTR"in t?RT(BT(le),t.ADD_URI_SAFE_ATTR):le;ae="ADD_DATA_URI_TAGS"in t?RT(BT(ce),t.ADD_DATA_URI_TAGS):ce;se="FORBID_CONTENTS"in t?RT({},t.FORBID_CONTENTS):re;j="FORBID_TAGS"in t?RT({},t.FORBID_TAGS):{};Z="FORBID_ATTR"in t?RT({},t.FORBID_ATTR):{};ne="USE_PROFILES"in t?t.USE_PROFILES:false;U=t.ALLOW_ARIA_ATTR!==false;q=t.ALLOW_DATA_ATTR!==false;W=t.ALLOW_UNKNOWN_PROTOCOLS||false;$=t.SAFE_FOR_TEMPLATES||false;G=t.WHOLE_DOCUMENT||false;X=t.RETURN_DOM||false;J=t.RETURN_DOM_FRAGMENT||false;Q=t.RETURN_TRUSTED_TYPE||false;Y=t.FORCE_BODY||false;ee=t.SANITIZE_DOM!==false;te=t.KEEP_CONTENT!==false;oe=t.IN_PLACE||false;L=t.ALLOWED_URI_REGEXP||L;me=t.NAMESPACE||fe;if(t.CUSTOM_ELEMENT_HANDLING&&we(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)){V.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck}if(t.CUSTOM_ELEMENT_HANDLING&&we(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)){V.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck}if(t.CUSTOM_ELEMENT_HANDLING&&typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean"){V.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements}pe=he.indexOf(t.PARSER_MEDIA_TYPE)===-1?pe=ye:pe=t.PARSER_MEDIA_TYPE;be=pe==="application/xhtml+xml"?function(e){return e}:ST;if($){q=false}if(J){X=true}if(ne){H=RT({},rT(ZT));P=[];if(ne.html===true){RT(H,HT);RT(P,UT)}if(ne.svg===true){RT(H,IT);RT(P,qT);RT(P,$T)}if(ne.svgFilters===true){RT(H,PT);RT(P,qT);RT(P,$T)}if(ne.mathMl===true){RT(H,VT);RT(P,WT);RT(P,$T)}}if(t.ADD_TAGS){if(H===I){H=BT(H)}RT(H,t.ADD_TAGS)}if(t.ADD_ATTR){if(P===F){P=BT(P)}RT(P,t.ADD_ATTR)}if(t.ADD_URI_SAFE_ATTR){RT(ie,t.ADD_URI_SAFE_ATTR)}if(t.FORBID_CONTENTS){if(se===re){se=BT(se)}RT(se,t.FORBID_CONTENTS)}if(te){H["#text"]=true}if(G){RT(H,["html","head","body"])}if(H.table){RT(H,["tbody"]);delete j.tbody}if(hT){hT(t)}ve=t};var xe=RT({},["mi","mo","mn","ms","mtext"]);var Ce=RT({},["foreignobject","desc","title","annotation-xml"]);var Se=RT({},["title","style","font","a","script"]);var ze=RT({},IT);RT(ze,PT);RT(ze,FT);var Ee=RT({},VT);RT(Ee,jT);var Te=function e(t){var o=b(t);if(!o||!o.tagName){o={namespaceURI:fe,tagName:"template"}}var n=ST(t.tagName);var s=ST(o.tagName);if(t.namespaceURI===ue){if(o.namespaceURI===fe){return n==="svg"}if(o.namespaceURI===de){return n==="svg"&&(s==="annotation-xml"||xe[s])}return Boolean(ze[n])}if(t.namespaceURI===de){if(o.namespaceURI===fe){return n==="math"}if(o.namespaceURI===ue){return n==="math"&&Ce[s]}return Boolean(Ee[n])}if(t.namespaceURI===fe){if(o.namespaceURI===ue&&!Ce[s]){return false}if(o.namespaceURI===de&&!xe[s]){return false}return!Ee[n]&&(Se[n]||!ze[n])}return false};var Oe=function e(o){CT(t.removed,{element:o});try{o.parentNode.removeChild(o)}catch(e){try{o.outerHTML=w}catch(e){o.remove()}}};var De=function e(o,n){try{CT(t.removed,{attribute:n.getAttributeNode(o),from:n})}catch(e){CT(t.removed,{attribute:null,from:n})}n.removeAttribute(o);if(o==="is"&&!P[o]){if(X||J){try{Oe(n)}catch(e){}}else{try{n.setAttribute(o,"")}catch(e){}}}};var Ae=function e(t){var o;var s;if(Y){t="<remove></remove>"+t}else{var r=zT(t,/^[\r\n\t ]+/);s=r&&r[0]}if(pe==="application/xhtml+xml"){t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>"}var a=k?k.createHTML(t):t;if(me===fe){try{o=(new f).parseFromString(a,pe)}catch(e){}}if(!o||!o.documentElement){o=x.createDocument(me,"template",null);try{o.documentElement.innerHTML=ge?"":a}catch(e){}}var c=o.body||o.documentElement;if(t&&s){c.insertBefore(n.createTextNode(s),c.childNodes[0]||null)}if(me===fe){return z.call(o,G?"html":"body")[0]}return G?o.documentElement:c};var Ne=function e(t){return C.call(t.ownerDocument||t,t,i.SHOW_ELEMENT|i.SHOW_COMMENT|i.SHOW_TEXT,null,false)};var Me=function e(t){return t instanceof u&&(typeof t.nodeName!=="string"||typeof t.textContent!=="string"||typeof t.removeChild!=="function"||!(t.attributes instanceof d)||typeof t.removeAttribute!=="function"||typeof t.setAttribute!=="function"||typeof t.namespaceURI!=="string"||typeof t.insertBefore!=="function")};var Re=function e(t){return tT(a)==="object"?t instanceof a:t&&tT(t)==="object"&&typeof t.nodeType==="number"&&typeof t.nodeName==="string"};var Be=function e(o,n,s){if(!O[o]){return}_T(O[o],(function(e){e.call(t,n,s,ve)}))};var Le=function e(o){var n;Be("beforeSanitizeElements",o,null);if(Me(o)){Oe(o);return true}if(DT(/[\u0080-\uFFFF]/,o.nodeName)){Oe(o);return true}var s=be(o.nodeName);Be("uponSanitizeElement",o,{tagName:s,allowedTags:H});if(o.hasChildNodes()&&!Re(o.firstElementChild)&&(!Re(o.content)||!Re(o.content.firstElementChild))&&DT(/<[/\w]/g,o.innerHTML)&&DT(/<[/\w]/g,o.textContent)){Oe(o);return true}if(s==="select"&&DT(/<template/i,o.innerHTML)){Oe(o);return true}if(!H[s]||j[s]){if(!j[s]&&Ie(s)){if(V.tagNameCheck instanceof RegExp&&DT(V.tagNameCheck,s))return false;if(V.tagNameCheck instanceof Function&&V.tagNameCheck(s))return false}if(te&&!se[s]){var r=b(o)||o.parentNode;var a=y(o)||o.childNodes;if(a&&r){var i=a.length;for(var l=i-1;l>=0;--l){r.insertBefore(p(a[l],true),h(o))}}}Oe(o);return true}if(o instanceof c&&!Te(o)){Oe(o);return true}if((s==="noscript"||s==="noembed")&&DT(/<\/no(script|embed)/i,o.innerHTML)){Oe(o);return true}if($&&o.nodeType===3){n=o.textContent;n=ET(n,D," ");n=ET(n,A," ");if(o.textContent!==n){CT(t.removed,{element:o.cloneNode()});o.textContent=n}}Be("afterSanitizeElements",o,null);return false};var He=function e(t,o,s){if(ee&&(o==="id"||o==="name")&&(s in n||s in ke)){return false}if(q&&!Z[o]&&DT(N,o));else if(U&&DT(M,o));else if(!P[o]||Z[o]){if(Ie(t)&&(V.tagNameCheck instanceof RegExp&&DT(V.tagNameCheck,t)||V.tagNameCheck instanceof Function&&V.tagNameCheck(t))&&(V.attributeNameCheck instanceof RegExp&&DT(V.attributeNameCheck,o)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(o))||o==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&DT(V.tagNameCheck,s)||V.tagNameCheck instanceof Function&&V.tagNameCheck(s)));else{return false}}else if(ie[o]);else if(DT(L,ET(s,B,"")));else if((o==="src"||o==="xlink:href"||o==="href")&&t!=="script"&&TT(s,"data:")===0&&ae[t]);else if(W&&!DT(R,ET(s,B,"")));else if(!s);else{return false}return true};var Ie=function e(t){return t.indexOf("-")>0};var Pe=function e(t){var o;var n;var s;var r;Be("beforeSanitizeAttributes",t,null);var a=t.attributes;if(!a){return}var c={attrName:"",attrValue:"",keepAttr:true,allowedAttributes:P};r=a.length;while(r--){o=a[r];var i=o,l=i.name,d=i.namespaceURI;n=l==="value"?o.value:OT(o.value);s=be(l);var u=n;c.attrName=s;c.attrValue=n;c.keepAttr=true;c.forceKeepAttr=undefined;Be("uponSanitizeAttribute",t,c);n=c.attrValue;if(c.forceKeepAttr){continue}if(!c.keepAttr){De(l,t);continue}if(DT(/\/>/i,n)){De(l,t);continue}if($){n=ET(n,D," ");n=ET(n,A," ")}var f=be(t.nodeName);if(!He(f,s,n)){De(l,t);continue}if(n!==u){try{if(d){t.setAttributeNS(d,l,n)}else{t.setAttribute(l,n)}}catch(e){De(l,t)}}}Be("afterSanitizeAttributes",t,null)};var Fe=function e(t){var o;var n=Ne(t);Be("beforeSanitizeShadowDOM",t,null);while(o=n.nextNode()){Be("uponSanitizeShadowNode",o,null);if(Le(o)){continue}if(o.content instanceof s){e(o.content)}Pe(o)}Be("afterSanitizeShadowDOM",t,null)};t.sanitize=function(n,r){var c;var i;var l;var d;var u;ge=!n;if(ge){n="\x3c!--\x3e"}if(typeof n!=="string"&&!Re(n)){if(typeof n.toString!=="function"){throw AT("toString is not a function")}else{n=n.toString();if(typeof n!=="string"){throw AT("dirty is not a string, aborting")}}}if(!t.isSupported){if(tT(e.toStaticHTML)==="object"||typeof e.toStaticHTML==="function"){if(typeof n==="string"){return e.toStaticHTML(n)}if(Re(n)){return e.toStaticHTML(n.outerHTML)}}return n}if(!K){_e(r)}t.removed=[];if(typeof n==="string"){oe=false}if(oe){if(n.nodeName){var f=be(n.nodeName);if(!H[f]||j[f]){throw AT("root node is forbidden and cannot be sanitized in-place")}}}else if(n instanceof a){c=Ae("\x3c!----\x3e");i=c.ownerDocument.importNode(n,true);if(i.nodeType===1&&i.nodeName==="BODY"){c=i}else if(i.nodeName==="HTML"){c=i}else{c.appendChild(i)}}else{if(!X&&!$&&!G&&n.indexOf("<")===-1){return k&&Q?k.createHTML(n):n}c=Ae(n);if(!c){return X?null:Q?w:""}}if(c&&Y){Oe(c.firstChild)}var m=Ne(oe?n:c);while(l=m.nextNode()){if(l.nodeType===3&&l===d){continue}if(Le(l)){continue}if(l.content instanceof s){Fe(l.content)}Pe(l);d=l}d=null;if(oe){return n}if(X){if(J){u=S.call(c.ownerDocument);while(c.firstChild){u.appendChild(c.firstChild)}}else{u=c}if(P.shadowroot){u=E.call(o,u,true)}return u}var g=G?c.outerHTML:c.innerHTML;if(G&&H["!doctype"]&&c.ownerDocument&&c.ownerDocument.doctype&&c.ownerDocument.doctype.name&&DT(tO,c.ownerDocument.doctype.name)){g="<!DOCTYPE "+c.ownerDocument.doctype.name+">\n"+g}if($){g=ET(g,D," ");g=ET(g,A," ")}return k&&Q?k.createHTML(g):g};t.setConfig=function(e){_e(e);K=true};t.clearConfig=function(){ve=null;K=false};t.isValidAttribute=function(e,t,o){if(!ve){_e({})}var n=be(e);var s=be(t);return He(n,s,o)};t.addHook=function(e,t){if(typeof t!=="function"){return}O[e]=O[e]||[];CT(O[e],t)};t.removeHook=function(e){if(O[e]){return xT(O[e])}};t.removeHooks=function(e){if(O[e]){O[e]=[]}};t.removeAllHooks=function(){O={}};return t}var rO=sO();const aO=mo.each,cO=mo.trim;const iO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];const lO={ftp:21,http:80,https:443,mailto:25};const dO=["img","video"];const uO=(e,t)=>{if(E(e)){return!e}else{return E(t)?!Y(dO,t):true}};const fO=e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}};const mO=(e,t,o)=>{const n=fO(t).replace(/\s/g,"");if(e.allow_script_urls){return false}else if(/((java|vb)script|mhtml):/i.test(n)){return true}else if(e.allow_html_data_urls){return false}else if(/^data:image\//i.test(n)){return uO(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(n)}else{return/^data:/i.test(n)}};class gO{static parseDataUri(e){let t;const o=decodeURIComponent(e).split(",");const n=/data:([^;]+)/.exec(o[0]);if(n){t=n[1]}return{type:t,data:o[1]}}static isDomSafe(e,t,o={}){if(o.allow_script_urls){return true}else{const n=fi.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!mO(o,n,t)}}static getDocumentBaseUrl(e){var t;let o;if(e.protocol.indexOf("http")!==0&&e.protocol!=="file:"){o=(t=e.href)!==null&&t!==void 0?t:""}else{o=e.protocol+"//"+e.host+e.pathname}if(/^[^:]+:\/\/\/?[^\/]+\//.test(o)){o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(o)){o+="/"}}return o}constructor(e,t={}){this.path="";this.directory="";e=cO(e);this.settings=t;const o=t.base_uri;const n=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)){n.source=e;return}const s=e.indexOf("//")===0;if(e.indexOf("/")===0&&!s){e=(o?o.protocol||"http":"http")+"://mce_host"+e}if(!/^[\w\-]*:?\/\//.test(e)){const t=o?o.path:new gO(document.location.href).directory;if((o===null||o===void 0?void 0:o.protocol)===""){e="//mce_host"+n.toAbsPath(t,e)}else{const s=/([^#?]*)([#?]?.*)/.exec(e);if(s){e=(o&&o.protocol||"http")+"://mce_host"+n.toAbsPath(t,s[1])+s[2]}}}e=e.replace(/@@/g,"(mce_at)");const r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);if(r){aO(iO,((e,t)=>{let o=r[t];if(o){o=o.replace(/\(mce_at\)/g,"@@")}n[e]=o}))}if(o){if(!n.protocol){n.protocol=o.protocol}if(!n.userInfo){n.userInfo=o.userInfo}if(!n.port&&n.host==="mce_host"){n.port=o.port}if(!n.host||n.host==="mce_host"){n.host=o.host}n.source=""}if(s){n.protocol=""}}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);if(t){this.path=t[0];this.directory=t[1];this.file=t[2]}this.source="";this.getURI()}toRelative(e){if(e==="./"){return e}const t=new gO(e,{base_uri:this});if(t.host!=="mce_host"&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&t.protocol!==""){return t.getURI()}const o=this.getURI(),n=t.getURI();if(o===n||o.charAt(o.length-1)==="/"&&o.substr(0,o.length-1)===n){return o}let s=this.toRelPath(this.path,t.path);if(t.query){s+="?"+t.query}if(t.anchor){s+="#"+t.anchor}return s}toAbsolute(e,t){const o=new gO(e,{base_uri:this});return o.getURI(t&&this.isSameOrigin(o))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port){return true}const t=this.protocol?lO[this.protocol]:null;if(t&&(this.port||t)==(e.port||t)){return true}}return false}toRelPath(e,t){let o=0,n="",s,r;const a=e.substring(0,e.lastIndexOf("/")).split("/");const c=t.split("/");if(a.length>=c.length){for(s=0,r=a.length;s<r;s++){if(s>=c.length||a[s]!==c[s]){o=s+1;break}}}if(a.length<c.length){for(s=0,r=c.length;s<r;s++){if(s>=a.length||a[s]!==c[s]){o=s+1;break}}}if(o===1){return t}for(s=0,r=a.length-(o-1);s<r;s++){n+="../"}for(s=o-1,r=c.length;s<r;s++){if(s!==o-1){n+="/"+c[s]}else{n+=c[s]}}return n}toAbsPath(e,t){let o=0;const n=/\/$/.test(t)?"/":"";const s=e.split("/");const r=t.split("/");const a=[];aO(s,(e=>{if(e){a.push(e)}}));const c=[];for(let e=r.length-1;e>=0;e--){if(r[e].length===0||r[e]==="."){continue}if(r[e]===".."){o++;continue}if(o>0){o--;continue}c.push(r[e])}const i=a.length-o;let l;if(i<=0){l=ue(c).join("/")}else{l=a.slice(0,i).join("/")+"/"+ue(c).join("/")}if(l.indexOf("/")!==0){l="/"+l}if(n&&l.lastIndexOf("/")!==l.length-1){l+=n}return l}getURI(e=false){let t;if(!this.source||e){t="";if(!e){if(this.protocol){t+=this.protocol+"://"}else{t+="//"}if(this.userInfo){t+=this.userInfo+"@"}if(this.host){t+=this.host}if(this.port){t+=":"+this.port}}if(this.path){t+=this.path}if(this.query){t+="?"+this.query}if(this.anchor){t+="#"+this.anchor}this.source=t}return this.source}}const pO=mo.makeMap("src,href,data,background,action,formaction,poster,xlink:href");const hO="data-mce-type";let yO=0;const bO=(e,t,o,n)=>{var s,r,a,c;const i=t.validate;const l=o.getSpecialElements();if(e.nodeType===To&&!t.allow_conditional_comments&&/^\[if/i.test((s=e.nodeValue)!==null&&s!==void 0?s:"")){e.nodeValue=" "+e.nodeValue}const d=(r=n===null||n===void 0?void 0:n.tagName)!==null&&r!==void 0?r:e.nodeName.toLowerCase();if(e.nodeType!==Ao||d==="body"){return}const u=yn.fromDom(e);const f=Go(u,hO);const m=Wo(u,"data-mce-bogus");if(!f&&v(m)){if(m==="all"){Ns(u)}else{Ms(u)}return}const g=o.getElementRule(d);if(i&&!g){if(Me(l,d)){Ns(u)}else{Ms(u)}return}else{if(E(n)){n.allowedTags[d]=true}}if(i&&g&&!f){Q((a=g.attributesForced)!==null&&a!==void 0?a:[],(e=>{Uo(u,e.name,e.value==="{$uid}"?`mce_${yO++}`:e.value)}));Q((c=g.attributesDefault)!==null&&c!==void 0?c:[],(e=>{if(!Go(u,e.name)){Uo(u,e.name,e.value==="{$uid}"?`mce_${yO++}`:e.value)}}));if(g.attributesRequired&&!X(g.attributesRequired,(e=>Go(u,e)))){Ms(u);return}if(g.removeEmptyAttrs&&Yo(u)){Ms(u);return}if(g.outputName&&g.outputName!==d){td(u,g.outputName)}}};const vO=(e,t,o,n,s)=>!(n in pO&&mO(e,s,o))&&(!e.validate||t.isValid(o,n)||lt(n,"data-")||lt(n,"aria-"));const kO=(e,t)=>e.hasAttribute(hO)&&(t==="id"||t==="class"||t==="style");const wO=(e,t)=>e in t.getBoolAttrs();const _O=(e,t,o)=>{const{attributes:n}=e;for(let s=n.length-1;s>=0;s--){const r=n[s];const a=r.name;const c=r.value;if(!vO(t,o,e.tagName.toLowerCase(),a,c)&&!kO(e,a)){e.removeAttribute(a)}else if(wO(a,o)){e.setAttribute(a,a)}}};const xO=(e,t)=>{const o=rO();o.addHook("uponSanitizeElement",((o,n)=>{bO(o,e,t,n)}));o.addHook("uponSanitizeAttribute",((o,n)=>{const s=o.tagName.toLowerCase();const{attrName:r,attrValue:a}=n;n.keepAttr=vO(e,t,s,r,a);if(n.keepAttr){n.allowedAttributes[r]=true;if(wO(r,t)){n.attrValue=r}if(e.allow_svg_data_urls&&lt(a,"data:image/svg+xml")){n.forceKeepAttr=true}}else if(kO(o,r)){n.forceKeepAttr=true}}));return o};const CO=(e,t)=>{const o={IN_PLACE:true,ALLOW_UNKNOWN_PROTOCOLS:true,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};const n={...o};n.PARSER_MEDIA_TYPE=t;if(e.allow_script_urls){n.ALLOWED_URI_REGEXP=/.*/}else if(e.allow_html_data_urls){n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i}return n};const SO=(e,t)=>{if(e.sanitize){const o=xO(e,t);return(t,n)=>{o.sanitize(t,CO(e,n));o.removed=[]}}else{return(o,n)=>{const s=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let r;while(r=s.nextNode()){bO(r,e,t);if(dr(r)){_O(r,e,t)}}}}};const zO=mo.makeMap,EO=mo.extend;const TO=(e,t,o)=>{const n=e.name;const s=n in o&&n!=="title"&&n!=="textarea";const r=t.childNodes;for(let t=0,n=r.length;t<n;t++){const n=r[t];const a=new Xk(n.nodeName.toLowerCase(),n.nodeType);if(dr(n)){const e=n.attributes;for(let t=0,o=e.length;t<o;t++){const o=e[t];a.attr(o.name,o.value)}}else if(wr(n)){a.value=n.data;if(s){a.raw=true}}else if(Cr(n)||_r(n)||xr(n)){a.value=n.data}TO(a,n,o);e.append(a)}};const OO=(e,t,o)=>{const n=[];for(let o=e,s=o;o;s=o,o=o.walk()){const r=o;Q(t,(e=>e(r)));if(z(r.parent)&&r!==e){o=s}else{n.push(r)}}for(let e=n.length-1;e>=0;e--){const t=n[e];Q(o,(e=>e(t)))}};const DO=(e,t,o,n)=>{const s=o.validate;const r=t.getNonEmptyElements();const a=t.getWhitespaceElements();const c=EO(zO("script,style,head,html,body,title,meta,param"),t.getBlockElements());const i=Oi(t);const l=/[ \t\r\n]+/g;const d=/^[ \t\r\n]+/;const u=/[ \t\r\n]+$/;const f=e=>{let t=e.parent;while(E(t)){if(t.name in a){return true}else{t=t.parent}}return false};const m=e=>{let o=e;while(E(o)){if(o.name in i){return MC(t,r,a,o)}else{o=o.parent}}return false};const g=e=>e.name in c||Nc(t,e);const p=(t,o)=>{const s=o?t.prev:t.next;if(E(s)||z(t.parent)){return false}return g(t.parent)&&(t.parent!==e||n.isRootContent===true)};const h=e=>{var t;if(e.type===3){if(!f(e)){let o=(t=e.value)!==null&&t!==void 0?t:"";o=o.replace(l," ");if(RC(e.prev,g)||p(e,true)){o=o.replace(d,"")}if(o.length===0){e.remove()}else{e.value=o}}}};const y=e=>{var c;if(e.type===1){const c=t.getElementRule(e.name);if(s&&c){const s=MC(t,r,a,e);if(c.paddInEmptyBlock&&s&&m(e)){OC(o,n,g,e)}else if(c.removeEmpty&&s){if(g(e)){e.remove()}else{e.unwrap()}}else if(c.paddEmpty&&(s||DC(e))){OC(o,n,g,e)}}}else if(e.type===3){if(!f(e)){let t=(c=e.value)!==null&&c!==void 0?c:"";if(e.next&&g(e.next)||p(e,false)){t=t.replace(u,"")}if(t.length===0){e.remove()}else{e.value=t}}}};return[h,y]};const AO=(e,t)=>{var o;const n=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;if(n===false){return""}else if(n===true){return"p"}else{return n}};const NO=(e={},t=Ai())=>{const o=AE();const n=AE();const s={validate:true,root_name:"body",sanitize:true,...e};const r=new DOMParser;const a=SO(s,t);const c=(e,o,n="html")=>{const s=n==="xhtml"?"application/xhtml+xml":"text/html";const c=Me(t.getSpecialElements(),o.toLowerCase());const i=c?`<${o}>${e}</${o}>`:e;const l=n==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${i}</body></html>`:`<body>${i}</body>`;const d=r.parseFromString(l,s).body;a(d,s);return c?d.firstChild:d};const i=o.addFilter;const l=o.getFilters;const d=o.removeFilter;const u=n.addFilter;const f=n.getFilters;const m=n.removeFilter;const g=(e,o)=>{if(PC(t,e)){o.push(e)}};const p=(e,o)=>{const n=v(o.attr(hO));const s=o.type===1&&(!Me(e,o.name)&&!Nc(t,o));return o.type===3||s&&!n};const h=(e,o)=>{const n=EO(zO("script,style,head,html,body,title,meta,param"),t.getBlockElements());const r=/^[ \t\r\n]+/;const a=/[ \t\r\n]+$/;let c=e.firstChild,i=null;const l=e=>{var t,o;if(e){c=e.firstChild;if(c&&c.type===3){c.value=(t=c.value)===null||t===void 0?void 0:t.replace(r,"")}c=e.lastChild;if(c&&c.type===3){c.value=(o=c.value)===null||o===void 0?void 0:o.replace(a,"")}}};if(!t.isValidChild(e.name,o.toLowerCase())){return}while(c){const t=c.next;if(p(n,c)){if(!i){i=new Xk(o,1);i.attr(s.forced_root_block_attrs);e.insert(i,c);i.append(c)}else{i.append(c)}}else{l(i);i=null}c=t}l(i)};const y=(e,o={})=>{var n;const r=s.validate;const a=(n=o.context)!==null&&n!==void 0?n:s.root_name;const i=c(e,a,o.format);Cc(t,i);const d=new Xk(a,11);TO(d,i,t.getSpecialElements());i.innerHTML="";const[u,m]=DO(d,t,s,o);const p=[];const y=r?e=>g(e,p):A;const b={nodes:{},attributes:{}};const v=e=>SC(l(),f(),e,b);OO(d,[u,v],[m,y]);p.reverse();if(r&&p.length>0){if(o.context){const{pass:e,fail:n}=te(p,(e=>e.parent===d));HC(n,t,d,v);o.invalid=e.length>0}else{HC(p,t,d,v)}}const k=AO(s,o);if(k&&(d.name==="body"||o.isRootContent)){h(d,k)}if(!o.invalid){EC(b,o)}return d};const b={schema:t,addAttributeFilter:u,getAttributeFilters:f,removeAttributeFilter:m,addNodeFilter:i,getNodeFilters:l,removeNodeFilter:d,parse:y};eT(b,s);LE(b,s,t);return b};const MO=e=>SS(e)?kw({validate:false}).serialize(e):e;const RO=(e,t,o)=>{const n=MO(e);const s=t(n);if(s.isDefaultPrevented()){return s}else if(SS(e)){if(s.content!==n){const t=NO({validate:false,forced_root_block:false,sanitize:o}).parse(s.content,{context:e.name});return{...s,content:t}}else{return{...s,content:e}}}else{return s}};const BO=(e,t)=>{if(t.no_events){return Eu.value(t)}else{const o=Ly(e,t);if(o.isDefaultPrevented()){return Eu.error(Hy(e,{content:"",...o}).content)}else{return Eu.value(o)}}};const LO=(e,t,o)=>{if(o.no_events){return t}else{const n=RO(t,(t=>Hy(e,{...o,content:t})),Nm(e));return n.content}};const HO=(e,t)=>{if(t.no_events){return Eu.value(t)}else{const o=RO(t.content,(o=>Ry(e,{...t,content:o})),Nm(e));if(o.isDefaultPrevented()){By(e,o);return Eu.error(undefined)}else{return Eu.value(o)}}};const IO=(e,t,o)=>{if(!o.no_events){By(e,{...o,content:t})}};const PO=(e,t,o)=>({element:e,width:t,rows:o});const FO=(e,t)=>({element:e,cells:t});const VO=(e,t)=>({x:e,y:t});const jO=(e,t)=>$o(e,t).bind(bt).getOr(1);const ZO=(e,t,o,n,s)=>{const r=jO(s,"rowspan");const a=jO(s,"colspan");const c=e.rows;for(let e=o;e<o+r;e++){if(!c[e]){c[e]=FO(Ql(n),[])}for(let n=t;n<t+a;n++){const r=c[e].cells;r[n]=e===o&&n===t?s:Jl(s)}}};const UO=(e,t,o)=>{const n=e.rows;const s=n[o]?n[o].cells:[];return!!s[t]};const qO=(e,t,o)=>{while(UO(e,t,o)){t++}return t};const WO=e=>se(e,((e,t)=>t.cells.length>e?t.cells.length:e),0);const $O=(e,t)=>{const o=e.rows;for(let e=0;e<o.length;e++){const n=o[e].cells;for(let o=0;o<n.length;o++){if(xn(n[o],t)){return U.some(VO(o,e))}}}return U.none()};const GO=(e,t,o,n,s)=>{const r=[];const a=e.rows;for(let e=o;e<=s;e++){const o=a[e].cells;const s=t<n?o.slice(t,n+1):o.slice(n,t+1);r.push(FO(a[e].element,s))}return r};const KO=(e,t,o)=>{const n=t.x,s=t.y;const r=o.x,a=o.y;const c=s<a?GO(e,n,s,r,a):GO(e,n,a,r,s);return PO(e.element,WO(c),c)};const YO=(e,t)=>{const o=Jl(e.element);const n=yn.fromTag("tbody");Ds(n,t);Es(o,n);return o};const XO=e=>J(e.rows,(e=>{const t=J(e.cells,(e=>{const t=Ql(e);Ko(t,"colspan");Ko(t,"rowspan");return t}));const o=Jl(e.element);Ds(o,t);return o}));const JO=e=>{const t=PO(Jl(e),0,[]);Q(rr(e,"tr"),((e,o)=>{Q(rr(e,"td,th"),((n,s)=>{ZO(t,qO(t,s,o),o,e,n)}))}));return PO(t.element,WO(t.rows),t.rows)};const QO=e=>YO(e,XO(e));const eD=(e,t,o)=>$O(e,t).bind((t=>$O(e,o).map((o=>KO(e,t,o)))));const tD=e=>ae(e,(e=>Mo(e)==="ul"||Mo(e)==="ol"));const oD=(e,t)=>ae(e,(e=>Mo(e)==="li"&&uh(e,t))).fold(R([]),(t=>tD(e).map((e=>{const t=yn.fromTag(Mo(e));const o=Oe(ws(e),((e,t)=>lt(t,"list-style")));ys(t,o);return[yn.fromTag("li"),t]})).getOr([])));const nD=(e,t)=>{const o=se(t,((e,t)=>{Es(t,e);return t}),e);return t.length>0?Rb([o]):o};const sD=e=>{if(ia(e)){return On(e).filter(ca).fold(R([]),(t=>[e,t]))}else{return ca(e)?[e]:[]}};const rD=(e,t)=>{const o=yn.fromDom(t.commonAncestorContainer);const n=Ww(o,e);const s=oe(n,ma);const r=oD(n,t);const a=s.concat(r.length?r:sD(o));return J(a,Jl)};const aD=()=>Rb([]);const cD=(e,t)=>nD(yn.fromDom(t.cloneContents()),rD(e,t));const iD=(e,t)=>cs(t,"table",H(xn,e));const lD=(e,t)=>iD(e,t[0]).bind((e=>{const o=t[0];const n=t[t.length-1];const s=JO(e);return eD(s,o,n).map((e=>Rb([QO(e)])))})).getOrThunk(aD);const dD=(e,t)=>t.length>0&&t[0].collapsed?aD():cD(e,t[0]);const uD=(e,t)=>{const o=sh(t,e);return o.length>0?lD(e,o):dD(e,t)};const fD=(e,t)=>t>=0&&t<e.length&&Vp(e.charAt(t));const mD=e=>wa(e.innerText);const gD=e=>e.map((e=>e.nodeName)).getOr("div").toLowerCase();const pD=e=>U.from(e.selection.getRng()).map((t=>{var o;const n=U.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock));const s=e.getBody();const r=gD(n);const a=yn.fromDom(t.cloneContents());fw(a);mw(a);const c=e.dom.add(s,r,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},a.dom);const i=mD(c);const l=wa((o=c.textContent)!==null&&o!==void 0?o:"");e.dom.remove(c);if(fD(l,0)||fD(l,l.length-1)){const e=n.getOr(s);const t=mD(e);const o=t.indexOf(i);if(o===-1){return i}else{const e=fD(t,o-1);const n=fD(t,o+i.length);return(e?" ":"")+i+(n?" ":"")}}else{return i}})).getOr("");const hD=(e,t)=>{const o=e.selection.getRng(),n=e.dom.create("body");const s=e.selection.getSel();const r=Mk(e,Qp(s));const a=t.contextual?uD(yn.fromDom(e.getBody()),r).dom:o.cloneContents();if(a){n.appendChild(a)}return e.selection.serializer.serialize(n,t)};const yD=(e,t)=>{if(t.format==="text"){return pD(e)}else{const o=hD(e,t);if(t.format==="tree"){return o}else{return e.selection.isCollapsed()?"":o}}};const bD=(e,t)=>({...e,format:t,get:true,selection:true,getInner:true});const vD=(e,t,o={})=>{const n=bD(o,t);return BO(e,n).fold(B,(t=>{const o=yD(e,t);return LO(e,o,t)}))};const kD=0,wD=1,_D=2;const xD=(e,t)=>{const o=e.length+t.length+2;const n=new Array(o);const s=new Array(o);const r=(e,t,o)=>({start:e,end:t,diag:o});const a=(o,n,s,r,c)=>{const l=i(o,n,s,r);if(l===null||l.start===n&&l.diag===n-r||l.end===o&&l.diag===o-s){let a=o;let i=s;while(a<n||i<r){if(a<n&&i<r&&e[a]===t[i]){c.push([kD,e[a]]);++a;++i}else{if(n-o>r-s){c.push([_D,e[a]]);++a}else{c.push([wD,t[i]]);++i}}}}else{a(o,l.start,s,l.start-l.diag,c);for(let t=l.start;t<l.end;++t){c.push([kD,e[t]])}a(l.end,n,l.end-l.diag,r,c)}};const c=(o,n,s,a)=>{let c=o;while(c-n<a&&c<s&&e[c]===t[c-n]){++c}return r(o,c,n)};const i=(o,r,a,i)=>{const l=r-o;const d=i-a;if(l===0||d===0){return null}const u=l-d;const f=d+l;const m=(f%2===0?f:f+1)/2;n[1+m]=o;s[1+m]=r+1;let g,p,h,y,b;for(g=0;g<=m;++g){for(p=-g;p<=g;p+=2){h=p+m;if(p===-g||p!==g&&n[h-1]<n[h+1]){n[h]=n[h+1]}else{n[h]=n[h-1]+1}y=n[h];b=y-o+a-p;while(y<r&&b<i&&e[y]===t[b]){n[h]=++y;++b}if(u%2!==0&&u-g<=p&&p<=u+g){if(s[h-u]<=n[h]){return c(s[h-u],p+o-a,r,i)}}}for(p=u-g;p<=u+g;p+=2){h=p+m-u;if(p===u-g||p!==u+g&&s[h+1]<=s[h-1]){s[h]=s[h+1]-1}else{s[h]=s[h-1]}y=s[h]-1;b=y-o+a-p;while(y>=o&&b>=a&&e[y]===t[b]){s[h]=y--;b--}if(u%2===0&&-g<=p&&p<=g){if(s[h]<=n[h+u]){return c(s[h],p+o-a,r,i)}}}}return null};const l=[];a(0,e.length,0,t.length,l);return l};const CD=e=>{if(dr(e)){return e.outerHTML}else if(wr(e)){return fi.encodeRaw(e.data,false)}else if(Cr(e)){return"\x3c!--"+e.data+"--\x3e"}return""};const SD=e=>{let t;const o=document.createElement("div");const n=document.createDocumentFragment();if(e){o.innerHTML=e}while(t=o.firstChild){n.appendChild(t)}return n};const zD=(e,t,o)=>{const n=SD(t);if(e.hasChildNodes()&&o<e.childNodes.length){const t=e.childNodes[o];e.insertBefore(n,t)}else{e.appendChild(n)}};const ED=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}};const TD=(e,t)=>{let o=0;Q(e,(e=>{if(e[0]===kD){o++}else if(e[0]===wD){zD(t,e[1],o);o++}else if(e[0]===_D){ED(t,o)}}))};const OD=(e,t)=>oe(J(be(e.childNodes),t?N(wa,CD):CD),(e=>e.length>0));const DD=(e,t)=>{const o=J(be(t.childNodes),CD);TD(xD(o,e),t);return t};const AD=$e((()=>document.implementation.createHTMLDocument("undo")));const ND=e=>e.querySelector("iframe")!==null;const MD=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null});const RD=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null});const BD=e=>{const t=e.serializer.getTempAttrs();const o=uw(e.getBody(),t);return ND(o)?MD(OD(o,true)):RD(wa(o.innerHTML))};const LD=(e,t,o)=>{const n=o?t.beforeBookmark:t.bookmark;if(t.type==="fragmented"){DD(t.fragments,e.getBody())}else{e.setContent(t.content,{format:"raw",no_selection:E(n)&&wp(n)?!n.isFakeCaret:true})}if(n){e.selection.moveToBookmark(n);e.selection.scrollIntoView()}};const HD=e=>e.type==="fragmented"?e.fragments.join(""):e.content;const ID=e=>{const t=yn.fromTag("body",AD());Hs(t,HD(e));Q(rr(t,"*[data-mce-bogus]"),Ms);return Ls(t)};const PD=(e,t)=>HD(e)===HD(t);const FD=(e,t)=>ID(e)===ID(t);const VD=(e,t)=>{if(!e||!t){return false}else if(PD(e,t)){return true}else{return FD(e,t)}};const jD=e=>e.get()===0;const ZD=(e,t,o)=>{if(jD(o)){e.typing=t}};const UD=(e,t)=>{if(e.typing){ZD(e,false,t);e.add()}};const qD=e=>{if(e.typing){e.typing=false;e.add()}};const WD=(e,t,o)=>{if(jD(t)){o.set(xu(e.selection))}};const $D=(e,t,o,n,s,r,a)=>{const c=BD(e);const i=mo.extend(r||{},c);if(!jD(n)||e.removed){return null}const l=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:i,lastLevel:l,originalEvent:a}).isDefaultPrevented()){return null}if(l&&VD(l,i)){return null}if(t.data[o.get()]){s.get().each((e=>{t.data[o.get()].beforeBookmark=e}))}const d=Kf(e);if(d){if(t.data.length>d){for(let e=0;e<t.data.length-1;e++){t.data[e]=t.data[e+1]}t.data.length--;o.set(t.data.length)}}i.bookmark=xu(e.selection);if(o.get()<t.data.length-1){t.data.length=o.get()+1}t.data.push(i);o.set(t.data.length-1);const u={level:i,lastLevel:l,originalEvent:a};if(o.get()>0){e.setDirty(true);e.dispatch("AddUndo",u);e.dispatch("change",u)}else{e.dispatch("AddUndo",u)}return i};const GD=(e,t,o)=>{t.data=[];o.set(0);t.typing=false;e.dispatch("ClearUndos")};const KD=(e,t,o,n,s)=>{if(t.transact(n)){const n=t.data[o.get()].bookmark;const r=t.data[o.get()-1];LD(e,r,true);if(t.transact(s)){t.data[o.get()-1].beforeBookmark=n}}};const YD=(e,t,o)=>{let n;if(t.get()<o.length-1){t.set(t.get()+1);n=o[t.get()];LD(e,n,false);e.setDirty(true);e.dispatch("Redo",{level:n})}return n};const XD=(e,t,o,n)=>{let s;if(t.typing){t.add();t.typing=false;ZD(t,false,o)}if(n.get()>0){n.set(n.get()-1);s=t.data[n.get()];LD(e,s,true);e.setDirty(true);e.dispatch("Undo",{level:s})}return s};const JD=e=>{e.clear();e.add()};const QD=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!VD(BD(e),t.data[0]);const eA=(e,t)=>t.get()<e.data.length-1&&!e.typing;const tA=(e,t,o)=>{UD(e,t);e.beforeChange();e.ignore(o);return e.add()};const oA=(e,t)=>{try{e.set(e.get()+1);t()}finally{e.set(e.get()-1)}};const nA=(e,t)=>{const o=e.dom;const n=E(t)?t:e.getBody();Q(o.select("table,a",n),(t=>{switch(t.nodeName){case"TABLE":const n=sm(e);const s=o.getAttrib(t,"border");if((!s||s==="0")&&e.hasVisual){o.addClass(t,n)}else{o.removeClass(t,n)}break;case"A":if(!o.getAttrib(t,"href")){const n=o.getAttrib(t,"name")||t.id;const s=rm(e);if(n&&e.hasVisual){o.addClass(t,s)}else{o.removeClass(t,s)}}break}}));e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})};const sA=e=>({init:{bindEvents:A},undoManager:{beforeChange:(t,o)=>WD(e,t,o),add:(t,o,n,s,r,a)=>$D(e,t,o,n,s,r,a),undo:(t,o,n)=>XD(e,t,o,n),redo:(t,o)=>YD(e,t,o),clear:(t,o)=>GD(e,t,o),reset:e=>JD(e),hasUndo:(t,o)=>QD(e,t,o),hasRedo:(e,t)=>eA(e,t),transact:(e,t,o)=>tA(e,t,o),ignore:(e,t)=>oA(e,t),extra:(t,o,n,s)=>KD(e,t,o,n,s)},formatter:{match:(t,o,n,s)=>jS(e,t,o,n,s),matchAll:(t,o)=>ZS(e,t,o),matchNode:(t,o,n,s)=>VS(e,t,o,n,s),canApply:t=>qS(e,t),closest:t=>US(e,t),apply:(t,o,n)=>vE(e,t,o,n),remove:(t,o,n,s)=>cE(e,t,o,n,s),toggle:(t,o,n)=>OE(e,t,o,n),formatChanged:(t,o,n,s,r)=>TE(e,t,o,n,s,r)},editor:{getContent:t=>yw(e,t),setContent:(t,o)=>DS(e,t,o),insertContent:(t,o)=>CS(e,t,o),addVisual:t=>nA(e,t)},selection:{getContent:(t,o)=>vD(e,t,o)},autocompleter:{addDecoration:t=>Zk(e,t),removeDecoration:()=>Wk(e,yn.fromDom(e.getBody()))},raw:{getModel:()=>U.none()}});const rA=e=>{const t=e=>k(e)?e:{};const{init:o,undoManager:n,formatter:s,editor:r,selection:a,autocompleter:c,raw:i}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:n.beforeChange,add:n.add,undo:n.undo,redo:n.redo,clear:n.clear,reset:n.reset,hasUndo:n.hasUndo,hasRedo:n.hasRedo,transact:(e,t,o)=>n.transact(o),ignore:(e,t)=>n.ignore(t),extra:(e,t,o,s)=>n.extra(o,s)},formatter:{match:(e,o,n,r)=>s.match(e,t(o),r),matchAll:s.matchAll,matchNode:s.matchNode,canApply:e=>s.canApply(e),closest:e=>s.closest(e),apply:(e,o,n)=>s.apply(e,t(o)),remove:(e,o,n,r)=>s.remove(e,t(o)),toggle:(e,o,n)=>s.toggle(e,t(o)),formatChanged:(e,t,o,n,r)=>s.formatChanged(t,o,n,r)},editor:{getContent:e=>r.getContent(e),setContent:(e,t)=>({content:r.setContent(e,t),html:""}),insertContent:(e,t)=>{r.insertContent(e);return""},addVisual:r.addVisual},selection:{getContent:(e,t)=>a.getContent(t)},autocompleter:{addDecoration:c.addDecoration,removeDecoration:c.removeDecoration},raw:{getModel:()=>U.some(i.getRawModel())}}};const aA=()=>{const e=R(null);const t=R("");return{init:{bindEvents:A},undoManager:{beforeChange:A,add:e,undo:e,redo:e,clear:A,reset:A,hasUndo:j,hasRedo:j,transact:e,ignore:A,extra:A},formatter:{match:j,matchAll:R([]),matchNode:R(undefined),canApply:j,closest:t,apply:A,remove:A,toggle:A,formatChanged:R({unbind:A})},editor:{getContent:t,setContent:R({content:"",html:""}),insertContent:R(""),addVisual:A},selection:{getContent:t},autocompleter:{addDecoration:A,removeDecoration:A},raw:{getModel:R(U.none())}}};const cA=e=>Me(e.plugins,"rtc");const iA=e=>Ne(e.plugins,"rtc").bind((e=>U.from(e.setup)));const lA=e=>{const t=e;return iA(e).fold((()=>{t.rtcInstance=sA(e);return U.none()}),(e=>{t.rtcInstance=aA();return U.some((()=>e().then((e=>{t.rtcInstance=rA(e);return e.rtc.isRemote}))))}))};const dA=e=>e.rtcInstance?e.rtcInstance:sA(e);const uA=e=>{const t=e.rtcInstance;if(!t){throw new Error("Failed to get RTC instance not yet initialized.")}else{return t}};const fA=(e,t,o)=>{uA(e).undoManager.beforeChange(t,o)};const mA=(e,t,o,n,s,r,a)=>uA(e).undoManager.add(t,o,n,s,r,a);const gA=(e,t,o,n)=>uA(e).undoManager.undo(t,o,n);const pA=(e,t,o)=>uA(e).undoManager.redo(t,o);const hA=(e,t,o)=>{uA(e).undoManager.clear(t,o)};const yA=(e,t)=>{uA(e).undoManager.reset(t)};const bA=(e,t,o)=>uA(e).undoManager.hasUndo(t,o);const vA=(e,t,o)=>uA(e).undoManager.hasRedo(t,o);const kA=(e,t,o,n)=>uA(e).undoManager.transact(t,o,n);const wA=(e,t,o)=>{uA(e).undoManager.ignore(t,o)};const _A=(e,t,o,n,s)=>{uA(e).undoManager.extra(t,o,n,s)};const xA=(e,t,o,n,s)=>uA(e).formatter.match(t,o,n,s);const CA=(e,t,o)=>uA(e).formatter.matchAll(t,o);const SA=(e,t,o,n,s)=>uA(e).formatter.matchNode(t,o,n,s);const zA=(e,t)=>uA(e).formatter.canApply(t);const EA=(e,t)=>uA(e).formatter.closest(t);const TA=(e,t,o,n)=>{uA(e).formatter.apply(t,o,n)};const OA=(e,t,o,n,s)=>{uA(e).formatter.remove(t,o,n,s)};const DA=(e,t,o,n)=>{uA(e).formatter.toggle(t,o,n)};const AA=(e,t,o,n,s,r)=>uA(e).formatter.formatChanged(t,o,n,s,r);const NA=(e,t)=>dA(e).editor.getContent(t);const MA=(e,t,o)=>dA(e).editor.setContent(t,o);const RA=(e,t,o)=>dA(e).editor.insertContent(t,o);const BA=(e,t,o)=>uA(e).selection.getContent(t,o);const LA=(e,t)=>uA(e).editor.addVisual(t);const HA=e=>uA(e).init.bindEvents();const IA=(e,t)=>uA(e).autocompleter.addDecoration(t);const PA=e=>uA(e).autocompleter.removeDecoration();const FA=(e,t={})=>{const o=t.format?t.format:"html";return BA(e,o,t)};const VA=e=>{if(e.dom.length===0){Ns(e);return U.none()}else{return U.some(e)}};const jA=(e,t)=>e.filter((e=>by.isBookmarkNode(e.dom))).bind(t?Rn:Mn);const ZA=(e,t,o,n)=>{const s=e.dom;const r=t.dom;const a=n?s.length:r.length;if(n){H_(s,r,false,!n);o.setStart(r,a)}else{H_(r,s,false,!n);o.setEnd(r,a)}};const UA=(e,t)=>{On(e).each((o=>{const n=e.dom;if(t&&w_(o,Zd(n,0))){B_(n,0)}else if(!t&&x_(o,Zd(n,n.length))){L_(n,n.length)}}))};const qA=(e,t,o,n)=>{e.bind((e=>{const s=n?L_:B_;s(e.dom,n?e.dom.length:0);return t.filter(Po).map((t=>ZA(e,t,o,n)))})).orThunk((()=>{const e=jA(t,n).or(t).filter(Po);return e.map((e=>UA(e,n)))}))};const WA=(e,t)=>{const o=U.from(t.firstChild).map(yn.fromDom);const n=U.from(t.lastChild).map(yn.fromDom);e.deleteContents();e.insertNode(t);const s=o.bind(Mn).filter(Po).bind(VA);const r=n.bind(Rn).filter(Po).bind(VA);qA(s,o,e,true);qA(r,n,e,false);e.collapse(false)};const $A=(e,t)=>({format:"html",...e,set:true,selection:true,content:t});const GA=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng();const n=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock);const s=n?{context:n.nodeName.toLowerCase()}:{};const r=e.parser.parse(t.content,{forced_root_block:false,...s,...t});return kw({validate:false},e.schema).serialize(r)}else{return t.content}};const KA=(e,t,o={})=>{const n=$A(o,t);HO(e,n).each((t=>{const o=GA(e,t);const n=e.selection.getRng();WA(n,n.createContextualFragment(o));e.selection.setRng(n);Ov(e,n);IO(e,o,t)}))};const YA=(e,t,o)=>{if(Me(e,t)){const n=oe(e[t],(e=>e!==o));if(n.length===0){delete e[t]}else{e[t]=n}}};var XA=(e,t)=>{let o;let n;const s=(t,o)=>ae(o,(o=>e.is(o,t)));const r=t=>e.getParents(t,undefined,e.getRoot());const a=()=>{o={};n={};t.on("NodeChange",(e=>{const t=e.element;const a=r(t);const c={};xe(o,((e,t)=>{s(t,a).each((o=>{if(!n[t]){Q(e,(e=>{e(true,{node:o,selector:t,parents:a})}));n[t]=e}c[t]=e}))}));xe(n,((e,o)=>{if(!c[o]){delete n[o];Q(e,(e=>{e(false,{node:t,selector:o,parents:a})}))}}))}))};return{selectorChangedWithUnbind:(e,c)=>{if(!o){a()}if(!o[e]){o[e]=[]}o[e].push(c);s(e,r(t.selection.getStart())).each((()=>{n[e]=o[e]}));return{unbind:()=>{YA(o,e,c);YA(n,e,c)}}}}};const JA=e=>!!(e&&e.ownerDocument)&&Cn(yn.fromDom(e.ownerDocument),yn.fromDom(e));const QA=e=>{if(!e){return false}else{return JA(e.startContainer)&&JA(e.endContainer)}};const eN=(e,t,o,n)=>{let s;let r;const{selectorChangedWithUnbind:a}=XA(e,n);const c=(t,o)=>{const s=e.createRng();if(E(t)&&E(o)){s.setStart(t,o);s.setEnd(t,o);k(s);y(false)}else{fh(e,s,n.getBody(),true);k(s)}};const i=e=>FA(n,e);const l=(e,t)=>KA(n,e,t);const d=e=>Ek(n.getBody(),v(),e);const u=e=>Tk(n.getBody(),v(),e);const f=(e,t)=>B.getBookmark(e,t);const m=e=>B.moveToBookmark(e);const g=(t,o)=>{Nk(e,t,o).each(k);return t};const p=()=>{const e=v(),t=b();if(!e||e.item){return false}if(e.compareEndPoints){return e.compareEndPoints("StartToEnd",e)===0}return!t||e.collapsed};const h=()=>{const t=v();const o=n.getBody().querySelectorAll('[data-mce-selected="1"]');if(o.length>0){return de(o,(t=>e.isEditable(t.parentElement)))}else if(t.startContainer===t.endContainer){return e.isEditable(t.startContainer)}else{return e.isEditable(t.startContainer)&&e.isEditable(t.endContainer)}};const y=e=>{const t=v();t.collapse(!!e);k(t)};const b=()=>t.getSelection?t.getSelection():t.document.selection;const v=()=>{let o;const a=(e,t,o)=>{try{return t.compareBoundaryPoints(e,o)}catch(e){return-1}};const c=t.document;if(E(n.bookmark)&&!wk(n)){const e=qv(n);if(e.isSome()){return e.map((e=>Mk(n,[e])[0])).getOr(c.createRange())}}try{const e=b();if(e&&!lr(e.anchorNode)){if(e.rangeCount>0){o=e.getRangeAt(0)}else{o=c.createRange()}o=Mk(n,[o])[0]}}catch(e){}if(!o){o=c.createRange()}if(Sr(o.startContainer)&&o.collapsed){const t=e.getRoot();o.setStart(t,0);o.setEnd(t,0)}if(s&&r){if(a(o.START_TO_START,o,s)===0&&a(o.END_TO_END,o,s)===0){o=r}else{s=null;r=null}}return o};const k=(e,t)=>{if(!QA(e)){return}const o=b();const a=n.dispatch("SetSelectionRange",{range:e,forward:t});e=a.range;if(o){r=e;try{o.removeAllRanges();o.addRange(e)}catch(e){}if(t===false&&o.extend){o.collapse(e.endContainer,e.endOffset);o.extend(e.startContainer,e.startOffset)}s=o.rangeCount>0?o.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(o===null||o===void 0?void 0:o.setBaseAndExtent)){if(e.endOffset-e.startOffset<2){if(e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];if(t&&t.nodeName==="IMG"){o.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset);if(o.anchorNode!==e.startContainer||o.focusNode!==e.endContainer){o.setBaseAndExtent(t,0,t,1)}}}}}n.dispatch("AfterSetSelectionRange",{range:e,forward:t})};const w=t=>{l(e.getOuterHTML(t));return t};const _=()=>Dk(n.getBody(),v());const x=(t,o)=>Ak(e,v(),t,o);const C=()=>{const t=b();const o=t===null||t===void 0?void 0:t.anchorNode;const n=t===null||t===void 0?void 0:t.focusNode;if(!t||!o||!n||lr(o)||lr(n)){return true}const s=e.createRng();const r=e.createRng();try{s.setStart(o,t.anchorOffset);s.collapse(true);r.setStart(n,t.focusOffset);r.collapse(true)}catch(e){return true}return s.compareBoundaryPoints(s.START_TO_START,r)<=0};const S=()=>{const t=v();const o=b();if(!th(o)&&mh(n)){const o=Gb(e,t);o.each((e=>{k(e,C())}));return o.getOr(t)}return t};const z=(e,t)=>{a(e,t);return R};const T=()=>{let t;let o=e.getRoot();while(o&&o.nodeName!=="BODY"){if(o.scrollHeight>o.clientHeight){t=o;break}o=o.parentNode}return t};const O=(e,t)=>{if(E(e)){Tv(n,e,t)}else{Ov(n,v(),t)}};const D=(e,t)=>k(Hb(e,t,n.getDoc()));const A=()=>{const e=v();return e.collapsed?Zd.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()};const N=()=>{t=s=r=null;L.destroy()};const M=(t={type:"word"})=>k(Xb(e).expand(v(),t));const R={dom:e,win:t,serializer:o,editor:n,expand:M,collapse:y,setCursorLocation:c,getContent:i,setContent:l,getBookmark:f,moveToBookmark:m,select:g,isCollapsed:p,isEditable:h,isForward:C,setNode:w,getNode:_,getSel:b,setRng:k,getRng:v,getStart:d,getEnd:u,getSelectedBlocks:x,normalize:S,selectorChanged:z,selectorChangedWithUnbind:a,getScrollContainer:T,scrollIntoView:O,placeCaretAt:D,getBoundingClientRect:A,destroy:N};const B=by(R);const L=Jy(R,n);R.bookmarkManager=B;R.controlSelection=L;return R};const tN=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",((e,t)=>{let o=e.length;while(o--){const n=e[o];n.attr("tabindex",n.attr("data-mce-tabindex"));n.attr(t,null)}}));e.addAttributeFilter("src,href,style",((e,n)=>{const s="data-mce-"+n;const r=t.url_converter;const a=t.url_converter_scope;let c=e.length;while(c--){const t=e[c];let i=t.attr(s);if(i!==undefined){t.attr(n,i.length>0?i:null);t.attr(s,null)}else{i=t.attr(n);if(n==="style"){i=o.serializeStyle(o.parseStyle(i),t.name)}else if(r){i=r.call(a,i,n,t.name)}t.attr(n,i.length>0?i:null)}}}));e.addAttributeFilter("class",(e=>{let t=e.length;while(t--){const o=e[t];let n=o.attr("class");if(n){n=n.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,"");o.attr("class",n.length>0?n:null)}}}));e.addAttributeFilter("data-mce-type",((e,t,o)=>{let n=e.length;while(n--){const t=e[n];if(t.attr("data-mce-type")==="bookmark"&&!o.cleanup){const e=U.from(t.firstChild).exists((e=>{var t;return!ka((t=e.value)!==null&&t!==void 0?t:"")}));if(e){t.unwrap()}else{t.remove()}}}}));e.addNodeFilter("noscript",(e=>{var t;let o=e.length;while(o--){const n=e[o].firstChild;if(n){n.value=fi.decode((t=n.value)!==null&&t!==void 0?t:"")}}}));e.addNodeFilter("script,style",((e,o)=>{var n;const s=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let r=e.length;while(r--){const a=e[r];const c=a.firstChild;const i=(n=c===null||c===void 0?void 0:c.value)!==null&&n!==void 0?n:"";if(o==="script"){const e=a.attr("type");if(e){a.attr("type",e==="mce-no/type"?null:e.replace(/^mce\-/,""))}if(t.element_format==="xhtml"&&c&&i.length>0){c.value="// <![CDATA[\n"+s(i)+"\n// ]]>"}}else{if(t.element_format==="xhtml"&&c&&i.length>0){c.value="\x3c!--\n"+s(i)+"\n--\x3e"}}}}));e.addNodeFilter("#comment",(e=>{let n=e.length;while(n--){const s=e[n];const r=s.value;if(t.preserve_cdata&&(r===null||r===void 0?void 0:r.indexOf("[CDATA["))===0){s.name="#cdata";s.type=4;s.value=o.decode(r.replace(/^\[CDATA\[|\]\]$/g,""))}else if((r===null||r===void 0?void 0:r.indexOf("mce:protected "))===0){s.name="#text";s.type=3;s.raw=true;s.value=unescape(r).substr(14)}}}));e.addNodeFilter("xml:namespace,input",((e,t)=>{let o=e.length;while(o--){const n=e[o];if(n.type===7){n.remove()}else if(n.type===1){if(t==="input"&&!n.attr("type")){n.attr("type","text")}}}}));e.addAttributeFilter("data-mce-type",(t=>{Q(t,(t=>{if(t.attr("data-mce-type")==="format-caret"){if(t.isEmpty(e.schema.getNonEmptyElements())){t.remove()}else{t.unwrap()}}}))}));e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,"+"data-mce-selected,data-mce-expando,data-mce-block,"+"data-mce-type,data-mce-resize,data-mce-placeholder",((e,t)=>{let o=e.length;while(o--){e[o].attr(t,null)}}));if(t.remove_trailing_brs){HE(t,e,e.schema)}};const oN=e=>{const t=e=>(e===null||e===void 0?void 0:e.name)==="br";const o=e.lastChild;if(t(o)){const e=o.prev;if(t(e)){o.remove();e.remove()}}};const nN=(e,t,o)=>{let n;const s=e.dom;let r=t.cloneNode(true);const a=document.implementation;if(a.createHTMLDocument){const e=a.createHTMLDocument("");mo.each(r.nodeName==="BODY"?r.childNodes:[r],(t=>{e.body.appendChild(e.importNode(t,true))}));if(r.nodeName!=="BODY"){r=e.body.firstChild}else{r=e.body}n=s.doc;s.doc=e}ky(e,{...o,node:r});if(n){s.doc=n}return r};const sN=(e,t)=>E(e)&&e.hasEventListeners("PreProcess")&&!t.no_events;const rN=(e,t,o)=>sN(e,o)?nN(e,t,o):t;const aN=(e,t,o)=>{if(mo.inArray(t,o)===-1){e.addAttributeFilter(o,((e,t)=>{let o=e.length;while(o--){e[o].attr(t,null)}}));t.push(o)}};const cN=(e,t,o)=>{if(!t.no_events&&e){const n=wy(e,{...t,content:o});return n.content}else{return o}};const iN=(e,t,o)=>{const n=wa(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||ua(yn.fromDom(t))?n:mo.trim(n)};const lN=(e,t,o)=>{const n=o.selection?{forced_root_block:false,...o}:o;const s=e.parse(t,n);oN(s);return s};const dN=(e,t,o)=>{const n=kw(e,t);return n.serialize(o)};const uN=(e,t,o,n,s)=>{const r=dN(t,o,n);return cN(e,s,r)};const fN=(e,t)=>{const o=["data-mce-selected"];const n={entity_encoding:"named",remove_trailing_brs:true,pad_empty_with_br:false,...e};const s=t&&t.dom?t.dom:sl.DOM;const r=t&&t.schema?t.schema:Ai(n);const a=NO(n,r);tN(a,n,s);const c=(e,o={})=>{const c={format:"html",...o};const i=rN(t,e,c);const l=iN(s,i,c);const d=lN(a,l,c);return c.format==="tree"?d:uN(t,n,r,d,c)};return{schema:r,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:c,addRules:r.addValidElements,setRules:r.setValidElements,addTempAttr:H(aN,a,o),getTempAttrs:R(o),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter}};const mN=(e,t)=>{const o=fN(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}};const gN="html";const pN=(e,t)=>({...e,format:t,get:true,getInner:true});const hN=(e,t={})=>{const o=t.format?t.format:gN;const n=pN(t,o);return BO(e,n).fold(B,(t=>{const o=NA(e,t);return LO(e,o,t)}))};const yN="html";const bN=(e,t)=>({format:yN,...e,set:true,content:t});const vN=(e,t,o={})=>{const n=bN(o,t);return HO(e,n).map((t=>{const o=MA(e,t.content,t);IO(e,o.html,t);return o.content})).getOr(t)};const kN=("autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,"+"boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,"+"force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,"+"non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,"+"tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,"+"paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists").split(",");const wN="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(",");const _N="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(",");const xN=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}];const CN=(e,t)=>{const o=oe(t,(t=>Me(e,t)));return ge(o)};const SN=e=>{const t=CN(e,kN);const o=e.forced_root_block;if(o===false||o===""){t.push("forced_root_block (false only)")}return ge(t)};const zN=e=>CN(e,wN);const EN=(e,t)=>{const o=mo.makeMap(e.plugins," ");const n=e=>Me(o,e);const s=oe(t,n);return ge(s)};const TN=e=>EN(e,_N);const ON=e=>EN(e,xN.map((e=>e.name)));const DN=(e,t)=>{const o=SN(e);const n=TN(t);const s=n.length>0;const r=o.length>0;const a=t.theme==="mobile";if(s||r||a){const e="\n- ";const t=a?`\n\nThemes:${e}mobile`:"";const c=s?`\n\nPlugins:${e}${n.join(e)}`:"";const i=r?`\n\nOptions:${e}${o.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. "+"See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+t+c+i)}};const AN=e=>ae(xN,(t=>t.name===e)).fold((()=>e),(t=>{if(t.replacedWith){return`${e}, replaced by ${t.replacedWith}`}else{return e}}));const NN=(e,t)=>{const o=zN(e);const n=ON(t);const s=n.length>0;const r=o.length>0;if(s||r){const e="\n- ";const t=s?`\n\nPlugins:${e}${n.map(AN).join(e)}`:"";const a=r?`\n\nOptions:${e}${o.join(e)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+t+a)}};const MN=(e,t)=>{DN(e,t);NN(e,t)};const RN=sl.DOM;const BN=e=>{RN.setStyle(e.id,"display",e.orgDisplay)};const LN=e=>U.from(e).each((e=>e.destroy()));const HN=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null;t.bodyElement=t.contentDocument=t.contentWindow=null;t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const e=o.dom;t.selection=o.win=o.dom=e.doc=null}};const IN=e=>{const t=e.formElement;if(t){if(t._mceOldSubmit){t.submit=t._mceOldSubmit;delete t._mceOldSubmit}RN.unbind(t,"submit reset",e.formEventDelegate)}};const PN=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e;const n=e.getBody();const s=e.getElement();if(n){e.save({is_removing:true})}e.removed=true;e.unbindAllNativeEvents();if(e.hasHiddenInput&&E(s===null||s===void 0?void 0:s.nextSibling)){RN.remove(s.nextSibling)}_y(e);e.editorManager.remove(e);if(!e.inline&&n){BN(e)}xy(e);RN.remove(e.getContainer());LN(t);LN(o);e.destroy()}};const FN=(e,t)=>{const{selection:o,dom:n}=e;if(e.destroyed){return}if(!t&&!e.removed){e.remove();return}if(!t){e.editorManager.off("beforeunload",e._beforeUnload);if(e.theme&&e.theme.destroy){e.theme.destroy()}LN(o);LN(n)}IN(e);HN(e);e.destroyed=true};const VN=()=>{const e={};const t=(t,o)=>{e[t]=o};const o=t=>{if(e[t]){return e[t]}else{return{icons:{}}}};const n=t=>Me(e,t);return{add:t,get:o,has:n}};const jN=VN();const ZN=zl.ModelManager;const UN=(e,t)=>{const o=t.dom;return o[e]};const qN=(e,t)=>parseInt(bs(t,e),10);const WN=H(UN,"clientWidth");const $N=H(UN,"clientHeight");const GN=H(qN,"margin-top");const KN=H(qN,"margin-left");const YN=e=>e.dom.getBoundingClientRect();const XN=(e,t,o)=>{const n=WN(e);const s=$N(e);return t>=0&&o>=0&&t<=n&&o<=s};const JN=(e,t,o,n)=>{const s=YN(t);const r=e?s.left+t.dom.clientLeft+KN(t):0;const a=e?s.top+t.dom.clientTop+GN(t):0;const c=o-r;const i=n-a;return{x:c,y:i}};const QN=(e,t,o)=>{const n=yn.fromDom(e.getBody());const s=e.inline?n:En(n);const r=JN(e.inline,s,t,o);return XN(s,r.x,r.y)};const eM=e=>U.from(e).map(yn.fromDom);const tM=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return eM(t).map(es).getOr(false)};var oM=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const nM=e=>{const t=[];const o=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():oM()};const n=()=>U.from(t[0]);const s=(e,t)=>e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout;const r=()=>{Q(t,(e=>{e.reposition()}))};const a=e=>{t.push(e)};const c=e=>{ce(t,(t=>t===e)).each((e=>{t.splice(e,1)}))};const i=(i,l=true)=>{if(e.removed||!tM(e)){return{}}if(l){e.dispatch("BeforeOpenNotification",{notification:i})}return ae(t,(e=>s(o().getArgs(e),i))).getOrThunk((()=>{e.editorManager.setActive(e);const t=o().open(i,(()=>{c(t);r();n().fold((()=>e.focus()),(e=>Dv(yn.fromDom(e.getEl()))))}));a(t);r();e.dispatch("OpenNotification",{notification:{...t}});return t}))};const l=()=>{n().each((e=>{o().close(e);c(e);r()}))};const d=R(t);const u=e=>{e.on("SkinLoaded",(()=>{const t=Mf(e);if(t){i({text:t,type:"warning",timeout:0},false)}r()}));e.on("show ResizeEditor ResizeWindow NodeChange",(()=>{requestAnimationFrame(r)}));e.on("remove",(()=>{Q(t.slice(),(e=>{o().close(e)}))}))};u(e);return{open:i,close:l,getNotifications:d}};const sM=zl.PluginManager;const rM=zl.ThemeManager;var aM=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const cM=e=>{let t=[];const o=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():aM()};const n=(e,t)=>(...o)=>t?t.apply(e,o):undefined;const s=t=>{e.dispatch("OpenWindow",{dialog:t})};const r=t=>{e.dispatch("CloseWindow",{dialog:t})};const a=e=>{t.push(e);s(e)};const c=o=>{r(o);t=oe(t,(e=>e!==o));if(t.length===0){e.focus()}};const i=()=>U.from(t[t.length-1]);const l=t=>{e.editorManager.setActive(e);Uv(e);e.ui.show();const o=t();a(o);return o};const d=(e,t)=>l((()=>o().open(e,t,c)));const u=e=>l((()=>o().openUrl(e,c)));const f=(e,t,s)=>{const r=o();r.alert(e,n(s?s:r,t))};const m=(e,t,s)=>{const r=o();r.confirm(e,n(s?s:r,t))};const g=()=>{i().each((e=>{o().close(e);c(e)}))};e.on("remove",(()=>{Q(t,(e=>{o().close(e)}))}));return{open:d,openUrl:u,alert:f,confirm:m,close:g}};const iM=(e,t)=>{e.notificationManager.open({type:"error",text:t})};const lM=(e,t)=>{if(e._skinLoaded){iM(e,t)}else{e.on("SkinLoaded",(()=>{iM(e,t)}))}};const dM=(e,t)=>{lM(e,Sl.translate(["Failed to upload image: {0}",t]))};const uM=(e,t,o)=>{Ay(e,t,{message:o});console.error(o)};const fM=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`;const mM=(e,t,o)=>{uM(e,"PluginLoadError",fM("plugin",t,o))};const gM=(e,t,o)=>{uM(e,"IconsLoadError",fM("icons",t,o))};const pM=(e,t,o)=>{uM(e,"LanguageLoadError",fM("language",t,o))};const hM=(e,t,o)=>{uM(e,"ThemeLoadError",fM("theme",t,o))};const yM=(e,t,o)=>{uM(e,"ModelLoadError",fM("model",t,o))};const bM=(e,t,o)=>{const n=Sl.translate(["Failed to initialize plugin: {0}",t]);Ay(e,"PluginLoadError",{message:n});vM(n,o);lM(e,n)};const vM=(e,...t)=>{const o=window.console;if(o){if(o.error){o.error(e,...t)}else{o.log(e,...t)}}};const kM=e=>/^[a-z0-9\-]+$/i.test(e);const wM=e=>xM(e,Cf(e));const _M=e=>xM(e,zf(e));const xM=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content";const n=e.editorManager.suffix;const s=`content${n}.css`;return J(t,(t=>{if(kM(t)&&!e.inline){return`${o}/${t}/${s}`}else{return e.documentBaseURI.toAbsolute(t)}}))};const CM=e=>{e.contentCSS=e.contentCSS.concat(wM(e),_M(e))};const SM=e=>e?be(e.getElementsByTagName("img")):[];const zM=(e,t)=>{const o={};const n=(n,s=Z)=>{const r=oe(SM(n),(t=>{const o=t.src;if(t.hasAttribute("data-mce-bogus")){return false}if(t.hasAttribute("data-mce-placeholder")){return false}if(!o||o===to.transparentSrc){return false}if(lt(o,"blob:")){return!e.isUploaded(o)&&s(t)}if(lt(o,"data:")){return s(t)}return false}));const a=J(r,(e=>{const n=e.src;if(Me(o,n)){return o[n].then((t=>{if(v(t)){return t}else{return{image:e,blobInfo:t.blobInfo}}}))}else{const s=YE(t,n).then((t=>{delete o[n];return{image:e,blobInfo:t}})).catch((e=>{delete o[n];return e}));o[n]=s;return s}}));return Promise.all(a)};return{findAll:n}};const EM=()=>{const e=1,t=2;let o={};const n=(e,t)=>({status:e,resultUri:t});const s=e=>e in o;const r=e=>{const t=o[e];return t?t.resultUri:null};const a=t=>s(t)?o[t].status===e:false;const c=e=>s(e)?o[e].status===t:false;const i=t=>{o[t]=n(e,null)};const l=(e,s)=>{o[e]=n(t,s)};const d=e=>{delete o[e]};const u=()=>{o={}};return{hasBlobUri:s,getResultUri:r,isPending:a,isUploaded:c,markPending:i,markUploaded:l,removeFailed:d,destroy:u}};let TM=0;const OM=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);const t=(new Date).getTime();return"s"+t.toString(36)+e()+e()+e()};const DM=e=>e+TM+++OM();const AM=()=>{let e=[];const t=e=>{const t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return t[e.toLowerCase()]||"dat"};const o=(e,t,o,s,r)=>{if(v(e)){const a=e;return n({id:a,name:s,filename:r,blob:t,base64:o})}else if(k(e)){return n(e)}else{throw new Error("Unknown input type")}};const n=e=>{if(!e.blob||!e.base64){throw new Error("blob and base64 representations of the image are required for BlobInfo to be created")}const o=e.id||DM("blobid");const n=e.name||o;const s=e.blob;return{id:R(o),name:R(n),filename:R(e.filename||n+"."+t(s.type)),blob:R(s),base64:R(e.base64),blobUri:R(e.blobUri||URL.createObjectURL(s)),uri:R(e.uri)}};const s=t=>{if(!a(t.id())){e.push(t)}};const r=t=>ae(e,t).getOrUndefined();const a=e=>r((t=>t.id()===e));const c=e=>r((t=>t.blobUri()===e));const i=(e,t)=>r((o=>o.base64()===e&&o.blob().type===t));const l=t=>{e=oe(e,(e=>{if(e.blobUri()===t){URL.revokeObjectURL(e.blobUri());return false}return true}))};const d=()=>{Q(e,(e=>{URL.revokeObjectURL(e.blobUri())}));e=[]};return{create:o,add:s,get:a,getByUri:c,getByData:i,findFirst:r,removeByUri:l,destroy:d}};const NM=(e,t)=>{const o={};const n=(e,t)=>{if(e){return e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")}return t};const s=(e,o)=>new Promise(((s,r)=>{const a=new XMLHttpRequest;a.open("POST",t.url);a.withCredentials=t.credentials;a.upload.onprogress=e=>{o(e.loaded/e.total*100)};a.onerror=()=>{r("Image upload failed due to a XHR Transport error. Code: "+a.status)};a.onload=()=>{if(a.status<200||a.status>=300){r("HTTP Error: "+a.status);return}const e=JSON.parse(a.responseText);if(!e||!v(e.location)){r("Invalid JSON: "+a.responseText);return}s(n(t.basePath,e.location))};const c=new FormData;c.append("file",e.blob(),e.filename());a.send(c)}));const r=T(t.handler)?t.handler:s;const a=()=>new Promise((e=>{e([])}));const c=(e,t)=>({url:t,blobInfo:e,status:true});const i=(e,t)=>({url:"",blobInfo:e,status:false,error:t});const l=(e,t)=>{mo.each(o[e],(e=>{e(t)}));delete o[e]};const d=(t,o,n)=>{e.markPending(t.blobUri());return new Promise((s=>{let r;let a;try{const d=()=>{if(r){r.close();a=A}};const u=o=>{d();e.markUploaded(t.blobUri(),o);l(t.blobUri(),c(t,o));s(c(t,o))};const f=o=>{d();e.removeFailed(t.blobUri());l(t.blobUri(),i(t,o));s(i(t,o))};a=e=>{if(e<0||e>100){return}U.from(r).orThunk((()=>U.from(n).map(F))).each((t=>{r=t;t.progressBar.value(e)}))};o(t,a).then(u,(e=>{f(v(e)?{message:e}:e)}))}catch(e){s(i(t,e))}}))};const u=e=>e===s;const f=e=>{const t=e.blobUri();return new Promise((e=>{o[t]=o[t]||[];o[t].push(e)}))};const m=(t,o)=>{t=mo.grep(t,(t=>!e.isUploaded(t.blobUri())));return Promise.all(mo.map(t,(t=>e.isPending(t.blobUri())?f(t):d(t,r,o))))};const g=(e,o)=>!t.url&&u(r)?a():m(e,o);return{upload:g}};const MM=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:true});const RM=(e,t)=>NM(t,{url:gf(e),basePath:pf(e),credentials:hf(e),handler:yf(e)});const BM=e=>{const t=EM();const o=RM(e,t);return{upload:(t,n=true)=>o.upload(t,n?MM(e):undefined)}};const LM=(e,t)=>e.dom.isEmpty(t.dom)&&E(e.schema.getTextBlockElements()[Mo(t)]);const HM=e=>t=>{if(LM(e,t)){Es(t,yn.fromHtml('<br data-mce-bogus="1" />'))}};const IM=e=>{const t=AM();let o,n;const s=EM();const r=[];const a=t=>o=>{if(e.selection){return t(o)}return[]};const c=e=>e+(e.indexOf("?")===-1?"?":"&")+(new Date).getTime();const i=(e,t,o)=>{let n=0;do{n=e.indexOf(t,n);if(n!==-1){e=e.substring(0,n)+o+e.substr(n+t.length);n+=o.length-t.length+1}}while(n!==-1);return e};const l=(e,t,o)=>{const n=`src="${o}"${o===to.transparentSrc?' data-mce-placeholder="1"':""}`;e=i(e,`src="${t}"`,n);e=i(e,'data-mce-src="'+t+'"','data-mce-src="'+o+'"');return e};const d=(t,o)=>{Q(e.undoManager.data,(e=>{if(e.type==="fragmented"){e.fragments=J(e.fragments,(e=>l(e,t,o)))}else{e.content=l(e.content,t,o)}}))};const u=(t,o)=>{const n=e.convertURL(o,"src");d(t.src,o);qo(yn.fromDom(t),{src:df(e)?c(o):o,"data-mce-src":n})};const f=()=>{if(!o){o=RM(e,s)}return h().then(a((n=>{const s=J(n,(e=>e.blobInfo));return o.upload(s,MM(e)).then(a((o=>{const s=[];let r=false;const a=J(o,((o,a)=>{const{blobInfo:c,image:i}=n[a];let l=false;if(o.status&&uf(e)){if(o.url&&!it(i.src,o.url)){r=true}t.removeByUri(i.src);if(cA(e));else{u(i,o.url)}}else if(o.error){if(o.error.remove){d(i.src,to.transparentSrc);s.push(i);l=true}dM(e,o.error.message)}return{element:i,status:o.status,uploadUri:o.url,blobInfo:c,removed:l}}));if(s.length>0&&!cA(e)){e.undoManager.transact((()=>{Q(Bs(s),(o=>{const n=On(o);Ns(o);n.each(HM(e));t.removeByUri(o.dom.src)}))}))}else if(r){e.undoManager.dispatchChange()}return a})))})))};const m=()=>lf(e)?f():Promise.resolve([]);const g=e=>de(r,(t=>t(e)));const p=e=>{r.push(e)};const h=()=>{if(!n){n=zM(s,t)}return n.findAll(e.getBody(),g).then(a((t=>{const o=oe(t,(t=>{if(v(t)){lM(e,t);return false}else if(t.uriType==="blob"){return false}else{return true}}));if(cA(e));else{Q(o,(e=>{d(e.image.src,e.blobInfo.blobUri());e.image.src=e.blobInfo.blobUri();e.image.removeAttribute("data-mce-src")}))}return o})))};const y=()=>{t.destroy();s.destroy();n=o=null};const b=o=>o.replace(/src="(blob:[^"]+)"/g,((o,n)=>{const r=s.getResultUri(n);if(r){return'src="'+r+'"'}let a=t.getByUri(n);if(!a){a=se(e.editorManager.get(),((e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)),undefined)}if(a){const e=a.blob();return'src="data:'+e.type+";base64,"+a.base64()+'"'}return o}));e.on("SetContent",(()=>{if(lf(e)){m()}else{h()}}));e.on("RawSaveContent",(e=>{e.content=b(e.content)}));e.on("GetContent",(e=>{if(e.source_view||e.format==="raw"||e.format==="tree"){return}e.content=b(e.content)}));e.on("PostRender",(()=>{e.parser.addNodeFilter("img",(e=>{Q(e,(e=>{const o=e.attr("src");if(!o||t.getByUri(o)){return}const n=s.getResultUri(o);if(n){e.attr("src",n)}}))}))}));return{blobCache:t,addFilter:p,uploadImages:f,uploadImagesAuto:m,scanForImages:h,destroy:y}};const PM=e=>{const t=e.dom;const o=e.schema.type;const n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:false,classes:"align-left",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:false,preview:false},{selector:"img,audio,video",collapsed:false,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:false,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:true,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:false,preview:"font-family font-size"},{selector:"figure.image",collapsed:false,classes:"align-center",ceFalseOverride:true,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:false},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:true,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:false},{selector:"[data-ephox-embed-iri]",ceFalseOverride:true,styles:{marginLeft:"auto",marginRight:"auto"},preview:false}],alignright:[{selector:"figure.image",collapsed:false,classes:"align-right",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:false,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:false,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:false,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:true,styles:{float:"right"},preview:false}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:false,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:true};const t={inline:"strike",remove:"all",preserve_attributes:["class","style"]};const n={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[n,e,t]:[e,n,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:true,remove_similar:true,clear_child_styles:true},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:true,remove_similar:true,clear_child_styles:true},fontname:{inline:"span",toggle:false,styles:{fontFamily:"%value"},clear_child_styles:true},fontsize:{inline:"span",toggle:false,styles:{fontSize:"%value"},clear_child_styles:true},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:true,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:(e,t,o)=>dr(e)&&e.hasAttribute("href"),onformat:(e,o,n)=>{mo.each(n,((o,n)=>{t.setAttrib(e,n,o)}))}},lang:{inline:"span",clear_child_styles:true,remove_similar:true,attributes:{lang:"%value","data-mce-lang":e=>{var t;return(t=e===null||e===void 0?void 0:e.customValue)!==null&&t!==void 0?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]};mo.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(e=>{n[e]={block:e,remove:"all"}}));return n};const FM={remove_similar:true,inherit:false};const VM={selector:"td,th",...FM};const jM={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...VM},tablecellverticalalign:{styles:{"vertical-align":"%value"},...VM},tablecellbordercolor:{styles:{borderColor:"%value"},...VM},tablecellclass:{classes:["%value"],...VM},tableclass:{selector:"table",classes:["%value"],...FM},tablecellborderstyle:{styles:{borderStyle:"%value"},...VM},tablecellborderwidth:{styles:{borderWidth:"%value"},...VM}};const ZM=R(jM);const UM=e=>{const t={};const o=e=>E(e)?t[e]:t;const n=e=>Me(t,e);const s=(e,o)=>{if(e){if(!v(e)){xe(e,((e,t)=>{s(t,e)}))}else{if(!_(o)){o=[o]}Q(o,(e=>{if(S(e.deep)){e.deep=!Vh(e)}if(S(e.split)){e.split=!Vh(e)||jh(e)}if(S(e.remove)&&Vh(e)&&!jh(e)){e.remove="none"}if(Vh(e)&&jh(e)){e.mixed=true;e.block_expand=true}if(v(e.classes)){e.classes=e.classes.split(/\s+/)}}));t[e]=o}}};const r=e=>{if(e&&t[e]){delete t[e]}return t};s(PM(e));s(ZM());s(Pf(e));return{get:o,has:n,register:s,unregister:r}};const qM=mo.each;const WM=sl.DOM;const $M=e=>E(e)&&k(e);const GM=(e,t)=>{const o=t&&t.schema||Ai({});const n=(e,t)=>{if(t.classes.length>0){WM.addClass(e,t.classes.join(" "))}WM.setAttribs(e,t.attrs)};const s=e=>{const t=v(e)?{name:e,classes:[],attrs:{}}:e;const o=WM.create(t.name);n(o,t);return o};const r=(e,t)=>{const n=o.getElementRule(e.nodeName.toLowerCase());const s=n===null||n===void 0?void 0:n.parentsRequired;if(s&&s.length){return t&&Y(s,t)?t:s[0]}else{return false}};const a=(e,t,o)=>{let n;const c=t[0];const i=$M(c)?c.name:undefined;const l=r(e,i);if(l){if(i===l){n=c;t=t.slice(1)}else{n=l}}else if(c){n=c;t=t.slice(1)}else if(!o){return e}const d=n?s(n):WM.create("div");d.appendChild(e);if(o){mo.each(o,(t=>{const o=s(t);d.insertBefore(o,e)}))}const u=$M(n)?n.siblings:undefined;return a(d,t,u)};const c=WM.create("div");if(e.length>0){const t=e[0];const o=s(t);const n=$M(t)?t.siblings:undefined;c.appendChild(a(o,e.slice(1),n))}return c};const KM=e=>{e=mo.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};if(e!=="*"){t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,((e,t,n,s,r)=>{switch(t){case"#":o.attrs.id=n;break;case".":o.classes.push(n);break;case":":if(mo.inArray("checked disabled enabled read-only required".split(" "),n)!==-1){o.attrs[n]=n}break}if(s==="["){const e=r.match(/([\w\-]+)(?:\=\"([^\"]+))?/);if(e){o.attrs[e[1]]=e[2]}}return""}))}o.name=t||"div";return o};const YM=e=>{if(!v(e)){return[]}e=e.split(/\s*,\s*/)[0];e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1");return mo.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(e=>{const t=mo.map(e.split(/(?:~\+|~|\+)/),KM);const o=t.pop();if(t.length){o.siblings=t}return o})).reverse()};const XM=(e,t)=>{let o="";let n=Ff(e);if(n===""){return""}const s=e=>v(e)?e.replace(/%(\w+)/g,""):"";const r=(t,o)=>WM.getStyle(o!==null&&o!==void 0?o:e.getBody(),t,true);if(v(t)){const o=e.formatter.get(t);if(!o){return""}t=o[0]}if("preview"in t){const e=t.preview;if(e===false){return""}else{n=e||n}}let a=t.block||t.inline||"span";let c;const i=YM(t.selector);if(i.length>0){if(!i[0].name){i[0].name=a}a=t.selector;c=GM(i,e)}else{c=GM([a],e)}const l=WM.select(a,c)[0]||c.firstChild;qM(t.styles,((e,t)=>{const o=s(e);if(o){WM.setStyle(l,t,o)}}));qM(t.attributes,((e,t)=>{const o=s(e);if(o){WM.setAttrib(l,t,o)}}));qM(t.classes,(e=>{const t=s(e);if(!WM.hasClass(l,t)){WM.addClass(l,t)}}));e.dispatch("PreviewFormats");WM.setStyles(c,{position:"absolute",left:-65535});e.getBody().appendChild(c);const d=r("fontSize");const u=/px$/.test(d)?parseInt(d,10):0;qM(n.split(" "),(e=>{let t=r(e,l);if(e==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)){t=r(e);if(Jp(t).toLowerCase()==="#ffffff"){return}}if(e==="color"){if(Jp(t).toLowerCase()==="#000000"){return}}if(e==="font-size"){if(/em|%$/.test(t)){if(u===0){return}const e=parseFloat(t)/(/%$/.test(t)?100:1);t=e*u+"px"}}if(e==="border"&&t){o+="padding:0 2px;"}o+=e+":"+t+";"}));e.dispatch("AfterPreviewFormats");WM.remove(c);return o};const JM=e=>{e.addShortcut("meta+b","","Bold");e.addShortcut("meta+i","","Italic");e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++){e.addShortcut("access+"+t,"",["FormatBlock",false,"h"+t])}e.addShortcut("access+7","",["FormatBlock",false,"p"]);e.addShortcut("access+8","",["FormatBlock",false,"div"]);e.addShortcut("access+9","",["FormatBlock",false,"address"])};const QM=e=>{const t=UM(e);const o=ul({});JM(e);dz(e);if(!cA(e)){wE(o,e)}return{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,o,n)=>{TA(e,t,o,n)},remove:(t,o,n,s)=>{OA(e,t,o,n,s)},toggle:(t,o,n)=>{DA(e,t,o,n)},match:(t,o,n,s)=>xA(e,t,o,n,s),closest:t=>EA(e,t),matchAll:(t,o)=>CA(e,t,o),matchNode:(t,o,n,s)=>SA(e,t,o,n,s),canApply:t=>zA(e,t),formatChanged:(t,n,s,r)=>AA(e,o,t,n,s,r),getCssText:H(XM,e)}};const eR=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return true;default:return false}};const tR=(e,t,o)=>{const n=ul(false);const s=e=>{ZD(t,false,o);t.add({},e)};e.on("init",(()=>{t.add()}));e.on("BeforeExecCommand",(e=>{const n=e.command;if(!eR(n)){UD(t,o);t.beforeChange()}}));e.on("ExecCommand",(e=>{const t=e.command;if(!eR(t)){s(e)}}));e.on("ObjectResizeStart cut",(()=>{t.beforeChange()}));e.on("SaveContent ObjectResized blur",s);e.on("dragend",s);e.on("keyup",(o=>{const r=o.keyCode;if(o.isDefaultPrevented()){return}const a=to.os.isMacOS()&&o.key==="Meta";if(r>=33&&r<=36||r>=37&&r<=40||r===45||o.ctrlKey||a){s();e.nodeChanged()}if(r===46||r===8){e.nodeChanged()}if(n.get()&&t.typing&&!VD(BD(e),t.data[0])){if(!e.isDirty()){e.setDirty(true)}e.dispatch("TypingUndo");n.set(false);e.nodeChanged()}}));e.on("keydown",(e=>{const r=e.keyCode;if(e.isDefaultPrevented()){return}if(r>=33&&r<=36||r>=37&&r<=40||r===45){if(t.typing){s(e)}return}const a=e.ctrlKey&&!e.altKey||e.metaKey;if((r<16||r>20)&&r!==224&&r!==91&&!t.typing&&!a){t.beforeChange();ZD(t,true,o);t.add({},e);n.set(true);return}const c=to.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey;if(c){t.beforeChange()}}));e.on("mousedown",(e=>{if(t.typing){s(e)}}));const r=e=>e.inputType==="insertReplacementText";const a=e=>e.inputType==="insertText"&&e.data===null;const c=e=>e.inputType==="insertFromPaste"||e.inputType==="insertFromDrop";e.on("input",(e=>{if(e.inputType&&(r(e)||a(e)||c(e))){s(e)}}));e.on("AddUndo Undo Redo ClearUndos",(t=>{if(!t.isDefaultPrevented()){e.nodeChanged()}}))};const oR=e=>{e.addShortcut("meta+z","","Undo");e.addShortcut("meta+y,meta+shift+z","","Redo")};const nR=e=>{const t=Ol();const o=ul(0);const n=ul(0);const s={data:[],typing:false,beforeChange:()=>{fA(e,o,t)},add:(r,a)=>mA(e,s,n,o,t,r,a),dispatchChange:()=>{e.setDirty(true);const t=BD(e);t.bookmark=xu(e.selection);e.dispatch("change",{level:t,lastLevel:pe(s.data,n.get()).getOrUndefined()})},undo:()=>gA(e,s,o,n),redo:()=>pA(e,n,s.data),clear:()=>{hA(e,s,n)},reset:()=>{yA(e,s)},hasUndo:()=>bA(e,s,n),hasRedo:()=>vA(e,s,n),transact:t=>kA(e,s,o,t),ignore:t=>{wA(e,o,t)},extra:(t,o)=>{_A(e,s,n,t,o)}};if(!cA(e)){tR(e,s,o)}oR(e);return s};const sR=[9,27,qy.HOME,qy.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,qy.DOWN,qy.UP,qy.LEFT,qy.RIGHT].concat(to.browser.isFirefox()?[224]:[]);const rR="data-mce-placeholder";const aR=e=>e.type==="keydown"||e.type==="keyup";const cR=e=>{const t=e.keyCode;return t===qy.BACKSPACE||t===qy.DELETE};const iR=e=>{if(aR(e)){const t=e.keyCode;return!cR(e)&&(qy.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Y(sR,t))}else{return false}};const lR=e=>aR(e)&&!(cR(e)||e.type==="keyup"&&e.keyCode===229);const dR=(e,t,o)=>{if(gc(yn.fromDom(t),false)){const n=t.firstElementChild;if(!n){return true}else if(e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")){return false}else{return o===n.nodeName.toLowerCase()}}else{return false}};const uR=e=>{var t;const o=e.dom;const n=tf(e);const s=(t=Af(e))!==null&&t!==void 0?t:"";const r=(t,a)=>{if(iR(t)){return}const c=e.getBody();const i=lR(t)?false:dR(o,c,n);const l=o.getAttrib(c,rR)!=="";if(l!==i||a){o.setAttrib(c,rR,i?s:null);o.setAttrib(c,"aria-placeholder",i?s:null);Dy(e,i);e.on(i?"keydown":"keyup",r);e.off(i?"keyup":"keydown",r)}};if(pt(s)){e.on("init",(t=>{r(t,true);e.on("change SetContent ExecCommand",r);e.on("paste",(t=>Xv.setEditorTimeout(e,(()=>r(t)))))}))}};const fR=(e,t)=>({block:e,position:t});const mR=(e,t)=>({from:e,to:t});const gR=(e,t)=>{const o=yn.fromDom(e);const n=yn.fromDom(t.container());return kx(o,n).map((e=>fR(e,t)))};const pR=e=>!xn(e.from.block,e.to.block);const hR=(e,t)=>{const o=t=>xn(t,e);const n=e=>da(e)||Or(e.dom);return ns(t,n,o).filter(Io).getOr(e)};const yR=(e,t)=>{const o=yn.fromDom(e);return xn(hR(o,t.from.block),hR(o,t.to.block))};const bR=e=>Dr(e.from.block.dom)===false&&Dr(e.to.block.dom)===false;const vR=e=>{const t=e=>aa(e)||Ec(e.dom);return t(e.from.block)&&t(e.to.block)};const kR=(e,t,o)=>{if(Er(o.position.getNode())&&!gc(o.block)){return lp(false,o.block.dom).bind((n=>{if(n.isEqual(o.position)){return ap(t,e,n).bind((t=>gR(e,t)))}else{return U.some(o)}})).getOr(o)}else{return o}};const wR=(e,t,o)=>{const n=gR(e,Zd.fromRangeStart(o));const s=n.bind((o=>ap(t,e,o.position).bind((o=>gR(e,o).map((o=>kR(e,t,o)))))));return yo(n,s,mR).filter((t=>pR(t)&&yR(e,t)&&bR(t)&&vR(t)))};const _R=(e,t,o)=>o.collapsed?wR(e,t,o):U.none();const xR=e=>{const t=Hn(e);return ce(t,oa).fold(R(t),(e=>t.slice(0,e)))};const CR=e=>{const t=xR(e);Q(t,Ns);return t};const SR=(e,t)=>{const o=Ww(t,e);return ae(o.reverse(),(e=>gc(e))).each(Ns)};const zR=e=>oe(Bn(e),(e=>!gc(e))).length===0;const ER=(e,t,o,n)=>{if(gc(o)){ya(o);return fp(o.dom)}if(zR(n)&&gc(t)){Cs(n,yn.fromTag("br"))}const s=up(o.dom,Zd.before(n.dom));Q(CR(t),(e=>{Cs(n,e)}));SR(e,t);return s};const TR=(e,t,o)=>{if(gc(o)){if(gc(t)){const e=e=>{const t=(e,o)=>Pn(e).fold((()=>o),(e=>sa(e)?t(e,o.concat(Jl(e))):o));return t(e,[])};const n=ne(e(o),((e,t)=>{Ts(e,t);return t}),ha());As(t);Es(t,n)}Ns(o);return fp(t.dom)}const n=mp(o.dom);Q(CR(t),(e=>{Es(o,e)}));SR(e,t);return n};const OR=(e,t)=>{const o=Ww(t,e);return U.from(o[o.length-1])};const DR=(e,t)=>Cn(t,e)?OR(t,e):U.none();const AR=(e,t)=>{lp(e,t.dom).bind((e=>U.from(e.getNode()))).map(yn.fromDom).filter(ra).each(Ns)};const NR=(e,t,o)=>{AR(true,t);AR(false,o);return DR(t,o).fold(H(TR,e,t,o),H(ER,e,t,o))};const MR=(e,t,o,n)=>t?NR(e,n,o):NR(e,o,n);const RR=(e,t)=>{const o=yn.fromDom(e.getBody());const n=_R(o.dom,t,e.selection.getRng()).map((n=>()=>{MR(o,t,n.from.block,n.to.block).each((t=>{e.selection.setRng(t.toRange())}))}));return n};const BR=(e,t)=>{const o=t.getRng();return yo(kx(e,yn.fromDom(o.startContainer)),kx(e,yn.fromDom(o.endContainer)),((n,s)=>{if(!xn(n,s)){return U.some((()=>{o.deleteContents();MR(e,true,n,s).each((e=>{t.setRng(e.toRange())}))}))}else{return U.none()}})).getOr(U.none())};const LR=(e,t)=>{const o=yn.fromDom(t);const n=H(xn,e);return os(o,da,n).isSome()};const HR=(e,t)=>LR(e,t.startContainer)||LR(e,t.endContainer);const IR=(e,t)=>{const o=up(e.dom,Zd.fromRangeStart(t)).isNone();const n=dp(e.dom,Zd.fromRangeEnd(t)).isNone();return!HR(e,t)&&o&&n};const PR=e=>U.some((()=>{e.setContent("");e.selection.setCursorLocation()}));const FR=e=>{const t=yn.fromDom(e.getBody());const o=e.selection.getRng();return IR(t,o)?PR(e):BR(t,e.selection)};const VR=(e,t)=>e.selection.isCollapsed()?U.none():FR(e);const jR=(e,t,o,n,s)=>U.from(t._selectionOverrides.showCaret(e,o,n,s));const ZR=e=>{const t=e.ownerDocument.createRange();t.selectNode(e);return t};const UR=(e,t)=>{const o=e.dispatch("BeforeObjectSelected",{target:t});if(o.isDefaultPrevented()){return U.none()}return U.some(ZR(t))};const qR=(e,t,o)=>{const n=Ng(1,e.getBody(),t);const s=Zd.fromRangeStart(n);const r=s.getNode();if(ig(r)){return jR(1,e,r,!s.isAtEnd(),false)}const a=s.getNode(true);if(ig(a)){return jR(1,e,a,false,false)}const c=kC(e.dom.getRoot(),s.getNode());if(ig(c)){return jR(1,e,c,false,o)}return U.none()};const WR=(e,t,o)=>t.collapsed?qR(e,t,o).getOr(t):t;const $R=e=>Vw(e)||Hw(e);const GR=e=>jw(e)||Iw(e);const KR=(e,t)=>{if(wr(t)&&t.data.length===0){e.remove(t)}};const YR=(e,t,o,n,s,r)=>{jR(n,e,r.getNode(!s),s,true).each((o=>{if(t.collapsed){const e=t.cloneRange();if(s){e.setEnd(o.startContainer,o.startOffset)}else{e.setStart(o.endContainer,o.endOffset)}e.deleteContents()}else{t.deleteContents()}e.selection.setRng(o)}));KR(e.dom,o)};const XR=(e,t)=>{const o=e.selection.getRng();if(!wr(o.commonAncestorContainer)){return U.none()}const n=t?Pg.Forwards:Pg.Backwards;const s=Jg(e.getBody());const r=H(Hg,t?s.next:s.prev);const a=t?$R:GR;const c=Rg(n,e.getBody(),o);const i=r(c);const l=i?ux(t,i):i;if(!l||!Ig(c,l)){return U.none()}else if(a(l)){return U.some((()=>YR(e,o,c.getNode(),n,t,l)))}const d=r(l);if(d&&a(d)){if(Ig(l,d)){return U.some((()=>YR(e,o,c.getNode(),n,t,d)))}}return U.none()};const JR=(e,t)=>XR(e,t);const QR=(e,t)=>{const o=e.getBody();return t?fp(o).filter(Vw):mp(o).filter(jw)};const eB=e=>{const t=e.selection.getRng();return!t.collapsed&&(QR(e,true).exists((e=>e.isEqual(Zd.fromRangeStart(t))))||QR(e,false).exists((e=>e.isEqual(Zd.fromRangeEnd(t)))))};const tB=e=>E(e)&&(da(yn.fromDom(e))||ia(yn.fromDom(e)));const oB=Ou.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]);const nB=(e,t)=>{const o=t.getNode(!e);const n=e?"after":"before";return dr(o)&&o.getAttribute("data-mce-caret")===n};const sB=(e,t,o,n)=>{const s=t=>sa(yn.fromDom(t))&&!Sg(o,n,e);return Mg(!t,o).fold((()=>Mg(t,n).fold(j,s)),s)};const rB=(e,t,o,n)=>{const s=n.getNode(!t);return kx(yn.fromDom(e),yn.fromDom(o.getNode())).map((e=>gc(e)?oB.remove(e.dom):oB.moveToElement(s))).orThunk((()=>U.some(oB.moveToElement(s))))};const aB=(e,t,o)=>ap(t,e,o).bind((n=>{if(tB(n.getNode())){return U.none()}else if(sB(e,t,o,n)){return U.none()}else if(t&&Dr(n.getNode())){return rB(e,t,o,n)}else if(!t&&Dr(n.getNode(true))){return rB(e,t,o,n)}else if(t&&jw(o)){return U.some(oB.moveToPosition(n))}else if(!t&&Vw(o)){return U.some(oB.moveToPosition(n))}else{return U.none()}}));const cB=(e,t)=>{if(z(t)){return U.none()}else if(e&&Dr(t.nextSibling)){return U.some(oB.moveToElement(t.nextSibling))}else if(!e&&Dr(t.previousSibling)){return U.some(oB.moveToElement(t.previousSibling))}else{return U.none()}};const iB=(e,t,o)=>o.fold((e=>U.some(oB.remove(e))),(e=>U.some(oB.moveToElement(e))),(o=>{if(Sg(t,o,e)){return U.none()}else{return U.some(oB.moveToPosition(o))}}));const lB=(e,t,o)=>{if(nB(t,o)){return cB(t,o.getNode(!t)).orThunk((()=>aB(e,t,o)))}else{return aB(e,t,o).bind((t=>iB(e,o,t)))}};const dB=(e,t,o)=>{const n=Ng(t?1:-1,e,o);const s=Zd.fromRangeStart(n);const r=yn.fromDom(e);if(!t&&jw(s)){return U.some(oB.remove(s.getNode(true)))}else if(t&&Vw(s)){return U.some(oB.remove(s.getNode()))}else if(!t&&Vw(s)&&s_(r,s)){return r_(r,s).map((e=>oB.remove(e.getNode())))}else if(t&&jw(s)&&n_(r,s)){return a_(r,s).map((e=>oB.remove(e.getNode())))}else{return lB(e,t,s)}};const uB=(e,t)=>o=>{e._selectionOverrides.hideFakeCaret();ox(e,t,yn.fromDom(o));return true};const fB=(e,t)=>o=>{const n=t?Zd.before(o):Zd.after(o);e.selection.setRng(n.toRange());return true};const mB=e=>t=>{e.selection.setRng(t.toRange());return true};const gB=(e,t)=>U.from(kC(e.getBody(),t));const pB=(e,t)=>{const o=e.selection.getNode();return gB(e,o).filter(Dr).fold((()=>dB(e.getBody(),t,e.selection.getRng()).map((o=>()=>o.fold(uB(e,t),fB(e,t),mB(e))))),(()=>U.some(A)))};const hB=e=>{Q(rr(e,".mce-offscreen-selection"),Ns)};const yB=(e,t)=>{const o=e.selection.getNode();if(Dr(o)&&!Ar(o)){const n=gB(e,o.parentNode).filter(Dr);return n.fold((()=>U.some((()=>{hB(yn.fromDom(e.getBody()));ox(e,t,yn.fromDom(e.selection.getNode()));wx(e)}))),(()=>U.some(A)))}if(eB(e)){return U.some((()=>{Cx(e,e.selection.getRng(),yn.fromDom(e.getBody()))}))}return U.none()};const bB=e=>{const t=e.dom,o=e.selection;const n=kC(e.getBody(),o.getNode());if(Or(n)&&t.isBlock(n)&&t.isEmpty(n)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(n,"");n.appendChild(e);o.setRng(Zd.before(e).toRange())}return true};const vB=(e,t)=>{if(e.selection.isCollapsed()){return pB(e,t)}else{return yB(e,t)}};const kB=(e,t)=>{const o=Zd.fromRangeStart(e.selection.getRng());return ap(t,e.getBody(),o).filter((e=>t?Bw(e):Lw(e))).bind((e=>zg(t?0:-1,e))).map((t=>()=>e.selection.select(t)))};const wB=(e,t)=>e.selection.isCollapsed()?kB(e,t):U.none();const _B=wr;const xB=e=>_B(e)&&e.data[0]===va;const CB=e=>_B(e)&&e.data[e.data.length-1]===va;const SB=e=>{var t;const o=(t=e.ownerDocument)!==null&&t!==void 0?t:document;return o.createTextNode(va)};const zB=e=>{var t;if(_B(e.previousSibling)){if(CB(e.previousSibling)){return e.previousSibling}else{e.previousSibling.appendData(va);return e.previousSibling}}else if(_B(e)){if(xB(e)){return e}else{e.insertData(0,va);return e}}else{const o=SB(e);(t=e.parentNode)===null||t===void 0?void 0:t.insertBefore(o,e);return o}};const EB=e=>{var t,o;if(_B(e.nextSibling)){if(xB(e.nextSibling)){return e.nextSibling}else{e.nextSibling.insertData(0,va);return e.nextSibling}}else if(_B(e)){if(CB(e)){return e}else{e.appendData(va);return e}}else{const n=SB(e);if(e.nextSibling){(t=e.parentNode)===null||t===void 0?void 0:t.insertBefore(n,e.nextSibling)}else{(o=e.parentNode)===null||o===void 0?void 0:o.appendChild(n)}return n}};const TB=(e,t)=>e?zB(t):EB(t);const OB=H(TB,true);const DB=H(TB,false);const AB=(e,t)=>{if(wr(e.container())){return TB(t,e.container())}else{return TB(t,e.getNode())}};const NB=(e,t)=>{const o=t.get();return o&&e.container()===o&&za(o)};const MB=(e,t)=>t.fold((t=>{Qm(e.get());const o=OB(t);e.set(o);return U.some(Zd(o,o.length-1))}),(t=>fp(t).map((t=>{if(!NB(t,e)){Qm(e.get());const o=AB(t,true);e.set(o);return Zd(o,1)}else{const t=e.get();return Zd(t,1)}}))),(t=>mp(t).map((t=>{if(!NB(t,e)){Qm(e.get());const o=AB(t,false);e.set(o);return Zd(o,o.length-1)}else{const t=e.get();return Zd(t,t.length-1)}}))),(t=>{Qm(e.get());const o=DB(t);e.set(o);return U.some(Zd(o,1))}));const RB=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o].apply(null,t);if(n.isSome()){return n}}return U.none()};const BB=Ou.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]);const LB=(e,t)=>{const o=Cg(t,e);return o?o:e};const HB=(e,t,o)=>{const n=fx(o);const s=LB(t,n.container());return ix(e,s,n).fold((()=>dp(s,n).bind(H(ix,e,s)).map((e=>BB.before(e)))),U.none)};const IB=(e,t)=>hp(e,t)===null;const PB=(e,t,o)=>ix(e,t,o).filter(H(IB,t));const FB=(e,t,o)=>{const n=mx(o);return PB(e,t,n).bind((e=>{const t=up(e,n);return t.isNone()?U.some(BB.start(e)):U.none()}))};const VB=(e,t,o)=>{const n=fx(o);return PB(e,t,n).bind((e=>{const t=dp(e,n);return t.isNone()?U.some(BB.end(e)):U.none()}))};const jB=(e,t,o)=>{const n=mx(o);const s=LB(t,n.container());return ix(e,s,n).fold((()=>up(s,n).bind(H(ix,e,s)).map((e=>BB.after(e)))),U.none)};const ZB=e=>!ax(qB(e));const UB=(e,t,o)=>{const n=RB([HB,FB,VB,jB],[e,t,o]);return n.filter(ZB)};const qB=e=>e.fold(B,B,B,B);const WB=e=>e.fold(R("before"),R("start"),R("end"),R("after"));const $B=e=>e.fold(BB.before,BB.before,BB.after,BB.after);const GB=e=>e.fold(BB.start,BB.start,BB.end,BB.end);const KB=(e,t)=>WB(e)===WB(t)&&qB(e)===qB(t);const YB=(e,t,o,n,s,r)=>yo(ix(t,o,n),ix(t,o,s),((t,n)=>{if(t!==n&&lx(o,t,n)){return BB.after(e?t:n)}else{return r}})).getOr(r);const XB=(e,t)=>e.fold(Z,(e=>!KB(e,t)));const JB=(e,t,o,n,s)=>{const r=ux(e,s);const a=ap(e,o,r).map(H(ux,e));const c=a.fold((()=>n.map($B)),(s=>UB(t,o,s).map(H(YB,e,t,o,r,s)).filter(H(XB,n))));return c.filter(ZB)};const QB=(e,t)=>{if(e){return t.fold(N(U.some,BB.start),U.none,N(U.some,BB.after),U.none)}else{return t.fold(U.none,N(U.some,BB.before),U.none,N(U.some,BB.end))}};const eL=(e,t,o,n)=>{const s=ux(e,n);const r=UB(t,o,s);return UB(t,o,s).bind(H(QB,e)).orThunk((()=>JB(e,t,o,r,n)))};const tL=e=>T(e.selection.getSel().modify);const oL=(e,t,o)=>{const n=e?1:-1;t.setRng(Zd(o.container(),o.offset()+n).toRange());t.getSel().modify("move",e?"forward":"backward","word");return true};const nL=(e,t)=>{const o=t.selection.getRng();const n=e?Zd.fromRangeEnd(o):Zd.fromRangeStart(o);if(!tL(t)){return false}else if(e&&Da(n)){return oL(true,t.selection,n)}else if(!e&&Aa(n)){return oL(false,t.selection,n)}else{return false}};var sL;(function(e){e[e["Br"]=0]="Br";e[e["Block"]=1]="Block";e[e["Wrap"]=2]="Wrap";e[e["Eol"]=3]="Eol"})(sL||(sL={}));const rL=(e,t)=>e===Pg.Backwards?ue(t):t;const aL=(e,t,o)=>e===Pg.Forwards?t.next(o):t.prev(o);const cL=(e,t,o,n)=>{if(Er(n.getNode(t===Pg.Forwards))){return sL.Br}else if(Sg(o,n)===false){return sL.Block}else{return sL.Wrap}};const iL=(e,t,o,n)=>{const s=Jg(o);let r=n;const a=[];while(r){const n=aL(t,s,r);if(!n){break}if(Er(n.getNode(false))){if(t===Pg.Forwards){return{positions:rL(t,a).concat([n]),breakType:sL.Br,breakAt:U.some(n)}}else{return{positions:rL(t,a),breakType:sL.Br,breakAt:U.some(n)}}}if(!n.isVisible()){r=n;continue}if(e(r,n)){const e=cL(o,t,r,n);return{positions:rL(t,a),breakType:e,breakAt:U.some(n)}}a.push(n);r=n}return{positions:rL(t,a),breakType:sL.Eol,breakAt:U.none()}};const lL=(e,t,o,n)=>t(o,n).breakAt.map((n=>{const s=t(o,n).positions;return e===Pg.Backwards?s.concat(n):[n].concat(s)})).getOr([]);const dL=(e,t)=>se(e,((e,o)=>e.fold((()=>U.some(o)),(n=>yo(he(n.getClientRects()),he(o.getClientRects()),((e,s)=>{const r=Math.abs(t-e.left);const a=Math.abs(t-s.left);return a<=r?o:n})).or(e)))),U.none());const uL=(e,t)=>he(t.getClientRects()).bind((t=>dL(e,t.left)));const fL=H(iL,Zd.isAbove,-1);const mL=H(iL,Zd.isBelow,1);const gL=H(lL,-1,fL);const pL=H(lL,1,mL);const hL=(e,t)=>fL(e,t).breakAt.isNone();const yL=(e,t)=>mL(e,t).breakAt.isNone();const bL=e=>fp(e).map((t=>[t].concat(mL(e,t).positions))).getOr([]);const vL=e=>mp(e).map((t=>fL(e,t).positions.concat(t))).getOr([]);const kL=(e,t)=>uL(gL(e,t),t);const wL=(e,t)=>uL(pL(e,t),t);const _L=Dr;const xL=(e,t)=>Math.abs(e.left-t);const CL=(e,t)=>Math.abs(e.right-t);const SL=e=>Re(e,"node");const zL=(e,t)=>Ue(e,((e,o)=>{const n=Math.min(xL(e,t),CL(e,t));const s=Math.min(xL(o,t),CL(o,t));if(s===n&&SL(o)&&_L(o.node)){return o}if(s<n){return o}return e}));const EL=e=>{const t=t=>J(t,(t=>{const o=rd(t);o.node=e;return o}));if(dr(e)){return t(e.getClientRects())}else if(wr(e)){const o=e.ownerDocument.createRange();o.setStart(e,0);o.setEnd(e,e.data.length);return t(o.getClientRects())}else{return[]}};const TL=e=>le(e,EL);var OL;(function(e){e[e["Up"]=-1]="Up";e[e["Down"]=1]="Down"})(OL||(OL={}));const DL=(e,t,o,n)=>{let s=n;while(s=_g(s,e,Ja,t)){if(o(s)){return}}};const AL=(e,t,o,n,s,r)=>{let a=0;const c=[];const i=n=>{let r=TL([n]);if(e===-1){r=r.reverse()}for(let e=0;e<r.length;e++){const n=r[e];if(o(n,l)){continue}if(c.length>0&&t(n,We(c))){a++}n.line=a;if(s(n)){return true}c.push(n)}return false};const l=We(r.getClientRects());if(!l){return c}const d=r.getNode();if(d){i(d);DL(e,n,i,d)}return c};const NL=(e,t)=>t.line>e;const ML=(e,t)=>t.line===e;const RL=H(AL,OL.Up,ld,dd);const BL=H(AL,OL.Down,dd,ld);const LL=e=>We(e.getClientRects());const HL=(e,t,o,n)=>{const s=Jg(t);let r;let a;let c;let i;const l=[];let d=0;if(e===1){r=s.next;a=dd;c=ld;i=Zd.after(n)}else{r=s.prev;a=ld;c=dd;i=Zd.before(n)}const u=LL(i);do{if(!i.isVisible()){continue}const e=LL(i);if(c(e,u)){continue}if(l.length>0&&a(e,We(l))){d++}const t=rd(e);t.position=i;t.line=d;if(o(t)){return l}l.push(t)}while(i=r(i));return l};const IL=e=>t=>NL(e,t);const PL=e=>t=>ML(e,t);const FL=(e,t)=>{e.selection.setRng(t);Ov(e,e.selection.getRng())};const VL=(e,t,o)=>U.some(WR(e,t,o));const jL=(e,t,o,n,s,r)=>{const a=t===Pg.Forwards;const c=Jg(e.getBody());const i=H(Hg,a?c.next:c.prev);const l=a?n:s;if(!o.collapsed){const n=hd(o);if(r(n)){return jR(t,e,n,t===Pg.Backwards,false)}else if(eB(e)){const e=o.cloneRange();e.collapse(t===Pg.Backwards);return U.from(e)}}const d=Rg(t,e.getBody(),o);if(l(d)){return UR(e,d.getNode(!a))}let u=i(d);const f=Ha(o);if(!u){return f?U.some(o):U.none()}else{u=ux(a,u)}if(l(u)){return jR(t,e,u.getNode(!a),a,false)}const m=i(u);if(m&&l(m)){if(Ig(u,m)){return jR(t,e,m.getNode(!a),a,false)}}if(f){return VL(e,u.toRange(),false)}return U.none()};const ZL=(e,t,o,n,s,r)=>{const a=Rg(t,e.getBody(),o);const c=We(a.getClientRects());const i=t===OL.Down;const l=e.getBody();if(!c){return U.none()}if(eB(e)){const e=i?Zd.fromRangeEnd(o):Zd.fromRangeStart(o);const t=!i?kL:wL;return t(l,e).orThunk((()=>U.from(e))).map((e=>e.toRange()))}const d=i?BL:RL;const u=d(l,IL(1),a);const f=oe(u,PL(1));const m=c.left;const g=zL(f,m);if(g&&r(g.node)){const o=Math.abs(m-g.left);const n=Math.abs(m-g.right);return jR(t,e,g.node,o<n,false)}let p;if(n(a)){p=a.getNode()}else if(s(a)){p=a.getNode(true)}else{p=hd(o)}if(p){const o=HL(t,l,IL(1),p);let n=zL(oe(o,PL(1)),m);if(n){return VL(e,n.position.toRange(),false)}n=We(oe(o,PL(0)));if(n){return VL(e,n.position.toRange(),false)}}if(f.length===0){return UL(e,i).filter(i?s:n).map((t=>WR(e,t.toRange(),false)))}return U.none()};const UL=(e,t)=>{const o=e.selection.getRng();const n=t?Zd.fromRangeEnd(o):Zd.fromRangeStart(o);const s=xg(n.container(),e.getBody());if(t){const e=mL(s,n);return ye(e.positions)}else{const e=fL(s,n);return he(e.positions)}};const qL=(e,t,o)=>UL(e,t).filter(o).exists((t=>{e.selection.setRng(t.toRange());return true}));const WL=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset());o.setEnd(t.container(),t.offset());e.selection.setRng(o)};const $L=(e,t)=>{if(e){t.setAttribute("data-mce-selected","inline-boundary")}else{t.removeAttribute("data-mce-selected")}};const GL=(e,t,o)=>MB(t,o).map((t=>{WL(e,t);return o}));const KL=(e,t,o)=>{const n=Zd.fromRangeStart(e);if(e.collapsed){return n}else{const s=Zd.fromRangeEnd(e);return o?up(t,s).getOr(s):dp(t,n).getOr(n)}};const YL=(e,t,o)=>{const n=e.getBody();const s=KL(e.selection.getRng(),n,o);const r=H(rx,e);const a=eL(o,r,n,s);return a.bind((o=>GL(e,t,o)))};const XL=(e,t,o)=>{const n=J(rr(yn.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(e=>e.dom));const s=oe(n,e);const r=oe(o,e);Q(fe(s,r),H($L,false));Q(fe(r,s),H($L,true))};const JL=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const n=Zd.fromRangeStart(e.selection.getRng());if(Zd.isTextPosition(n)&&!dx(n)){WL(e,Jm(o,n));t.set(null)}}};const QL=(e,t,o,n)=>{if(t.selection.isCollapsed()){const s=oe(n,e);Q(s,(n=>{const s=Zd.fromRangeStart(t.selection.getRng());UB(e,t.getBody(),s).bind((e=>GL(t,o,e)))}))}};const eH=(e,t,o)=>If(e)?YL(e,t,o).isSome():false;const tH=(e,t,o)=>If(t)?nL(e,t):false;const oH=e=>{const t=ul(null);const o=H(rx,e);e.on("NodeChange",(n=>{if(If(e)){XL(o,e.dom,n.parents);JL(e,t);QL(o,e,t,n.parents)}}));return t};const nH=H(tH,true);const sH=H(tH,false);const rH=(e,t,o)=>{if(If(e)){const n=UL(e,t).getOrThunk((()=>{const o=e.selection.getRng();return t?Zd.fromRangeEnd(o):Zd.fromRangeStart(o)}));return UB(H(rx,e),e.getBody(),n).exists((t=>{const n=$B(t);return MB(o,n).exists((t=>{WL(e,t);return true}))}))}else{return false}};const aH=(e,t)=>{const o=document.createRange();o.setStart(e.container(),e.offset());o.setEnd(t.container(),t.offset());return o};const cH=e=>yo(fp(e),mp(e),((t,o)=>{const n=ux(true,t);const s=ux(false,o);return dp(e,n).forall((e=>e.isEqual(s)))})).getOr(true);const iH=(e,t)=>o=>MB(t,o).map((t=>()=>WL(e,t)));const lH=(e,t,o,n)=>{const s=e.getBody();const r=H(rx,e);e.undoManager.ignore((()=>{e.selection.setRng(aH(o,n));hx(e);UB(r,s,Zd.fromRangeStart(e.selection.getRng())).map(GB).bind(iH(e,t)).each(V)}));e.nodeChanged()};const dH=(e,t)=>{const o=Cg(t,e);return o?o:e};const uH=(e,t,o,n)=>{const s=dH(e.getBody(),n.container());const r=H(rx,e);const a=UB(r,s,n);const c=a.bind((e=>{if(o){return e.fold(R(U.some(GB(e))),U.none,R(U.some($B(e))),U.none)}else{return e.fold(U.none,R(U.some($B(e))),U.none,R(U.some(GB(e))))}}));return c.map(iH(e,t)).getOrThunk((()=>{const c=cp(o,s,n);const i=c.bind((e=>UB(r,s,e)));return yo(a,i,(()=>ix(r,s,n).bind((t=>{if(cH(t)){return U.some((()=>{ox(e,o,yn.fromDom(t))}))}else{return U.none()}})))).getOrThunk((()=>i.bind((()=>c.map((s=>()=>{if(o){lH(e,t,n,s)}else{lH(e,t,s,n)}}))))))}))};const fH=(e,t,o)=>{if(e.selection.isCollapsed()&&If(e)){const n=Zd.fromRangeStart(e.selection.getRng());return uH(e,t,o,n)}return U.none()};const mH=e=>Vn(e)>1;const gH=(e,t)=>{const o=yn.fromDom(e.getBody());const n=yn.fromDom(e.selection.getStart());const s=Ww(n,o);return ce(s,t).fold(R(s),(e=>s.slice(0,e)))};const pH=e=>Vn(e)===1;const hH=e=>gH(e,(e=>oa(e)||mH(e)));const yH=e=>gH(e,oa);const bH=(e,t)=>{const o=H(gz,e);return le(t,(e=>o(e)?[e.dom]:[]))};const vH=e=>{const t=yH(e);return bH(e,t)};const kH=(e,t,o,n)=>{const s=bH(t,n);if(s.length===0){ox(t,e,o)}else{const e=fz(o.dom,s);t.selection.setRng(e.toRange())}};const wH=(e,t)=>{const o=oe(hH(e),pH);return ye(o).bind((n=>{const s=Zd.fromRangeStart(e.selection.getRng());if(_x(t,s,n.dom)&&!pz(n)){return U.some((()=>kH(t,e,n,o)))}else{return U.none()}}))};const _H=(e,t)=>{const o=t.parentElement;return Er(t)&&!x(o)&&e.dom.isEmpty(o)};const xH=e=>pz(yn.fromDom(e));const CH=(e,t)=>{const o=e.selection.getStart();const n=_H(e,o)||xH(o)?fz(o,t):mz(e.selection.getRng(),t);e.selection.setRng(n.toRange())};const SH=(e,t)=>{const o=fe(t,vH(e));if(o.length>0){CH(e,o)}};const zH=e=>wr(e.startContainer);const EH=e=>e.startOffset===0&&zH(e);const TH=(e,t)=>{const o=t.startContainer.parentElement;return!x(o)&&gz(e,yn.fromDom(o))};const OH=e=>{const t=e.startContainer.parentNode;const o=e.endContainer.parentNode;return!x(t)&&!x(o)&&t.isEqualNode(o)};const DH=e=>{const t=e.endContainer;return e.endOffset===(wr(t)?t.length:t.childNodes.length)};const AH=e=>OH(e)&&DH(e);const NH=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer);const MH=e=>AH(e)||NH(e);const RH=e=>{const t=e.selection.getRng();return EH(t)&&TH(e,t)&&MH(t)};const BH=e=>{if(RH(e)){const t=vH(e);return U.some((()=>{hx(e);SH(e,t)}))}else{return U.none()}};const LH=(e,t)=>e.selection.isCollapsed()?wH(e,t):BH(e);const HH=e=>AS(e,(e=>pp(e.dom)),oa);const IH=e=>HH(yn.fromDom(e.selection.getStart()));const PH=e=>{const t=e.selection.getRng();return t.collapsed&&(zH(t)||e.dom.isEmpty(t.startContainer))&&!IH(e)};const FH=e=>{if(PH(e)){CH(e,[])}return true};const VH=(e,t,o)=>{if(E(o)){return U.some((()=>{e._selectionOverrides.hideFakeCaret();ox(e,t,yn.fromDom(o))}))}else{return U.none()}};const jH=(e,t)=>{const o=t?Hw:Iw;const n=t?Pg.Forwards:Pg.Backwards;const s=Rg(n,e.getBody(),e.selection.getRng());if(o(s)){return VH(e,t,s.getNode(!t))}else{return U.from(ux(t,s)).filter((e=>o(e)&&Ig(s,e))).bind((o=>VH(e,t,o.getNode(!t))))}};const ZH=(e,t)=>{const o=e.selection.getNode();return Mr(o)?VH(e,t,o):U.none()};const UH=(e,t)=>e.selection.isCollapsed()?jH(e,t):ZH(e,t);const qH=e=>ns(e,(e=>Or(e.dom)||Dr(e.dom))).exists((e=>Or(e.dom)));const WH=e=>bt(e!==null&&e!==void 0?e:"").getOr(0);const $H=(e,t)=>{const o=e||na(t)?"margin":"padding";const n=bs(t,"direction")==="rtl"?"-right":"-left";return o+n};const GH=(e,t,o,n,s,r)=>{const a=$H(o,yn.fromDom(r));const c=WH(e.getStyle(r,a));if(t==="outdent"){const t=Math.max(0,c-n);e.setStyle(r,a,t?t+s:"")}else{const t=c+n+s;e.setStyle(r,a,t)}};const KH=(e,t)=>de(t,(t=>{const o=$H(_f(e),t);const n=ks(t,o).map(WH).getOr(0);const s=e.dom.getContentEditable(t.dom);return s!=="false"&&n>0}));const YH=e=>{const t=QH(e);return!e.mode.isReadOnly()&&(t.length>1||KH(e,t))};const XH=e=>ca(e)||ia(e);const JH=e=>On(e).exists(XH);const QH=e=>oe(Bs(e.selection.getSelectedBlocks()),(e=>!XH(e)&&!JH(e)&&qH(e)));const eI=(e,t)=>{var o,n;const{dom:s}=e;const r=xf(e);const a=(n=(o=/[a-z%]+$/i.exec(r))===null||o===void 0?void 0:o[0])!==null&&n!==void 0?n:"px";const c=WH(r);const i=_f(e);Q(QH(e),(e=>{GH(s,t,i,c,a,e.dom)}))};const tI=e=>eI(e,"indent");const oI=e=>eI(e,"outdent");const nI=e=>{if(e.selection.isCollapsed()&&YH(e)){const t=e.dom;const o=e.selection.getRng();const n=Zd.fromRangeStart(o);const s=t.getParent(o.startContainer,t.isBlock);if(s!==null&&Xw(yn.fromDom(s),n)){return U.some((()=>oI(e)))}}return U.none()};const sI=(e,t,o)=>ve([nI,vB,JR,(e,o)=>fH(e,t,o),RR,vC,wB,UH,VR,LH],(t=>t(e,o))).filter((t=>e.selection.isEditable()));const rI=(e,t)=>{const o=sI(e,t,false);o.fold((()=>{hx(e);wx(e)}),V)};const aI=(e,t)=>{const o=sI(e,t,true);o.fold((()=>yx(e)),V)};const cI=(e,t)=>{e.addCommand("delete",(()=>{rI(e,t)}));e.addCommand("forwardDelete",(()=>{aI(e,t)}))};const iI=5;const lI=400;const dI=e=>{if(e.touches===undefined||e.touches.length!==1){return U.none()}return U.some(e.touches[0])};const uI=(e,t)=>{const o=Math.abs(e.clientX-t.x);const n=Math.abs(e.clientY-t.y);return o>iI||n>iI};const fI=e=>{const t=Ol();const o=ul(false);const n=Al((t=>{e.dispatch("longpress",{...t,type:"longpress"});o.set(true)}),lI);e.on("touchstart",(e=>{dI(e).each((s=>{n.cancel();const r={x:s.clientX,y:s.clientY,target:e.target};n.throttle(e);o.set(false);t.set(r)}))}),true);e.on("touchmove",(s=>{n.cancel();dI(s).each((n=>{t.on((s=>{if(uI(n,s)){t.clear();o.set(false);e.dispatch("longpresscancel")}}))}))}),true);e.on("touchend touchcancel",(s=>{n.cancel();if(s.type==="touchcancel"){return}t.get().filter((e=>e.target.isEqualNode(s.target))).each((()=>{if(o.get()){s.preventDefault()}else{e.dispatch("tap",{...s,type:"tap"})}}))}),true)};const mI=(e,t)=>Me(e,t.nodeName);const gI=(e,t)=>{if(wr(t)){return true}else if(dr(t)){return!mI(e.getBlockElements(),t)&&!Ip(t)&&!Dc(e,t)}else{return false}};const pI=(e,t,o)=>X(qw(yn.fromDom(o),yn.fromDom(t)),(t=>mI(e,t.dom)));const hI=(e,t)=>{if(wr(t)){if(t.data.length===0){return true}else if(/^\s+$/.test(t.data)&&(!t.nextSibling||mI(e,t.nextSibling))){return true}}return false};const yI=e=>e.dom.create(tf(e),of(e));const bI=e=>{const t=e.dom,o=e.selection;const n=e.schema;const s=n.getBlockElements();const r=o.getStart();const a=e.getBody();let c;let i;let l=false;const d=tf(e);if(!r||!dr(r)){return}const u=a.nodeName.toLowerCase();if(!n.isValidChild(u,d.toLowerCase())||pI(s,a,r)){return}const f=o.getRng();const{startContainer:m,startOffset:g,endContainer:p,endOffset:h}=f;const y=wk(e);let b=a.firstChild;while(b){if(dr(b)){Sc(n,b)}if(gI(n,b)){if(hI(s,b)){i=b;b=b.nextSibling;t.remove(i);continue}if(!c){c=yI(e);a.insertBefore(c,b);l=true}i=b;b=b.nextSibling;c.appendChild(i)}else{c=null;b=b.nextSibling}}if(l&&y){f.setStart(m,g);f.setEnd(p,h);o.setRng(f);e.nodeChanged()}};const vI=(e,t,o)=>{const n=yn.fromDom(yI(e));const s=ha();Es(n,s);o(t,n);const r=document.createRange();r.setStartBefore(s.dom);r.setEndBefore(s.dom);return r};const kI=e=>{e.on("NodeChange",H(bI,e))};const wI=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1;const _I=(e,t,o)=>function(n){const s=arguments,r=s[s.length-2];const a=r>0?t.charAt(r-1):"";if(a==='"'){return n}if(a===">"){const e=t.lastIndexOf("<",r);if(e!==-1){const o=t.substring(e,r);if(o.indexOf('contenteditable="false"')!==-1){return n}}}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(s[0])+'">'+e.dom.encode(typeof s[1]==="string"?s[1]:s[0])+"</span>"};const xI=(e,t,o)=>{let n=t.length,s=o.content;if(o.format==="raw"){return}while(n--){s=s.replace(t[n],_I(e,s,Em(e)))}o.content=s};const CI=e=>{const t="contenteditable";const o=" "+mo.trim(Tm(e))+" ";const n=" "+mo.trim(Em(e))+" ";const s=wI(o);const r=wI(n);const a=Om(e);if(a.length>0){e.on("BeforeSetContent",(t=>{xI(e,a,t)}))}e.parser.addAttributeFilter("class",(e=>{let o=e.length;while(o--){const n=e[o];if(s(n)){n.attr(t,"true")}else if(r(n)){n.attr(t,"false")}}}));e.serializer.addAttributeFilter(t,(e=>{let o=e.length;while(o--){const n=e[o];if(!s(n)&&!r(n)){continue}if(a.length>0&&n.attr("data-mce-content")){n.name="#text";n.type=3;n.raw=true;n.value=n.attr("data-mce-content")}else{n.attr(t,null)}}}))};const SI=e=>is(yn.fromDom(e.getBody()),"*[data-mce-caret]").map((e=>e.dom)).getOrNull();const zI=(e,t)=>{if(t.hasAttribute("data-mce-caret")){La(t);e.selection.setRng(e.selection.getRng());e.selection.scrollIntoView(t)}};const EI=(e,t)=>{const o=SI(e);if(!o){return}if(t.type==="compositionstart"){t.preventDefault();t.stopPropagation();zI(e,o);return}if(Ta(o)){zI(e,o);e.undoManager.add()}};const TI=e=>{e.on("keyup compositionstart",H(EI,e))};const OI=Dr;const DI=(e,t,o)=>jL(t,e,o,Vw,jw,OI);const AI=(e,t,o)=>{const n=e=>Vw(e)||Pw(e);const s=e=>jw(e)||Fw(e);return ZL(t,e,o,n,s,OI)};const NI=e=>{const t=e.dom.create(tf(e));t.innerHTML='<br data-mce-bogus="1">';return t};const MI=(e,t,o)=>{const n=Jg(e.getBody());const s=H(Hg,t===1?n.next:n.prev);if(o.collapsed){const n=e.dom.getParent(o.startContainer,"PRE");if(!n){return}const r=s(Zd.fromRangeStart(o));if(!r){const o=yn.fromDom(NI(e));if(t===1){Ss(yn.fromDom(n),o)}else{Cs(yn.fromDom(n),o)}e.selection.select(o.dom,true);e.selection.collapse()}}};const RI=(e,t)=>{const o=t?Pg.Forwards:Pg.Backwards;const n=e.selection.getRng();return DI(o,e,n).orThunk((()=>{MI(e,o,n);return U.none()}))};const BI=(e,t)=>{const o=t?1:-1;const n=e.selection.getRng();return AI(o,e,n).orThunk((()=>{MI(e,o,n);return U.none()}))};const LI=(e,t)=>{const o=t?e.getEnd(true):e.getStart(true);return ax(o)?!t:t};const HI=(e,t)=>RI(e,LI(e.selection,t)).exists((t=>{FL(e,t);return true}));const II=(e,t)=>BI(e,t).exists((t=>{FL(e,t);return true}));const PI=(e,t)=>{const o=t?jw:Vw;return qL(e,t,o)};const FI=(e,t)=>QR(e,!t).map((o=>{const n=o.toRange();const s=e.selection.getRng();if(t){n.setStart(s.startContainer,s.startOffset)}else{n.setEnd(s.endContainer,s.endOffset)}return n})).exists((t=>{FL(e,t);return true}));const VI=e=>Y(["figcaption"],Mo(e));const jI=(e,t)=>{const o=H(xn,t);return ns(yn.fromDom(e.container()),oa,o).filter(VI)};const ZI=(e,t,o)=>t?yL(e.dom,o):hL(e.dom,o);const UI=(e,t)=>{const o=yn.fromDom(e.getBody());const n=Zd.fromRangeStart(e.selection.getRng());return jI(n,o).exists((()=>{if(ZI(o,t,n)){const n=t?Es:zs;const s=vI(e,o,n);e.selection.setRng(s);return true}else{return false}}))};const qI=(e,t)=>{if(e.selection.isCollapsed()){return UI(e,t)}else{return false}};const WI=(e,t,o)=>{const n=e.selection.getRng();const s=Zd.fromRangeStart(n);const r=e.getBody();if(r.firstChild===t&&hL(o,s)){e.execCommand("InsertNewBlockBefore");return true}else{return false}};const $I=(e,t)=>{const o=e.selection.getRng();const n=Zd.fromRangeStart(o);const s=e.getBody();if(s.lastChild===t&&yL(t,n)){e.execCommand("InsertNewBlockAfter");return true}else{return false}};const GI=(e,t)=>{if(t){return U.from(e.dom.getParent(e.selection.getNode(),"details")).map((t=>$I(e,t))).getOr(false)}else{return U.from(e.dom.getParent(e.selection.getNode(),"summary")).bind((t=>U.from(e.dom.getParent(t,"details")).map((o=>WI(e,o,t))))).getOr(false)}};const KI=(e,t)=>GI(e,t);const YI={shiftKey:false,altKey:false,ctrlKey:false,metaKey:false,keyCode:0};const XI=e=>J(e,(e=>({...YI,...e})));const JI=e=>J(e,(e=>({...YI,...e})));const QI=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey;const eP=(e,t)=>le(XI(e),(e=>QI(e,t)?[e]:[]));const tP=(e,t)=>le(JI(e),(e=>QI(e,t)?[e]:[]));const oP=(e,...t)=>()=>e.apply(null,t);const nP=(e,t)=>ae(eP(e,t),(e=>e.action()));const sP=(e,t)=>ve(tP(e,t),(e=>e.action()));const rP=(e,t)=>{const o=t?Pg.Forwards:Pg.Backwards;const n=e.selection.getRng();return jL(e,o,n,Hw,Iw,Mr).exists((t=>{FL(e,t);return true}))};const aP=(e,t)=>{const o=t?1:-1;const n=e.selection.getRng();return ZL(e,o,n,Hw,Iw,Mr).exists((t=>{FL(e,t);return true}))};const cP=(e,t)=>{const o=t?Iw:Hw;return qL(e,t,o)};const iP=Ou.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]);const lP=e=>iP.none(e);const dP={...iP,none:lP};const uP=(e,t)=>fP(e,t,Z);const fP=(e,t,o)=>le(Hn(e),(e=>{if(vn(e,t)){return o(e)?[e]:[]}else{return fP(e,t,o)}}));const mP=(e,t,o=j)=>{if(o(t)){return U.none()}if(Y(e,Mo(t))){return U.some(t)}const n=e=>vn(e,"table")||o(e);return cs(t,e.join(","),n)};const gP=(e,t)=>mP(["td","th"],e,t);const pP=e=>uP(e,"th,td");const hP=(e,t)=>ls(e,"table",t);const yP=(e,t,o,n,s=Z)=>{const r=n===1;if(!r&&o<=0){return dP.first(e[0])}else if(r&&o>=e.length-1){return dP.last(e[e.length-1])}else{const r=o+n;const a=e[r];return s(a)?dP.middle(t,a):yP(e,t,r,n,s)}};const bP=(e,t)=>hP(e,t).bind((t=>{const o=pP(t);const n=ce(o,(t=>xn(e,t)));return n.map((e=>({index:e,all:o})))}));const vP=(e,t,o)=>{const n=bP(e,o);return n.fold((()=>dP.none(e)),(o=>yP(o.all,e,o.index,1,t)))};const kP=(e,t,o)=>{const n=bP(e,o);return n.fold((()=>dP.none()),(o=>yP(o.all,e,o.index,-1,t)))};const wP=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t});const _P=(e,t)=>le(t,(t=>{const o=wP(rd(t.getBoundingClientRect()),-1);return[{x:o.left,y:e(o),cell:t},{x:o.right,y:e(o),cell:t}]}));const xP=(e,t,o)=>se(e,((e,n)=>e.fold((()=>U.some(n)),(e=>{const s=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-o));const r=Math.sqrt(Math.abs(n.x-t)+Math.abs(n.y-o));return U.some(r<s?n:e)}))),U.none());const CP=(e,t,o,n,s)=>{const r=rr(yn.fromDom(o),"td,th,caption").map((e=>e.dom));const a=oe(_P(e,r),(e=>t(e,s)));return xP(a,n,s).map((e=>e.cell))};const SP=e=>e.bottom;const zP=e=>e.top;const EP=(e,t)=>e.y<t;const TP=(e,t)=>e.y>t;const OP=H(CP,SP,EP);const DP=H(CP,zP,TP);const AP=(e,t)=>he(t.getClientRects()).bind((t=>OP(e,t.left,t.top))).bind((e=>uL(vL(e),t)));const NP=(e,t)=>ye(t.getClientRects()).bind((t=>DP(e,t.left,t.top))).bind((e=>uL(bL(e),t)));const MP=(e,t,o)=>o.breakAt.exists((o=>e(t,o).breakAt.isSome()));const RP=e=>e.breakType===sL.Wrap&&e.positions.length===0;const BP=e=>e.breakType===sL.Br&&e.positions.length===1;const LP=(e,t,o)=>{const n=e(t,o);if(RP(n)||!Er(o.getNode())&&BP(n)){return!MP(e,t,n)}else{return n.breakAt.isNone()}};const HP=H(LP,fL);const IP=H(LP,mL);const PP=(e,t,o)=>{const n=Zd.fromRangeStart(t);return lp(!e,o).exists((e=>e.isEqual(n)))};const FP=(e,t,o,n)=>{const s=e.selection.getRng();const r=t?1:-1;if(cg()&&PP(t,s,o)){jR(r,e,o,!t,false).each((t=>{FL(e,t)}));return true}return false};const VP=(e,t,o)=>AP(t,o).orThunk((()=>he(o.getClientRects()).bind((o=>dL(gL(e,Zd.before(t)),o.left))))).getOr(Zd.before(t));const jP=(e,t,o)=>NP(t,o).orThunk((()=>he(o.getClientRects()).bind((o=>dL(pL(e,Zd.after(t)),o.left))))).getOr(Zd.after(t));const ZP=(e,t)=>{const o=t.getNode(e);return br(o)?U.some(o):U.none()};const UP=(e,t,o)=>{t.undoManager.transact((()=>{const n=e?Ss:Cs;const s=vI(t,yn.fromDom(o),n);FL(t,s)}))};const qP=(e,t,o)=>{const n=t?ZP(true,o):ZP(false,o);const s=t===false;n.fold((()=>FL(e,o.toRange())),(n=>lp(s,e.getBody()).filter((e=>e.isEqual(o))).fold((()=>FL(e,o.toRange())),(o=>UP(t,e,n)))))};const WP=(e,t,o,n)=>{const s=e.selection.getRng();const r=Zd.fromRangeStart(s);const a=e.getBody();if(!t&&HP(n,r)){const n=VP(a,o,r);qP(e,t,n);return true}else if(t&&IP(n,r)){const n=jP(a,o,r);qP(e,t,n);return true}else{return false}};const $P=(e,t,o)=>U.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((n=>U.from(e.dom.getParent(n,"table")).map((s=>o(e,t,s,n))))).getOr(false);const GP=(e,t)=>$P(e,t,FP);const KP=(e,t)=>$P(e,t,WP);const YP=e=>{const t=Ob.exact(e,0,e,0);return Bb(t)};const XP=(e,t,o)=>o.fold(U.none,U.none,((e,t)=>Pk(t).map((e=>YP(e)))),(o=>{e.execCommand("mceTableInsertRowAfter");return JP(e,t,o)}));const JP=(e,t,o)=>XP(e,t,vP(o,us));const QP=(e,t,o)=>XP(e,t,kP(o,us));const eF=(e,t)=>{const o=["table","li","dl"];const n=yn.fromDom(e.getBody());const s=e=>{const t=Mo(e);return xn(e,n)||Y(o,t)};const r=e.selection.getRng();const a=yn.fromDom(!t?r.startContainer:r.endContainer);return gP(a,s).map((o=>{hP(o,s).each((t=>{e.model.table.clearSelectedCells(t.dom)}));e.selection.collapse(!t);const n=!t?QP:JP;const r=n(e,s,o);r.each((t=>{e.selection.setRng(t)}));return true})).getOr(false)};const tF=(e,t,o)=>{const n=to.os.isMacOS()||to.os.isiOS();nP([{keyCode:qy.RIGHT,action:oP(HI,e,true)},{keyCode:qy.LEFT,action:oP(HI,e,false)},{keyCode:qy.UP,action:oP(II,e,false)},{keyCode:qy.DOWN,action:oP(II,e,true)},...n?[{keyCode:qy.UP,action:oP(FI,e,false),metaKey:true,shiftKey:true},{keyCode:qy.DOWN,action:oP(FI,e,true),metaKey:true,shiftKey:true}]:[],{keyCode:qy.RIGHT,action:oP(GP,e,true)},{keyCode:qy.LEFT,action:oP(GP,e,false)},{keyCode:qy.UP,action:oP(KP,e,false)},{keyCode:qy.DOWN,action:oP(KP,e,true)},{keyCode:qy.UP,action:oP(KP,e,false)},{keyCode:qy.UP,action:oP(KI,e,false)},{keyCode:qy.DOWN,action:oP(KI,e,true)},{keyCode:qy.RIGHT,action:oP(rP,e,true)},{keyCode:qy.LEFT,action:oP(rP,e,false)},{keyCode:qy.UP,action:oP(aP,e,false)},{keyCode:qy.DOWN,action:oP(aP,e,true)},{keyCode:qy.RIGHT,action:oP(eH,e,t,true)},{keyCode:qy.LEFT,action:oP(eH,e,t,false)},{keyCode:qy.RIGHT,ctrlKey:!n,altKey:n,action:oP(nH,e,t)},{keyCode:qy.LEFT,ctrlKey:!n,altKey:n,action:oP(sH,e,t)},{keyCode:qy.UP,action:oP(qI,e,false)},{keyCode:qy.DOWN,action:oP(qI,e,true)}],o).each((e=>{o.preventDefault()}))};const oF=(e,t)=>{e.on("keydown",(o=>{if(!o.isDefaultPrevented()){tF(e,t,o)}}))};const nF=(e,t)=>({container:e,offset:t});const sF=sl.DOM;const rF=e=>t=>e===t?-1:0;const aF=e=>t=>e.isBlock(t)||Y(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false";const cF=(e,t,o)=>{if(wr(e)&&t>=0){return U.some(nF(e,t))}else{const n=nd(sF);return U.from(n.backwards(e,t,rF(e),o)).map((e=>nF(e.container,e.container.data.length)))}};const iF=(e,t,o)=>{if(wr(e)&&t>=e.length){return U.some(nF(e,t))}else{const n=nd(sF);return U.from(n.forwards(e,t,rF(e),o)).map((e=>nF(e.container,0)))}};const lF=(e,t,o)=>{if(!wr(e)){return U.none()}const n=e.data;if(t>=0&&t<=n.length){return U.some(nF(e,t))}else{const n=nd(sF);return U.from(n.backwards(e,t,rF(e),o)).bind((e=>{const n=e.container.data;return lF(e.container,t+n.length,o)}))}};const dF=(e,t,o)=>{if(!wr(e)){return U.none()}const n=e.data;if(t<=n.length){return U.some(nF(e,t))}else{const s=nd(sF);return U.from(s.forwards(e,t,rF(e),o)).bind((e=>dF(e.container,t-n.length,o)))}};const uF=(e,t,o,n,s)=>{const r=nd(e,aF(e));return U.from(r.backwards(t,o,n,s))};const fF=e=>e.collapsed&&wr(e.startContainer);const mF=e=>wa(e.toString().replace(/\u00A0/g," "));const gF=e=>e!==""&&"  \f\n\r\t\v".indexOf(e)!==-1;const pF=(e,t)=>e.substring(t.length);const hF=(e,t,o)=>{let n;const s=o.charAt(0);for(n=t-1;n>=0;n--){const r=e.charAt(n);if(gF(r)){return U.none()}if(s===r&&it(e,o,n,t)){break}}return U.some(n)};const yF=(e,t,o,n=0)=>{if(!fF(t)){return U.none()}const s={text:"",offset:0};const r=(e,t,n)=>{s.text=n+s.text;s.offset+=t;return hF(s.text,s.offset,o).getOr(t)};const a=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return uF(e,t.startContainer,t.startOffset,r,a).bind((e=>{const s=t.cloneRange();s.setStart(e.container,e.offset);s.setEnd(t.endContainer,t.endOffset);if(s.collapsed){return U.none()}const r=mF(s);const a=r.lastIndexOf(o);if(a!==0||pF(r,o).length<n){return U.none()}else{return U.some({text:pF(r,o),range:s,trigger:o})}}))};const bF=(e,t,o,n=0)=>Uk(yn.fromDom(t.startContainer)).fold((()=>yF(e,t,o,n)),(t=>{const n=e.createRng();n.selectNode(t.dom);const s=mF(n);return U.some({range:n,text:pF(s,o),trigger:o})}));const vF=e=>e.nodeType===No;const kF=e=>e.nodeType===Ao;const wF=e=>{if(vF(e)){return nF(e,e.data.length)}else{const t=e.childNodes;return t.length>0?wF(t[t.length-1]):nF(e,t.length)}};const _F=(e,t)=>{const o=e.childNodes;if(o.length>0&&t<o.length){return _F(o[t],0)}else if(o.length>0&&kF(e)&&o.length===t){return wF(o[o.length-1])}else{return nF(e,t)}};const xF=(e,t)=>{var o;const n=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return uF(e,t.container,t.offset,((e,t)=>t===0?-1:t),n).filter((e=>{const t=e.container.data.charAt(e.offset-1);return!gF(t)})).isSome()};const CF=e=>t=>{const o=_F(t.startContainer,t.startOffset);return!xF(e,o)};const SF=(e,t,o)=>ve(o.triggers,(o=>bF(e,t,o)));const zF=(e,t)=>{const o=t();const n=e.selection.getRng();return SF(e.dom,n,o).bind((o=>EF(e,t,o)))};const EF=(e,t,o,n={})=>{var s;const r=t();const a=e.selection.getRng();const c=(s=a.startContainer.nodeValue)!==null&&s!==void 0?s:"";const i=oe(r.lookupByTrigger(o.trigger),(t=>o.text.length>=t.minChars&&t.matches.getOrThunk((()=>CF(e.dom)))(o.range,c,o.text)));if(i.length===0){return U.none()}const l=Promise.all(J(i,(e=>{const t=e.fetch(o.text,e.maxResults,n);return t.then((t=>({matchText:o.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn})))})));return U.some({lookupData:l,context:o})};var TF;(function(e){e[e["Error"]=0]="Error";e[e["Value"]=1]="Value"})(TF||(TF={}));const OF=(e,t,o)=>e.stype===TF.Error?t(e.serror):o(e.svalue);const DF=e=>{const t=[];const o=[];Q(e,(e=>{OF(e,(e=>o.push(e)),(e=>t.push(e)))}));return{values:t,errors:o}};const AF=(e,t)=>{if(e.stype===TF.Error){return{stype:TF.Error,serror:t(e.serror)}}else{return e}};const NF=(e,t)=>{if(e.stype===TF.Value){return{stype:TF.Value,svalue:t(e.svalue)}}else{return e}};const MF=(e,t)=>{if(e.stype===TF.Value){return t(e.svalue)}else{return e}};const RF=(e,t)=>{if(e.stype===TF.Error){return t(e.serror)}else{return e}};const BF=e=>({stype:TF.Value,svalue:e});const LF=e=>({stype:TF.Error,serror:e});const HF=e=>OF(e,Eu.error,Eu.value);const IF=e=>e.fold(LF,BF);const PF={fromResult:IF,toResult:HF,svalue:BF,partition:DF,serror:LF,bind:MF,bindError:RF,map:NF,mapError:AF,fold:OF};const FF=e=>k(e)&&we(e).length>100?" removed due to size":JSON.stringify(e,null,2);const VF=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:R("... (only showing first ten failures)")}]):e;return J(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))};const jF=(e,t)=>PF.serror([{path:e,getErrorInfo:t}]);const ZF=(e,t,o)=>jF(e,(()=>'Could not find valid *required* value for "'+t+'" in '+FF(o)));const UF=(e,t)=>jF(e,(()=>'Choice schema did not contain choice key: "'+t+'"'));const qF=(e,t,o)=>jF(e,(()=>'The chosen schema: "'+o+'" did not exist in branches: '+FF(t)));const WF=(e,t)=>jF(e,R(t));const $F=(e,t,o,n)=>{const s=Ne(o,n);return s.fold((()=>qF(e,o,n)),(o=>o.extract(e.concat(["branch: "+n]),t)))};const GF=(e,t)=>{const o=(o,n)=>{const s=Ne(n,e);return s.fold((()=>UF(o,e)),(e=>$F(o,n,t,e)))};const n=()=>"chooseOn("+e+"). Possible values: "+we(t);return{extract:o,toString:n}};const KF=(e,t)=>t;const YF=(e,t)=>{const o=w(e)&&w(t);return o?JF(e,t):t};const XF=e=>(...t)=>{if(t.length===0){throw new Error(`Can't merge zero objects`)}const o={};for(let n=0;n<t.length;n++){const s=t[n];for(const t in s){if(Me(s,t)){o[t]=e(o[t],s[t])}}}return o};const JF=XF(YF);const QF=XF(KF);const eV=()=>({tag:"required",process:{}});const tV=e=>({tag:"defaultedThunk",process:e});const oV=e=>tV(R(e));const nV=()=>({tag:"option",process:{}});const sV=(e,t)=>e.length>0?PF.svalue(JF(t,QF.apply(undefined,e))):PF.svalue(t);const rV=e=>N(PF.serror,ie)(e);const aV=(e,t)=>{const o=PF.partition(e);return o.errors.length>0?rV(o.errors):sV(o.values,t)};const cV=e=>{const t=PF.partition(e);return t.errors.length>0?rV(t.errors):PF.svalue(t.values)};const iV={consolidateObj:aV,consolidateArr:cV};const lV=(e,t,o,n)=>({tag:"field",key:e,newKey:t,presence:o,prop:n});const dV=(e,t)=>({tag:"custom",newKey:e,instantiator:t});const uV=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}};const fV=e=>{const t=(t,o)=>PF.bindError(e(o),(e=>WF(t,e)));const o=R("val");return{extract:t,toString:o}};const mV=fV(PF.svalue);const gV=(e,t,o,n)=>Ne(t,o).fold((()=>ZF(e,o,t)),n);const pV=(e,t,o,n)=>{const s=Ne(e,t).getOrThunk((()=>o(e)));return n(s)};const hV=(e,t,o)=>o(Ne(e,t));const yV=(e,t,o,n)=>{const s=Ne(e,t).map((t=>t===true?o(e):t));return n(s)};const bV=(e,t,o,n,s)=>{const r=e=>s.extract(t.concat([n]),e);const a=e=>e.fold((()=>PF.svalue(U.none())),(e=>{const o=s.extract(t.concat([n]),e);return PF.map(o,U.some)}));switch(e.tag){case"required":return gV(t,o,n,r);case"defaultedThunk":return pV(o,n,e.process,r);case"option":return hV(o,n,a);case"defaultedOptionThunk":return yV(o,n,e.process,a);case"mergeWithThunk":{return pV(o,n,R({}),(t=>{const n=JF(e.process(o),t);return r(n)}))}}};const vV=(e,t,o)=>{const n={};const s=[];for(const r of o){uV(r,((o,r,a,c)=>{const i=bV(a,e,t,o,c);PF.fold(i,(e=>{s.push(...e)}),(e=>{n[r]=e}))}),((e,o)=>{n[e]=o(t)}))}return s.length>0?PF.serror(s):PF.svalue(n)};const kV=e=>{const t=(t,o)=>vV(t,o,e);const o=()=>{const t=J(e,(e=>uV(e,((e,t,o,n)=>e+" -> "+n.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"};return{extract:t,toString:o}};const wV=e=>{const t=(t,o)=>{const n=J(o,((o,n)=>e.extract(t.concat(["["+n+"]"]),o)));return iV.consolidateArr(n)};const o=()=>"array("+e.toString()+")";return{extract:t,toString:o}};const _V=e=>fV((t=>e(t).fold(PF.serror,PF.svalue)));const xV=(e,t,o)=>{const n=t.extract([e],o);return PF.mapError(n,(e=>({input:o,errors:e})))};const CV=(e,t,o)=>PF.toResult(xV(e,t,o));const SV=e=>"Errors: \n"+VF(e.errors).join("\n")+"\n\nInput object: "+FF(e.input);const zV=(e,t)=>GF(e,Ce(t,kV));const EV=R(mV);const TV=(e,t)=>fV((o=>{const n=typeof o;return e(o)?PF.svalue(o):PF.serror(`Expected type: ${t} but got: ${n}`)}));const OV=TV(O,"number");const DV=TV(v,"string");const AV=TV(C,"boolean");const NV=TV(T,"function");const MV=lV;const RV=dV;const BV=e=>_V((t=>Y(e,t)?Eu.value(t):Eu.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)));const LV=(e,t)=>MV(e,e,eV(),t);const HV=e=>LV(e,DV);const IV=e=>LV(e,NV);const PV=(e,t)=>MV(e,e,eV(),wV(t));const FV=(e,t)=>MV(e,e,nV(),t);const VV=e=>FV(e,DV);const jV=e=>FV(e,NV);const ZV=(e,t)=>MV(e,e,oV(t),EV());const UV=(e,t,o)=>MV(e,e,oV(t),o);const qV=(e,t)=>UV(e,t,OV);const WV=(e,t)=>UV(e,t,DV);const $V=(e,t,o)=>UV(e,t,BV(o));const GV=(e,t)=>UV(e,t,AV);const KV=(e,t)=>UV(e,t,NV);const YV=(e,t,o)=>UV(e,t,wV(o));const XV=HV("type");const JV=IV("fetch");const QV=IV("onAction");const ej=KV("onSetup",(()=>A));const tj=VV("text");const oj=VV("icon");const nj=VV("tooltip");const sj=VV("label");const rj=GV("active",false);const aj=GV("enabled",true);const cj=GV("primary",false);const ij=e=>ZV("columns",e);const lj=e=>WV("type",e);const dj=kV([XV,HV("trigger"),qV("minChars",1),ij(1),qV("maxResults",10),jV("matches"),JV,QV,YV("highlightOn",[],DV)]);const uj=e=>CV("Autocompleter",dj,{trigger:e.ch,...e});const fj=[aj,nj,oj,tj,ej];const mj=[rj].concat(fj);const gj=[KV("predicate",j),$V("scope","node",["node","editor"]),$V("position","selection",["node","selection","line"])];const pj=fj.concat([lj("contextformbutton"),cj,QV,RV("original",B)]);const hj=mj.concat([lj("contextformbutton"),cj,QV,RV("original",B)]);const yj=fj.concat([lj("contextformbutton")]);const bj=mj.concat([lj("contextformtogglebutton")]);const vj=zV("type",{contextformbutton:pj,contextformtogglebutton:hj});kV([lj("contextform"),KV("initValue",R("")),sj,PV("commands",vj),FV("launch",zV("type",{contextformbutton:yj,contextformtogglebutton:bj}))].concat(gj));const kj=e=>{const t=e.ui.registry.getAll().popups;const o=Ce(t,(e=>uj(e).fold((e=>{throw new Error(SV(e))}),B)));const n=Le(De(o,(e=>e.trigger)));const s=Ae(o);const r=e=>oe(s,(t=>t.trigger===e));return{dataset:o,triggers:n,lookupByTrigger:r}};const wj=(e,t)=>{const o=Al(t.load,50);e.on("keypress compositionend",(e=>{if(e.which===27){return}o.throttle()}));e.on("keydown",(e=>{const n=e.which;if(n===8){o.throttle()}else if(n===27){t.cancelIfNecessary()}}));e.on("remove",o.cancel)};const _j=e=>{const t=Ol();const o=ul(false);const n=t.isSet;const s=()=>{if(n()){PA(e);Fy(e);o.set(false);t.clear()}};const r=o=>{if(!n()){IA(e,o.range);t.set({trigger:o.trigger,matchLength:o.text.length})}};const a=$e((()=>kj(e)));const c=o=>t.get().map((t=>bF(e.dom,e.selection.getRng(),t.trigger).bind((t=>EF(e,a,t,o))))).getOrThunk((()=>zF(e,a)));const i=n=>{c(n).fold(s,(n=>{r(n.context);n.lookupData.then((r=>{t.get().map((a=>{const c=n.context;if(a.trigger===c.trigger){if(c.text.length-a.matchLength>=10){s()}else{t.set({...a,matchLength:c.text.length});if(o.get()){Py(e,{lookupData:r})}else{o.set(true);Iy(e,{lookupData:r})}}}}))}))}))};e.addCommand("mceAutocompleterReload",((e,t)=>{const o=k(t)?t.fetchOptions:{};i(o)}));e.addCommand("mceAutocompleterClose",s);wj(e,{cancelIfNecessary:s,load:i})};const xj=Gt().browser;const Cj=xj.isSafari();const Sj=e=>ya(yn.fromDom(e));const zj=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)};const Ej=(e,t)=>U.from(e.getParent(t.container(),"details"));const Tj=(e,t)=>Ej(e,t).isSome();const Oj=(e,t)=>{const o=U.from(e.getParent(t.startContainer,"details"));const n=U.from(e.getParent(t.endContainer,"details"));if(o.isSome()||n.isSome()){const t=o.bind((t=>U.from(e.select("summary",t)[0])));return U.some({startSummary:t,startDetails:o,endDetails:n})}else{return U.none()}};const Dj=(e,t)=>fp(t).exists((t=>t.isEqual(e)));const Aj=(e,t)=>mp(t).exists((o=>{if(Er(o.getNode())){return up(t,o).exists((t=>t.isEqual(e)))||o.isEqual(e)}else{return o.isEqual(e)}}));const Nj=(e,t)=>t.startSummary.exists((t=>Dj(e,t)));const Mj=(e,t)=>t.startSummary.exists((t=>Aj(e,t)));const Rj=(e,t)=>t.startDetails.exists((o=>up(o,e).forall((o=>t.startSummary.exists((t=>!t.contains(e.container())&&t.contains(o.container())))))));const Bj=(e,t,o)=>o.startDetails.exists((o=>dp(e,t).forall((e=>!o.contains(e.container())))));const Lj=(e,t)=>{const o=t.getNode();if(!S(o)){e.selection.setCursorLocation(o,t.offset())}};const Hj=(e,t,o)=>{const n=e.dom.getParent(t.container(),"details");if(n&&!n.open){const t=e.dom.select("summary",n)[0];if(t){const n=o?fp(t):mp(t);n.each((t=>Lj(e,t)))}}else{Lj(e,t)}};const Ij=(e,t)=>{const o=t=>t.contains(e.startContainer);const n=t=>t.contains(e.endContainer);const s=t.startSummary.exists(o);const r=t.startSummary.exists(n);const a=t.startDetails.forall((e=>t.endDetails.forall((t=>e!==t))));const c=(s||r)&&!(s&&r);return c||a};const Pj=(e,t,o)=>{const{dom:n,selection:s}=e;const r=e.getBody();if(o==="character"){const o=Zd.fromRangeStart(s.getRng());const a=n.getParent(o.container(),n.isBlock);const c=Ej(n,o);const i=a&&n.isEmpty(a);const l=x(a===null||a===void 0?void 0:a.previousSibling);const d=x(a===null||a===void 0?void 0:a.nextSibling);if(i){const e=t?d:l;if(e){const e=cp(!t,r,o).exists((e=>Tj(n,e)&&!po(c,Ej(n,e))));if(e){return true}}}return cp(t,r,o).fold(j,(o=>{const s=Ej(n,o);if(Tj(n,o)&&!po(c,s)){if(!t){Hj(e,o,false)}if(a&&i){if(t&&l){return true}else if(!t&&d){return true}Hj(e,o,t);e.dom.remove(a)}return true}else{return false}}))}else{return false}};const Fj=(e,t,o,n)=>{const s=e.selection;const r=s.getRng();const a=Zd.fromRangeStart(r);const c=e.getBody();if(n==="selection"){return Ij(r,t)}else if(o){return Mj(a,t)||Bj(c,a,t)}else{return Nj(a,t)||Rj(a,t)}};const Vj=(e,t,o)=>Oj(e.dom,e.selection.getRng()).fold((()=>Pj(e,t,o)),(n=>Fj(e,n,t,o)||Pj(e,t,o)));const jj=(e,t,o)=>{const n=e.selection;const s=n.getNode();const r=n.getRng();const a=Zd.fromRangeStart(r);if(Lr(s)){if(o==="selection"&&zj(r,s)||_x(t,a,s)){Sj(s)}else{e.undoManager.transact((()=>{const r=n.getSel();let{anchorNode:a,anchorOffset:c,focusNode:i,focusOffset:l}=r!==null&&r!==void 0?r:{};const d=()=>{if(E(a)&&E(c)&&E(i)&&E(l)){r===null||r===void 0?void 0:r.setBaseAndExtent(a,c,i,l)}};const u=()=>{a=r===null||r===void 0?void 0:r.anchorNode;c=r===null||r===void 0?void 0:r.anchorOffset;i=r===null||r===void 0?void 0:r.focusNode;l=r===null||r===void 0?void 0:r.focusOffset};const f=(e,t)=>{Q(e.childNodes,(e=>{if(hh(e)){t.appendChild(e)}}))};const m=e.dom.create("span",{"data-mce-bogus":"1"});f(s,m);s.appendChild(m);d();if(o==="word"||o==="line"){r===null||r===void 0?void 0:r.modify("extend",t?"right":"left",o)}if(!n.isCollapsed()&&zj(n.getRng(),m)){Sj(s)}else{e.execCommand(t?"ForwardDelete":"Delete");u();f(m,s);d()}e.dom.remove(m)}))}return true}else{return false}};const Zj=(e,t,o)=>Vj(e,t,o)||Cj&&jj(e,t,o)?U.some(A):U.none();const Uj=e=>(t,o,n={})=>{const s=t.getBody();const r={bubbles:true,composed:true,data:null,isComposing:false,detail:0,view:null,target:s,currentTarget:s,eventPhase:Event.AT_TARGET,originalTarget:s,explicitOriginalTarget:s,isTrusted:false,srcElement:s,cancelable:false,preventDefault:A,inputType:o};const a=Hi(new InputEvent(e));return t.dispatch(e,{...a,...r,...n})};const qj=Uj("input");const Wj=Uj("beforeinput");const $j=Gt();const Gj=$j.os;const Kj=Gj.isMacOS()||Gj.isiOS();const Yj=$j.browser;const Xj=Yj.isFirefox();const Jj=(e,t,o)=>{const n=o.keyCode===qy.BACKSPACE?"deleteContentBackward":"deleteContentForward";const s=e.selection.isCollapsed();const r=s?"character":"selection";const a=e=>{if(s){return e?"word":"line"}else{return"selection"}};sP([{keyCode:qy.BACKSPACE,action:oP(nI,e)},{keyCode:qy.BACKSPACE,action:oP(vB,e,false)},{keyCode:qy.DELETE,action:oP(vB,e,true)},{keyCode:qy.BACKSPACE,action:oP(JR,e,false)},{keyCode:qy.DELETE,action:oP(JR,e,true)},{keyCode:qy.BACKSPACE,action:oP(fH,e,t,false)},{keyCode:qy.DELETE,action:oP(fH,e,t,true)},{keyCode:qy.BACKSPACE,action:oP(vC,e,false)},{keyCode:qy.DELETE,action:oP(vC,e,true)},{keyCode:qy.BACKSPACE,action:oP(Zj,e,false,r)},{keyCode:qy.DELETE,action:oP(Zj,e,true,r)},...Kj?[{keyCode:qy.BACKSPACE,altKey:true,action:oP(Zj,e,false,a(true))},{keyCode:qy.DELETE,altKey:true,action:oP(Zj,e,true,a(true))},{keyCode:qy.BACKSPACE,metaKey:true,action:oP(Zj,e,false,a(false))}]:[{keyCode:qy.BACKSPACE,ctrlKey:true,action:oP(Zj,e,false,a(true))},{keyCode:qy.DELETE,ctrlKey:true,action:oP(Zj,e,true,a(true))}],{keyCode:qy.BACKSPACE,action:oP(wB,e,false)},{keyCode:qy.DELETE,action:oP(wB,e,true)},{keyCode:qy.BACKSPACE,action:oP(UH,e,false)},{keyCode:qy.DELETE,action:oP(UH,e,true)},{keyCode:qy.BACKSPACE,action:oP(VR,e,false)},{keyCode:qy.DELETE,action:oP(VR,e,true)},{keyCode:qy.BACKSPACE,action:oP(RR,e,false)},{keyCode:qy.DELETE,action:oP(RR,e,true)},{keyCode:qy.BACKSPACE,action:oP(LH,e,false)},{keyCode:qy.DELETE,action:oP(LH,e,true)}],o).filter((t=>e.selection.isEditable())).each((t=>{o.preventDefault();const s=Wj(e,n);if(!s.isDefaultPrevented()){t();qj(e,n)}}))};const Qj=(e,t,o)=>nP([{keyCode:qy.BACKSPACE,action:oP(bB,e)},{keyCode:qy.DELETE,action:oP(bB,e)},...Kj?[{keyCode:qy.BACKSPACE,altKey:true,action:oP(FH,e)},{keyCode:qy.DELETE,altKey:true,action:oP(FH,e)},...o?[{keyCode:Xj?224:91,action:oP(FH,e)}]:[]]:[{keyCode:qy.BACKSPACE,ctrlKey:true,action:oP(FH,e)},{keyCode:qy.DELETE,ctrlKey:true,action:oP(FH,e)}]],t);const eZ=(e,t)=>{let o=false;e.on("keydown",(n=>{o=n.keyCode===qy.BACKSPACE;if(!n.isDefaultPrevented()){Jj(e,t,n)}}));e.on("keyup",(t=>{if(!t.isDefaultPrevented()){Qj(e,t,o)}o=false}))};const tZ=e=>{while(e){if(dr(e)||wr(e)&&e.data&&/[\r\n\s]/.test(e.data)){return e}e=e.nextSibling}return null};const oZ=(e,t)=>{const o=e.dom;const n=e.schema.getMoveCaretBeforeOnEnterElements();if(!t){return}if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=tZ(t.firstChild);if(e&&/^(UL|OL|DL)$/.test(e.nodeName)){t.insertBefore(o.doc.createTextNode(Ir),t.firstChild)}}const s=o.createRng();t.normalize();if(t.hasChildNodes()){const e=new cr(t,t);let o=t;let r;while(r=e.current()){if(wr(r)){s.setStart(r,0);s.setEnd(r,0);break}if(n[r.nodeName.toLowerCase()]){s.setStartBefore(r);s.setEndBefore(r);break}o=r;r=e.next()}if(!r){s.setStart(o,0);s.setEnd(o,0)}}else{if(Er(t)){if(t.nextSibling&&o.isBlock(t.nextSibling)){s.setStartBefore(t);s.setEndBefore(t)}else{s.setStartAfter(t);s.setEndAfter(t)}}else{s.setStart(t,0);s.setEnd(t,0)}}e.selection.setRng(s);Ov(e,s)};const nZ=(e,t)=>{const o=e.getRoot();let n;let s=t;while(s!==o&&s&&e.getContentEditable(s)!=="false"){if(e.getContentEditable(s)==="true"){n=s;break}s=s.parentNode}return s!==o?n:o};const sZ=e=>U.from(e.dom.getParent(e.selection.getStart(true),e.dom.isBlock));const rZ=e=>sZ(e).fold(R(""),(e=>e.nodeName.toUpperCase()));const aZ=e=>sZ(e).filter((e=>ia(yn.fromDom(e)))).isSome();const cZ=e=>{e.innerHTML='<br data-mce-bogus="1">'};const iZ=(e,t,o)=>{const n=e.dom;U.from(o.style).map(n.parseStyle).each((e=>{const o=ws(yn.fromDom(t));const s={...o,...e};n.setStyles(t,s)}));const s=U.from(o.class).map((e=>e.split(/\s+/)));const r=U.from(t.className).map((e=>oe(e.split(/\s+/),(e=>e!==""))));yo(s,r,((e,o)=>{const s=oe(o,(t=>!Y(e,t)));const r=[...e,...s];n.setAttrib(t,"class",r.join(" "))}));const a=["style","class"];const c=Oe(o,((e,t)=>!Y(a,t)));n.setAttribs(t,c)};const lZ=(e,t)=>{const o=tf(e);if(o.toLowerCase()===t.tagName.toLowerCase()){const o=of(e);iZ(e,t,o)}};const dZ=(e,t,o,n,s=true,r)=>{const a=e.dom;const c=e.schema;const i=tf(e);const l=o?o.nodeName.toUpperCase():"";let d=t;const u=c.getTextInlineElements();let f;if(r||l==="TABLE"||l==="HR"){f=a.create(r||i)}else{f=o.cloneNode(false)}let m=f;if(!s){a.setAttrib(f,"style",null);a.setAttrib(f,"class",null)}else{do{if(u[d.nodeName]){if(pp(d)||Ip(d)){continue}const e=d.cloneNode(false);a.setAttrib(e,"id","");if(f.hasChildNodes()){e.appendChild(f.firstChild);f.appendChild(e)}else{m=e;f.appendChild(e)}}}while((d=d.parentNode)&&d!==n)}lZ(e,f);cZ(m);return f};const uZ=(e,t)=>e.dom.getParent(t,Br);const fZ=(e,t,o)=>{let n=t;while(n&&n!==e&&x(n.nextSibling)){const e=n.parentElement;if(!e||!o(e)){return Br(e)}n=e}return false};const mZ=(e,t,o)=>!t&&o.nodeName.toLowerCase()===tf(e)&&e.dom.isEmpty(o)&&fZ(e.getBody(),o,(t=>Me(e.schema.getTextBlockElements(),t.nodeName.toLowerCase())));const gZ=(e,t,o)=>{var n,s,r;const a=t(tf(e));const c=uZ(e,o);if(!c){return}e.dom.insertAfter(a,c);oZ(e,a);if(((r=(s=(n=o.parentElement)===null||n===void 0?void 0:n.childNodes)===null||s===void 0?void 0:s.length)!==null&&r!==void 0?r:0)>1){e.dom.remove(o)}};const pZ=(e,t)=>e.firstChild&&e.firstChild.nodeName===t;const hZ=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e};const yZ=(e,t)=>{const o=e===null||e===void 0?void 0:e.parentNode;return E(o)&&o.nodeName===t};const bZ=e=>E(e)&&/^(OL|UL|LI)$/.test(e.nodeName);const vZ=e=>E(e)&&/^(LI|DT|DD)$/.test(e.nodeName);const kZ=e=>bZ(e)&&bZ(e.parentNode);const wZ=e=>{const t=e.parentNode;return vZ(t)?t:e};const _Z=(e,t,o)=>{let n=e[o?"firstChild":"lastChild"];while(n){if(dr(n)){break}n=n[o?"nextSibling":"previousSibling"]}return n===t};const xZ=(e,t,o,n,s)=>{const r=e.dom;const a=e.selection.getRng();const c=o.parentNode;if(o===e.getBody()||!c){return}if(kZ(o)){s="LI"}let i=t(s);if(_Z(o,n,true)&&_Z(o,n,false)){if(yZ(o,"LI")){const e=wZ(o);r.insertAfter(i,e);if(hZ(o)){r.remove(e)}else{r.remove(o)}}else{r.replace(i,o)}}else if(_Z(o,n,true)){if(yZ(o,"LI")){r.insertAfter(i,wZ(o));i.appendChild(r.doc.createTextNode(" "));i.appendChild(o)}else{c.insertBefore(i,o)}r.remove(n)}else if(_Z(o,n,false)){r.insertAfter(i,wZ(o));r.remove(n)}else{o=wZ(o);const e=a.cloneRange();e.setStartAfter(n);e.setEndAfter(o);const t=e.extractContents();if(s==="LI"&&pZ(t,"LI")){i=t.firstChild;r.insertAfter(t,o)}else{r.insertAfter(t,o);r.insertAfter(i,o)}r.remove(n)}oZ(e,i)};const CZ=e=>{Q(sr(yn.fromDom(e),Po),(e=>{const t=e.dom;t.nodeValue=wa(t.data)}))};const SZ=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"};const zZ=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t);const EZ=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t;const TZ=(e,t)=>E(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false";const OZ=(e,t,o)=>{var n;const s=[];if(!o){return}let r=o;while(r=r.firstChild){if(e.isBlock(r)){return}if(dr(r)&&!t[r.nodeName.toLowerCase()]){s.push(r)}}let a=s.length;while(a--){r=s[a];if(!r.hasChildNodes()||r.firstChild===r.lastChild&&((n=r.firstChild)===null||n===void 0?void 0:n.nodeValue)===""){e.remove(r)}else{if(zZ(e,r)){e.remove(r)}}}};const DZ=(e,t,o)=>{if(!wr(t)){return o}else if(e){return o===1&&t.data.charAt(o-1)===va?0:o}else{return o===t.data.length-1&&t.data.charAt(o)===va?t.data.length:o}};const AZ=e=>{const t=e.cloneRange();t.setStart(e.startContainer,DZ(true,e.startContainer,e.startOffset));t.setEnd(e.endContainer,DZ(false,e.endContainer,e.endOffset));return t};const NZ=e=>{let t=e;do{if(wr(t)){t.data=t.data.replace(/^[\r\n]+/,"")}t=t.firstChild}while(t)};const MZ=(e,t,o,n,s)=>{var r,a;const c=e.dom;const i=(r=nZ(c,n))!==null&&r!==void 0?r:c.getRoot();let l=c.getParent(n,c.isBlock);if(!l||!TZ(c,l)){l=l||i;if(!l.hasChildNodes()){const n=c.create(t);lZ(e,n);l.appendChild(n);o.setStart(n,0);o.setEnd(n,0);return n}let r=n;while(r&&r.parentNode!==l){r=r.parentNode}let d;while(r&&!c.isBlock(r)){d=r;r=r.previousSibling}const u=(a=d===null||d===void 0?void 0:d.parentElement)===null||a===void 0?void 0:a.nodeName;if(d&&u&&e.schema.isValidChild(u,t.toLowerCase())){const a=d.parentNode;const i=c.create(t);lZ(e,i);a.insertBefore(i,d);r=d;while(r&&!c.isBlock(r)){const e=r.nextSibling;i.appendChild(r);r=e}o.setStart(n,s);o.setEnd(n,s)}}return n};const RZ=(e,t)=>{t.normalize();const o=t.lastChild;if(!o||dr(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",true))){e.add(t,"br")}};const BZ=(e,t)=>{const o=cf(e);if(z(t)){return false}else if(v(o)){return Y(mo.explode(o),t.nodeName.toLowerCase())}else{return o}};const LZ=(e,t)=>{let o;let n;let s;let r;let a=false;const c=e.dom;const i=e.schema,l=i.getNonEmptyElements();const d=e.selection.getRng();const u=tf(e);const f=yn.fromDom(d.startContainer);const m=In(f,d.startOffset);const g=m.exists((e=>Ho(e)&&!us(e)));const p=d.collapsed&&g;const h=t=>dZ(e,o,_,w,af(e),t);const y=e=>{const t=DZ(e,o,n);if(wr(o)&&(e?t>0:t<o.data.length)){return false}if(o.parentNode===_&&a&&!e){return true}if(e&&dr(o)&&o===_.firstChild){return true}if(EZ(o,"TABLE")||EZ(o,"HR")){return a&&!e||!a&&e}const s=new cr(o,_);if(wr(o)){if(e&&t===0){s.prev()}else if(!e&&t===o.data.length){s.next()}}let r;while(r=s.current()){if(dr(r)){if(!r.getAttribute("data-mce-bogus")){const e=r.nodeName.toLowerCase();if(l[e]&&e!=="br"){return false}}}else if(wr(r)&&!ec(r.data)){return false}if(e){s.prev()}else{s.next()}}return true};const b=()=>{let t;if(/^(H[1-6]|PRE|FIGURE)$/.test(s)&&x!=="HGROUP"){t=h(u)}else{t=h()}if(BZ(e,r)&&TZ(c,r)&&c.isEmpty(_,undefined,{includeZwsp:true})){t=c.split(r,_)}else{c.insertAfter(t,_)}oZ(e,t);return t};Gb(c,d).each((e=>{d.setStart(e.startContainer,e.startOffset);d.setEnd(e.endContainer,e.endOffset)}));o=d.startContainer;n=d.startOffset;const v=!!(t&&t.shiftKey);const k=!!(t&&t.ctrlKey);if(dr(o)&&o.hasChildNodes()&&!p){a=n>o.childNodes.length-1;o=o.childNodes[Math.min(n,o.childNodes.length-1)]||o;if(a&&wr(o)){n=o.data.length}else{n=0}}const w=nZ(c,o);if(!w||SZ(e,o)){return}if(!v){o=MZ(e,u,d,o,n)}let _=c.getParent(o,c.isBlock)||c.getRoot();r=E(_===null||_===void 0?void 0:_.parentNode)?c.getParent(_.parentNode,c.isBlock):null;s=_?_.nodeName.toUpperCase():"";const x=r?r.nodeName.toUpperCase():"";if(x==="LI"&&!k){const e=r;_=e;r=e.parentNode;s=x}if(dr(r)&&mZ(e,v,_)){return gZ(e,h,_)}if(/^(LI|DT|DD)$/.test(s)&&dr(r)){if(c.isEmpty(_)){xZ(e,h,r,_,u);return}}if(!p&&(_===e.getBody()||!TZ(c,_))){return}const C=_.parentNode;let S;if(p){S=h(u);m.fold((()=>{Es(f,yn.fromDom(S))}),(e=>{Cs(e,yn.fromDom(S))}));e.selection.setCursorLocation(S,0)}else if(Sa(_)){S=La(_);if(c.isEmpty(_)){cZ(_)}lZ(e,S);oZ(e,S)}else if(y(false)){S=b()}else if(y(true)&&C){S=C.insertBefore(h(),_);const t=jn(yn.fromDom(d.startContainer))&&d.collapsed;oZ(e,EZ(_,"HR")||t?S:_)}else{const t=AZ(d).cloneRange();t.setEndAfter(_);const o=t.extractContents();CZ(o);NZ(o);S=o.firstChild;c.insertAfter(o,_);OZ(c,l,S);RZ(c,_);if(c.isEmpty(_)){cZ(_)}S.normalize();if(c.isEmpty(S)){c.remove(S);b()}else{lZ(e,S);oZ(e,S)}}c.setAttrib(S,"id","");e.dispatch("NewBlock",{newBlock:S})};const HZ="insertParagraph";const IZ={insert:LZ,fakeEventName:HZ};const PZ=(e,t,o)=>{const n=new cr(t,o);let s;const r=e.getNonEmptyElements();while(s=n.next()){if(r[s.nodeName.toLowerCase()]||wr(s)&&s.length>0){return true}}return false};const FZ=(e,t,o)=>{const n=e.dom.createRng();if(!o){n.setStartAfter(t);n.setEndAfter(t)}else{n.setStartBefore(t);n.setEndBefore(t)}e.selection.setRng(n);Ov(e,n)};const VZ=(e,t)=>{const o=e.selection;const n=e.dom;const s=o.getRng();let r;let a=false;Gb(n,s).each((e=>{s.setStart(e.startContainer,e.startOffset);s.setEnd(e.endContainer,e.endOffset)}));let c=s.startOffset;let i=s.startContainer;if(dr(i)&&i.hasChildNodes()){const e=c>i.childNodes.length-1;i=i.childNodes[Math.min(c,i.childNodes.length-1)]||i;if(e&&wr(i)){c=i.data.length}else{c=0}}let l=n.getParent(i,n.isBlock);const d=l&&l.parentNode?n.getParent(l.parentNode,n.isBlock):null;const u=d?d.nodeName.toUpperCase():"";const f=!!(t&&t.ctrlKey);if(u==="LI"&&!f){l=d}if(wr(i)&&c>=i.data.length){if(!PZ(e.schema,i,l||n.getRoot())){r=n.create("br");s.insertNode(r);s.setStartAfter(r);s.setEndAfter(r);a=true}}r=n.create("br");$d(n,s,r);FZ(e,r,a);e.undoManager.add()};const jZ=(e,t)=>{const o=yn.fromTag("br");Cs(yn.fromDom(t),o);e.undoManager.add()};const ZZ=(e,t)=>{if(!qZ(e.getBody(),t)){Ss(yn.fromDom(t),yn.fromTag("br"))}const o=yn.fromTag("br");Ss(yn.fromDom(t),o);FZ(e,o.dom,false);e.undoManager.add()};const UZ=e=>Er(e.getNode());const qZ=(e,t)=>{if(UZ(Zd.after(t))){return true}else{return dp(e,Zd.after(t)).map((e=>Er(e.getNode()))).getOr(false)}};const WZ=e=>e&&e.nodeName==="A"&&"href"in e;const $Z=e=>e.fold(j,WZ,WZ,j);const GZ=e=>{const t=H(rx,e);const o=Zd.fromRangeStart(e.selection.getRng());return UB(t,e.getBody(),o).filter($Z)};const KZ=(e,t)=>{t.fold(A,H(jZ,e),H(ZZ,e),A)};const YZ=(e,t)=>{const o=GZ(e);if(o.isSome()){o.each(H(KZ,e))}else{VZ(e,t)}};const XZ="insertLineBreak";const JZ={insert:YZ,fakeEventName:XZ};const QZ=(e,t)=>sZ(e).filter((e=>t.length>0&&vn(yn.fromDom(e),t))).isSome();const eU=e=>QZ(e,sf(e));const tU=e=>QZ(e,rf(e));const oU=Ou.generate([{br:[]},{block:[]},{none:[]}]);const nU=(e,t)=>tU(e);const sU=e=>(t,o)=>aZ(t)===e;const rU=(e,t)=>(o,n)=>{const s=rZ(o)===e.toUpperCase();return s===t};const aU=e=>{const t=nZ(e.dom,e.selection.getStart());return z(t)};const cU=e=>rU("pre",e);const iU=()=>rU("summary",true);const lU=e=>(t,o)=>ef(t)===e;const dU=(e,t)=>eU(e);const uU=(e,t)=>t;const fU=e=>{const t=tf(e);const o=nZ(e.dom,e.selection.getStart());return E(o)&&e.schema.isValidChild(o.nodeName,t)};const mU=e=>{const t=e.selection.getRng();const o=yn.fromDom(t.startContainer);const n=In(o,t.startOffset);const s=n.map((e=>Ho(e)&&!us(e)));return t.collapsed&&s.getOr(true)};const gU=(e,t)=>(o,n)=>{const s=se(e,((e,t)=>e&&t(o,n)),true);return s?U.some(t):U.none()};const pU=(e,t)=>RB([gU([nU],oU.none()),gU([cU(true),aU],oU.none()),gU([iU()],oU.br()),gU([cU(true),lU(false),uU],oU.br()),gU([cU(true),lU(false)],oU.block()),gU([cU(true),lU(true),uU],oU.block()),gU([cU(true),lU(true)],oU.br()),gU([sU(true),uU],oU.br()),gU([sU(true)],oU.block()),gU([dU],oU.br()),gU([uU],oU.br()),gU([fU],oU.block()),gU([mU],oU.block())],[e,!!(t&&t.shiftKey)]).getOr(oU.none());const hU=(e,t,o)=>{if(!t.selection.isCollapsed()){px(t)}if(E(o)){const o=Wj(t,e.fakeEventName);if(o.isDefaultPrevented()){return}}e.insert(t,o);if(E(o)){qj(t,e.fakeEventName)}};const yU=(e,t)=>{const o=()=>hU(JZ,e,t);const n=()=>hU(IZ,e,t);const s=pU(e,t);switch(nf(e)){case"linebreak":s.fold(o,o,A);break;case"block":s.fold(n,n,A);break;case"invert":s.fold(n,o,A);break;default:s.fold(o,n,A);break}};const bU=Gt();const vU=bU.os.isiOS()&&bU.browser.isSafari();const kU=(e,t)=>{if(t.isDefaultPrevented()){return}t.preventDefault();qD(e.undoManager);e.undoManager.transact((()=>{yU(e,t)}))};const wU=e=>{if(!e.collapsed){return false}const t=e.startContainer;if(wr(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/;const n=t.data.charAt(e.startOffset-1);return o.test(n)}else{return false}};const _U=e=>{let t=U.none();const o=e=>{t=U.some(e.selection.getBookmark());e.undoManager.add()};const n=(e,o)=>{e.undoManager.undo();t.fold(A,(t=>e.selection.moveToBookmark(t)));kU(e,o);t=U.none()};e.on("keydown",(t=>{if(t.keyCode===qy.ENTER){if(vU&&wU(e.selection.getRng())){o(e)}else{kU(e,t)}}}));e.on("keyup",(o=>{if(o.keyCode===qy.ENTER){t.each((()=>n(e,o)))}}))};const xU=(e,t,o)=>{const n=to.os.isMacOS()||to.os.isiOS();nP([{keyCode:qy.END,action:oP(PI,e,true)},{keyCode:qy.HOME,action:oP(PI,e,false)},...!n?[{keyCode:qy.HOME,action:oP(FI,e,false),ctrlKey:true,shiftKey:true},{keyCode:qy.END,action:oP(FI,e,true),ctrlKey:true,shiftKey:true}]:[],{keyCode:qy.END,action:oP(cP,e,true)},{keyCode:qy.HOME,action:oP(cP,e,false)},{keyCode:qy.END,action:oP(rH,e,true,t)},{keyCode:qy.HOME,action:oP(rH,e,false,t)}],o).each((e=>{o.preventDefault()}))};const CU=(e,t)=>{e.on("keydown",(o=>{if(!o.isDefaultPrevented()){xU(e,t,o)}}))};const SU=e=>{e.on("input",(t=>{if(!t.isComposing){M_(e)}}))};const zU=Gt();const EU=(e,t,o)=>{nP([{keyCode:qy.PAGE_UP,action:oP(rH,e,false,t)},{keyCode:qy.PAGE_DOWN,action:oP(rH,e,true,t)}],o)};const TU=e=>e.stopImmediatePropagation();const OU=e=>e.keyCode===qy.PAGE_UP||e.keyCode===qy.PAGE_DOWN;const DU=(e,t,o)=>{if(o&&!e.get()){t.on("NodeChange",TU,true)}else if(!o&&e.get()){t.off("NodeChange",TU)}e.set(o)};const AU=(e,t)=>{if(zU.os.isMacOS()){return}const o=ul(false);e.on("keydown",(t=>{if(OU(t)){DU(o,e,true)}}));e.on("keyup",(n=>{if(!n.isDefaultPrevented()){EU(e,t,n)}if(OU(n)&&o.get()){DU(o,e,false);e.nodeChanged()}}))};const NU=(e,t)=>{const o=t.container();const n=t.offset();if(wr(o)){o.insertData(n,e);return U.some(Zd(o,n+e.length))}else{return Bg(t).map((o=>{const n=yn.fromText(e);if(t.isAtEnd()){Ss(o,n)}else{Cs(o,n)}return Zd(n.dom,e.length)}))}};const MU=H(NU,Ir);const RU=H(NU," ");const BU=(e,t)=>k_(e,t)?MU(t):RU(t);const LU=e=>t=>t.fold((t=>up(e.dom,Zd.before(t))),(e=>fp(e)),(e=>mp(e)),(t=>dp(e.dom,Zd.after(t))));const HU=(e,t)=>o=>k_(e,o)?MU(t):RU(t);const IU=e=>t=>{e.selection.setRng(t.toRange());e.nodeChanged()};const PU=(e,t)=>e.isEditable(e.getParent(t,"summary"));const FU=e=>{const t=Zd.fromRangeStart(e.selection.getRng());const o=yn.fromDom(e.getBody());if(e.selection.isCollapsed()){const n=H(rx,e);const s=Zd.fromRangeStart(e.selection.getRng());return UB(n,e.getBody(),s).bind(LU(o)).map((n=>()=>HU(o,t)(n).each(IU(e))))}else{return U.none()}};const VU=e=>{const t=()=>{const t=yn.fromDom(e.getBody());if(!e.selection.isCollapsed()){e.getDoc().execCommand("Delete")}const o=Zd.fromRangeStart(e.selection.getRng());BU(t,o).each(IU(e))};return vo(to.browser.isFirefox()&&e.selection.isEditable()&&PU(e.dom,e.selection.getRng().startContainer),t)};const jU=(e,t)=>{sP([{keyCode:qy.SPACEBAR,action:oP(FU,e)},{keyCode:qy.SPACEBAR,action:oP(VU,e)}],t).each((o=>{t.preventDefault();const n=Wj(e,"insertText",{data:" "});if(!n.isDefaultPrevented()){o();qj(e,"insertText",{data:" "})}}))};const ZU=e=>{e.on("keydown",(t=>{if(!t.isDefaultPrevented()){jU(e,t)}}))};const UU=e=>{if(Pm(e)){return[{keyCode:qy.TAB,action:oP(eF,e,true)},{keyCode:qy.TAB,shiftKey:true,action:oP(eF,e,false)}]}else{return[]}};const qU=(e,t)=>{nP([...UU(e)],t).each((e=>{t.preventDefault()}))};const WU=e=>{e.on("keydown",(t=>{if(!t.isDefaultPrevented()){qU(e,t)}}))};const $U=e=>{e.addShortcut("Meta+P","","mcePrint");_j(e);if(cA(e)){return ul(null)}else{const t=oH(e);TI(e);oF(e,t);eZ(e,t);_U(e);ZU(e);SU(e);WU(e);CU(e,t);AU(e,t);return t}};class GU{constructor(e){this.lastPath=[];this.editor=e;let t;const o=this;if(!("onselectionchange"in e.getDoc())){e.on("NodeChange click mouseup keyup focus",(o=>{const n=e.selection.getRng();const s={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset};if(o.type==="nodechange"||!Ib(s,t)){e.dispatch("SelectionChange")}t=s}))}e.on("contextmenu",(()=>{e.dispatch("SelectionChange")}));e.on("SelectionChange",(()=>{const t=e.selection.getStart(true);if(!t){return}if(mh(e)&&!o.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())){e.nodeChanged({selectionChange:true})}}));e.on("mouseup",(t=>{if(!t.isDefaultPrevented()&&mh(e)){if(e.selection.getNode().nodeName==="IMG"){Xv.setEditorTimeout(e,(()=>{e.nodeChanged()}))}else{e.nodeChanged()}}}))}nodeChanged(e={}){const t=this.editor.selection;let o;if(this.editor.initialized&&t&&!Yf(this.editor)&&!this.editor.mode.isReadOnly()){const n=this.editor.getBody();o=t.getStart(true)||n;if(o.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(o,n)){o=n}const s=[];this.editor.dom.getParent(o,(e=>{if(e===n){return true}else{s.push(e);return false}}));this.editor.dispatch("NodeChange",{...e,element:o,parents:s})}}isSameElementPath(e){let t;const o=this.editor;const n=ue(o.dom.getParents(e,Z,o.getBody()));if(n.length===this.lastPath.length){for(t=n.length;t>=0;t--){if(n[t]!==this.lastPath[t]){break}}if(t===-1){this.lastPath=n;return true}}this.lastPath=n;return false}}const KU=Gl("image");const YU=e=>{const t=e;return U.from(t[KU])};const XU=(e,t)=>{const o=e;o[KU]=t};const JU=Gl("event");const QU=e=>{const t=e;return U.from(t[JU])};const eq=e=>t=>{const o=t;o[JU]=e};const tq=(e,t)=>eq(t)(e);const oq=eq(0);const nq=eq(2);const sq=eq(1);const rq=e=>t=>{const o=t;return U.from(o[JU]).exists((t=>t===e))};const aq=rq(0);const cq=()=>Object.freeze({length:0,item:e=>null});const iq=Gl("mode");const lq=e=>{const t=e;return U.from(t[iq])};const dq=e=>t=>{const o=t;o[iq]=e};const uq=(e,t)=>dq(t)(e);const fq=dq(0);const mq=dq(2);const gq=dq(1);const pq=e=>t=>{const o=t;return U.from(o[iq]).exists((t=>t===e))};const hq=pq(0);const yq=pq(1);const bq=(e,t)=>({...t,get length(){return t.length},add:(o,n)=>{if(hq(e)){if(v(o)){if(!S(n)){return t.add(o,n)}}else{return t.add(o)}}return null},remove:o=>{if(hq(e)){t.remove(o)}},clear:()=>{if(hq(e)){t.clear()}}});const vq=["none","copy","link","move"];const kq=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"];const wq=()=>{const e=new window.DataTransfer;let t="move";let o="all";const n={get dropEffect(){return t},set dropEffect(e){if(Y(vq,e)){t=e}},get effectAllowed(){return o},set effectAllowed(e){if(aq(n)&&Y(kq,e)){o=e}},get items(){return bq(n,e.items)},get files(){if(yq(n)){return cq()}else{return e.files}},get types(){return e.types},setDragImage:(t,o,s)=>{if(hq(n)){XU(n,{image:t,x:o,y:s});e.setDragImage(t,o,s)}},getData:t=>{if(yq(n)){return""}else{return e.getData(t)}},setData:(t,o)=>{if(hq(n)){e.setData(t,o)}},clearData:t=>{if(hq(n)){e.clearData(t)}}};fq(n);return n};const _q=e=>{const t=wq();const o=lq(e);mq(e);oq(t);t.dropEffect=e.dropEffect;t.effectAllowed=e.effectAllowed;YU(e).each((e=>t.setDragImage(e.image,e.x,e.y)));Q(e.types,(o=>{if(o!=="Files"){t.setData(o,e.getData(o))}}));Q(e.files,(e=>t.items.add(e)));QU(e).each((e=>{tq(t,e)}));o.each((o=>{uq(e,o);uq(t,o)}));return t};const xq=e=>{const t=e.getData("text/html");return t===""?U.none():U.some(t)};const Cq=(e,t)=>e.setData("text/html",t);const Sq="x-tinymce/html";const zq=R(Sq);const Eq="\x3c!-- "+Sq+" --\x3e";const Tq=e=>Eq+e;const Oq=e=>e.replace(Eq,"");const Dq=e=>e.indexOf(Eq)!==-1;const Aq=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e);const Nq=(e,t)=>{let o="<"+e;const n=De(t,((e,t)=>t+'="'+fi.encodeAllRaw(e)+'"'));if(n.length){o+=" "+n.join(" ")}return o+">"};const Mq=(e,t,o)=>{const n=e.split(/\n\n/);const s=Nq(t,o);const r="</"+t+">";const a=J(n,(e=>e.split(/\n/).join("<br />")));const c=e=>s+e+r;return a.length===1?a[0]:J(a,c).join("")};const Rq="%MCEPASTEBIN%";const Bq=(e,t)=>{const{dom:o,selection:n}=e;const s=e.getBody();t.set(n.getRng());const r=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:true,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Rq);if(to.browser.isFirefox()){o.setStyle(r,"left",o.getStyle(s,"direction",true)==="rtl"?65535:-65535)}o.bind(r,"beforedeactivate focusin focusout",(e=>{e.stopPropagation()}));r.focus();n.select(r,true)};const Lq=(e,t)=>{const o=e.dom;if(Hq(e)){let n;const s=t.get();while(n=Hq(e)){o.remove(n);o.unbind(n)}if(s){e.selection.setRng(s)}}t.set(null)};const Hq=e=>e.dom.get("mcepastebin");const Iq=e=>E(e)&&e.id==="mcepastebin";const Pq=e=>{const t=e.dom;const o=(e,o)=>{e.appendChild(o);t.remove(o,true)};const[n,...s]=oe(e.getBody().childNodes,Iq);Q(s,(e=>{o(n,e)}));const r=t.select("div[id=mcepastebin]",n);for(let e=r.length-1;e>=0;e--){const s=t.create("div");n.insertBefore(s,r[e]);o(s,r[e])}return n?n.innerHTML:""};const Fq=e=>e===Rq;const Vq=e=>{const t=ul(null);return{create:()=>Bq(e,t),remove:()=>Lq(e,t),getEl:()=>Hq(e),getHtml:()=>Pq(e),getLastRng:t.get}};const jq=(e,t)=>{mo.each(t,(t=>{if(b(t,RegExp)){e=e.replace(t,"")}else{e=e.replace(t[0],t[1])}}));return e};const Zq=e=>{const t=Ai();const o=NO({},t);let n="";const s=t.getVoidElements();const r=mo.makeMap("script noscript style textarea video audio iframe object"," ");const a=t.getBlockElements();const c=e=>{const o=e.name,i=e;if(o==="br"){n+="\n";return}if(o==="wbr"){return}if(s[o]){n+=" "}if(r[o]){n+=" ";return}if(e.type===3){n+=e.value}if(!(e.name in t.getVoidElements())){let t=e.firstChild;if(t){do{c(t)}while(t=t.next)}}if(a[o]&&i.next){n+="\n";if(o==="p"){n+="\n"}}};e=jq(e,[/<!\[[^\]]+\]>/g]);c(o.parse(e));return n};const Uq=e=>{const t=(e,t,o)=>{if(!t&&!o){return" "}return Ir};e=jq(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i]);return e};const qq=e=>{let t=0;return()=>e+t++};const Wq=e=>{const t=e.toLowerCase();const o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return mo.hasOwn(o,t)?"image/"+o[t]:"image/"+t};const $q=(e,t)=>{const o=NO({sanitize:Nm(e)},e.schema);o.addNodeFilter("meta",(e=>{mo.each(e,(e=>{e.remove()}))}));const n=o.parse(t,{forced_root_block:false,isRootContent:true});return kw({validate:true},e.schema).serialize(n)};const Gq=(e,t)=>({content:e,cancelled:t});const Kq=(e,t,o)=>{const n=e.dom.create("div",{style:"display:none"},t);const s=jy(e,n,o);return Gq(s.node.innerHTML,s.isDefaultPrevented())};const Yq=(e,t,o)=>{const n=Vy(e,t,o);const s=$q(e,n.content);if(e.hasEventListeners("PastePostProcess")&&!n.isDefaultPrevented()){return Kq(e,s,o)}else{return Gq(s,n.isDefaultPrevented())}};const Xq=(e,t,o)=>Yq(e,t,o);const Jq=(e,t)=>{e.insertContent(t,{merge:km(e),paste:true});return true};const Qq=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e);const eW=(e,t)=>Qq(t)&&X(Im(e),(e=>dt(t.toLowerCase(),`.${e.toLowerCase()}`)));const tW=(e,t,o)=>{e.undoManager.extra((()=>{o(e,t)}),(()=>{e.insertContent('<img src="'+t+'">')}));return true};const oW=(e,t,o)=>{e.undoManager.extra((()=>{o(e,t)}),(()=>{e.execCommand("mceInsertLink",false,t)}));return true};const nW=(e,t,o)=>!e.selection.isCollapsed()&&Qq(t)?oW(e,t,o):false;const sW=(e,t,o)=>eW(e,t)?tW(e,t,o):false;const rW=(e,t)=>{mo.each([nW,sW,Jq],(o=>!o(e,t,Jq)))};const aW=(e,t,o)=>{if(o||!wm(e)){Jq(e,t)}else{rW(e,t)}};const cW=qq("mceclip");const iW=e=>{const t=wq();Cq(t,e);mq(t);return t};const lW=(e,t,o,n,s)=>{const r=Xq(e,t,o);if(!r.cancelled){const t=r.content;const o=()=>aW(e,t,n);if(s){const n=Wj(e,"insertFromPaste",{dataTransfer:iW(t)});if(!n.isDefaultPrevented()){o();qj(e,"insertFromPaste")}}else{o()}}};const dW=(e,t,o,n)=>{const s=o?o:Dq(t);lW(e,Oq(t),s,false,n)};const uW=(e,t,o)=>{const n=e.dom.encode(t).replace(/\r\n/g,"\n");const s=rc(n,xm(e));const r=Mq(s,tf(e),of(e));lW(e,r,false,true,o)};const fW=e=>{const t={};if(e&&e.types){for(let o=0;o<e.types.length;o++){const n=e.types[o];try{t[n]=e.getData(n)}catch(e){t[n]=""}}}return t};const mW=(e,t)=>t in e&&e[t].length>0;const gW=e=>mW(e,"text/html")||mW(e,"text/plain");const pW=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return E(o)?e.dom.encode(o[1]):undefined};const hW=(e,t,o,n)=>{const s=cW();const r=df(e)&&E(o.name);const a=r?pW(e,o.name):s;const c=r?o.name:undefined;const i=t.create(s,o,n,a,c);t.add(i);return i};const yW=(e,t)=>{FE(t.uri).each((({data:o,type:n,base64Encoded:s})=>{const r=s?o:btoa(o);const a=t.file;const c=e.editorUpload.blobCache;const i=c.getByData(r,n);const l=i!==null&&i!==void 0?i:hW(e,c,a,r);dW(e,`<img src="${l.blobUri()}">`,false,true)}))};const bW=e=>e.type==="paste";const vW=e=>Promise.all(J(e,(e=>UE(e).then((t=>({file:e,uri:t}))))));const kW=e=>{const t=Im(e);return e=>lt(e.type,"image/")&&X(t,(t=>Wq(t)===e.type))};const wW=(e,t)=>{const o=t.items?le(be(t.items),(e=>e.kind==="file"?[e.getAsFile()]:[])):[];const n=t.files?be(t.files):[];return oe(o.length>0?o:n,kW(e))};const _W=(e,t,o)=>{const n=bW(t)?t.clipboardData:t.dataTransfer;if(gm(e)&&n){const s=wW(e,n);if(s.length>0){t.preventDefault();vW(s).then((t=>{if(o){e.selection.setRng(o)}Q(t,(t=>{yW(e,t)}))}));return true}}return false};const xW=e=>{var t,o;return to.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0};const CW=e=>qy.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45;const SW=(e,t,o,n,s)=>{let r=Uq(o);const a=mW(t,zq())||Dq(o);const c=!a&&Aq(r);const i=Qq(r);if(Fq(r)||!r.length||c&&!i){n=true}if(n||i){if(mW(t,"text/plain")&&c){r=t["text/plain"]}else{r=Zq(r)}}if(Fq(r)){return}if(n){uW(e,r,s)}else{dW(e,r,a,s)}};const zW=(e,t,o)=>{let n;const s=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",(e=>{if(CW(e)&&!e.isDefaultPrevented()){n=e.shiftKey&&e.keyCode===86}}));e.on("paste",(r=>{if(r.isDefaultPrevented()||xW(r)){return}const a=o.get()==="text"||n;n=false;const c=fW(r.clipboardData);if(!gW(c)&&_W(e,r,s())){return}if(mW(c,"text/html")){r.preventDefault();SW(e,c,c["text/html"],a,true)}else if(mW(c,"text/plain")&&mW(c,"text/uri-list")){r.preventDefault();SW(e,c,c["text/plain"],a,true)}else{t.create();Xv.setEditorTimeout(e,(()=>{const o=t.getHtml();t.remove();SW(e,c,o,a,false)}),0)}}))};const EW=e=>{const t=e=>lt(e,"webkit-fake-url");const o=e=>lt(e,"data:");const n=e=>{var t;return((t=e.data)===null||t===void 0?void 0:t.paste)===true};e.parser.addNodeFilter("img",((s,r,a)=>{if(!gm(e)&&n(a)){for(const n of s){const s=n.attr("src");if(v(s)&&!n.attr("data-mce-object")&&s!==to.transparentSrc){if(t(s)){n.remove()}else if(!Cm(e)&&o(s)){n.remove()}}}}}))};const TW=(e,t,o)=>{zW(e,t,o);EW(e)};const OW=(e,t)=>{if(t.get()==="text"){t.set("html");Zy(e,false)}else{t.set("text");Zy(e,true)}e.focus()};const DW=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",(()=>{OW(e,t)}));e.addCommand("mceInsertClipboardContent",((t,o)=>{if(o.html){dW(e,o.html,o.internal,false)}if(o.text){uW(e,o.text,false)}}))};const AW=(e,t,o)=>{if(e){try{e.clearData();e.setData("text/html",t);e.setData("text/plain",o);e.setData(zq(),t);return true}catch(e){return false}}else{return false}};const NW=(e,t,o,n)=>{if(AW(e.clipboardData,t.html,t.text)){e.preventDefault();n()}else{o(t.html,n)}};const MW=e=>(t,o)=>{const{dom:n,selection:s}=e;const r=n.create("div",{contenteditable:"false","data-mce-bogus":"all"});const a=n.create("div",{contenteditable:"true"},t);n.setStyles(r,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"});r.appendChild(a);n.add(e.getBody(),r);const c=s.getRng();a.focus();const i=n.createRng();i.selectNodeContents(a);s.setRng(i);Xv.setEditorTimeout(e,(()=>{s.setRng(c);n.remove(r);o()}),0)};const RW=e=>({html:Tq(e.selection.getContent({contextual:true})),text:e.selection.getContent({format:"text"})});const BW=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody());const LW=e=>!e.selection.isCollapsed()||BW(e);const HW=e=>t=>{if(!t.isDefaultPrevented()&&LW(e)){NW(t,RW(e),MW(e),(()=>{if(to.browser.isChromium()||to.browser.isFirefox()){const t=e.selection.getRng();Xv.setEditorTimeout(e,(()=>{e.selection.setRng(t);e.execCommand("Delete")}),0)}else{e.execCommand("Delete")}}))}};const IW=e=>t=>{if(!t.isDefaultPrevented()&&LW(e)){NW(t,RW(e),MW(e),A)}};const PW=e=>{e.on("cut",HW(e));e.on("copy",IW(e))};const FW=(e,t)=>{var o,n;return Xb.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(n=t.clientY)!==null&&n!==void 0?n:0,e.getDoc())};const VW=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:false};const jW=(e,t)=>{e.focus();if(t){e.selection.setRng(t)}};const ZW=e=>X(e.files,(e=>/^image\//.test(e.type)));const UW=(e,t,o,n)=>{const s=e.getParent(o,(e=>Dc(t,e)));const r=!x(e.getParent(o,"summary"));if(r){return true}else if(s&&Me(n,"text/html")){const e=(new DOMParser).parseFromString(n["text/html"],"text/html").body;return!x(e.querySelector(s.nodeName.toLowerCase()))}else{return false}};const qW=e=>{e.on("input",(t=>{const o=e=>x(e.querySelector("summary"));if(t.inputType==="deleteByDrag"){const t=oe(e.dom.select("details"),o);Q(t,(t=>{if(Er(t.firstChild)){t.firstChild.remove()}const o=e.dom.create("summary");o.appendChild(ha().dom);t.prepend(o)}))}}))};const WW=(e,t)=>{if(mm(e)){e.on("dragend dragover draggesture dragdrop drop drag",(e=>{e.preventDefault();e.stopPropagation()}))}if(!gm(e)){e.on("drop",(e=>{const t=e.dataTransfer;if(t&&ZW(t)){e.preventDefault()}}))}e.on("drop",(o=>{if(o.isDefaultPrevented()){return}const n=FW(e,o);if(z(n)){return}const s=fW(o.dataTransfer);const r=mW(s,zq());if((!gW(s)||VW(s))&&_W(e,o,n)){return}const a=s[zq()];const c=a||s["text/html"]||s["text/plain"];const i=UW(e.dom,e.schema,n.startContainer,s);const l=t.get();if(l&&!i){return}if(c){o.preventDefault();Xv.setEditorTimeout(e,(()=>{e.undoManager.transact((()=>{if(a||l&&i){e.execCommand("Delete")}jW(e,n);const t=Uq(c);if(s["text/html"]){dW(e,t,r,true)}else{uW(e,t,true)}}))}))}}));e.on("dragstart",(e=>{t.set(true)}));e.on("dragover dragend",(o=>{if(gm(e)&&!t.get()){o.preventDefault();jW(e,FW(e,o))}if(o.type==="dragend"){t.set(false)}}));qW(e)};const $W=e=>{const t=t=>o=>{t(e,o)};const o=pm(e);if(T(o)){e.on("PastePreProcess",t(o))}const n=hm(e);if(T(n)){e.on("PastePostProcess",t(n))}};const GW=(e,t)=>{e.on("PastePreProcess",(o=>{o.content=t(e,o.content,o.internal)}))};const KW=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi;const YW=e=>mo.trim(e).replace(KW,Jp).toLowerCase();const XW=(e,t,o)=>{const n=bm(e);if(o||n==="all"||!vm(e)){return t}const s=n?n.split(/[, ]/):[];if(s&&n!=="none"){const o=e.dom,n=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,((e,t,r,a)=>{const c=o.parseStyle(o.decode(r));const i={};for(let e=0;e<s.length;e++){const t=c[s[e]];let r=t;let a=o.getStyle(n,s[e],true);if(/color/.test(s[e])){r=YW(r);a=YW(a)}if(a!==r){i[s[e]]=t}}const l=o.serializeStyle(i,"span");if(l){return t+' style="'+l+'"'+a}return t+a}))}else{t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")}t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,((e,t,o,n)=>t+' style="'+o+'"'+n));return t};const JW=e=>{if(to.browser.isChromium()||to.browser.isSafari()){GW(e,XW)}};const QW=e=>{const t=ul(false);const o=ul(_m(e)?"text":"html");const n=Vq(e);JW(e);DW(e,o);$W(e);e.on("PreInit",(()=>{PW(e);WW(e,t);TW(e,n,o)}))};const e$=e=>{e.on("click",(t=>{if(e.dom.getParent(t.target,"details")){t.preventDefault()}}))};const t$=e=>{e.parser.addNodeFilter("details",(t=>{const o=Fm(e);Q(t,(e=>{if(o==="expanded"){e.attr("open","open")}else if(o==="collapsed"){e.attr("open",null)}}))}));e.serializer.addNodeFilter("details",(t=>{const o=Vm(e);Q(t,(e=>{if(o==="expanded"){e.attr("open","open")}else if(o==="collapsed"){e.attr("open",null)}}))}))};const o$=e=>{e$(e);t$(e)};const n$=Er;const s$=wr;const r$=e=>Dr(e.dom);const a$=e=>Or(e.dom);const c$=e=>t=>xn(yn.fromDom(e),t);const i$=(e,t)=>ns(yn.fromDom(e),(e=>a$(e)||oa(e)),c$(t)).getOr(yn.fromDom(t)).dom;const l$=(e,t)=>ns(yn.fromDom(e),r$,c$(t));const d$=(e,t,o)=>{const n=new cr(e,t);const s=o?n.next.bind(n):n.prev.bind(n);let r=e;for(let t=o?e:s();t&&!n$(t);t=s()){if(Wa(t)){r=t}}return r};const u$=(e,t)=>{const o=Zd.fromRangeStart(e);const n=o.getNode();const s=i$(n,t);const r=d$(n,s,false);const a=d$(n,s,true);const c=document.createRange();l$(r,s).fold((()=>{if(s$(r)){c.setStart(r,0)}else{c.setStartBefore(r)}}),(e=>c.setStartBefore(e.dom)));l$(a,s).fold((()=>{if(s$(a)){c.setEnd(a,a.data.length)}else{c.setEndAfter(a)}}),(e=>c.setEndAfter(e.dom)));return c};const f$=e=>{const t=u$(e.selection.getRng(),e.getBody());e.selection.setRng(jC(t))};const m$=e=>{e.on("mousedown",(t=>{if(t.detail>=3){t.preventDefault();f$(e)}}))};var g$;(function(e){e["Before"]="before";e["After"]="after"})(g$||(g$={}));const p$=(e,t)=>Math.abs(e.left-t);const h$=(e,t)=>Math.abs(e.right-t);const y$=(e,t)=>e>=t.top&&e<=t.bottom;const b$=(e,t)=>e.top<t.bottom&&e.bottom>t.top;const v$=(e,t)=>{const o=gd(e,t)/Math.min(e.height,t.height);return b$(e,t)&&o>.5};const k$=(e,t)=>{const o=oe(e,(e=>y$(t,e)));return fd(o).fold((()=>[[],e]),(t=>{const{pass:o,fail:n}=te(e,(e=>v$(e,t)));return[o,n]}))};const w$=(e,t)=>({node:e.node,position:p$(e,t)<h$(e,t)?g$.Before:g$.After});const _$=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t));const x$=(e,t,o)=>{const n=e=>{if(Wa(e.node)){return U.some(e)}else if(dr(e.node)){return x$(be(e.node.childNodes),t,o)}else{return U.none()}};const s=(e,s)=>{if(e.length>=2){const r=n(e[0]).getOr(e[0]);const a=n(e[1]).getOr(e[1]);const c=Math.abs(s(r,t,o)-s(a,t,o));if(c<2){if(wr(r.node)){return U.some(r)}else if(wr(a.node)){return U.some(a)}}}return U.none()};const r=(e,r)=>{const a=ge(e,((e,n)=>r(e,t,o)-r(n,t,o)));return s(a,r).orThunk((()=>ve(a,n)))};const[a,c]=k$(TL(e),o);const{pass:i,fail:l}=te(c,(e=>e.top<o));return r(a,_$).orThunk((()=>r(l,md))).orThunk((()=>r(i,md)))};const C$=(e,t,o,n)=>{const s=(t,r)=>{const a=e=>dr(e)&&e.classList.contains("mce-drag-container");const c=oe(t.dom.childNodes,I(a));return r.fold((()=>x$(c,o,n)),(e=>{const t=oe(c,(t=>t!==e.dom));return x$(t,o,n)})).orThunk((()=>{const o=xn(t,e)?U.none():Dn(t);return o.bind((e=>s(e,U.some(t))))}))};return s(t,U.none())};const S$=(e,t,o)=>{const n=yn.fromDom(e);const s=zn(n);const r=yn.fromPoint(s,t,o).filter((e=>Cn(n,e)));const a=r.getOr(n);return C$(n,a,t,o)};const z$=(e,t,o)=>S$(e,t,o).filter((e=>lg(e.node))).map((e=>w$(e,t)));const E$=e=>{var t,o;const n=e.getBoundingClientRect();const s=e.ownerDocument;const r=s.documentElement;const a=s.defaultView;return{top:n.top+((t=a===null||a===void 0?void 0:a.scrollY)!==null&&t!==void 0?t:0)-r.clientTop,left:n.left+((o=a===null||a===void 0?void 0:a.scrollX)!==null&&o!==void 0?o:0)-r.clientLeft}};const T$=e=>e.inline?E$(e.getBody()):{left:0,top:0};const O$=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}};const D$=e=>{const t=e.getBody(),o=e.getDoc().documentElement;const n={left:t.scrollLeft,top:t.scrollTop};const s={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?n:s};const A$=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=E$(e.getContentAreaContainer());const n=D$(e);return{left:t.pageX-o.left+n.left,top:t.pageY-o.top+n.top}}return{left:t.pageX,top:t.pageY}};const N$=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top});const M$=(e,t)=>N$(T$(e),O$(e),A$(e,t));const R$=e=>({target:e,srcElement:e});const B$=(e,t,o,n)=>({...t,dataTransfer:n,type:e,...R$(o)});const L$=(e,t,o)=>{const n=P("Function not supported on simulated event.");const s={bubbles:true,cancelBubble:false,cancelable:true,composed:false,currentTarget:null,defaultPrevented:false,eventPhase:0,isTrusted:true,returnValue:false,timeStamp:0,type:e,composedPath:n,initEvent:n,preventDefault:A,stopImmediatePropagation:A,stopPropagation:A,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:false,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:false,metaKey:false,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:false,x:0,y:0,detail:0,view:null,which:0,initUIEvent:n,initMouseEvent:n,getModifierState:n,dataTransfer:o,...R$(t)};return s};const H$=(e,t)=>{const o=_q(e);if(t==="dragstart"){oq(o);fq(o)}else if(t==="drop"){nq(o);mq(o)}else{sq(o);gq(o)}return o};const I$=(e,t,o,n)=>{const s=H$(o,e);return S(n)?L$(e,t,s):B$(e,n,t,s)};const P$=32;const F$=100;const V$=8;const j$=16;const Z$=Dr;const U$=wd(Z$,Or);const q$=(e,t,o)=>Z$(o)&&o!==t&&e.isEditable(o.parentElement);const W$=(e,t,o)=>{if(z(t)){return false}else if(t===o||e.dom.isChildOf(t,o)){return false}else{return e.dom.isEditable(t)}};const $$=(e,t,o,n)=>{const s=e.dom;const r=t.cloneNode(true);s.setStyles(r,{width:o,height:n});s.setAttrib(r,"data-mce-selected",null);const a=s.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});s.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:n});s.setStyles(r,{margin:0,boxSizing:"border-box"});a.appendChild(r);return a};const G$=(e,t)=>{if(e.parentNode!==t){t.appendChild(e)}};const K$=(e,t)=>o=>()=>{const n=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:n+t,behavior:"smooth"})};const Y$=K$("left",-P$);const X$=K$("left",P$);const J$=K$("top",-P$);const Q$=K$("top",P$);const eG=(e,t,o,n,s,r,a,c,i,l,d,u)=>{let f=0,m=0;e.style.left=t.pageX+"px";e.style.top=t.pageY+"px";if(t.pageX+o>s){f=t.pageX+o-s}if(t.pageY+n>r){m=t.pageY+n-r}e.style.width=o-f+"px";e.style.height=n-m+"px";const g=i.clientHeight;const p=i.clientWidth;const h=a+i.getBoundingClientRect().top;const y=c+i.getBoundingClientRect().left;d.on((e=>{e.intervalId.clear();if(e.dragging&&u){if(a+V$>=g){e.intervalId.set(Q$(l))}else if(a-V$<=0){e.intervalId.set(J$(l))}else if(c+V$>=p){e.intervalId.set(X$(l))}else if(c-V$<=0){e.intervalId.set(Y$(l))}else if(h+j$>=window.innerHeight){e.intervalId.set(Q$(window))}else if(h-j$<=0){e.intervalId.set(J$(window))}else if(y+j$>=window.innerWidth){e.intervalId.set(X$(window))}else if(y-j$<=0){e.intervalId.set(Y$(window))}}}))};const tG=e=>{if(e&&e.parentNode){e.parentNode.removeChild(e)}};const oG=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);tG(t);if(o&&o!==e.getRoot()&&e.isEmpty(o)){ya(yn.fromDom(o))}};const nG=e=>e.button===0;const sG=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5});const rG=(e,t)=>o=>{if(nG(o)){const n=ae(t.dom.getParents(o.target),U$).getOr(null);if(E(n)&&q$(t.dom,t.getBody(),n)){const s=t.dom.getPos(n);const r=t.getBody();const a=t.getDoc().documentElement;e.set({element:n,dataTransfer:wq(),dragging:false,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?r.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?r.scrollHeight:a.offsetHeight)-2,relX:o.pageX-s.x,relY:o.pageY-s.y,width:n.offsetWidth,height:n.offsetHeight,ghost:$$(t,n,n.offsetWidth,n.offsetHeight),intervalId:Tl(F$)})}}};const aG=(e,t,o)=>{e._selectionOverrides.hideFakeCaret();z$(e.getBody(),t,o).fold((()=>e.selection.placeCaretAt(t,o)),(n=>{const s=e._selectionOverrides.showCaret(1,n.node,n.position===g$.Before,false);if(s){e.selection.setRng(s)}else{e.selection.placeCaretAt(t,o)}}))};const cG=(e,t,o,n,s)=>{if(t==="dragstart"){Cq(n,e.dom.getOuterHTML(o))}const r=I$(t,o,n,s);const a=e.dispatch(t,r);return a};const iG=(e,t)=>{const o=Dl(((e,o)=>aG(t,e,o)),0);t.on("remove",o.cancel);const n=e;return s=>e.on((e=>{const r=Math.max(Math.abs(s.screenX-e.screenX),Math.abs(s.screenY-e.screenY));if(!e.dragging&&r>10){const o=cG(t,"dragstart",e.element,e.dataTransfer,s);if(E(o.dataTransfer)){e.dataTransfer=o.dataTransfer}if(o.isDefaultPrevented()){return}e.dragging=true;t.focus()}if(e.dragging){const r=s.currentTarget===t.getDoc().documentElement;const a=sG(e,M$(t,s));G$(e.ghost,t.getBody());eG(e.ghost,a,e.width,e.height,e.maxX,e.maxY,s.clientY,s.clientX,t.getContentAreaContainer(),t.getWin(),n,r);o.throttle(s.clientX,s.clientY)}}))};const lG=e=>{const t=e.getSel();if(E(t)){const e=t.getRangeAt(0);const o=e.startContainer;return wr(o)?o.parentNode:o}else{return null}};const dG=(e,t)=>o=>{e.on((e=>{var n;e.intervalId.clear();if(e.dragging){if(W$(t,lG(t.selection),e.element)){const s=(n=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&n!==void 0?n:t.getBody();const r=cG(t,"drop",s,e.dataTransfer,o);if(!r.isDefaultPrevented()){t.undoManager.transact((()=>{oG(t.dom,e.element);xq(e.dataTransfer).each((e=>t.insertContent(e)));t._selectionOverrides.hideFakeCaret()}))}}cG(t,"dragend",t.getBody(),e.dataTransfer,o)}}));mG(e)};const uG=(e,t,o)=>{e.on((e=>{e.intervalId.clear();if(e.dragging){o.fold((()=>cG(t,"dragend",e.element,e.dataTransfer)),(o=>cG(t,"dragend",e.element,e.dataTransfer,o)))}}));mG(e)};const fG=(e,t)=>o=>uG(e,t,U.some(o));const mG=e=>{e.on((e=>{e.intervalId.clear();tG(e.ghost)}));e.clear()};const gG=e=>{const t=Ol();const o=sl.DOM;const n=document;const s=rG(t,e);const r=iG(t,e);const a=dG(t,e);const c=fG(t,e);e.on("mousedown",s);e.on("mousemove",r);e.on("mouseup",a);o.bind(n,"mousemove",r);o.bind(n,"mouseup",c);e.on("remove",(()=>{o.unbind(n,"mousemove",r);o.unbind(n,"mouseup",c)}));e.on("keydown",(o=>{if(o.keyCode===qy.ESC){uG(t,e,U.none())}}))};const pG=e=>{const t=t=>{if(!t.isDefaultPrevented()){const o=t.dataTransfer;if(o&&(Y(o.types,"Files")||o.files.length>0)){t.preventDefault();if(t.type==="drop"){lM(e,"Dropped file type is not supported")}}}};const o=o=>{if(ck(e,o.target)){t(o)}};const n=()=>{const n=sl.DOM;const s=e.dom;const r=document;const a=e.inline?e.getBody():e.getDoc();const c=["drop","dragover"];Q(c,(e=>{n.bind(r,e,o);s.bind(a,e,t)}));e.on("remove",(()=>{Q(c,(e=>{n.unbind(r,e,o);s.unbind(a,e,t)}))}))};e.on("init",(()=>{Xv.setEditorTimeout(e,n,0)}))};const hG=e=>{gG(e);if(om(e)){pG(e)}};const yG=e=>{const t=Dl((()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const o=WR(e,t,false);e.selection.setRng(o)}}}),0);e.on("focus",(()=>{t.throttle()}));e.on("blur",(()=>{t.cancel()}))};const bG=e=>{e.on("init",(()=>{e.on("focusin",(t=>{const o=t.target;if(Mr(o)){const t=kC(e.getBody(),o);const n=Dr(t)?t:o;if(e.selection.getNode()!==n){UR(e,n).each((t=>e.selection.setRng(t)))}}}))}))};const vG=Dr;const kG=(e,t)=>kC(e.getBody(),t);const wG=e=>{const t=e.selection,o=e.dom;const n=e.getBody();const s=ag(e,n,o.isBlock,(()=>wk(e)));const r="sel-"+o.uniqueId();const a="data-mce-selected";let c;const i=e=>E(e)&&o.hasClass(e,"mce-offscreen-selection");const l=e=>e!==n&&(vG(e)||Mr(e))&&o.isChildOf(e,n)&&o.isEditable(e.parentNode);const d=e=>{if(e){t.setRng(e)}};const u=(o,n,r,a=true)=>{const c=e.dispatch("ShowCaret",{target:n,direction:o,before:r});if(c.isDefaultPrevented()){return null}if(a){t.scrollIntoView(n,o===-1)}return s.show(r,n)};const f=e=>{if(e.hasAttribute("data-mce-caret")){La(e);t.scrollIntoView(e)}};const m=()=>{e.on("click",(t=>{if(!o.isEditable(t.target)){t.preventDefault();e.focus()}}));e.on("blur NewBlock",k);e.on("ResizeWindow FullscreenStateChanged",s.reposition);e.on("tap",(t=>{const o=t.target;const n=kG(e,o);if(vG(n)){t.preventDefault();UR(e,n).each(v)}else if(l(o)){UR(e,o).each(v)}}),true);e.on("mousedown",(t=>{const s=t.target;if(s!==n&&s.nodeName!=="HTML"&&!o.isChildOf(s,n)){return}if(!QN(e,t.clientX,t.clientY)){return}k();_();const r=kG(e,s);if(vG(r)){t.preventDefault();UR(e,r).each(v)}else{z$(n,t.clientX,t.clientY).each((o=>{t.preventDefault();const n=u(1,o.node,o.position===g$.Before,false);d(n);if(dr(r)){r.focus()}else{e.getBody().focus()}}))}}));e.on("keypress",(e=>{if(qy.modifierPressed(e)){return}if(vG(t.getNode())){e.preventDefault()}}));e.on("GetSelectionRange",(e=>{let t=e.range;if(c){if(!c.parentNode){c=null;return}t=t.cloneRange();t.selectNode(c);e.range=t}}));e.on("SetSelectionRange",(e=>{e.range=h(e.range);const t=v(e.range,e.forward);if(t){e.range=t}}));const r=e=>dr(e)&&e.id==="mcepastebin";e.on("AfterSetSelectionRange",(e=>{const t=e.range;const o=t.startContainer.parentElement;if(!p(t)&&!r(o)){_()}if(!i(o)){k()}}));hG(e);yG(e);bG(e)};const g=e=>Ea(e)||Ma(e)||Ra(e);const p=e=>g(e.startContainer)||g(e.endContainer);const h=t=>{const n=e.schema.getVoidElements();const s=o.createRng();const r=t.startContainer;const a=t.startOffset;const c=t.endContainer;const i=t.endOffset;if(Me(n,r.nodeName.toLowerCase())){if(a===0){s.setStartBefore(r)}else{s.setStartAfter(r)}}else{s.setStart(r,a)}if(Me(n,c.nodeName.toLowerCase())){if(i===0){s.setEndBefore(c)}else{s.setEndAfter(c)}}else{s.setEnd(c,i)}return s};const y=(n,s)=>{const a=yn.fromDom(e.getBody());const c=e.getDoc();const i=is(a,"#"+r).getOrThunk((()=>{const e=yn.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',c);Uo(e,"id",r);Es(a,e);return e}));const l=o.createRng();As(i);Ds(i,[yn.fromText(Ir,c),yn.fromDom(s),yn.fromText(Ir,c)]);l.setStart(i.dom.firstChild,1);l.setEnd(i.dom.lastChild,0);ys(i,{top:o.getPos(n,e.getBody()).y+"px"});Dv(i);const d=t.getSel();if(d){d.removeAllRanges();d.addRange(l)}return l};const b=t=>{const n=t.cloneNode(true);const s=e.dispatch("ObjectSelected",{target:t,targetClone:n});if(s.isDefaultPrevented()){return null}const r=y(t,s.targetClone);const i=yn.fromDom(t);Q(rr(yn.fromDom(e.getBody()),`*[${a}]`),(e=>{if(!xn(i,e)){Ko(e,a)}}));if(!o.getAttrib(t,a)){t.setAttribute(a,"1")}c=t;_();return r};const v=(e,t)=>{if(!e){return null}if(e.collapsed){if(!p(e)){const s=t?1:-1;const r=Rg(s,n,e);const a=r.getNode(!t);if(E(a)){if(lg(a)){return u(s,a,t?!r.isAtEnd():false,false)}if(za(a)&&Dr(a.nextSibling)){const e=o.createRng();e.setStart(a,0);e.setEnd(a,0);return e}}const c=r.getNode(t);if(E(c)){if(lg(c)){return u(s,c,t?false:!r.isAtEnd(),false)}if(za(c)&&Dr(c.previousSibling)){const e=o.createRng();e.setStart(c,1);e.setEnd(c,1);return e}}}return null}let s=e.startContainer;let r=e.startOffset;const a=e.endOffset;if(wr(s)&&r===0&&vG(s.parentNode)){s=s.parentNode;r=o.nodeIndex(s);s=s.parentNode}if(!dr(s)){return null}if(a===r+1&&s===e.endContainer){const e=s.childNodes[r];if(l(e)){return b(e)}}return null};const k=()=>{if(c){c.removeAttribute(a)}is(yn.fromDom(e.getBody()),"#"+r).each(Ns);c=null};const w=()=>{s.destroy();c=null};const _=()=>{s.hide()};if(!cA(e)){m()}return{showCaret:u,showBlockCaretContainer:f,hideFakeCaret:_,destroy:w}};const _G=(e,t)=>{let o=t;for(let t=e.previousSibling;wr(t);t=t.previousSibling){o+=t.data.length}return o};const xG=(e,t,o,n,s)=>{if(wr(o)&&(n<0||n>o.data.length)){return[]}const r=s&&wr(o)?[_G(o,n)]:[n];let a=o;while(a!==t&&a.parentNode){r.push(e.nodeIndex(a,s));a=a.parentNode}return a===t?r.reverse():[]};const CG=(e,t,o,n,s,r,a=false)=>{const c=xG(e,t,o,n,a);const i=xG(e,t,s,r,a);return{start:c,end:i}};const SG=(e,t)=>{const o=t.slice();const n=o.pop();if(!O(n)){return U.none()}else{const t=se(o,((e,t)=>e.bind((e=>U.from(e.childNodes[t])))),U.some(e));return t.bind((e=>{if(wr(e)&&(n<0||n>e.data.length)){return U.none()}else{return U.some({node:e,offset:n})}}))}};const zG=(e,t)=>SG(e,t.start).bind((({node:o,offset:n})=>SG(e,t.end).map((({node:e,offset:t})=>{const s=document.createRange();s.setStart(o,n);s.setEnd(e,t);return s}))));const EG=(e,t,o,n=false)=>CG(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,n);const TG=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const n=t.parentNode;e.remove(t,wr(t.firstChild)&&ec(t.firstChild.data));TG(e,n,o)}};const OG=(e,t,o,n=true)=>{const s=t.startContainer.parentNode;const r=t.endContainer.parentNode;t.deleteContents();if(n&&!o(t.startContainer)){if(wr(t.startContainer)&&t.startContainer.data.length===0){e.remove(t.startContainer)}if(wr(t.endContainer)&&t.endContainer.data.length===0){e.remove(t.endContainer)}TG(e,s,o);if(s!==r){TG(e,r,o)}}};const DG=(e,t)=>U.from(e.dom.getParent(t.startContainer,e.dom.isBlock));const AG=(e,t,o)=>{const n=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:Ru(n).concat(e.blockPatterns),inlinePatterns:Bu(n).concat(e.inlinePatterns)}};const NG=(e,t,o,n)=>{const s=e.createRng();s.setStart(t,0);s.setEnd(o,n);return s.toString()};const MG=e=>/^\s[^\s]/.test(e);const RG=(e,t,o)=>{const n=iF(t,0,t);n.each((n=>{const s=n.container;dF(s,o.start.length,t).each((o=>{const n=e.createRng();n.setStart(s,0);n.setEnd(o.container,o.offset);OG(e,n,(e=>e===t))}));const r=yn.fromDom(s);const a=Zr(r);if(MG(a)){qr(r,a.slice(1))}}))};const BG=(e,t)=>{const o=e.dom;const n=t.pattern;const s=zG(o.getRoot(),t.range).getOrDie("Unable to resolve path range");const r=(e,t)=>{const o=t.get(e);return _(o)&&he(o).exists((e=>Me(e,"block")))};DG(e,s).each((t=>{if(n.type==="block-format"){if(r(n.format,e.formatter)){e.undoManager.transact((()=>{RG(e.dom,t,n);e.formatter.apply(n.format)}))}}else if(n.type==="block-command"){e.undoManager.transact((()=>{RG(e.dom,t,n);e.execCommand(n.cmd,false,n.value)}))}}));return true};const LG=e=>ge(e,((e,t)=>t.start.length-e.start.length));const HG=(e,t)=>{const o=LG(e);const n=t.replace(Ir," ");return ae(o,(e=>t.indexOf(e.start)===0||n.indexOf(e.start)===0))};const IG=(e,t,o,n)=>{var s;const r=e.dom;const a=tf(e);if(!r.is(t,a)){return[]}const c=(s=t.textContent)!==null&&s!==void 0?s:"";return HG(o.blockPatterns,c).map((e=>{if(mo.trim(c).length===e.start.length){return[]}return[{pattern:e,range:CG(r,r.getRoot(),t,0,t,0,n)}]})).getOr([])};const PG=(e,t)=>{if(t.length===0){return}const o=e.selection.getBookmark();Q(t,(t=>BG(e,t)));e.selection.moveToBookmark(o)};const FG=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t});const VG=(e,t)=>{const o=e.createRng();o.setStartAfter(t.start);o.setEndBefore(t.end);return o};const jG=(e,t,o)=>{const n=zG(e.getRoot(),o).getOrDie("Unable to resolve path range");const s=n.startContainer;const r=n.endContainer;const a=n.endOffset===0?r:r.splitText(n.endOffset);const c=n.startOffset===0?s:s.splitText(n.startOffset);const i=c.parentNode;const l=a.parentNode;return{prefix:t,end:l.insertBefore(FG(e,t+"-end"),a),start:i.insertBefore(FG(e,t+"-start"),c)}};const ZG=(e,t,o)=>{TG(e,e.get(t.prefix+"-end"),o);TG(e,e.get(t.prefix+"-start"),o)};const UG=e=>e.start.length===0;const qG=e=>(t,o)=>{const n=t.data;const s=n.substring(0,o);const r=s.lastIndexOf(e.charAt(e.length-1));const a=s.lastIndexOf(e);if(a!==-1){return a+e.length}else if(r!==-1){return r+1}else{return-1}};const WG=(e,t,o,n)=>{const s=t.start;const r=uF(e,n.container,n.offset,qG(s),o);return r.bind((n=>{var r,a;const c=(a=(r=o.textContent)===null||r===void 0?void 0:r.indexOf(s))!==null&&a!==void 0?a:-1;const i=c!==-1&&n.offset>=c+s.length;if(i){const t=e.createRng();t.setStart(n.container,n.offset-s.length);t.setEnd(n.container,n.offset);return U.some(t)}else{const r=n.offset-s.length;return lF(n.container,r,o).map((t=>{const o=e.createRng();o.setStart(t.container,t.offset);o.setEnd(n.container,n.offset);return o})).filter((e=>e.toString()===s)).orThunk((()=>WG(e,t,o,nF(n.container,0))))}}))};const $G=(e,t,o,n,s,r=false)=>{if(t.start.length===0&&!r){const t=e.createRng();t.setStart(o,n);t.setEnd(o,n);return U.some(t)}return cF(o,n,s).bind((o=>{const n=WG(e,t,s,o);return n.bind((e=>{var t;if(r){if(e.endContainer===o.container&&e.endOffset===o.offset){return U.none()}else if(o.offset===0&&((t=e.endContainer.textContent)===null||t===void 0?void 0:t.length)===e.endOffset){return U.none()}}return U.some(e)}))}))};const GG=(e,t,o,n)=>{const s=e.dom;const r=s.getRoot();const a=o.pattern;const c=o.position.container;const i=o.position.offset;return lF(c,i-o.pattern.end.length,t).bind((l=>{const d=CG(s,r,l.container,l.offset,c,i,n);if(UG(a)){return U.some({matches:[{pattern:a,startRng:d,endRng:d}],position:l})}else{const c=KG(e,o.remainingPatterns,l.container,l.offset,t,n);const i=c.getOr({matches:[],position:l});const u=i.position;const f=$G(s,a,u.container,u.offset,t,c.isNone());return f.map((e=>{const t=EG(s,r,e,n);return{matches:i.matches.concat([{pattern:a,startRng:t,endRng:d}]),position:nF(e.startContainer,e.startOffset)}}))}}))};const KG=(e,t,o,n,s,r)=>{const a=e.dom;return cF(o,n,a.getRoot()).bind((c=>{const i=NG(a,s,o,n);for(let a=0;a<t.length;a++){const l=t[a];if(!dt(i,l.end)){continue}const d=t.slice();d.splice(a,1);const u=GG(e,s,{pattern:l,remainingPatterns:d,position:c},r);if(u.isNone()&&n>0){return KG(e,t,o,n-1,s,r)}if(u.isSome()){return u}}return U.none()}))};const YG=(e,t,o)=>{e.selection.setRng(o);if(t.type==="inline-format"){Q(t.format,(t=>{e.formatter.apply(t)}))}else{e.execCommand(t.cmd,false,t.value)}};const XG=(e,t,o,n)=>{const s=VG(e.dom,o);OG(e.dom,s,n);YG(e,t,s)};const JG=(e,t,o,n,s)=>{const r=e.dom;const a=VG(r,n);const c=VG(r,o);OG(r,c,s);OG(r,a,s);const i={prefix:o.prefix,start:o.end,end:n.start};const l=VG(r,i);YG(e,t,l)};const QG=(e,t)=>{const o=Gl("mce_textpattern");const n=ne(t,((t,n)=>{const s=jG(e,o+`_end${t.length}`,n.endRng);return t.concat([{...n,endMarker:s}])}),[]);return ne(n,((t,s)=>{const r=n.length-t.length-1;const a=UG(s.pattern)?s.endMarker:jG(e,o+`_start${r}`,s.startRng);return t.concat([{...s,startMarker:a}])}),[])};const eK=e=>ge(e,((e,t)=>t.end.length-e.end.length));const tK=(e,t)=>{const o=de(e,(e=>X(t,(t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end))));if(e.length===t.length){if(o){return e}else{return t}}return e.length>t.length?e:t};const oK=(e,t,o,n,s,r)=>{const a=KG(e,s.inlinePatterns,o,n,t,r).fold((()=>[]),(e=>e.matches));const c=KG(e,eK(s.inlinePatterns),o,n,t,r).fold((()=>[]),(e=>e.matches));return tK(a,c)};const nK=(e,t)=>{if(t.length===0){return}const o=e.dom;const n=e.selection.getBookmark();const s=QG(o,t);Q(s,(t=>{const n=o.getParent(t.startMarker.start,o.isBlock);const s=e=>e===n;if(UG(t.pattern)){XG(e,t.pattern,t.endMarker,s)}else{JG(e,t.pattern,t.startMarker,t.endMarker,s)}ZG(o,t.endMarker,s);ZG(o,t.startMarker,s)}));e.selection.moveToBookmark(n)};const sK=(e,t)=>{const o=e.selection.getRng();return DG(e,o).map((n=>{var s;const r=Math.max(0,o.startOffset);const a=AG(t,n,(s=n.textContent)!==null&&s!==void 0?s:"");const c=oK(e,n,o.startContainer,r,a,true);const i=IG(e,n,a,true);if(i.length>0||c.length>0){e.undoManager.add();e.undoManager.extra((()=>{e.execCommand("mceInsertNewLine")}),(()=>{_a(e);nK(e,c);PG(e,i);const t=e.selection.getRng();const o=cF(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine");o.each((t=>{const o=t.container;if(o.data.charAt(t.offset-1)===Hr){o.deleteData(t.offset-1,1);TG(e.dom,o.parentNode,(t=>t===e.dom.getRoot()))}}))}));return true}return false})).getOr(false)};const rK=(e,t)=>{const o=e.selection.getRng();DG(e,o).map((n=>{const s=Math.max(0,o.startOffset-1);const r=NG(e.dom,n,o.startContainer,s);const a=AG(t,n,r);const c=oK(e,n,o.startContainer,s,a,false);if(c.length>0){e.undoManager.transact((()=>{nK(e,c)}))}}))};const aK=(e,t,o)=>{for(let n=0;n<e.length;n++){if(o(e[n],t)){return true}}return false};const cK=(e,t)=>aK(e,t,((e,t)=>e===t.keyCode&&!qy.modifierPressed(t)));const iK=(e,t)=>aK(e,t,((e,t)=>e.charCodeAt(0)===t.charCode));const lK=e=>{const t=[",",".",";",":","!","?"];const o=[32];const n=()=>Lu(Sm(e),zm(e));const s=()=>Rm(e);e.on("keydown",(t=>{if(t.keyCode===13&&!qy.modifierPressed(t)&&e.selection.isCollapsed()){const o=n();const r=o.inlinePatterns.length>0||o.blockPatterns.length>0||s();if(r&&sK(e,o)){t.preventDefault()}}}),true);const r=()=>{if(e.selection.isCollapsed()){const t=n();const o=t.inlinePatterns.length>0||s();if(o){rK(e,t)}}};e.on("keyup",(e=>{if(cK(o,e)){r()}}));e.on("keypress",(o=>{if(iK(t,o)){Xv.setEditorTimeout(e,r)}}))};const dK=e=>{lK(e)};const uK=e=>{const t=mo.each;const o=qy.BACKSPACE,n=qy.DELETE,s=e.dom,r=e.selection,a=e.parser;const c=to.browser;const i=c.isFirefox();const l=c.isChromium()||c.isSafari();const d=to.deviceType.isiPhone()||to.deviceType.isiPad();const u=to.os.isMacOS()||to.os.isiOS();const f=(t,o)=>{try{e.getDoc().execCommand(t,false,String(o))}catch(e){}};const m=e=>e.isDefaultPrevented();const g=()=>{const t=e=>{const t=s.create("body");const o=e.cloneContents();t.appendChild(o);return r.serializer.serialize(t,{format:"html"})};const a=o=>{const n=t(o);const r=s.createRng();r.selectNode(e.getBody());const a=t(r);return n===a};const c=e=>{const t=yn.fromDom(e);const o=e=>Dn(e).exists((e=>!us(e)));return X(rr(t,'[contenteditable="true"]'),o)};e.on("keydown",(t=>{const r=t.keyCode;if(!m(t)&&(r===n||r===o)&&e.selection.isEditable()){const o=e.selection.isCollapsed();const n=e.getBody();if(o&&(!s.isEmpty(n)||c(n))){return}if(!o&&!a(e.selection.getRng())){return}t.preventDefault();e.setContent("");if(n.firstChild&&s.isBlock(n.firstChild)){e.selection.setCursorLocation(n.firstChild,0)}else{e.selection.setCursorLocation(n,0)}e.nodeChanged()}}))};const p=()=>{e.shortcuts.add("meta+a",null,"SelectAll")};const h=()=>{if(!e.inline){s.bind(e.getDoc(),"mousedown mouseup",(t=>{let o;if(t.target===e.getDoc().documentElement){o=r.getRng();e.getBody().focus();if(t.type==="mousedown"){if(Ea(o.startContainer)){return}r.placeCaretAt(t.clientX,t.clientY)}else{r.setRng(o)}}}))}};const y=()=>{e.on("keydown",(t=>{if(!m(t)&&t.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length){return}if(r.isCollapsed()&&r.getRng().startOffset===0){const e=r.getNode();const o=e.previousSibling;if(e.nodeName==="HR"){s.remove(e);t.preventDefault();return}if(o&&o.nodeName&&o.nodeName.toLowerCase()==="hr"){s.remove(o);t.preventDefault()}}}}))};const b=()=>{if(!Range.prototype.getClientRects){e.on("mousedown",(t=>{if(!m(t)&&t.target.nodeName==="HTML"){const t=e.getBody();t.blur();Xv.setEditorTimeout(e,(()=>{t.focus()}))}}))}};const k=()=>{const t=rm(e);e.on("click",(o=>{const n=o.target;if(/^(IMG|HR)$/.test(n.nodeName)&&s.isEditable(n.parentNode)){o.preventDefault();e.selection.select(n);e.nodeChanged()}if(n.nodeName==="A"&&s.hasClass(n,t)&&n.childNodes.length===0&&s.isEditable(n.parentNode)){o.preventDefault();r.select(n)}}))};const w=()=>{const o=()=>{const o=s.getAttribs(r.getStart().cloneNode(false));return()=>{const n=r.getStart();if(n!==e.getBody()){s.setAttrib(n,"style",null);t(o,(e=>{n.setAttributeNode(e.cloneNode(true))}))}}};const n=()=>!r.isCollapsed()&&s.getParent(r.getStart(),s.isBlock)!==s.getParent(r.getEnd(),s.isBlock);e.on("keypress",(t=>{let s;if(!m(t)&&(t.keyCode===8||t.keyCode===46)&&n()){s=o();e.getDoc().execCommand("delete",false);s();t.preventDefault();return false}else{return true}}));s.bind(e.getDoc(),"cut",(t=>{if(!m(t)&&n()){const t=o();Xv.setEditorTimeout(e,(()=>{t()}))}}))};const _=()=>{e.on("keydown",(e=>{if(!m(e)&&e.keyCode===o){if(r.isCollapsed()&&r.getRng().startOffset===0){const t=r.getNode().previousSibling;if(t&&t.nodeName&&t.nodeName.toLowerCase()==="table"){e.preventDefault();return false}}}return true}))};const x=()=>{e.on("keydown",(t=>{if(m(t)||t.keyCode!==qy.BACKSPACE){return}let o=r.getRng();const n=o.startContainer;const a=o.startOffset;const c=s.getRoot();let i=n;if(!o.collapsed||a!==0){return}while(i.parentNode&&i.parentNode.firstChild===i&&i.parentNode!==c){i=i.parentNode}if(i.nodeName==="BLOCKQUOTE"){e.formatter.toggle("blockquote",undefined,i);o=s.createRng();o.setStart(n,0);o.setEnd(n,0);r.setRng(o)}}))};const C=()=>{const t=()=>{f("StyleWithCSS",false);f("enableInlineTableEditing",false);if(!Of(e)){f("enableObjectResizing",false)}};if(!Xf(e)){e.on("BeforeExecCommand mousedown",t)}};const S=()=>{const o=()=>{t(s.select("a:not([data-mce-block])"),(e=>{var t;let o=e.parentNode;const n=s.getRoot();if((o===null||o===void 0?void 0:o.lastChild)===e){while(o&&!s.isBlock(o)){if(((t=o.parentNode)===null||t===void 0?void 0:t.lastChild)!==o||o===n){return}o=o.parentNode}s.add(o,"br",{"data-mce-bogus":1})}}))};e.on("SetContent ExecCommand",(e=>{if(e.type==="setcontent"||e.command==="mceInsertLink"){o()}}))};const z=()=>{e.on("init",(()=>{f("DefaultParagraphSeparator",tf(e))}))};const E=e=>{const t=e.getBody();const o=e.selection.getRng();return o.startContainer===o.endContainer&&o.startContainer===t&&o.startOffset===0&&o.endOffset===t.childNodes.length};const T=()=>{e.on("keyup focusin mouseup",(t=>{if(!qy.modifierPressed(t)&&!E(e)){r.normalize()}}),true)};const O=()=>{e.contentStyles.push("img:-moz-broken {"+"-moz-force-broken-image-icon:1;"+"min-width:24px;"+"min-height:24px"+"}")};const D=()=>{if(!e.inline){e.on("keydown",(()=>{if(document.activeElement===document.body){e.getWin().focus()}}))}};const N=()=>{if(!e.inline){e.contentStyles.push("body {min-height: 150px}");e.on("click",(t=>{let o;if(t.target.nodeName==="HTML"){o=e.selection.getRng();e.getBody().focus();e.selection.setRng(o);e.selection.normalize();e.nodeChanged()}}))}};const M=()=>{if(u){e.on("keydown",(t=>{if(qy.metaKeyPressed(t)&&!t.shiftKey&&(t.keyCode===37||t.keyCode===39)){t.preventDefault();const o=e.selection.getSel();o.modify("move",t.keyCode===37?"backward":"forward","lineboundary")}}))}};const R=()=>{e.on("click",(e=>{let t=e.target;do{if(t.tagName==="A"){e.preventDefault();return}}while(t=t.parentNode)}));e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")};const B=()=>{e.on("init",(()=>{e.dom.bind(e.getBody(),"submit",(e=>{e.preventDefault()}))}))};const L=()=>{a.addNodeFilter("br",(e=>{let t=e.length;while(t--){if(e[t].attr("class")==="Apple-interchange-newline"){e[t].remove()}}}))};const H=A;const I=()=>{if(!i||e.removed){return false}const t=e.selection.getSel();return!t||!t.rangeCount||t.rangeCount===0};const P=()=>{if(l){h();k();B();p();if(d){D();N();R()}}if(i){b();C();O();M()}};const F=()=>{e.on("drop",(t=>{var o;const n=(o=t.dataTransfer)===null||o===void 0?void 0:o.getData("text/html");if(v(n)&&/^<img[^>]*>$/.test(n)){e.dispatch("dragend",new window.DragEvent("dragend",t))}}))};const V=()=>{x();g();if(!to.windowsPhone){T()}if(l){h();k();z();B();_();L();if(d){D();N();R()}else{p()}}if(i){y();b();w();C();S();O();M();_();F()}};if(cA(e)){P()}else{V()}return{refreshContentEditable:H,isHidden:I}};const fK=sl.DOM;const mK=(e,t)=>{const o=yn.fromDom(e.getBody());const n=Gn($n(o));const s=yn.fromTag("style");Uo(s,"type","text/css");Es(s,yn.fromText(t));Es(n,s);e.on("remove",(()=>{Ns(s)}))};const gK=e=>e.inline?e.getElement().nodeName.toLowerCase():undefined;const pK=e=>Oe(e,(e=>S(e)===false));const hK=e=>{const t=e.options.get;const o=e.editorUpload.blobCache;return pK({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:gK(e),sanitize:t("xss_sanitization"),validate:true,blob_cache:o,document:e.getDoc()})};const yK=e=>{const t=e.options.get;return pK({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})};const bK=e=>{const t=e.options.get;return{...hK(e),...yK(e),...pK({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}};const vK=e=>{const t=NO(hK(e),e.schema);t.addAttributeFilter("src,href,style,tabindex",((t,o)=>{const n=e.dom;const s="data-mce-"+o;let r=t.length;while(r--){const a=t[r];let c=a.attr(o);if(c&&!a.attr(s)){if(c.indexOf("data:")===0||c.indexOf("blob:")===0){continue}if(o==="style"){c=n.serializeStyle(n.parseStyle(c),a.name);if(!c.length){c=null}a.attr(s,c);a.attr(o,c)}else if(o==="tabindex"){a.attr(s,c);a.attr(o,null)}else{a.attr(s,e.convertURL(c,o,a.name))}}}}));t.addNodeFilter("script",(e=>{let t=e.length;while(t--){const o=e[t];const n=o.attr("type")||"no/type";if(n.indexOf("mce-")!==0){o.attr("type","mce-"+n)}}}));if(Dm(e)){t.addNodeFilter("#cdata",(t=>{var o;let n=t.length;while(n--){const s=t[n];s.type=8;s.name="#comment";s.value="[CDATA["+e.dom.encode((o=s.value)!==null&&o!==void 0?o:"")+"]]"}}))}t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(t=>{let o=t.length;const n=e.schema.getNonEmptyElements();while(o--){const e=t[o];if(e.isEmpty(n)&&e.getAll("br").length===0){e.append(new Xk("br",1))}}}));return t};const kK=e=>{const t=dm(e);if(t){Xv.setEditorTimeout(e,(()=>{let o;if(t===true){o=e}else{o=e.editorManager.get(t)}if(o&&!o.destroyed){o.focus();o.selection.scrollIntoView()}}),100)}};const wK=e=>{const t=e.dom.getRoot();if(!e.inline&&(!mh(e)||e.selection.getStart(true)===t)){fp(t).each((t=>{const o=t.getNode();const n=br(o)?fp(o).getOr(t):t;e.selection.setRng(n.toRange())}))}};const _K=e=>{e.bindPendingEventDelegates();e.initialized=true;Oy(e);e.focus(true);wK(e);e.nodeChanged({initial:true});const t=im(e);if(T(t)){t.call(e,e)}kK(e)};const xK=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader;const CK=(e,t,o)=>{const n=[xK(e).loadAll(t)];if(e.inline){return n}else{return n.concat([e.ui.styleSheetLoader.loadAll(o)])}};const SK=e=>{const t=xK(e);const o=zf(e);const n=e.contentCSS;const s=()=>{t.unloadAll(n);if(!e.inline){e.ui.styleSheetLoader.unloadAll(o)}};const r=()=>{if(e.removed){s()}else{e.on("remove",s)}};if(e.contentStyles.length>0){let t="";mo.each(e.contentStyles,(e=>{t+=e+"\r\n"}));e.dom.addStyle(t)}const a=Promise.all(CK(e,n,o)).then(r).catch(r);const c=Sf(e);if(c){mK(e,c)}return a};const zK=e=>{const t=e.getDoc(),o=e.getBody();Ey(e);if(!um(e)){t.body.spellcheck=false;fK.setAttrib(o,"spellcheck","false")}e.quirks=uK(e);Ty(e);const n=Ef(e);if(n!==undefined){o.dir=n}const s=fm(e);if(s){e.on("BeforeSetContent",(e=>{mo.each(s,(t=>{e.content=e.content.replace(t,(e=>"\x3c!--mce:protected "+escape(e)+"--\x3e"))}))}))}e.on("SetContent",(()=>{e.addVisual(e.getBody())}));e.on("compositionstart compositionend",(t=>{e.composing=t.type==="compositionstart"}))};const EK=e=>{if(!cA(e)){e.load({initial:true,format:"html"})}e.startContent=e.getContent({format:"raw"})};const TK=e=>{if(e.removed!==true){EK(e);_K(e)}};const OK=e=>{let t=false;const o=setTimeout((()=>{if(!t){e.setProgressState(true)}}),500);return()=>{clearTimeout(o);t=true;e.setProgressState(false)}};const DK=e=>{const t=e.getElement();let o=e.getDoc();if(e.inline){fK.addClass(t,"mce-content-body");e.contentDocument=o=document;e.contentWindow=window;e.bodyElement=t;e.contentAreaContainer=t}const n=e.getBody();n.disabled=true;e.readonly=Xf(e);e._editableRoot=Jf(e);if(!e.readonly&&e.hasEditableRoot()){if(e.inline&&fK.getStyle(n,"position",true)==="static"){n.style.position="relative"}n.contentEditable="true"}n.disabled=false;e.editorUpload=IM(e);e.schema=Ai(yK(e));e.dom=sl(o,{keep_values:true,url_converter:e.convertURL,url_converter_scope:e,update_styles:true,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:bf(e),referrerPolicy:vf(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)}});e.parser=vK(e);e.serializer=mN(bK(e),e);e.selection=eN(e.dom,e.getWin(),e.serializer,e);e.annotator=yy(e);e.formatter=QM(e);e.undoManager=nR(e);e._nodeChangeDispatcher=new GU(e);e._selectionOverrides=wG(e);fI(e);o$(e);CI(e);if(!cA(e)){m$(e);dK(e)}const s=$U(e);cI(e,s);kI(e);uR(e);QW(e);const r=lA(e);zK(e);r.fold((()=>{const t=OK(e);SK(e).then((()=>{TK(e);t()}))}),(t=>{e.setProgressState(true);SK(e).then((()=>{t().then((t=>{e.setProgressState(false);TK(e);HA(e)}),(t=>{e.notificationManager.open({type:"error",text:String(t)});TK(e);HA(e)}))}))}))};const AK=Z;const NK=(e,t,o)=>Zs(e,t,AK,o);const MK=sl.DOM;const RK=(e,t,o,n)=>{const s=yn.fromTag("iframe");n.each((e=>Uo(s,"tabindex",e)));qo(s,o);qo(s,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t});an(s,"tox-edit-area__iframe");return s};const BK=e=>{let t=Ku(e)+"<html><head>";if(Yu(e)!==e.documentBaseUrl){t+='<base href="'+e.documentBaseURI.getURI()+'" />'}t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Xu(e);const n=Ju(e);const s=e.translate(am(e));if(Qu(e)){t+='<meta http-equiv="Content-Security-Policy" content="'+Qu(e)+'" />'}t+="</head>"+`<body id="${o}" class="mce-content-body ${n}" data-id="${e.id}" aria-label="${s}">`+"<br>"+"</body></html>";return t};const LK=(e,t)=>{const o=e.translate("Rich Text Area");const n=$o(yn.fromDom(e.getElement()),"tabindex").bind(bt);const s=RK(e.id,o,Gu(e),n).dom;s.onload=()=>{s.onload=null;e.dispatch("load")};e.contentAreaContainer=t.iframeContainer;e.iframeElement=s;e.iframeHTML=BK(e);MK.add(t.iframeContainer,s)};const HK=e=>{const t=e.iframeElement;const o=()=>{e.contentDocument=t.contentDocument;DK(e)};if(Mm(e)||to.browser.isFirefox()){const t=e.getDoc();t.open();t.write(e.iframeHTML);t.close();o()}else{const n=NK(yn.fromDom(t),"load",(()=>{n.unbind();o()}));t.srcdoc=e.iframeHTML}};const IK=(e,t)=>{LK(e,t);if(t.editorContainer){t.editorContainer.style.display=e.orgDisplay;e.hidden=MK.isHidden(t.editorContainer)}e.getElement().style.display="none";MK.setAttrib(e.id,"aria-hidden","true");e.getElement().style.visibility=e.orgVisibility;HK(e)};const PK=sl.DOM;const FK=(e,t,o)=>{const n=sM.get(o);const s=sM.urls[o]||e.documentBaseUrl.replace(/\/$/,"");o=mo.trim(o);if(n&&mo.inArray(t,o)===-1){if(e.plugins[o]){return}try{const r=n(e,s)||{};e.plugins[o]=r;if(T(r.init)){r.init(e,s);t.push(o)}}catch(t){bM(e,o,t)}}};const VK=e=>e.replace(/^\-/,"");const jK=e=>{const t=[];Q(em(e),(o=>{FK(e,t,VK(o))}))};const ZK=e=>{const t=mo.trim(ff(e));const o=e.ui.registry.getAll().icons;const n={...jN.get("default").icons,...jN.get(t).icons};xe(n,((t,n)=>{if(!Me(o,n)){e.ui.registry.addIcon(n,t)}}))};const UK=e=>{const t=Rf(e);if(v(t)){const o=rM.get(t);e.theme=o(e,rM.urls[t])||{};if(T(e.theme.init)){e.theme.init(e,rM.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}}else{e.theme={}}};const qK=e=>{const t=Lf(e);const o=ZN.get(t);e.model=o(e,ZN.urls[t])};const WK=e=>{const t=e.theme.renderUI;return t?t():YK(e)};const $K=e=>{const t=e.getElement();const o=Rf(e);const n=o(e,t);if(n.editorContainer.nodeType){n.editorContainer.id=n.editorContainer.id||e.id+"_parent"}if(n.iframeContainer&&n.iframeContainer.nodeType){n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"}n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight;return n};const GK=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}});const KK=e=>{const t=PK.create("div");PK.insertAfter(t,e);return GK(t,t)};const YK=e=>{const t=e.getElement();return e.inline?GK(null):KK(t)};const XK=e=>{const t=e.getElement();e.orgDisplay=t.style.display;if(v(Rf(e))){return WK(e)}else if(T(Rf(e))){return $K(e)}else{return YK(e)}};const JK=(e,t)=>{const o={show:U.from(t.show).getOr(A),hide:U.from(t.hide).getOr(A),isEnabled:U.from(t.isEnabled).getOr(Z),setEnabled:o=>{if(!e.mode.isReadOnly()){U.from(t.setEnabled).each((e=>e(o)))}}};e.ui={...e.ui,...o}};const QK=async e=>{e.dispatch("ScriptsLoaded");ZK(e);UK(e);qK(e);jK(e);const t=await XK(e);JK(e,U.from(t.api).getOr({}));e.editorContainer=t.editorContainer;CM(e);if(e.inline){DK(e)}else{IK(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})}};const eY=sl.DOM;const tY=e=>e.charAt(0)==="-";const oY=(e,t)=>{const o=kf(t);const n=wf(t);if(!Sl.hasCode(o)&&o!=="en"){const s=pt(n)?n:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(s).catch((()=>{pM(t,s,o)}))}};const nY=(e,t)=>{const o=Rf(e);if(v(o)&&!tY(o)&&!Me(rM.urls,o)){const n=Bf(e);const s=n?e.documentBaseURI.toAbsolute(n):`themes/${o}/theme${t}.js`;rM.load(o,s).catch((()=>{hM(e,s,o)}))}};const sY=(e,t)=>{const o=Lf(e);if(o!=="plugin"&&!Me(ZN.urls,o)){const n=Hf(e);const s=v(n)?e.documentBaseURI.toAbsolute(n):`models/${o}/model${t}.js`;ZN.load(o,s).catch((()=>{yM(e,s,o)}))}};const rY=e=>U.from(mf(e)).filter(pt).map((e=>({url:e,name:U.none()})));const aY=(e,t,o)=>U.from(t).filter((e=>pt(e)&&!jN.has(e))).map((t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${o}.js`,name:U.some(t)})));const cY=(e,t,o)=>{const n=aY(t,"default",o);const s=rY(t).orThunk((()=>aY(t,ff(t),"")));Q(ho([n,s]),(o=>{e.add(o.url).catch((()=>{gM(t,o.url,o.name.getOrUndefined())}))}))};const iY=(e,t)=>{const o=(t,o)=>{sM.load(t,o).catch((()=>{mM(e,o,t)}))};xe(tm(e),((t,n)=>{o(n,t);e.options.set("plugins",em(e).concat(n))}));Q(em(e),(e=>{e=mo.trim(e);if(e&&!sM.urls[e]&&!tY(e)){o(e,`plugins/${e}/plugin${t}.js`)}}))};const lY=e=>{const t=Rf(e);return!v(t)||E(rM.get(t))};const dY=e=>{const t=Lf(e);return E(ZN.get(t))};const uY=(e,t)=>{const o=dl.ScriptLoader;const n=()=>{if(!e.removed&&lY(e)&&dY(e)){QK(e)}};nY(e,t);sY(e,t);oY(o,e);cY(o,e,t);iY(e,t);o.loadQueue().then(n,n)};const fY=(e,t)=>Fc.forElement(e,{contentCssCors:Qf(t),referrerPolicy:vf(t)});const mY=e=>{const t=e.id;Sl.setCode(kf(e));const o=()=>{eY.unbind(window,"ready",o);e.render()};if(!Wi.Event.domLoaded){eY.bind(window,"ready",o);return}if(!e.getElement()){return}const n=yn.fromDom(e.getElement());const s=Xo(n);e.on("remove",(()=>{ee(n.dom.attributes,(e=>Ko(n,e.name)));qo(n,s)}));e.ui.styleSheetLoader=fY(n,e);if(!Uf(e)){e.orgVisibility=e.getElement().style.visibility;e.getElement().style.visibility="hidden"}else{e.inline=true}const r=e.getElement().form||eY.getParent(t,"form");if(r){e.formElement=r;if(qf(e)&&!kr(e.getElement())){eY.insertAfter(eY.create("input",{type:"hidden",name:t}),t);e.hasHiddenInput=true}e.formEventDelegate=t=>{e.dispatch(t.type,t)};eY.bind(r,"submit reset",e.formEventDelegate);e.on("reset",(()=>{e.resetContent()}));if(Wf(e)&&!r.submit.nodeType&&!r.submit.length&&!r._mceOldSubmit){r._mceOldSubmit=r.submit;r.submit=()=>{e.editorManager.triggerSave();e.setDirty(false);return r._mceOldSubmit(r)}}}e.windowManager=cM(e);e.notificationManager=nM(e);if(Hm(e)){e.on("GetContent",(e=>{if(e.save){e.content=eY.encode(e.content)}}))}if($f(e)){e.on("submit",(()=>{if(e.initialized){e.save()}}))}if(Gf(e)){e._beforeUnload=()=>{if(e.initialized&&!e.destroyed&&!e.isHidden()){e.save({format:"raw",no_events:true,set_dirty:false})}};e.editorManager.on("BeforeUnload",e._beforeUnload)}e.editorManager.add(e);uY(e,e.suffix)};const gY=(e,t)=>{if(e._editableRoot!==t){e._editableRoot=t;if(!e.readonly){e.getBody().contentEditable=String(e.hasEditableRoot());e.nodeChanged()}Uy(e,t)}};const pY=e=>e._editableRoot;const hY=(e,t)=>({sections:R(e),options:R(t)});const yY=Gt().deviceType;const bY=yY.isPhone();const vY=yY.isTablet();const kY=e=>{if(z(e)){return[]}else{const t=_(e)?e:e.split(/[ ,]/);const o=J(t,ft);return oe(o,pt)}};const wY=(e,t)=>{const o=Te(t,((t,o)=>Y(e,o)));return hY(o.t,o.f)};const _Y=(e,t,o={})=>{const n=e.sections();const s=Ne(n,t).getOr({});return mo.extend({},o,s)};const xY=(e,t)=>Me(e.sections(),t);const CY=(e,t)=>xY(e,t)?e.sections()[t]:{};const SY=(e,t)=>{const o={table_grid:false,object_resizing:false,resize:false,toolbar_mode:Ne(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:false};const n={menubar:false};return{...o,...t?n:{}}};const zY=(e,t)=>{var o;const n=(o=t.external_plugins)!==null&&o!==void 0?o:{};if(e&&e.external_plugins){return mo.extend({},e.external_plugins,n)}else{return n}};const EY=(e,t)=>[...kY(e),...kY(t)];const TY=(e,t,o,n)=>{if(e&&xY(t,"mobile")){return n}else{return o}};const OY=(e,t,o,n)=>{const s=kY(o.forced_plugins);const r=kY(n.plugins);const a=CY(t,"mobile");const c=a.plugins?kY(a.plugins):r;const i=TY(e,t,r,c);const l=EY(s,i);return mo.extend(n,{forced_plugins:s,plugins:l})};const DY=(e,t)=>e&&xY(t,"mobile");const AY=(e,t,o,n,s)=>{var r;const a=e?{mobile:SY((r=s.mobile)!==null&&r!==void 0?r:{},t)}:{};const c=wY(["mobile"],JF(a,s));const i=mo.extend(o,n,c.options(),DY(e,c)?_Y(c,"mobile"):{},{external_plugins:zY(n,c.options())});return OY(e,c,n,i)};const NY=(e,t)=>AY(bY||vY,bY,t,e,t);const MY=(e,t)=>LA(e,t);const RY=e=>{const t=(t,o)=>{e.formatter.toggle(t,o);e.nodeChanged()};const o=o=>()=>{Q("left,center,right,justify".split(","),(t=>{if(o!==t){e.formatter.remove("align"+t)}}));if(o!=="none"){t("align"+o)}};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})};const BY=e=>{const t=t=>()=>{const o=e.selection;const n=o.isCollapsed()?[e.dom.getParent(o.getNode(),e.dom.isBlock)]:o.getSelectedBlocks();return X(n,(o=>E(e.formatter.matchNode(o,t))))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")};const LY=e=>{RY(e);BY(e)};const HY=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let n;try{o.execCommand(t)}catch(e){n=true}if(t==="paste"&&!o.queryCommandEnabled(t)){n=true}if(n||!o.queryCommandSupported(t)){let t=e.translate(`Your browser doesn't support direct access to the clipboard. `+"Please use the Ctrl+X/C/V keyboard shortcuts instead.");if(to.os.isMacOS()||to.os.isiOS()){t=t.replace(/Ctrl\+/g,"⌘+")}e.notificationManager.open({text:t,type:"error"})}}})};const IY=(e,t,o)=>{const n=yn.fromDom(e.getRoot());if(w_(n,Zd.fromRangeStart(t))){o=o.replace(/^ /,"&nbsp;")}else{o=o.replace(/^&nbsp;/," ")}if(x_(n,Zd.fromRangeEnd(t))){o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;")}else{o=o.replace(/&nbsp;(<br( \/)?>)?$/," ")}return o};const PY=e=>{if(typeof e!=="string"){const t=mo.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}};const FY=(e,t)=>{const o=e.selection;const n=e.dom;if(/^ | $/.test(t)){return IY(n,o.getRng(),t)}else{return t}};const VY=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:n}=PY(t);HO(e,{...n,content:FY(e,o),format:"html",set:false,selection:true}).each((t=>{const o=RA(e,t.content,n);IO(e,o,t);e.addVisual()}))}};const jY=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent());e.selection.moveToBookmark(t)},insertImage:(t,o,n)=>{VY(e,e.dom.createHTML("img",{src:n}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",false,"<hr>")},insertText:(t,o,n)=>{VY(e,e.dom.encode(n))},insertHTML:(t,o,n)=>{VY(e,n)},mceInsertContent:(t,o,n)=>{VY(e,n)},mceSetContent:(t,o,n)=>{e.setContent(n)},mceReplaceContent:(t,o,n)=>{e.execCommand("mceInsertContent",false,n.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(ym(e))}})};const ZY={"font-size":"size","font-family":"face"};const UY=jo("font");const qY=(e,t,o)=>{const n=t=>ks(t,e).orThunk((()=>{if(UY(t)){return Ne(ZY,e).bind((e=>$o(t,e)))}else{return U.none()}}));const s=e=>xn(yn.fromDom(t),e);return BS(yn.fromDom(o),(e=>n(e)),s)};const WY=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",");const $Y=(e,t)=>U.from(sl.DOM.getStyle(t,e,true));const GY=e=>(t,o)=>U.from(o).map(yn.fromDom).filter(Io).bind((o=>qY(e,t,o.dom).or($Y(e,o.dom)))).getOr("");const KY=GY("font-size");const YY=N(WY,GY("font-family"));const XY=e=>fp(e.getBody()).bind((e=>{const t=e.container();return U.from(wr(t)?t.parentNode:t)}));const JY=e=>U.from(e.selection.getRng()).bind((t=>{const o=e.getBody();const n=t.startContainer===o&&t.startOffset===0;return n?U.none():U.from(e.selection.getStart(true))}));const QY=(e,t)=>JY(e).orThunk(H(XY,e)).map(yn.fromDom).filter(Io).bind(t);const eX=(e,t)=>QY(e,M(U.some,t));const tX=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const n=Bm(e);const s=Lm(e);if(s.length>0){return s[o-1]||t}else{return n[o-1]||t}}else{return t}}else{return t}};const oX=e=>{const t=e.split(/\s*,\s*/);return J(t,(e=>{if(e.indexOf(" ")!==-1&&!(lt(e,'"')||lt(e,`'`))){return`'${e}'`}else{return e}})).join(",")};const nX=(e,t)=>{const o=tX(e,t);e.formatter.toggle("fontname",{value:oX(o)});e.nodeChanged()};const sX=e=>eX(e,(t=>YY(e.getBody(),t.dom))).getOr("");const rX=(e,t)=>{e.formatter.toggle("fontsize",{value:tX(e,t)});e.nodeChanged()};const aX=e=>eX(e,(t=>KY(e.getBody(),t.dom))).getOr("");const cX=e=>eX(e,(t=>{const o=yn.fromDom(e.getBody());const n=BS(t,(e=>ks(e,"line-height")),H(xn,o));const s=()=>{const e=parseFloat(bs(t,"line-height"));const o=parseFloat(bs(t,"font-size"));return String(e/o)};return n.getOrThunk(s)})).getOr("");const iX=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)});e.nodeChanged()};const lX=e=>{const t=(t,o)=>{e.formatter.toggle(t,o);e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,o,n)=>{t(e,{value:n})},BackColor:(e,o,n)=>{t("hilitecolor",{value:n})},FontName:(t,o,n)=>{nX(e,n)},FontSize:(t,o,n)=>{rX(e,n)},LineHeight:(t,o,n)=>{iX(e,n)},Lang:(e,o,n)=>{var s;t(e,{value:n.code,customValue:(s=n.customCode)!==null&&s!==void 0?s:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,o,n)=>{t(v(n)?n:"p")},mceToggleFormat:(e,o,n)=>{t(n)}})};const dX=e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state");e.editorCommands.addQueryValueHandler("FontName",(()=>sX(e)));e.editorCommands.addQueryValueHandler("FontSize",(()=>aX(e)));e.editorCommands.addQueryValueHandler("LineHeight",(()=>cX(e)))};const uX=e=>{lX(e);dX(e)};const fX=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})};const mX=e=>{e.editorCommands.addCommands({Indent:()=>{tI(e)},Outdent:()=>{oI(e)}});e.editorCommands.addCommands({Outdent:()=>YH(e)},"state")};const gX=e=>{const t=(t,o,n)=>{const s=v(n)?{href:n}:n;const r=e.dom.getParent(e.selection.getNode(),"a");if(k(s)&&v(s.href)){s.href=s.href.replace(/ /g,"%20");if(!r||!s.href){e.formatter.remove("link")}if(s.href){e.formatter.apply("link",s,r)}}};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");if(t){e.dom.remove(t,true)}return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})};const pX=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const t=o.parentNode;if(t&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){const n=e.selection.getBookmark();e.dom.split(t,o);e.selection.moveToBookmark(n)}}}})};const hX=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(t==="insertunorderedlist"&&o.tagName==="UL"||t==="insertorderedlist"&&o.tagName==="OL")}},"state")};const yX=e=>{pX(e);hX(e)};const bX=(e,t,o,n)=>{const s=e.dom;const r=e=>s.isBlock(e)&&e.parentElement===o;const a=r(t)?t:s.getParent(n,r,o);return U.from(a).map(yn.fromDom)};const vX=(e,t)=>{const o=e.dom;const n=e.selection.getRng();const s=t?e.selection.getStart():e.selection.getEnd();const r=t?n.startContainer:n.endContainer;const a=nZ(o,r);if(!a||!a.isContentEditable){return}const c=t?Cs:Ss;const i=tf(e);bX(e,s,a,r).each((t=>{const o=dZ(e,r,t.dom,a,false,i);c(t,yn.fromDom(o));e.selection.setCursorLocation(o,0);e.dispatch("NewBlock",{newBlock:o});qj(e,"insertParagraph")}))};const kX=e=>vX(e,true);const wX=e=>vX(e,false);const _X=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{kX(e)},InsertNewBlockAfter:()=>{wX(e)}})};const xX=e=>{e.editorCommands.addCommands({insertParagraph:()=>{hU(IZ,e)},mceInsertNewLine:(t,o,n)=>{yU(e,n)},InsertLineBreak:(t,o,n)=>{hU(JZ,e)}})};const CX=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,n)=>{let s=0;e.dom.getParent(e.selection.getNode(),(t=>{if(dr(t)&&s++===n){e.selection.select(t);return false}else{return true}}),e.getBody())},mceSelectNode:(t,o,n)=>{e.selection.select(n)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Or);if(t){const o=e.dom.createRng();o.selectNodeContents(t);e.selection.setRng(o)}}})};const SX=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,n)=>{const s=n!==null&&n!==void 0?n:e.selection.getNode();if(s!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(s,true);e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,n)=>{Sk(e,n===true)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual;e.addVisual()}})};const zX=e=>{LY(e);HY(e);fX(e);CX(e);jY(e);gX(e);mX(e);_X(e);xX(e);yX(e);uX(e);SX(e)};const EX=["toggleview"];const TX=e=>Y(EX,e.toLowerCase());class OX{constructor(e){this.commands={state:{},exec:{},value:{}};this.editor=e}execCommand(e,t=false,o,n){const s=this.editor;const r=e.toLowerCase();const a=n===null||n===void 0?void 0:n.skip_focus;if(s.removed){return false}if(r!=="mcefocus"){if(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(r)&&!a){s.focus()}else{Wv(s)}}const c=s.dispatch("BeforeExecCommand",{command:e,ui:t,value:o});if(c.isDefaultPrevented()){return false}const i=this.commands.exec[r];if(T(i)){i(r,t,o);s.dispatch("ExecCommand",{command:e,ui:t,value:o});return true}return false}queryCommandState(e){if(!TX(e)&&this.editor.quirks.isHidden()||this.editor.removed){return false}const t=e.toLowerCase();const o=this.commands.state[t];if(T(o)){return o(t)}return false}queryCommandValue(e){if(!TX(e)&&this.editor.quirks.isHidden()||this.editor.removed){return""}const t=e.toLowerCase();const o=this.commands.value[t];if(T(o)){return o(t)}return""}addCommands(e,t="exec"){const o=this.commands;xe(e,((e,n)=>{Q(n.toLowerCase().split(","),(n=>{o[t][n]=e}))}))}addCommand(e,t,o){const n=e.toLowerCase();this.commands.exec[n]=(e,n,s)=>t.call(o!==null&&o!==void 0?o:this.editor,n,s)}queryCommandSupported(e){const t=e.toLowerCase();if(this.commands.exec[t]){return true}else{return false}}addQueryStateHandler(e,t,o){this.commands.state[e.toLowerCase()]=()=>t.call(o!==null&&o!==void 0?o:this.editor)}addQueryValueHandler(e,t,o){this.commands.value[e.toLowerCase()]=()=>t.call(o!==null&&o!==void 0?o:this.editor)}}const DX="data-mce-contenteditable";const AX=(e,t,o)=>{if(un(e,t)&&!o){ln(e,t)}else if(o){an(e,t)}};const NX=(e,t,o)=>{try{e.getDoc().execCommand(t,false,String(o))}catch(e){}};const MX=(e,t)=>{e.dom.contentEditable=t?"true":"false"};const RX=e=>{Q(rr(e,'*[contenteditable="true"]'),(e=>{Uo(e,DX,"true");MX(e,false)}))};const BX=e=>{Q(rr(e,`*[${DX}="true"]`),(e=>{Ko(e,DX);MX(e,true)}))};const LX=e=>{U.from(e.selection.getNode()).each((e=>{e.removeAttribute("data-mce-selected")}))};const HX=e=>{e.selection.setRng(e.selection.getRng())};const IX=(e,t)=>{const o=yn.fromDom(e.getBody());AX(o,"mce-content-readonly",t);if(t){e.selection.controlSelection.hideResizeRect();e._selectionOverrides.hideFakeCaret();LX(e);e.readonly=true;MX(o,false);RX(o)}else{e.readonly=false;if(e.hasEditableRoot()){MX(o,true)}BX(o);NX(e,"StyleWithCSS",false);NX(e,"enableInlineTableEditing",false);NX(e,"enableObjectResizing",false);if(_k(e)){e.focus()}HX(e);e.nodeChanged()}};const PX=e=>e.readonly;const FX=e=>{e.parser.addAttributeFilter("contenteditable",(t=>{if(PX(e)){Q(t,(e=>{e.attr(DX,e.attr("contenteditable"));e.attr("contenteditable","false")}))}}));e.serializer.addAttributeFilter(DX,(t=>{if(PX(e)){Q(t,(e=>{e.attr("contenteditable",e.attr(DX))}))}}));e.serializer.addTempAttr(DX)};const VX=e=>{if(e.serializer){FX(e)}else{e.on("PreInit",(()=>{FX(e)}))}};const jX=e=>e.type==="click";const ZX=["copy"];const UX=e=>Y(ZX,e.type);const qX=(e,t)=>{const o=t=>xn(t,yn.fromDom(e.getBody()));return ls(t,"a",o).bind((e=>$o(e,"href")))};const WX=(e,t)=>{if(jX(t)&&!qy.metaKeyPressed(t)){const o=yn.fromDom(t.target);qX(e,o).each((o=>{t.preventDefault();if(/^#/.test(o)){const t=e.dom.select(`${o},[name="${ct(o,"#")}"]`);if(t.length){e.selection.scrollIntoView(t[0],true)}}else{window.open(o,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}}))}else if(UX(t)){e.dispatch(t.type,t)}};const $X=e=>{e.on("ShowCaret",(t=>{if(PX(e)){t.preventDefault()}}));e.on("ObjectSelected",(t=>{if(PX(e)){t.preventDefault()}}))};const GX=mo.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange "+"mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover "+"draggesture dragdrop drop drag submit "+"compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class KX{static isNative(e){return!!GX[e.toLowerCase()]}constructor(e){this.bindings={};this.settings=e||{};this.scope=this.settings.scope||this;this.toggleEvent=this.settings.toggleEvent||j}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const o=e.toLowerCase();const n=Ii(o,t!==null&&t!==void 0?t:{},this.scope);if(this.settings.beforeFire){this.settings.beforeFire(n)}const s=this.bindings[o];if(s){for(let e=0,t=s.length;e<t;e++){const t=s[e];if(t.removed){continue}if(t.once){this.off(o,t.func)}if(n.isImmediatePropagationStopped()){return n}if(t.func.call(this.scope,n)===false){n.preventDefault();return n}}}return n}on(e,t,o,n){if(t===false){t=j}if(t){const s={func:t,removed:false};if(n){mo.extend(s,n)}const r=e.toLowerCase().split(" ");let a=r.length;while(a--){const e=r[a];let t=this.bindings[e];if(!t){t=[];this.toggleEvent(e,true)}if(o){t=[s,...t]}else{t=[...t,s]}this.bindings[e]=t}}return this}off(e,t){if(e){const o=e.toLowerCase().split(" ");let n=o.length;while(n--){const s=o[n];let r=this.bindings[s];if(!s){xe(this.bindings,((e,t)=>{this.toggleEvent(t,false);delete this.bindings[t]}));return this}if(r){if(!t){r.length=0}else{const e=te(r,(e=>e.func===t));r=e.fail;this.bindings[s]=r;Q(e.pass,(e=>{e.removed=true}))}if(!r.length){this.toggleEvent(e,false);delete this.bindings[s]}}}}else{xe(this.bindings,((e,t)=>{this.toggleEvent(t,false)}));this.bindings={}}return this}once(e,t,o){return this.on(e,t,o,{once:true})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||t.length===0)}}const YX=e=>{if(!e._eventDispatcher){e._eventDispatcher=new KX({scope:e,toggleEvent:(t,o)=>{if(KX.isNative(t)&&e.toggleNativeEvent){e.toggleNativeEvent(t,o)}}})}return e._eventDispatcher};const XX={fire(e,t,o){return this.dispatch(e,t,o)},dispatch(e,t,o){const n=this;if(n.removed&&e!=="remove"&&e!=="detach"){return Ii(e.toLowerCase(),t!==null&&t!==void 0?t:{},n)}const s=YX(n).dispatch(e,t);if(o!==false&&n.parent){let t=n.parent();while(t&&!s.isPropagationStopped()){t.dispatch(e,s,false);t=t.parent?t.parent():undefined}}return s},on(e,t,o){return YX(this).on(e,t,o)},off(e,t){return YX(this).off(e,t)},once(e,t){return YX(this).once(e,t)},hasEventListeners(e){return YX(this).has(e)}};const JX=sl.DOM;let QX;const eJ=(e,t)=>{if(t==="selectionchange"){return e.getDoc()}if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t)){return e.getDoc().documentElement}const o=Nf(e);if(o){if(!e.eventRoot){e.eventRoot=JX.select(o)[0]}return e.eventRoot}return e.getBody()};const tJ=e=>!e.hidden&&!PX(e);const oJ=(e,t,o)=>{if(tJ(e)){e.dispatch(t,o)}else if(PX(e)){WX(e,o)}};const nJ=(e,t)=>{if(!e.delegates){e.delegates={}}if(e.delegates[t]||e.removed){return}const o=eJ(e,t);if(Nf(e)){if(!QX){QX={};e.editorManager.on("removeEditor",(()=>{if(!e.editorManager.activeEditor){if(QX){xe(QX,((t,o)=>{e.dom.unbind(eJ(e,o))}));QX=null}}}))}if(QX[t]){return}const n=o=>{const n=o.target;const s=e.editorManager.get();let r=s.length;while(r--){const e=s[r].getBody();if(e===n||JX.isChildOf(n,e)){oJ(s[r],t,o)}}};QX[t]=n;JX.bind(o,t,n)}else{const n=o=>{oJ(e,t,o)};JX.bind(o,t,n);e.delegates[t]=n}};const sJ={...XX,bindPendingEventDelegates(){const e=this;mo.each(e._pendingNativeEvents,(t=>{nJ(e,t)}))},toggleNativeEvent(e,t){const o=this;if(e==="focus"||e==="blur"){return}if(o.removed){return}if(t){if(o.initialized){nJ(o,e)}else{if(!o._pendingNativeEvents){o._pendingNativeEvents=[e]}else{o._pendingNativeEvents.push(e)}}}else if(o.initialized&&o.delegates){o.dom.unbind(eJ(o,e),e,o.delegates[e]);delete o.delegates[e]}},unbindAllNativeEvents(){const e=this;const t=e.getBody();const o=e.dom;if(e.delegates){xe(e.delegates,((t,o)=>{e.dom.unbind(eJ(e,o),o,t)}));delete e.delegates}if(!e.inline&&t&&o){t.onload=null;o.unbind(e.getWin());o.unbind(e.getDoc())}if(o){o.unbind(t);o.unbind(e.getContainer())}}};const rJ=e=>{if(v(e)){return{value:e.split(/[ ,]/),valid:true}}else if(D(e,v)){return{value:e,valid:true}}else{return{valid:false,message:`The value must be a string[] or a comma/space separated string.`}}};const aJ=e=>{const t=(()=>{switch(e){case"array":return _;case"boolean":return C;case"function":return T;case"number":return O;case"object":return k;case"string":return v;case"string[]":return rJ;case"object[]":return e=>D(e,k);case"regexp":return e=>b(e,RegExp);default:return Z}})();return o=>dJ(o,t,`The value must be a ${e}.`)};const cJ=e=>v(e.processor);const iJ=(e,t)=>{const o=ht(t.message)?"":`. ${t.message}`;return e+o};const lJ=e=>e.valid;const dJ=(e,t,o="")=>{const n=t(e);if(C(n)){return n?{value:e,valid:true}:{valid:false,message:o}}else{return n}};const uJ=(e,t,o)=>{if(!S(t)){const n=dJ(t,o);if(lJ(n)){return n.value}else{console.error(iJ(`Invalid default value passed for the "${e}" option`,n))}}return undefined};const fJ=(e,t)=>{const o={};const n={};const s=(e,t,o)=>{const s=dJ(t,o);if(lJ(s)){n[e]=s.value;return true}else{console.warn(iJ(`Invalid value passed for the ${e} option`,s));return false}};const r=(e,r)=>{const a=cJ(r)?aJ(r.processor):r.processor;const c=uJ(e,r.default,a);o[e]={...r,default:c,processor:a};const i=Ne(n,e).orThunk((()=>Ne(t,e)));i.each((t=>s(e,t,a)))};const a=e=>Me(o,e);const c=e=>Ne(n,e).orThunk((()=>Ne(o,e).map((e=>e.default)))).getOrUndefined();const i=(e,t)=>{if(!a(e)){console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`);return false}else{const n=o[e];if(n.immutable){console.error(`"${e}" is an immutable option and cannot be updated`);return false}else{return s(e,t,n.processor)}}};const l=e=>{const t=a(e);if(t){delete n[e]}return t};const d=e=>Me(n,e);return{register:r,isRegistered:a,get:c,set:i,unset:l,isSet:d}};const mJ=["design","readonly"];const gJ=(e,t,o,n)=>{const s=o[t.get()];const r=o[n];try{r.activate()}catch(e){console.error(`problem while activating editor mode ${n}:`,e);return}s.deactivate();if(s.editorReadOnly!==r.editorReadOnly){IX(e,r.editorReadOnly)}t.set(n);Cy(e,n)};const pJ=(e,t,o,n)=>{if(n===o.get()){return}else if(!Me(t,n)){throw new Error(`Editor mode '${n}' is invalid`)}if(e.initialized){gJ(e,o,t,n)}else{e.on("init",(()=>gJ(e,o,t,n)))}};const hJ=(e,t,o)=>{if(Y(mJ,t)){throw new Error(`Cannot override default mode ${t}`)}return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}};const yJ=e=>{const t=ul("design");const o=ul({design:{activate:A,deactivate:A,editorReadOnly:false},readonly:{activate:A,deactivate:A,editorReadOnly:true}});VX(e);$X(e);return{isReadOnly:()=>PX(e),set:n=>pJ(e,o.get(),t,n),get:()=>t.get(),register:(e,t)=>{o.set(hJ(o.get(),e,t))}}};const bJ=mo.each,vJ=mo.explode;const kJ={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123};const wJ=mo.makeMap("alt,ctrl,shift,meta,access");const _J=e=>e in wJ;const xJ=e=>{const t={};const o=to.os.isMacOS()||to.os.isiOS();bJ(vJ(e.toLowerCase(),"+"),(e=>{if(_J(e)){t[e]=true}else{if(/^[0-9]{2,}$/.test(e)){t.keyCode=parseInt(e,10)}else{t.charCode=e.charCodeAt(0);t.keyCode=kJ[e]||e.toUpperCase().charCodeAt(0)}}}));const n=[t.keyCode];let s;for(s in wJ){if(t[s]){n.push(s)}else{t[s]=false}}t.id=n.join(",");if(t.access){t.alt=true;if(o){t.ctrl=true}else{t.shift=true}}if(t.meta){if(o){t.meta=true}else{t.ctrl=true;t.meta=false}}return t};class CJ{constructor(e){this.shortcuts={};this.pendingPatterns=[];this.editor=e;const t=this;e.on("keyup keypress keydown",(e=>{if((t.hasModifier(e)||t.isFunctionKey(e))&&!e.isDefaultPrevented()){bJ(t.shortcuts,(o=>{if(t.matchShortcut(e,o)){t.pendingPatterns=o.subpatterns.slice(0);if(e.type==="keydown"){t.executeShortcutAction(o)}}}));if(t.matchShortcut(e,t.pendingPatterns[0])){if(t.pendingPatterns.length===1){if(e.type==="keydown"){t.executeShortcutAction(t.pendingPatterns[0])}}t.pendingPatterns.shift()}}}))}add(e,t,o,n){const s=this;const r=s.normalizeCommandFunc(o);bJ(vJ(mo.trim(e)),(e=>{const o=s.createShortcut(e,t,r,n);s.shortcuts[o.id]=o}));return true}remove(e){const t=this.createShortcut(e);if(this.shortcuts[t.id]){delete this.shortcuts[t.id];return true}return false}normalizeCommandFunc(e){const t=this;const o=e;if(typeof o==="string"){return()=>{t.editor.execCommand(o,false,null)}}else if(mo.isArray(o)){return()=>{t.editor.execCommand(o[0],o[1],o[2])}}else{return o}}createShortcut(e,t,o,n){const s=mo.map(vJ(e,">"),xJ);s[s.length-1]=mo.extend(s[s.length-1],{func:o,scope:n||this.editor});return mo.extend(s[0],{desc:this.editor.translate(t),subpatterns:s.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return e.type==="keydown"&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){if(!t){return false}if(t.ctrl!==e.ctrlKey||t.meta!==e.metaKey){return false}if(t.alt!==e.altKey||t.shift!==e.shiftKey){return false}if(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode){e.preventDefault();return true}return false}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const SJ=()=>{const e={};const t={};const o={};const n={};const s={};const r={};const a={};const c={};const i=(e,t)=>(o,n)=>{e[o.toLowerCase()]={...n,type:t}};const l=(e,t)=>n[e.toLowerCase()]=t;return{addButton:i(e,"button"),addGroupToolbarButton:i(e,"grouptoolbarbutton"),addToggleButton:i(e,"togglebutton"),addMenuButton:i(e,"menubutton"),addSplitButton:i(e,"splitbutton"),addMenuItem:i(t,"menuitem"),addNestedMenuItem:i(t,"nestedmenuitem"),addToggleMenuItem:i(t,"togglemenuitem"),addAutocompleter:i(o,"autocompleter"),addContextMenu:i(s,"contextmenu"),addContextToolbar:i(r,"contexttoolbar"),addContextForm:i(r,"contextform"),addSidebar:i(a,"sidebar"),addView:i(c,"views"),addIcon:l,getAll:()=>({buttons:e,menuItems:t,icons:n,popups:o,contextMenus:s,contextToolbars:r,sidebars:a,views:c})}};const zJ=()=>{const e=SJ();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}};const EJ=sl.DOM;const TJ=mo.extend,OJ=mo.each;class DJ{constructor(e,t,o){this.plugins={};this.contentCSS=[];this.contentStyles=[];this.loadedCSS={};this.isNotDirty=false;this.composing=false;this.destroyed=false;this.hasHiddenInput=false;this.iframeElement=null;this.initialized=false;this.readonly=false;this.removed=false;this.startContent="";this._pendingNativeEvents=[];this._skinLoaded=false;this._editableRoot=true;this.editorManager=o;this.documentBaseUrl=o.documentBaseURL;TJ(this,sJ);const n=this;this.id=e;this.hidden=false;const s=NY(o.defaultOptions,t);this.options=fJ(n,s);$u(n);const r=this.options.get;if(r("deprecation_warnings")){MN(t,s)}const a=r("suffix");if(a){o.suffix=a}this.suffix=o.suffix;const c=r("base_url");if(c){o._setBaseUrl(c)}this.baseUri=o.baseURI;const i=vf(n);if(i){dl.ScriptLoader._setReferrerPolicy(i);sl.DOM.styleSheetLoader._setReferrerPolicy(i)}const l=Qf(n);if(E(l)){sl.DOM.styleSheetLoader._setContentCssCors(l)}zl.languageLoad=r("language_load");zl.baseURL=o.baseURL;this.setDirty(false);this.documentBaseURI=new gO(Yu(n),{base_uri:this.baseUri});this.baseURI=this.baseUri;this.inline=Uf(n);this.hasVisual=nm(n);this.shortcuts=new CJ(this);this.editorCommands=new OX(this);zX(this);const d=r("cache_suffix");if(d){to.cacheSuffix=d.replace(/^[\?\&]+/,"")}this.ui={registry:zJ(),styleSheetLoader:undefined,show:A,hide:A,setEnabled:A,isEnabled:Z};this.mode=yJ(n);o.dispatch("SetupEditor",{editor:this});const u=cm(n);if(T(u)){u.call(n,n)}}render(){mY(this)}focus(e){this.execCommand("mceFocus",false,e)}hasFocus(){return wk(this)}translate(e){return Sl.translate(e)}getParam(e,t,o){const n=this.options;if(!n.isRegistered(e)){if(E(o)){n.register(e,{processor:o,default:t})}else{n.register(e,{processor:Z,default:t})}}return!n.isSet(e)&&!S(t)?t:n.get(e)}hasPlugin(e,t){const o=Y(em(this),e);if(o){return t?sM.get(e)!==undefined:true}else{return false}}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,o){this.editorCommands.addCommand(e,t,o)}addQueryStateHandler(e,t,o){this.editorCommands.addQueryStateHandler(e,t,o)}addQueryValueHandler(e,t,o){this.editorCommands.addQueryValueHandler(e,t,o)}addShortcut(e,t,o,n){this.shortcuts.add(e,t,o,n)}execCommand(e,t,o,n){return this.editorCommands.execCommand(e,t,o,n)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;if(e.hidden){e.hidden=false;if(e.inline){e.getBody().contentEditable="true"}else{EJ.show(e.getContainer());EJ.hide(e.id)}e.load();e.dispatch("show")}}hide(){const e=this;if(!e.hidden){e.save();if(e.inline){e.getBody().contentEditable="false";if(e===e.editorManager.focusedEditor){e.editorManager.focusedEditor=null}}else{EJ.hide(e.getContainer());EJ.setStyle(e.id,"display",e.orgDisplay)}e.hidden=true;e.dispatch("hide")}}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){const t=this;const o=t.getElement();if(t.removed){return""}if(o){const n={...e,load:true};const s=kr(o)?o.value:o.innerHTML;const r=t.setContent(s,n);if(!n.no_events){t.dispatch("LoadContent",{...n,element:o})}return r}else{return""}}save(e={}){const t=this;let o=t.getElement();if(!o||!t.initialized||t.removed){return""}const n={...e,save:true,element:o};let s=t.getContent(n);const r={...n,content:s};if(!r.no_events){t.dispatch("SaveContent",r)}if(r.format==="raw"){t.dispatch("RawSaveContent",r)}s=r.content;if(!kr(o)){if(e.is_removing||!t.inline){o.innerHTML=s}const n=EJ.getParent(t.id,"form");if(n){OJ(n.elements,(e=>{if(e.name===t.id){e.value=s;return false}else{return true}}))}}else{o.value=s}r.element=n.element=o=null;if(r.set_dirty!==false){t.setDirty(false)}return s}setContent(e,t){return vN(this,e,t)}getContent(e){return hN(this,e)}insertContent(e,t){if(t){e=TJ({content:e},t)}this.execCommand("mceInsertContent",false,e)}resetContent(e){if(e===undefined){vN(this,this.startContent,{format:"raw"})}else{vN(this,e)}this.undoManager.reset();this.setDirty(false);this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e;if(e&&e!==t){this.dispatch("dirty")}}getContainer(){const e=this;if(!e.container){e.container=e.editorContainer||EJ.get(e.id+"_parent")}return e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){if(!this.targetElm){this.targetElm=EJ.get(this.id)}return this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;if(t){e.contentWindow=t.contentWindow}}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();if(t){e.contentDocument=t.document}}return e.contentDocument}getBody(){var e,t;const o=this.getDoc();return(t=(e=this.bodyElement)!==null&&e!==void 0?e:o===null||o===void 0?void 0:o.body)!==null&&t!==void 0?t:null}convertURL(e,t,o){const n=this,s=n.options.get;const r=lm(n);if(T(r)){return r.call(n,e,o,true,t)}if(!s("convert_urls")||o==="link"||k(o)&&o.nodeName==="LINK"||e.indexOf("file:")===0||e.length===0){return e}if(s("relative_urls")){return n.documentBaseURI.toRelative(e)}e=n.documentBaseURI.toAbsolute(e,s("remove_script_host"));return e}addVisual(e){MY(this,e)}setEditableRoot(e){gY(this,e)}hasEditableRoot(){return pY(this)}remove(){PN(this)}destroy(e){FN(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const AJ=sl.DOM;const NJ=mo.each;let MJ=false;let RJ;let BJ=[];const LJ=e=>{const t=e.type;NJ(VJ.get(),(o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}}))};const HJ=e=>{if(e!==MJ){const t=sl.DOM;if(e){t.bind(window,"resize",LJ);t.bind(window,"scroll",LJ)}else{t.unbind(window,"resize",LJ);t.unbind(window,"scroll",LJ)}MJ=e}};const IJ=e=>{const t=BJ;BJ=oe(BJ,(t=>e!==t));if(VJ.activeEditor===e){VJ.activeEditor=BJ.length>0?BJ[0]:null}if(VJ.focusedEditor===e){VJ.focusedEditor=null}return t.length!==BJ.length};const PJ=e=>{if(e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode){IJ(e);e.unbindAllNativeEvents();e.destroy(true);e.removed=true}};const FJ=document.compatMode!=="CSS1Compat";const VJ={...XX,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"7.3",releaseDate:"2023-11-15",i18n:Sl,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="";let o="";let n=gO.getDocumentBaseUrl(document.location);if(/^[^:]+:\/\/\/?[^\/]+\//.test(n)){n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(n)){n+="/"}}const s=window.tinymce||window.tinyMCEPreInit;if(s){t=s.base||s.baseURL;o=s.suffix}else{const e=document.getElementsByTagName("script");for(let n=0;n<e.length;n++){const s=e[n].src||"";if(s===""){continue}const r=s.substring(s.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(s)){if(r.indexOf(".min")!==-1){o=".min"}t=s.substring(0,s.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;if(e.indexOf(".min")!==-1){o=".min"}t=e.substring(0,e.lastIndexOf("/"))}}e.baseURL=new gO(n).toAbsolute(t);e.documentBaseURL=n;e.baseURI=new gO(e.baseURL);e.suffix=o;uk(e)},overrideDefaults(e){const t=e.base_url;if(t){this._setBaseUrl(t)}const o=e.suffix;if(o){this.suffix=o}this.defaultOptions=e;const n=e.plugin_base_urls;if(n!==undefined){xe(n,((e,t)=>{zl.PluginManager.urls[t]=e}))}},init(e){const t=this;let o;const n=mo.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track "+"colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");const s=(e,t)=>e.inline&&t.tagName.toLowerCase()in n;const r=e=>{let t=e.id;if(!t){t=Ne(e,"name").filter((e=>!AJ.get(e))).getOrThunk(AJ.uniqueId);e.setAttribute("id",t)}return t};const a=o=>{const n=e[o];if(!n){return}return n.apply(t,[])};const c=e=>{if(to.browser.isIE()||to.browser.isEdge()){vM("TinyMCE does not support the browser you are using. For a list of supported"+" browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers");return[]}else if(FJ){vM("Failed to initialize the editor as the document is not in standards mode. "+"TinyMCE requires standards mode.");return[]}else if(v(e.selector)){return AJ.select(e.selector)}else if(E(e.target)){return[e.target]}else{return[]}};let i=e=>{o=e};const l=()=>{let o=0;const n=[];let d;const u=(e,s,r)=>{const a=new DJ(e,s,t);n.push(a);a.on("init",(()=>{if(++o===d.length){i(n)}}));a.targetElm=a.targetElm||r;a.render()};AJ.unbind(window,"ready",l);a("onpageload");d=ke(c(e));mo.each(d,(e=>{PJ(t.get(e.id))}));d=mo.grep(d,(e=>!t.get(e.id)));if(d.length===0){i([])}else{NJ(d,(t=>{if(s(e,t)){vM("Could not initialize inline editor on invalid inline target element",t)}else{u(r(t),e,t)}}))}};AJ.bind(window,"ready",l);return new Promise((e=>{if(o){e(o)}else{i=t=>{e(t)}}}))},get(e){if(arguments.length===0){return BJ.slice(0)}else if(v(e)){return ae(BJ,(t=>t.id===e)).getOr(null)}else if(O(e)){return BJ[e]?BJ[e]:null}else{return null}},add(e){const t=this;const o=t.get(e.id);if(o===e){return e}if(o===null){BJ.push(e)}HJ(true);t.activeEditor=e;t.dispatch("AddEditor",{editor:e});if(!RJ){RJ=e=>{const o=t.dispatch("BeforeUnload");if(o.returnValue){e.preventDefault();e.returnValue=o.returnValue;return o.returnValue}};window.addEventListener("beforeunload",RJ)}return e},createEditor(e,t){return this.add(new DJ(e,t,this))},remove(e){const t=this;let o;if(!e){for(let e=BJ.length-1;e>=0;e--){t.remove(BJ[e])}return}if(v(e)){NJ(AJ.select(e),(e=>{o=t.get(e.id);if(o){t.remove(o)}}));return}o=e;if(x(t.get(o.id))){return null}if(IJ(o)){t.dispatch("RemoveEditor",{editor:o})}if(BJ.length===0){window.removeEventListener("beforeunload",RJ)}o.remove();HJ(BJ.length>0);return o},execCommand(e,t,o){var n;const s=this;const r=k(o)?(n=o.id)!==null&&n!==void 0?n:o.index:o;switch(e){case"mceAddEditor":{if(!s.get(r)){const e=o.options;new DJ(r,e,s).render()}return true}case"mceRemoveEditor":{const e=s.get(r);if(e){e.remove()}return true}case"mceToggleEditor":{const e=s.get(r);if(!e){s.execCommand("mceAddEditor",false,o);return true}if(e.isHidden()){e.show()}else{e.hide()}return true}}if(s.activeEditor){return s.activeEditor.execCommand(e,t,o)}return false},triggerSave:()=>{NJ(BJ,(e=>{e.save()}))},addI18n:(e,t)=>{Sl.add(e,t)},translate:e=>Sl.translate(e),setActive(e){const t=this.activeEditor;if(this.activeEditor!==e){if(t){t.dispatch("deactivate",{relatedTarget:e})}e.dispatch("activate",{relatedTarget:t})}this.activeEditor=e},_setBaseUrl(e){this.baseURL=new gO(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,""));this.baseURI=new gO(this.baseURL)}};VJ.setup();const jJ=()=>{const e=Ol();const t=e=>({items:e,types:we(e),getType:t=>Ne(e,t).getOrUndefined()});const o=t=>{e.set(t)};const n=()=>e.get().getOrUndefined();const s=e.clear;return{FakeClipboardItem:t,write:o,read:n,clear:s}};const ZJ=jJ();const UJ=Math.min,qJ=Math.max,WJ=Math.round;const $J=(e,t,o)=>{let n=t.x;let s=t.y;const r=e.w;const a=e.h;const c=t.w;const i=t.h;const l=(o||"").split("");if(l[0]==="b"){s+=i}if(l[1]==="r"){n+=c}if(l[0]==="c"){s+=WJ(i/2)}if(l[1]==="c"){n+=WJ(c/2)}if(l[3]==="b"){s-=a}if(l[4]==="r"){n-=r}if(l[3]==="c"){s-=WJ(a/2)}if(l[4]==="c"){n-=WJ(r/2)}return JJ(n,s,r,a)};const GJ=(e,t,o,n)=>{for(let s=0;s<n.length;s++){const r=$J(e,t,n[s]);if(r.x>=o.x&&r.x+r.w<=o.w+o.x&&r.y>=o.y&&r.y+r.h<=o.h+o.y){return n[s]}}return null};const KJ=(e,t,o)=>JJ(e.x-t,e.y-o,e.w+t*2,e.h+o*2);const YJ=(e,t)=>{const o=qJ(e.x,t.x);const n=qJ(e.y,t.y);const s=UJ(e.x+e.w,t.x+t.w);const r=UJ(e.y+e.h,t.y+t.h);if(s-o<0||r-n<0){return null}return JJ(o,n,s-o,r-n)};const XJ=(e,t,o)=>{let n=e.x;let s=e.y;let r=e.x+e.w;let a=e.y+e.h;const c=t.x+t.w;const i=t.y+t.h;const l=qJ(0,t.x-n);const d=qJ(0,t.y-s);const u=qJ(0,r-c);const f=qJ(0,a-i);n+=l;s+=d;if(o){r+=l;a+=d;n-=u;s-=f}r-=u;a-=f;return JJ(n,s,r-n,a-s)};const JJ=(e,t,o,n)=>({x:e,y:t,w:o,h:n});const QJ=e=>JJ(e.left,e.top,e.width,e.height);const eQ={inflate:KJ,relativePosition:$J,findBestRelativePosition:GJ,intersect:YJ,clamp:XJ,create:JJ,fromClientRect:QJ};const tQ=(e,t,o=1e3)=>{let n=false;let s=null;const r=e=>(...t)=>{if(!n){n=true;if(s!==null){clearTimeout(s);s=null}e.apply(null,t)}};const a=r(e);const c=r(t);const i=(...e)=>{if(!n&&s===null){s=setTimeout((()=>c.apply(null,e)),o)}};return{start:i,resolve:a,reject:c}};const oQ=()=>{const e={};const t={};const o=(o,n)=>{const s=`Script at URL "${n}" failed to load`;const r=`Script at URL "${n}" did not call \`tinymce.Resource.add('${o}', data)\` within 1 second`;if(e[o]!==undefined){return e[o]}else{const a=new Promise(((e,a)=>{const c=tQ(e,a);t[o]=c.resolve;dl.ScriptLoader.loadScript(n).then((()=>c.start(r)),(()=>c.reject(s)))}));e[o]=a;return a}};const n=(o,n)=>{if(t[o]!==undefined){t[o](n);delete t[o]}e[o]=Promise.resolve(n)};const s=t=>{delete e[t]};return{load:o,add:n,unload:s}};const nQ=oQ();const sQ=()=>(()=>{let e={};let t=[];const o={getItem:t=>{const o=e[t];return o?o:null},setItem:(o,n)=>{t.push(o);e[o]=String(n)},key:e=>t[e],removeItem:o=>{t=t.filter((e=>e===o));delete e[o]},clear:()=>{t=[];e={}},length:0};Object.defineProperty(o,"length",{get:()=>t.length,configurable:false,enumerable:false});return o})();let rQ;try{const e="__storage_test__";rQ=window.localStorage;rQ.setItem(e,e);rQ.removeItem(e)}catch(e){rQ=sQ()}var aQ=rQ;const cQ={geom:{Rect:eQ},util:{Delay:Xv,Tools:mo,VK:qy,URI:gO,EventDispatcher:KX,Observable:XX,I18n:Sl,LocalStorage:aQ,ImageUploader:BM},dom:{EventUtils:Wi,TreeWalker:cr,TextSeeker:nd,DOMUtils:sl,ScriptLoader:dl,RangeUtils:Xb,Serializer:mN,StyleSheetLoader:Ic,ControlSelection:Jy,BookmarkManager:by,Selection:eN,Event:Wi.Event},html:{Styles:Ni,Entities:fi,Node:Xk,Schema:Ai,DomParser:NO,Writer:vw,Serializer:kw},Env:to,AddOnManager:zl,Annotator:yy,Formatter:QM,UndoManager:nR,EditorCommands:OX,WindowManager:cM,NotificationManager:nM,EditorObservable:sJ,Shortcuts:CJ,Editor:DJ,FocusManager:Gv,EditorManager:VJ,DOM:sl.DOM,ScriptLoader:dl.ScriptLoader,PluginManager:sM,ThemeManager:rM,ModelManager:ZN,IconManager:jN,Resource:nQ,FakeClipboard:ZJ,trim:mo.trim,isArray:mo.isArray,is:mo.is,toArray:mo.toArray,makeMap:mo.makeMap,each:mo.each,map:mo.map,grep:mo.grep,inArray:mo.inArray,extend:mo.extend,walk:mo.walk,resolve:mo.resolve,explode:mo.explode,_addCacheSuffix:mo._addCacheSuffix};const iQ=mo.extend(VJ,cQ);const lQ=t=>{if(true){try{e.exports=t}catch(e){}}};const dQ=e=>{window.tinymce=e;window.tinyMCE=e};dQ(iQ);lQ(iQ)})()},()=>{tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})},(e,t,o)=>{o(4)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=e=>t=>e===t;const a=n("string");const c=n("object");const i=n("array");const l=r(null);const d=s("boolean");const u=r(undefined);const f=e=>e===null||e===undefined;const m=e=>!f(e);const g=s("function");const p=s("number");const h=()=>{};const y=(e,t)=>(...o)=>e(t.apply(null,o));const b=(e,t)=>o=>e(t(o));const v=e=>()=>e;const k=e=>e;const w=(e,t)=>e===t;function _(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const x=e=>t=>!e(t);const C=e=>()=>{throw new Error(e)};const S=e=>e();const z=v(false);const E=v(true);class T{constructor(e,t){this.tag=e;this.value=t}static some(e){return new T(true,e)}static none(){return T.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return T.some(e(this.value))}else{return T.none()}}bind(e){if(this.tag){return e(this.value)}else{return T.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return T.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return m(e)?T.some(e):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}T.singletonNone=new T(false);const O=Array.prototype.slice;const D=Array.prototype.indexOf;const A=Array.prototype.push;const N=(e,t)=>D.call(e,t);const M=(e,t)=>N(e,t)>-1;const R=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const B=(e,t)=>{const o=[];for(let n=0;n<e;n++){o.push(t(n))}return o};const L=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const H=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const I=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}};const P=(e,t)=>{const o=[];const n=[];for(let s=0,r=e.length;s<r;s++){const r=e[s];const a=t(r,s)?o:n;a.push(r)}return{pass:o,fail:n}};const F=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const V=(e,t,o)=>{I(e,((e,n)=>{o=t(o,e,n)}));return o};const j=(e,t,o)=>{H(e,((e,n)=>{o=t(o,e,n)}));return o};const Z=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return T.some(s)}else if(o(s,n)){break}}return T.none()};const U=(e,t)=>Z(e,t,z);const q=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return T.some(o)}}return T.none()};const W=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!i(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}A.apply(t,e[o])}return t};const $=(e,t)=>W(L(e,t));const G=(e,t)=>{for(let o=0,n=e.length;o<n;++o){const n=e[o];if(t(n,o)!==true){return false}}return true};const K=e=>{const t=O.call(e,0);t.reverse();return t};const Y=(e,t)=>{const o={};for(let n=0,s=e.length;n<s;n++){const s=e[n];o[String(s)]=t(s,n)}return o};const X=(e,t)=>{const o=O.call(e,0);o.sort(t);return o};const J=(e,t)=>t>=0&&t<e.length?T.some(e[t]):T.none();const Q=e=>J(e,0);const ee=e=>J(e,e.length-1);const te=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return T.none()};const oe=Object.keys;const ne=Object.hasOwnProperty;const se=(e,t)=>{const o=oe(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const re=(e,t)=>ae(e,((e,o)=>({k:o,v:t(e,o)})));const ae=(e,t)=>{const o={};se(e,((e,n)=>{const s=t(e,n);o[s.k]=s.v}));return o};const ce=e=>(t,o)=>{e[o]=t};const ie=(e,t,o,n)=>{se(e,((e,s)=>{(t(e,s)?o:n)(e,s)}))};const le=(e,t)=>{const o={};ie(e,t,ce(o),h);return o};const de=(e,t)=>{const o=[];se(e,((e,n)=>{o.push(t(e,n))}));return o};const ue=e=>de(e,k);const fe=(e,t)=>me(e,t)?T.from(e[t]):T.none();const me=(e,t)=>ne.call(e,t);const ge=(e,t)=>me(e,t)&&e[t]!==undefined&&e[t]!==null;const pe=e=>{for(const t in e){if(ne.call(e,t)){return false}}return true};const he=typeof window!=="undefined"?window:Function("return this;")();const ye=(e,t)=>{let o=t!==undefined&&t!==null?t:he;for(let t=0;t<e.length&&o!==undefined&&o!==null;++t){o=o[e[t]]}return o};const be=(e,t)=>{const o=e.split(".");return ye(o,t)};const ve=(e,t)=>be(e,t);const ke=(e,t)=>{const o=ve(e,t);if(o===undefined||o===null){throw new Error(e+" not available on this browser")}return o};const we=Object.getPrototypeOf;const _e=e=>ke("HTMLElement",e);const xe=e=>{const t=be("ownerDocument.defaultView",e);return c(e)&&(_e(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(we(e).constructor.name))};const Ce=8;const Se=9;const ze=11;const Ee=1;const Te=3;const Oe=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const De=e=>e.dom.nodeType;const Ae=e=>t=>De(t)===e;const Ne=e=>De(e)===Ce||Oe(e)==="#comment";const Me=e=>Re(e)&&xe(e.dom);const Re=Ae(Ee);const Be=Ae(Te);const Le=Ae(Se);const He=Ae(ze);const Ie=e=>t=>Re(t)&&Oe(t)===e;const Pe=(e,t,o)=>{if(a(o)||d(o)||p(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const Fe=(e,t,o)=>{Pe(e.dom,t,o)};const Ve=(e,t)=>{const o=e.dom;se(t,((e,t)=>{Pe(o,t,e)}))};const je=(e,t)=>{se(t,((t,o)=>{t.fold((()=>{qe(e,o)}),(t=>{Pe(e.dom,o,t)}))}))};const Ze=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?undefined:o};const Ue=(e,t)=>T.from(Ze(e,t));const qe=(e,t)=>{e.dom.removeAttribute(t)};const We=e=>j(e.dom.attributes,((e,t)=>{e[t.name]=t.value;return e}),{});const $e=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return Ye(n.childNodes[0])};const Ge=(e,t)=>{const o=t||document;const n=o.createElement(e);return Ye(n)};const Ke=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return Ye(n)};const Ye=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const Xe=(e,t,o)=>T.from(e.dom.elementFromPoint(t,o)).map(Ye);const Je={fromHtml:$e,fromTag:Ge,fromText:Ke,fromDom:Ye,fromPoint:Xe};const Qe=(e,t)=>{const o=e.dom;if(o.nodeType!==Ee){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const et=e=>e.nodeType!==Ee&&e.nodeType!==Se&&e.nodeType!==ze||e.childElementCount===0;const tt=(e,t)=>{const o=t===undefined?document:t.dom;return et(o)?[]:L(o.querySelectorAll(e),Je.fromDom)};const ot=(e,t)=>{const o=t===undefined?document:t.dom;return et(o)?T.none():T.from(o.querySelector(e)).map(Je.fromDom)};const nt=(e,t)=>e.dom===t.dom;const st=(e,t)=>{const o=e.dom;const n=t.dom;return o===n?false:o.contains(n)};const rt=Qe;const at=e=>Je.fromDom(e.dom.ownerDocument);const ct=e=>Le(e)?e:at(e);const it=e=>Je.fromDom(ct(e).dom.documentElement);const lt=e=>Je.fromDom(ct(e).dom.defaultView);const dt=e=>T.from(e.dom.parentNode).map(Je.fromDom);const ut=e=>T.from(e.dom.parentElement).map(Je.fromDom);const ft=(e,t)=>{const o=g(t)?t:z;let n=e.dom;const s=[];while(n.parentNode!==null&&n.parentNode!==undefined){const e=n.parentNode;const t=Je.fromDom(e);s.push(t);if(o(t)===true){break}else{n=e}}return s};const mt=e=>T.from(e.dom.previousSibling).map(Je.fromDom);const gt=e=>T.from(e.dom.nextSibling).map(Je.fromDom);const pt=e=>L(e.dom.childNodes,Je.fromDom);const ht=(e,t)=>{const o=e.dom.childNodes;return T.from(o[t]).map(Je.fromDom)};const yt=e=>ht(e,0);const bt=(e,t)=>{const o=dt(e);o.each((o=>{o.dom.insertBefore(t.dom,e.dom)}))};const vt=(e,t)=>{const o=gt(e);o.fold((()=>{const o=dt(e);o.each((e=>{wt(e,t)}))}),(e=>{bt(e,t)}))};const kt=(e,t)=>{const o=yt(e);o.fold((()=>{wt(e,t)}),(o=>{e.dom.insertBefore(t.dom,o.dom)}))};const wt=(e,t)=>{e.dom.appendChild(t.dom)};const _t=(e,t,o)=>{ht(e,o).fold((()=>{wt(e,t)}),(e=>{bt(e,t)}))};const xt=(e,t)=>{bt(e,t);wt(t,e)};const Ct=(e,t)=>{H(t,((o,n)=>{const s=n===0?e:t[n-1];vt(s,o)}))};const St=(e,t)=>{H(t,(t=>{wt(e,t)}))};const zt=e=>{e.dom.textContent="";H(pt(e),(e=>{Et(e)}))};const Et=e=>{const t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};const Tt=e=>{const t=pt(e);if(t.length>0){Ct(e,t)}Et(e)};const Ot=(e,t)=>Je.fromDom(e.dom.cloneNode(t));const Dt=e=>Ot(e,false);const At=e=>Ot(e,true);const Nt=(e,t)=>{const o=Je.fromTag(t);const n=We(e);Ve(o,n);return o};const Mt=(e,t)=>{const o=Nt(e,t);const n=pt(At(e));St(o,n);return o};const Rt=(e,t)=>{const o=Nt(e,t);vt(e,o);const n=pt(e);St(o,n);Et(e);return o};const Bt=["tfoot","thead","tbody","colgroup"];const Lt=e=>M(Bt,e);const Ht=(e,t)=>({rows:e,columns:t});const It=(e,t)=>({row:e,column:t});const Pt=(e,t,o)=>({element:e,rowspan:t,colspan:o});const Ft=(e,t,o,n)=>({element:e,rowspan:t,colspan:o,isNew:n});const Vt=(e,t,o,n,s,r)=>({element:e,rowspan:t,colspan:o,row:n,column:s,isLocked:r});const jt=(e,t,o)=>({element:e,cells:t,section:o});const Zt=(e,t,o,n)=>({element:e,cells:t,section:o,isNew:n});const Ut=(e,t,o)=>({element:e,isNew:t,isLocked:o});const qt=(e,t,o,n)=>({element:e,cells:t,section:o,isNew:n});const Wt=(e,t,o,n)=>({startRow:e,startCol:t,finishRow:o,finishCol:n});const $t=(e,t,o)=>({element:e,colspan:t,column:o});const Gt=(e,t)=>({element:e,columns:t});const Kt=e=>He(e)&&m(e.dom.host);const Yt=g(Element.prototype.attachShadow)&&g(Node.prototype.getRootNode);const Xt=v(Yt);const Jt=Yt?e=>Je.fromDom(e.dom.getRootNode()):ct;const Qt=e=>{const t=Jt(e);return Kt(t)?T.some(t):T.none()};const eo=e=>Je.fromDom(e.dom.host);const to=e=>{if(Xt()&&m(e.target)){const t=Je.fromDom(e.target);if(Re(t)&&oo(t)){if(e.composed&&e.composedPath){const t=e.composedPath();if(t){return Q(t)}}}}return T.from(e.target)};const oo=e=>m(e.dom.shadowRoot);const no=e=>{const t=Be(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return Qt(Je.fromDom(t)).fold((()=>o.body.contains(t)),b(no,eo))};const so=()=>ro(Je.fromDom(document));const ro=e=>{const t=e.dom.body;if(t===null||t===undefined){throw new Error("Body is not available yet")}return Je.fromDom(t)};const ao=(e,t,o)=>F(ft(e,o),t);const co=(e,t)=>F(pt(e),t);const io=(e,t)=>{let o=[];H(pt(e),(e=>{if(t(e)){o=o.concat([e])}o=o.concat(io(e,t))}));return o};const lo=(e,t,o)=>ao(e,(e=>Qe(e,t)),o);const uo=(e,t)=>co(e,(e=>Qe(e,t)));const fo=(e,t)=>tt(t,e);var mo=(e,t,o,n,s)=>{if(e(o,n)){return T.some(o)}else if(g(s)&&s(o)){return T.none()}else{return t(o,n,s)}};const go=(e,t,o)=>{let n=e.dom;const s=g(o)?o:z;while(n.parentNode){n=n.parentNode;const e=Je.fromDom(n);if(t(e)){return T.some(e)}else if(s(e)){break}}return T.none()};const po=(e,t,o)=>{const n=(e,t)=>t(e);return mo(n,go,e,t,o)};const ho=(e,t)=>{const o=e=>t(Je.fromDom(e));const n=U(e.dom.childNodes,o);return n.map(Je.fromDom)};const yo=(e,t)=>{const o=e=>{for(let n=0;n<e.childNodes.length;n++){const s=Je.fromDom(e.childNodes[n]);if(t(s)){return T.some(s)}const r=o(e.childNodes[n]);if(r.isSome()){return r}}return T.none()};return o(e.dom)};const bo=(e,t,o)=>go(e,(e=>Qe(e,t)),o);const vo=(e,t)=>ho(e,(e=>Qe(e,t)));const ko=(e,t)=>ot(t,e);const wo=(e,t,o)=>{const n=(e,t)=>Qe(e,t);return mo(n,bo,e,t,o)};const _o=(e,t,o=w)=>e.exists((e=>o(e,t)));const xo=e=>{const t=[];const o=e=>{t.push(e)};for(let t=0;t<e.length;t++){e[t].each(o)}return t};const Co=(e,t)=>e!==undefined&&e!==null?t(e):T.none();const So=(e,t)=>e?T.some(t):T.none();const zo=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const Eo=(e,t,o=0,n)=>{const s=e.indexOf(t,o);if(s!==-1){return u(n)?true:s+t.length<=n}else{return false}};const To=(e,t)=>zo(e,t,0);const Oo=(e,t)=>zo(e,t,e.length-t.length);const Do=e=>t=>t.replace(e,"");const Ao=Do(/^\s+|\s+$/g);const No=e=>e.length>0;const Mo=e=>{const t=parseFloat(e);return isNaN(t)?T.none():T.some(t)};const Ro=e=>e.style!==undefined&&g(e.style.getPropertyValue);const Bo=(e,t,o)=>{if(!a(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(Ro(e)){e.style.setProperty(t,o)}};const Lo=(e,t)=>{if(Ro(e)){e.style.removeProperty(t)}};const Ho=(e,t,o)=>{const n=e.dom;Bo(n,t,o)};const Io=(e,t)=>{const o=e.dom;se(t,((e,t)=>{Bo(o,t,e)}))};const Po=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!no(e)?Fo(o,t):s};const Fo=(e,t)=>Ro(e)?e.style.getPropertyValue(t):"";const Vo=(e,t)=>{const o=e.dom;const n=Fo(o,t);return T.from(n).filter((e=>e.length>0))};const jo=(e,t)=>{const o=e.dom;Lo(o,t);if(_o(Ue(e,"style").map(Ao),"")){qe(e,"style")}};const Zo=(e,t)=>{const o=e.dom;const n=t.dom;if(Ro(o)&&Ro(n)){n.style.cssText=o.style.cssText}};const Uo=(e,t,o=0)=>Ue(e,t).map((e=>parseInt(e,10))).getOr(o);const qo=(e,t)=>Uo(e,t,1);const Wo=e=>{if(Ie("col")(e)){return Uo(e,"span",1)>1}else{return qo(e,"colspan")>1}};const $o=e=>qo(e,"rowspan")>1;const Go=(e,t)=>parseInt(Po(e,t),10);const Ko=v(10);const Yo=v(10);const Xo=(e,t)=>Jo(e,t,E);const Jo=(e,t,o)=>$(pt(e),(e=>{if(Qe(e,t)){return o(e)?[e]:[]}else{return Jo(e,t,o)}}));const Qo=(e,t,o=z)=>{if(o(t)){return T.none()}if(M(e,Oe(t))){return T.some(t)}const n=e=>Qe(e,"table")||o(e);return bo(t,e.join(","),n)};const en=(e,t)=>Qo(["td","th"],e,t);const tn=e=>Xo(e,"th,td");const on=e=>{if(Qe(e,"colgroup")){return uo(e,"col")}else{return $(rn(e),(e=>uo(e,"col")))}};const nn=(e,t)=>wo(e,"table",t);const sn=e=>Xo(e,"tr");const rn=e=>nn(e).fold(v([]),(e=>uo(e,"colgroup")));const an=(e,t)=>L(e,(e=>{if(Oe(e)==="colgroup"){const t=L(on(e),(e=>{const t=Uo(e,"span",1);return Pt(e,1,t)}));return jt(e,t,"colgroup")}else{const o=L(tn(e),(e=>{const t=Uo(e,"rowspan",1);const o=Uo(e,"colspan",1);return Pt(e,t,o)}));return jt(e,o,t(e))}}));const cn=e=>dt(e).map((e=>{const t=Oe(e);return Lt(t)?t:"tbody"})).getOr("tbody");const ln=e=>{const t=sn(e);const o=rn(e);const n=[...o,...t];return an(n,cn)};const dn=(e,t)=>an(e,(()=>t));const un=e=>{let t=false;let o;return(...n)=>{if(!t){t=true;o=e.apply(null,n)}return o}};const fn=(e,t,o,n)=>{const s=e.isiOS()&&/ipad/i.test(o)===true;const r=e.isiOS()&&!s;const a=e.isiOS()||e.isAndroid();const c=a||n("(pointer:coarse)");const i=s||!r&&a&&n("(min-device-width:768px)");const l=r||a&&!i;const d=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===false;const u=!l&&!i&&!d;return{isiPad:v(s),isiPhone:v(r),isTablet:v(i),isPhone:v(l),isTouch:v(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:v(d),isDesktop:v(u)}};const mn=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t)){return n}}return undefined};const gn=(e,t)=>{const o=mn(e,t);if(!o){return{major:0,minor:0}}const n=e=>Number(t.replace(o,"$"+e));return yn(n(1),n(2))};const pn=(e,t)=>{const o=String(t).toLowerCase();if(e.length===0){return hn()}return gn(e,o)};const hn=()=>yn(0,0);const yn=(e,t)=>({major:e,minor:t});const bn={nu:yn,detect:pn,unknown:hn};const vn=(e,t)=>te(t.brands,(t=>{const o=t.brand.toLowerCase();return U(e,(e=>{var t;return o===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:bn.nu(parseInt(t.version,10),0)})))}));const kn=(e,t)=>{const o=String(t).toLowerCase();return U(e,(e=>e.search(o)))};const wn=(e,t)=>kn(e,t).map((e=>{const o=bn.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const _n=(e,t)=>kn(e,t).map((e=>{const o=bn.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const xn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;const Cn=e=>t=>Eo(t,e);const Sn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Eo(e,"edge/")&&Eo(e,"chrome")&&Eo(e,"safari")&&Eo(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,xn],search:e=>Eo(e,"chrome")&&!Eo(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Eo(e,"msie")||Eo(e,"trident")},{name:"Opera",versionRegexes:[xn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Cn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Cn("firefox")},{name:"Safari",versionRegexes:[xn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Eo(e,"safari")||Eo(e,"mobile/"))&&Eo(e,"applewebkit")}];const zn=[{name:"Windows",search:Cn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Eo(e,"iphone")||Eo(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Cn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Cn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Cn("linux"),versionRegexes:[]},{name:"Solaris",search:Cn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Cn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Cn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];const En={browsers:v(Sn),oses:v(zn)};const Tn="Edge";const On="Chromium";const Dn="IE";const An="Opera";const Nn="Firefox";const Mn="Safari";const Rn=()=>Bn({current:undefined,version:bn.unknown()});const Bn=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isEdge:n(Tn),isChromium:n(On),isIE:n(Dn),isOpera:n(An),isFirefox:n(Nn),isSafari:n(Mn)}};const Ln={unknown:Rn,nu:Bn,edge:v(Tn),chromium:v(On),ie:v(Dn),opera:v(An),firefox:v(Nn),safari:v(Mn)};const Hn="Windows";const In="iOS";const Pn="Android";const Fn="Linux";const Vn="macOS";const jn="Solaris";const Zn="FreeBSD";const Un="ChromeOS";const qn=()=>Wn({current:undefined,version:bn.unknown()});const Wn=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isWindows:n(Hn),isiOS:n(In),isAndroid:n(Pn),isMacOS:n(Vn),isLinux:n(Fn),isSolaris:n(jn),isFreeBSD:n(Zn),isChromeOS:n(Un)}};const $n={unknown:qn,nu:Wn,windows:v(Hn),ios:v(In),android:v(Pn),linux:v(Fn),macos:v(Vn),solaris:v(jn),freebsd:v(Zn),chromeos:v(Un)};const Gn=(e,t,o)=>{const n=En.browsers();const s=En.oses();const r=t.bind((e=>vn(n,e))).orThunk((()=>wn(n,e))).fold(Ln.unknown,Ln.nu);const a=_n(s,e).fold($n.unknown,$n.nu);const c=fn(a,r,e,o);return{browser:r,os:a,deviceType:c}};const Kn={detect:Gn};const Yn=e=>window.matchMedia(e).matches;let Xn=un((()=>Kn.detect(navigator.userAgent,T.from(navigator.userAgentData),Yn)));const Jn=()=>Xn();const Qn=(e,t)=>{const o=(t,o)=>{if(!p(o)&&!o.match(/^[0-9]+$/)){throw new Error(e+".set accepts only positive integer values. Value was "+o)}const n=t.dom;if(Ro(n)){n.style[e]=o+"px"}};const n=o=>{const n=t(o);if(n<=0||n===null){const t=Po(o,e);return parseFloat(t)||0}return n};const s=n;const r=(e,t)=>j(t,((t,o)=>{const n=Po(e,o);const s=n===undefined?0:parseInt(n,10);return isNaN(s)?t:t+s}),0);const a=(e,t,o)=>{const n=r(e,o);const s=t>n?t-n:0;return s};return{set:o,get:n,getOuter:s,aggregate:r,max:a}};const es=(e,t)=>Mo(e).getOr(t);const ts=(e,t,o)=>es(Po(e,t),o);const os=(e,t,o,n)=>{const s=ts(e,`padding-${o}`,0);const r=ts(e,`padding-${n}`,0);const a=ts(e,`border-${o}-width`,0);const c=ts(e,`border-${n}-width`,0);return t-s-r-a-c};const ns=(e,t)=>{const o=e.dom;const n=o.getBoundingClientRect().width||o.offsetWidth;return t==="border-box"?n:os(e,n,"left","right")};const ss=e=>ts(e,"height",e.dom.offsetHeight);const rs=e=>ts(e,"width",e.dom.offsetWidth);const as=e=>ns(e,"content-box");const cs=Qn("width",(e=>e.dom.offsetWidth));const is=e=>cs.get(e);const ls=e=>cs.getOuter(e);const ds=as;const us=rs;const fs=(e,t,o)=>{const n=e.cells;const s=n.slice(0,t);const r=n.slice(t);const a=s.concat(o).concat(r);return ps(e,a)};const ms=(e,t,o)=>fs(e,t,[o]);const gs=(e,t,o)=>{const n=e.cells;n[t]=o};const ps=(e,t)=>qt(e.element,t,e.section,e.isNew);const hs=(e,t)=>{const o=e.cells;const n=L(o,t);return qt(e.element,n,e.section,e.isNew)};const ys=(e,t)=>e.cells[t];const bs=(e,t)=>ys(e,t).element;const vs=e=>e.cells.length;const ks=e=>{const t=P(e,(e=>e.section==="colgroup"));return{rows:t.fail,cols:t.pass}};const ws=(e,t,o)=>{const n=L(e.cells,o);return qt(t(e.element),n,e.section,true)};const _s="data-snooker-locked-cols";const xs=e=>Ue(e,_s).bind((e=>T.from(e.match(/\d+/g)))).map((e=>Y(e,E)));const Cs=e=>{const t=j(ks(e).rows,((e,t)=>{H(t.cells,((t,o)=>{if(t.isLocked){e[o]=true}}));return e}),{});const o=de(t,((e,t)=>parseInt(t,10)));return X(o)};const Ss=(e,t)=>e+","+t;const zs=(e,t,o)=>T.from(e.access[Ss(t,o)]);const Es=(e,t,o)=>{const n=Ts(e,(e=>o(t,e.element)));return n.length>0?T.some(n[0]):T.none()};const Ts=(e,t)=>{const o=$(e.all,(e=>e.cells));return F(o,t)};const Os=e=>{const t={};let o=0;H(e.cells,(e=>{const n=e.colspan;B(n,(s=>{const r=o+s;t[r]=$t(e.element,n,r)}));o+=n}));return t};const Ds=e=>{const t={};const o=[];const n=Q(e).map((e=>e.element)).bind(nn);const s=n.bind(xs).getOr({});let r=0;let a=0;let c=0;const{pass:i,fail:l}=P(e,(e=>e.section==="colgroup"));H(l,(e=>{const n=[];H(e.cells,(e=>{let o=0;while(t[Ss(c,o)]!==undefined){o++}const r=ge(s,o.toString());const i=Vt(e.element,e.rowspan,e.colspan,c,o,r);for(let n=0;n<e.colspan;n++){for(let s=0;s<e.rowspan;s++){const e=c+s;const r=o+n;const l=Ss(e,r);t[l]=i;a=Math.max(a,r+1)}}n.push(i)}));r++;o.push(jt(e.element,n,e.section));c++}));const{columns:d,colgroups:u}=ee(i).map((e=>{const t=Os(e);const o=Gt(e.element,ue(t));return{colgroups:[o],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}})));const f=Ht(r,a);return{grid:f,access:t,all:o,columns:d,colgroups:u}};const As=e=>{const t=ln(e);return Ds(t)};const Ns=e=>$(e.all,(e=>e.cells));const Ms=e=>ue(e.columns);const Rs=e=>oe(e.columns).length>0;const Bs=(e,t)=>T.from(e.columns[t]);const Ls={fromTable:As,generate:Ds,getAt:zs,findItem:Es,filterItems:Ts,justCells:Ns,justColumns:Ms,hasColumns:Rs,getColumnAt:Bs};const Hs=(e,t=E)=>{const o=e.grid;const n=B(o.columns,k);const s=B(o.rows,k);return L(n,(o=>{const n=()=>$(s,(t=>Ls.getAt(e,t,o).filter((e=>e.column===o)).toArray()));const r=e=>e.colspan===1&&t(e.element);const a=()=>Ls.getAt(e,0,o);return Is(n,r,a)}))};const Is=(e,t,o)=>{const n=e();const s=U(n,t);const r=s.orThunk((()=>T.from(n[0]).orThunk(o)));return r.map((e=>e.element))};const Ps=e=>{const t=e.grid;const o=B(t.rows,k);const n=B(t.columns,k);return L(o,(t=>{const o=()=>$(n,(o=>Ls.getAt(e,t,o).filter((e=>e.row===t)).fold(v([]),(e=>[e]))));const s=e=>e.rowspan===1;const r=()=>Ls.getAt(e,t,0);return Is(o,s,r)}))};const Fs=(e,t)=>{if(t<0||t>=e.length-1){return T.none()}const o=e[t].fold((()=>{const o=K(e.slice(0,t));return te(o,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>T.some({value:e,delta:0})));const n=e[t+1].fold((()=>{const o=e.slice(t+1);return te(o,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>T.some({value:e,delta:1})));return o.bind((e=>n.map((t=>{const o=t.delta+e.delta;return Math.abs(t.value-e.value)/o}))))};const Vs=(e,t)=>o=>js(o)==="rtl"?t:e;const js=e=>Po(e,"direction")==="rtl"?"rtl":"ltr";const Zs=Qn("height",(e=>{const t=e.dom;return no(e)?t.getBoundingClientRect().height:t.offsetHeight}));const Us=e=>Zs.get(e);const qs=e=>Zs.getOuter(e);const Ws=ss;const $s=(e,t)=>{const o=(o,n)=>$s(e+o,t+n);return{left:e,top:t,translate:o}};const Gs=$s;const Ks=e=>{const t=e.getBoundingClientRect();return Gs(t.left,t.top)};const Ys=(e,t)=>{if(e!==undefined){return e}else{return t!==undefined?t:0}};const Xs=e=>{const t=e.dom.ownerDocument;const o=t.body;const n=t.defaultView;const s=t.documentElement;if(o===e.dom){return Gs(o.offsetLeft,o.offsetTop)}const r=Ys(n===null||n===void 0?void 0:n.pageYOffset,s.scrollTop);const a=Ys(n===null||n===void 0?void 0:n.pageXOffset,s.scrollLeft);const c=Ys(s.clientTop,o.clientTop);const i=Ys(s.clientLeft,o.clientLeft);return Js(e).translate(a-i,r-c)};const Js=e=>{const t=e.dom;const o=t.ownerDocument;const n=o.body;if(n===t){return Gs(n.offsetLeft,n.offsetTop)}if(!no(e)){return Gs(0,0)}return Ks(t)};const Qs=(e,t)=>({row:e,y:t});const er=(e,t)=>({col:e,x:t});const tr=e=>{const t=Xs(e);return t.left+ls(e)};const or=e=>Xs(e).left;const nr=(e,t)=>er(e,or(t));const sr=(e,t)=>er(e,tr(t));const rr=e=>Xs(e).top;const ar=(e,t)=>Qs(e,rr(t));const cr=(e,t)=>Qs(e,rr(t)+qs(t));const ir=(e,t,o)=>{if(o.length===0){return[]}const n=L(o.slice(1),((t,o)=>t.map((t=>e(o,t)))));const s=o[o.length-1].map((e=>t(o.length-1,e)));return n.concat([s])};const lr=e=>-e;const dr={delta:k,positions:e=>ir(ar,cr,e),edge:rr};const ur={delta:k,edge:or,positions:e=>ir(nr,sr,e)};const fr={delta:lr,edge:tr,positions:e=>ir(sr,nr,e)};const mr=Vs(ur,fr);const gr={delta:(e,t)=>mr(t).delta(e,t),positions:(e,t)=>mr(t).positions(e,t),edge:e=>mr(e).edge(e)};const pr={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]};const hr=(()=>{const e="[0-9]+";const t="[+-]?"+e;const o="[eE]"+t;const n="\\.";const s=e=>`(?:${e})?`;const r=["Infinity",e+n+s(e)+s(o),n+e+s(o),e+s(o)].join("|");const a=`[+-]?(?:${r})`;return new RegExp(`^(${a})(.*)$`)})();const yr=(e,t)=>R(t,(t=>R(pr[t],(t=>e===t))));const br=(e,t)=>{const o=T.from(hr.exec(e));return o.bind((e=>{const o=Number(e[1]);const n=e[2];if(yr(n,t)){return T.some({value:o,unit:n})}else{return T.none()}}))};const vr=/(\d+(\.\d+)?)%/;const kr=/(\d+(\.\d+)?)px|em/;const wr=Ie("col");const _r=(e,t,o)=>{const n=ut(e).getOrThunk((()=>ro(at(e))));return t(e)/o(n)*100};const xr=(e,t)=>{Ho(e,"width",t+"px")};const Cr=(e,t)=>{Ho(e,"width",t+"%")};const Sr=(e,t)=>{Ho(e,"height",t+"px")};const zr=e=>Ws(e)+"px";const Er=(e,t,o,n)=>{const s=nn(e).map((e=>{const n=o(e);return Math.floor(t/100*n)})).getOr(t);n(e,s);return s};const Tr=(e,t,o,n)=>{const s=parseFloat(e);return Oo(e,"%")&&Oe(t)!=="table"?Er(t,s,o,n):s};const Or=e=>{const t=zr(e);if(!t){return Us(e)}return Tr(t,e,Us,Sr)};const Dr=(e,t,o)=>{const n=o(e);const s=qo(e,t);return n/s};const Ar=(e,t)=>Vo(e,t).orThunk((()=>Ue(e,t).map((e=>e+"px"))));const Nr=e=>Ar(e,"width");const Mr=e=>Ar(e,"height");const Rr=e=>_r(e,is,ds);const Br=e=>wr(e)?is(e):us(e);const Lr=e=>Dr(e,"rowspan",Or);const Hr=e=>{const t=Nr(e);return t.bind((e=>br(e,["fixed","relative","empty"])))};const Ir=(e,t,o)=>{Ho(e,"width",t+o)};const Pr=e=>is(e)+"px";const Fr=e=>_r(e,is,ds)+"%";const Vr=e=>Nr(e).exists((e=>vr.test(e)));const jr=e=>Nr(e).exists((e=>kr.test(e)));const Zr=e=>Nr(e).isNone();const Ur=v(vr);const qr=Ie("col");const Wr=e=>Nr(e).getOrThunk((()=>Br(e)+"px"));const $r=e=>Mr(e).getOrThunk((()=>Lr(e)+"px"));const Gr=e=>L(Ls.justColumns(e),(e=>T.from(e.element)));const Kr=e=>{const t=Jn().browser;const o=t.isChromium()||t.isFirefox();return qr(e)?o:true};const Yr=(e,t,o,n,s,r)=>e.filter(n).fold((()=>r(Fs(o,t))),(e=>s(e)));const Xr=(e,t,o,n)=>{const s=Hs(e);const r=Ls.hasColumns(e)?Gr(e):s;const a=[T.some(gr.edge(t))].concat(L(gr.positions(s,t),(e=>e.map((e=>e.x)))));const c=x(Wo);return L(r,((e,t)=>Yr(e,t,a,c,(e=>{if(Kr(e)){return o(e)}else{const e=Co(s[t],k);return Yr(e,t,a,c,(e=>n(T.some(is(e)))),n)}}),n)))};const Jr=e=>e.map((e=>e+"px")).getOr("");const Qr=(e,t)=>Xr(e,t,Wr,Jr);const ea=(e,t,o)=>Xr(e,t,Rr,(e=>e.fold((()=>o.minCellWidth()),(e=>e/o.pixelWidth()*100))));const ta=(e,t,o)=>Xr(e,t,Br,(e=>e.getOrThunk(o.minCellWidth)));const oa=(e,t,o,n,s)=>{const r=Ps(e);const a=[T.some(o.edge(t))].concat(L(o.positions(r,t),(e=>e.map((e=>e.y)))));return L(r,((e,t)=>Yr(e,t,a,x($o),n,s)))};const na=(e,t,o)=>oa(e,t,o,Lr,(e=>e.getOrThunk(Yo)));const sa=(e,t,o)=>oa(e,t,o,$r,Jr);const ra=(e,t)=>()=>{if(no(e)){return t(e)}else{return parseFloat(Vo(e,"width").getOr("0"))}};const aa=e=>{const t=ra(e,is);const o=v(0);const n=(t,o)=>ta(t,e,o);return{width:t,pixelWidth:t,getWidths:n,getCellDelta:o,singleColumnWidth:v([0]),minCellWidth:o,setElementWidth:h,adjustTableWidth:h,isRelative:true,label:"none"}};const ca=e=>{const t=ra(e,(e=>parseFloat(Fr(e))));const o=ra(e,is);const n=e=>e/o()*100;const s=(e,t)=>[100-e];const r=()=>Ko()/o()*100;const a=o=>{const n=t();const s=o/100*n;const r=n+s;Cr(e,r)};const c=(t,o)=>ea(t,e,o);return{width:t,pixelWidth:o,getWidths:c,getCellDelta:n,singleColumnWidth:s,minCellWidth:r,setElementWidth:Cr,adjustTableWidth:a,isRelative:true,label:"percent"}};const ia=e=>{const t=ra(e,is);const o=k;const n=(e,t)=>{const o=Math.max(Ko(),e+t);return[o-e]};const s=o=>{const n=t()+o;xr(e,n)};const r=(t,o)=>ta(t,e,o);return{width:t,pixelWidth:t,getWidths:r,getCellDelta:o,singleColumnWidth:n,minCellWidth:Ko,setElementWidth:xr,adjustTableWidth:s,isRelative:false,label:"pixel"}};const la=(e,t)=>{const o=Ur().exec(t);if(o!==null){return ca(e)}else{return ia(e)}};const da=e=>{const t=Nr(e);return t.fold((()=>aa(e)),(t=>la(e,t)))};const ua={getTableSize:da,pixelSize:ia,percentageSize:ca,noneSize:aa};const fa=(e,t,o,n,s,r)=>({minRow:e,minCol:t,maxRow:o,maxCol:n,allCells:s,selectedCells:r});const ma=(e,t)=>{const o=e.grid.columns;const n=e.grid.rows;let s=n;let r=o;let a=0;let c=0;const i=[];const l=[];se(e.access,(e=>{i.push(e);if(t(e)){l.push(e);const t=e.row;const o=t+e.rowspan-1;const n=e.column;const i=n+e.colspan-1;if(t<s){s=t}else if(o>a){a=o}if(n<r){r=n}else if(i>c){c=i}}}));return fa(s,r,a,c,i,l)};const ga=(e,t,o)=>{const n=e[o].element;const s=Je.fromTag("td");wt(s,Je.fromTag("br"));const r=t?wt:kt;r(n,s)};const pa=(e,t,o,n)=>{const s=F(e,(e=>e.section!=="colgroup"));const r=t.grid.columns;const a=t.grid.rows;for(let e=0;e<a;e++){let a=false;for(let c=0;c<r;c++){if(!(e<o.minRow||e>o.maxRow||c<o.minCol||c>o.maxCol)){const o=Ls.getAt(t,e,c).filter(n).isNone();if(o){ga(s,a,e)}else{a=true}}}}};const ha=(e,t,o,n)=>{se(o.columns,(e=>{if(e.column<t.minCol||e.column>t.maxCol){Et(e.element)}}));const s=F(Xo(e,"tr"),(e=>e.dom.childElementCount===0));H(s,Et);if(t.minCol===t.maxCol||t.minRow===t.maxRow){H(Xo(e,"th,td"),(e=>{qe(e,"rowspan");qe(e,"colspan")}))}qe(e,_s);qe(e,"data-snooker-col-series");const r=ua.getTableSize(e);r.adjustTableWidth(n)};const ya=(e,t,o,n)=>{if(n.minCol===0&&t.grid.columns===n.maxCol+1){return 0}const s=ta(t,e,o);const r=j(s,((e,t)=>e+t),0);const a=j(s.slice(n.minCol,n.maxCol+1),((e,t)=>e+t),0);const c=a/r*o.pixelWidth();const i=c-o.pixelWidth();return o.getCellDelta(i)};const ba=(e,t)=>{const o=e=>Qe(e.element,t);const n=At(e);const s=ln(n);const r=ua.getTableSize(e);const a=Ls.generate(s);const c=ma(a,o);const i="th:not("+t+")"+",td:not("+t+")";const l=Jo(n,"th,td",(e=>Qe(e,i)));H(l,Et);pa(s,a,c,o);const d=Ls.fromTable(e);const u=ya(e,d,r,c);ha(n,c,a,u);return n};const va=" ";const ka=(e,t)=>{const o=o=>{if(!e(o)){throw new Error("Can only get "+t+" value of a "+t+" node")}return n(o).getOr("")};const n=t=>e(t)?T.from(t.dom.nodeValue):T.none();const s=(o,n)=>{if(!e(o)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}o.dom.nodeValue=n};return{get:o,getOption:n,set:s}};const wa=ka(Be,"text");const _a=e=>wa.get(e);const xa=e=>wa.getOption(e);const Ca=(e,t)=>wa.set(e,t);const Sa=e=>Oe(e)==="img"?1:xa(e).fold((()=>pt(e).length),(e=>e.length));const za=e=>xa(e).filter((e=>e.trim().length!==0||e.indexOf(va)>-1)).isSome();const Ea=e=>Me(e)&&Ze(e,"contenteditable")==="false";const Ta=["img","br"];const Oa=e=>{const t=za(e);return t||M(Ta,Oe(e))||Ea(e)};const Da=e=>yo(e,Oa);const Aa=e=>Na(e,Oa);const Na=(e,t)=>{const o=e=>{const n=pt(e);for(let e=n.length-1;e>=0;e--){const s=n[e];if(t(s)){return T.some(s)}const r=o(s);if(r.isSome()){return r}}return T.none()};return o(e)};const Ma={scope:["row","col"]};const Ra=e=>()=>{const t=Je.fromTag("td",e.dom);wt(t,Je.fromTag("br",e.dom));return t};const Ba=e=>()=>Je.fromTag("col",e.dom);const La=e=>()=>Je.fromTag("colgroup",e.dom);const Ha=e=>()=>Je.fromTag("tr",e.dom);const Ia=(e,t,o)=>{const n=Mt(e,t);se(o,((e,t)=>{if(e===null){qe(n,t)}else{Fe(n,t,e)}}));return n};const Pa=e=>e;const Fa=(e,t,o)=>{const n=Da(e);return n.map((n=>{const s=o.join(",");const r=lo(n,s,(t=>nt(t,e)));return V(r,((e,t)=>{const o=Dt(t);wt(e,o);return o}),t)})).getOr(t)};const Va=(e,t)=>{se(Ma,((o,n)=>Ue(e,n).filter((e=>M(o,e))).each((e=>Fe(t,n,e)))))};const ja=(e,t,o)=>{const n=(e,t)=>{Zo(e.element,t);jo(t,"height");if(e.colspan!==1){jo(t,"width")}};const s=s=>{const r=Je.fromTag(Oe(s.element),t.dom);const a=o.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]);const c=a.length>0?Fa(s.element,r,a):r;wt(c,Je.fromTag("br"));n(s,r);Va(s.element,r);e(s.element,r);return r};const r=o=>{const s=Je.fromTag(Oe(o.element),t.dom);n(o,s);e(o.element,s);return s};return{col:r,colgroup:La(t),row:Ha(t),cell:s,replace:Ia,colGap:Ba(t),gap:Ra(t)}};const Za=e=>({col:Ba(e),colgroup:La(e),row:Ha(e),cell:Ra(e),replace:Pa,colGap:Ba(e),gap:Ra(e)});const Ua=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;return pt(Je.fromDom(n))};const qa=e=>L(e,Je.fromDom);const Wa=e=>t=>t.options.get(e);const $a="100%";const Ga=e=>{var t;const o=e.dom;const n=(t=o.getParent(e.selection.getStart(),o.isBlock))!==null&&t!==void 0?t:e.getBody();return ds(Je.fromDom(n))+"px"};const Ka=(e,t)=>{if(cc(e)||!lc(e)){return t}else if(ac(e)){return{...t,width:Ga(e)}}else{return{...t,width:$a}}};const Ya=(e,t)=>{if(cc(e)||lc(e)){return t}else if(ac(e)){return{...t,width:Ga(e)}}else{return{...t,width:$a}}};const Xa=e=>{const t=e.options.register;t("table_clone_elements",{processor:"string[]"});t("table_use_colgroups",{processor:"boolean",default:true});t("table_header_type",{processor:e=>{const t=M(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:false,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"});t("table_sizing_mode",{processor:"string",default:"auto"});t("table_default_attributes",{processor:"object",default:{border:"1"}});t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}});t("table_column_resizing",{processor:e=>{const t=M(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:false,message:"Must be preservetable, or resizetable."}},default:"preservetable"});t("table_resize_bars",{processor:"boolean",default:true});t("table_style_by_css",{processor:"boolean",default:true});t("table_merge_content_on_paste",{processor:"boolean",default:true})};const Ja=e=>T.from(e.options.get("table_clone_elements"));const Qa=e=>{const t=e.options.get("object_resizing");return M(t.split(","),"table")};const ec=Wa("table_header_type");const tc=Wa("table_column_resizing");const oc=e=>tc(e)==="preservetable";const nc=e=>tc(e)==="resizetable";const sc=Wa("table_sizing_mode");const rc=e=>sc(e)==="relative";const ac=e=>sc(e)==="fixed";const cc=e=>sc(e)==="responsive";const ic=Wa("table_resize_bars");const lc=Wa("table_style_by_css");const dc=Wa("table_merge_content_on_paste");const uc=e=>{const t=e.options;const o=t.get("table_default_attributes");return t.isSet("table_default_attributes")?o:Ya(e,o)};const fc=e=>{const t=e.options;const o=t.get("table_default_styles");return t.isSet("table_default_styles")?o:Ka(e,o)};const mc=Wa("table_use_colgroups");const gc=e=>wo(e,"[contenteditable]");const pc=(e,t=false)=>{if(no(e)){return e.dom.isContentEditable}else{return gc(e).fold(v(t),(e=>hc(e)==="true"))}};const hc=e=>e.dom.contentEditable;const yc=e=>Je.fromDom(e.getBody());const bc=e=>t=>nt(t,yc(e));const vc=e=>{qe(e,"data-mce-style");const t=e=>qe(e,"data-mce-style");H(tn(e),t);H(on(e),t);H(sn(e),t)};const kc=e=>Je.fromDom(e.selection.getStart());const wc=e=>e.getBoundingClientRect().width;const _c=e=>e.getBoundingClientRect().height;const xc=(e,t)=>{const o=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return T.from(o).filter(No)};const Cc=e=>/^(\d+(\.\d+)?)%$/.test(e);const Sc=e=>/^(\d+(\.\d+)?)px$/.test(e);const zc=e=>po(e,Ie("table")).exists(pc);const Ec=(e,t)=>{const o=t.column;const n=t.column+t.colspan-1;const s=t.row;const r=t.row+t.rowspan-1;return o<=e.finishCol&&n>=e.startCol&&(s<=e.finishRow&&r>=e.startRow)};const Tc=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow;const Oc=(e,t)=>{let o=true;const n=_(Tc,t);for(let s=t.startRow;s<=t.finishRow;s++){for(let r=t.startCol;r<=t.finishCol;r++){o=o&&Ls.getAt(e,s,r).exists(n)}}return o?T.some(t):T.none()};const Dc=(e,t)=>Wt(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1));const Ac=(e,t,o)=>{const n=Ls.findItem(e,t,nt);const s=Ls.findItem(e,o,nt);return n.bind((e=>s.map((t=>Dc(e,t)))))};const Nc=(e,t,o)=>Ac(e,t,o).bind((t=>Oc(e,t)));const Mc=(e,t,o,n)=>Ls.findItem(e,t,nt).bind((t=>{const s=o>0?t.row+t.rowspan-1:t.row;const r=n>0?t.column+t.colspan-1:t.column;const a=Ls.getAt(e,s+o,r+n);return a.map((e=>e.element))}));const Rc=(e,t,o)=>Ac(e,t,o).map((t=>{const o=Ls.filterItems(e,_(Ec,t));return L(o,(e=>e.element))}));const Bc=(e,t)=>{const o=(e,t)=>st(t,e);return Ls.findItem(e,t,o).map((e=>e.element))};const Lc=(e,t,o)=>nn(e).bind((n=>{const s=Fc(n);return Mc(s,e,t,o)}));const Hc=(e,t,o)=>{const n=Fc(e);return Rc(n,t,o)};const Ic=(e,t,o,n,s)=>{const r=Fc(e);const a=nt(e,o)?T.some(t):Bc(r,t);const c=nt(e,s)?T.some(n):Bc(r,n);return a.bind((e=>c.bind((t=>Rc(r,e,t)))))};const Pc=(e,t,o)=>{const n=Fc(e);return Nc(n,t,o)};const Fc=Ls.fromTable;var Vc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];var jc=()=>{const e=e=>Je.fromDom(e.dom.cloneNode(false));const t=e=>ct(e).dom;const o=e=>{if(!Re(e)){return false}if(Oe(e)==="body"){return true}return M(Vc,Oe(e))};const n=e=>{if(!Re(e)){return false}return M(["br","img","hr","input"],Oe(e))};const s=e=>Re(e)&&Ze(e,"contenteditable")==="false";const r=(e,t)=>e.dom.compareDocumentPosition(t.dom);const a=(e,t)=>{const o=We(e);Ve(t,o)};const c=e=>{const t=Oe(e);return M(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)};const i=e=>Re(e)?Ue(e,"lang"):T.none();return{up:v({selector:bo,closest:wo,predicate:go,all:ft}),down:v({selector:fo,predicate:io}),styles:v({get:Po,getRaw:Vo,set:Ho,remove:jo}),attrs:v({get:Ze,set:Fe,remove:qe,copyTo:a}),insert:v({before:bt,after:vt,afterAll:Ct,append:wt,appendAll:St,prepend:kt,wrap:xt}),remove:v({unwrap:Tt,remove:Et}),create:v({nu:Je.fromTag,clone:e,text:Je.fromText}),query:v({comparePosition:r,prevSibling:mt,nextSibling:gt}),property:v({children:pt,name:Oe,parent:dt,document:t,isText:Be,isComment:Ne,isElement:Re,isSpecial:c,getLanguage:i,getText:_a,setText:Ca,isBoundary:o,isEmptyTag:n,isNonEditable:s}),eq:nt,is:rt}};const Zc=(e,t,o,n)=>{const s=o[0];const r=o.slice(1);return n(e,t,s,r)};const Uc=(e,t,o)=>o.length>0?Zc(e,t,o,qc):T.none();const qc=(e,t,o,n)=>{const s=t(e,o);return V(n,((o,n)=>{const s=t(e,n);return Wc(e,o,s)}),s)};const Wc=(e,t,o)=>t.bind((t=>o.filter(_(e.eq,t))));const $c=(e,t)=>_(e.eq,t);const Gc=(e,t,o,n=z)=>{const s=[t].concat(e.up().all(t));const r=[o].concat(e.up().all(o));const a=e=>{const t=q(e,n);return t.fold((()=>e),(t=>e.slice(0,t+1)))};const c=a(s);const i=a(r);const l=U(c,(t=>R(i,$c(e,t))));return{firstpath:c,secondpath:i,shared:l}};const Kc=Uc;const Yc=Gc;const Xc=jc();const Jc=(e,t)=>Kc(Xc,((t,o)=>e(o)),t);const Qc=(e,t,o)=>Yc(Xc,e,t,o);const ei=e=>bo(e,"table");const ti=(e,t,o)=>{const n=e=>t=>o!==undefined&&o(t)||nt(t,e);if(nt(e,t)){return T.some({boxes:T.some([e]),start:e,finish:t})}else{return ei(e).bind((s=>ei(t).bind((r=>{if(nt(s,r)){return T.some({boxes:Hc(s,e,t),start:e,finish:t})}else if(st(s,r)){const o=lo(t,"td,th",n(s));const a=o.length>0?o[o.length-1]:t;return T.some({boxes:Ic(s,e,s,t,r),start:e,finish:a})}else if(st(r,s)){const o=lo(e,"td,th",n(r));const a=o.length>0?o[o.length-1]:e;return T.some({boxes:Ic(r,e,s,t,r),start:e,finish:a})}else{return Qc(e,t).shared.bind((a=>wo(a,"table",o).bind((o=>{const a=lo(t,"td,th",n(o));const c=a.length>0?a[a.length-1]:t;const i=lo(e,"td,th",n(o));const l=i.length>0?i[i.length-1]:e;return T.some({boxes:Ic(o,e,s,t,r),start:l,finish:c})}))))}}))))}};const oi=(e,t)=>{const o=fo(e,t);return o.length>0?T.some(o):T.none()};const ni=(e,t)=>U(e,(e=>Qe(e,t)));const si=(e,t,o)=>ko(e,t).bind((t=>ko(e,o).bind((e=>Jc(ei,[t,e]).map((o=>({first:t,last:e,table:o})))))));const ri=(e,t)=>bo(e,"table").bind((o=>ko(o,t).bind((t=>ti(t,e).bind((e=>e.boxes.map((t=>({boxes:t,start:e.start,finish:e.finish})))))))));const ai=(e,t,o,n,s)=>ni(e,s).bind((e=>Lc(e,t,o).bind((e=>ri(e,n)))));const ci=(e,t)=>oi(e,t);const ii=(e,t,o)=>si(e,t,o).bind((t=>{const o=t=>nt(e,t);const n="thead,tfoot,tbody,table";const s=bo(t.first,n,o);const r=bo(t.last,n,o);return s.bind((e=>r.bind((o=>nt(e,o)?Pc(t.table,t.first,t.last):T.none()))))}));const li=k;const di=e=>{const t=(e,t)=>Ue(e,t).exists((e=>parseInt(e,10)>1));const o=e=>t(e,"rowspan")||t(e,"colspan");return e.length>0&&G(e,o)?T.some(e):T.none()};const ui=(e,t,o)=>{if(t.length<=1){return T.none()}else{return ii(e,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>({bounds:e,cells:t})))}};const fi="data-mce-selected";const mi="td["+fi+"],th["+fi+"]";const gi="["+fi+"]";const pi="data-mce-first-selected";const hi="td["+pi+"],th["+pi+"]";const yi="data-mce-last-selected";const bi="td["+yi+"],th["+yi+"]";const vi=gi;const ki={selected:fi,selectedSelector:mi,firstSelected:pi,firstSelectedSelector:hi,lastSelected:yi,lastSelectedSelector:bi};const wi=(e,t,o)=>({element:o,mergable:ui(t,e,ki),unmergable:di(e),selection:li(e)});const _i=(e,t,o)=>({element:e,clipboard:t,generators:o});const xi=(e,t,o,n)=>({selection:li(e),clipboard:o,generators:n});const Ci=e=>nn(e).bind((e=>ci(e,ki.firstSelectedSelector))).fold(v(e),(e=>e[0]));const Si=e=>(t,o)=>{const n=Oe(t);const s=n==="col"||n==="colgroup"?Ci(t):t;return wo(s,e,o)};const zi=Si("th,td,caption");const Ei=Si("th,td");const Ti=e=>qa(e.model.table.getSelectedCells());const Oi=e=>F(Ti(e),(e=>Qe(e,ki.selectedSelector)));const Di=e=>nn(e[0]).map((e=>{const t=ba(e,vi);vc(t);return[t]}));const Ai=(e,t)=>L(t,(t=>e.selection.serializer.serialize(t.dom,{}))).join("");const Ni=e=>L(e,(e=>e.dom.innerText)).join("");const Mi=(e,t)=>{e.on("BeforeGetContent",(t=>{const o=o=>{t.preventDefault();Di(o).each((o=>{t.content=t.format==="text"?Ni(o):Ai(e,o)}))};if(t.selection===true){const t=Oi(e);if(t.length>=1){o(t)}}}));e.on("BeforeSetContent",(o=>{if(o.selection===true&&o.paste===true){const n=Ti(e);Q(n).each((n=>{nn(n).each((s=>{const r=F(Ua(o.content),(e=>Oe(e)!=="meta"));const a=Ie("table");if(dc(e)&&r.length===1&&a(r[0])){o.preventDefault();const a=Je.fromDom(e.getDoc());const c=Za(a);const i=_i(n,r[0],c);t.pasteCells(s,i).each((()=>{e.focus()}))}}))}))}}))};const Ri=(e,t)=>({element:e,offset:t});const Bi=(e,t,o)=>{if(e.property().isText(t)&&e.property().getText(t).trim().length===0||e.property().isComment(t)){return o(t).bind((t=>Bi(e,t,o).orThunk((()=>T.some(t)))))}else{return T.none()}};const Li=(e,t)=>{if(e.property().isText(t)){return e.property().getText(t).length}const o=e.property().children(t);return o.length};const Hi=(e,t)=>{const o=Bi(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(o)){return Ri(o,Li(e,o))}const n=e.property().children(o);return n.length>0?Hi(e,n[n.length-1]):Ri(o,Li(e,o))};const Ii=Hi;const Pi=jc();const Fi=e=>Ii(Pi,e);const Vi=(e,t)=>{if(!Wo(e)){const o=Hr(e);o.each((o=>{const n=o.value/2;Ir(e,n,o.unit);Ir(t,n,o.unit)}))}};const ji=e=>L(e,v(0));const Zi=(e,t,o,n,s)=>s(e.slice(0,t)).concat(n).concat(s(e.slice(o)));const Ui=e=>(t,o,n,s)=>{if(!e(n)){return n}else{const e=Math.max(s,t[o]-Math.abs(n));const r=Math.abs(e-t[o]);return n>=0?r:-r}};const qi=Ui((e=>e<0));const Wi=Ui(E);const $i=()=>{const e=(e,t,o,n,s)=>{const r=qi(e,t,n,s);return Zi(e,t,o+1,[r,0],ji)};const t=(e,t,o,n)=>{const s=(100+o)/100;const r=Math.max(n,(e[t]+o)/s);return L(e,((e,o)=>{const n=o===t?r:e/s;return n-e}))};const o=(o,n,s,r,a,c)=>{if(c){return t(o,n,r,a)}else{return e(o,n,s,r,a)}};const n=(e,t,n,s,r,a,c)=>o(e,n,s,r,a,c);const s=(e,t)=>e(t);const r=(e,o,n,s,r,a)=>{if(a){return t(e,n,s,r)}else{const t=qi(e,n,s,r);return ji(e.slice(0,n)).concat([t])}};const a=(e,t,o,n)=>{if(n){const n=t+o;const s=n/t;const r=L(e,(e=>e/s));return{delta:s*100-100,newSizes:r}}else{return{delta:o,newSizes:e}}};return{resizeTable:s,clampTableDelta:qi,calcLeftEdgeDeltas:o,calcMiddleDeltas:n,calcRightEdgeDeltas:r,calcRedestributedWidths:a}};const Gi=()=>{const e=(e,t,o,n,s)=>{const r=n>=0?o:t;const a=Wi(e,r,n,s);return Zi(e,t,o+1,[a,-a],ji)};const t=(t,o,n,s,r,a)=>e(t,n,s,r,a);const o=(e,t,o)=>{if(o){e(t)}};const n=(e,t,o,n,s,r)=>{if(r){return ji(e)}else{const t=n/e.length;return L(e,v(t))}};const s=(e,t,o,n,s)=>{if(s){if(o>=0){return o}else{const t=j(e,((e,t)=>e+t-n),0);return Math.max(-t,o)}}else{return qi(e,t,o,n)}};const r=(e,t,o,n)=>({delta:0,newSizes:e});return{resizeTable:o,clampTableDelta:s,calcLeftEdgeDeltas:e,calcMiddleDeltas:t,calcRightEdgeDeltas:n,calcRedestributedWidths:r}};const Ki=e=>{const t=Ls.fromTable(e);return t.grid};const Yi=Ie("th");const Xi=e=>G(e,(e=>Yi(e.element)));const Ji=(e,t)=>{if(e&&t){return"sectionCells"}else if(e){return"section"}else{return"cells"}};const Qi=e=>{const t=e.section==="thead";const o=_o(el(e.cells),"th");if(e.section==="tfoot"){return{type:"footer"}}else if(t||o){return{type:"header",subType:Ji(t,o)}}else{return{type:"body"}}};const el=e=>{const t=F(e,(e=>Yi(e.element)));if(t.length===0){return T.some("td")}else if(t.length===e.length){return T.some("th")}else{return T.none()}};const tl=e=>{const t=L(e,(e=>Qi(e).type));const o=M(t,"header");const n=M(t,"footer");if(!o&&!n){return T.some("body")}else{const e=M(t,"body");if(o&&!e&&!n){return T.some("header")}else if(!o&&!e&&n){return T.some("footer")}else{return T.none()}}};const ol=e=>te(e.all,(e=>{const t=Qi(e);return t.type==="header"?T.from(t.subType):T.none()}));const nl=(e,t,o)=>Ut(o(e.element,t),true,e.isLocked);const sl=(e,t)=>e.section!==t?qt(e.element,e.cells,t,e.isNew):e;const rl=()=>({transformRow:sl,transformCell:(e,t,o)=>{const n=o(e.element,t);const s=Oe(n)!=="td"?Rt(n,"td"):n;return Ut(s,e.isNew,e.isLocked)}});const al=()=>({transformRow:sl,transformCell:nl});const cl=()=>({transformRow:(e,t)=>{const o=t==="thead"?"tbody":t;return sl(e,o)},transformCell:nl});const il=()=>({transformRow:k,transformCell:nl});const ll=(e,t)=>{const o=Ls.fromTable(e);const n=ol(o).getOr(t);switch(n){case"section":return rl();case"sectionCells":return al();case"cells":return cl()}};const dl={getTableSectionType:ll,section:rl,sectionCells:al,cells:cl,fallback:il};const ul=(e,t,o,n)=>{if(o===n){qe(e,t)}else{Fe(e,t,o)}};const fl=(e,t,o)=>{ee(uo(e,t)).fold((()=>kt(e,o)),(e=>vt(e,o)))};const ml=(e,t)=>{const o=vo(e,t).getOrThunk((()=>{const o=Je.fromTag(t,at(e).dom);if(t==="thead"){fl(e,"caption,colgroup",o)}else if(t==="colgroup"){fl(e,"caption",o)}else{wt(e,o)}return o}));zt(o);return o};const gl=(e,t)=>{const o=[];const n=[];const s=e=>L(e,(e=>{if(e.isNew){o.push(e.element)}const t=e.element;zt(t);H(e.cells,(e=>{if(e.isNew){n.push(e.element)}ul(e.element,"colspan",e.colspan,1);ul(e.element,"rowspan",e.rowspan,1);wt(t,e.element)}));return t}));const r=e=>$(e,(e=>L(e.cells,(e=>{ul(e.element,"span",e.colspan,1);return e.element}))));const a=(t,o)=>{const n=ml(e,o);const a=o==="colgroup"?r:s;const c=a(t);St(n,c)};const c=t=>{vo(e,t).each(Et)};const i=(e,t)=>{if(e.length>0){a(e,t)}else{c(t)}};const l=[];const d=[];const u=[];const f=[];H(t,(e=>{switch(e.section){case"thead":l.push(e);break;case"tbody":d.push(e);break;case"tfoot":u.push(e);break;case"colgroup":f.push(e);break}}));i(f,"colgroup");i(l,"thead");i(d,"tbody");i(u,"tfoot");return{newRows:o,newCells:n}};const pl=e=>L(e,(e=>{const t=Dt(e.element);H(e.cells,(e=>{const o=At(e.element);ul(o,"colspan",e.colspan,1);ul(o,"rowspan",e.rowspan,1);wt(t,o)}));return t}));const hl=(e,t)=>L(e,(e=>ys(e,t)));const yl=(e,t)=>e[t];const bl=(e,t)=>{if(e.length===0){return 0}const o=e[0];const n=q(e,(e=>!t(o.element,e.element)));return n.getOr(e.length)};const vl=(e,t,o,n)=>{const s=yl(e,t);const r=s.section==="colgroup";const a=bl(s.cells.slice(o),n);const c=r?1:bl(hl(e.slice(t),o),n);return{colspan:a,rowspan:c}};const kl=(e,t)=>{const o=L(e,(e=>L(e.cells,z)));const n=(e,t,n,s)=>{for(let r=e;r<e+n;r++){for(let e=t;e<t+s;e++){o[r][e]=true}}};return L(e,((s,r)=>{const a=$(s.cells,((s,a)=>{if(o[r][a]===false){const o=vl(e,r,a,t);n(r,a,o.rowspan,o.colspan);return[Ft(s.element,o.rowspan,o.colspan,s.isNew)]}else{return[]}}));return Zt(s.element,a,s.section,s.isNew)}))};const wl=(e,t,o)=>{const n=[];H(e.colgroups,(s=>{const r=[];for(let n=0;n<e.grid.columns;n++){const s=Ls.getColumnAt(e,n).map((e=>Ut(e.element,o,false))).getOrThunk((()=>Ut(t.colGap(),true,false)));r.push(s)}n.push(qt(s.element,r,"colgroup",o))}));for(let s=0;s<e.grid.rows;s++){const r=[];for(let n=0;n<e.grid.columns;n++){const a=Ls.getAt(e,s,n).map((e=>Ut(e.element,o,e.isLocked))).getOrThunk((()=>Ut(t.gap(),true,false)));r.push(a)}const a=e.all[s];const c=qt(a.element,r,a.section,o);n.push(c)}return n};const _l=(e,t)=>wl(e,t,false);const xl=e=>kl(e,nt);const Cl=(e,t)=>te(e.all,(e=>U(e.cells,(e=>nt(t,e.element)))));const Sl=(e,t,o)=>{const n=L(t.selection,(t=>en(t).bind((t=>Cl(e,t))).filter(o)));const s=xo(n);return So(s.length>0,s)};const zl=(e,t,o,n,s)=>(r,a,c,i)=>{const l=Ls.fromTable(r);const d=T.from(i===null||i===void 0?void 0:i.section).getOrThunk(dl.fallback);const u=t(l,a).map((t=>{const o=_l(l,c);const n=e(o,t,nt,s(c),d);const r=Cs(n.grid);const a=xl(n.grid);return{info:t,grid:a,cursor:n.cursor,lockedColumns:r}}));return u.bind((e=>{const t=gl(r,e.grid);const s=T.from(i===null||i===void 0?void 0:i.sizing).getOrThunk((()=>ua.getTableSize(r)));const a=T.from(i===null||i===void 0?void 0:i.resize).getOrThunk(Gi);o(r,e.grid,e.info,{sizing:s,resize:a,section:d});n(r);qe(r,_s);if(e.lockedColumns.length>0){Fe(r,_s,e.lockedColumns.join(","))}return T.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))};const El=(e,t)=>en(t.element).bind((o=>Cl(e,o).map((e=>{const o={...e,generators:t.generators,clipboard:t.clipboard};return o}))));const Tl=(e,t)=>Sl(e,t,E).map((e=>({cells:e,generators:t.generators,clipboard:t.clipboard})));const Ol=(e,t)=>t.mergable;const Dl=(e,t)=>t.unmergable;const Al=(e,t)=>Sl(e,t,E);const Nl=(e,t)=>Sl(e,t,(e=>!e.isLocked));const Ml=(e,t)=>Cl(e,t).exists((e=>!e.isLocked));const Rl=(e,t)=>G(t,(t=>Ml(e,t)));const Bl=(e,t)=>Ol(e,t).filter((t=>Rl(e,t.cells)));const Ll=(e,t)=>Dl(e,t).filter((t=>Rl(e,t)));const Hl=(e,t,o,n)=>{const s=ks(e).rows;if(s.length===0){return e}for(let e=t.startRow;e<=t.finishRow;e++){for(let o=t.startCol;o<=t.finishCol;o++){const t=s[e];const r=ys(t,o).isLocked;gs(t,o,Ut(n(),false,r))}}return e};const Il=(e,t,o,n)=>{const s=ks(e).rows;let r=true;for(let e=0;e<s.length;e++){for(let a=0;a<vs(s[0]);a++){const c=s[e];const i=ys(c,a);const l=i.element;const d=o(l,t);if(d&&!r){gs(c,a,Ut(n(),true,i.isLocked))}else if(d){r=false}}}return e};const Pl=(e,t)=>j(e,((e,o)=>R(e,(e=>t(e.element,o.element)))?e:e.concat([o])),[]);const Fl=(e,t,o,n)=>{if(t>0&&t<e[0].cells.length){H(e,(e=>{const s=e.cells[t-1];let r=0;const a=n();while(e.cells.length>t+r&&o(s.element,e.cells[t+r].element)){gs(e,t+r,Ut(a,true,e.cells[t+r].isLocked));r++}}))}return e};const Vl=(e,t,o,n)=>{const s=ks(e).rows;if(t>0&&t<s.length){const e=s[t-1].cells;const r=Pl(e,o);H(r,(e=>{let r=T.none();for(let a=t;a<s.length;a++){for(let t=0;t<vs(s[0]);t++){const c=s[a];const i=ys(c,t);const l=o(i.element,e.element);if(l){if(r.isNone()){r=T.some(n())}r.each((e=>{gs(c,t,Ut(e,true,i.isLocked))}))}}}}))}return e};const jl=e=>{const t=t=>t(e);const o=v(e);const n=()=>s;const s={tag:true,inner:e,fold:(t,o)=>o(e),isValue:E,isError:z,map:t=>ql.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:t=>{t(e)},toOptional:()=>T.some(e)};return s};const Zl=e=>{const t=()=>o;const o={tag:false,inner:e,fold:(t,o)=>t(e),isValue:z,isError:E,map:t,mapError:t=>ql.error(t(e)),bind:t,exists:z,forall:E,getOr:k,or:k,getOrThunk:S,orThunk:S,getOrDie:C(String(e)),each:h,toOptional:T.none};return o};const Ul=(e,t)=>e.fold((()=>Zl(t)),jl);const ql={value:jl,error:Zl,fromOption:Ul};const Wl=(e,t,o)=>{if(e.row>=t.length||e.column>vs(t[0])){return ql.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column)}const n=t.slice(e.row);const s=n[0].cells.slice(e.column);const r=vs(o[0]);const a=o.length;return ql.value({rowDelta:n.length-a,colDelta:s.length-r})};const $l=(e,t)=>{const o=vs(e[0]);const n=vs(t[0]);return{rowDelta:0,colDelta:o-n}};const Gl=(e,t)=>{const o=e.length;const n=t.length;return{rowDelta:o-n,colDelta:0}};const Kl=(e,t,o,n)=>{const s=t.section==="colgroup"?o.col:o.cell;return B(e,(e=>Ut(s(),true,n(e))))};const Yl=(e,t,o,n)=>{const s=e[e.length-1];return e.concat(B(t,(()=>{const e=s.section==="colgroup"?o.colgroup:o.row;const t=ws(s,e,k);const r=Kl(t.cells.length,t,o,(e=>me(n,e.toString())));return ps(t,r)})))};const Xl=(e,t,o,n)=>L(e,(e=>{const s=Kl(t,e,o,z);return fs(e,n,s)}));const Jl=(e,t,o)=>L(e,(e=>j(o,((o,n)=>{const s=Kl(1,e,t,E)[0];return ms(o,n,s)}),e)));const Ql=(e,t,o)=>{const n=t.colDelta<0?Xl:k;const s=t.rowDelta<0?Yl:k;const r=Cs(e);const a=vs(e[0]);const c=R(r,(e=>e===a-1));const i=n(e,Math.abs(t.colDelta),o,c?a-1:a);const l=Cs(i);return s(i,Math.abs(t.rowDelta),o,Y(l,E))};const ed=(e,t,o,n)=>{const s=ys(e[t],o);const r=_(n,s.element);const a=e[t];return e.length>1&&vs(a)>1&&(o>0&&r(bs(a,o-1))||o<a.cells.length-1&&r(bs(a,o+1))||t>0&&r(bs(e[t-1],o))||t<e.length-1&&r(bs(e[t+1],o)))};const td=(e,t,o,n,s,r)=>{const a=e.row;const c=e.column;const i=o.length;const l=vs(o[0]);const d=a+i;const u=c+l+r.length;const f=Y(r,E);for(let e=a;e<d;e++){let r=0;for(let i=c;i<u;i++){if(f[i]){r++;continue}if(ed(t,e,i,s)){Il(t,bs(t[e],i),s,n.cell)}const l=i-c-r;const d=ys(o[e-a],l);const u=d.element;const m=n.replace(u);gs(t[e],i,Ut(m,true,d.isLocked))}}return t};const od=(e,t,o)=>{const n=vs(t[0]);const s=ks(t).cols.length+e.row;const r=B(n-e.column,(t=>t+e.column));const a=U(r,(e=>G(o,(t=>t!==e)))).getOr(n-1);return{row:s,column:a}};const nd=(e,t,o)=>F(o,(o=>o>=e.column&&o<=vs(t[0])+e.column));const sd=(e,t,o,n,s)=>{const r=Cs(t);const a=od(e,t,r);const c=ks(o).rows;const i=nd(a,c,r);const l=Wl(a,t,c);return l.map((e=>{const o={...e,colDelta:e.colDelta-i.length};const r=Ql(t,o,n);const l=Cs(r);const d=nd(a,c,l);return td(a,r,c,n,s,d)}))};const rd=(e,t,o,n,s)=>{Fl(t,e,s,n.cell);const r=Gl(o,t);const a=Ql(o,r,n);const c=Gl(t,a);const i=Ql(t,c,n);return L(i,((t,o)=>fs(t,e,a[o].cells)))};const ad=(e,t,o,n,s)=>{Vl(t,e,s,n.cell);const r=Cs(t);const a=$l(t,o);const c={...a,colDelta:a.colDelta-r.length};const i=Ql(t,c,n);const{cols:l,rows:d}=ks(i);const u=Cs(i);const f=$l(o,t);const m={...f,colDelta:f.colDelta+u.length};const g=Jl(o,n,u);const p=Ql(g,m,n);return[...l,...d.slice(0,e),...p,...d.slice(e,d.length)]};const cd=(e,t,o,n)=>ws(e,(e=>n(e,o)),t);const id=(e,t,o,n,s)=>{const{rows:r,cols:a}=ks(e);const c=r.slice(0,t);const i=r.slice(t);const l=cd(r[o],((e,o)=>{const a=t>0&&t<r.length&&n(bs(r[t-1],o),bs(r[t],o));const c=a?ys(r[t],o):Ut(s(e.element,n),true,e.isLocked);return c}),n,s);return[...a,...c,l,...i]};const ld=(e,t,o,n,s,r,a)=>{if(o==="colgroup"||!n){const t=ys(e,s);return Ut(a(t.element,r),true,false)}else{return ys(e,t)}};const dd=(e,t,o,n,s)=>L(e,(e=>{const r=t>0&&t<vs(e)&&n(bs(e,t-1),bs(e,t));const a=ld(e,t,e.section,r,o,n,s);return ms(e,t,a)}));const ud=(e,t)=>$(e,(e=>{const o=e.cells;const n=V(t,((e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e),o);return n.length>0?[qt(e.element,n,e.section,e.isNew)]:[]}));const fd=(e,t,o)=>{const{rows:n,cols:s}=ks(e);return[...s,...n.slice(0,t),...n.slice(o+1)]};const md=(e,t,o,n)=>bs(e[t],o)!==undefined&&(t>0&&n(bs(e[t-1],o),bs(e[t],o)));const gd=(e,t,o)=>t>0&&o(bs(e,t-1),bs(e,t));const pd=(e,t,o,n)=>md(e,t,o,n)||gd(e[t],o,n);const hd=(e,t)=>{const o=G(t,k)&&Xi(e.cells);return o?E:(e,o,n)=>{const s=Oe(e.element);return!(s==="th"&&t[n])}};const yd=(e,t)=>{const o=G(t,k)&&Xi(e);return o?E:(e,o,n)=>{const s=Oe(e.element);return!(s==="th"&&t[o])}};const bd=(e,t,o,n)=>{const s=e=>e==="row"?$o(t):Wo(t);const r=e=>s(e)?`${e}group`:e;if(e){return Yi(t)?r(o):null}else if(n&&Yi(t)){const e=o==="row"?"col":"row";return r(e)}else{return null}};const vd=(e,t)=>(o,n,s)=>T.some(bd(e,o.element,"col",t[s]));const kd=(e,t)=>(o,n)=>T.some(bd(e,o.element,"row",t[n]));const wd=(e,t,o)=>Ut(o(e.element,t),true,e.isLocked);const _d=(e,t,o,n,s,r,a)=>{const c=e=>R(t,(t=>o(e.element,t.element)));return L(e,((e,t)=>hs(e,((e,i)=>{if(c(e)){const c=a(e,t,i)?s(e,o,n):e;r(c,t,i).each((e=>{je(c.element,{scope:T.from(e)})}));return c}else{return e}}))))};const xd=(e,t,o)=>$(e,((n,s)=>pd(e,s,t,o)?[]:[ys(n,t)]));const Cd=(e,t,o)=>{const n=e[t];return $(n.cells,((n,s)=>pd(e,t,s,o)?[]:[n]))};const Sd=(e,t,o,n,s)=>{const r=ks(e).rows;const a=$(t,(e=>xd(r,e,n)));const c=L(r,(e=>Xi(e.cells)));const i=yd(a,c);const l=kd(o,c);return _d(e,a,n,s,wd,l,i)};const zd=(e,t,o,n,s,r,a)=>{const{cols:c,rows:i}=ks(e);const l=i[t[0]];const d=$(t,(e=>Cd(i,e,s)));const u=L(l.cells,((e,t)=>Xi(xd(i,t,s))));const f=[...i];H(t,(e=>{f[e]=a.transformRow(i[e],o)}));const m=[...c,...f];const g=hd(l,u);const p=vd(n,u);return _d(m,d,s,r,a.transformCell,p,g)};const Ed=(e,t,o,n)=>{const s=ks(e).rows;const r=L(t,(e=>ys(s[e.row],e.column)));return _d(e,r,o,n,wd,T.none,E)};const Td=e=>{if(!i(e)){throw new Error("cases must be an array")}if(e.length===0){throw new Error("there must be at least one case")}const t=[];const o={};H(e,((n,s)=>{const r=oe(n);if(r.length!==1){throw new Error("one and only one name per case")}const a=r[0];const c=n[a];if(o[a]!==undefined){throw new Error("duplicate key detected:"+a)}else if(a==="cata"){throw new Error("cannot have a case named cata (sorry)")}else if(!i(c)){throw new Error("case arguments must be an array")}t.push(a);o[a]=(...o)=>{const n=o.length;if(n!==c.length){throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+n)}const r=e=>{const n=oe(e);if(t.length!==n.length){throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","))}const s=G(t,(e=>M(n,e)));if(!s){throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "))}return e[a].apply(null,o)};return{fold:(...t)=>{if(t.length!==e.length){throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)}const n=t[s];return n.apply(null,o)},match:r,log:e=>{console.log(e,{constructors:t,constructor:a,params:o})}}}}));return o};const Od={generate:Td};const Dd=Od.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]);const Ad={...Dd};const Nd=(e,t)=>{if(e.length===0){return Ad.none()}if(e.length===1){return Ad.only(0)}if(t===0){return Ad.left(0,1)}if(t===e.length-1){return Ad.right(t-1,t)}if(t>0&&t<e.length-1){return Ad.middle(t-1,t,t+1)}return Ad.none()};const Md=(e,t,o,n,s)=>{const r=e.slice(0);const a=Nd(e,t);const c=v(L(r,v(0)));const i=e=>n.singleColumnWidth(r[e],o);const l=(e,t)=>s.calcLeftEdgeDeltas(r,e,t,o,n.minCellWidth(),n.isRelative);const d=(e,t,a)=>s.calcMiddleDeltas(r,e,t,a,o,n.minCellWidth(),n.isRelative);const u=(e,t)=>s.calcRightEdgeDeltas(r,e,t,o,n.minCellWidth(),n.isRelative);return a.fold(c,i,l,d,u)};const Rd=(e,t,o)=>{let n=0;for(let s=e;s<t;s++){n+=o[s]!==undefined?o[s]:0}return n};const Bd=(e,t)=>{const o=Ls.justCells(e);return L(o,(e=>{const o=Rd(e.column,e.column+e.colspan,t);return{element:e.element,width:o,colspan:e.colspan}}))};const Ld=(e,t)=>{const o=Ls.justColumns(e);return L(o,((e,o)=>({element:e.element,width:t[o],colspan:e.colspan})))};const Hd=(e,t)=>{const o=Ls.justCells(e);return L(o,(e=>{const o=Rd(e.row,e.row+e.rowspan,t);return{element:e.element,height:o,rowspan:e.rowspan}}))};const Id=(e,t)=>L(e.all,((e,o)=>({element:e.element,height:t[o]})));const Pd=e=>V(e,((e,t)=>e+t),0);const Fd=(e,t)=>{if(Ls.hasColumns(e)){return Ld(e,t)}else{return Bd(e,t)}};const Vd=(e,t,o)=>{const n=Fd(e,t);H(n,(e=>{o.setElementWidth(e.element,e.width)}))};const jd=(e,t,o,n,s)=>{const r=Ls.fromTable(e);const a=s.getCellDelta(t);const c=s.getWidths(r,s);const i=o===r.grid.columns-1;const l=n.clampTableDelta(c,o,a,s.minCellWidth(),i);const d=Md(c,o,l,s,n);const u=L(d,((e,t)=>e+c[t]));Vd(r,u,s);n.resizeTable(s.adjustTableWidth,l,i)};const Zd=(e,t,o,n)=>{const s=Ls.fromTable(e);const r=na(s,e,n);const a=L(r,((e,n)=>o===n?Math.max(t+e,Yo()):e));const c=Hd(s,a);const i=Id(s,a);H(i,(e=>{Sr(e.element,e.height)}));H(c,(e=>{Sr(e.element,e.height)}));const l=Pd(a);Sr(e,l)};const Ud=(e,t,o,n,s)=>{const r=Ls.generate(t);const a=n.getWidths(r,n);const c=n.pixelWidth();const{newSizes:i,delta:l}=s.calcRedestributedWidths(a,c,o.pixelDelta,n.isRelative);Vd(r,i,n);n.adjustTableWidth(l)};const qd=(e,t,o,n)=>{const s=Ls.generate(t);const r=n.getWidths(s,n);Vd(s,r,n)};const Wd=e=>{const t=(e,t)=>{const o=R(e,(e=>e.column===t.column));return o?e:e.concat([t])};return j(e,t,[]).sort(((e,t)=>e.column-t.column))};const $d=Ie("col");const Gd=Ie("colgroup");const Kd=e=>Oe(e)==="tr"||Gd(e);const Yd=e=>{const t=Uo(e,"colspan",1);const o=Uo(e,"rowspan",1);return{element:e,colspan:t,rowspan:o}};const Xd=(e,t=Yd)=>{const o=t=>$d(t.element)?e.col(t):e.cell(t);const n=t=>Gd(t.element)?e.colgroup(t):e.row(t);const s=e=>{if(Kd(e)){return n({element:e})}else{const n=e;const s=o(t(n));r=T.some({item:n,replacement:s});return s}};let r=T.none();const a=(e,t)=>r.fold((()=>s(e)),(o=>t(e,o.item)?o.replacement:s(e)));return{getOrInit:a}};const Jd=e=>t=>{const o=[];const n=(e,t)=>U(o,(o=>t(o.item,e)));const s=n=>{const s=e==="td"?{scope:null}:{};const r=t.replace(n,e,s);o.push({item:n,sub:r});return r};const r=(e,t)=>{if(Kd(e)||$d(e)){return e}else{const o=e;return n(o,t).fold((()=>s(o)),(n=>t(e,n.item)?n.sub:s(o)))}};return{replaceOrInit:r}};const Qd=e=>Ue(e,"scope").map((e=>e.substr(0,3)));const eu=e=>{const t=t=>{const o=Qd(t);o.each((e=>Fe(t,"scope",e)));return()=>{const n=e.cell({element:t,colspan:1,rowspan:1});jo(n,"width");jo(t,"width");o.each((e=>Fe(n,"scope",e)));return n}};const o=e=>{const t=()=>{const t=xo(L(e,Qd));if(t.length===0){return T.none()}else{const e=t[0];const o=["row","col"];const n=R(t,(t=>t!==e&&M(o,t)));return n?T.none():T.from(e)}};jo(e[0],"width");t().fold((()=>qe(e[0],"scope")),(t=>Fe(e[0],"scope",t+"group")));return v(e[0])};return{unmerge:t,merge:o}};const tu={modification:Xd,transform:Jd,merging:eu};const ou=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const nu=(e,t)=>{const o=e.property().name(t);return M(["ol","ul"],o)};const su=(e,t)=>{const o=e.property().name(t);return M(ou,o)};const ru=(e,t)=>M(["br","img","hr","input"],e.property().name(t));const au=jc();const cu=e=>su(au,e);const iu=e=>nu(au,e);const lu=e=>ru(au,e);const du=e=>{const t=Ie("br");const o=e=>G(e,(e=>t(e)||Be(e)&&_a(e).trim().length===0));const n=e=>Oe(e)==="li"||go(e,iu).isSome();const s=e=>gt(e).map((e=>{if(cu(e)){return true}if(lu(e)){return Oe(e)==="img"?false:true}return false})).getOr(false);const r=e=>Aa(e).bind((o=>{const r=s(o);return dt(o).map((s=>r===true||n(s)||t(o)||cu(s)&&!nt(e,s)?[]:[Je.fromTag("br")]))})).getOr([]);const a=()=>{const t=$(e,(e=>{const t=pt(e);return o(t)?[]:t.concat(r(e))}));return t.length===0?[Je.fromTag("br")]:t};const c=a();zt(e[0]);St(e[0],c)};const uu=e=>pc(e,true);const fu=e=>{const t=tn(e);if(t.length===0){Et(e)}};const mu=(e,t)=>({grid:e,cursor:t});const gu=e=>te(e,(e=>te(e.cells,(e=>{const t=e.element;return So(uu(t),t)}))));const pu=(e,t,o)=>{var n,s;const r=ks(e).rows;return T.from((s=(n=r[t])===null||n===void 0?void 0:n.cells[o])===null||s===void 0?void 0:s.element).filter(uu).orThunk((()=>gu(r)))};const hu=(e,t,o)=>{const n=pu(e,t,o);return mu(e,n)};const yu=e=>{const t=(e,t)=>{const o=R(e,(e=>e.row===t.row));return o?e:e.concat([t])};return j(e,t,[]).sort(((e,t)=>e.row-t.row))};const bu=(e,t,o,n)=>{const s=t[0].row;const r=yu(t);const a=V(r,((e,t)=>{const r=id(e.grid,s,t.row+e.delta,o,n.getOrInit);return{grid:r,delta:e.delta+1}}),{grid:e,delta:0}).grid;return hu(a,s,t[0].column)};const vu=(e,t,o,n)=>{const s=yu(t);const r=s[s.length-1];const a=r.row+r.rowspan;const c=V(s,((e,t)=>id(e,a,t.row,o,n.getOrInit)),e);return hu(c,a,t[0].column)};const ku=(e,t,o,n)=>{const s=t.details;const r=Wd(s);const a=r[0].column;const c=V(r,((e,t)=>{const s=dd(e.grid,a,t.column+e.delta,o,n.getOrInit);return{grid:s,delta:e.delta+1}}),{grid:e,delta:0}).grid;return hu(c,s[0].row,a)};const wu=(e,t,o,n)=>{const s=t.details;const r=s[s.length-1];const a=r.column+r.colspan;const c=Wd(s);const i=V(c,((e,t)=>dd(e,a,t.column,o,n.getOrInit)),e);return hu(i,s[0].row,a)};const _u=(e,t,o,n)=>{const s=Wd(t);const r=L(s,(e=>e.column));const a=Sd(e,r,true,o,n.replaceOrInit);return hu(a,t[0].row,t[0].column)};const xu=(e,t,o,n)=>{const s=Ed(e,t,o,n.replaceOrInit);return hu(s,t[0].row,t[0].column)};const Cu=(e,t,o,n)=>{const s=Wd(t);const r=L(s,(e=>e.column));const a=Sd(e,r,false,o,n.replaceOrInit);return hu(a,t[0].row,t[0].column)};const Su=(e,t,o,n)=>{const s=Ed(e,t,o,n.replaceOrInit);return hu(s,t[0].row,t[0].column)};const zu=(e,t)=>(o,n,s,r,a)=>{const c=yu(n);const i=L(c,(e=>e.row));const l=zd(o,i,e,t,s,r.replaceOrInit,a);return hu(l,n[0].row,n[0].column)};const Eu=zu("thead",true);const Tu=zu("tbody",false);const Ou=zu("tfoot",false);const Du=(e,t,o,n)=>{const s=Wd(t.details);const r=ud(e,L(s,(e=>e.column)));const a=r.length>0?r[0].cells.length-1:0;return hu(r,s[0].row,Math.min(s[0].column,a))};const Au=(e,t,o,n)=>{const s=yu(t);const r=fd(e,s[0].row,s[s.length-1].row);const a=r.length>0?r.length-1:0;return hu(r,Math.min(t[0].row,a),t[0].column)};const Nu=(e,t,o,n)=>{const s=t.cells;du(s);const r=Hl(e,t.bounds,o,n.merge(s));return mu(r,T.from(s[0]))};const Mu=(e,t,o,n)=>{const s=(e,t)=>Il(e,t,o,n.unmerge(t));const r=V(t,s,e);return mu(r,T.from(t[0]))};const Ru=(e,t,o,n)=>{const s=(e,t)=>{const o=Ls.fromTable(e);return wl(o,t,true)};const r=s(t.clipboard,t.generators);const a=It(t.row,t.column);const c=sd(a,e,r,t.generators,o);return c.fold((()=>mu(e,T.some(t.element))),(e=>hu(e,t.row,t.column)))};const Bu=(e,t,o)=>{const n=dn(e,o.section);const s=Ls.generate(n);return wl(s,t,true)};const Lu=(e,t,o,n)=>{const s=ks(e).rows;const r=t.cells[0].column;const a=s[t.cells[0].row];const c=Bu(t.clipboard,t.generators,a);const i=rd(r,e,c,t.generators,o);return hu(i,t.cells[0].row,t.cells[0].column)};const Hu=(e,t,o,n)=>{const s=ks(e).rows;const r=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan;const a=s[t.cells[0].row];const c=Bu(t.clipboard,t.generators,a);const i=rd(r,e,c,t.generators,o);return hu(i,t.cells[0].row,t.cells[0].column)};const Iu=(e,t,o,n)=>{const s=ks(e).rows;const r=t.cells[0].row;const a=s[r];const c=Bu(t.clipboard,t.generators,a);const i=ad(r,e,c,t.generators,o);return hu(i,t.cells[0].row,t.cells[0].column)};const Pu=(e,t,o,n)=>{const s=ks(e).rows;const r=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan;const a=s[t.cells[0].row];const c=Bu(t.clipboard,t.generators,a);const i=ad(r,e,c,t.generators,o);return hu(i,t.cells[0].row,t.cells[0].column)};const Fu=(e,t)=>{const o=Ls.fromTable(e);const n=Al(o,t);return n.bind((e=>{const t=e[e.length-1];const n=e[0].column;const s=t.column+t.colspan;const r=W(L(o.all,(e=>F(e.cells,(e=>e.column>=n&&e.column<s)))));return el(r)})).getOr("")};const Vu=(e,t)=>{const o=Ls.fromTable(e);const n=Al(o,t);return n.bind(el).getOr("")};const ju=(e,t)=>{const o=Ls.fromTable(e);const n=Al(o,t);return n.bind((e=>{const t=e[e.length-1];const n=e[0].row;const s=t.row+t.rowspan;const r=o.all.slice(n,s);return tl(r)})).getOr("")};const Zu=(e,t,o,n)=>qd(e,t,o,n.sizing);const Uu=(e,t,o,n)=>Ud(e,t,o,n.sizing,n.resize);const qu=(e,t)=>R(t,(e=>e.column===0&&e.isLocked));const Wu=(e,t)=>R(t,(t=>t.column+t.colspan>=e.grid.columns&&t.isLocked));const $u=(e,t)=>{const o=Hs(e);const n=Wd(t);return j(n,((e,t)=>{const n=o[t.column];const s=n.map(ls).getOr(0);return e+s}),0)};const Gu=e=>(t,o)=>Al(t,o).filter((o=>{const n=e?qu:Wu;return!n(t,o)})).map((e=>({details:e,pixelDelta:$u(t,e)})));const Ku=(e,t)=>Nl(e,t).map((t=>({details:t,pixelDelta:-$u(e,t)})));const Yu=e=>(t,o)=>Tl(t,o).filter((o=>{const n=e?qu:Wu;return!n(t,o.cells)}));const Xu=tu.transform("th");const Ju=tu.transform("td");const Qu=zl(bu,Al,h,h,tu.modification);const ef=zl(vu,Al,h,h,tu.modification);const tf=zl(ku,Gu(true),Uu,h,tu.modification);const of=zl(wu,Gu(false),Uu,h,tu.modification);const nf=zl(Du,Ku,Uu,fu,tu.modification);const sf=zl(Au,Al,h,fu,tu.modification);const rf=zl(_u,Nl,h,h,Xu);const af=zl(Cu,Nl,h,h,Ju);const cf=zl(Eu,Nl,h,h,Xu);const lf=zl(Tu,Nl,h,h,Ju);const df=zl(Ou,Nl,h,h,Ju);const uf=zl(xu,Nl,h,h,Xu);const ff=zl(Su,Nl,h,h,Ju);const mf=zl(Nu,Bl,Zu,h,tu.merging);const gf=zl(Mu,Ll,Zu,h,tu.merging);const pf=zl(Ru,El,Zu,h,tu.modification);const hf=zl(Lu,Yu(true),h,h,tu.modification);const yf=zl(Hu,Yu(false),h,h,tu.modification);const bf=zl(Iu,Tl,h,h,tu.modification);const vf=zl(Pu,Tl,h,h,tu.modification);const kf=Fu;const wf=Vu;const _f=ju;const xf=(e,t)=>e.dispatch("NewRow",{node:t});const Cf=(e,t)=>e.dispatch("NewCell",{node:t});const Sf=(e,t,o)=>{e.dispatch("TableModified",{...o,table:t})};const zf=(e,t,o,n,s)=>{e.dispatch("TableSelectionChange",{cells:t,start:o,finish:n,otherCells:s})};const Ef=e=>{e.dispatch("TableSelectionClear")};const Tf=(e,t,o,n,s)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:n,origin:s})};const Of=(e,t,o,n,s)=>{e.dispatch("ObjectResized",{target:t,width:o,height:n,origin:s})};const Df={structure:false,style:true};const Af={structure:true,style:false};const Nf={structure:true,style:true};const Mf=(e,t)=>{if(rc(e)){return ua.percentageSize(t)}else if(ac(e)){return ua.pixelSize(t)}else{return ua.getTableSize(t)}};const Rf=(e,t,o)=>{const n=e=>Oe(yc(e))==="table";const s=t=>!n(e)||Ki(t).rows>1;const r=t=>!n(e)||Ki(t).columns>1;const a=Ja(e);const c=nc(e)?h:Vi;const i=t=>{switch(ec(e)){case"section":return dl.section();case"sectionCells":return dl.sectionCells();case"cells":return dl.cells();default:return dl.getTableSectionType(t,"section")}};const l=(t,n)=>n.cursor.fold((()=>{const n=tn(t);return Q(n).filter(no).map((n=>{o.clearSelectedCells(t.dom);const s=e.dom.createRng();s.selectNode(n.dom);e.selection.setRng(s);Fe(n,"data-mce-selected","1");return s}))}),(n=>{const s=Fi(n);const r=e.dom.createRng();r.setStart(s.element.dom,s.offset);r.setEnd(s.element.dom,s.offset);e.selection.setRng(r);o.clearSelectedCells(t.dom);return T.some(r)}));const d=(o,n,s,r)=>(c,d,u=false)=>{vc(c);const f=Je.fromDom(e.getDoc());const m=ja(s,f,a);const g={sizing:Mf(e,c),resize:nc(e)?$i():Gi(),section:i(c)};return n(c)?o(c,d,m,g).bind((o=>{t.refresh(c.dom);H(o.newRows,(t=>{xf(e,t.dom)}));H(o.newCells,(t=>{Cf(e,t.dom)}));const n=l(c,o);if(no(c)){vc(c);if(!u){Sf(e,c.dom,r)}}return n.map((e=>({rng:e,effect:r})))})):T.none()};const u=d(sf,s,h,Af);const f=d(nf,r,h,Af);const m=d(Qu,E,h,Af);const g=d(ef,E,h,Af);const p=d(tf,E,c,Af);const y=d(of,E,c,Af);const b=d(mf,E,h,Af);const v=d(gf,E,h,Af);const k=d(hf,E,h,Af);const w=d(yf,E,h,Af);const _=d(bf,E,h,Af);const x=d(vf,E,h,Af);const C=d(pf,E,h,Nf);const S=d(uf,E,h,Af);const z=d(ff,E,h,Af);const O=d(rf,E,h,Af);const D=d(af,E,h,Af);const A=d(cf,E,h,Af);const N=d(lf,E,h,Af);const M=d(df,E,h,Af);const R=wf;const B=kf;const L=_f;return{deleteRow:u,deleteColumn:f,insertRowsBefore:m,insertRowsAfter:g,insertColumnsBefore:p,insertColumnsAfter:y,mergeCells:b,unmergeCells:v,pasteColsBefore:k,pasteColsAfter:w,pasteRowsBefore:_,pasteRowsAfter:x,pasteCells:C,makeCellsHeader:S,unmakeCellsHeader:z,makeColumnsHeader:O,unmakeColumnsHeader:D,makeRowsHeader:A,makeRowsBody:N,makeRowsFooter:M,getTableRowType:L,getTableCellType:R,getTableColType:B}};const Bf=(e,t,o)=>{const n=Uo(e,t,1);if(o===1||n<=1){qe(e,t)}else{Fe(e,t,Math.min(o,n))}};const Lf=(e,t)=>o=>{const n=o.column+o.colspan-1;const s=o.column;return n>=e&&s<t};const Hf=(e,t,o)=>{if(Ls.hasColumns(e)){const n=F(Ls.justColumns(e),Lf(t,o));const s=L(n,(e=>{const n=At(e.element);Bf(n,"span",o-t);return n}));const r=Je.fromTag("colgroup");St(r,s);return[r]}else{return[]}};const If=(e,t,o)=>L(e.all,(e=>{const n=F(e.cells,Lf(t,o));const s=L(n,(e=>{const n=At(e.element);Bf(n,"colspan",o-t);return n}));const r=Je.fromTag("tr");St(r,s);return r}));const Pf=(e,t)=>{const o=Ls.fromTable(e);const n=Nl(o,t);return n.map((e=>{const t=e[e.length-1];const n=e[0].column;const s=t.column+t.colspan;const r=Hf(o,n,s);const a=If(o,n,s);return[...r,...a]}))};const Ff=(e,t,o)=>{const n=Ls.fromTable(e);const s=Al(n,t);return s.bind((e=>{const t=wl(n,o,false);const s=ks(t).rows;const r=s.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan);const a=$(r,(e=>{const t=F(e.cells,(e=>!e.isLocked));return t.length>0?[{...e,cells:t}]:[]}));const c=xl(a);return So(c.length>0,c)})).map((e=>pl(e)))};const Vf=Od.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]);const jf=(e,t,o)=>{const n=o.substring(0,o.length-e.length);const s=parseFloat(n);return n===s.toString()?t(s):Vf.invalid(o)};const Zf=e=>{if(Oo(e,"%")){return jf("%",Vf.percent,e)}if(Oo(e,"px")){return jf("px",Vf.pixels,e)}return Vf.invalid(e)};const Uf={...Vf,from:Zf};const qf=(e,t)=>L(e,(e=>{const o=Uf.from(e);return o.fold((()=>e),(e=>{const o=e/t*100;return o+"%"}),(e=>e+"%"))}));const Wf=(e,t,o)=>{const n=o/t;return L(e,(e=>{const t=Uf.from(e);return t.fold((()=>e),(e=>e*n+"px"),(e=>e/100*o+"px"))}))};const $f=(e,t)=>{const o=e.fold((()=>v("")),(e=>{const o=e/t;return v(o+"px")}),(()=>{const e=100/t;return v(e+"%")}));return B(t,o)};const Gf=(e,t,o)=>e.fold((()=>t),(e=>Wf(t,o,e)),(e=>qf(t,o)));const Kf=(e,t,o)=>{const n=Uf.from(o);const s=G(e,(e=>e==="0px"))?$f(n,e.length):Gf(n,e,t);return Qf(s)};const Yf=(e,t)=>{if(e.length===0){return t}return V(e,((e,t)=>Uf.from(t).fold(v(0),k,k)+e),0)};const Xf=(e,t)=>{const o=Math.floor(e);return{value:o+t,remainder:e-o}};const Jf=(e,t)=>Uf.from(e).fold(v(e),(e=>e+t+"px"),(e=>e+t+"%"));const Qf=e=>{if(e.length===0){return e}const t=V(e,((e,t)=>{const o=Uf.from(t).fold((()=>({value:t,remainder:0})),(e=>Xf(e,"px")),(e=>({value:e+"%",remainder:0})));return{output:[o.value].concat(e.output),remainder:e.remainder+o.remainder}}),{output:[],remainder:0});const o=t.output;return o.slice(0,o.length-1).concat([Jf(o[o.length-1],Math.round(t.remainder))])};const em=Uf.from;const tm=(e,t,o)=>{H(t,(t=>{const n=e.slice(t.column,t.colspan+t.column);const s=Yf(n,Ko());Ho(t.element,"width",s+o)}))};const om=(e,t,o)=>{H(t,((t,n)=>{const s=Yf([e[n]],Ko());Ho(t.element,"width",s+o)}))};const nm=(e,t,o,n)=>{H(o,(t=>{const o=e.slice(t.row,t.rowspan+t.row);const s=Yf(o,Yo());Ho(t.element,"height",s+n)}));H(t,((t,o)=>{Ho(t.element,"height",e[o])}))};const sm=e=>em(e).fold(v("px"),v("px"),v("%"));const rm=(e,t,o)=>{const n=Ls.fromTable(e);const s=n.all;const r=Ls.justCells(n);const a=Ls.justColumns(n);t.each((t=>{const o=sm(t);const s=is(e);const c=Qr(n,e);const i=Kf(c,s,t);if(Ls.hasColumns(n)){om(i,a,o)}else{tm(i,r,o)}Ho(e,"width",t)}));o.each((t=>{const o=sm(t);const a=Us(e);const c=sa(n,e,dr);const i=Kf(c,a,t);nm(i,s,r,o);Ho(e,"height",t)}))};const am=Vr;const cm=jr;const im=Zr;const lm=e=>{qe(e,"width")};const dm=e=>{const t=Fr(e);rm(e,T.some(t),T.none());lm(e)};const um=e=>{const t=Pr(e);rm(e,T.some(t),T.none());lm(e)};const fm=e=>{jo(e,"width");const t=on(e);const o=t.length>0?t:tn(e);H(o,(e=>{jo(e,"width");lm(e)}));lm(e)};const mm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:false};const gm=()=>Je.fromTag("th");const pm=()=>Je.fromTag("td");const hm=()=>Je.fromTag("col");const ym=(e,t,o,n)=>{const s=Je.fromTag("tr");for(let r=0;r<e;r++){const e=n<t||r<o?gm():pm();if(r<o){Fe(e,"scope","row")}if(n<t){Fe(e,"scope","col")}wt(e,Je.fromTag("br"));wt(s,e)}return s};const bm=e=>{const t=Je.fromTag("colgroup");B(e,(()=>wt(t,hm())));return t};const vm=(e,t,o,n)=>B(e,(e=>ym(t,o,n,e)));const km=(e,t,o,n,s,r=mm)=>{const a=Je.fromTag("table");const c=s!=="cells";Io(a,r.styles);Ve(a,r.attributes);if(r.colGroups){wt(a,bm(t))}const i=Math.min(e,o);if(c&&o>0){const e=Je.fromTag("thead");wt(a,e);const r=s==="sectionCells"?i:0;const c=vm(o,t,r,n);St(e,c)}const l=Je.fromTag("tbody");wt(a,l);const d=c?e-i:e;const u=c?0:o;const f=vm(d,t,u,n);St(l,f);return a};const wm=e=>e.dom.innerHTML;const _m=e=>{const t=Je.fromTag("div");const o=Je.fromDom(e.dom.cloneNode(true));wt(t,o);return wm(t)};const xm=(e,t)=>{e.selection.select(t.dom,true);e.selection.collapse(true)};const Cm=(e,t)=>{ko(t,"td,th").each(_(xm,e))};const Sm=(e,t)=>{H(fo(t,"tr"),(t=>{xf(e,t.dom);H(fo(t,"th,td"),(t=>{Cf(e,t.dom)}))}))};const zm=e=>a(e)&&e.indexOf("%")!==-1;const Em=(e,t,o,n,s)=>{const r=fc(e);const a={styles:r,attributes:uc(e),colGroups:mc(e)};e.undoManager.ignore((()=>{const r=km(o,t,s,n,ec(e),a);Fe(r,"data-mce-id","__mce");const c=_m(r);e.insertContent(c);e.addVisual()}));return ko(yc(e),'table[data-mce-id="__mce"]').map((t=>{if(ac(e)){um(t)}else if(cc(e)){fm(t)}else if(rc(e)||zm(r.width)){dm(t)}vc(t);qe(t,"data-mce-id");Sm(e,t);Cm(e,t);return t.dom})).getOrNull()};const Tm=(e,t,o,n={})=>{const s=e=>p(e)&&e>0;if(s(t)&&s(o)){const s=n.headerRows||0;const r=n.headerColumns||0;return Em(e,o,t,r,s)}else{console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.");return null}};var Om=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Dm="x-tinymce/dom-table-";const Am=Dm+"rows";const Nm=Dm+"columns";const Mm=e=>{const t=Om.FakeClipboardItem(e);Om.write([t])};const Rm=e=>{var t;const o=(t=Om.read())!==null&&t!==void 0?t:[];return te(o,(t=>T.from(t.getType(e))))};const Bm=e=>{if(Rm(e).isSome()){Om.clear()}};const Lm=e=>{e.fold(Im,(e=>Mm({[Am]:e})))};const Hm=()=>Rm(Am);const Im=()=>Bm(Am);const Pm=e=>{e.fold(Vm,(e=>Mm({[Nm]:e})))};const Fm=()=>Rm(Nm);const Vm=()=>Bm(Nm);const jm=e=>zi(kc(e),bc(e)).filter(zc);const Zm=e=>Ei(kc(e),bc(e)).filter(zc);const Um=(e,t)=>{const o=bc(e);const n=()=>jm(e).each((t=>{nn(t,o).filter(x(o)).each((t=>{const o=Je.fromText("");vt(t,o);Et(t);if(e.dom.isEmpty(e.getBody())){e.setContent("");e.selection.setCursorLocation()}else{const t=e.dom.createRng();t.setStart(o.dom,0);t.setEnd(o.dom,0);e.selection.setRng(t);e.nodeChanged()}}))}));const s=t=>jm(e).each((n=>{const s=cc(e)||ac(e)||rc(e);if(!s){nn(n,o).each((o=>{if(t==="relative"&&!am(o)){dm(o)}else if(t==="fixed"&&!cm(o)){um(o)}else if(t==="responsive"&&!im(o)){fm(o)}vc(o);Sf(e,o.dom,Af)}))}}));const r=e=>nn(e,o);const i=t=>Zm(e).bind((e=>r(e).map((o=>t(o,e)))));const l=(t,o)=>{i((t=>{e.formatter.toggle("tableclass",{value:o},t.dom);Sf(e,t.dom,Df)}))};const d=(t,o)=>{i((t=>{const n=Ti(e);const s=G(n,(t=>e.formatter.match("tablecellclass",{value:o},t.dom)));const r=s?e.formatter.remove:e.formatter.apply;H(n,(e=>r("tablecellclass",{value:o},e.dom)));Sf(e,t.dom,Df)}))};const u=()=>{jm(e).each((t=>{nn(t,o).each((o=>{vo(o,"caption").fold((()=>{const t=Je.fromTag("caption");wt(t,Je.fromText("Caption"));_t(o,t,0);e.selection.setCursorLocation(t.dom,0)}),(n=>{if(Ie("caption")(t)){ot("td",o).each((t=>e.selection.setCursorLocation(t.dom,0)))}Et(n)}));Sf(e,o.dom,Af)}))}))};const f=t=>{e.focus()};const m=(t,o=false)=>i(((n,s)=>{const r=wi(Ti(e),n,s);t(n,r,o).each(f)}));const g=()=>i(((t,o)=>{const n=wi(Ti(e),t,o);const s=ja(h,Je.fromDom(e.getDoc()),T.none());return Ff(t,n,s)}));const p=()=>i(((t,o)=>{const n=wi(Ti(e),t,o);return Pf(t,n)}));const y=(t,o)=>o().each((o=>{const n=L(o,(e=>At(e)));i(((o,s)=>{const r=Za(Je.fromDom(e.getDoc()));const a=xi(Ti(e),s,n,r);t(o,a).each(f)}))}));const b=e=>(t,o)=>fe(o,"type").each((t=>{m(e(t),o.no_events)}));se({mceTableSplitCells:()=>m(t.unmergeCells),mceTableMergeCells:()=>m(t.mergeCells),mceTableInsertRowBefore:()=>m(t.insertRowsBefore),mceTableInsertRowAfter:()=>m(t.insertRowsAfter),mceTableInsertColBefore:()=>m(t.insertColumnsBefore),mceTableInsertColAfter:()=>m(t.insertColumnsAfter),mceTableDeleteCol:()=>m(t.deleteColumn),mceTableDeleteRow:()=>m(t.deleteRow),mceTableCutCol:()=>p().each((e=>{Pm(e);m(t.deleteColumn)})),mceTableCutRow:()=>g().each((e=>{Lm(e);m(t.deleteRow)})),mceTableCopyCol:()=>p().each((e=>Pm(e))),mceTableCopyRow:()=>g().each((e=>Lm(e))),mceTablePasteColBefore:()=>y(t.pasteColsBefore,Fm),mceTablePasteColAfter:()=>y(t.pasteColsAfter,Fm),mceTablePasteRowBefore:()=>y(t.pasteRowsBefore,Hm),mceTablePasteRowAfter:()=>y(t.pasteRowsAfter,Hm),mceTableDelete:n,mceTableCellToggleClass:d,mceTableToggleClass:l,mceTableToggleCaption:u,mceTableSizingMode:(e,t)=>s(t),mceTableCellType:b((e=>e==="th"?t.makeCellsHeader:t.unmakeCellsHeader)),mceTableColType:b((e=>e==="th"?t.makeColumnsHeader:t.unmakeColumnsHeader)),mceTableRowType:b((e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},((t,o)=>e.addCommand(o,t)));e.addCommand("mceInsertTable",((t,o)=>{Tm(e,o.rows,o.columns,o.options)}));e.addCommand("mceTableApplyCellStyle",((t,o)=>{const n=e=>"tablecell"+e.toLowerCase().replace("-","");if(!c(o)){return}const s=F(Ti(e),zc);if(s.length===0){return}const i=le(o,((t,o)=>e.formatter.has(n(o))&&a(t)));if(pe(i)){return}se(i,((t,o)=>{const r=n(o);H(s,(o=>{if(t===""){e.formatter.remove(r,{value:null},o.dom,true)}else{e.formatter.apply(r,{value:t},o.dom)}}))}));r(s[0]).each((t=>Sf(e,t.dom,Df)))}))};const qm=(e,t)=>{const o=bc(e);const n=t=>Ei(kc(e)).bind((n=>nn(n,o).map((o=>{const s=wi(Ti(e),o,n);return t(o,s)})))).getOr("");se({mceTableRowType:()=>n(t.getTableRowType),mceTableCellType:()=>n(t.getTableCellType),mceTableColType:()=>n(t.getTableColType)},((t,o)=>e.addQueryValueHandler(o,t)))};const Wm=Od.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);const $m=(e,t,o,n)=>e.fold(t,o,n);const Gm=e=>e.fold(k,k,k);const Km=Wm.before;const Ym=Wm.on;const Xm=Wm.after;const Jm={before:Km,on:Ym,after:Xm,cata:$m,getStart:Gm};const Qm=(e,t)=>({selection:e,kill:t});const eg={create:Qm};const tg=(e,t)=>{const o=e.document.createRange();o.selectNode(t.dom);return o};const og=(e,t)=>{const o=e.document.createRange();ng(o,t);return o};const ng=(e,t)=>e.selectNodeContents(t.dom);const sg=(e,t)=>{t.fold((t=>{e.setStartBefore(t.dom)}),((t,o)=>{e.setStart(t.dom,o)}),(t=>{e.setStartAfter(t.dom)}))};const rg=(e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,o)=>{e.setEnd(t.dom,o)}),(t=>{e.setEndAfter(t.dom)}))};const ag=(e,t,o)=>{const n=e.document.createRange();sg(n,t);rg(n,o);return n};const cg=(e,t,o,n,s)=>{const r=e.document.createRange();r.setStart(t.dom,o);r.setEnd(n.dom,s);return r};const ig=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height});const lg=e=>{const t=e.getClientRects();const o=t.length>0?t[0]:e.getBoundingClientRect();return o.width>0||o.height>0?T.some(o).map(ig):T.none()};const dg=Od.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);const ug=(e,t,o)=>t(Je.fromDom(o.startContainer),o.startOffset,Je.fromDom(o.endContainer),o.endOffset);const fg=(e,t)=>t.match({domRange:e=>({ltr:v(e),rtl:T.none}),relative:(t,o)=>({ltr:un((()=>ag(e,t,o))),rtl:un((()=>T.some(ag(e,o,t))))}),exact:(t,o,n,s)=>({ltr:un((()=>cg(e,t,o,n,s))),rtl:un((()=>T.some(cg(e,n,s,t,o))))})});const mg=(e,t)=>{const o=t.ltr();if(o.collapsed){const n=t.rtl().filter((e=>e.collapsed===false));return n.map((e=>dg.rtl(Je.fromDom(e.endContainer),e.endOffset,Je.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>ug(e,dg.ltr,o)))}else{return ug(e,dg.ltr,o)}};const gg=(e,t)=>{const o=fg(e,t);return mg(e,o)};const pg=(e,t)=>{const o=gg(e,t);return o.match({ltr:(t,o,n,s)=>{const r=e.document.createRange();r.setStart(t.dom,o);r.setEnd(n.dom,s);return r},rtl:(t,o,n,s)=>{const r=e.document.createRange();r.setStart(n.dom,s);r.setEnd(t.dom,o);return r}})};dg.ltr;dg.rtl;const hg=(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n});const yg={create:hg};const bg=(e,t,o,n)=>({start:Jm.on(e,t),finish:Jm.on(o,n)});const vg={create:bg};const kg=(e,t)=>{const o=pg(e,t);return yg.create(Je.fromDom(o.startContainer),o.startOffset,Je.fromDom(o.endContainer),o.endOffset)};const wg=vg.create;const _g=(e,t,o,n,s,r,a)=>{if(!(nt(o,s)&&n===r)){return wo(o,"td,th",t).bind((o=>wo(s,"td,th",t).bind((n=>xg(e,t,o,n,a)))))}else{return T.none()}};const xg=(e,t,o,n,s)=>{if(!nt(o,n)){return ti(o,n,t).bind((t=>{const n=t.boxes.getOr([]);if(n.length>1){s(e,n,t.start,t.finish);return T.some(eg.create(T.some(wg(o,0,o,Sa(o))),true))}else{return T.none()}}))}else{return T.none()}};const Cg=(e,t,o,n,s)=>{const r=e=>{s.clearBeforeUpdate(o);s.selectRange(o,e.boxes,e.start,e.finish);return e.boxes};return ai(n,e,t,s.firstSelectedSelector,s.lastSelectedSelector).map(r)};const Sg=(e,t)=>({item:e,mode:t});const zg=(e,t,o,n=Eg)=>e.property().parent(t).map((e=>Sg(e,n)));const Eg=(e,t,o,n=Tg)=>o.sibling(e,t).map((e=>Sg(e,n)));const Tg=(e,t,o,n=Tg)=>{const s=e.property().children(t);const r=o.first(s);return r.map((e=>Sg(e,n)))};const Og=[{current:zg,next:Eg,fallback:T.none()},{current:Eg,next:Tg,fallback:T.some(zg)},{current:Tg,next:Tg,fallback:T.some(Eg)}];const Dg=(e,t,o,n,s=Og)=>{const r=U(s,(e=>e.current===o));return r.bind((o=>o.current(e,t,n,o.next).orThunk((()=>o.fallback.bind((o=>Dg(e,t,o,n)))))))};const Ag=()=>{const e=(e,t)=>e.query().prevSibling(t);const t=e=>e.length>0?T.some(e[e.length-1]):T.none();return{sibling:e,first:t}};const Ng=()=>{const e=(e,t)=>e.query().nextSibling(t);const t=e=>e.length>0?T.some(e[0]):T.none();return{sibling:e,first:t}};const Mg={left:Ag,right:Ng};const Rg=(e,t,o,n,s,r)=>{const a=Dg(e,t,n,s);return a.bind((t=>{if(r(t.item)){return T.none()}else{return o(t.item)?T.some(t.item):Rg(e,t.item,o,t.mode,s,r)}}))};const Bg=(e,t,o,n)=>Rg(e,t,o,Eg,Mg.left(),n);const Lg=(e,t,o,n)=>Rg(e,t,o,Eg,Mg.right(),n);const Hg=e=>t=>e.property().children(t).length===0;const Ig=(e,t,o)=>Fg(e,t,Hg(e),o);const Pg=(e,t,o)=>Vg(e,t,Hg(e),o);const Fg=Bg;const Vg=Lg;const jg=jc();const Zg=(e,t)=>Ig(jg,e,t);const Ug=(e,t)=>Pg(jg,e,t);const qg=(e,t,o)=>Fg(jg,e,t,o);const Wg=(e,t,o)=>Vg(jg,e,t,o);const $g=(e,t,o)=>go(e,t,o).isSome();const Gg=Od.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]);const Kg=(e,t,o)=>{const n=e.getRect(t);const s=e.getRect(o);return s.right>n.left&&s.left<n.right};const Yg=e=>wo(e,"tr");const Xg=(e,t,o,n,s,r,a)=>wo(n,"td,th",a).bind((o=>wo(t,"td,th",a).map((t=>{if(!nt(o,t)){return Jc(Yg,[o,t]).fold((()=>Kg(e,t,o)?Gg.success():r(t)),(e=>r(t)))}else{return nt(n,o)&&Sa(o)===s?r(t):Gg.none("in same cell")}})))).getOr(Gg.none("default"));const Jg=(e,t,o,n,s)=>e.fold(t,o,n,s);const Qg={...Gg,verify:Xg,cata:Jg};const ep=(e,t,o,n)=>({parent:e,children:t,element:o,index:n});const tp=e=>dt(e).bind((t=>{const o=pt(t);return op(o,e).map((n=>ep(t,o,e,n)))}));const op=(e,t)=>q(e,_(nt,t));const np=Ie("br");const sp=(e,t,o)=>t(e,o).bind((e=>Be(e)&&_a(e).trim().length===0?sp(e,t,o):T.some(e)));const rp=(e,t,o)=>o.traverse(t).orThunk((()=>sp(t,o.gather,e))).map(o.relative);const ap=(e,t)=>ht(e,t).filter(np).orThunk((()=>ht(e,t-1).filter(np)));const cp=(e,t,o,n)=>ap(t,o).bind((t=>n.traverse(t).fold((()=>sp(t,n.gather,e).map(n.relative)),(e=>tp(e).map((e=>Jm.on(e.parent,e.index)))))));const ip=(e,t,o,n)=>{const s=np(t)?rp(e,t,n):cp(e,t,o,n);return s.map((e=>({start:e,finish:e})))};const lp=e=>Qg.cata(e,(e=>T.none()),(()=>T.none()),(e=>T.some(Ri(e,0))),(e=>T.some(Ri(e,Sa(e)))));const dp=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t});const up=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t});const fp=(e,t,o)=>({left:e.left+t,top:e.top+o,right:e.right+t,bottom:e.bottom+o});const mp=e=>e.top;const gp=e=>e.bottom;const pp=(e,t,o)=>{if(o>=0&&o<Sa(t)){return e.getRangedRect(t,o,t,o+1)}else if(o>0){return e.getRangedRect(t,o-1,t,o)}return T.none()};const hp=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom});const yp=(e,t)=>T.some(e.getRect(t));const bp=(e,t,o)=>{if(Re(t)){return yp(e,t).map(hp)}else if(Be(t)){return pp(e,t,o).map(hp)}else{return T.none()}};const vp=(e,t)=>{if(Re(t)){return yp(e,t).map(hp)}else if(Be(t)){return e.getRangedRect(t,0,t,Sa(t)).map(hp)}else{return T.none()}};const kp=5;const wp=100;const _p=Od.generate([{none:[]},{retry:["caret"]}]);const xp=(e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right;const Cp=(e,t,o)=>po(t,cu).fold(z,(t=>vp(e,t).exists((e=>xp(o,e)))));const Sp=(e,t,o,n,s)=>{const r=dp(s,kp);if(Math.abs(o.bottom-n.bottom)<1){return _p.retry(r)}else if(o.top>s.bottom){return _p.retry(r)}else if(o.top===s.bottom){return _p.retry(dp(s,1))}else{return Cp(e,t,s)?_p.retry(fp(r,kp,0)):_p.none()}};const zp=(e,t,o,n,s)=>{const r=up(s,kp);if(Math.abs(o.top-n.top)<1){return _p.retry(r)}else if(o.bottom<s.top){return _p.retry(r)}else if(o.bottom===s.top){return _p.retry(up(s,1))}else{return Cp(e,t,s)?_p.retry(fp(r,kp,0)):_p.none()}};const Ep={point:mp,adjuster:zp,move:up,gather:Zg};const Tp={point:gp,adjuster:Sp,move:dp,gather:Ug};const Op=(e,t,o)=>e.elementFromPoint(t,o).filter((e=>Oe(e)==="table")).isSome();const Dp=(e,t,o,n,s)=>Ap(e,t,o,t.move(n,kp),s);const Ap=(e,t,o,n,s)=>{if(s===0){return T.some(n)}if(Op(e,n.left,t.point(n))){return Dp(e,t,o,n,s-1)}return e.situsFromPoint(n.left,t.point(n)).bind((r=>r.start.fold(T.none,(r=>vp(e,r).bind((a=>t.adjuster(e,r,a,o,n).fold(T.none,(n=>Ap(e,t,o,n,s-1))))).orThunk((()=>T.some(n)))),T.none)))};const Np=(e,t,o)=>{if(e.point(t)>o.getInnerHeight()){return T.some(e.point(t)-o.getInnerHeight())}else if(e.point(t)<0){return T.some(-e.point(t))}else{return T.none()}};const Mp=(e,t,o)=>{const n=e.move(o,kp);const s=Ap(t,e,o,n,wp).getOr(n);return Np(e,s,t).fold((()=>t.situsFromPoint(s.left,e.point(s))),(o=>{t.scrollBy(0,o);return t.situsFromPoint(s.left,e.point(s)-o)}))};const Rp={tryUp:_(Mp,Ep),tryDown:_(Mp,Tp),getJumpSize:v(kp)};const Bp=20;const Lp=(e,t,o)=>e.getSelection().bind((n=>ip(t,n.finish,n.foffset,o).fold((()=>T.some(Ri(n.finish,n.foffset))),(s=>{const r=e.fromSitus(s);const a=Qg.verify(e,n.finish,n.foffset,r.finish,r.foffset,o.failure,t);return lp(a)}))));const Hp=(e,t,o,n,s,r)=>{if(r===0){return T.none()}return Fp(e,t,o,n,s).bind((a=>{const c=e.fromSitus(a);const i=Qg.verify(e,o,n,c.finish,c.foffset,s.failure,t);return Qg.cata(i,(()=>T.none()),(()=>T.some(a)),(a=>{if(nt(o,a)&&n===0){return Ip(e,o,n,up,s)}else{return Hp(e,t,a,0,s,r-1)}}),(a=>{if(nt(o,a)&&n===Sa(a)){return Ip(e,o,n,dp,s)}else{return Hp(e,t,a,Sa(a),s,r-1)}}))}))};const Ip=(e,t,o,n,s)=>bp(e,t,o).bind((t=>Pp(e,s,n(t,Rp.getJumpSize()))));const Pp=(e,t,o)=>{const n=Jn().browser;if(n.isChromium()||n.isSafari()||n.isFirefox()){return t.retry(e,o)}else{return T.none()}};const Fp=(e,t,o,n,s)=>bp(e,o,n).bind((t=>Pp(e,s,t)));const Vp=(e,t,o)=>Lp(e,t,o).bind((n=>Hp(e,t,n.element,n.offset,o,Bp).map(e.fromSitus)));const jp=(e,t)=>$g(e,(e=>dt(e).exists((e=>nt(e,t)))));const Zp=(e,t,o,n,s)=>wo(n,"td,th",t).bind((n=>wo(n,"table",t).bind((r=>{if(!jp(s,r)){return T.none()}return Vp(e,t,o).bind((e=>wo(e.finish,"td,th",t).map((t=>({start:n,finish:t,range:e})))))}))));const Up=(e,t,o,n,s,r)=>r(n,t).orThunk((()=>Zp(e,t,o,n,s).map((e=>{const t=e.range;return eg.create(T.some(wg(t.start,t.soffset,t.finish,t.foffset)),true)}))));const qp=(e,t)=>wo(e,"tr",t).bind((e=>wo(e,"table",t).bind((o=>{const n=fo(o,"tr");if(nt(e,n[0])){return qg(o,(e=>Aa(e).isSome()),t).map((e=>{const t=Sa(e);return eg.create(T.some(wg(e,t,e,t)),true)}))}else{return T.none()}}))));const Wp=(e,t)=>wo(e,"tr",t).bind((e=>wo(e,"table",t).bind((o=>{const n=fo(o,"tr");if(nt(e,n[n.length-1])){return Wg(o,(e=>Da(e).isSome()),t).map((e=>eg.create(T.some(wg(e,0,e,0)),true)))}else{return T.none()}}))));const $p=(e,t,o,n,s,r,a)=>Zp(e,o,n,s,r).bind((e=>xg(t,o,e.start,e.finish,a)));const Gp=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const Kp=e=>{const t=Gp(T.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(T.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(T.some(e))};return{clear:n,isSet:s,get:r,set:a}};const Yp=()=>{const e=Kp(h);const t=t=>e.get().each(t);return{...e,on:t}};const Xp=(e,t)=>wo(e,"td,th",t);const Jp=e=>ut(e).exists(pc);const Qp=(e,t,o,n)=>{const s=Yp();const r=s.clear;const a=r=>{s.on((s=>{n.clearBeforeUpdate(t);Xp(r.target,o).each((a=>{ti(s,a,o).each((o=>{const s=o.boxes.getOr([]);if(s.length===1){const o=s[0];const a=hc(o)==="false";const c=_o(gc(r.target),o,nt);if(a&&c){n.selectRange(t,s,o,o);e.selectContents(o)}}else if(s.length>1){n.selectRange(t,s,o.start,o.finish);e.selectContents(a)}}))}))}))};const c=e=>{n.clear(t);Xp(e.target,o).filter(Jp).each(s.set)};const i=e=>{a(e)};const l=e=>{a(e);r()};return{clearstate:r,mousedown:c,mouseover:i,mouseup:l}};const eh={traverse:gt,gather:Ug,relative:Jm.before,retry:Rp.tryDown,failure:Qg.failedDown};const th={traverse:mt,gather:Zg,relative:Jm.before,retry:Rp.tryUp,failure:Qg.failedUp};const oh=e=>t=>t===e;const nh=oh(38);const sh=oh(40);const rh=e=>e>=37&&e<=40;const ah={isBackward:oh(37),isForward:oh(39)};const ch={isBackward:oh(39),isForward:oh(37)};const ih=e=>{const t=e!==undefined?e.dom:document;const o=t.body.scrollLeft||t.documentElement.scrollLeft;const n=t.body.scrollTop||t.documentElement.scrollTop;return Gs(o,n)};const lh=(e,t,o)=>{const n=o!==undefined?o.dom:document;const s=n.defaultView;if(s){s.scrollBy(e,t)}};const dh=Od.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]);const uh=e=>dh.exact(e.start,e.soffset,e.finish,e.foffset);const fh=e=>e.match({domRange:e=>Je.fromDom(e.startContainer),relative:(e,t)=>Jm.getStart(e),exact:(e,t,o,n)=>e});const mh=dh.domRange;const gh=dh.relative;const ph=dh.exact;const hh=e=>{const t=fh(e);return lt(t)};const yh=yg.create;const bh={domRange:mh,relative:gh,exact:ph,exactFromRange:uh,getWin:hh,range:yh};const vh=(e,t,o)=>{var n,s;return T.from((s=(n=e.dom).caretPositionFromPoint)===null||s===void 0?void 0:s.call(n,t,o)).bind((t=>{if(t.offsetNode===null){return T.none()}const o=e.dom.createRange();o.setStart(t.offsetNode,t.offset);o.collapse();return T.some(o)}))};const kh=(e,t,o)=>{var n,s;return T.from((s=(n=e.dom).caretRangeFromPoint)===null||s===void 0?void 0:s.call(n,t,o))};const wh=(()=>{if(document.caretPositionFromPoint){return vh}else if(document.caretRangeFromPoint){return kh}else{return T.none}})();const _h=(e,t,o)=>{const n=Je.fromDom(e.document);return wh(n,t,o).map((e=>yg.create(Je.fromDom(e.startContainer),e.startOffset,Je.fromDom(e.endContainer),e.endOffset)))};const xh=(e,t)=>{const o=Oe(e);if("input"===o){return Jm.after(e)}else if(!M(["br","img"],o)){return Jm.on(e,t)}else{return t===0?Jm.before(e):Jm.after(e)}};const Ch=(e,t)=>{const o=e.fold(Jm.before,xh,Jm.after);const n=t.fold(Jm.before,xh,Jm.after);return bh.relative(o,n)};const Sh=(e,t,o,n)=>{const s=xh(e,t);const r=xh(o,n);return bh.relative(s,r)};const zh=(e,t,o,n)=>{const s=at(e);const r=s.dom.createRange();r.setStart(e.dom,t);r.setEnd(o.dom,n);return r};const Eh=(e,t,o,n)=>{const s=zh(e,t,o,n);const r=nt(e,o)&&t===n;return s.collapsed&&!r};const Th=e=>T.from(e.getSelection());const Oh=(e,t)=>{Th(e).each((e=>{e.removeAllRanges();e.addRange(t)}))};const Dh=(e,t,o,n,s)=>{const r=cg(e,t,o,n,s);Oh(e,r)};const Ah=(e,t,o,n,s,r)=>{t.collapse(o.dom,n);t.extend(s.dom,r)};const Nh=(e,t)=>gg(e,t).match({ltr:(t,o,n,s)=>{Dh(e,t,o,n,s)},rtl:(t,o,n,s)=>{Th(e).each((r=>{if(r.setBaseAndExtent){r.setBaseAndExtent(t.dom,o,n.dom,s)}else if(r.extend){try{Ah(e,r,t,o,n,s)}catch(r){Dh(e,n,s,t,o)}}else{Dh(e,n,s,t,o)}}))}});const Mh=(e,t,o,n,s)=>{const r=Sh(t,o,n,s);Nh(e,r)};const Rh=(e,t,o)=>{const n=Ch(t,o);Nh(e,n)};const Bh=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0);const o=e.getRangeAt(e.rangeCount-1);return T.some(yg.create(Je.fromDom(t.startContainer),t.startOffset,Je.fromDom(o.endContainer),o.endOffset))}else{return T.none()}};const Lh=e=>{if(e.anchorNode===null||e.focusNode===null){return Bh(e)}else{const t=Je.fromDom(e.anchorNode);const o=Je.fromDom(e.focusNode);return Eh(t,e.anchorOffset,o,e.focusOffset)?T.some(yg.create(t,e.anchorOffset,o,e.focusOffset)):Bh(e)}};const Hh=(e,t,o=true)=>{const n=o?og:tg;const s=n(e,t);Oh(e,s)};const Ih=e=>Th(e).filter((e=>e.rangeCount>0)).bind(Lh);const Ph=e=>Ih(e).map((e=>bh.exact(e.start,e.soffset,e.finish,e.foffset)));const Fh=(e,t)=>{const o=pg(e,t);return lg(o)};const Vh=(e,t,o)=>_h(e,t,o);const jh=e=>{Th(e).each((e=>e.removeAllRanges()))};const Zh=e=>{const t=(t,o)=>Je.fromPoint(Je.fromDom(e.document),t,o);const o=e=>e.dom.getBoundingClientRect();const n=(t,o,n,s)=>{const r=bh.exact(t,o,n,s);return Fh(e,r)};const s=()=>Ph(e).map((t=>kg(e,t)));const r=t=>{const o=bh.relative(t.start,t.finish);return kg(e,o)};const a=(t,o)=>Vh(e,t,o).map((e=>vg.create(e.start,e.soffset,e.finish,e.foffset)));const c=()=>{jh(e)};const i=(t=false)=>{Ph(e).each((o=>o.fold((e=>e.collapse(t)),((o,n)=>{const s=t?o:n;Rh(e,s,s)}),((o,n,s,r)=>{const a=t?o:s;const c=t?n:r;Mh(e,a,c,a,c)}))))};const l=t=>{Hh(e,t,false)};const d=t=>{Hh(e,t)};const u=t=>{Mh(e,t.start,t.soffset,t.finish,t.foffset)};const f=(t,o)=>{Rh(e,t,o)};const m=()=>e.innerHeight;const g=()=>{const t=ih(Je.fromDom(e.document));return t.top};const p=(t,o)=>{lh(t,o,Je.fromDom(e.document))};return{elementFromPoint:t,getRect:o,getRangedRect:n,getSelection:s,fromSitus:r,situsFromPoint:a,clearSelection:c,collapseSelection:i,setSelection:u,setRelativeSelection:f,selectNode:l,selectContents:d,getInnerHeight:m,getScrollY:g,scrollBy:p}};const Uh=(e,t)=>({rows:e,cols:t});const qh=(e,t,o,n)=>{const s=Zh(e);const r=Qp(s,t,o,n);return{clearstate:r.clearstate,mousedown:r.mousedown,mouseover:r.mouseover,mouseup:r.mouseup}};const Wh=e=>po(e,Me).exists(pc);const $h=(e,t)=>Wh(e)||Wh(t);const Gh=(e,t,o,n)=>{const s=Zh(e);const r=()=>{n.clear(t);return T.none()};const a=(e,a,c,i,l,d)=>{const u=e.raw;const f=u.which;const m=u.shiftKey===true;const g=oi(t,n.selectedSelector).fold((()=>{if(rh(f)&&!m){n.clearBeforeUpdate(t)}if(rh(f)&&m&&!$h(a,i)){return T.none}else if(sh(f)&&m){return _($p,s,t,o,eh,i,a,n.selectRange)}else if(nh(f)&&m){return _($p,s,t,o,th,i,a,n.selectRange)}else if(sh(f)){return _(Up,s,o,eh,i,a,Wp)}else if(nh(f)){return _(Up,s,o,th,i,a,qp)}else{return T.none}}),(e=>{const o=o=>()=>{const r=te(o,(o=>Cg(o.rows,o.cols,t,e,n)));return r.fold((()=>si(t,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>{const o=sh(f)||d.isForward(f)?Jm.after:Jm.before;s.setRelativeSelection(Jm.on(e.first,0),o(e.table));n.clear(t);return eg.create(T.none(),true)}))),(e=>T.some(eg.create(T.none(),true))))};if(rh(f)&&m&&!$h(a,i)){return T.none}else if(sh(f)&&m){return o([Uh(+1,0)])}else if(nh(f)&&m){return o([Uh(-1,0)])}else if(d.isBackward(f)&&m){return o([Uh(0,-1),Uh(-1,0)])}else if(d.isForward(f)&&m){return o([Uh(0,+1),Uh(+1,0)])}else if(rh(f)&&!m){return r}else{return T.none}}));return g()};const c=(e,s,r,a,c)=>oi(t,n.selectedSelector).fold((()=>{const i=e.raw;const l=i.which;const d=i.shiftKey===true;if(!d){return T.none()}if(rh(l)&&$h(s,a)){return _g(t,o,s,r,a,c,n.selectRange)}else{return T.none()}}),T.none);return{keydown:a,keyup:c}};const Kh=(e,t,o,n)=>{const s=Zh(e);return(e,r)=>{n.clearBeforeUpdate(t);ti(e,r,o).each((e=>{const o=e.boxes.getOr([]);n.selectRange(t,o,e.start,e.finish);s.selectContents(r);s.collapseSelection()}))}};const Yh=(e,t)=>{const o=Ze(e,t);return o===undefined||o===""?[]:o.split(" ")};const Xh=(e,t,o)=>{const n=Yh(e,t);const s=n.concat([o]);Fe(e,t,s.join(" "));return true};const Jh=(e,t,o)=>{const n=F(Yh(e,t),(e=>e!==o));if(n.length>0){Fe(e,t,n.join(" "))}else{qe(e,t)}return false};const Qh=e=>e.dom.classList!==undefined;const ey=e=>Yh(e,"class");const ty=(e,t)=>Xh(e,"class",t);const oy=(e,t)=>Jh(e,"class",t);const ny=(e,t)=>{if(Qh(e)){e.dom.classList.add(t)}else{ty(e,t)}};const sy=e=>{const t=Qh(e)?e.dom.classList:ey(e);if(t.length===0){qe(e,"class")}};const ry=(e,t)=>{if(Qh(e)){const o=e.dom.classList;o.remove(t)}else{oy(e,t)}sy(e)};const ay=(e,t)=>Qh(e)&&e.dom.classList.contains(t);const cy=(e,t)=>{H(t,(t=>{ry(e,t)}))};const iy=e=>t=>{ny(t,e)};const ly=e=>t=>{cy(t,e)};const dy=e=>{const t=iy(e.selected);const o=ly([e.selected,e.lastSelected,e.firstSelected]);const n=t=>{const n=fo(t,e.selectedSelector);H(n,o)};const s=(o,s,r,a)=>{n(o);H(s,t);ny(r,e.firstSelected);ny(a,e.lastSelected)};return{clearBeforeUpdate:n,clear:n,selectRange:s,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}};const uy=(e,t,o)=>{const n=t=>{qe(t,e.selected);qe(t,e.firstSelected);qe(t,e.lastSelected)};const s=t=>{Fe(t,e.selected,"1")};const r=e=>{a(e);o()};const a=t=>{const o=fo(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`);H(o,n)};const c=(o,n,a,c)=>{r(o);H(n,s);Fe(a,e.firstSelected,"1");Fe(c,e.lastSelected,"1");t(n,a,c)};return{clearBeforeUpdate:a,clear:r,selectRange:c,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}};const fy={byClass:dy,byAttr:uy};const my=(e,t,o,n)=>{switch(e.tag){case"none":return t();case"single":return n(e.element);case"multiple":return o(e.elements)}};const gy=()=>({tag:"none"});const py=e=>({tag:"multiple",elements:e});const hy=e=>({tag:"single",element:e});const yy=(e,t,o)=>{const n=()=>ci(e(),o).fold((()=>t().fold(gy,hy)),py);return{get:n}};const by=(e,t)=>{const o=e.slice(0,t[t.length-1].row+1);const n=xl(o);return $(n,(e=>{const o=e.cells.slice(0,t[t.length-1].column+1);return L(o,(e=>e.element))}))};const vy=(e,t)=>{const o=e.slice(t[0].row+t[0].rowspan-1,e.length);const n=xl(o);return $(n,(e=>{const o=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return L(o,(e=>e.element))}))};const ky=(e,t,o)=>{const n=Ls.fromTable(e);const s=Al(n,t);return s.map((e=>{const t=wl(n,o,false);const{rows:s}=ks(t);const r=by(s,e);const a=vy(s,e);return{upOrLeftCells:r,downOrRightCells:a}}))};const wy=(e,t,o,n,s,r,a)=>({target:e,x:t,y:o,stop:n,prevent:s,kill:r,raw:a});const _y=e=>{const t=Je.fromDom(to(e).getOr(e.target));const o=()=>e.stopPropagation();const n=()=>e.preventDefault();const s=y(n,o);return wy(t,e.clientX,e.clientY,o,n,s,e)};const xy=(e,t)=>o=>{if(e(o)){t(_y(o))}};const Cy=(e,t,o,n,s)=>{const r=xy(o,n);e.dom.addEventListener(t,r,s);return{unbind:_(zy,e,t,r,s)}};const Sy=(e,t,o,n)=>Cy(e,t,o,n,false);const zy=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)};const Ey=E;const Ty=(e,t,o)=>Sy(e,t,Ey,o);const Oy=_y;const Dy=e=>!ay(Je.fromDom(e.target),"ephox-snooker-resizer-bar");const Ay=(e,t)=>{const o=yy((()=>Je.fromDom(e.getBody())),(()=>Ei(kc(e),bc(e))),ki.selectedSelector);const n=(t,o,n)=>{const s=nn(o);s.each((s=>{const r=Ja(e);const a=ja(h,Je.fromDom(e.getDoc()),r);const c=Ti(e);const i=ky(s,{selection:c},a);zf(e,t,o,n,i)}))};const s=()=>Ef(e);const r=fy.byAttr(ki,n,s);e.on("init",(o=>{const n=e.getWin();const s=yc(e);const a=bc(e);const c=()=>{const t=e.selection;const o=Je.fromDom(t.getStart());const n=Je.fromDom(t.getEnd());const a=Jc(nn,[o,n]);a.fold((()=>r.clear(s)),h)};const i=qh(n,s,a,r);const l=Gh(n,s,a,r);const d=Kh(n,s,a,r);const u=e=>e.raw.shiftKey===true;e.on("TableSelectorChange",(e=>d(e.start,e.finish)));const f=(t,o)=>{if(!u(t)){return}if(o.kill){t.kill()}o.selection.each((t=>{const o=bh.relative(t.start,t.finish);const s=pg(n,o);e.selection.setRng(s)}))};const m=t=>{const o=Oy(t);if(o.raw.shiftKey&&rh(o.raw.which)){const t=e.selection.getRng();const n=Je.fromDom(t.startContainer);const s=Je.fromDom(t.endContainer);l.keyup(o,n,t.startOffset,s,t.endOffset).each((e=>{f(o,e)}))}};const g=o=>{const n=Oy(o);t.hide();const s=e.selection.getRng();const r=Je.fromDom(s.startContainer);const a=Je.fromDom(s.endContainer);const c=Vs(ah,ch)(Je.fromDom(e.selection.getStart()));l.keydown(n,r,s.startOffset,a,s.endOffset,c).each((e=>{f(n,e)}));t.show()};const p=e=>e.button===0;const y=e=>{if(e.buttons===undefined){return true}return(e.buttons&1)!==0};const b=e=>{i.clearstate()};const v=e=>{if(p(e)&&Dy(e)){i.mousedown(Oy(e))}};const k=e=>{if(y(e)&&Dy(e)){i.mouseover(Oy(e))}};const w=e=>{if(p(e)&&Dy(e)){i.mouseup(Oy(e))}};const _=()=>{const e=Gp(Je.fromDom(s));const t=Gp(0);const o=o=>{const n=Je.fromDom(o.target);if(Ie("td")(n)||Ie("th")(n)){const s=e.get();const r=t.get();if(nt(s,n)&&o.timeStamp-r<300){o.preventDefault();d(n,n)}}e.set(n);t.set(o.timeStamp)};return{touchEnd:o}};const x=_();e.on("dragstart",b);e.on("mousedown",v);e.on("mouseover",k);e.on("mouseup",w);e.on("touchend",x.touchEnd);e.on("keyup",m);e.on("keydown",g);e.on("NodeChange",c)}));e.on("PreInit",(()=>{e.serializer.addTempAttr(ki.firstSelected);e.serializer.addTempAttr(ki.lastSelected)}));const a=e=>r.clear(Je.fromDom(e));const c=()=>my(o.get(),v([]),(e=>L(e,(e=>e.dom))),(e=>[e.dom]));return{getSelectedCells:c,clearSelectedCells:a}};const Ny=e=>{let t=[];const o=e=>{if(e===undefined){throw new Error("Event bind error: undefined handler")}t.push(e)};const n=e=>{t=F(t,(t=>t!==e))};const s=(...o)=>{const n={};H(e,((e,t)=>{n[e]=o[t]}));H(t,(e=>{e(n)}))};return{bind:o,unbind:n,trigger:s}};const My=e=>{const t=re(e,(e=>({bind:e.bind,unbind:e.unbind})));const o=re(e,(e=>e.trigger));return{registry:t,trigger:o}};const Ry=(e,t)=>{let o=null;const n=()=>{if(!l(o)){clearTimeout(o);o=null}};const s=(...s)=>{n();o=setTimeout((()=>{o=null;e.apply(null,s)}),t)};return{cancel:n,throttle:s}};const By=e=>e.slice(0).sort();const Ly=(e,t)=>{throw new Error("All required keys ("+By(e).join(", ")+") were not specified. Specified keys were: "+By(t).join(", ")+".")};const Hy=e=>{throw new Error("Unsupported keys for object: "+By(e).join(", "))};const Iy=(e,t)=>{if(!i(t)){throw new Error("The "+e+" fields must be an array. Was: "+t+".")}H(t,(t=>{if(!a(t)){throw new Error("The value "+t+" in the "+e+" fields was not a string.")}}))};const Py=(e,t)=>{throw new Error("All values need to be of type: "+t+". Keys ("+By(e).join(", ")+") were not.")};const Fy=e=>{const t=By(e);const o=U(t,((e,o)=>o<t.length-1&&e===t[o+1]));o.each((e=>{throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))};const Vy=(e,t)=>jy(e,t,{validate:g,label:"function"});const jy=(e,t,o)=>{if(t.length===0){throw new Error("You must specify at least one required field.")}Iy("required",t);Fy(t);return n=>{const s=oe(n);const r=G(t,(e=>M(s,e)));if(!r){Ly(t,s)}e(t,s);const a=F(t,(e=>!o.validate(n[e],e)));if(a.length>0){Py(a,o.label)}return n}};const Zy=(e,t)=>{const o=F(t,(t=>!M(e,t)));if(o.length>0){Hy(o)}};const Uy=e=>Vy(Zy,e);const qy=Uy(["compare","extract","mutate","sink"]);const Wy=Uy(["element","start","stop","destroy"]);const $y=Uy(["forceDrop","drop","move","delayDrop"]);const Gy=()=>{let e=T.none();const t=()=>{e=T.none()};const o=(t,o)=>{const n=e.map((e=>t.compare(e,o)));e=T.some(o);return n};const n=(e,t)=>{const n=t.extract(e);n.each((e=>{const n=o(t,e);n.each((e=>{s.trigger.move(e)}))}))};const s=My({move:Ny(["info"])});return{onEvent:n,reset:t,events:s.registry}};const Ky=()=>{const e=My({move:Ny(["info"])});return{onEvent:h,reset:h,events:e.registry}};const Yy=()=>{const e=Ky();const t=Gy();let o=e;const n=()=>{o.reset();o=t};const s=()=>{o.reset();o=e};const r=(e,t)=>{o.onEvent(e,t)};const a=()=>o===t;return{on:n,off:s,isOn:a,onEvent:r,events:t.events}};const Xy=(e,t,o)=>{let n=false;const s=My({start:Ny([]),stop:Ny([])});const r=Yy();const a=()=>{g.stop();if(r.isOn()){r.off();s.trigger.stop()}};const c=Ry(a,200);const i=e=>{g.start(e);r.on();s.trigger.start()};const l=e=>{c.cancel();r.onEvent(e,t)};r.events.move.bind((o=>{t.mutate(e,o.info)}));const d=()=>{n=true};const u=()=>{n=false};const f=()=>n;const m=e=>(...t)=>{if(n){e.apply(null,t)}};const g=t.sink($y({forceDrop:a,drop:m(a),move:m(l),delayDrop:m(c.throttle)}),o);const p=()=>{g.destroy()};return{element:g.element,go:i,on:d,off:u,isActive:f,destroy:p,events:s.registry}};const Jy=e=>{const t=e.replace(/\./g,"-");const o=e=>t+"-"+e;return{resolve:o}};const Qy=Jy("ephox-dragster");const eb=Qy.resolve;const tb=e=>{const t={layerClass:eb("blocker"),...e};const o=Je.fromTag("div");Fe(o,"role","presentation");Io(o,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"});ny(o,eb("blocker"));ny(o,t.layerClass);const n=v(o);const s=()=>{Et(o)};return{element:n,destroy:s}};const ob=(e,t)=>Gs(t.left-e.left,t.top-e.top);const nb=e=>T.some(Gs(e.x,e.y));const sb=(e,t)=>{e.mutate(t.left,t.top)};const rb=(e,t)=>{const o=tb(t);const n=Ty(o.element(),"mousedown",e.forceDrop);const s=Ty(o.element(),"mouseup",e.drop);const r=Ty(o.element(),"mousemove",e.move);const a=Ty(o.element(),"mouseout",e.delayDrop);const c=()=>{o.destroy();s.unbind();r.unbind();a.unbind();n.unbind()};const i=e=>{wt(e,o.element())};const l=()=>{Et(o.element())};return Wy({element:o.element,start:i,stop:l,destroy:c})};var ab=qy({compare:ob,extract:nb,sink:rb,mutate:sb});const cb=(e,t={})=>{var o;const n=(o=t.mode)!==null&&o!==void 0?o:ab;return Xy(e,n,t)};const ib=Jy("ephox-snooker");const lb=ib.resolve;const db=()=>{const e=My({drag:Ny(["xDelta","yDelta"])});const t=(t,o)=>{e.trigger.drag(t,o)};return{mutate:t,events:e.registry}};const ub=()=>{const e=My({drag:Ny(["xDelta","yDelta","target"])});let t=T.none();const o=db();o.events.drag.bind((o=>{t.each((t=>{e.trigger.drag(o.xDelta,o.yDelta,t)}))}));const n=e=>{t=T.some(e)};const s=()=>t;return{assign:n,get:s,mutate:o.mutate,events:e.registry}};const fb=(e,t,o,n,s)=>{const r=Je.fromTag("div");Io(r,{position:"absolute",left:t-n/2+"px",top:o+"px",height:s+"px",width:n+"px"});Ve(r,{"data-column":e,role:"presentation"});return r};const mb=(e,t,o,n,s)=>{const r=Je.fromTag("div");Io(r,{position:"absolute",left:t+"px",top:o-s/2+"px",height:s+"px",width:n+"px"});Ve(r,{"data-row":e,role:"presentation"});return r};const gb=lb("resizer-bar");const pb=lb("resizer-rows");const hb=lb("resizer-cols");const yb=7;const bb=(e,t)=>$(e.all,((e,o)=>t(e.element)?[o]:[]));const vb=(e,t)=>{const o=[];B(e.grid.columns,(n=>{const s=Ls.getColumnAt(e,n).map((e=>e.element));if(s.forall(t)){o.push(n)}}));return F(o,(o=>{const n=Ls.filterItems(e,(e=>e.column===o));return G(n,(e=>t(e.element)))}))};const kb=e=>{const t=fo(e.parent(),"."+gb);H(t,Et)};const wb=(e,t,o)=>{const n=e.origin();H(t,(t=>{t.each((t=>{const s=o(n,t);ny(s,gb);wt(e.parent(),s)}))}))};const _b=(e,t,o,n)=>{wb(e,t,((e,t)=>{const s=fb(t.col,t.x-e.left,o.top-e.top,yb,n);ny(s,hb);return s}))};const xb=(e,t,o,n)=>{wb(e,t,((e,t)=>{const s=mb(t.row,o.left-e.left,t.y-e.top,n,yb);ny(s,pb);return s}))};const Cb=(e,t,o,n,s)=>{const r=Xs(o);const a=t.isResizable;const c=n.length>0?dr.positions(n,o):[];const i=c.length>0?bb(e,a):[];const l=F(c,((e,t)=>R(i,(e=>t===e))));xb(t,l,r,ls(o));const d=s.length>0?gr.positions(s,o):[];const u=d.length>0?vb(e,a):[];const f=F(d,((e,t)=>R(u,(e=>t===e))));_b(t,f,r,qs(o))};const Sb=(e,t)=>{kb(e);if(e.isResizable(t)){const o=Ls.fromTable(t);const n=Ps(o);const s=Hs(o);Cb(o,e,t,n,s)}};const zb=(e,t)=>{const o=fo(e.parent(),"."+gb);H(o,t)};const Eb=e=>{zb(e,(e=>{Ho(e,"display","none")}))};const Tb=e=>{zb(e,(e=>{Ho(e,"display","block")}))};const Ob=e=>ay(e,pb);const Db=e=>ay(e,hb);const Ab=lb("resizer-bar-dragging");const Nb=e=>{const t=ub();const o=cb(t,{});let n=T.none();const s=(e,t)=>T.from(Ze(e,t));t.events.drag.bind((e=>{s(e.target,"data-row").each((t=>{const o=Go(e.target,"top");Ho(e.target,"top",o+e.yDelta+"px")}));s(e.target,"data-column").each((t=>{const o=Go(e.target,"left");Ho(e.target,"left",o+e.xDelta+"px")}))}));const r=(e,t)=>{const o=Go(e,t);const n=Uo(e,"data-initial-"+t,0);return o-n};o.events.stop.bind((()=>{t.get().each((t=>{n.each((o=>{s(t,"data-row").each((e=>{const n=r(t,"top");qe(t,"data-initial-top");m.trigger.adjustHeight(o,n,parseInt(e,10))}));s(t,"data-column").each((e=>{const n=r(t,"left");qe(t,"data-initial-left");m.trigger.adjustWidth(o,n,parseInt(e,10))}));Sb(e,o)}))}))}));const a=(n,s)=>{m.trigger.startAdjust();t.assign(n);Fe(n,"data-initial-"+s,Go(n,s));ny(n,Ab);Ho(n,"opacity","0.2");o.go(e.parent())};const c=Ty(e.parent(),"mousedown",(e=>{if(Ob(e.target)){a(e.target,"top")}if(Db(e.target)){a(e.target,"left")}}));const i=t=>nt(t,e.view());const l=e=>wo(e,"table",i).filter(pc);const d=Ty(e.view(),"mouseover",(t=>{l(t.target).fold((()=>{if(no(t.target)){kb(e)}}),(t=>{if(o.isActive()){n=T.some(t);Sb(e,t)}}))}));const u=()=>{c.unbind();d.unbind();o.destroy();kb(e)};const f=t=>{Sb(e,t)};const m=My({adjustHeight:Ny(["table","delta","row"]),adjustWidth:Ny(["table","delta","column"]),startAdjust:Ny([])});return{destroy:u,refresh:f,on:o.on,off:o.off,hideBars:_(Eb,e),showBars:_(Tb,e),events:m.registry}};const Mb=(e,t,o)=>{const n=dr;const s=gr;const r=Nb(e);const a=My({beforeResize:Ny(["table","type"]),afterResize:Ny(["table","type"]),startDrag:Ny([])});r.events.adjustHeight.bind((e=>{const t=e.table;a.trigger.beforeResize(t,"row");const o=n.delta(e.delta,t);Zd(t,o,e.row,n);a.trigger.afterResize(t,"row")}));r.events.startAdjust.bind((e=>{a.trigger.startDrag()}));r.events.adjustWidth.bind((e=>{const n=e.table;a.trigger.beforeResize(n,"col");const r=s.delta(e.delta,n);const c=o(n);jd(n,r,e.column,t,c);a.trigger.afterResize(n,"col")}));return{on:r.on,off:r.off,refreshBars:r.refresh,hideBars:r.hideBars,showBars:r.showBars,destroy:r.destroy,events:a.registry}};const Rb={create:Mb};const Bb=(e,t)=>{const o=Le(e)?it(e):e;return{parent:v(o),view:v(e),origin:v(Gs(0,0)),isResizable:t}};const Lb=(e,t,o)=>{const n=()=>Xs(t);return{parent:v(t),view:v(e),origin:n,isResizable:o}};const Hb=(e,t,o)=>({parent:v(t),view:v(e),origin:v(Gs(0,0)),isResizable:o});const Ib={only:Bb,detached:Lb,body:Hb};const Pb=()=>{const e=Je.fromTag("div");Io(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"});wt(so(),e);return e};const Fb=(e,t)=>e.inline?Ib.body(Je.fromDom(e.getBody()),Pb(),t):Ib.only(Je.fromDom(e.getDoc()),t);const Vb=(e,t)=>{if(e.inline){Et(t.parent())}};const jb=e=>m(e)&&e.nodeName==="TABLE";const Zb="bar-";const Ub=e=>Ze(e,"data-mce-resize")!=="false";const qb=e=>{const t=Ls.fromTable(e);if(!Ls.hasColumns(t)){H(tn(e),(e=>{const t=Po(e,"width");Ho(e,"width",t);qe(e,"width")}))}};const Wb=e=>{const t=Yp();const o=Yp();const n=Yp();let s;let r;const a=t=>Mf(e,t);const c=()=>oc(e)?Gi():$i();const i=e=>Ki(e).columns;const l=(t,o,n)=>{const l=Oo(o,"e");if(r===""){dm(t)}if(n!==s&&r!==""){Ho(t,"width",r);const o=c();const d=a(t);const u=oc(e)||l?i(t)-1:0;jd(t,n-s,u,o,d)}else if(Cc(r)){const e=parseFloat(r.replace("%",""));const o=n*e/s;Ho(t,"width",o+"%")}if(Sc(r)){qb(t)}};const d=()=>{o.on((e=>{e.destroy()}));n.on((t=>{Vb(e,t)}))};e.on("init",(()=>{const s=Fb(e,Ub);n.set(s);if(Qa(e)&&ic(e)){const n=c();const r=Rb.create(s,n,a);r.on();r.events.startDrag.bind((o=>{t.set(e.selection.getRng())}));r.events.beforeResize.bind((t=>{const o=t.table.dom;Tf(e,o,wc(o),_c(o),Zb+t.type)}));r.events.afterResize.bind((o=>{const n=o.table;const s=n.dom;vc(n);t.on((t=>{e.selection.setRng(t);e.focus()}));Of(e,s,wc(s),_c(s),Zb+o.type);e.undoManager.add()}));o.set(r)}}));e.on("ObjectResizeStart",(t=>{const o=t.target;if(jb(o)){const n=Je.fromDom(o);H(e.dom.select(".mce-clonedresizable"),(t=>{e.dom.addClass(t,"mce-"+tc(e)+"-columns")}));if(!cm(n)&&ac(e)){um(n)}else if(!am(n)&&rc(e)){dm(n)}if(im(n)&&To(t.origin,Zb)){dm(n)}s=t.width;r=cc(e)?"":xc(e,o).getOr("")}}));e.on("ObjectResized",(t=>{const o=t.target;if(jb(o)){const n=Je.fromDom(o);const s=t.origin;if(To(s,"corner-")){l(n,s,t.width)}vc(n);Sf(e,n.dom,Df)}}));e.on("SwitchMode",(()=>{o.on((t=>{if(e.mode.isReadOnly()){t.hideBars()}else{t.showBars()}}))}));e.on("dragstart dragend",(e=>{o.on((t=>{if(e.type==="dragstart"){t.hideBars();t.off()}else{t.on();t.showBars()}}))}));e.on("remove",(()=>{d()}));const u=e=>{o.on((t=>t.refreshBars(Je.fromDom(e))))};const f=()=>{o.on((e=>e.hideBars()))};const m=()=>{o.on((e=>e.showBars()))};return{refresh:u,hide:f,show:m}};const $b=e=>{Xa(e);const t=Wb(e);const o=Ay(e,t);const n=Rf(e,t,o);Um(e,n);qm(e,n);Mi(e,n);return{getSelectedCells:o.getSelectedCells,clearSelectedCells:o.clearSelectedCells}};const Gb=e=>{const t=$b(e);return{table:t}};var Kb=()=>{e.add("dom",Gb)};Kb()})()},()=>{(function(){"use strict";const e=Object.getPrototypeOf;const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=e=>t=>e===t;const a=(o,n)=>i(o)&&t(o,n,((t,o)=>e(t)===o));const c=n("string");const i=n("object");const l=e=>a(e,Object);const d=n("array");const u=r(null);const f=s("boolean");const m=r(undefined);const g=e=>e===null||e===undefined;const p=e=>!g(e);const h=s("function");const y=s("number");const b=(e,t)=>{if(d(e)){for(let o=0,n=e.length;o<n;++o){if(!t(e[o])){return false}}return true}return false};const v=()=>{};const k=e=>()=>e();const w=(e,t)=>(...o)=>e(t.apply(null,o));const _=(e,t)=>o=>e(t(o));const x=e=>()=>e;const C=e=>e;const S=(e,t)=>e===t;function z(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const E=e=>t=>!e(t);const T=e=>()=>{throw new Error(e)};const O=e=>e();const D=x(false);const A=x(true);class N{constructor(e,t){this.tag=e;this.value=t}static some(e){return new N(true,e)}static none(){return N.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return N.some(e(this.value))}else{return N.none()}}bind(e){if(this.tag){return e(this.value)}else{return N.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return N.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return p(e)?N.some(e):N.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}N.singletonNone=new N(false);const M=Array.prototype.slice;const R=Array.prototype.indexOf;const B=Array.prototype.push;const L=(e,t)=>R.call(e,t);const H=(e,t)=>{const o=L(e,t);return o===-1?N.none():N.some(o)};const I=(e,t)=>L(e,t)>-1;const P=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const F=(e,t)=>{const o=[];for(let n=0;n<e;n++){o.push(t(n))}return o};const V=(e,t)=>{const o=[];for(let n=0;n<e.length;n+=t){const s=M.call(e,n,n+t);o.push(s)}return o};const j=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const Z=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const U=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}};const q=(e,t)=>{const o=[];const n=[];for(let s=0,r=e.length;s<r;s++){const r=e[s];const a=t(r,s)?o:n;a.push(r)}return{pass:o,fail:n}};const W=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const $=(e,t,o)=>{U(e,((e,n)=>{o=t(o,e,n)}));return o};const G=(e,t,o)=>{Z(e,((e,n)=>{o=t(o,e,n)}));return o};const K=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return N.some(s)}else if(o(s,n)){break}}return N.none()};const Y=(e,t)=>K(e,t,D);const X=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return N.some(o)}}return N.none()};const J=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!d(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}B.apply(t,e[o])}return t};const Q=(e,t)=>J(j(e,t));const ee=(e,t)=>{for(let o=0,n=e.length;o<n;++o){const n=e[o];if(t(n,o)!==true){return false}}return true};const te=e=>{const t=M.call(e,0);t.reverse();return t};const oe=(e,t)=>W(e,(e=>!I(t,e)));const ne=(e,t)=>{const o={};for(let n=0,s=e.length;n<s;n++){const s=e[n];o[String(s)]=t(s,n)}return o};const se=e=>[e];const re=(e,t)=>{const o=M.call(e,0);o.sort(t);return o};const ae=(e,t)=>t>=0&&t<e.length?N.some(e[t]):N.none();const ce=e=>ae(e,0);const ie=e=>ae(e,e.length-1);const le=h(Array.from)?Array.from:e=>M.call(e);const de=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return N.none()};const ue=Object.keys;const fe=Object.hasOwnProperty;const me=(e,t)=>{const o=ue(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const ge=(e,t)=>pe(e,((e,o)=>({k:o,v:t(e,o)})));const pe=(e,t)=>{const o={};me(e,((e,n)=>{const s=t(e,n);o[s.k]=s.v}));return o};const he=e=>(t,o)=>{e[o]=t};const ye=(e,t,o,n)=>{me(e,((e,s)=>{(t(e,s)?o:n)(e,s)}))};const be=(e,t)=>{const o={};const n={};ye(e,t,he(o),he(n));return{t:o,f:n}};const ve=(e,t)=>{const o={};ye(e,t,he(o),v);return o};const ke=(e,t)=>{const o=[];me(e,((e,n)=>{o.push(t(e,n))}));return o};const we=(e,t)=>{const o=ue(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];if(t(r,s,e)){return N.some(r)}}return N.none()};const _e=e=>ke(e,C);const xe=(e,t)=>Ce(e,t)?N.from(e[t]):N.none();const Ce=(e,t)=>fe.call(e,t);const Se=(e,t)=>Ce(e,t)&&e[t]!==undefined&&e[t]!==null;const ze=(e,t,o=S)=>e.exists((e=>o(e,t)));const Ee=(e,t,o=S)=>De(e,t,o).getOr(e.isNone()&&t.isNone());const Te=e=>{const t=[];const o=e=>{t.push(e)};for(let t=0;t<e.length;t++){e[t].each(o)}return t};const Oe=e=>{const t=[];for(let o=0;o<e.length;o++){const n=e[o];if(n.isSome()){t.push(n.getOrDie())}else{return N.none()}}return N.some(t)};const De=(e,t,o)=>e.isSome()&&t.isSome()?N.some(o(e.getOrDie(),t.getOrDie())):N.none();const Ae=(e,t,o,n)=>e.isSome()&&t.isSome()&&o.isSome()?N.some(n(e.getOrDie(),t.getOrDie(),o.getOrDie())):N.none();const Ne=(e,t)=>e!==undefined&&e!==null?N.some(t(e)):N.none();const Me=(e,t)=>e?N.some(t):N.none();const Re=(e,t)=>e+t;const Be=(e,t)=>e.substring(t);const Le=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const He=(e,t)=>Fe(e,t)?Be(e,t.length):e;const Ie=(e,t)=>Ve(e,t)?e:Re(e,t);const Pe=(e,t,o=0,n)=>{const s=e.indexOf(t,o);if(s!==-1){return m(n)?true:s+t.length<=n}else{return false}};const Fe=(e,t)=>Le(e,t,0);const Ve=(e,t)=>Le(e,t,e.length-t.length);const je=e=>t=>t.replace(e,"");const Ze=je(/^\s+|\s+$/g);const Ue=e=>e.length>0;const qe=e=>!Ue(e);const We=e=>e.style!==undefined&&h(e.style.getPropertyValue);const $e=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return Ye(n.childNodes[0])};const Ge=(e,t)=>{const o=t||document;const n=o.createElement(e);return Ye(n)};const Ke=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return Ye(n)};const Ye=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const Xe=(e,t,o)=>N.from(e.dom.elementFromPoint(t,o)).map(Ye);const Je={fromHtml:$e,fromTag:Ge,fromText:Ke,fromDom:Ye,fromPoint:Xe};const Qe=typeof window!=="undefined"?window:Function("return this;")();const et=(e,t)=>{let o=t!==undefined&&t!==null?t:Qe;for(let t=0;t<e.length&&o!==undefined&&o!==null;++t){o=o[e[t]]}return o};const tt=(e,t)=>{const o=e.split(".");return et(o,t)};const ot=(e,t)=>tt(e,t);const nt=(e,t)=>{const o=ot(e,t);if(o===undefined||o===null){throw new Error(e+" not available on this browser")}return o};const st=Object.getPrototypeOf;const rt=e=>nt("HTMLElement",e);const at=e=>{const t=tt("ownerDocument.defaultView",e);return i(e)&&(rt(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(st(e).constructor.name))};const ct=9;const it=11;const lt=1;const dt=3;const ut=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const ft=e=>e.dom.nodeType;const mt=e=>t=>ft(t)===e;const gt=e=>pt(e)&&at(e.dom);const pt=mt(lt);const ht=mt(dt);const yt=mt(ct);const bt=mt(it);const vt=e=>t=>pt(t)&&ut(t)===e;const kt=(e,t)=>{const o=e.dom;if(o.nodeType!==lt){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const wt=e=>e.nodeType!==lt&&e.nodeType!==ct&&e.nodeType!==it||e.childElementCount===0;const _t=(e,t)=>{const o=t===undefined?document:t.dom;return wt(o)?[]:j(o.querySelectorAll(e),Je.fromDom)};const xt=(e,t)=>{const o=t===undefined?document:t.dom;return wt(o)?N.none():N.from(o.querySelector(e)).map(Je.fromDom)};const Ct=(e,t)=>e.dom===t.dom;const St=(e,t)=>{const o=e.dom;const n=t.dom;return o===n?false:o.contains(n)};const zt=e=>Je.fromDom(e.dom.ownerDocument);const Et=e=>yt(e)?e:zt(e);const Tt=e=>Je.fromDom(Et(e).dom.documentElement);const Ot=e=>Je.fromDom(Et(e).dom.defaultView);const Dt=e=>N.from(e.dom.parentNode).map(Je.fromDom);const At=e=>Dt(e);const Nt=e=>N.from(e.dom.parentElement).map(Je.fromDom);const Mt=(e,t)=>{const o=h(t)?t:D;let n=e.dom;const s=[];while(n.parentNode!==null&&n.parentNode!==undefined){const e=n.parentNode;const t=Je.fromDom(e);s.push(t);if(o(t)===true){break}else{n=e}}return s};const Rt=e=>N.from(e.dom.offsetParent).map(Je.fromDom);const Bt=e=>N.from(e.dom.nextSibling).map(Je.fromDom);const Lt=e=>j(e.dom.childNodes,Je.fromDom);const Ht=(e,t)=>{const o=e.dom.childNodes;return N.from(o[t]).map(Je.fromDom)};const It=e=>Ht(e,0);const Pt=(e,t)=>({element:e,offset:t});const Ft=(e,t)=>{const o=Lt(e);return o.length>0&&t<o.length?Pt(o[t],0):Pt(e,t)};const Vt=e=>bt(e)&&p(e.dom.host);const jt=h(Element.prototype.attachShadow)&&h(Node.prototype.getRootNode);const Zt=x(jt);const Ut=jt?e=>Je.fromDom(e.dom.getRootNode()):Et;const qt=e=>Vt(e)?e:Je.fromDom(Et(e).dom.body);const Wt=e=>$t(e).isSome();const $t=e=>{const t=Ut(e);return Vt(t)?N.some(t):N.none()};const Gt=e=>Je.fromDom(e.dom.host);const Kt=e=>{if(Zt()&&p(e.target)){const t=Je.fromDom(e.target);if(pt(t)&&Yt(t)){if(e.composed&&e.composedPath){const t=e.composedPath();if(t){return ce(t)}}}}return N.from(e.target)};const Yt=e=>p(e.dom.shadowRoot);const Xt=e=>{const t=ht(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return $t(Je.fromDom(t)).fold((()=>o.body.contains(t)),_(Xt,Gt))};const Jt=()=>Qt(Je.fromDom(document));const Qt=e=>{const t=e.dom.body;if(t===null||t===undefined){throw new Error("Body is not available yet")}return Je.fromDom(t)};const eo=(e,t,o)=>{if(c(o)||f(o)||y(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const to=(e,t,o)=>{eo(e.dom,t,o)};const oo=(e,t)=>{const o=e.dom;me(t,((e,t)=>{eo(o,t,e)}))};const no=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?undefined:o};const so=(e,t)=>N.from(no(e,t));const ro=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):false};const ao=(e,t)=>{e.dom.removeAttribute(t)};const co=e=>G(e.dom.attributes,((e,t)=>{e[t.name]=t.value;return e}),{});const io=(e,t,o)=>{if(!c(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(We(e)){e.style.setProperty(t,o)}};const lo=(e,t)=>{if(We(e)){e.style.removeProperty(t)}};const uo=(e,t,o)=>{const n=e.dom;io(n,t,o)};const fo=(e,t)=>{const o=e.dom;me(t,((e,t)=>{io(o,t,e)}))};const mo=(e,t)=>{const o=e.dom;me(t,((e,t)=>{e.fold((()=>{lo(o,t)}),(e=>{io(o,t,e)}))}))};const go=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!Xt(e)?po(o,t):s};const po=(e,t)=>We(e)?e.style.getPropertyValue(t):"";const ho=(e,t)=>{const o=e.dom;const n=po(o,t);return N.from(n).filter((e=>e.length>0))};const yo=e=>{const t={};const o=e.dom;if(We(o)){for(let e=0;e<o.style.length;e++){const n=o.style.item(e);t[n]=o.style[n]}}return t};const bo=(e,t,o)=>{const n=Je.fromTag(e);uo(n,t,o);const s=ho(n,t);return s.isSome()};const vo=(e,t)=>{const o=e.dom;lo(o,t);if(ze(so(e,"style").map(Ze),"")){ao(e,"style")}};const ko=e=>e.dom.offsetWidth;const wo=(e,t)=>{const o=(t,o)=>{if(!y(o)&&!o.match(/^[0-9]+$/)){throw new Error(e+".set accepts only positive integer values. Value was "+o)}const n=t.dom;if(We(n)){n.style[e]=o+"px"}};const n=o=>{const n=t(o);if(n<=0||n===null){const t=go(o,e);return parseFloat(t)||0}return n};const s=n;const r=(e,t)=>G(t,((t,o)=>{const n=go(e,o);const s=n===undefined?0:parseInt(n,10);return isNaN(s)?t:t+s}),0);const a=(e,t,o)=>{const n=r(e,o);const s=t>n?t-n:0;return s};return{set:o,get:n,getOuter:s,aggregate:r,max:a}};const _o=wo("height",(e=>{const t=e.dom;return Xt(e)?t.getBoundingClientRect().height:t.offsetHeight}));const xo=e=>_o.get(e);const Co=e=>_o.getOuter(e);const So=(e,t)=>{const o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"];const n=_o.max(e,t,o);uo(e,"max-height",n+"px")};const zo=(e,t)=>{const o=(o,n)=>zo(e+o,t+n);return{left:e,top:t,translate:o}};const Eo=zo;const To=e=>{const t=e.getBoundingClientRect();return Eo(t.left,t.top)};const Oo=(e,t)=>{if(e!==undefined){return e}else{return t!==undefined?t:0}};const Do=e=>{const t=e.dom.ownerDocument;const o=t.body;const n=t.defaultView;const s=t.documentElement;if(o===e.dom){return Eo(o.offsetLeft,o.offsetTop)}const r=Oo(n===null||n===void 0?void 0:n.pageYOffset,s.scrollTop);const a=Oo(n===null||n===void 0?void 0:n.pageXOffset,s.scrollLeft);const c=Oo(s.clientTop,o.clientTop);const i=Oo(s.clientLeft,o.clientLeft);return Ao(e).translate(a-i,r-c)};const Ao=e=>{const t=e.dom;const o=t.ownerDocument;const n=o.body;if(n===t){return Eo(n.offsetLeft,n.offsetTop)}if(!Xt(e)){return Eo(0,0)}return To(t)};const No=wo("width",(e=>e.dom.offsetWidth));const Mo=(e,t)=>No.set(e,t);const Ro=e=>No.get(e);const Bo=e=>No.getOuter(e);const Lo=(e,t)=>{const o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"];const n=No.max(e,t,o);uo(e,"max-width",n+"px")};const Ho=e=>{let t=false;let o;return(...n)=>{if(!t){t=true;o=e.apply(null,n)}return o}};const Io=(e,t,o,n)=>{const s=e.isiOS()&&/ipad/i.test(o)===true;const r=e.isiOS()&&!s;const a=e.isiOS()||e.isAndroid();const c=a||n("(pointer:coarse)");const i=s||!r&&a&&n("(min-device-width:768px)");const l=r||a&&!i;const d=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===false;const u=!l&&!i&&!d;return{isiPad:x(s),isiPhone:x(r),isTablet:x(i),isPhone:x(l),isTouch:x(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:x(d),isDesktop:x(u)}};const Po=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t)){return n}}return undefined};const Fo=(e,t)=>{const o=Po(e,t);if(!o){return{major:0,minor:0}}const n=e=>Number(t.replace(o,"$"+e));return Zo(n(1),n(2))};const Vo=(e,t)=>{const o=String(t).toLowerCase();if(e.length===0){return jo()}return Fo(e,o)};const jo=()=>Zo(0,0);const Zo=(e,t)=>({major:e,minor:t});const Uo={nu:Zo,detect:Vo,unknown:jo};const qo=(e,t)=>de(t.brands,(t=>{const o=t.brand.toLowerCase();return Y(e,(e=>{var t;return o===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:Uo.nu(parseInt(t.version,10),0)})))}));const Wo=(e,t)=>{const o=String(t).toLowerCase();return Y(e,(e=>e.search(o)))};const $o=(e,t)=>Wo(e,t).map((e=>{const o=Uo.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const Go=(e,t)=>Wo(e,t).map((e=>{const o=Uo.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const Ko=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;const Yo=e=>t=>Pe(t,e);const Xo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Pe(e,"edge/")&&Pe(e,"chrome")&&Pe(e,"safari")&&Pe(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ko],search:e=>Pe(e,"chrome")&&!Pe(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Pe(e,"msie")||Pe(e,"trident")},{name:"Opera",versionRegexes:[Ko,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Yo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Yo("firefox")},{name:"Safari",versionRegexes:[Ko,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Pe(e,"safari")||Pe(e,"mobile/"))&&Pe(e,"applewebkit")}];const Jo=[{name:"Windows",search:Yo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Pe(e,"iphone")||Pe(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Yo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Yo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Yo("linux"),versionRegexes:[]},{name:"Solaris",search:Yo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Yo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Yo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];const Qo={browsers:x(Xo),oses:x(Jo)};const en="Edge";const tn="Chromium";const on="IE";const nn="Opera";const sn="Firefox";const rn="Safari";const an=()=>cn({current:undefined,version:Uo.unknown()});const cn=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isEdge:n(en),isChromium:n(tn),isIE:n(on),isOpera:n(nn),isFirefox:n(sn),isSafari:n(rn)}};const ln={unknown:an,nu:cn,edge:x(en),chromium:x(tn),ie:x(on),opera:x(nn),firefox:x(sn),safari:x(rn)};const dn="Windows";const un="iOS";const fn="Android";const mn="Linux";const gn="macOS";const pn="Solaris";const hn="FreeBSD";const yn="ChromeOS";const bn=()=>vn({current:undefined,version:Uo.unknown()});const vn=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isWindows:n(dn),isiOS:n(un),isAndroid:n(fn),isMacOS:n(gn),isLinux:n(mn),isSolaris:n(pn),isFreeBSD:n(hn),isChromeOS:n(yn)}};const kn={unknown:bn,nu:vn,windows:x(dn),ios:x(un),android:x(fn),linux:x(mn),macos:x(gn),solaris:x(pn),freebsd:x(hn),chromeos:x(yn)};const wn=(e,t,o)=>{const n=Qo.browsers();const s=Qo.oses();const r=t.bind((e=>qo(n,e))).orThunk((()=>$o(n,e))).fold(ln.unknown,ln.nu);const a=Go(s,e).fold(kn.unknown,kn.nu);const c=Io(a,r,e,o);return{browser:r,os:a,deviceType:c}};const _n={detect:wn};const xn=e=>window.matchMedia(e).matches;let Cn=Ho((()=>_n.detect(navigator.userAgent,N.from(navigator.userAgentData),xn)));const Sn=()=>Cn();const zn=(e,t,o,n,s,r,a)=>({target:e,x:t,y:o,stop:n,prevent:s,kill:r,raw:a});const En=e=>{const t=Je.fromDom(Kt(e).getOr(e.target));const o=()=>e.stopPropagation();const n=()=>e.preventDefault();const s=w(n,o);return zn(t,e.clientX,e.clientY,o,n,s,e)};const Tn=(e,t)=>o=>{if(e(o)){t(En(o))}};const On=(e,t,o,n,s)=>{const r=Tn(o,n);e.dom.addEventListener(t,r,s);return{unbind:z(Nn,e,t,r,s)}};const Dn=(e,t,o,n)=>On(e,t,o,n,false);const An=(e,t,o,n)=>On(e,t,o,n,true);const Nn=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)};const Mn=(e,t)=>{const o=Dt(e);o.each((o=>{o.dom.insertBefore(t.dom,e.dom)}))};const Rn=(e,t)=>{const o=Bt(e);o.fold((()=>{const o=Dt(e);o.each((e=>{Ln(e,t)}))}),(e=>{Mn(e,t)}))};const Bn=(e,t)=>{const o=It(e);o.fold((()=>{Ln(e,t)}),(o=>{e.dom.insertBefore(t.dom,o.dom)}))};const Ln=(e,t)=>{e.dom.appendChild(t.dom)};const Hn=(e,t,o)=>{Ht(e,o).fold((()=>{Ln(e,t)}),(e=>{Mn(e,t)}))};const In=(e,t)=>{Z(t,(t=>{Ln(e,t)}))};const Pn=e=>{e.dom.textContent="";Z(Lt(e),(e=>{Fn(e)}))};const Fn=e=>{const t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};const Vn=e=>{const t=e!==undefined?e.dom:document;const o=t.body.scrollLeft||t.documentElement.scrollLeft;const n=t.body.scrollTop||t.documentElement.scrollTop;return Eo(o,n)};const jn=(e,t,o)=>{const n=o!==undefined?o.dom:document;const s=n.defaultView;if(s){s.scrollTo(e,t)}};const Zn=e=>{const t=e===undefined?window:e;if(Sn().browser.isFirefox()){return N.none()}else{return N.from(t.visualViewport)}};const Un=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n});const qn=e=>{const t=e===undefined?window:e;const o=t.document;const n=Vn(Je.fromDom(o));return Zn(t).fold((()=>{const e=t.document.documentElement;const o=e.clientWidth;const s=e.clientHeight;return Un(n.left,n.top,o,s)}),(e=>Un(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)))};const Wn=()=>Je.fromDom(document);const $n=(e,t)=>{const o=e.view(t);return o.fold(x([]),(t=>{const o=e.owner(t);const n=$n(e,o);return[t].concat(n)}))};const Gn=(e,t)=>{const o=t.owner(e);const n=$n(t,o);return N.some(n)};const Kn=e=>{var t;const o=e.dom===document?N.none():N.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return o.map(Je.fromDom)};const Yn=e=>zt(e);var Xn=Object.freeze({__proto__:null,view:Kn,owner:Yn});const Jn=e=>{const t=Wn();const o=Vn(t);const n=Gn(e,Xn);return n.fold(z(Do,e),(t=>{const n=Ao(e);const s=$(t,((e,t)=>{const o=Ao(t);return{left:e.left+o.left,top:e.top+o.top}}),{left:0,top:0});return Eo(s.left+n.left+o.left,s.top+n.top+o.top)}))};const Qn=(e,t,o)=>({point:e,width:t,height:o});const es=(e,t,o,n)=>({x:e,y:t,width:o,height:n});const ts=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n});const os=e=>{const t=Do(e);const o=Bo(e);const n=Co(e);return ts(t.left,t.top,o,n)};const ns=e=>{const t=Jn(e);const o=Bo(e);const n=Co(e);return ts(t.left,t.top,o,n)};const ss=(e,t)=>{const o=Math.max(e.x,t.x);const n=Math.max(e.y,t.y);const s=Math.min(e.right,t.right);const r=Math.min(e.bottom,t.bottom);const a=s-o;const c=r-n;return ts(o,n,a,c)};const rs=(e,t)=>G(t,((e,t)=>ss(e,t)),e);const as=()=>qn(window);var cs=tinymce.util.Tools.resolve("tinymce.ThemeManager");const is=e=>{const t=t=>t(e);const o=x(e);const n=()=>s;const s={tag:true,inner:e,fold:(t,o)=>o(e),isValue:A,isError:D,map:t=>us.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:t=>{t(e)},toOptional:()=>N.some(e)};return s};const ls=e=>{const t=()=>o;const o={tag:false,inner:e,fold:(t,o)=>t(e),isValue:D,isError:A,map:t,mapError:t=>us.error(t(e)),bind:t,exists:D,forall:A,getOr:C,or:C,getOrThunk:O,orThunk:O,getOrDie:T(String(e)),each:v,toOptional:N.none};return o};const ds=(e,t)=>e.fold((()=>ls(t)),is);const us={value:is,error:ls,fromOption:ds};var fs;(function(e){e[e["Error"]=0]="Error";e[e["Value"]=1]="Value"})(fs||(fs={}));const ms=(e,t,o)=>e.stype===fs.Error?t(e.serror):o(e.svalue);const gs=e=>{const t=[];const o=[];Z(e,(e=>{ms(e,(e=>o.push(e)),(e=>t.push(e)))}));return{values:t,errors:o}};const ps=(e,t)=>{if(e.stype===fs.Error){return{stype:fs.Error,serror:t(e.serror)}}else{return e}};const hs=(e,t)=>{if(e.stype===fs.Value){return{stype:fs.Value,svalue:t(e.svalue)}}else{return e}};const ys=(e,t)=>{if(e.stype===fs.Value){return t(e.svalue)}else{return e}};const bs=(e,t)=>{if(e.stype===fs.Error){return t(e.serror)}else{return e}};const vs=e=>({stype:fs.Value,svalue:e});const ks=e=>({stype:fs.Error,serror:e});const ws=e=>ms(e,us.error,us.value);const _s=e=>e.fold(ks,vs);const xs={fromResult:_s,toResult:ws,svalue:vs,partition:gs,serror:ks,bind:ys,bindError:bs,map:hs,mapError:ps,fold:ms};const Cs=(e,t,o,n)=>({tag:"field",key:e,newKey:t,presence:o,prop:n});const Ss=(e,t)=>({tag:"custom",newKey:e,instantiator:t});const zs=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}};const Es=(e,t)=>t;const Ts=(e,t)=>{const o=l(e)&&l(t);return o?Ds(e,t):t};const Os=e=>(...t)=>{if(t.length===0){throw new Error(`Can't merge zero objects`)}const o={};for(let n=0;n<t.length;n++){const s=t[n];for(const t in s){if(Ce(s,t)){o[t]=e(o[t],s[t])}}}return o};const Ds=Os(Ts);const As=Os(Es);const Ns=()=>({tag:"required",process:{}});const Ms=e=>({tag:"defaultedThunk",process:e});const Rs=e=>Ms(x(e));const Bs=()=>({tag:"option",process:{}});const Ls=e=>({tag:"mergeWithThunk",process:e});const Hs=e=>Ls(x(e));const Is=(e,t)=>e.length>0?xs.svalue(Ds(t,As.apply(undefined,e))):xs.svalue(t);const Ps=e=>w(xs.serror,J)(e);const Fs=(e,t)=>{const o=xs.partition(e);return o.errors.length>0?Ps(o.errors):Is(o.values,t)};const Vs=e=>{const t=xs.partition(e);return t.errors.length>0?Ps(t.errors):xs.svalue(t.values)};const js={consolidateObj:Fs,consolidateArr:Vs};const Zs=e=>i(e)&&ue(e).length>100?" removed due to size":JSON.stringify(e,null,2);const Us=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:x("... (only showing first ten failures)")}]):e;return j(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))};const qs=(e,t)=>xs.serror([{path:e,getErrorInfo:t}]);const Ws=(e,t,o)=>qs(e,(()=>'Could not find valid *required* value for "'+t+'" in '+Zs(o)));const $s=(e,t)=>qs(e,(()=>'Choice schema did not contain choice key: "'+t+'"'));const Gs=(e,t,o)=>qs(e,(()=>'The chosen schema: "'+o+'" did not exist in branches: '+Zs(t)));const Ks=(e,t)=>qs(e,(()=>"There are unsupported fields: ["+t.join(", ")+"] specified"));const Ys=(e,t)=>qs(e,x(t));const Xs=e=>{const t=(t,o)=>xs.bindError(e(o),(e=>Ys(t,e)));const o=x("val");return{extract:t,toString:o}};const Js=Xs(xs.svalue);const Qs=(e,t,o,n)=>xe(t,o).fold((()=>Ws(e,o,t)),n);const er=(e,t,o,n)=>{const s=xe(e,t).getOrThunk((()=>o(e)));return n(s)};const tr=(e,t,o)=>o(xe(e,t));const or=(e,t,o,n)=>{const s=xe(e,t).map((t=>t===true?o(e):t));return n(s)};const nr=(e,t,o,n,s)=>{const r=e=>s.extract(t.concat([n]),e);const a=e=>e.fold((()=>xs.svalue(N.none())),(e=>{const o=s.extract(t.concat([n]),e);return xs.map(o,N.some)}));switch(e.tag){case"required":return Qs(t,o,n,r);case"defaultedThunk":return er(o,n,e.process,r);case"option":return tr(o,n,a);case"defaultedOptionThunk":return or(o,n,e.process,a);case"mergeWithThunk":{return er(o,n,x({}),(t=>{const n=Ds(e.process(o),t);return r(n)}))}}};const sr=(e,t,o)=>{const n={};const s=[];for(const r of o){zs(r,((o,r,a,c)=>{const i=nr(a,e,t,o,c);xs.fold(i,(e=>{s.push(...e)}),(e=>{n[r]=e}))}),((e,o)=>{n[e]=o(t)}))}return s.length>0?xs.serror(s):xs.svalue(n)};const rr=e=>{const t=(t,o)=>e().extract(t,o);const o=()=>e().toString();return{extract:t,toString:o}};const ar=e=>ue(ve(e,p));const cr=e=>{const t=ir(e);const o=$(e,((e,t)=>zs(t,(t=>Ds(e,{[t]:true})),x(e))),{});const n=(e,n)=>{const s=f(n)?[]:ar(n);const r=W(s,(e=>!Se(o,e)));return r.length===0?t.extract(e,n):Ks(e,r)};return{extract:n,toString:t.toString}};const ir=e=>{const t=(t,o)=>sr(t,o,e);const o=()=>{const t=j(e,(e=>zs(e,((e,t,o,n)=>e+" -> "+n.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"};return{extract:t,toString:o}};const lr=e=>{const t=(t,o)=>{const n=j(o,((o,n)=>e.extract(t.concat(["["+n+"]"]),o)));return js.consolidateArr(n)};const o=()=>"array("+e.toString()+")";return{extract:t,toString:o}};const dr=(e,t)=>{const o=t!==undefined?t:C;const n=(t,n)=>{const s=[];for(const r of e){const e=r.extract(t,n);if(e.stype===fs.Value){return{stype:fs.Value,svalue:o(e.svalue)}}s.push(e)}return js.consolidateArr(s)};const s=()=>"oneOf("+j(e,(e=>e.toString())).join(", ")+")";return{extract:n,toString:s}};const ur=(e,t)=>{const o=(t,o)=>lr(Xs(e)).extract(t,o);const n=(e,n)=>{const s=ue(n);const r=o(e,s);return xs.bind(r,(o=>{const s=j(o,(e=>Cs(e,e,Ns(),t)));return ir(s).extract(e,n)}))};const s=()=>"setOf("+t.toString()+")";return{extract:n,toString:s}};const fr=(e,t)=>{const o=Ho(t);const n=(e,t)=>o().extract(e,t);const s=()=>o().toString();return{extract:n,toString:s}};const mr=w(lr,ir);const gr=x(Js);const pr=(e,t)=>Xs((o=>{const n=typeof o;return e(o)?xs.svalue(o):xs.serror(`Expected type: ${t} but got: ${n}`)}));const hr=pr(y,"number");const yr=pr(c,"string");const br=pr(f,"boolean");const vr=pr(h,"function");const kr=e=>{if(Object(e)!==e){return true}switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return true;case"Array":case"Object":return Object.keys(e).every((t=>kr(e[t])));default:return false}};const wr=Xs((e=>{if(kr(e)){return xs.svalue(e)}else{return xs.serror("Expected value to be acceptable for sending via postMessage")}}));const _r=(e,t,o,n)=>{const s=xe(o,n);return s.fold((()=>Gs(e,o,n)),(o=>o.extract(e.concat(["branch: "+n]),t)))};const xr=(e,t)=>{const o=(o,n)=>{const s=xe(n,e);return s.fold((()=>$s(o,e)),(e=>_r(o,n,t,e)))};const n=()=>"chooseOn("+e+"). Possible values: "+ue(t);return{extract:o,toString:n}};const Cr=()=>lr(Js);const Sr=e=>Xs((t=>e(t).fold(xs.serror,xs.svalue)));const zr=(e,t)=>ur((t=>xs.fromResult(e(t))),t);const Er=(e,t,o)=>{const n=t.extract([e],o);return xs.mapError(n,(e=>({input:o,errors:e})))};const Tr=(e,t,o)=>xs.toResult(Er(e,t,o));const Or=e=>e.fold((e=>{throw new Error(Ar(e))}),C);const Dr=(e,t,o)=>Or(Tr(e,t,o));const Ar=e=>"Errors: \n"+Us(e.errors).join("\n")+"\n\nInput object: "+Zs(e.input);const Nr=(e,t)=>xr(e,ge(t,ir));const Mr=(e,t)=>fr(e,t);const Rr=Cs;const Br=Ss;const Lr=e=>Sr((t=>I(e,t)?us.value(t):us.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)));const Hr=e=>Rr(e,e,Ns(),gr());const Ir=(e,t)=>Rr(e,e,Ns(),t);const Pr=e=>Ir(e,hr);const Fr=e=>Ir(e,yr);const Vr=(e,t)=>Rr(e,e,Ns(),Lr(t));const jr=e=>Ir(e,br);const Zr=e=>Ir(e,vr);const Ur=(e,t)=>Rr(e,e,Bs(),Xs((o=>xs.serror("The field: "+e+" is forbidden. "+t))));const qr=(e,t)=>Rr(e,e,Ns(),ir(t));const Wr=(e,t)=>Rr(e,e,Ns(),mr(t));const $r=(e,t)=>Rr(e,e,Ns(),lr(t));const Gr=e=>Rr(e,e,Bs(),gr());const Kr=(e,t)=>Rr(e,e,Bs(),t);const Yr=e=>Kr(e,hr);const Xr=e=>Kr(e,yr);const Jr=(e,t)=>Kr(e,Lr(t));const Qr=e=>Kr(e,vr);const ea=(e,t)=>Kr(e,lr(t));const ta=(e,t)=>Kr(e,ir(t));const oa=(e,t)=>Kr(e,cr(t));const na=(e,t)=>Rr(e,e,Rs(t),gr());const sa=(e,t,o)=>Rr(e,e,Rs(t),o);const ra=(e,t)=>sa(e,t,hr);const aa=(e,t)=>sa(e,t,yr);const ca=(e,t,o)=>sa(e,t,Lr(o));const ia=(e,t)=>sa(e,t,br);const la=(e,t)=>sa(e,t,vr);const da=(e,t)=>sa(e,t,wr);const ua=(e,t,o)=>sa(e,t,lr(o));const fa=(e,t,o)=>sa(e,t,ir(o));const ma=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const ga=e=>{if(!d(e)){throw new Error("cases must be an array")}if(e.length===0){throw new Error("there must be at least one case")}const t=[];const o={};Z(e,((n,s)=>{const r=ue(n);if(r.length!==1){throw new Error("one and only one name per case")}const a=r[0];const c=n[a];if(o[a]!==undefined){throw new Error("duplicate key detected:"+a)}else if(a==="cata"){throw new Error("cannot have a case named cata (sorry)")}else if(!d(c)){throw new Error("case arguments must be an array")}t.push(a);o[a]=(...o)=>{const n=o.length;if(n!==c.length){throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+n)}const r=e=>{const n=ue(e);if(t.length!==n.length){throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","))}const s=ee(t,(e=>I(n,e)));if(!s){throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "))}return e[a].apply(null,o)};return{fold:(...t)=>{if(t.length!==e.length){throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)}const n=t[s];return n.apply(null,o)},match:r,log:e=>{console.log(e,{constructors:t,constructor:a,params:o})}}}}));return o};const pa={generate:ga};pa.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ha=e=>{const t=[];const o=[];Z(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{o.push(e)}))}));return{errors:t,values:o}};const ya=(e,t)=>{const o={};me(e,((e,n)=>{if(!I(t,n)){o[n]=e}}));return o};const ba=(e,t)=>({[e]:t});const va=e=>{const t={};Z(e,(e=>{t[e.key]=e.value}));return t};const ka=(e,t)=>ya(e,t);const wa=(e,t)=>ba(e,t);const _a=e=>va(e);const xa=(e,t)=>e.length===0?us.value(t):us.value(Ds(t,As.apply(undefined,e)));const Ca=e=>us.error(J(e));const Sa=(e,t)=>{const o=ha(e);return o.errors.length>0?Ca(o.errors):xa(o.values,t)};const za=e=>h(e)?e:D;const Ea=(e,t,o)=>{let n=e.dom;const s=za(o);while(n.parentNode){n=n.parentNode;const e=Je.fromDom(n);const o=t(e);if(o.isSome()){return o}else if(s(e)){break}}return N.none()};const Ta=(e,t,o)=>{const n=t(e);const s=za(o);return n.orThunk((()=>s(e)?N.none():Ea(e,t,s)))};const Oa=(e,t)=>Ct(e.element,t.event.target);const Da={can:A,abort:D,run:v};const Aa=e=>{if(!Se(e,"can")&&!Se(e,"abort")&&!Se(e,"run")){throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!")}return{...Da,...e}};const Na=(e,t)=>(...o)=>G(e,((e,n)=>e&&t(n).apply(undefined,o)),true);const Ma=(e,t)=>(...o)=>G(e,((e,n)=>e||t(n).apply(undefined,o)),false);const Ra=e=>h(e)?{can:A,abort:D,run:e}:e;const Ba=e=>{const t=Na(e,(e=>e.can));const o=Ma(e,(e=>e.abort));const n=(...t)=>{Z(e,(e=>{e.run.apply(undefined,t)}))};return{can:t,abort:o,run:n}};const La=x;const Ha=La("touchstart");const Ia=La("touchmove");const Pa=La("touchend");const Fa=La("touchcancel");const Va=La("mousedown");const ja=La("mousemove");const Za=La("mouseout");const Ua=La("mouseup");const qa=La("mouseover");const Wa=La("focusin");const $a=La("focusout");const Ga=La("keydown");const Ka=La("keyup");const Ya=La("input");const Xa=La("change");const Ja=La("click");const Qa=La("transitioncancel");const ec=La("transitionend");const tc=La("transitionstart");const oc=La("selectstart");const nc=e=>x("alloy."+e);const sc={tap:nc("tap")};const rc=nc("focus");const ac=nc("blur.post");const cc=nc("paste.post");const ic=nc("receive");const lc=nc("execute");const dc=nc("focus.item");const uc=sc.tap;const fc=nc("longpress");const mc=nc("sandbox.close");const gc=nc("typeahead.cancel");const pc=nc("system.init");const hc=nc("system.touchmove");const yc=nc("system.touchend");const bc=nc("system.scroll");const vc=nc("system.resize");const kc=nc("system.attached");const wc=nc("system.detached");const _c=nc("system.dismissRequested");const xc=nc("system.repositionRequested");const Cc=nc("focusmanager.shifted");const Sc=nc("slotcontainer.visibility");const zc=nc("system.external.element.scroll");const Ec=nc("change.tab");const Tc=nc("dismiss.tab");const Oc=nc("highlight");const Dc=nc("dehighlight");const Ac=(e,t)=>{Bc(e,e.element,t,{})};const Nc=(e,t,o)=>{Bc(e,e.element,t,o)};const Mc=e=>{Ac(e,lc())};const Rc=(e,t,o)=>{Bc(e,t,o,{})};const Bc=(e,t,o,n)=>{const s={target:t,...n};e.getSystem().triggerEvent(o,t,s)};const Lc=(e,t,o,n)=>{const s={...n,target:t};e.getSystem().triggerEvent(o,t,s)};const Hc=(e,t,o,n)=>{e.getSystem().triggerEvent(o,t,n.event)};const Ic=e=>_a(e);const Pc=(e,t)=>({key:e,value:Aa({abort:t})});const Fc=(e,t)=>({key:e,value:Aa({can:t})});const Vc=e=>({key:e,value:Aa({run:(e,t)=>{t.event.prevent()}})});const jc=(e,t)=>({key:e,value:Aa({run:t})});const Zc=(e,t,o)=>({key:e,value:Aa({run:(e,n)=>{t.apply(undefined,[e,n].concat(o))}})});const Uc=e=>t=>jc(e,t);const qc=e=>t=>({key:e,value:Aa({run:(e,o)=>{if(Oa(e,o)){t(e,o)}}})});const Wc=(e,t)=>jc(e,((o,n)=>{o.getSystem().getByUid(t).each((t=>{Hc(t,t.element,e,n)}))}));const $c=(e,t,o)=>{const n=t.partUids[o];return Wc(e,n)};const Gc=(e,t)=>jc(e,((e,o)=>{const n=o.event;const s=e.getSystem().getByDom(n.target).getOrThunk((()=>{const t=Ta(n.target,(t=>e.getSystem().getByDom(t).toOptional()),D);return t.getOr(e)}));t(e,s,o)}));const Kc=e=>jc(e,((e,t)=>{t.cut()}));const Yc=e=>jc(e,((e,t)=>{t.stop()}));const Xc=(e,t)=>qc(e)(t);const Jc=qc(kc());const Qc=qc(wc());const ei=qc(pc());const ti=Uc(lc());const oi=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;return Lt(Je.fromDom(n))};const ni=e=>e.dom.innerHTML;const si=(e,t)=>{const o=zt(e);const n=o.dom;const s=Je.fromDom(n.createDocumentFragment());const r=oi(t,n);In(s,r);Pn(e);Ln(e,s)};const ri=e=>{const t=Je.fromTag("div");const o=Je.fromDom(e.dom.cloneNode(true));Ln(t,o);return ni(t)};const ai=(e,t)=>Je.fromDom(e.dom.cloneNode(t));const ci=e=>ai(e,false);const ii=e=>{if(Vt(e)){return"#shadow-root"}else{const t=ci(e);return ri(t)}};const li=e=>ii(e);const di=(e,t,o)=>Ct(t,e.element)&&!Ct(t,o);const ui=Ic([Fc(rc(),((e,t)=>{const o=t.event;const n=o.originator;const s=o.target;if(di(e,n,s)){console.warn(rc()+" did not get interpreted by the desired target. "+"\nOriginator: "+li(n)+"\nTarget: "+li(s)+"\nCheck the "+rc()+" event handlers");return false}else{return true}}))]);var fi=Object.freeze({__proto__:null,events:ui});let mi=0;const gi=e=>{const t=new Date;const o=t.getTime();const n=Math.floor(Math.random()*1e9);mi++;return e+"_"+n+mi+String(o)};const pi=x("alloy-id-");const hi=x("data-alloy-id");const yi=pi();const bi=hi();const vi=(e,t)=>{const o=gi(yi+e);ki(t,o);return o};const ki=(e,t)=>{Object.defineProperty(e.dom,bi,{value:t,writable:true})};const wi=e=>{const t=pt(e)?e.dom[bi]:null;return N.from(t)};const _i=e=>gi(e);const xi=C;const Ci=e=>{const t=t=>`The component must be in a context to execute: ${t}`+(e?"\n"+li(e().element)+" is not in context.":"");const o=e=>()=>{throw new Error(t(e))};const n=e=>()=>{console.warn(t(e))};return{debugInfo:x("fake"),triggerEvent:n("triggerEvent"),triggerFocus:n("triggerFocus"),triggerEscape:n("triggerEscape"),broadcast:n("broadcast"),broadcastOn:n("broadcastOn"),broadcastEvent:n("broadcastEvent"),build:o("build"),buildOrPatch:o("buildOrPatch"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:D}};const Si=Ci();const zi=(e,t,o)=>{const n=o.toString();const s=n.indexOf(")")+1;const r=n.indexOf("(");const a=n.substring(r+1,s-1).split(/,\s*/);e.toFunctionAnnotation=()=>({name:t,parameters:Ei(a.slice(0,1).concat(a.slice(3)))});return e};const Ei=e=>j(e,(e=>Ve(e,"/*")?e.substring(0,e.length-"/*".length):e));const Ti=(e,t)=>{const o=e.toString();const n=o.indexOf(")")+1;const s=o.indexOf("(");const r=o.substring(s+1,n-1).split(/,\s*/);e.toFunctionAnnotation=()=>({name:t,parameters:Ei(r)});return e};const Oi=(e,t)=>{const o=t.toString();const n=o.indexOf(")")+1;const s=o.indexOf("(");const r=o.substring(s+1,n-1).split(/,\s*/);e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Ei(r.slice(1))});return e};const Di=gi("alloy-premade");const Ai=e=>{Object.defineProperty(e.element.dom,Di,{value:e.uid,writable:true});return wa(Di,e)};const Ni=e=>Ce(e.dom,Di);const Mi=e=>xe(e,Di);const Ri=e=>Oi(((t,...o)=>e(t.getApis(),t,...o)),e);const Bi={init:()=>Li({readState:x("No State required")})};const Li=e=>e;const Hi=(e,t)=>{const o=j(t,(e=>ta(e.name(),[Hr("config"),na("state",Bi)])));const n=Tr("component.behaviours",ir(o),e.behaviours).fold((t=>{throw new Error(Ar(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),C);return{list:t,data:ge(n,(e=>{const t=e.map((e=>({config:e.config,state:e.state.init(e.config)})));return x(t)}))}};const Ii=e=>e.list;const Pi=e=>e.data;const Fi=(e,t)=>{const o={};me(e,((e,n)=>{me(e,((e,s)=>{const r=xe(o,s).getOr([]);o[s]=r.concat([t(n,e)])}))}));return o};const Vi=e=>({classes:m(e.classes)?[]:e.classes,attributes:m(e.attributes)?{}:e.attributes,styles:m(e.styles)?{}:e.styles});const ji=(e,t)=>({...e,attributes:{...e.attributes,...t.attributes},styles:{...e.styles,...t.styles},classes:e.classes.concat(t.classes)});const Zi=(e,t,o,n)=>{const s={...t};Z(o,(t=>{s[t.name()]=t.exhibit(e,n)}));const r=Fi(s,((e,t)=>({name:e,modification:t})));const a=e=>$(e,((e,t)=>({...t.modification,...e})),{});const c=$(r.classes,((e,t)=>t.modification.concat(e)),[]);const i=a(r.attributes);const l=a(r.styles);return Vi({classes:c,attributes:i,styles:l})};const Ui=(e,t,o,n)=>{try{const s=re(o,((o,s)=>{const r=o[t];const a=s[t];const c=n.indexOf(r);const i=n.indexOf(a);if(c===-1){throw new Error("The ordering for "+e+" does not have an entry for "+r+".\nOrder specified: "+JSON.stringify(n,null,2))}if(i===-1){throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(n,null,2))}if(c<i){return-1}else if(i<c){return 1}else{return 0}}));return us.value(s)}catch(e){return us.error([e])}};const qi=(e,t)=>({handler:e,purpose:t});const Wi=(e,t)=>({cHandler:e,purpose:t});const $i=(e,t)=>Wi(z.apply(undefined,[e.handler].concat(t)),e.purpose);const Gi=e=>e.cHandler;const Ki=(e,t)=>({name:e,handler:t});const Yi=(e,t)=>{const o={};Z(e,(e=>{o[e.name()]=e.handlers(t)}));return o};const Xi=(e,t,o)=>{const n={...o,...Yi(t,e)};return Fi(n,Ki)};const Ji=(e,t,o,n)=>{const s=Xi(e,o,n);return ol(s,t)};const Qi=e=>{const t=Ra(e);return(e,o,...n)=>{const s=[e,o].concat(n);if(t.abort.apply(undefined,s)){o.stop()}else if(t.can.apply(undefined,s)){t.run.apply(undefined,s)}}};const el=(e,t)=>us.error(["The event ("+e+") has more than one behaviour that listens to it.\nWhen this occurs, you must "+'specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that '+"can trigger it are: "+JSON.stringify(j(t,(e=>e.name)),null,2)]);const tl=(e,t,o)=>{const n=t[o];if(!n){return el(o,e)}else{return Ui("Event: "+o,"name",e,n).map((e=>{const t=j(e,(e=>e.handler));return Ba(t)}))}};const ol=(e,t)=>{const o=ke(e,((e,o)=>{const n=e.length===1?us.value(e[0].handler):tl(e,t,o);return n.map((n=>{const s=Qi(n);const r=e.length>1?W(t[o],(t=>P(e,(e=>e.name===t)))).join(" > "):e[0].name;return wa(o,qi(s,r))}))}));return Sa(o,{})};const nl="alloy.base.behaviour";const sl=ir([Rr("dom","dom",Ns(),ir([Hr("tag"),na("styles",{}),na("classes",[]),na("attributes",{}),Gr("value"),Gr("innerHtml")])),Hr("components"),Hr("uid"),na("events",{}),na("apis",{}),Rr("eventOrder","eventOrder",Hs({[lc()]:["disabling",nl,"toggling","typeaheadevents"],[rc()]:[nl,"focusing","keying"],[pc()]:[nl,"disabling","toggling","representing"],[Ya()]:[nl,"representing","streaming","invalidating"],[wc()]:[nl,"representing","item-events","tooltipping"],[Va()]:["focusing",nl,"item-type-events"],[Ha()]:["focusing",nl,"item-type-events"],[qa()]:["item-type-events","tooltipping"],[ic()]:["receiving","reflecting","tooltipping"]}),gr()),Gr("domModification")]);const rl=e=>Tr("custom.definition",sl,e);const al=e=>({...e.dom,uid:e.uid,domChildren:j(e.components,(e=>e.element))});const cl=e=>e.domModification.fold((()=>Vi({})),Vi);const il=e=>e.events;const ll=(e,t)=>{const o=no(e,t);return o===undefined||o===""?[]:o.split(" ")};const dl=(e,t,o)=>{const n=ll(e,t);const s=n.concat([o]);to(e,t,s.join(" "));return true};const ul=(e,t,o)=>{const n=W(ll(e,t),(e=>e!==o));if(n.length>0){to(e,t,n.join(" "))}else{ao(e,t)}return false};const fl=e=>e.dom.classList!==undefined;const ml=e=>ll(e,"class");const gl=(e,t)=>dl(e,"class",t);const pl=(e,t)=>ul(e,"class",t);const hl=(e,t)=>{if(fl(e)){e.dom.classList.add(t)}else{gl(e,t)}};const yl=e=>{const t=fl(e)?e.dom.classList:ml(e);if(t.length===0){ao(e,"class")}};const bl=(e,t)=>{if(fl(e)){const o=e.dom.classList;o.remove(t)}else{pl(e,t)}yl(e)};const vl=(e,t)=>fl(e)&&e.dom.classList.contains(t);const kl=(e,t)=>{Z(t,(t=>{hl(e,t)}))};const wl=(e,t)=>{Z(t,(t=>{bl(e,t)}))};const _l=(e,t)=>ee(t,(t=>vl(e,t)));const xl=e=>{const t=e.dom.classList;const o=new Array(t.length);for(let e=0;e<t.length;e++){const n=t.item(e);if(n!==null){o[e]=n}}return o};const Cl=e=>fl(e)?xl(e):ml(e);const Sl=e=>e.dom.value;const zl=(e,t)=>{if(t===undefined){throw new Error("Value.set was undefined")}e.dom.value=t};const El=(e,t,o)=>{const n=Ht(e,t);return n.map((e=>{const t=o.exists((t=>!Ct(t,e)));if(t){const t=o.map(ut).getOr("span");const n=Je.fromTag(t);Mn(e,n);return n}else{return e}}))};const Tl=(e,t,o)=>{o.fold((()=>Ln(e,t)),(e=>{if(!Ct(e,t)){Mn(e,t);Fn(e)}}))};const Ol=(e,t,o)=>{const n=j(t,o);const s=Lt(e);Z(s.slice(n.length),Fn);return n};const Dl=(e,t,o,n)=>{const s=Ht(e,t);const r=n(o,s);const a=El(e,t,s);Tl(e,r.element,a);return r};const Al=(e,t,o)=>Ol(e,t,((t,n)=>Dl(e,n,t,o)));const Nl=(e,t)=>Ol(e,t,((t,o)=>{const n=Ht(e,o);Tl(e,t,n);return t}));const Ml=(e,t)=>{const o=ue(e);const n=ue(t);const s=oe(n,o);const r=be(e,((e,o)=>!Ce(t,o)||e!==t[o])).t;return{toRemove:s,toSet:r}};const Rl=(e,t)=>{const{class:o,style:n,...s}=co(t);const{toSet:r,toRemove:a}=Ml(e.attributes,s);const c=()=>{Z(a,(e=>ao(t,e)));oo(t,r)};const i=yo(t);const{toSet:l,toRemove:d}=Ml(e.styles,i);const u=()=>{Z(d,(e=>vo(t,e)));fo(t,l)};const f=Cl(t);const m=oe(f,e.classes);const g=oe(e.classes,f);const p=()=>{kl(t,g);wl(t,m)};const h=e=>{si(t,e)};const y=()=>{const o=e.domChildren;Nl(t,o)};const b=()=>{const o=t;const n=e.value.getOrUndefined();if(n!==Sl(o)){zl(o,n!==null&&n!==void 0?n:"")}};c();p();u();e.innerHtml.fold(y,h);b();return t};const Bl=e=>{const t=Je.fromTag(e.tag);oo(t,e.attributes);kl(t,e.classes);fo(t,e.styles);e.innerHtml.each((e=>si(t,e)));const o=e.domChildren;In(t,o);e.value.each((e=>{zl(t,e)}));return t};const Ll=(e,t)=>{try{const o=Rl(e,t);return N.some(o)}catch(e){return N.none()}};const Hl=e=>e.innerHtml.isSome()&&e.domChildren.length>0;const Il=(e,t)=>{const o=t=>ut(t)===e.tag&&!Hl(e)&&!Ni(t);const n=t.filter(o).bind((t=>Ll(e,t))).getOrThunk((()=>Bl(e)));ki(n,e.uid);return n};const Pl=e=>{const t=xe(e,"behaviours").getOr({});return Q(ue(t),(e=>{const o=t[e];return p(o)?[o.me]:[]}))};const Fl=(e,t)=>Hi(e,t);const Vl=e=>{const t=Pl(e);return Fl(e,t)};const jl=(e,t,o)=>{const n=al(e);const s=cl(e);const r={"alloy.base.modification":s};const a=t.length>0?Zi(o,r,t,n):s;return ji(n,a)};const Zl=(e,t,o)=>{const n={"alloy.base.behaviour":il(e)};return Ji(o,e.eventOrder,t,n).getOrDie()};const Ul=(e,t)=>{const o=()=>k;const n=ma(Si);const s=Or(rl(e));const r=Vl(e);const a=Ii(r);const c=Pi(r);const i=jl(s,a,c);const l=Il(i,t);const d=Zl(s,a,c);const u=ma(s.components);const f=e=>{n.set(e)};const m=()=>{n.set(Ci(o))};const g=()=>{const e=Lt(l);const t=Q(e,(e=>n.get().getByDom(e).fold((()=>[]),se)));u.set(t)};const p=t=>{const o=c;const n=h(o[t.name()])?o[t.name()]:()=>{throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))};return n()};const y=e=>h(c[e.name()]);const b=()=>s.apis;const v=e=>c[e]().map((e=>e.state.readState())).getOr("not enabled");const k={uid:e.uid,getSystem:n.get,config:p,hasConfigured:y,spec:e,readState:v,getApis:b,connect:f,disconnect:m,element:l,syncComponents:g,components:u.get,events:d};return k};const ql=(e,t)=>{const o=xe(e,"components").getOr([]);return t.fold((()=>j(o,Jl)),(e=>j(o,((t,o)=>Xl(t,Ht(e,o))))))};const Wl=(e,t)=>{const{events:o,...n}=xi(e);const s=ql(n,t);const r={...n,events:{...fi,...o},components:s};return us.value(Ul(r,t))};const $l=e=>{const t=Je.fromText(e);return Gl({element:t})};const Gl=e=>{const t=Dr("external.component",cr([Hr("element"),Gr("uid")]),e);const o=ma(Ci());const n=e=>{o.set(e)};const s=()=>{o.set(Ci((()=>a)))};const r=t.uid.getOrThunk((()=>_i("external")));ki(t.element,r);const a={uid:r,getSystem:o.get,config:N.none,hasConfigured:D,connect:n,disconnect:s,getApis:()=>({}),element:t.element,spec:e,readState:x("No state"),syncComponents:v,components:x([]),events:{}};return Ai(a)};const Kl=_i;const Yl=e=>Ce(e,"uid");const Xl=(e,t)=>Mi(e).getOrThunk((()=>{const o=Yl(e)?e:{uid:Kl(""),...e};return Wl(o,t).getOrDie()}));const Jl=e=>Xl(e,N.none());const Ql=Ai;var ed=(e,t,o,n,s)=>{if(e(o,n)){return N.some(o)}else if(h(s)&&s(o)){return N.none()}else{return t(o,n,s)}};const td=(e,t,o)=>{let n=e.dom;const s=h(o)?o:D;while(n.parentNode){n=n.parentNode;const e=Je.fromDom(n);if(t(e)){return N.some(e)}else if(s(e)){break}}return N.none()};const od=(e,t,o)=>{const n=(e,t)=>t(e);return ed(n,td,e,t,o)};const nd=(e,t)=>{const o=e=>t(Je.fromDom(e));const n=Y(e.dom.childNodes,o);return n.map(Je.fromDom)};const sd=(e,t)=>{const o=e=>{for(let n=0;n<e.childNodes.length;n++){const s=Je.fromDom(e.childNodes[n]);if(t(s)){return N.some(s)}const r=o(e.childNodes[n]);if(r.isSome()){return r}}return N.none()};return o(e.dom)};const rd=(e,t,o)=>od(e,t,o).isSome();const ad=(e,t,o)=>td(e,(e=>kt(e,t)),o);const cd=(e,t)=>nd(e,(e=>kt(e,t)));const id=(e,t)=>xt(t,e);const ld=(e,t,o)=>{const n=(e,t)=>kt(e,t);return ed(n,ad,e,t,o)};const dd="aria-controls";const ud=e=>{const t=od(e,(e=>{if(!pt(e)){return false}const t=no(e,"id");return t!==undefined&&t.indexOf(dd)>-1}));return t.bind((e=>{const t=no(e,"id");const o=Ut(e);return id(o,`[${dd}="${t}"]`)}))};const fd=()=>{const e=gi(dd);const t=t=>{to(t,dd,e)};const o=e=>{ao(e,dd)};return{id:e,link:t,unlink:o}};const md=(e,t)=>ud(t).exists((t=>gd(e,t)));const gd=(e,t)=>rd(t,(t=>Ct(t,e.element)),D)||md(e,t);const pd="unknown";var hd;(function(e){e[e["STOP"]=0]="STOP";e[e["NORMAL"]=1]="NORMAL";e[e["LOGGING"]=2]="LOGGING"})(hd||(hd={}));const yd=ma({});const bd=(e,t)=>{const o=[];const n=(new Date).getTime();return{logEventCut:(e,t,n)=>{o.push({outcome:"cut",target:t,purpose:n})},logEventStopped:(e,t,n)=>{o.push({outcome:"stopped",target:t,purpose:n})},logNoParent:(e,t,n)=>{o.push({outcome:"no-parent",target:t,purpose:n})},logEventNoHandlers:(e,t)=>{o.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,n)=>{o.push({outcome:"response",purpose:n,target:t})},write:()=>{const s=(new Date).getTime();if(I(["mousemove","mouseover","mouseout",pc()],e)){return}console.log(e,{event:e,time:s-n,target:t.dom,sequence:j(o,(e=>{if(!I(["cut","stopped","response"],e.outcome)){return e.outcome}else{return"{"+e.purpose+"} "+e.outcome+" at ("+li(e.target)+")"}}))})}}};const vd=(e,t,o)=>{const n=xe(yd.get(),e).orThunk((()=>{const t=ue(yd.get());return de(t,(t=>e.indexOf(t)>-1?N.some(yd.get()[t]):N.none()))})).getOr(hd.NORMAL);switch(n){case hd.NORMAL:return o(Cd());case hd.LOGGING:{const n=bd(e,t);const s=o(n);n.write();return s}case hd.STOP:return true}};const kd=["alloy/data/Fields","alloy/debugging/Debugging"];const wd=()=>{const e=new Error;if(e.stack!==undefined){const t=e.stack.split("\n");return Y(t,(e=>e.indexOf("alloy")>0&&!P(kd,(t=>e.indexOf(t)>-1)))).getOr(pd)}else{return pd}};const _d={logEventCut:v,logEventStopped:v,logNoParent:v,logEventNoHandlers:v,logEventResponse:v,write:v};const xd=(e,t,o)=>vd(e,t,o);const Cd=x(_d);const Sd=x([Hr("menu"),Hr("selectedMenu")]);const zd=x([Hr("item"),Hr("selectedItem")]);x(ir(zd().concat(Sd())));const Ed=x(ir(zd()));const Td=qr("initSize",[Hr("numColumns"),Hr("numRows")]);const Od=()=>Ir("markers",Ed());const Dd=()=>qr("markers",[Hr("backgroundMenu")].concat(Sd()).concat(zd()));const Ad=e=>qr("markers",j(e,Hr));const Nd=(e,t,o)=>{wd();return Rr(t,t,o,Sr((e=>us.value(((...t)=>e.apply(undefined,t))))))};const Md=e=>Nd("onHandler",e,Rs(v));const Rd=e=>Nd("onKeyboardHandler",e,Rs(N.none));const Bd=e=>Nd("onHandler",e,Ns());const Ld=e=>Nd("onKeyboardHandler",e,Ns());const Hd=(e,t)=>Br(e,x(t));const Id=e=>Br(e,C);const Pd=x(Td);const Fd=(e,t,o,n,s,r,a,c=false)=>({x:e,y:t,bubble:o,direction:n,placement:s,restriction:r,label:`${a}-${s}`,alwaysFit:c});const Vd=pa.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]);const jd=(e,t,o,n,s,r,a,c,i)=>e.fold(t,o,n,s,r,a,c,i);const Zd=(e,t,o,n)=>e.fold(t,t,n,n,t,n,o,o);const Ud=(e,t,o,n)=>e.fold(t,n,t,n,o,o,t,n);const qd=Vd.southeast;const Wd=Vd.southwest;const $d=Vd.northeast;const Gd=Vd.northwest;const Kd=Vd.south;const Yd=Vd.north;const Xd=Vd.east;const Jd=Vd.west;const Qd=(e,t,o,n)=>{const s=e+t;if(s>n){return o}else if(s<o){return n}else{return s}};const eu=(e,t,o)=>Math.min(Math.max(e,t),o);const tu=(e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}};const ou=(e,t)=>ne(["left","right","top","bottom"],(o=>xe(t,o).map((t=>tu(e,t)))));const nu=(e,t,o)=>{const n=(n,s)=>t[n].map((t=>{const r=n==="top"||n==="bottom";const a=r?o.top:o.left;const c=n==="left"||n==="top"?Math.max:Math.min;const i=c(t,s)+a;return r?eu(i,e.y,e.bottom):eu(i,e.x,e.right)})).getOr(s);const s=n("left",e.x);const r=n("top",e.y);const a=n("right",e.right);const c=n("bottom",e.bottom);return ts(s,r,a-s,c-r)};const su="layout";const ru=e=>e.x;const au=(e,t)=>e.x+e.width/2-t.width/2;const cu=(e,t)=>e.x+e.width-t.width;const iu=(e,t)=>e.y-t.height;const lu=e=>e.y+e.height;const du=(e,t)=>e.y+e.height/2-t.height/2;const uu=e=>e.x+e.width;const fu=(e,t)=>e.x-t.width;const mu=(e,t,o)=>Fd(ru(e),lu(e),o.southeast(),qd(),"southeast",ou(e,{left:1,top:3}),su);const gu=(e,t,o)=>Fd(cu(e,t),lu(e),o.southwest(),Wd(),"southwest",ou(e,{right:0,top:3}),su);const pu=(e,t,o)=>Fd(ru(e),iu(e,t),o.northeast(),$d(),"northeast",ou(e,{left:1,bottom:2}),su);const hu=(e,t,o)=>Fd(cu(e,t),iu(e,t),o.northwest(),Gd(),"northwest",ou(e,{right:0,bottom:2}),su);const yu=(e,t,o)=>Fd(au(e,t),iu(e,t),o.north(),Yd(),"north",ou(e,{bottom:2}),su);const bu=(e,t,o)=>Fd(au(e,t),lu(e),o.south(),Kd(),"south",ou(e,{top:3}),su);const vu=(e,t,o)=>Fd(uu(e),du(e,t),o.east(),Xd(),"east",ou(e,{left:0}),su);const ku=(e,t,o)=>Fd(fu(e,t),du(e,t),o.west(),Jd(),"west",ou(e,{right:1}),su);const wu=()=>[mu,gu,pu,hu,bu,yu,vu,ku];const _u=()=>[gu,mu,hu,pu,bu,yu,vu,ku];const xu=()=>[pu,hu,mu,gu,yu,bu];const Cu=()=>[hu,pu,gu,mu,yu,bu];const Su=()=>[mu,gu,pu,hu,bu,yu];const zu=()=>[gu,mu,hu,pu,bu,yu];const Eu=(e,t)=>t.universal?e:W(e,(e=>I(t.channels,e)));const Tu=e=>Ic([jc(ic(),((t,o)=>{const n=e.channels;const s=ue(n);const r=o;const a=Eu(s,r);Z(a,(e=>{const o=n[e];const s=o.schema;const a=Dr("channel["+e+"] data\nReceiver: "+li(t.element),s,r.data);o.onReceive(t,a)}))}))]);var Ou=Object.freeze({__proto__:null,events:Tu});var Du=[Ir("channels",zr(us.value,cr([Bd("onReceive"),na("schema",gr())])))];const Au=(e,t,o)=>ti((n=>{o(n,e,t)}));const Nu=(e,t,o)=>ei(((n,s)=>{o(n,e,t)}));const Mu=(e,t,o,n,s,r)=>{const a=cr(e);const c=ta(t,[oa("config",e)]);return Hu(a,c,t,o,n,s,r)};const Ru=(e,t,o,n,s,r)=>{const a=e;const c=ta(t,[Kr("config",e)]);return Hu(a,c,t,o,n,s,r)};const Bu=(e,t,o)=>{const n=(n,...s)=>{const r=[n].concat(s);return n.config({name:x(e)}).fold((()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+o)}),(e=>{const o=Array.prototype.slice.call(r,1);return t.apply(undefined,[n,e.config,e.state].concat(o))}))};return zi(n,o,t)};const Lu=e=>({key:e,value:undefined});const Hu=(e,t,o,n,s,r,a)=>{const c=e=>Se(e,o)?e[o]():N.none();const i=ge(s,((e,t)=>Bu(o,e,t)));const l=ge(r,((e,t)=>Ti(e,t)));const d={...l,...i,revoke:z(Lu,o),config:t=>{const n=Dr(o+"-config",e,t);return{key:o,value:{config:n,me:d,configAsRaw:Ho((()=>Dr(o+"-config",e,t))),initialConfig:t,state:a}}},schema:x(t),exhibit:(e,t)=>De(c(e),xe(n,"exhibit"),((e,o)=>o(t,e.config,e.state))).getOrThunk((()=>Vi({}))),name:x(o),handlers:e=>c(e).map((e=>{const t=xe(n,"events").getOr((()=>({})));return t(e.config,e.state)})).getOr({})};return d};const Iu=e=>_a(e);const Pu=cr([Hr("fields"),Hr("name"),na("active",{}),na("apis",{}),na("state",Bi),na("extra",{})]);const Fu=e=>{const t=Dr("Creating behaviour: "+e.name,Pu,e);return Mu(t.fields,t.name,t.active,t.apis,t.extra,t.state)};const Vu=cr([Hr("branchKey"),Hr("branches"),Hr("name"),na("active",{}),na("apis",{}),na("state",Bi),na("extra",{})]);const ju=e=>{const t=Dr("Creating behaviour: "+e.name,Vu,e);return Ru(Nr(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)};const Zu=x(undefined);const Uu=Fu({fields:Du,name:"receiving",active:Ou});const qu=(e,t)=>Vi({classes:[],styles:t.useFixed()?{}:{position:"relative"}});var Wu=Object.freeze({__proto__:null,exhibit:qu});const $u=e=>e.dom.focus();const Gu=e=>e.dom.blur();const Ku=e=>{const t=Ut(e).dom;return e.dom===t.activeElement};const Yu=(e=Wn())=>N.from(e.dom.activeElement).map(Je.fromDom);const Xu=e=>Yu(Ut(e)).filter((t=>e.dom.contains(t.dom)));const Ju=(e,t)=>{const o=Ut(t);const n=Yu(o).bind((e=>{const o=t=>Ct(e,t);return o(t)?N.some(t):sd(t,o)}));const s=e(t);n.each((e=>{Yu(o).filter((t=>Ct(t,e))).fold((()=>{$u(e)}),v)}));return s};const Qu=(e,t,o,n,s)=>{const r=e=>e+"px";return{position:e,left:t.map(r),top:o.map(r),right:n.map(r),bottom:s.map(r)}};const ef=e=>({...e,position:N.some(e.position)});const tf=(e,t)=>{mo(e,ef(t))};const of=pa.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]);const nf=(e,t,o,n,s,r)=>{const a=t.rect;const c=a.x-o;const i=a.y-n;const l=a.width;const d=a.height;const u=s-(c+l);const f=r-(i+d);const m=N.some(c);const g=N.some(i);const p=N.some(u);const h=N.some(f);const y=N.none();return jd(t.direction,(()=>Qu(e,m,g,y,y)),(()=>Qu(e,y,g,p,y)),(()=>Qu(e,m,y,y,h)),(()=>Qu(e,y,y,p,h)),(()=>Qu(e,m,g,y,y)),(()=>Qu(e,m,y,y,h)),(()=>Qu(e,m,g,y,y)),(()=>Qu(e,y,g,p,y)))};const sf=(e,t)=>e.fold((()=>{const e=t.rect;return Qu("absolute",N.some(e.x),N.some(e.y),N.none(),N.none())}),((e,o,n,s)=>nf("absolute",t,e,o,n,s)),((e,o,n,s)=>nf("fixed",t,e,o,n,s)));const rf=(e,t)=>{const o=z(Jn,t);const n=e.fold(o,o,(()=>{const e=Vn();return Jn(t).translate(-e.left,-e.top)}));const s=Bo(t);const r=Co(t);return ts(n.left,n.top,s,r)};const af=(e,t)=>t.fold((()=>e.fold(as,as,ts)),(t=>e.fold(x(t),x(t),(()=>{const o=cf(e,t.x,t.y);return ts(o.left,o.top,t.width,t.height)}))));const cf=(e,t,o)=>{const n=Eo(t,o);const s=()=>{const e=Vn();return n.translate(-e.left,-e.top)};return e.fold(x(n),x(n),s)};const lf=(e,t,o,n)=>e.fold(t,o,n);of.none;const df=of.relative;const uf=of.fixed;const ff=(e,t)=>({anchorBox:e,origin:t});const mf=(e,t)=>ff(e,t);const gf="data-alloy-placement";const pf=(e,t)=>{to(e,gf,t)};const hf=e=>so(e,gf);const yf=e=>ao(e,gf);const bf=pa.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]);const vf=(e,t)=>{const{x:o,y:n,right:s,bottom:r}=t;const{x:a,y:c,right:i,bottom:l,width:d,height:u}=e;const f=a>=o&&a<=s;const m=c>=n&&c<=r;const g=f&&m;const p=i<=s&&i>=o;const h=l<=r&&l>=n;const y=p&&h;const b=Math.min(d,a>=o?s-a:i-o);const v=Math.min(u,c>=n?r-c:l-n);return{originInBounds:g,sizeInBounds:y,visibleW:b,visibleH:v}};const kf=(e,t)=>{const{x:o,y:n,right:s,bottom:r}=t;const{x:a,y:c,width:i,height:l}=e;const d=Math.max(o,s-i);const u=Math.max(n,r-l);const f=eu(a,o,d);const m=eu(c,n,u);const g=Math.min(f+i,s)-f;const p=Math.min(m+l,r)-m;return ts(f,m,g,p)};const wf=(e,t,o)=>{const n=x(t.bottom-o.y);const s=x(o.bottom-t.y);const r=Zd(e,s,s,n);const a=x(t.right-o.x);const c=x(o.right-t.x);const i=Ud(e,c,c,a);return{maxWidth:i,maxHeight:r}};const _f=(e,t,o,n)=>{const s=e.bubble;const r=s.offset;const a=nu(n,e.restriction,r);const c=e.x+r.left;const i=e.y+r.top;const l=ts(c,i,t,o);const{originInBounds:d,sizeInBounds:u,visibleW:f,visibleH:m}=vf(l,a);const g=d&&u;const p=g?l:kf(l,a);const h=p.width>0&&p.height>0;const{maxWidth:y,maxHeight:b}=wf(e.direction,p,n);const v={rect:p,maxHeight:b,maxWidth:y,direction:e.direction,placement:e.placement,classes:{on:s.classesOn,off:s.classesOff},layout:e.label,testY:i};return g||e.alwaysFit?bf.fit(v):bf.nofit(v,f,m,h)};const xf=(e,t,o,n,s,r)=>{const a=n.width;const c=n.height;const i=(t,i,l,d,u)=>{const f=t(o,n,s,e,r);const m=_f(f,a,c,r);return m.fold(x(m),((e,t,o,n)=>{const s=u===n?o>d||t>l:!u&&n;return s?m:bf.nofit(i,l,d,u)}))};const l=G(t,((e,t)=>{const o=z(i,t);return e.fold(x(e),o)}),bf.nofit({rect:o,maxHeight:n.height,maxWidth:n.width,direction:qd(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,false));return l.fold(C,C)};const Cf=e=>{const t=ma(N.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(N.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(N.some(e))};return{clear:n,isSet:s,get:r,set:a}};const Sf=()=>Cf((e=>e.destroy()));const zf=()=>Cf((e=>e.unbind()));const Ef=()=>{const e=Cf(v);const t=t=>e.get().each(t);return{...e,on:t}};const Tf=A;const Of=(e,t,o)=>Dn(e,t,Tf,o);const Df=(e,t,o)=>An(e,t,Tf,o);const Af=En;const Nf=["top","bottom","right","left"];const Mf="data-alloy-transition-timer";const Rf=(e,t)=>_l(e,t.classes);const Bf=(e,t,o)=>o.exists((o=>{const n=e.mode;return n==="all"?true:o[n]!==t[n]}));const Lf=(e,t)=>{const o=e=>parseFloat(e).toFixed(3);return we(t,((t,n)=>{const s=e[n].map(o);const r=t.map(o);return!Ee(s,r)})).isSome()};const Hf=e=>{const t=t=>{const o=go(e,t);const n=o.split(/\s*,\s*/);return W(n,Ue)};const o=e=>{if(c(e)&&/^[\d.]+/.test(e)){const t=parseFloat(e);return Ve(e,"ms")?t:t*1e3}else{return 0}};const n=t("transition-delay");const s=t("transition-duration");return G(s,((e,t,s)=>{const r=o(n[s])+o(t);return Math.max(e,r)}),0)};const If=(e,t)=>{const o=zf();const n=zf();let s;const r=t=>{var o;const n=(o=t.raw.pseudoElement)!==null&&o!==void 0?o:"";return Ct(t.target,e)&&qe(n)&&I(Nf,t.raw.propertyName)};const a=a=>{if(g(a)||r(a)){o.clear();n.clear();const r=a===null||a===void 0?void 0:a.raw.type;if(g(r)||r===ec()){clearTimeout(s);ao(e,Mf);wl(e,t.classes)}}};const c=Of(e,tc(),(t=>{if(r(t)){c.unbind();o.set(Of(e,ec(),a));n.set(Of(e,Qa(),a))}}));const i=Hf(e);requestAnimationFrame((()=>{s=setTimeout(a,i+17);to(e,Mf,s)}))};const Pf=(e,t)=>{kl(e,t.classes);so(e,Mf).each((t=>{clearTimeout(parseInt(t,10));ao(e,Mf)}));If(e,t)};const Ff=(e,t,o,n,s,r)=>{const a=Bf(n,s,r);if(a||Rf(e,n)){uo(e,"position",o.position);const r=rf(t,e);const c=sf(t,{...s,rect:r});const i=ne(Nf,(e=>c[e]));if(Lf(o,i)){mo(e,i);if(a){Pf(e,n)}ko(e)}}else{wl(e,n.classes)}};const Vf=e=>({width:Bo(e),height:Co(e)});const jf=(e,t,o,n)=>{vo(t,"max-height");vo(t,"max-width");const s=Vf(t);return xf(t,n.preference,e,s,o,n.bounds)};const Zf=(e,t)=>{const o=t.classes;wl(e,o.off);kl(e,o.on)};const Uf=(e,t,o)=>{const n=o.maxHeightFunction;n(e,t.maxHeight)};const qf=(e,t,o)=>{const n=o.maxWidthFunction;n(e,t.maxWidth)};const Wf=(e,t,o)=>{const n=sf(o.origin,t);o.transition.each((s=>{Ff(e,o.origin,n,s,t,o.lastPlacement)}));tf(e,n)};const $f=(e,t)=>{pf(e,t.placement)};const Gf=(e,t)=>{So(e,Math.floor(t))};const Kf=x(((e,t)=>{Gf(e,t);fo(e,{"overflow-x":"hidden","overflow-y":"auto"})}));const Yf=x(((e,t)=>{Gf(e,t)}));const Xf=(e,t,o)=>e[t]===undefined?o:e[t];const Jf=(e,t,o,n,s,r,a,c)=>{const i=Xf(a,"maxHeightFunction",Kf());const l=Xf(a,"maxWidthFunction",v);const d=e.anchorBox;const u=e.origin;const f={bounds:af(u,r),origin:u,preference:n,maxHeightFunction:i,maxWidthFunction:l,lastPlacement:s,transition:c};return Qf(d,t,o,f)};const Qf=(e,t,o,n)=>{const s=jf(e,t,o,n);Wf(t,s,n);$f(t,s);Zf(t,s);Uf(t,s,n);qf(t,s,n);return{layout:s.layout,placement:s.placement}};const em=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"];const tm=(e,t,o,n=1)=>{const s=e*n;const r=t*n;const a=e=>xe(o,e).getOr([]);const c=(e,t,o)=>{const n=oe(em,o);return{offset:Eo(e,t),classesOn:Q(o,a),classesOff:Q(n,a)}};return{southeast:()=>c(-e,t,["top","alignLeft"]),southwest:()=>c(e,t,["top","alignRight"]),south:()=>c(-e/2,t,["top","alignCentre"]),northeast:()=>c(-e,-t,["bottom","alignLeft"]),northwest:()=>c(e,-t,["bottom","alignRight"]),north:()=>c(-e/2,-t,["bottom","alignCentre"]),east:()=>c(e,-t/2,["valignCentre","left"]),west:()=>c(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>c(s,r,["top","alignLeft","inset"]),insetNorthwest:()=>c(-s,r,["top","alignRight","inset"]),insetNorth:()=>c(-s/2,r,["top","alignCentre","inset"]),insetSoutheast:()=>c(s,-r,["bottom","alignLeft","inset"]),insetSouthwest:()=>c(-s,-r,["bottom","alignRight","inset"]),insetSouth:()=>c(-s/2,-r,["bottom","alignCentre","inset"]),insetEast:()=>c(-s,-r/2,["valignCentre","right","inset"]),insetWest:()=>c(s,-r/2,["valignCentre","left","inset"])}};const om=()=>tm(0,0,{});const nm=C;const sm=(e,t)=>o=>rm(o)==="rtl"?t:e;const rm=e=>go(e,"direction")==="rtl"?"rtl":"ltr";var am;(function(e){e["TopToBottom"]="toptobottom";e["BottomToTop"]="bottomtotop"})(am||(am={}));const cm="data-alloy-vertical-dir";const im=e=>rd(e,(e=>pt(e)&&no(e,"data-alloy-vertical-dir")===am.BottomToTop));const lm=()=>ta("layouts",[Hr("onLtr"),Hr("onRtl"),Gr("onBottomLtr"),Gr("onBottomRtl")]);const dm=(e,t,o,n,s,r,a)=>{const c=a.map(im).getOr(false);const i=t.layouts.map((t=>t.onLtr(e)));const l=t.layouts.map((t=>t.onRtl(e)));const d=c?t.layouts.bind((t=>t.onBottomLtr.map((t=>t(e))))).or(i).getOr(s):i.getOr(o);const u=c?t.layouts.bind((t=>t.onBottomRtl.map((t=>t(e))))).or(l).getOr(r):l.getOr(n);const f=sm(d,u);return f(e)};const um=(e,t,o)=>{const n=t.hotspot;const s=rf(o,n.element);const r=dm(e.element,t,Su(),zu(),xu(),Cu(),N.some(t.hotspot.element));return N.some(nm({anchorBox:s,bubble:t.bubble.getOr(om()),overrides:t.overrides,layouts:r}))};var fm=[Hr("hotspot"),Gr("bubble"),na("overrides",{}),lm(),Hd("placement",um)];const mm=(e,t,o)=>{const n=cf(o,t.x,t.y);const s=ts(n.left,n.top,t.width,t.height);const r=dm(e.element,t,wu(),_u(),wu(),_u(),N.none());return N.some(nm({anchorBox:s,bubble:t.bubble,overrides:t.overrides,layouts:r}))};var gm=[Hr("x"),Hr("y"),na("height",0),na("width",0),na("bubble",om()),na("overrides",{}),lm(),Hd("placement",mm)];const pm=pa.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]);const hm=e=>e.fold(C,((e,t,o)=>e.translate(-t,-o)));const ym=e=>e.fold(C,C);const bm=e=>G(e,((e,t)=>e.translate(t.left,t.top)),Eo(0,0));const vm=e=>{const t=j(e,hm);return bm(t)};const km=e=>{const t=j(e,ym);return bm(t)};const wm=pm.screen;const _m=pm.absolute;const xm=(e,t,o)=>{const n=Ot(o.root).dom;const s=t=>{const o=zt(t);const n=zt(e.element);return Ct(o,n)};return N.from(n.frameElement).map(Je.fromDom).filter(s).map(Do)};const Cm=(e,t,o)=>{const n=zt(e.element);const s=Vn(n);const r=xm(e,t,o).getOr(s);return _m(r,s.left,s.top)};const Sm=(e,t,o,n)=>{const s=wm(Eo(e,t));return N.some(Qn(s,o,n))};const zm=(e,t,o,n,s)=>e.map((e=>{const r=[t,e.point];const a=lf(n,(()=>km(r)),(()=>km(r)),(()=>vm(r)));const c=es(a.left,a.top,e.width,e.height);const i=o.showAbove?xu():Su();const l=o.showAbove?Cu():zu();const d=dm(s,o,i,l,i,l,N.none());return nm({anchorBox:c,bubble:o.bubble.getOr(om()),overrides:o.overrides,layouts:d})}));const Em=(e,t,o)=>{const n=Cm(e,o,t);return t.node.filter(Xt).bind((s=>{const r=s.dom.getBoundingClientRect();const a=Sm(r.left,r.top,r.width,r.height);const c=t.node.getOr(e.element);return zm(a,n,t,o,c)}))};var Tm=[Hr("node"),Hr("root"),Gr("bubble"),lm(),na("overrides",{}),na("showAbove",false),Hd("placement",Em)];const Om="\ufeff";const Dm=" ";const Am=(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n});const Nm={create:Am};const Mm=pa.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);const Rm=(e,t,o,n)=>e.fold(t,o,n);const Bm=e=>e.fold(C,C,C);const Lm=Mm.before;const Hm=Mm.on;const Im=Mm.after;const Pm={before:Lm,on:Hm,after:Im,cata:Rm,getStart:Bm};const Fm=pa.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]);const Vm=e=>Fm.exact(e.start,e.soffset,e.finish,e.foffset);const jm=e=>e.match({domRange:e=>Je.fromDom(e.startContainer),relative:(e,t)=>Pm.getStart(e),exact:(e,t,o,n)=>e});const Zm=Fm.domRange;const Um=Fm.relative;const qm=Fm.exact;const Wm=e=>{const t=jm(e);return Ot(t)};const $m=Nm.create;const Gm={domRange:Zm,relative:Um,exact:qm,exactFromRange:Vm,getWin:Wm,range:$m};const Km=(e,t)=>{t.fold((t=>{e.setStartBefore(t.dom)}),((t,o)=>{e.setStart(t.dom,o)}),(t=>{e.setStartAfter(t.dom)}))};const Ym=(e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,o)=>{e.setEnd(t.dom,o)}),(t=>{e.setEndAfter(t.dom)}))};const Xm=(e,t,o)=>{const n=e.document.createRange();Km(n,t);Ym(n,o);return n};const Jm=(e,t,o,n,s)=>{const r=e.document.createRange();r.setStart(t.dom,o);r.setEnd(n.dom,s);return r};const Qm=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height});const eg=e=>{const t=e.getClientRects();const o=t.length>0?t[0]:e.getBoundingClientRect();return o.width>0||o.height>0?N.some(o).map(Qm):N.none()};const tg=e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?N.some(t).map(Qm):N.none()};const og=pa.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);const ng=(e,t,o)=>t(Je.fromDom(o.startContainer),o.startOffset,Je.fromDom(o.endContainer),o.endOffset);const sg=(e,t)=>t.match({domRange:e=>({ltr:x(e),rtl:N.none}),relative:(t,o)=>({ltr:Ho((()=>Xm(e,t,o))),rtl:Ho((()=>N.some(Xm(e,o,t))))}),exact:(t,o,n,s)=>({ltr:Ho((()=>Jm(e,t,o,n,s))),rtl:Ho((()=>N.some(Jm(e,n,s,t,o))))})});const rg=(e,t)=>{const o=t.ltr();if(o.collapsed){const n=t.rtl().filter((e=>e.collapsed===false));return n.map((e=>og.rtl(Je.fromDom(e.endContainer),e.endOffset,Je.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>ng(e,og.ltr,o)))}else{return ng(e,og.ltr,o)}};const ag=(e,t)=>{const o=sg(e,t);return rg(e,o)};const cg=(e,t)=>{const o=ag(e,t);return o.match({ltr:(t,o,n,s)=>{const r=e.document.createRange();r.setStart(t.dom,o);r.setEnd(n.dom,s);return r},rtl:(t,o,n,s)=>{const r=e.document.createRange();r.setStart(n.dom,s);r.setEnd(t.dom,o);return r}})};og.ltr;og.rtl;const ig=(e,t,o)=>W(Mt(e,o),t);const lg=(e,t)=>_t(t,e);const dg=(e,t,o,n)=>{const s=zt(e);const r=s.dom.createRange();r.setStart(e.dom,t);r.setEnd(o.dom,n);return r};const ug=(e,t,o,n)=>{const s=dg(e,t,o,n);const r=Ct(e,o)&&t===n;return s.collapsed&&!r};const fg=e=>N.from(e.getSelection());const mg=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0);const o=e.getRangeAt(e.rangeCount-1);return N.some(Nm.create(Je.fromDom(t.startContainer),t.startOffset,Je.fromDom(o.endContainer),o.endOffset))}else{return N.none()}};const gg=e=>{if(e.anchorNode===null||e.focusNode===null){return mg(e)}else{const t=Je.fromDom(e.anchorNode);const o=Je.fromDom(e.focusNode);return ug(t,e.anchorOffset,o,e.focusOffset)?N.some(Nm.create(t,e.anchorOffset,o,e.focusOffset)):mg(e)}};const pg=e=>fg(e).filter((e=>e.rangeCount>0)).bind(gg);const hg=(e,t)=>{const o=cg(e,t);return eg(o)};const yg=(e,t)=>{const o=cg(e,t);return tg(o)};const bg=(e,t)=>{const o=o=>{if(!e(o)){throw new Error("Can only get "+t+" value of a "+t+" node")}return n(o).getOr("")};const n=t=>e(t)?N.from(t.dom.nodeValue):N.none();const s=(o,n)=>{if(!e(o)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}o.dom.nodeValue=n};return{get:o,getOption:n,set:s}};const vg=bg(ht,"text");const kg=e=>vg.get(e);const wg=(e,t)=>({element:e,offset:t});const _g=(e,t)=>{const o=Lt(e);if(o.length===0){return wg(e,t)}else if(t<o.length){return wg(o[t],0)}else{const e=o[o.length-1];const t=ht(e)?kg(e).length:Lt(e).length;return wg(e,t)}};const xg=(e,t)=>ht(e)?wg(e,t):_g(e,t);const Cg=e=>e.foffset!==undefined;const Sg=(e,t)=>{const o=t.getSelection.getOrThunk((()=>()=>pg(e)));return o().map((e=>{if(Cg(e)){const t=xg(e.start,e.soffset);const o=xg(e.finish,e.foffset);return Gm.range(t.element,t.offset,o.element,o.offset)}else{return e}}))};const zg=(e,t,o)=>{const n=Ot(t.root).dom;const s=Cm(e,o,t);const r=Sg(n,t).bind((e=>{if(Cg(e)){const t=yg(n,Gm.exactFromRange(e)).orThunk((()=>{const t=Je.fromText(Om);Mn(e.start,t);const o=hg(n,Gm.exact(t,0,t,1));Fn(t);return o}));return t.bind((e=>Sm(e.left,e.top,e.width,e.height)))}else{const t=ge(e,(e=>e.dom.getBoundingClientRect()));const o={left:Math.min(t.firstCell.left,t.lastCell.left),right:Math.max(t.firstCell.right,t.lastCell.right),top:Math.min(t.firstCell.top,t.lastCell.top),bottom:Math.max(t.firstCell.bottom,t.lastCell.bottom)};return Sm(o.left,o.top,o.right-o.left,o.bottom-o.top)}}));const a=Sg(n,t).bind((e=>{if(Cg(e)){return pt(e.start)?N.some(e.start):Nt(e.start)}else{return N.some(e.firstCell)}}));const c=a.getOr(e.element);return zm(r,s,t,o,c)};var Eg=[Gr("getSelection"),Hr("root"),Gr("bubble"),lm(),na("overrides",{}),na("showAbove",false),Hd("placement",zg)];const Tg="link-layout";const Og=e=>e.x+e.width;const Dg=(e,t)=>e.x-t.width;const Ag=(e,t)=>e.y-t.height+e.height;const Ng=e=>e.y;const Mg=(e,t,o)=>Fd(Og(e),Ng(e),o.southeast(),qd(),"southeast",ou(e,{left:0,top:2}),Tg);const Rg=(e,t,o)=>Fd(Dg(e,t),Ng(e),o.southwest(),Wd(),"southwest",ou(e,{right:1,top:2}),Tg);const Bg=(e,t,o)=>Fd(Og(e),Ag(e,t),o.northeast(),$d(),"northeast",ou(e,{left:0,bottom:3}),Tg);const Lg=(e,t,o)=>Fd(Dg(e,t),Ag(e,t),o.northwest(),Gd(),"northwest",ou(e,{right:1,bottom:3}),Tg);const Hg=()=>[Mg,Rg,Bg,Lg];const Ig=()=>[Rg,Mg,Lg,Bg];const Pg=(e,t,o)=>{const n=rf(o,t.item.element);const s=dm(e.element,t,Hg(),Ig(),Hg(),Ig(),N.none());return N.some(nm({anchorBox:n,bubble:om(),overrides:t.overrides,layouts:s}))};var Fg=[Hr("item"),lm(),na("overrides",{}),Hd("placement",Pg)];var Vg=Nr("type",{selection:Eg,node:Tm,hotspot:fm,submenu:Fg,makeshift:gm});const jg=[$r("classes",yr),ca("mode","all",["all","layout","placement"])];const Zg=[na("useFixed",D),Gr("getBounds")];const Ug=[Ir("anchor",Vg),ta("transition",jg)];const qg=()=>{const e=document.documentElement;return uf(0,0,e.clientWidth,e.clientHeight)};const Wg=e=>{const t=Do(e.element);const o=e.element.dom.getBoundingClientRect();return df(t.left,t.top,o.width,o.height)};const $g=(e,t,o,n,s,r)=>{const a=mf(t.anchorBox,e);return Jf(a,n.element,t.bubble,t.layouts,s,o,t.overrides,r)};const Gg=(e,t,o,n,s)=>{const r=N.none();Kg(e,t,o,n,s,r)};const Kg=(e,t,o,n,s,r)=>{const a=Dr("placement.info",ir(Ug),s);const c=a.anchor;const i=n.element;const l=o.get(n.uid);Ju((()=>{uo(i,"position","fixed");const s=ho(i,"visibility");uo(i,"visibility","hidden");const d=t.useFixed()?qg():Wg(e);c.placement(e,c,d).each((e=>{const s=r.orThunk((()=>t.getBounds.map(O)));const c=$g(d,e,s,n,l,a.transition);o.set(n.uid,c)}));s.fold((()=>{vo(i,"visibility")}),(e=>{uo(i,"visibility",e)}));if(ho(i,"left").isNone()&&ho(i,"top").isNone()&&ho(i,"right").isNone()&&ho(i,"bottom").isNone()&&ze(ho(i,"position"),"fixed")){vo(i,"position")}}),i)};const Yg=(e,t,o)=>t.useFixed()?"fixed":"absolute";const Xg=(e,t,o,n)=>{const s=n.element;Z(["position","left","right","top","bottom"],(e=>vo(s,e)));yf(s);o.clear(n.uid)};var Jg=Object.freeze({__proto__:null,position:Gg,positionWithinBounds:Kg,getMode:Yg,reset:Xg});const Qg=()=>{let e={};const t=(t,o)=>{e[t]=o};const o=t=>xe(e,t);const n=t=>{if(p(t)){delete e[t]}else{e={}}};return Li({readState:()=>e,clear:n,set:t,get:o})};var ep=Object.freeze({__proto__:null,init:Qg});const tp=Fu({fields:Zg,name:"positioning",active:Wu,apis:Jg,state:ep});const op=e=>e.getSystem().isConnected();const np=e=>{Ac(e,wc());const t=e.components();Z(t,np)};const sp=e=>{const t=e.components();Z(t,sp);Ac(e,kc())};const rp=(e,t)=>{e.getSystem().addToWorld(t);if(Xt(e.element)){sp(t)}};const ap=e=>{np(e);e.getSystem().removeFromWorld(e)};const cp=(e,t)=>{Ln(e.element,t.element)};const ip=e=>{Z(e.components(),(e=>Fn(e.element)));Pn(e.element);e.syncComponents()};const lp=(e,t,o)=>{const n=e.components();ip(e);const s=o(t);const r=oe(n,s);Z(r,(t=>{np(t);e.getSystem().removeFromWorld(t)}));Z(s,(t=>{if(!op(t)){e.getSystem().addToWorld(t);cp(e,t);if(Xt(e.element)){sp(t)}}else{cp(e,t)}}));e.syncComponents()};const dp=(e,t,o)=>{const n=e.components();const s=Q(t,(e=>Mi(e).toArray()));Z(n,(e=>{if(!I(s,e)){ap(e)}}));const r=o(t);const a=oe(n,r);Z(a,(e=>{if(op(e)){ap(e)}}));Z(r,(t=>{if(!op(t)){rp(e,t)}}));e.syncComponents()};const up=(e,t)=>{fp(e,t,Ln)};const fp=(e,t,o)=>{e.getSystem().addToWorld(t);o(e.element,t.element);if(Xt(e.element)){sp(t)}e.syncComponents()};const mp=e=>{np(e);Fn(e.element);e.getSystem().removeFromWorld(e)};const gp=e=>{const t=Dt(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()));mp(e);t.each((e=>{e.syncComponents()}))};const pp=e=>{const t=e.components();Z(t,mp);Pn(e.element);e.syncComponents()};const hp=(e,t)=>{bp(e,t,Ln)};const yp=(e,t)=>{bp(e,t,Rn)};const bp=(e,t,o)=>{o(e,t.element);const n=Lt(t.element);Z(n,(e=>{t.getByDom(e).each(sp)}))};const vp=e=>{const t=Lt(e.element);Z(t,(t=>{e.getByDom(t).each(np)}));Fn(e.element)};const kp=(e,t,o,n)=>{o.get().each((t=>{pp(e)}));const s=t.getAttachPoint(e);up(s,e);const r=e.getSystem().build(n);up(e,r);o.set(r);return r};const wp=(e,t,o,n)=>{const s=kp(e,t,o,n);t.onOpen(e,s);return s};const _p=(e,t,o,n)=>o.get().map((()=>kp(e,t,o,n)));const xp=(e,t,o,n,s)=>{Dp(e,t);wp(e,t,o,n);s();Np(e,t)};const Cp=(e,t,o)=>{o.get().each((n=>{pp(e);gp(e);t.onClose(e,n);o.clear()}))};const Sp=(e,t,o)=>o.isOpen();const zp=(e,t,o,n)=>Sp(e,t,o)&&o.get().exists((o=>t.isPartOf(e,o,n)));const Ep=(e,t,o)=>o.get();const Tp=(e,t,o,n)=>{ho(e.element,t).fold((()=>{ao(e.element,o)}),(t=>{to(e.element,o,t)}));uo(e.element,t,n)};const Op=(e,t,o)=>{so(e.element,o).fold((()=>vo(e.element,t)),(o=>uo(e.element,t,o)))};const Dp=(e,t,o)=>{const n=t.getAttachPoint(e);uo(e.element,"position",tp.getMode(n));Tp(e,"visibility",t.cloakVisibilityAttr,"hidden")};const Ap=e=>P(["top","left","right","bottom"],(t=>ho(e,t).isSome()));const Np=(e,t,o)=>{if(!Ap(e.element)){vo(e.element,"position")}Op(e,"visibility",t.cloakVisibilityAttr)};var Mp=Object.freeze({__proto__:null,cloak:Dp,decloak:Np,open:wp,openWhileCloaked:xp,close:Cp,isOpen:Sp,isPartOf:zp,getState:Ep,setContent:_p});const Rp=(e,t)=>Ic([jc(mc(),((o,n)=>{Cp(o,e,t)}))]);var Bp=Object.freeze({__proto__:null,events:Rp});var Lp=[Md("onOpen"),Md("onClose"),Hr("isPartOf"),Hr("getAttachPoint"),na("cloakVisibilityAttr","data-precloak-visibility")];const Hp=()=>{const e=Ef();const t=x("not-implemented");return Li({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})};var Ip=Object.freeze({__proto__:null,init:Hp});const Pp=Fu({fields:Lp,name:"sandboxing",active:Bp,apis:Mp,state:Ip});const Fp=x("dismiss.popups");const Vp=x("reposition.popups");const jp=x("mouse.released");const Zp=cr([na("isExtraPart",D),ta("fireEventInstead",[na("event",_c())])]);const Up=e=>{const t=Dr("Dismissal",Zp,e);return{[Fp()]:{schema:cr([Hr("target")]),onReceive:(e,o)=>{if(Pp.isOpen(e)){const n=Pp.isPartOf(e,o.target)||t.isExtraPart(e,o.target);if(!n){t.fireEventInstead.fold((()=>Pp.close(e)),(t=>Ac(e,t.event)))}}}}}};const qp=cr([ta("fireEventInstead",[na("event",xc())]),Zr("doReposition")]);const Wp=e=>{const t=Dr("Reposition",qp,e);return{[Vp()]:{onReceive:e=>{if(Pp.isOpen(e)){t.fireEventInstead.fold((()=>t.doReposition(e)),(t=>Ac(e,t.event)))}}}}};const $p=(e,t,o)=>{t.store.manager.onLoad(e,t,o)};const Gp=(e,t,o)=>{t.store.manager.onUnload(e,t,o)};const Kp=(e,t,o,n)=>{t.store.manager.setValue(e,t,o,n)};const Yp=(e,t,o)=>t.store.manager.getValue(e,t,o);const Xp=(e,t,o)=>o;var Jp=Object.freeze({__proto__:null,onLoad:$p,onUnload:Gp,setValue:Kp,getValue:Yp,getState:Xp});const Qp=(e,t)=>{const o=e.resetOnDom?[Jc(((o,n)=>{$p(o,e,t)})),Qc(((o,n)=>{Gp(o,e,t)}))]:[Nu(e,t,$p)];return Ic(o)};var eh=Object.freeze({__proto__:null,events:Qp});const th=()=>{const e=ma(null);const t=()=>({mode:"memory",value:e.get()});const o=()=>e.get()===null;const n=()=>{e.set(null)};return Li({set:e.set,get:e.get,isNotSet:o,clear:n,readState:t})};const oh=()=>{const e=v;return Li({readState:e})};const nh=()=>{const e=ma({});const t=ma({});const o=()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()});const n=()=>{e.set({});t.set({})};const s=o=>xe(e.get(),o).orThunk((()=>xe(t.get(),o)));const r=o=>{const n=e.get();const s=t.get();const r={};const a={};Z(o,(e=>{r[e.value]=e;xe(e,"meta").each((t=>{xe(t,"text").each((t=>{a[t]=e}))}))}));e.set({...n,...r});t.set({...s,...a})};return Li({readState:o,lookup:s,update:r,clear:n})};const sh=e=>e.store.manager.state(e);var rh=Object.freeze({__proto__:null,memory:th,dataset:nh,manual:oh,init:sh});const ah=(e,t,o,n)=>{const s=t.store;o.update([n]);s.setValue(e,n);t.onSetValue(e,n)};const ch=(e,t,o)=>{const n=t.store;const s=n.getDataKey(e);return o.lookup(s).getOrThunk((()=>n.getFallbackEntry(s)))};const ih=(e,t,o)=>{const n=t.store;n.initialValue.each((n=>{ah(e,t,o,n)}))};const lh=(e,t,o)=>{o.clear()};var dh=[Gr("initialValue"),Hr("getFallbackEntry"),Hr("getDataKey"),Hr("setValue"),Hd("manager",{setValue:ah,getValue:ch,onLoad:ih,onUnload:lh,state:nh})];const uh=(e,t,o)=>t.store.getValue(e);const fh=(e,t,o,n)=>{t.store.setValue(e,n);t.onSetValue(e,n)};const mh=(e,t,o)=>{t.store.initialValue.each((o=>{t.store.setValue(e,o)}))};var gh=[Hr("getValue"),na("setValue",v),Gr("initialValue"),Hd("manager",{setValue:fh,getValue:uh,onLoad:mh,onUnload:v,state:Bi.init})];const ph=(e,t,o,n)=>{o.set(n);t.onSetValue(e,n)};const hh=(e,t,o)=>o.get();const yh=(e,t,o)=>{t.store.initialValue.each((e=>{if(o.isNotSet()){o.set(e)}}))};const bh=(e,t,o)=>{o.clear()};var vh=[Gr("initialValue"),Hd("manager",{setValue:ph,getValue:hh,onLoad:yh,onUnload:bh,state:th})];var kh=[sa("store",{mode:"memory"},Nr("mode",{memory:vh,manual:gh,dataset:dh})),Md("onSetValue"),na("resetOnDom",false)];const wh=Fu({fields:kh,name:"representing",active:eh,apis:Jp,extra:{setValueFrom:(e,t)=>{const o=wh.getValue(t);wh.setValue(e,o)}},state:rh});const _h=(e,t)=>fa(e,{},j(t,(t=>Ur(t.name(),"Cannot configure "+t.name()+" for "+e))).concat([Br("dump",C)]));const xh=e=>e.dump;const Ch=(e,t)=>({...Iu(t),...e.dump});const Sh={field:_h,augment:Ch,get:xh};const zh="placeholder";const Eh=pa.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]);const Th=e=>Ce(e,"uiType");const Oh=(e,t,o,n)=>{if(e.exists((e=>e!==o.owner))){return Eh.single(true,x(o))}return xe(n,o.name).fold((()=>{throw new Error("Unknown placeholder component: "+o.name+"\nKnown: ["+ue(n)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(o,null,2))}),(e=>e.replace()))};const Dh=(e,t,o,n)=>{if(Th(o)&&o.uiType===zh){return Oh(e,t,o,n)}else{return Eh.single(false,x(o))}};const Ah=(e,t,o,n)=>{const s=Dh(e,t,o,n);return s.fold(((s,r)=>{const a=Th(o)?r(t,o.config,o.validated):r(t);const c=xe(a,"components").getOr([]);const i=Q(c,(o=>Ah(e,t,o,n)));return[{...a,components:i}]}),((e,n)=>{if(Th(o)){const e=n(t,o.config,o.validated);const s=o.validated.preprocess.getOr(C);return s(e)}else{return n(t)}}))};const Nh=(e,t,o,n)=>Q(o,(o=>Ah(e,t,o,n)));const Mh=(e,t)=>{let o=false;const n=()=>o;const s=()=>{if(o){throw new Error("Trying to use the same placeholder more than once: "+e)}o=true;return t};const r=()=>t.fold(((e,t)=>e),((e,t)=>e));return{name:x(e),required:r,used:n,replace:s}};const Rh=(e,t,o,n)=>{const s=ge(n,((e,t)=>Mh(t,e)));const r=Nh(e,t,o,s);me(s,(o=>{if(o.used()===false&&o.required()){throw new Error("Placeholder: "+o.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))}}));return r};const Bh=Eh.single;const Lh=Eh.multiple;const Hh=x(zh);const Ih=pa.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]);const Ph=na("factory",{sketch:C});const Fh=na("schema",[]);const Vh=Hr("name");const jh=Rr("pname","pname",Ms((e=>"<alloy."+gi(e.name)+">")),gr());const Zh=Br("schema",(()=>[Gr("preprocess")]));const Uh=na("defaults",x({}));const qh=na("overrides",x({}));const Wh=ir([Ph,Fh,Vh,jh,Uh,qh]);const $h=ir([Ph,Fh,Vh,Uh,qh]);const Gh=ir([Ph,Fh,Vh,jh,Uh,qh]);const Kh=ir([Ph,Zh,Vh,Hr("unit"),jh,Uh,qh]);const Yh=e=>e.fold(N.some,N.none,N.some,N.some);const Xh=e=>{const t=e=>e.name;return e.fold(t,t,t,t)};const Jh=e=>e.fold(C,C,C,C);const Qh=(e,t)=>o=>{const n=Dr("Converting part type",t,o);return e(n)};const ey=Qh(Ih.required,Wh);const ty=Qh(Ih.external,$h);const oy=Qh(Ih.optional,Gh);const ny=Qh(Ih.group,Kh);const sy=x("entirety");var ry=Object.freeze({__proto__:null,required:ey,external:ty,optional:oy,group:ny,asNamedPart:Yh,name:Xh,asCommon:Jh,original:sy});const ay=(e,t,o,n)=>Ds(t.defaults(e,o,n),o,{uid:e.partUids[t.name]},t.overrides(e,o,n));const cy=(e,t,o)=>{const n={};const s={};Z(o,(e=>{e.fold((e=>{n[e.pname]=Bh(true,((t,o,n)=>e.factory.sketch(ay(t,e,o,n))))}),(e=>{const o=t.parts[e.name];s[e.name]=x(e.factory.sketch(ay(t,e,o[sy()]),o))}),(e=>{n[e.pname]=Bh(false,((t,o,n)=>e.factory.sketch(ay(t,e,o,n))))}),(e=>{n[e.pname]=Lh(true,((t,o,n)=>{const s=t[e.name];return j(s,(o=>e.factory.sketch(Ds(e.defaults(t,o,n),o,e.overrides(t,o)))))}))}))}));return{internals:x(n),externals:x(s)}};const iy=(e,t)=>{const o={};Z(t,(t=>{Yh(t).each((t=>{const n=ly(e,t.pname);o[t.name]=o=>{const s=Dr("Part: "+t.name+" in "+e,ir(t.schema),o);return{...n,config:o,validated:s}}}))}));return o};const ly=(e,t)=>({uiType:Hh(),owner:e,name:t});const dy=(e,t,o)=>({uiType:Hh(),owner:e,name:t,config:o,validated:{}});const uy=e=>Q(e,(e=>e.fold(N.none,N.some,N.none,N.none).map((e=>qr(e.name,e.schema.concat([Id(sy())])))).toArray()));const fy=e=>j(e,Xh);const my=(e,t,o)=>cy(e,t,o);const gy=(e,t,o)=>Rh(N.some(e),t,t.components,o);const py=(e,t,o)=>{const n=t.partUids[o];return e.getSystem().getByUid(n).toOptional()};const hy=(e,t,o)=>py(e,t,o).getOrDie("Could not find part: "+o);const yy=(e,t,o)=>{const n={};const s=t.partUids;const r=e.getSystem();Z(o,(e=>{n[e]=x(r.getByUid(s[e]))}));return n};const by=(e,t)=>{const o=e.getSystem();return ge(t.partUids,((e,t)=>x(o.getByUid(e))))};const vy=e=>ue(e.partUids);const ky=(e,t,o)=>{const n={};const s=t.partUids;const r=e.getSystem();Z(o,(e=>{n[e]=x(r.getByUid(s[e]).getOrDie())}));return n};const wy=(e,t)=>{const o=fy(t);return _a(j(o,(t=>({key:t,value:e+"-"+t}))))};const _y=e=>Rr("partUids","partUids",Ls((t=>wy(t.uid,e))),gr());var xy=Object.freeze({__proto__:null,generate:iy,generateOne:dy,schemas:uy,names:fy,substitutes:my,components:gy,defaultUids:wy,defaultUidsSchema:_y,getAllParts:by,getAllPartNames:vy,getPart:py,getPartOrDie:hy,getParts:yy,getPartsOrDie:ky});const Cy=(e,t)=>{const o=e.length>0?[qr("parts",e)]:[];return o.concat([Hr("uid"),na("dom",{}),na("components",[]),Id("originalSpec"),na("debug.sketcher",{})]).concat(t)};const Sy=(e,t,o,n,s)=>{const r=Cy(n,s);return Dr(e+" [SpecSchema]",cr(r.concat(t)),o)};const zy=(e,t,o,n)=>{const s=Oy(n);const r=Sy(e,t,s,[],[]);return o(r,s)};const Ey=(e,t,o,n,s)=>{const r=Oy(s);const a=uy(o);const c=_y(o);const i=Sy(e,t,r,a,[c]);const l=my(e,i,o);const d=gy(e,i,l.internals());return n(i,d,r,l.externals())};const Ty=e=>Ce(e,"uid");const Oy=e=>Ty(e)?e:{...e,uid:_i("uid")};const Dy=e=>e.uid!==undefined;const Ay=cr([Hr("name"),Hr("factory"),Hr("configFields"),na("apis",{}),na("extraApis",{})]);const Ny=cr([Hr("name"),Hr("factory"),Hr("configFields"),Hr("partFields"),na("apis",{}),na("extraApis",{})]);const My=e=>{const t=Dr("Sketcher for "+e.name,Ay,e);const o=e=>zy(t.name,t.configFields,t.factory,e);const n=ge(t.apis,Ri);const s=ge(t.extraApis,((e,t)=>Ti(e,t)));return{name:t.name,configFields:t.configFields,sketch:o,...n,...s}};const Ry=e=>{const t=Dr("Sketcher for "+e.name,Ny,e);const o=e=>Ey(t.name,t.configFields,t.partFields,t.factory,e);const n=iy(t.name,t.partFields);const s=ge(t.apis,Ri);const r=ge(t.extraApis,((e,t)=>Ti(e,t)));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:o,parts:n,...s,...r}};const By=e=>vt("input")(e)&&no(e,"type")!=="radio"||vt("textarea")(e);const Ly=(e,t,o)=>t.find(e);var Hy=Object.freeze({__proto__:null,getCurrent:Ly});const Iy=[Hr("find")];const Py=Fu({fields:Iy,name:"composing",apis:Hy});const Fy=["input","button","textarea","select"];const Vy=(e,t,o)=>{const n=t.disabled()?Ky:Yy;n(e,t)};const jy=(e,t)=>t.useNative===true&&I(Fy,ut(e.element));const Zy=e=>ro(e.element,"disabled");const Uy=e=>{to(e.element,"disabled","disabled")};const qy=e=>{ao(e.element,"disabled")};const Wy=e=>no(e.element,"aria-disabled")==="true";const $y=e=>{to(e.element,"aria-disabled","true")};const Gy=e=>{to(e.element,"aria-disabled","false")};const Ky=(e,t,o)=>{t.disableClass.each((t=>{hl(e.element,t)}));const n=jy(e,t)?Uy:$y;n(e);t.onDisabled(e)};const Yy=(e,t,o)=>{t.disableClass.each((t=>{bl(e.element,t)}));const n=jy(e,t)?qy:Gy;n(e);t.onEnabled(e)};const Xy=(e,t)=>jy(e,t)?Zy(e):Wy(e);const Jy=(e,t,o,n)=>{const s=n?Ky:Yy;s(e,t)};var Qy=Object.freeze({__proto__:null,enable:Yy,disable:Ky,isDisabled:Xy,onLoad:Vy,set:Jy});const eb=(e,t)=>Vi({classes:t.disabled()?t.disableClass.toArray():[]});const tb=(e,t)=>Ic([Pc(lc(),((t,o)=>Xy(t,e))),Nu(e,t,Vy)]);var ob=Object.freeze({__proto__:null,exhibit:eb,events:tb});var nb=[la("disabled",D),na("useNative",true),Gr("disableClass"),Md("onDisabled"),Md("onEnabled")];const sb=Fu({fields:nb,name:"disabling",active:ob,apis:Qy});const rb=(e,t,o,n)=>{const s=lg(e.element,"."+t.highlightClass);Z(s,(o=>{const s=P(n,(e=>Ct(e.element,o)));if(!s){bl(o,t.highlightClass);e.getSystem().getByDom(o).each((o=>{t.onDehighlight(e,o);Ac(o,Dc())}))}}))};const ab=(e,t,o)=>rb(e,t,o,[]);const cb=(e,t,o,n)=>{if(mb(e,t,o,n)){bl(n.element,t.highlightClass);t.onDehighlight(e,n);Ac(n,Dc())}};const ib=(e,t,o,n)=>{rb(e,t,o,[n]);if(!mb(e,t,o,n)){hl(n.element,t.highlightClass);t.onHighlight(e,n);Ac(n,Oc())}};const lb=(e,t,o)=>{hb(e,t).each((n=>{ib(e,t,o,n)}))};const db=(e,t,o)=>{yb(e,t).each((n=>{ib(e,t,o,n)}))};const ub=(e,t,o,n)=>{pb(e,t,o,n).fold((e=>{throw e}),(n=>{ib(e,t,o,n)}))};const fb=(e,t,o,n)=>{const s=wb(e,t);const r=Y(s,n);r.each((n=>{ib(e,t,o,n)}))};const mb=(e,t,o,n)=>vl(n.element,t.highlightClass);const gb=(e,t,o)=>id(e.element,"."+t.highlightClass).bind((t=>e.getSystem().getByDom(t).toOptional()));const pb=(e,t,o,n)=>{const s=lg(e.element,"."+t.itemClass);return N.from(s[n]).fold((()=>us.error(new Error("No element found with index "+n))),e.getSystem().getByDom)};const hb=(e,t,o)=>id(e.element,"."+t.itemClass).bind((t=>e.getSystem().getByDom(t).toOptional()));const yb=(e,t,o)=>{const n=lg(e.element,"."+t.itemClass);const s=n.length>0?N.some(n[n.length-1]):N.none();return s.bind((t=>e.getSystem().getByDom(t).toOptional()))};const bb=(e,t,o,n)=>{const s=lg(e.element,"."+t.itemClass);const r=X(s,(e=>vl(e,t.highlightClass)));return r.bind((t=>{const o=Qd(t,n,0,s.length-1);return e.getSystem().getByDom(s[o]).toOptional()}))};const vb=(e,t,o)=>bb(e,t,o,-1);const kb=(e,t,o)=>bb(e,t,o,+1);const wb=(e,t,o)=>{const n=lg(e.element,"."+t.itemClass);return Te(j(n,(t=>e.getSystem().getByDom(t).toOptional())))};var _b=Object.freeze({__proto__:null,dehighlightAll:ab,dehighlight:cb,highlight:ib,highlightFirst:lb,highlightLast:db,highlightAt:ub,highlightBy:fb,isHighlighted:mb,getHighlighted:gb,getFirst:hb,getLast:yb,getPrevious:vb,getNext:kb,getCandidates:wb});var xb=[Hr("highlightClass"),Hr("itemClass"),Md("onHighlight"),Md("onDehighlight")];const Cb=Fu({fields:xb,name:"highlighting",apis:_b});const Sb=[8];const zb=[9];const Eb=[13];const Tb=[27];const Ob=[32];const Db=[37];const Ab=[38];const Nb=[39];const Mb=[40];const Rb=(e,t,o)=>{const n=te(e.slice(0,t));const s=te(e.slice(t+1));return Y(n.concat(s),o)};const Bb=(e,t,o)=>{const n=te(e.slice(0,t));return Y(n,o)};const Lb=(e,t,o)=>{const n=e.slice(0,t);const s=e.slice(t+1);return Y(s.concat(n),o)};const Hb=(e,t,o)=>{const n=e.slice(t+1);return Y(n,o)};const Ib=e=>t=>{const o=t.raw;return I(e,o.which)};const Pb=e=>t=>ee(e,(e=>e(t)));const Fb=e=>{const t=e.raw;return t.shiftKey===true};const Vb=e=>{const t=e.raw;return t.ctrlKey===true};const jb=E(Fb);const Zb=(e,t)=>({matches:e,classification:t});const Ub=(e,t)=>{const o=Y(e,(e=>e.matches(t)));return o.map((e=>e.classification))};const qb=(e,t,o)=>{const n=t.exists((e=>o.exists((t=>Ct(t,e)))));if(!n){Nc(e,Cc(),{prevFocus:t,newFocus:o})}};const Wb=()=>{const e=e=>Xu(e.element);const t=(t,o)=>{const n=e(t);t.getSystem().triggerFocus(o,t.element);const s=e(t);qb(t,n,s)};return{get:e,set:t}};const $b=()=>{const e=e=>Cb.getHighlighted(e).map((e=>e.element));const t=(t,o)=>{const n=e(t);t.getSystem().getByDom(o).fold(v,(e=>{Cb.highlight(t,e)}));const s=e(t);qb(t,n,s)};return{get:e,set:t}};var Gb;(function(e){e["OnFocusMode"]="onFocus";e["OnEnterOrSpaceMode"]="onEnterOrSpace";e["OnApiMode"]="onApi"})(Gb||(Gb={}));const Kb=(e,t,o,n,s)=>{const r=()=>e.concat([na("focusManager",Wb()),sa("focusInside","onFocus",Sr((e=>I(["onFocus","onEnterOrSpace","onApi"],e)?us.value(e):us.error("Invalid value for focusInside")))),Hd("handler",i),Hd("state",t),Hd("sendFocusIn",s)]);const a=(e,t,o,n,s)=>{const r=o(e,t,n,s);return Ub(r,t.event).bind((o=>o(e,t,n,s)))};const c=(e,t)=>{const r=e.focusInside!==Gb.OnFocusMode?N.none():s(e).map((o=>jc(rc(),((n,s)=>{o(n,e,t);s.stop()}))));const c=(o,n)=>{const r=Ib(Ob.concat(Eb))(n.event);if(e.focusInside===Gb.OnEnterOrSpaceMode&&r&&Oa(o,n)){s(e).each((s=>{s(o,e,t);n.stop()}))}};const i=[jc(Ga(),((n,s)=>{a(n,s,o,e,t).fold((()=>{c(n,s)}),(e=>{s.stop()}))})),jc(Ka(),((o,s)=>{a(o,s,n,e,t).each((e=>{s.stop()}))}))];return Ic(r.toArray().concat(i))};const i={schema:r,processKey:a,toEvents:c};return i};const Yb=e=>{const t=[Gr("onEscape"),Gr("onEnter"),na("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),na("firstTabstop",0),na("useTabstopAt",A),Gr("visibilitySelector")].concat([e]);const o=(e,t)=>{const o=e.visibilitySelector.bind((e=>ld(t,e))).getOr(t);return xo(o)>0};const n=(e,t)=>{const n=lg(e.element,t.selector);const s=W(n,(e=>o(t,e)));return N.from(s[t.firstTabstop])};const s=(e,t)=>t.focusManager.get(e).bind((e=>ld(e,t.selector)));const r=(e,t)=>o(e,t)&&e.useTabstopAt(t);const a=(e,t,o)=>{n(e,t).each((o=>{t.focusManager.set(e,o)}))};const c=(e,t,o,n,s)=>s(t,o,(e=>r(n,e))).fold((()=>n.cyclic?N.some(true):N.none()),(t=>{n.focusManager.set(e,t);return N.some(true)}));const i=(e,t,o,n)=>{const r=lg(e.element,o.selector);return s(e,o).bind((t=>{const s=X(r,z(Ct,t));return s.bind((t=>c(e,r,t,o,n)))}))};const l=(e,t,o)=>{const n=o.cyclic?Rb:Bb;return i(e,t,o,n)};const d=(e,t,o)=>{const n=o.cyclic?Lb:Hb;return i(e,t,o,n)};const u=e=>At(e).bind(It).exists((t=>Ct(t,e)));const f=(e,t,o)=>s(e,o).filter((e=>!o.useTabstopAt(e))).bind((n=>(u(n)?l:d)(e,t,o)));const m=(e,t,o)=>o.onEnter.bind((o=>o(e,t)));const g=(e,t,o)=>o.onEscape.bind((o=>o(e,t)));const p=x([Zb(Pb([Fb,Ib(zb)]),l),Zb(Ib(zb),d),Zb(Pb([jb,Ib(Eb)]),m)]);const h=x([Zb(Ib(Tb),g),Zb(Ib(zb),f)]);return Kb(t,Bi.init,p,h,(()=>N.some(a)))};var Xb=Yb(Br("cyclic",D));var Jb=Yb(Br("cyclic",A));const Qb=(e,t,o)=>{Rc(e,o,lc());return N.some(true)};const ev=(e,t,o)=>{const n=By(o)&&Ib(Ob)(t.event);return n?N.none():Qb(e,t,o)};const tv=(e,t)=>N.some(true);const ov=[na("execute",ev),na("useSpace",false),na("useEnter",true),na("useControlEnter",false),na("useDown",false)];const nv=(e,t,o)=>o.execute(e,t,e.element);const sv=(e,t,o,n)=>{const s=o.useSpace&&!By(e.element)?Ob:[];const r=o.useEnter?Eb:[];const a=o.useDown?Mb:[];const c=s.concat(r).concat(a);return[Zb(Ib(c),nv)].concat(o.useControlEnter?[Zb(Pb([Vb,Ib(Eb)]),nv)]:[])};const rv=(e,t,o,n)=>o.useSpace&&!By(e.element)?[Zb(Ib(Ob),tv)]:[];var av=Kb(ov,Bi.init,sv,rv,(()=>N.none()));const cv=()=>{const e=Ef();const t=(t,o)=>{e.set({numRows:t,numColumns:o})};const o=()=>e.get().map((e=>e.numRows));const n=()=>e.get().map((e=>e.numColumns));return Li({readState:()=>e.get().map((e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)}))).getOr({numRows:"?",numColumns:"?"}),setGridSize:t,getNumRows:o,getNumColumns:n})};const iv=e=>e.state(e);var lv=Object.freeze({__proto__:null,flatgrid:cv,init:iv});const dv=e=>(t,o,n,s)=>{const r=e(t.element);return gv(r,t,o,n,s)};const uv=(e,t)=>{const o=sm(e,t);return dv(o)};const fv=(e,t)=>{const o=sm(t,e);return dv(o)};const mv=e=>(t,o,n,s)=>gv(e,t,o,n,s);const gv=(e,t,o,n,s)=>{const r=n.focusManager.get(t).bind((o=>e(t.element,o,n,s)));return r.map((e=>{n.focusManager.set(t,e);return true}))};const pv=mv;const hv=mv;const yv=mv;const bv=e=>e.offsetWidth<=0&&e.offsetHeight<=0;const vv=e=>!bv(e.dom);const kv=(e,t)=>X(e,t).map((t=>({index:t,candidates:e})));const wv=(e,t,o)=>{const n=e=>Ct(e,t);const s=lg(e,o);const r=W(s,vv);return kv(r,n)};const _v=(e,t)=>X(e,(e=>Ct(t,e)));const xv=(e,t,o,n)=>{const s=Math.floor(t/o);const r=t%o;return n(s,r).bind((t=>{const n=t.row*o+t.column;return n>=0&&n<e.length?N.some(e[n]):N.none()}))};const Cv=(e,t,o,n,s)=>xv(e,t,n,((t,r)=>{const a=t===o-1;const c=a?e.length-t*n:n;const i=Qd(r,s,0,c-1);return N.some({row:t,column:i})}));const Sv=(e,t,o,n,s)=>xv(e,t,n,((t,r)=>{const a=Qd(t,s,0,o-1);const c=a===o-1;const i=c?e.length-a*n:n;const l=eu(r,0,i-1);return N.some({row:a,column:l})}));const zv=(e,t,o,n)=>Cv(e,t,o,n,+1);const Ev=(e,t,o,n)=>Cv(e,t,o,n,-1);const Tv=(e,t,o,n)=>Sv(e,t,o,n,-1);const Ov=(e,t,o,n)=>Sv(e,t,o,n,+1);const Dv=[Hr("selector"),na("execute",ev),Rd("onEscape"),na("captureTab",false),Pd()];const Av=(e,t,o)=>{id(e.element,t.selector).each((o=>{t.focusManager.set(e,o)}))};const Nv=(e,t)=>t.focusManager.get(e).bind((e=>ld(e,t.selector)));const Mv=(e,t,o,n)=>Nv(e,o).bind((n=>o.execute(e,t,n)));const Rv=e=>(t,o,n,s)=>wv(t,o,n.selector).bind((t=>e(t.candidates,t.index,s.getNumRows().getOr(n.initSize.numRows),s.getNumColumns().getOr(n.initSize.numColumns))));const Bv=(e,t,o)=>o.captureTab?N.some(true):N.none();const Lv=(e,t,o)=>o.onEscape(e,t);const Hv=Rv(Ev);const Iv=Rv(zv);const Pv=Rv(Tv);const Fv=Rv(Ov);const Vv=x([Zb(Ib(Db),uv(Hv,Iv)),Zb(Ib(Nb),fv(Hv,Iv)),Zb(Ib(Ab),pv(Pv)),Zb(Ib(Mb),hv(Fv)),Zb(Pb([Fb,Ib(zb)]),Bv),Zb(Pb([jb,Ib(zb)]),Bv),Zb(Ib(Ob.concat(Eb)),Mv)]);const jv=x([Zb(Ib(Tb),Lv),Zb(Ib(Ob),tv)]);var Zv=Kb(Dv,cv,Vv,jv,(()=>N.some(Av)));const Uv=(e,t,o,n,s)=>{const r=e=>ut(e)==="button"&&no(e,"disabled")==="disabled";const a=(e,t,o)=>s(e,t,n,0,o.length-1,o[t],(t=>r(o[t])?a(e,t,o):N.from(o[t])));return wv(e,o,t).bind((e=>{const t=e.index;const o=e.candidates;return a(t,t,o)}))};const qv=(e,t,o,n)=>Uv(e,t,o,n,((e,t,o,n,s,r,a)=>{const c=eu(t+o,n,s);return c===e?N.from(r):a(c)}));const Wv=(e,t,o,n)=>Uv(e,t,o,n,((e,t,o,n,s,r,a)=>{const c=Qd(t,o,n,s);return c===e?N.none():a(c)}));const $v=[Hr("selector"),na("getInitial",N.none),na("execute",ev),Rd("onEscape"),na("executeOnMove",false),na("allowVertical",true),na("allowHorizontal",true),na("cycles",true)];const Gv=(e,t)=>t.focusManager.get(e).bind((e=>ld(e,t.selector)));const Kv=(e,t,o)=>Gv(e,o).bind((n=>o.execute(e,t,n)));const Yv=(e,t,o)=>{t.getInitial(e).orThunk((()=>id(e.element,t.selector))).each((o=>{t.focusManager.set(e,o)}))};const Xv=(e,t,o)=>(o.cycles?Wv:qv)(e,o.selector,t,-1);const Jv=(e,t,o)=>(o.cycles?Wv:qv)(e,o.selector,t,+1);const Qv=e=>(t,o,n,s)=>e(t,o,n,s).bind((()=>n.executeOnMove?Kv(t,o,n):N.some(true)));const ek=(e,t,o)=>o.onEscape(e,t);const tk=(e,t,o,n)=>{const s=[...o.allowHorizontal?Db:[]].concat(o.allowVertical?Ab:[]);const r=[...o.allowHorizontal?Nb:[]].concat(o.allowVertical?Mb:[]);return[Zb(Ib(s),Qv(uv(Xv,Jv))),Zb(Ib(r),Qv(fv(Xv,Jv))),Zb(Ib(Eb),Kv),Zb(Ib(Ob),Kv)]};const ok=x([Zb(Ib(Ob),tv),Zb(Ib(Tb),ek)]);var nk=Kb($v,Bi.init,tk,ok,(()=>N.some(Yv)));const sk=(e,t,o)=>N.from(e[t]).bind((e=>N.from(e[o]).map((e=>({rowIndex:t,columnIndex:o,cell:e})))));const rk=(e,t,o,n)=>{const s=e[t];const r=s.length;const a=Qd(o,n,0,r-1);return sk(e,t,a)};const ak=(e,t,o,n)=>{const s=Qd(o,n,0,e.length-1);const r=e[s].length;const a=eu(t,0,r-1);return sk(e,s,a)};const ck=(e,t,o,n)=>{const s=e[t];const r=s.length;const a=eu(o+n,0,r-1);return sk(e,t,a)};const ik=(e,t,o,n)=>{const s=eu(o+n,0,e.length-1);const r=e[s].length;const a=eu(t,0,r-1);return sk(e,s,a)};const lk=(e,t,o)=>rk(e,t,o,+1);const dk=(e,t,o)=>rk(e,t,o,-1);const uk=(e,t,o)=>ak(e,o,t,-1);const fk=(e,t,o)=>ak(e,o,t,+1);const mk=(e,t,o)=>ck(e,t,o,-1);const gk=(e,t,o)=>ck(e,t,o,+1);const pk=(e,t,o)=>ik(e,o,t,-1);const hk=(e,t,o)=>ik(e,o,t,+1);const yk=[qr("selectors",[Hr("row"),Hr("cell")]),na("cycles",true),na("previousSelector",N.none),na("execute",ev)];const bk=(e,t,o)=>{const n=t.previousSelector(e).orThunk((()=>{const o=t.selectors;return id(e.element,o.cell)}));n.each((o=>{t.focusManager.set(e,o)}))};const vk=(e,t,o)=>Xu(e.element).bind((n=>o.execute(e,t,n)));const kk=(e,t)=>j(e,(e=>lg(e,t.selectors.cell)));const wk=(e,t)=>(o,n,s)=>{const r=s.cycles?e:t;return ld(n,s.selectors.row).bind((e=>{const t=lg(e,s.selectors.cell);return _v(t,n).bind((t=>{const n=lg(o,s.selectors.row);return _v(n,e).bind((e=>{const o=kk(n,s);return r(o,e,t).map((e=>e.cell))}))}))}))};const _k=wk(dk,mk);const xk=wk(lk,gk);const Ck=wk(uk,pk);const Sk=wk(fk,hk);const zk=x([Zb(Ib(Db),uv(_k,xk)),Zb(Ib(Nb),fv(_k,xk)),Zb(Ib(Ab),pv(Ck)),Zb(Ib(Mb),hv(Sk)),Zb(Ib(Ob.concat(Eb)),vk)]);const Ek=x([Zb(Ib(Ob),tv)]);var Tk=Kb(yk,Bi.init,zk,Ek,(()=>N.some(bk)));const Ok=[Hr("selector"),na("execute",ev),na("moveOnTab",false)];const Dk=(e,t,o)=>o.focusManager.get(e).bind((n=>o.execute(e,t,n)));const Ak=(e,t,o)=>{id(e.element,t.selector).each((o=>{t.focusManager.set(e,o)}))};const Nk=(e,t,o)=>Wv(e,o.selector,t,-1);const Mk=(e,t,o)=>Wv(e,o.selector,t,+1);const Rk=(e,t,o,n)=>o.moveOnTab?yv(Nk)(e,t,o,n):N.none();const Bk=(e,t,o,n)=>o.moveOnTab?yv(Mk)(e,t,o,n):N.none();const Lk=x([Zb(Ib(Ab),yv(Nk)),Zb(Ib(Mb),yv(Mk)),Zb(Pb([Fb,Ib(zb)]),Rk),Zb(Pb([jb,Ib(zb)]),Bk),Zb(Ib(Eb),Dk),Zb(Ib(Ob),Dk)]);const Hk=x([Zb(Ib(Ob),tv)]);var Ik=Kb(Ok,Bi.init,Lk,Hk,(()=>N.some(Ak)));const Pk=[Rd("onSpace"),Rd("onEnter"),Rd("onShiftEnter"),Rd("onLeft"),Rd("onRight"),Rd("onTab"),Rd("onShiftTab"),Rd("onUp"),Rd("onDown"),Rd("onEscape"),na("stopSpaceKeyup",false),Gr("focusIn")];const Fk=(e,t,o)=>[Zb(Ib(Ob),o.onSpace),Zb(Pb([jb,Ib(Eb)]),o.onEnter),Zb(Pb([Fb,Ib(Eb)]),o.onShiftEnter),Zb(Pb([Fb,Ib(zb)]),o.onShiftTab),Zb(Pb([jb,Ib(zb)]),o.onTab),Zb(Ib(Ab),o.onUp),Zb(Ib(Mb),o.onDown),Zb(Ib(Db),o.onLeft),Zb(Ib(Nb),o.onRight),Zb(Ib(Ob),o.onSpace)];const Vk=(e,t,o)=>[...o.stopSpaceKeyup?[Zb(Ib(Ob),tv)]:[],Zb(Ib(Tb),o.onEscape)];var jk=Kb(Pk,Bi.init,Fk,Vk,(e=>e.focusIn));const Zk=Xb.schema();const Uk=Jb.schema();const qk=nk.schema();const Wk=Zv.schema();const $k=Tk.schema();const Gk=av.schema();const Kk=Ik.schema();const Yk=jk.schema();var Xk=Object.freeze({__proto__:null,acyclic:Zk,cyclic:Uk,flow:qk,flatgrid:Wk,matrix:$k,execution:Gk,menu:Kk,special:Yk});const Jk=e=>Se(e,"setGridSize");const Qk=ju({branchKey:"mode",branches:Xk,name:"keying",active:{events:(e,t)=>{const o=e.handler;return o.toEvents(e,t)}},apis:{focusIn:(e,t,o)=>{t.sendFocusIn(t).fold((()=>{e.getSystem().triggerFocus(e.element,e.element)}),(n=>{n(e,t,o)}))},setGridSize:(e,t,o,n,s)=>{if(!Jk(o)){console.error("Layout does not support setGridSize")}else{o.setGridSize(n,s)}}},state:lv});const ew=(e,t)=>{Ju((()=>{lp(e,t,(()=>j(t,e.getSystem().build)))}),e.element)};const tw=(e,t)=>{Ju((()=>{dp(e,t,(()=>Al(e.element,t,e.getSystem().buildOrPatch)))}),e.element)};const ow=(e,t,o,n)=>{ap(t);const s=Dl(e.element,o,n,e.getSystem().buildOrPatch);rp(e,s);e.syncComponents()};const nw=(e,t,o)=>{const n=e.getSystem().build(o);fp(e,n,t)};const sw=(e,t,o,n)=>{gp(t);nw(e,((e,t)=>Hn(e,t,o)),n)};const rw=(e,t,o,n)=>{const s=t.reuseDom?tw:ew;return s(e,n)};const aw=(e,t,o,n)=>{nw(e,Ln,n)};const cw=(e,t,o,n)=>{nw(e,Bn,n)};const iw=(e,t,o,n)=>{const s=lw(e);const r=Y(s,(e=>Ct(n.element,e.element)));r.each(gp)};const lw=(e,t)=>e.components();const dw=(e,t,o,n,s)=>{const r=lw(e);return N.from(r[n]).map((o=>{s.fold((()=>gp(o)),(s=>{const r=t.reuseDom?ow:sw;r(e,o,n,s)}));return o}))};const uw=(e,t,o,n,s)=>{const r=lw(e);return X(r,n).bind((n=>dw(e,t,o,n,s)))};var fw=Object.freeze({__proto__:null,append:aw,prepend:cw,remove:iw,replaceAt:dw,replaceBy:uw,set:rw,contents:lw});const mw=Fu({fields:[ia("reuseDom",true)],name:"replacing",apis:fw});const gw=(e,t)=>{const o=Ic(t);return Fu({fields:[Hr("enabled")],name:e,active:{events:x(o)}})};const pw=(e,t)=>{const o=gw(e,t);return{key:e,value:{config:{},me:o,configAsRaw:x({}),initialConfig:{},state:Bi}}};const hw=(e,t)=>{if(!t.ignore){$u(e.element);t.onFocus(e)}};const yw=(e,t)=>{if(!t.ignore){Gu(e.element)}};const bw=e=>Ku(e.element);var vw=Object.freeze({__proto__:null,focus:hw,blur:yw,isFocused:bw});const kw=(e,t)=>{const o=t.ignore?{}:{attributes:{tabindex:"-1"}};return Vi(o)};const ww=e=>Ic([jc(rc(),((t,o)=>{hw(t,e);o.stop()}))].concat(e.stopMousedown?[jc(Va(),((e,t)=>{t.event.prevent()}))]:[]));var _w=Object.freeze({__proto__:null,exhibit:kw,events:ww});var xw=[Md("onFocus"),na("stopMousedown",false),na("ignore",false)];const Cw=Fu({fields:xw,name:"focusing",active:_w,apis:vw});const Sw=e=>{const t=()=>{const t=ma(e);const o=()=>t.get();const n=e=>t.set(e);const s=()=>t.set(e);const r=()=>t.get();return{get:o,set:n,clear:s,readState:r}};return{init:t}};const zw=(e,t,o)=>{const n=t.aria;n.update(e,n,o.get())};const Ew=(e,t,o)=>{t.toggleClass.each((t=>{if(o.get()){hl(e.element,t)}else{bl(e.element,t)}}))};const Tw=(e,t,o,n)=>{const s=o.get();o.set(n);Ew(e,t,o);zw(e,t,o);if(s!==n){t.onToggled(e,n)}};const Ow=(e,t,o)=>{Tw(e,t,o,!o.get())};const Dw=(e,t,o)=>{Tw(e,t,o,true)};const Aw=(e,t,o)=>{Tw(e,t,o,false)};const Nw=(e,t,o)=>o.get();const Mw=(e,t,o)=>{Tw(e,t,o,t.selected)};var Rw=Object.freeze({__proto__:null,onLoad:Mw,toggle:Ow,isOn:Nw,on:Dw,off:Aw,set:Tw});const Bw=()=>Vi({});const Lw=(e,t)=>{const o=Au(e,t,Ow);const n=Nu(e,t,Mw);return Ic(J([e.toggleOnExecute?[o]:[],[n]]))};var Hw=Object.freeze({__proto__:null,exhibit:Bw,events:Lw});const Iw=(e,t,o)=>{to(e.element,"aria-pressed",o);if(t.syncWithExpanded){Vw(e,t,o)}};const Pw=(e,t,o)=>{to(e.element,"aria-selected",o)};const Fw=(e,t,o)=>{to(e.element,"aria-checked",o)};const Vw=(e,t,o)=>{to(e.element,"aria-expanded",o)};var jw=[na("selected",false),Gr("toggleClass"),na("toggleOnExecute",true),Md("onToggled"),sa("aria",{mode:"none"},Nr("mode",{pressed:[na("syncWithExpanded",false),Hd("update",Iw)],checked:[Hd("update",Fw)],expanded:[Hd("update",Vw)],selected:[Hd("update",Pw)],none:[Hd("update",v)]}))];const Zw=Fu({fields:jw,name:"toggling",active:Hw,apis:Rw,state:Sw(false)});const Uw=()=>{const e=(e,t)=>{t.stop();Mc(e)};return[jc(Ja(),e),jc(uc(),e),Kc(Ha()),Kc(Va())]};const qw=e=>{const t=e=>ti(((t,o)=>{e(t);o.stop()}));return Ic(J([e.map(t).toArray(),Uw()]))};const Ww="alloy.item-hover";const $w="alloy.item-focus";const Gw="alloy.item-toggled";const Kw=e=>{if(Xu(e.element).isNone()||Cw.isFocused(e)){if(!Cw.isFocused(e)){Cw.focus(e)}Nc(e,Ww,{item:e})}};const Yw=e=>{Nc(e,$w,{item:e})};const Xw=(e,t)=>{Nc(e,Gw,{item:e,state:t})};const Jw=x(Ww);const Qw=x($w);const e_=x(Gw);const t_=e=>e.toggling.map((e=>e.exclusive?"menuitemradio":"menuitemcheckbox")).getOr("menuitem");const o_=e=>({aria:{mode:"checked"},...ve(e,((e,t)=>t!=="exclusive")),onToggled:(t,o)=>{if(h(e.onToggled)){e.onToggled(t,o)}Xw(t,o)}});const n_=e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:t_(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":false}:{}}},behaviours:Sh.augment(e.itemBehaviours,[e.toggling.fold(Zw.revoke,(e=>Zw.config(o_(e)))),Cw.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{Yw(e)}}),Qk.config({mode:"execution"}),wh.config({store:{mode:"memory",initialValue:e.data}}),pw("item-type-events",[...Uw(),jc(qa(),Kw),jc(dc(),Cw.focus)])]),components:e.components,eventOrder:e.eventOrder});const s_=[Hr("data"),Hr("components"),Hr("dom"),na("hasSubmenu",false),Gr("toggling"),Sh.field("itemBehaviours",[Zw,Cw,Qk,wh]),na("ignoreFocus",false),na("domModification",{}),Hd("builder",n_),na("eventOrder",{})];const r_=e=>({dom:e.dom,components:e.components,events:Ic([Yc(dc())])});const a_=[Hr("dom"),Hr("components"),Hd("builder",r_)];const c_=x("item-widget");const i_=x([ey({name:"widget",overrides:e=>({behaviours:Iu([wh.config({store:{mode:"manual",getValue:t=>e.data,setValue:v}})])})})]);const l_=e=>{const t=my(c_(),e,i_());const o=gy(c_(),e,t.internals());const n=t=>py(t,e,"widget").map((e=>{Qk.focusIn(e);return e}));const s=(t,o)=>By(o.event.target)?N.none():(()=>{if(e.autofocus){o.setSource(t.element);return N.none()}else{return N.none()}})();return{dom:e.dom,components:o,domModification:e.domModification,events:Ic([ti(((e,t)=>{n(e).each((e=>{t.stop()}))})),jc(qa(),Kw),jc(dc(),((t,o)=>{if(e.autofocus){n(t)}else{Cw.focus(t)}}))]),behaviours:Sh.augment(e.widgetBehaviours,[wh.config({store:{mode:"memory",initialValue:e.data}}),Cw.config({ignore:e.ignoreFocus,onFocus:e=>{Yw(e)}}),Qk.config({mode:"special",focusIn:e.autofocus?e=>{n(e)}:Zu(),onLeft:s,onRight:s,onEscape:(t,o)=>{if(!Cw.isFocused(t)&&!e.autofocus){Cw.focus(t);return N.some(true)}else if(e.autofocus){o.setSource(t.element);return N.none()}else{return N.none()}}})])}};const d_=[Hr("uid"),Hr("data"),Hr("components"),Hr("dom"),na("autofocus",false),na("ignoreFocus",false),Sh.field("widgetBehaviours",[wh,Cw,Qk]),na("domModification",{}),_y(i_()),Hd("builder",l_)];const u_=Nr("type",{widget:d_,item:s_,separator:a_});const f_=(e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager});const m_=(e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager});const g_=(e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager});const p_=x([ny({factory:{sketch:e=>{const t=Dr("menu.spec item",u_,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>Ce(t,"uid")?t:{...t,uid:_i("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]);const h_=x([Hr("value"),Hr("items"),Hr("dom"),Hr("components"),na("eventOrder",{}),_h("menuBehaviours",[Cb,wh,Py,Qk]),sa("movement",{mode:"menu",moveOnTab:true},Nr("mode",{grid:[Pd(),Hd("config",f_)],matrix:[Hd("config",m_),Hr("rowSelector"),na("previousSelector",N.none)],menu:[na("moveOnTab",true),Hd("config",g_)]})),Od(),na("fakeFocus",false),na("focusManager",Wb()),Md("onHighlight"),Md("onDehighlight")]);const y_=x("alloy.menu-focus");const b_=(e,t)=>{const o=lg(e.element,'[role="menuitemradio"][aria-checked="true"]');Z(o,(o=>{if(!Ct(o,t.element)){e.getSystem().getByDom(o).each((e=>{Zw.off(e)}))}}))};const v_=(e,t,o,n)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Ch(e.menuBehaviours,[Cb.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),wh.config({store:{mode:"memory",initialValue:e.value}}),Py.config({find:N.some}),Qk.config(e.movement.config(e,e.movement))]),events:Ic([jc(Qw(),((e,t)=>{const o=t.event;e.getSystem().getByDom(o.target).each((o=>{Cb.highlight(e,o);t.stop();Nc(e,y_(),{menu:e,item:o})}))})),jc(Jw(),((e,t)=>{const o=t.event.item;Cb.highlight(e,o)})),jc(e_(),((e,t)=>{const{item:o,state:n}=t.event;if(n&&no(o.element,"role")==="menuitemradio"){b_(e,o)}}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}});const k_=Ry({name:"Menu",configFields:h_(),partFields:p_(),factory:v_});const w_=e=>pe(e,((e,t)=>({k:e,v:t})));const __=(e,t,o,n)=>xe(o,n).bind((n=>xe(e,n).bind((n=>{const s=__(e,t,o,n);return N.some([n].concat(s))})))).getOr([]);const x_=(e,t)=>{const o={};me(e,((e,t)=>{Z(e,(e=>{o[e]=t}))}));const n=t;const s=w_(t);const r=ge(s,((e,t)=>[t].concat(__(o,n,s,t))));return ge(o,(e=>xe(r,e).getOr([e])))};const C_=()=>{const e=ma({});const t=ma({});const o=ma({});const n=Ef();const s=ma({});const r=()=>{e.set({});t.set({});o.set({});n.clear()};const a=()=>n.get().isNone();const c=(e,o)=>{t.set({...t.get(),[e]:{type:"prepared",menu:o}})};const i=(r,a,c,i)=>{n.set(r);e.set(c);t.set(a);s.set(i);const l=x_(i,c);o.set(l)};const l=t=>we(e.get(),((e,o)=>e===t));const d=(e,t,o)=>p(e).bind((n=>l(e).bind((e=>t(e).map((e=>({triggeredMenu:n,triggeringItem:e,triggeringPath:o})))))));const u=(e,t)=>{const s=W(y(e).toArray(),(e=>p(e).isSome()));return xe(o.get(),e).bind((e=>{const o=te(s.concat(e));const r=Q(o,((e,s)=>d(e,t,o.slice(0,s+1)).fold((()=>ze(n.get(),e)?[]:[N.none()]),(e=>[N.some(e)]))));return Oe(r)}))};const f=t=>xe(e.get(),t).map((e=>{const n=xe(o.get(),t).getOr([]);return[e].concat(n)}));const m=e=>xe(o.get(),e).bind((e=>e.length>1?N.some(e.slice(1)):N.none()));const g=e=>xe(o.get(),e);const p=e=>h(e).bind(S_);const h=e=>xe(t.get(),e);const y=t=>xe(e.get(),t);const b=e=>{const t=s.get();return oe(ue(t),e)};const v=()=>n.get().bind(p);const k=()=>t.get();return{setMenuBuilt:c,setContents:i,expand:f,refresh:g,collapse:m,lookupMenu:h,lookupItem:y,otherMenus:b,getPrimary:v,getMenus:k,clear:r,isClear:a,getTriggeringPath:u}};const S_=e=>e.type==="prepared"?N.some(e.menu):N.none();const z_={init:C_,extractPreparedMenu:S_};const E_=gi("tiered-menu-item-highlight");const T_=gi("tiered-menu-item-dehighlight");var O_;(function(e){e[e["HighlightMenuAndItem"]=0]="HighlightMenuAndItem";e[e["HighlightJustMenu"]=1]="HighlightJustMenu";e[e["HighlightNone"]=2]="HighlightNone"})(O_||(O_={}));const D_=(e,t)=>{const o=Ef();const n=(t,o,n)=>ge(n,((n,s)=>{const r=()=>k_.sketch({...n,value:s,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{const o={menuComp:e,itemComp:t};Nc(e,E_,o)},onDehighlight:(e,t)=>{const o={menuComp:e,itemComp:t};Nc(e,T_,o)},focusManager:e.fakeFocus?$b():Wb()});return s===o?{type:"prepared",menu:t.getSystem().build(r())}:{type:"notbuilt",nbMenu:r}}));const s=z_.init();const r=t=>{const o=n(t,e.data.primary,e.data.menus);const r=i();s.setContents(e.data.primary,o,e.data.expansions,r);return s.getPrimary()};const a=e=>wh.getValue(e).value;const c=(e,t,o)=>de(t,(e=>{if(!e.getSystem().isConnected()){return N.none()}const t=Cb.getCandidates(e);return Y(t,(e=>a(e)===o))}));const i=t=>ge(e.data.menus,((e,t)=>Q(e.items,(e=>e.type==="separator"?[]:[e.data.value]))));const l=Cb.highlight;const d=(t,o)=>{l(t,o);Cb.getHighlighted(o).orThunk((()=>Cb.getFirst(o))).each((n=>{if(e.fakeFocus){Cb.highlight(o,n)}else{Rc(t,n.element,dc())}}))};const u=(e,t)=>Te(j(t,(t=>e.lookupMenu(t).bind((e=>e.type==="prepared"?N.some(e.menu):N.none())))));const f=(t,o,n)=>{const s=u(o,o.otherMenus(n));Z(s,(o=>{wl(o.element,[e.markers.backgroundMenu]);if(!e.stayInDom){mw.remove(t,o)}}))};const m=t=>o.get().getOrThunk((()=>{const n={};const s=lg(t.element,`.${e.markers.item}`);const r=W(s,(e=>no(e,"aria-haspopup")==="true"));Z(r,(e=>{t.getSystem().getByDom(e).each((e=>{const t=a(e);n[t]=e}))}));o.set(n);return n}));const g=(e,t)=>{const o=m(e);me(o,((e,o)=>{const n=I(t,o);to(e.element,"aria-expanded",n)}))};const p=(t,o,n)=>N.from(n[0]).bind((s=>o.lookupMenu(s).bind((s=>{if(s.type==="notbuilt"){return N.none()}else{const r=s.menu;const a=u(o,n.slice(1));Z(a,(t=>{hl(t.element,e.markers.backgroundMenu)}));if(!Xt(r.element)){mw.append(t,Ql(r))}wl(r.element,[e.markers.backgroundMenu]);d(t,r);f(t,o,n);return N.some(r)}}))));let h;(function(e){e[e["HighlightSubmenu"]=0]="HighlightSubmenu";e[e["HighlightParent"]=1]="HighlightParent"})(h||(h={}));const y=(e,t,o)=>{if(o.type==="notbuilt"){const n=e.getSystem().build(o.nbMenu());s.setMenuBuilt(t,n);return n}else{return o.menu}};const b=(t,o,n=h.HighlightSubmenu)=>{if(o.hasConfigured(sb)&&sb.isDisabled(o)){return N.some(o)}else{const r=a(o);return s.expand(r).bind((r=>{g(t,r);return N.from(r[0]).bind((a=>s.lookupMenu(a).bind((c=>{const i=y(t,a,c);if(!Xt(i.element)){mw.append(t,Ql(i))}e.onOpenSubmenu(t,o,i,te(r));if(n===h.HighlightSubmenu){Cb.highlightFirst(i);return p(t,s,r)}else{Cb.dehighlightAll(i);return N.some(o)}}))))}))}};const k=(t,o)=>{const n=a(o);return s.collapse(n).bind((n=>{g(t,n);return p(t,s,n).map((n=>{e.onCollapseMenu(t,o,n);return n}))}))};const w=(e,t)=>{const o=a(t);return s.refresh(o).bind((t=>{g(e,t);return p(e,s,t)}))};const _=(e,t)=>By(t.element)?N.none():b(e,t,h.HighlightSubmenu);const x=(e,t)=>By(t.element)?N.none():k(e,t);const C=(t,o)=>k(t,o).orThunk((()=>e.onEscape(t,o).map((()=>t))));const S=t=>(o,n)=>ld(n.getSource(),`.${e.markers.item}`).bind((e=>o.getSystem().getByDom(e).toOptional().bind((e=>t(o,e).map(A)))));const z=Ic([jc(y_(),((e,t)=>{const o=t.event.item;s.lookupItem(a(o)).each((()=>{const o=t.event.menu;Cb.highlight(e,o);const n=a(t.event.item);s.refresh(n).each((t=>f(e,s,t)))}))})),ti(((t,o)=>{const n=o.event.target;t.getSystem().getByDom(n).each((o=>{const n=a(o);if(n.indexOf("collapse-item")===0){k(t,o)}b(t,o,h.HighlightSubmenu).fold((()=>{e.onExecute(t,o)}),v)}))})),Jc(((t,o)=>{r(t).each((o=>{mw.append(t,Ql(o));e.onOpenMenu(t,o);if(e.highlightOnOpen===O_.HighlightMenuAndItem){d(t,o)}else if(e.highlightOnOpen===O_.HighlightJustMenu){l(t,o)}}))})),jc(E_,((t,o)=>{e.onHighlightItem(t,o.event.menuComp,o.event.itemComp)})),jc(T_,((t,o)=>{e.onDehighlightItem(t,o.event.menuComp,o.event.itemComp)})),...e.navigateOnHover?[jc(Jw(),((t,o)=>{const n=o.event.item;w(t,n);b(t,n,h.HighlightParent);e.onHover(t,n)}))]:[]]);const E=e=>Cb.getHighlighted(e).bind(Cb.getHighlighted);const T=e=>{E(e).each((t=>{k(e,t)}))};const O=e=>{s.getPrimary().each((t=>{d(e,t)}))};const D=e=>N.from(e.components()[0]).filter((e=>no(e.element,"role")==="menu"));const M=t=>{const o=s.getPrimary().bind((e=>E(t).bind((e=>{const o=a(e);const n=_e(s.getMenus());const r=Te(j(n,z_.extractPreparedMenu));return s.getTriggeringPath(o,(e=>c(t,r,e)))})).map((t=>({primary:e,triggeringPath:t})))));o.fold((()=>{D(t).each((o=>{e.onRepositionMenu(t,o,[])}))}),(({primary:o,triggeringPath:n})=>{e.onRepositionMenu(t,o,n)}))};const R={collapseMenu:T,highlightPrimary:O,repositionMenus:M};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Ch(e.tmenuBehaviours,[Qk.config({mode:"special",onRight:S(_),onLeft:S(x),onEscape:S(C),focusIn:(e,t)=>{s.getPrimary().each((t=>{Rc(e,t.element,dc())}))}}),Cb.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),Py.config({find:e=>Cb.getHighlighted(e)}),mw.config({})]),eventOrder:e.eventOrder,apis:R,events:z}};const A_=x("collapse-item");const N_=(e,t,o)=>({primary:e,menus:t,expansions:o});const M_=(e,t)=>({primary:e,menus:wa(e,t),expansions:{}});const R_=e=>({value:gi(A_()),meta:{text:e}});const B_=My({name:"TieredMenu",configFields:[Ld("onExecute"),Ld("onEscape"),Bd("onOpenMenu"),Bd("onOpenSubmenu"),Md("onRepositionMenu"),Md("onCollapseMenu"),na("highlightOnOpen",O_.HighlightMenuAndItem),qr("data",[Hr("primary"),Hr("menus"),Hr("expansions")]),na("fakeFocus",false),Md("onHighlightItem"),Md("onDehighlightItem"),Md("onHover"),Dd(),Hr("dom"),na("navigateOnHover",true),na("stayInDom",false),_h("tmenuBehaviours",[Qk,Cb,Py,mw]),na("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:D_,extraApis:{tieredData:N_,singleData:M_,collapseItem:R_}});const L_=(e,t,o,n,s)=>{const r=()=>e.lazySink(t);const a=n.type==="horizontal"?{layouts:{onLtr:()=>Su(),onRtl:()=>zu()}}:{};const c=e=>e.length===2;const i=e=>c(e)?a:{};return B_.sketch({dom:{tag:"div"},data:n.data,markers:n.menu.markers,highlightOnOpen:n.menu.highlightOnOpen,fakeFocus:n.menu.fakeFocus,onEscape:()=>{Pp.close(t);e.onEscape.map((e=>e(t)));return N.some(true)},onExecute:()=>N.some(true),onOpenMenu:(e,t)=>{tp.positionWithinBounds(r().getOrDie(),t,o,s())},onOpenSubmenu:(e,t,o,n)=>{const s=r().getOrDie();tp.position(s,o,{anchor:{type:"submenu",item:t,...i(n)}})},onRepositionMenu:(e,t,n)=>{const a=r().getOrDie();tp.positionWithinBounds(a,t,o,s());Z(n,(e=>{const t=i(e.triggeringPath);tp.position(a,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})}))}})};const H_=(e,t)=>{const o=(t,o)=>{const n=e.getRelated(t);return n.exists((e=>gd(e,o)))};const n=(e,t)=>{Pp.setContent(e,t)};const s=(e,t,o)=>{const n=N.none;r(e,t,o,n)};const r=(t,o,n,s)=>{const r=e.lazySink(t).getOrDie();Pp.openWhileCloaked(t,o,(()=>tp.positionWithinBounds(r,t,n,s())));wh.setValue(t,N.some({mode:"position",config:n,getBounds:s}))};const a=(e,t,o)=>{c(e,t,o,N.none)};const c=(t,o,n,s)=>{const r=L_(e,t,o,n,s);Pp.open(t,r);wh.setValue(t,N.some({mode:"menu",menu:r}))};const i=e=>{if(Pp.isOpen(e)){wh.setValue(e,N.none());Pp.close(e)}};const l=e=>Pp.getState(e);const d=t=>{if(Pp.isOpen(t)){wh.getValue(t).each((o=>{switch(o.mode){case"menu":Pp.getState(t).each(B_.repositionMenus);break;case"position":const n=e.lazySink(t).getOrDie();tp.positionWithinBounds(n,t,o.config,o.getBounds());break}}))}};const u={setContent:n,showAt:s,showWithinBounds:r,showMenuAt:a,showMenuWithinBounds:c,hide:i,getContent:l,reposition:d,isOpen:Pp.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Ch(e.inlineBehaviours,[Pp.config({isPartOf:(e,t,n)=>gd(t,n)||o(e,n),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),wh.config({store:{mode:"memory",initialValue:N.none()}}),Uu.config({channels:{...Up({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Wp({...e.fireRepositionEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({}),doReposition:d})}})]),eventOrder:e.eventOrder,apis:u}};const I_=My({name:"InlineView",configFields:[Hr("lazySink"),Md("onShow"),Md("onHide"),Qr("onEscape"),_h("inlineBehaviours",[Pp,wh,Uu]),ta("fireDismissalEventInstead",[na("event",_c())]),ta("fireRepositionEventInstead",[na("event",xc())]),na("getRelated",N.none),na("isExtraPart",D),na("eventOrder",N.none)],factory:H_,apis:{showAt:(e,t,o,n)=>{e.showAt(t,o,n)},showWithinBounds:(e,t,o,n,s)=>{e.showWithinBounds(t,o,n,s)},showMenuAt:(e,t,o,n)=>{e.showMenuAt(t,o,n)},showMenuWithinBounds:(e,t,o,n,s)=>{e.showMenuWithinBounds(t,o,n,s)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,o)=>{e.setContent(t,o)},reposition:(e,t)=>{e.reposition(t)}}});var P_=tinymce.util.Tools.resolve("tinymce.util.Delay");const F_=e=>{const t=qw(e.action);const o=e.dom.tag;const n=t=>xe(e.dom,"attributes").bind((e=>xe(e,t)));const s=()=>{if(o==="button"){const e=n("type").getOr("button");const t=n("role").map((e=>({role:e}))).getOr({});return{type:e,...t}}else{const t=e.role.getOr(n("role").getOr("button"));return{role:t}}};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Sh.augment(e.buttonBehaviours,[Cw.config({}),Qk.config({mode:"execution",useSpace:true,useEnter:true})]),domModification:{attributes:s()},eventOrder:e.eventOrder}};const V_=My({name:"Button",factory:F_,configFields:[na("uid",undefined),Hr("dom"),na("components",[]),Sh.field("buttonBehaviours",[Cw,Qk]),Gr("action"),Gr("role"),na("eventOrder",{})]});const j_=e=>{const t=e.dom.attributes!==undefined?e.dom.attributes:[];return G(t,((e,t)=>{if(t.name==="class"){return e}else{return{...e,[t.name]:t.value}}}),{})};const Z_=e=>Array.prototype.slice.call(e.dom.classList,0);const U_=e=>{const t=Je.fromHtml(e);const o=Lt(t);const n=j_(t);const s=Z_(t);const r=o.length===0?{}:{innerHtml:ni(t)};return{tag:ut(t),classes:s,attributes:n,...r}};const q_=e=>{const t=Dy(e)&&Se(e,"uid")?e.uid:_i("memento");const o=e=>e.getSystem().getByUid(t).getOrDie();const n=e=>e.getSystem().getByUid(t).toOptional();const s=()=>({...e,uid:t});return{get:o,getOpt:n,asSpec:s}};function W_(e){"@babel/helpers - typeof";return W_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W_(e)}function $_(e,t){$_=Object.setPrototypeOf||function e(t,o){t.__proto__=o;return t};return $_(e,t)}function G_(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function K_(e,t,o){if(G_()){K_=Reflect.construct}else{K_=function e(t,o,n){var s=[null];s.push.apply(s,o);var r=Function.bind.apply(t,s);var a=new r;if(n)$_(a,n.prototype);return a}}return K_.apply(null,arguments)}function Y_(e){return X_(e)||J_(e)||Q_(e)||tx()}function X_(e){if(Array.isArray(e))return ex(e)}function J_(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q_(e,t){if(!e)return;if(typeof e==="string")return ex(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor)o=e.constructor.name;if(o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ex(e,t)}function ex(e,t){if(t==null||t>e.length)t=e.length;for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function tx(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ox=Object.hasOwnProperty,nx=Object.setPrototypeOf,sx=Object.isFrozen,rx=Object.getPrototypeOf,ax=Object.getOwnPropertyDescriptor;var cx=Object.freeze,ix=Object.seal,lx=Object.create;var dx=typeof Reflect!=="undefined"&&Reflect,ux=dx.apply,fx=dx.construct;if(!ux){ux=function e(t,o,n){return t.apply(o,n)}}if(!cx){cx=function e(t){return t}}if(!ix){ix=function e(t){return t}}if(!fx){fx=function e(t,o){return K_(t,Y_(o))}}var mx=xx(Array.prototype.forEach);var gx=xx(Array.prototype.pop);var px=xx(Array.prototype.push);var hx=xx(String.prototype.toLowerCase);var yx=xx(String.prototype.match);var bx=xx(String.prototype.replace);var vx=xx(String.prototype.indexOf);var kx=xx(String.prototype.trim);var wx=xx(RegExp.prototype.test);var _x=Cx(TypeError);function xx(e){return function(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),s=1;s<o;s++){n[s-1]=arguments[s]}return ux(e,t,n)}}function Cx(e){return function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++){o[n]=arguments[n]}return fx(e,o)}}function Sx(e,t){if(nx){nx(e,null)}var o=t.length;while(o--){var n=t[o];if(typeof n==="string"){var s=hx(n);if(s!==n){if(!sx(t)){t[o]=s}n=s}}e[n]=true}return e}function zx(e){var t=lx(null);var o;for(o in e){if(ux(ox,e,[o])){t[o]=e[o]}}return t}function Ex(e,t){while(e!==null){var o=ax(e,t);if(o){if(o.get){return xx(o.get)}if(typeof o.value==="function"){return xx(o.value)}}e=rx(e)}function n(e){console.warn("fallback value for",e);return null}return n}var Tx=cx(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]);var Ox=cx(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]);var Dx=cx(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]);var Ax=cx(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]);var Nx=cx(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]);var Mx=cx(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]);var Rx=cx(["#text"]);var Bx=cx(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]);var Lx=cx(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]);var Hx=cx(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]);var Ix=cx(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]);var Px=ix(/\{\{[\w\W]*|[\w\W]*\}\}/gm);var Fx=ix(/<%[\w\W]*|[\w\W]*%>/gm);var Vx=ix(/^data-[\-\w.\u00B7-\uFFFF]/);var jx=ix(/^aria-[\-\w]+$/);var Zx=ix(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i);var Ux=ix(/^(?:\w+script|data):/i);var qx=ix(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g);var Wx=ix(/^html$/i);var $x=function e(){return typeof window==="undefined"?null:window};var Gx=function e(t,o){if(W_(t)!=="object"||typeof t.createPolicy!=="function"){return null}var n=null;var s="data-tt-policy-suffix";if(o.currentScript&&o.currentScript.hasAttribute(s)){n=o.currentScript.getAttribute(s)}var r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML:function e(t){return t}})}catch(e){console.warn("TrustedTypes policy "+r+" could not be created.");return null}};function Kx(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:$x();var t=function e(t){return Kx(t)};t.version="2.3.8";t.removed=[];if(!e||!e.document||e.document.nodeType!==9){t.isSupported=false;return t}var o=e.document;var n=e.document;var s=e.DocumentFragment,r=e.HTMLTemplateElement,a=e.Node,c=e.Element,i=e.NodeFilter,l=e.NamedNodeMap,d=l===void 0?e.NamedNodeMap||e.MozNamedAttrMap:l,u=e.HTMLFormElement,f=e.DOMParser,m=e.trustedTypes;var g=c.prototype;var p=Ex(g,"cloneNode");var h=Ex(g,"nextSibling");var y=Ex(g,"childNodes");var b=Ex(g,"parentNode");if(typeof r==="function"){var v=n.createElement("template");if(v.content&&v.content.ownerDocument){n=v.content.ownerDocument}}var k=Gx(m,o);var w=k?k.createHTML(""):"";var _=n,x=_.implementation,C=_.createNodeIterator,S=_.createDocumentFragment,z=_.getElementsByTagName;var E=o.importNode;var T={};try{T=zx(n).documentMode?n.documentMode:{}}catch(e){}var O={};t.isSupported=typeof b==="function"&&x&&typeof x.createHTMLDocument!=="undefined"&&T!==9;var D=Px,A=Fx,N=Vx,M=jx,R=Ux,B=qx;var L=Zx;var H=null;var I=Sx({},[].concat(Y_(Tx),Y_(Ox),Y_(Dx),Y_(Nx),Y_(Rx)));var P=null;var F=Sx({},[].concat(Y_(Bx),Y_(Lx),Y_(Hx),Y_(Ix)));var V=Object.seal(Object.create(null,{tagNameCheck:{writable:true,configurable:false,enumerable:true,value:null},attributeNameCheck:{writable:true,configurable:false,enumerable:true,value:null},allowCustomizedBuiltInElements:{writable:true,configurable:false,enumerable:true,value:false}}));var j=null;var Z=null;var U=true;var q=true;var W=false;var $=false;var G=false;var K=false;var Y=false;var X=false;var J=false;var Q=false;var ee=true;var te=true;var oe=false;var ne={};var se=null;var re=Sx({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);var ae=null;var ce=Sx({},["audio","video","img","source","image","track"]);var ie=null;var le=Sx({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]);var de="http://www.w3.org/1998/Math/MathML";var ue="http://www.w3.org/2000/svg";var fe="http://www.w3.org/1999/xhtml";var me=fe;var ge=false;var pe;var he=["application/xhtml+xml","text/html"];var ye="text/html";var be;var ve=null;var ke=n.createElement("form");var we=function e(t){return t instanceof RegExp||t instanceof Function};var _e=function e(t){if(ve&&ve===t){return}if(!t||W_(t)!=="object"){t={}}t=zx(t);H="ALLOWED_TAGS"in t?Sx({},t.ALLOWED_TAGS):I;P="ALLOWED_ATTR"in t?Sx({},t.ALLOWED_ATTR):F;ie="ADD_URI_SAFE_ATTR"in t?Sx(zx(le),t.ADD_URI_SAFE_ATTR):le;ae="ADD_DATA_URI_TAGS"in t?Sx(zx(ce),t.ADD_DATA_URI_TAGS):ce;se="FORBID_CONTENTS"in t?Sx({},t.FORBID_CONTENTS):re;j="FORBID_TAGS"in t?Sx({},t.FORBID_TAGS):{};Z="FORBID_ATTR"in t?Sx({},t.FORBID_ATTR):{};ne="USE_PROFILES"in t?t.USE_PROFILES:false;U=t.ALLOW_ARIA_ATTR!==false;q=t.ALLOW_DATA_ATTR!==false;W=t.ALLOW_UNKNOWN_PROTOCOLS||false;$=t.SAFE_FOR_TEMPLATES||false;G=t.WHOLE_DOCUMENT||false;X=t.RETURN_DOM||false;J=t.RETURN_DOM_FRAGMENT||false;Q=t.RETURN_TRUSTED_TYPE||false;Y=t.FORCE_BODY||false;ee=t.SANITIZE_DOM!==false;te=t.KEEP_CONTENT!==false;oe=t.IN_PLACE||false;L=t.ALLOWED_URI_REGEXP||L;me=t.NAMESPACE||fe;if(t.CUSTOM_ELEMENT_HANDLING&&we(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)){V.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck}if(t.CUSTOM_ELEMENT_HANDLING&&we(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)){V.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck}if(t.CUSTOM_ELEMENT_HANDLING&&typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean"){V.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements}pe=he.indexOf(t.PARSER_MEDIA_TYPE)===-1?pe=ye:pe=t.PARSER_MEDIA_TYPE;be=pe==="application/xhtml+xml"?function(e){return e}:hx;if($){q=false}if(J){X=true}if(ne){H=Sx({},Y_(Rx));P=[];if(ne.html===true){Sx(H,Tx);Sx(P,Bx)}if(ne.svg===true){Sx(H,Ox);Sx(P,Lx);Sx(P,Ix)}if(ne.svgFilters===true){Sx(H,Dx);Sx(P,Lx);Sx(P,Ix)}if(ne.mathMl===true){Sx(H,Nx);Sx(P,Hx);Sx(P,Ix)}}if(t.ADD_TAGS){if(H===I){H=zx(H)}Sx(H,t.ADD_TAGS)}if(t.ADD_ATTR){if(P===F){P=zx(P)}Sx(P,t.ADD_ATTR)}if(t.ADD_URI_SAFE_ATTR){Sx(ie,t.ADD_URI_SAFE_ATTR)}if(t.FORBID_CONTENTS){if(se===re){se=zx(se)}Sx(se,t.FORBID_CONTENTS)}if(te){H["#text"]=true}if(G){Sx(H,["html","head","body"])}if(H.table){Sx(H,["tbody"]);delete j.tbody}if(cx){cx(t)}ve=t};var xe=Sx({},["mi","mo","mn","ms","mtext"]);var Ce=Sx({},["foreignobject","desc","title","annotation-xml"]);var Se=Sx({},["title","style","font","a","script"]);var ze=Sx({},Ox);Sx(ze,Dx);Sx(ze,Ax);var Ee=Sx({},Nx);Sx(Ee,Mx);var Te=function e(t){var o=b(t);if(!o||!o.tagName){o={namespaceURI:fe,tagName:"template"}}var n=hx(t.tagName);var s=hx(o.tagName);if(t.namespaceURI===ue){if(o.namespaceURI===fe){return n==="svg"}if(o.namespaceURI===de){return n==="svg"&&(s==="annotation-xml"||xe[s])}return Boolean(ze[n])}if(t.namespaceURI===de){if(o.namespaceURI===fe){return n==="math"}if(o.namespaceURI===ue){return n==="math"&&Ce[s]}return Boolean(Ee[n])}if(t.namespaceURI===fe){if(o.namespaceURI===ue&&!Ce[s]){return false}if(o.namespaceURI===de&&!xe[s]){return false}return!Ee[n]&&(Se[n]||!ze[n])}return false};var Oe=function e(o){px(t.removed,{element:o});try{o.parentNode.removeChild(o)}catch(e){try{o.outerHTML=w}catch(e){o.remove()}}};var De=function e(o,n){try{px(t.removed,{attribute:n.getAttributeNode(o),from:n})}catch(e){px(t.removed,{attribute:null,from:n})}n.removeAttribute(o);if(o==="is"&&!P[o]){if(X||J){try{Oe(n)}catch(e){}}else{try{n.setAttribute(o,"")}catch(e){}}}};var Ae=function e(t){var o;var s;if(Y){t="<remove></remove>"+t}else{var r=yx(t,/^[\r\n\t ]+/);s=r&&r[0]}if(pe==="application/xhtml+xml"){t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>"}var a=k?k.createHTML(t):t;if(me===fe){try{o=(new f).parseFromString(a,pe)}catch(e){}}if(!o||!o.documentElement){o=x.createDocument(me,"template",null);try{o.documentElement.innerHTML=ge?"":a}catch(e){}}var c=o.body||o.documentElement;if(t&&s){c.insertBefore(n.createTextNode(s),c.childNodes[0]||null)}if(me===fe){return z.call(o,G?"html":"body")[0]}return G?o.documentElement:c};var Ne=function e(t){return C.call(t.ownerDocument||t,t,i.SHOW_ELEMENT|i.SHOW_COMMENT|i.SHOW_TEXT,null,false)};var Me=function e(t){return t instanceof u&&(typeof t.nodeName!=="string"||typeof t.textContent!=="string"||typeof t.removeChild!=="function"||!(t.attributes instanceof d)||typeof t.removeAttribute!=="function"||typeof t.setAttribute!=="function"||typeof t.namespaceURI!=="string"||typeof t.insertBefore!=="function")};var Re=function e(t){return W_(a)==="object"?t instanceof a:t&&W_(t)==="object"&&typeof t.nodeType==="number"&&typeof t.nodeName==="string"};var Be=function e(o,n,s){if(!O[o]){return}mx(O[o],(function(e){e.call(t,n,s,ve)}))};var Le=function e(o){var n;Be("beforeSanitizeElements",o,null);if(Me(o)){Oe(o);return true}if(wx(/[\u0080-\uFFFF]/,o.nodeName)){Oe(o);return true}var s=be(o.nodeName);Be("uponSanitizeElement",o,{tagName:s,allowedTags:H});if(o.hasChildNodes()&&!Re(o.firstElementChild)&&(!Re(o.content)||!Re(o.content.firstElementChild))&&wx(/<[/\w]/g,o.innerHTML)&&wx(/<[/\w]/g,o.textContent)){Oe(o);return true}if(s==="select"&&wx(/<template/i,o.innerHTML)){Oe(o);return true}if(!H[s]||j[s]){if(!j[s]&&Ie(s)){if(V.tagNameCheck instanceof RegExp&&wx(V.tagNameCheck,s))return false;if(V.tagNameCheck instanceof Function&&V.tagNameCheck(s))return false}if(te&&!se[s]){var r=b(o)||o.parentNode;var a=y(o)||o.childNodes;if(a&&r){var i=a.length;for(var l=i-1;l>=0;--l){r.insertBefore(p(a[l],true),h(o))}}}Oe(o);return true}if(o instanceof c&&!Te(o)){Oe(o);return true}if((s==="noscript"||s==="noembed")&&wx(/<\/no(script|embed)/i,o.innerHTML)){Oe(o);return true}if($&&o.nodeType===3){n=o.textContent;n=bx(n,D," ");n=bx(n,A," ");if(o.textContent!==n){px(t.removed,{element:o.cloneNode()});o.textContent=n}}Be("afterSanitizeElements",o,null);return false};var He=function e(t,o,s){if(ee&&(o==="id"||o==="name")&&(s in n||s in ke)){return false}if(q&&!Z[o]&&wx(N,o));else if(U&&wx(M,o));else if(!P[o]||Z[o]){if(Ie(t)&&(V.tagNameCheck instanceof RegExp&&wx(V.tagNameCheck,t)||V.tagNameCheck instanceof Function&&V.tagNameCheck(t))&&(V.attributeNameCheck instanceof RegExp&&wx(V.attributeNameCheck,o)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(o))||o==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&wx(V.tagNameCheck,s)||V.tagNameCheck instanceof Function&&V.tagNameCheck(s)));else{return false}}else if(ie[o]);else if(wx(L,bx(s,B,"")));else if((o==="src"||o==="xlink:href"||o==="href")&&t!=="script"&&vx(s,"data:")===0&&ae[t]);else if(W&&!wx(R,bx(s,B,"")));else if(!s);else{return false}return true};var Ie=function e(t){return t.indexOf("-")>0};var Pe=function e(t){var o;var n;var s;var r;Be("beforeSanitizeAttributes",t,null);var a=t.attributes;if(!a){return}var c={attrName:"",attrValue:"",keepAttr:true,allowedAttributes:P};r=a.length;while(r--){o=a[r];var i=o,l=i.name,d=i.namespaceURI;n=l==="value"?o.value:kx(o.value);s=be(l);var u=n;c.attrName=s;c.attrValue=n;c.keepAttr=true;c.forceKeepAttr=undefined;Be("uponSanitizeAttribute",t,c);n=c.attrValue;if(c.forceKeepAttr){continue}if(!c.keepAttr){De(l,t);continue}if(wx(/\/>/i,n)){De(l,t);continue}if($){n=bx(n,D," ");n=bx(n,A," ")}var f=be(t.nodeName);if(!He(f,s,n)){De(l,t);continue}if(n!==u){try{if(d){t.setAttributeNS(d,l,n)}else{t.setAttribute(l,n)}}catch(e){De(l,t)}}}Be("afterSanitizeAttributes",t,null)};var Fe=function e(t){var o;var n=Ne(t);Be("beforeSanitizeShadowDOM",t,null);while(o=n.nextNode()){Be("uponSanitizeShadowNode",o,null);if(Le(o)){continue}if(o.content instanceof s){e(o.content)}Pe(o)}Be("afterSanitizeShadowDOM",t,null)};t.sanitize=function(n,r){var c;var i;var l;var d;var u;ge=!n;if(ge){n="\x3c!--\x3e"}if(typeof n!=="string"&&!Re(n)){if(typeof n.toString!=="function"){throw _x("toString is not a function")}else{n=n.toString();if(typeof n!=="string"){throw _x("dirty is not a string, aborting")}}}if(!t.isSupported){if(W_(e.toStaticHTML)==="object"||typeof e.toStaticHTML==="function"){if(typeof n==="string"){return e.toStaticHTML(n)}if(Re(n)){return e.toStaticHTML(n.outerHTML)}}return n}if(!K){_e(r)}t.removed=[];if(typeof n==="string"){oe=false}if(oe){if(n.nodeName){var f=be(n.nodeName);if(!H[f]||j[f]){throw _x("root node is forbidden and cannot be sanitized in-place")}}}else if(n instanceof a){c=Ae("\x3c!----\x3e");i=c.ownerDocument.importNode(n,true);if(i.nodeType===1&&i.nodeName==="BODY"){c=i}else if(i.nodeName==="HTML"){c=i}else{c.appendChild(i)}}else{if(!X&&!$&&!G&&n.indexOf("<")===-1){return k&&Q?k.createHTML(n):n}c=Ae(n);if(!c){return X?null:Q?w:""}}if(c&&Y){Oe(c.firstChild)}var m=Ne(oe?n:c);while(l=m.nextNode()){if(l.nodeType===3&&l===d){continue}if(Le(l)){continue}if(l.content instanceof s){Fe(l.content)}Pe(l);d=l}d=null;if(oe){return n}if(X){if(J){u=S.call(c.ownerDocument);while(c.firstChild){u.appendChild(c.firstChild)}}else{u=c}if(P.shadowroot){u=E.call(o,u,true)}return u}var g=G?c.outerHTML:c.innerHTML;if(G&&H["!doctype"]&&c.ownerDocument&&c.ownerDocument.doctype&&c.ownerDocument.doctype.name&&wx(Wx,c.ownerDocument.doctype.name)){g="<!DOCTYPE "+c.ownerDocument.doctype.name+">\n"+g}if($){g=bx(g,D," ");g=bx(g,A," ")}return k&&Q?k.createHTML(g):g};t.setConfig=function(e){_e(e);K=true};t.clearConfig=function(){ve=null;K=false};t.isValidAttribute=function(e,t,o){if(!ve){_e({})}var n=be(e);var s=be(t);return He(n,s,o)};t.addHook=function(e,t){if(typeof t!=="function"){return}O[e]=O[e]||[];px(O[e],t)};t.removeHook=function(e){if(O[e]){return gx(O[e])}};t.removeHooks=function(e){if(O[e]){O[e]=[]}};t.removeAllHooks=function(){O={}};return t}var Yx=Kx();const Xx=e=>Yx().sanitize(e);var Jx=tinymce.util.Tools.resolve("tinymce.util.I18n");const Qx={indent:true,outdent:true,"table-insert-column-after":true,"table-insert-column-before":true,"paste-column-after":true,"paste-column-before":true,"unordered-list":true,"list-bull-circle":true,"list-bull-default":true,"list-bull-square":true};const eC="temporary-placeholder";const tC=e=>()=>xe(e,eC).getOr("!not found!");const oC=(e,t)=>{const o=e.toLowerCase();if(Jx.isRtl()){const e=Ie(o,"-rtl");return Ce(t,e)?e:o}else{return o}};const nC=(e,t)=>xe(t,oC(e,t));const sC=(e,t)=>{const o=t();return nC(e,o).getOrThunk(tC(o))};const rC=(e,t,o)=>{const n=t();return nC(e,n).or(o).getOrThunk(tC(n))};const aC=e=>Jx.isRtl()?Ce(Qx,e):false;const cC=()=>pw("add-focusable",[Jc((e=>{cd(e.element,"svg").each((e=>to(e,"focusable","false")))}))]);const iC=(e,t,o,n)=>{var s,r;const a=aC(t)?["tox-icon--flip"]:[];const c=xe(o,oC(t,o)).or(n).getOrThunk(tC(o));return{dom:{tag:e.tag,attributes:(s=e.attributes)!==null&&s!==void 0?s:{},classes:e.classes.concat(a),innerHtml:c},behaviours:Iu([...(r=e.behaviours)!==null&&r!==void 0?r:[],cC()])}};const lC=(e,t,o,n=N.none())=>iC(t,e,o(),n);const dC=(e,t,o)=>{const n=o();const s=Y(e,(e=>Ce(n,oC(e,n))));return iC(t,s.getOr(eC),n,N.none())};const uC={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"};const fC=e=>{const t=q_({dom:U_(`<p>${Xx(e.translationProvider(e.text))}</p>`),behaviours:Iu([mw.config({})])});const o=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${e}%`}}});const n=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${e}%`}});const s=q_({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},n(0)],behaviours:Iu([mw.config({})])});const r=(e,t)=>{if(e.getSystem().isConnected()){s.getOpt(e).each((e=>{mw.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(t)]},n(t)])}))}};const a=(e,o)=>{if(e.getSystem().isConnected()){const n=t.get(e);mw.set(n,[$l(o)])}};const c={updateProgress:r,updateText:a};const i=J([e.icon.toArray(),e.level.toArray(),e.level.bind((e=>N.from(uC[e]))).toArray()]);const l=q_(V_.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[lC("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:t=>{e.onAction(t)}}));const d=dC(i,{tag:"div",classes:["tox-notification__icon"]},e.iconProvider);const u={dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Iu([mw.config({})])};const f=[d,u];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((e=>["tox-notification","tox-notification--in",`tox-notification--${e}`])).getOr(["tox-notification","tox-notification--in"])},behaviours:Iu([Cw.config({}),pw("notification-events",[jc(Wa(),(e=>{l.getOpt(e).each(Cw.focus)}))])]),components:f.concat(e.progress?[s.asSpec()]:[]).concat(!e.closeButton?[]:[l.asSpec()]),apis:c}};const mC=My({name:"Notification",factory:fC,configFields:[Gr("level"),Hr("progress"),Gr("icon"),Hr("onAction"),Hr("text"),Hr("iconProvider"),Hr("translationProvider"),ia("closeButton",true)],apis:{updateProgress:(e,t,o)=>{e.updateProgress(t,o)},updateText:(e,t,o)=>{e.updateText(t,o)}}});var gC=(e,t,o)=>{const n=t.backstage.shared;const s=()=>{const t=os(Je.fromDom(e.getContentAreaContainer()));const o=as();const n=eu(o.x,t.x,t.right);const s=eu(o.y,t.y,t.bottom);const r=Math.max(t.right,o.right);const a=Math.max(t.bottom,o.bottom);return N.some(ts(n,s,r-n,a-s))};const r=(t,r)=>{const a=()=>{r();I_.hide(i)};const c=Jl(mC.sketch({text:t.text,level:I(["success","error","warning","warn","info"],t.type)?t.type:undefined,progress:t.progressBar===true,icon:t.icon,closeButton:t.closeButton,onAction:a,iconProvider:n.providers.icons,translationProvider:n.providers.translate}));const i=Jl(I_.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:n.getSink,fireDismissalEventInstead:{},...n.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));o.add(i);if(y(t.timeout)&&t.timeout>0){P_.setEditorTimeout(e,(()=>{a()}),t.timeout)}const l=()=>{const t=Ql(c);const o={maxHeightFunction:Yf()};const r=e.notificationManager.getNotifications();if(r[0]===d){const e={...n.anchors.banner(),overrides:o};I_.showWithinBounds(i,t,{anchor:e},s)}else{H(r,d).each((e=>{const n=r[e-1].getEl();const a={type:"node",root:Jt(),node:N.some(Je.fromDom(n)),overrides:o,layouts:{onRtl:()=>[bu],onLtr:()=>[bu]}};I_.showWithinBounds(i,t,{anchor:a},s)}))}};const d={close:a,reposition:l,text:e=>{mC.updateText(c,e)},settings:t,getEl:()=>c.element.dom,progressBar:{value:e=>{mC.updateProgress(c,e)}}};return d};const a=e=>{e.close()};const c=e=>e.settings;return{open:r,close:a,getArgs:c}};var pC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var hC=tinymce.util.Tools.resolve("tinymce.EditorManager");var yC=tinymce.util.Tools.resolve("tinymce.Env");var bC;(function(e){e["default"]="wrap";e["floating"]="floating";e["sliding"]="sliding";e["scrolling"]="scrolling"})(bC||(bC={}));var vC;(function(e){e["auto"]="auto";e["top"]="top";e["bottom"]="bottom"})(vC||(vC={}));const kC=e=>t=>t.options.get(e);const wC=e=>t=>N.from(e(t));const _C=e=>{const t=yC.deviceType.isPhone();const o=yC.deviceType.isTablet()||t;const n=e.options.register;const s=e=>c(e)||e===false;const r=e=>c(e)||y(e);n("skin",{processor:e=>c(e)||e===false,default:"oxide"});n("skin_url",{processor:"string"});n("height",{processor:r,default:Math.max(e.getElement().offsetHeight,400)});n("width",{processor:r,default:pC.DOM.getStyle(e.getElement(),"width")});n("min_height",{processor:"number",default:100});n("min_width",{processor:"number"});n("max_height",{processor:"number"});n("max_width",{processor:"number"});n("style_formats",{processor:"object[]"});n("style_formats_merge",{processor:"boolean",default:false});n("style_formats_autohide",{processor:"boolean",default:false});n("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"});n("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;"+"Arial=arial,helvetica,sans-serif;"+"Arial Black=arial black,sans-serif;"+"Book Antiqua=book antiqua,palatino,serif;"+"Comic Sans MS=comic sans ms,sans-serif;"+"Courier New=courier new,courier,monospace;"+"Georgia=georgia,palatino,serif;"+"Helvetica=helvetica,arial,sans-serif;"+"Impact=impact,sans-serif;"+"Symbol=symbol;"+"Tahoma=tahoma,arial,helvetica,sans-serif;"+"Terminal=terminal,monaco,monospace;"+"Times New Roman=times new roman,times,serif;"+"Trebuchet MS=trebuchet ms,geneva,sans-serif;"+"Verdana=verdana,geneva,sans-serif;"+"Webdings=webdings;"+"Wingdings=wingdings,zapf dingbats"});n("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"});n("font_size_input_default_unit",{processor:"string",default:"pt"});n("block_formats",{processor:"string",default:"Paragraph=p;"+"Heading 1=h1;"+"Heading 2=h2;"+"Heading 3=h3;"+"Heading 4=h4;"+"Heading 5=h5;"+"Heading 6=h6;"+"Preformatted=pre"});n("content_langs",{processor:"object[]"});n("removed_menuitems",{processor:"string",default:""});n("menubar",{processor:e=>c(e)||f(e),default:!t});n("menu",{processor:"object",default:{}});n("toolbar",{processor:e=>{if(f(e)||c(e)||d(e)){return{value:e,valid:true}}else{return{valid:false,message:"Must be a boolean, string or array."}}},default:true});F(9,(e=>{n("toolbar"+(e+1),{processor:"string"})}));n("toolbar_mode",{processor:"string",default:o?"scrolling":"floating"});n("toolbar_groups",{processor:"object",default:{}});n("toolbar_location",{processor:"string",default:vC.auto});n("toolbar_persist",{processor:"boolean",default:false});n("toolbar_sticky",{processor:"boolean",default:e.inline});n("toolbar_sticky_offset",{processor:"number",default:0});n("fixed_toolbar_container",{processor:"string",default:""});n("fixed_toolbar_container_target",{processor:"object"});n("ui_mode",{processor:"string",default:"combined"});n("file_picker_callback",{processor:"function"});n("file_picker_validator_handler",{processor:"function"});n("file_picker_types",{processor:"string"});n("typeahead_urls",{processor:"boolean",default:true});n("anchor_top",{processor:s,default:"#top"});n("anchor_bottom",{processor:s,default:"#bottom"});n("draggable_modal",{processor:"boolean",default:false});n("statusbar",{processor:"boolean",default:true});n("elementpath",{processor:"boolean",default:true});n("branding",{processor:"boolean",default:true});n("promotion",{processor:"boolean",default:true});n("resize",{processor:e=>e==="both"||f(e),default:!yC.deviceType.isTouch()});n("sidebar_show",{processor:"string"});n("help_accessibility",{processor:"boolean",default:e.hasPlugin("help")})};const xC=kC("readonly");const CC=kC("height");const SC=kC("width");const zC=wC(kC("min_width"));const EC=wC(kC("min_height"));const TC=wC(kC("max_width"));const OC=wC(kC("max_height"));const DC=wC(kC("style_formats"));const AC=kC("style_formats_merge");const NC=kC("style_formats_autohide");const MC=kC("content_langs");const RC=kC("removed_menuitems");const BC=kC("toolbar_mode");const LC=kC("toolbar_groups");const HC=kC("toolbar_location");const IC=kC("fixed_toolbar_container");const PC=kC("fixed_toolbar_container_target");const FC=kC("toolbar_persist");const VC=kC("toolbar_sticky_offset");const jC=kC("menubar");const ZC=kC("toolbar");const UC=kC("file_picker_callback");const qC=kC("file_picker_validator_handler");const WC=kC("font_size_input_default_unit");const $C=kC("file_picker_types");const GC=kC("typeahead_urls");const KC=kC("anchor_top");const YC=kC("anchor_bottom");const XC=kC("draggable_modal");const JC=kC("statusbar");const QC=kC("elementpath");const eS=kC("branding");const tS=kC("resize");const oS=kC("paste_as_text");const nS=kC("sidebar_show");const sS=kC("promotion");const rS=kC("help_accessibility");const aS=e=>e.options.get("skin")===false;const cS=e=>e.options.get("menubar")!==false;const iS=e=>{const t=e.options.get("skin_url");if(aS(e)){return t}else{if(t){return e.documentBaseURI.toAbsolute(t)}else{const t=e.options.get("skin");return hC.baseURL+"/skins/ui/"+t}}};const lS=e=>e.options.get("line_height_formats").split(" ");const dS=e=>{const t=ZC(e);const o=c(t);const n=d(t)&&t.length>0;return!fS(e)&&(n||o||t===true)};const uS=e=>{const t=F(9,(t=>e.options.get("toolbar"+(t+1))));const o=W(t,c);return Me(o.length>0,o)};const fS=e=>uS(e).fold((()=>{const t=ZC(e);return b(t,c)&&t.length>0}),A);const mS=e=>HC(e)===vC.bottom;const gS=e=>{var t;if(!e.inline){return N.none()}const o=(t=IC(e))!==null&&t!==void 0?t:"";if(o.length>0){return id(Jt(),o)}const n=PC(e);if(p(n)){return N.some(Je.fromDom(n))}return N.none()};const pS=e=>e.inline&&gS(e).isSome();const hS=e=>{const t=gS(e);return t.getOrThunk((()=>qt(Ut(Je.fromDom(e.getElement())))))};const yS=e=>e.inline&&!cS(e)&&!dS(e)&&!fS(e);const bS=e=>{const t=e.options.get("toolbar_sticky");return(t||e.inline)&&!pS(e)&&!yS(e)};const vS=e=>!pS(e)&&e.options.get("ui_mode")==="split";const kS=e=>{const t=e.options.get("menu");return ge(t,(e=>({...e,items:e.items})))};var wS=Object.freeze({__proto__:null,get ToolbarMode(){return bC},get ToolbarLocation(){return vC},register:_C,getSkinUrl:iS,isReadOnly:xC,isSkinDisabled:aS,getHeightOption:CC,getWidthOption:SC,getMinWidthOption:zC,getMinHeightOption:EC,getMaxWidthOption:TC,getMaxHeightOption:OC,getUserStyleFormats:DC,shouldMergeStyleFormats:AC,shouldAutoHideStyleFormats:NC,getLineHeightFormats:lS,getContentLanguages:MC,getRemovedMenuItems:RC,isMenubarEnabled:cS,isMultipleToolbars:fS,isToolbarEnabled:dS,isToolbarPersist:FC,getMultipleToolbarsOption:uS,getUiContainer:hS,useFixedContainer:pS,isSplitUiMode:vS,getToolbarMode:BC,isDraggableModal:XC,isDistractionFree:yS,isStickyToolbar:bS,getStickyToolbarOffset:VC,getToolbarLocation:HC,isToolbarLocationBottom:mS,getToolbarGroups:LC,getMenus:kS,getMenubar:jC,getToolbar:ZC,getFilePickerCallback:UC,getFilePickerTypes:$C,useTypeaheadUrls:GC,getAnchorTop:KC,getAnchorBottom:YC,getFilePickerValidatorHandler:qC,getFontSizeInputDefaultUnit:WC,useStatusBar:JC,useElementPath:QC,promotionEnabled:sS,useBranding:eS,getResize:tS,getPasteAsText:oS,getSidebarShow:nS,useHelpAccessibility:rS});const _S="[data-mce-autocompleter]";const xS=e=>ld(e,_S);const CS=e=>id(e,_S);const SS=(e,t)=>{const o=(e,t)=>{Nc(e,Ga(),{raw:t})};const n=()=>e.getMenu().bind(Cb.getHighlighted);t.on("keydown",(t=>{const s=t.which;if(!e.isActive()){return}if(e.isMenuOpen()){if(s===13){n().each(Mc);t.preventDefault()}else if(s===40){n().fold((()=>{e.getMenu().each(Cb.highlightFirst)}),(e=>{o(e,t)}));t.preventDefault();t.stopImmediatePropagation()}else if(s===37||s===38||s===39){n().each((e=>{o(e,t);t.preventDefault();t.stopImmediatePropagation()}))}}else{if(s===13||s===38||s===40){e.cancelIfNecessary()}}}));t.on("NodeChange",(t=>{if(e.isActive()&&!e.isProcessingAction()&&xS(Je.fromDom(t.element)).isNone()){e.cancelIfNecessary()}}))};const zS={setup:SS};var ES;(function(e){e[e["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE";e[e["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(ES||(ES={}));var TS=ES;const OS="tox-menu-nav__js";const DS="tox-collection__item";const AS="tox-swatch";const NS={normal:OS,color:AS};const MS="tox-collection__item--enabled";const RS="tox-collection__group-heading";const BS="tox-collection__item-icon";const LS="tox-collection__item-label";const HS="tox-collection__item-accessory";const IS="tox-collection__item-caret";const PS="tox-collection__item-checkmark";const FS="tox-collection__item--active";const VS="tox-collection__item-container";const jS="tox-collection__item-container--column";const ZS="tox-collection__item-container--row";const US="tox-collection__item-container--align-right";const qS="tox-collection__item-container--align-left";const WS="tox-collection__item-container--valign-top";const $S="tox-collection__item-container--valign-middle";const GS="tox-collection__item-container--valign-bottom";const KS=e=>xe(NS,e).getOr(OS);const YS=e=>{if(e==="color"){return"tox-swatches"}else{return"tox-menu"}};const XS=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:YS(e),tieredMenu:"tox-tiered-menu"});const JS=e=>{const t=XS(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:KS(e)}};const QS=(e,t,o)=>{const n=XS(o);return{tag:"div",classes:J([[n.menu,`tox-menu-${t}-column`],e?[n.hasIcons]:[]])}};const ez=[k_.parts.items({})];const tz=(e,t,o)=>{const n=XS(o);const s={tag:"div",classes:J([[n.tieredMenu]])};return{dom:s,markers:JS(o)}};const oz=x([Gr("data"),na("inputAttributes",{}),na("inputStyles",{}),na("tag","input"),na("inputClasses",[]),Md("onSetValue"),na("styles",{}),na("eventOrder",{}),_h("inputBehaviours",[wh,Cw]),na("selectOnFocus",true)]);const nz=e=>Iu([Cw.config({onFocus:!e.selectOnFocus?v:e=>{const t=e.element;const o=Sl(t);t.dom.setSelectionRange(0,o.length)}})]);const sz=e=>({...nz(e),...Ch(e.inputBehaviours,[wh.config({store:{mode:"manual",...e.data.map((e=>({initialValue:e}))).getOr({}),getValue:e=>Sl(e.element),setValue:(e,t)=>{const o=Sl(e.element);if(o!==t){zl(e.element,t)}}},onSetValue:e.onSetValue})])});const rz=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses});const az=(e,t)=>({uid:e.uid,dom:rz(e),components:[],behaviours:sz(e),eventOrder:e.eventOrder});const cz=My({name:"Input",configFields:oz(),factory:az});const iz=gi("refetch-trigger-event");const lz=gi("redirect-menu-item-interaction");const dz="tox-menu__searcher";const uz=e=>id(e.element,`.${dz}`).bind((t=>e.getSystem().getByDom(t).toOptional()));const fz=uz;const mz=(e,t)=>{wh.setValue(e,t.fetchPattern);e.element.dom.selectionStart=t.selectionStart;e.element.dom.selectionEnd=t.selectionEnd};const gz=e=>{const t=wh.getValue(e);const o=e.element.dom.selectionStart;const n=e.element.dom.selectionEnd;return{fetchPattern:t,selectionStart:o,selectionEnd:n}};const pz=(e,t)=>{so(t.element,"id").each((t=>to(e.element,"aria-activedescendant",t)))};const hz=e=>{const t=(e,t)=>{t.cut();return N.none()};const o=(e,t)=>{const o={interactionEvent:t.event,eventType:t.event.raw.type};Nc(e,lz,o);return N.some(true)};const n="searcher-events";return{dom:{tag:"div",classes:[DS]},components:[cz.sketch({inputClasses:[dz,"tox-textfield"],inputAttributes:{...e.placeholder.map((t=>({placeholder:e.i18n(t)}))).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Iu([pw(n,[jc(Ya(),(e=>{Ac(e,iz)})),jc(Ga(),((e,t)=>{if(t.event.raw.key==="Escape"){t.stop()}}))]),Qk.config({mode:"special",onLeft:t,onRight:t,onSpace:t,onEnter:o,onEscape:o,onUp:o,onDown:o})]),eventOrder:{keydown:[n,Qk.name()]}})]}};const yz="tox-collection--results__js";const bz=e=>{var t;if(e.dom){return{...e,dom:{...e.dom,attributes:{...(t=e.dom.attributes)!==null&&t!==void 0?t:{},id:gi("aria-item-search-result-id"),"aria-selected":"false"}}}}else{return e}};const vz=(e,t)=>o=>{const n=V(o,t);return j(n,(t=>({dom:e,components:t})))};const kz=e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[k_.parts.items({preprocess:e!=="auto"?vz({tag:"div",classes:["tox-swatches__row"]},e):C})]}]});const wz=e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[k_.parts.items({preprocess:vz({tag:"div",classes:["tox-collection__group"]},e)})]});const _z=(e,t)=>{const o=[];let n=[];Z(e,((e,s)=>{if(t(e,s)){if(n.length>0){o.push(n)}n=[];if(Ce(e.dom,"innerHtml")||e.components&&e.components.length>0){n.push(e)}}else{n.push(e)}}));if(n.length>0){o.push(n)}return j(o,(e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e})))};const xz=(e,t,o)=>k_.parts.items({preprocess:n=>{const s=j(n,o);if(e!=="auto"&&e>1){return vz({tag:"div",classes:["tox-collection__group"]},e)(s)}else{return _z(s,((e,o)=>t[o].type==="separator"))}}});const Cz=(e,t,o=true)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[xz(e,t,C)]});const Sz=(e,t,o=true)=>{const n=gi("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",yz].concat(e===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:n}},components:[xz(e,t,bz)]}};const zz=(e,t,o)=>{const n=gi("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[hz({i18n:Jx.translate,placeholder:o.placeholder}),{dom:{tag:"div",classes:[...e===1?["tox-collection--list"]:["tox-collection--grid"],yz],attributes:{id:n}},components:[xz(e,t,bz)]}]}};const Ez=(e,t=true)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[k_.parts.items({preprocess:t=>_z(t,((t,o)=>e[o].type==="separator"))})]});const Tz=e=>P(e,(e=>"icon"in e&&e.icon!==undefined));const Oz=e=>{console.error(Ar(e));console.log(e);return N.none()};const Dz=(e,t,o,n,s)=>{const r=Ez(o);return{value:e,dom:r.dom,components:r.components,items:o}};const Az=(e,t,o,n,s)=>{const r=()=>{if(s.menuType!=="searchable"){return Cz(n,o)}else{return s.searchMode.searchMode==="search-with-field"?zz(n,o,s.searchMode):Sz(n,o)}};if(s.menuType==="color"){const t=kz(n);return{value:e,dom:t.dom,components:t.components,items:o}}else if(s.menuType==="normal"&&n==="auto"){const t=Cz(n,o);return{value:e,dom:t.dom,components:t.components,items:o}}else if(s.menuType==="normal"||s.menuType==="searchable"){const t=r();return{value:e,dom:t.dom,components:t.components,items:o}}else if(s.menuType==="listpreview"&&n!=="auto"){const t=wz(n);return{value:e,dom:t.dom,components:t.components,items:o}}else{return{value:e,dom:QS(t,n,s.menuType),components:ez,items:o}}};const Nz=Fr("type");const Mz=Fr("name");const Rz=Fr("label");const Bz=Fr("text");const Lz=Fr("title");const Hz=Fr("icon");const Iz=Fr("value");const Pz=Zr("fetch");const Fz=Zr("getSubmenuItems");const Vz=Zr("onAction");const jz=Zr("onItemAction");const Zz=la("onSetup",(()=>v));const Uz=Xr("name");const qz=Xr("text");const Wz=Xr("icon");const $z=Xr("tooltip");const Gz=Xr("label");const Kz=Xr("shortcut");const Yz=Qr("select");const Xz=ia("active",false);const Jz=ia("borderless",false);const Qz=ia("enabled",true);const eE=ia("primary",false);const tE=e=>na("columns",e);const oE=na("meta",{});const nE=la("onAction",v);const sE=e=>aa("type",e);const rE=e=>Rr("name","name",Ms((()=>gi(`${e}-name`))),yr);const aE=e=>Rr("value","value",Ms((()=>gi(`${e}-value`))),gr());const cE=ir([Nz,qz]);const iE=e=>Tr("separatormenuitem",cE,e);const lE=ir([sE("autocompleteitem"),Xz,Qz,oE,Iz,qz,Wz]);const dE=e=>Tr("Autocompleter.Separator",cE,e);const uE=e=>Tr("Autocompleter.Item",lE,e);const fE=[Qz,$z,Wz,qz,Zz];const mE=ir([Nz,Vz].concat(fE));const gE=e=>Tr("toolbarbutton",mE,e);const pE=[Xz].concat(fE);const hE=ir(pE.concat([Nz,Vz]));const yE=e=>Tr("ToggleButton",hE,e);const bE=[la("predicate",D),ca("scope","node",["node","editor"]),ca("position","selection",["node","selection","line"])];const vE=fE.concat([sE("contextformbutton"),eE,Vz,Br("original",C)]);const kE=pE.concat([sE("contextformbutton"),eE,Vz,Br("original",C)]);const wE=fE.concat([sE("contextformbutton")]);const _E=pE.concat([sE("contextformtogglebutton")]);const xE=Nr("type",{contextformbutton:vE,contextformtogglebutton:kE});const CE=ir([sE("contextform"),la("initValue",x("")),Gz,$r("commands",xE),Kr("launch",Nr("type",{contextformbutton:wE,contextformtogglebutton:_E}))].concat(bE));const SE=e=>Tr("ContextForm",CE,e);const zE=ir([sE("contexttoolbar"),Fr("items")].concat(bE));const EE=e=>Tr("ContextToolbar",zE,e);const TE=[Nz,Fr("src"),Xr("alt"),ua("classes",[],yr)];const OE=ir(TE);const DE=[Nz,Bz,Uz,ua("classes",["tox-collection__item-label"],yr)];const AE=ir(DE);const NE=rr((()=>xr("type",{cardimage:OE,cardtext:AE,cardcontainer:ME})));const ME=ir([Nz,aa("direction","horizontal"),aa("align","left"),aa("valign","middle"),$r("items",NE)]);const RE=[Qz,qz,Kz,aE("menuitem"),oE];const BE=ir([Nz,Gz,$r("items",NE),Zz,nE].concat(RE));const LE=e=>Tr("cardmenuitem",BE,e);const HE=ir([Nz,Xz,Wz].concat(RE));const IE=e=>Tr("choicemenuitem",HE,e);const PE=[Nz,Fr("fancytype"),nE];const FE=[na("initData",{})].concat(PE);const VE=[Qr("select"),fa("initData",{},[ia("allowCustomColors",true),aa("storageKey","default"),ea("colors",gr())])].concat(PE);const jE=Nr("fancytype",{inserttable:FE,colorswatch:VE});const ZE=e=>Tr("fancymenuitem",jE,e);const UE=ir([Nz,Zz,nE,Wz].concat(RE));const qE=e=>Tr("menuitem",UE,e);const WE=ir([Nz,Fz,Zz,Wz].concat(RE));const $E=e=>Tr("nestedmenuitem",WE,e);const GE=ir([Nz,Wz,Xz,Zz,Vz].concat(RE));const KE=e=>Tr("togglemenuitem",GE,e);const YE=(e,t,o)=>{const n=lg(e.element,"."+o);if(n.length>0){const e=X(n,(e=>{const o=e.dom.getBoundingClientRect().top;const s=n[0].dom.getBoundingClientRect().top;return Math.abs(o-s)>t})).getOr(n.length);return N.some({numColumns:e,numRows:Math.ceil(n.length/e)})}else{return N.none()}};const XE=(e,t)=>Iu([pw(e,t)]);const JE=e=>XE(gi("unnamed-events"),e);const QE={namedEvents:XE,unnamedEvents:JE};const eT=gi("tooltip.exclusive");const tT=gi("tooltip.show");const oT=gi("tooltip.hide");const nT=(e,t,o)=>{e.getSystem().broadcastOn([eT],{})};const sT=(e,t,o,n)=>{o.getTooltip().each((e=>{if(e.getSystem().isConnected()){mw.set(e,n)}}))};var rT=Object.freeze({__proto__:null,hideAllExclusive:nT,setComponents:sT});const aT=(e,t)=>{const o=o=>{t.getTooltip().each((n=>{gp(n);e.onHide(o,n);t.clearTooltip()}));t.clearTimer()};const n=o=>{if(!t.isShowing()){nT(o);const n=e.lazySink(o).getOrDie();const s=o.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Ic(e.mode==="normal"?[jc(qa(),(e=>{Ac(o,tT)})),jc(Za(),(e=>{Ac(o,oT)}))]:[]),behaviours:Iu([mw.config({})])});t.setTooltip(s);up(n,s);e.onShow(o,s);tp.position(n,s,{anchor:e.anchor(o)})}};return Ic(J([[jc(tT,(o=>{t.resetTimer((()=>{n(o)}),e.delay)})),jc(oT,(n=>{t.resetTimer((()=>{o(n)}),e.delay)})),jc(ic(),((e,t)=>{const n=t;if(!n.universal){if(I(n.channels,eT)){o(e)}}})),Qc((e=>{o(e)}))],e.mode==="normal"?[jc(Wa(),(e=>{Ac(e,tT)})),jc(ac(),(e=>{Ac(e,oT)})),jc(qa(),(e=>{Ac(e,tT)})),jc(Za(),(e=>{Ac(e,oT)}))]:[jc(Oc(),((e,t)=>{Ac(e,tT)})),jc(Dc(),(e=>{Ac(e,oT)}))]]))};var cT=Object.freeze({__proto__:null,events:aT});var iT=[Hr("lazySink"),Hr("tooltipDom"),na("exclusive",true),na("tooltipComponents",[]),na("delay",300),ca("mode","normal",["normal","follow-highlight"]),na("anchor",(e=>({type:"hotspot",hotspot:e,layouts:{onLtr:x([bu,yu,mu,pu,gu,hu]),onRtl:x([bu,yu,mu,pu,gu,hu])}}))),Md("onHide"),Md("onShow")];const lT=()=>{const e=Ef();const t=Ef();const o=()=>{e.on(clearTimeout)};const n=(t,n)=>{o();e.set(setTimeout(t,n))};const s=x("not-implemented");return Li({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:o,resetTimer:n,readState:s})};var dT=Object.freeze({__proto__:null,init:lT});const uT=Fu({fields:iT,name:"tooltipping",active:cT,state:dT,apis:rT});const fT=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");const mT="silver.readonly";const gT=ir([jr("readonly")]);const pT=(e,t)=>{const o=e.mainUi.outerContainer;const n=o.element;const s=[e.mainUi.mothership,...e.uiMotherships];if(t){Z(s,(e=>{e.broadcastOn([Fp()],{target:n})}))}Z(s,(e=>{e.broadcastOn([mT],{readonly:t})}))};const hT=(e,t)=>{e.on("init",(()=>{if(e.mode.isReadOnly()){pT(t,true)}}));e.on("SwitchMode",(()=>pT(t,e.mode.isReadOnly())));if(xC(e)){e.mode.set("readonly")}};const yT=()=>Uu.config({channels:{[mT]:{schema:gT,onReceive:(e,t)=>{sb.set(e,t.readonly)}}}});const bT=e=>sb.config({disabled:e,disableClass:"tox-collection__item--state-disabled"});const vT=e=>sb.config({disabled:e});const kT=e=>sb.config({disabled:e,disableClass:"tox-tbtn--disabled"});const wT=e=>sb.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:false});const _T={item:bT,button:vT,splitButton:kT,toolbarButton:wT};const xT=(e,t)=>{const o=e.getApi(t);return e=>{e(o)}};const CT=(e,t)=>Jc((o=>{const n=xT(e,o);n((o=>{const n=e.onSetup(o);if(h(n)){t.set(n)}}))}));const ST=(e,t)=>Qc((o=>xT(e,o)(t.get())));const zT=(e,t)=>ti(((o,n)=>{xT(e,o)(e.onAction);if(!e.triggersSubmenu&&t===TS.CLOSE_ON_EXECUTE){if(o.getSystem().isConnected()){Ac(o,mc())}n.stop()}}));const ET={[lc()]:["disabling","alloy.base.behaviour","toggling","item-events"]};const TT=Te;const OT=(e,t,o,n)=>{const s=ma(v);return{type:"item",dom:t.dom,components:TT(t.optComponents),data:e.data,eventOrder:ET,hasSubmenu:e.triggersSubmenu,itemBehaviours:Iu([pw("item-events",[zT(e,o),CT(e,s),ST(e,s)]),_T.item((()=>!e.enabled||n.isDisabled())),yT(),mw.config({})].concat(e.itemBehaviours))}};const DT=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}});const AT=e=>{const t=yC.os.isMacOS()||yC.os.isiOS();const o={alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"};const n={meta:"Ctrl",access:"Shift+Alt"};const s=t?o:n;const r=e.split("+");const a=j(r,(e=>{const t=e.toLowerCase().trim();return Ce(s,t)?s[t]:e}));return t?a.join(""):a.join("+")};const NT=(e,t,o=[BS])=>lC(e,{tag:"div",classes:o},t);const MT=e=>({dom:{tag:"div",classes:[LS]},components:[$l(Jx.translate(e))]});const RT=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}});const BT=(e,t)=>({dom:{tag:"div",classes:[LS]},components:[{dom:{tag:e.tag,styles:e.styles},components:[$l(Jx.translate(t))]}]});const LT=e=>({dom:{tag:"div",classes:[HS]},components:[$l(AT(e))]});const HT=e=>NT("checkmark",e,[PS]);const IT=e=>NT("chevron-right",e,[IS]);const PT=e=>NT("chevron-down",e,[IS]);const FT=(e,t)=>{const o=e.direction==="vertical"?jS:ZS;const n=e.align==="left"?qS:US;const s=()=>{switch(e.valign){case"top":return WS;case"middle":return $S;case"bottom":return GS}};return{dom:{tag:"div",classes:[VS,o,n,s()]},components:t}};const VT=(e,t,o)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:o.getOr("")}}});const jT=(e,t,o)=>{const n="custom";const s="remove";const r=e.ariaLabel;const a=e.value;const c=e.iconContent.map((e=>rC(e,t.icons,o)));const i=()=>{const e=AS;const o=c.getOr("");const i=r.map((e=>({title:t.translate(e)}))).getOr({});const l={tag:"div",attributes:i,classes:[e]};if(a===n){return{...l,tag:"button",classes:[...l.classes,"tox-swatches__picker-btn"],innerHtml:o}}else if(a===s){return{...l,classes:[...l.classes,"tox-swatch--remove"],innerHtml:o}}else if(p(a)){return{...l,attributes:{...l.attributes,"data-mce-color":a},styles:{"background-color":a},innerHtml:o}}else{return l}};return{dom:i(),optComponents:[]}};const ZT=e=>{const t=e.map((e=>({attributes:{title:Jx.translate(e),id:gi("menu-item")}}))).getOr({});return{tag:"div",classes:[OS,DS],...t}};const UT=(e,t,o,n)=>{const s={tag:"div",classes:[BS]};const r=e=>lC(e,s,t.icons,n);const a=()=>N.some({dom:s});const c=o?e.iconContent.map(r).orThunk(a):N.none();const i=e.checkMark;const l=N.from(e.meta).fold((()=>MT),(e=>Ce(e,"style")?z(BT,e.style):MT));const d=e.htmlContent.fold((()=>e.textContent.map(l)),(e=>N.some(RT(e,[LS]))));const u={dom:ZT(e.ariaLabel),optComponents:[c,d,e.shortcutContent.map(LT),i,e.caret]};return u};const qT=(e,t,o,n=N.none())=>{if(e.presets==="color"){return jT(e,t,n)}else{return UT(e,t,o,n)}};const WT=(e,t)=>xe(e,"tooltipWorker").map((e=>[uT.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:Yf}}),mode:"follow-highlight",onShow:(t,o)=>{e((e=>{uT.setComponents(t,[Gl({element:Je.fromDom(e)})])}))}})])).getOr([]);const $T=e=>pC.DOM.encode(e);const GT=(e,t)=>{const o=Jx.translate(e);const n=$T(o);if(t.length>0){const e=new RegExp(fT(t),"gi");return n.replace(e,(e=>`<span class="tox-autocompleter-highlight">${e}</span>`))}else{return n}};const KT=(e,t,o,n,s,r,a,c=true)=>{const i=qT({presets:n,textContent:N.none(),htmlContent:o?e.text.map((e=>GT(e,t))):N.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:N.none(),checkMark:N.none(),caret:N.none(),value:e.value},a.providers,c,e.icon);return OT({data:DT(e),enabled:e.enabled,getApi:x({}),onAction:t=>s(e.value,e.meta),onSetup:x(v),triggersSubmenu:false,itemBehaviours:WT(e.meta,a)},i,r,a.providers)};const YT=(e,t)=>j(e,(e=>{switch(e.type){case"cardcontainer":return FT(e,YT(e.items,t));case"cardimage":return VT(e.src,e.classes,e.alt);case"cardtext":const o=e.name.exists((e=>I(t.cardText.highlightOn,e)));const n=o?N.from(t.cardText.matchText).getOr(""):"";return RT(GT(e.text,n),e.classes)}}));const XT=(e,t,o,n)=>{const s=e=>({isEnabled:()=>!sb.isDisabled(e),setEnabled:t=>{sb.set(e,!t);Z(lg(e.element,"*"),(o=>{e.getSystem().getByDom(o).each((e=>{if(e.hasConfigured(sb)){sb.set(e,!t)}}))}))}});const r={dom:ZT(e.label),optComponents:[N.some({dom:{tag:"div",classes:[VS,ZS]},components:YT(e.items,n)})]};return OT({data:DT({text:N.none(),...e}),enabled:e.enabled,getApi:s,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:false,itemBehaviours:N.from(n.itemBehaviours).getOr([])},r,t,o.providers)};const JT=(e,t,o,n,s,r,a,c=true)=>{const i=e=>({setActive:t=>{Zw.set(e,t)},isActive:()=>Zw.isOn(e),isEnabled:()=>!sb.isDisabled(e),setEnabled:t=>sb.set(e,!t)});const l=qT({presets:o,textContent:t?e.text:N.none(),htmlContent:N.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:N.none(),checkMark:t?N.some(HT(a.icons)):N.none(),caret:N.none(),value:e.value},a,c);return Ds(OT({data:DT(e),enabled:e.enabled,getApi:i,onAction:t=>n(e.value),onSetup:e=>{e.setActive(s);return v},triggersSubmenu:false,itemBehaviours:[]},l,r,a),{toggling:{toggleClass:MS,toggleOnExecute:false,selected:e.active,exclusive:true}})};const QT=iy(c_(),i_());const eO=e=>({value:sO(e)});const tO=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;const oO=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;const nO=e=>tO.test(e)||oO.test(e);const sO=e=>He(e,"#").toUpperCase();const rO=e=>nO(e)?N.some({value:sO(e)}):N.none();const aO=e=>{const t=e.value.replace(tO,((e,t,o,n)=>t+t+o+o+n+n));return{value:t}};const cO=e=>{const t=aO(e);const o=oO.exec(t.value);return o===null?["FFFFFF","FF","FF","FF"]:o};const iO=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()};const lO=e=>{const t=iO(e.red)+iO(e.green)+iO(e.blue);return eO(t)};const dO=Math.min;const uO=Math.max;const fO=Math.round;const mO=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i;const gO=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i;const pO=(e,t,o,n)=>({red:e,green:t,blue:o,alpha:n});const hO=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255};const yO=e=>{let t;let o;let n;const s=(e.hue||0)%360;let r=e.saturation/100;let a=e.value/100;r=uO(0,dO(r,1));a=uO(0,dO(a,1));if(r===0){t=o=n=fO(255*a);return pO(t,o,n,1)}const c=s/60;const i=a*r;const l=i*(1-Math.abs(c%2-1));const d=a-i;switch(Math.floor(c)){case 0:t=i;o=l;n=0;break;case 1:t=l;o=i;n=0;break;case 2:t=0;o=i;n=l;break;case 3:t=0;o=l;n=i;break;case 4:t=l;o=0;n=i;break;case 5:t=i;o=0;n=l;break;default:t=o=n=0}t=fO(255*(t+d));o=fO(255*(o+d));n=fO(255*(n+d));return pO(t,o,n,1)};const bO=e=>{const t=cO(e);const o=parseInt(t[1],16);const n=parseInt(t[2],16);const s=parseInt(t[3],16);return pO(o,n,s,1)};const vO=(e,t,o,n)=>{const s=parseInt(e,10);const r=parseInt(t,10);const a=parseInt(o,10);const c=parseFloat(n);return pO(s,r,a,c)};const kO=e=>{if(e==="transparent"){return N.some(pO(0,0,0,0))}const t=mO.exec(e);if(t!==null){return N.some(vO(t[1],t[2],t[3],"1"))}const o=gO.exec(e);if(o!==null){return N.some(vO(o[1],o[2],o[3],o[4]))}return N.none()};const wO=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`;const _O=pO(255,0,0,1);const xO=e=>{e.dispatch("SkinLoaded")};const CO=(e,t)=>{e.dispatch("SkinLoadError",t)};const SO=e=>{e.dispatch("ResizeEditor")};const zO=(e,t)=>{e.dispatch("ResizeContent",t)};const EO=(e,t)=>{e.dispatch("ScrollContent",t)};const TO=(e,t)=>{e.dispatch("TextColorChange",t)};const OO=(e,t)=>{e.dispatch("AfterProgressState",{state:t})};const DO=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t});const AO=(e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})};const NO=(e,t)=>()=>{e();t()};const MO=e=>LO(e,"NodeChange",(t=>{t.setEnabled(e.selection.isEditable())}));const RO=(e,t)=>o=>{const n=zf();const s=()=>{o.setActive(e.formatter.match(t));const s=e.formatter.formatChanged(t,o.setActive);n.set(s)};e.initialized?s():e.once("init",s);return()=>{e.off("init",s);n.clear()}};const BO=(e,t)=>o=>{const n=MO(e)(o);const s=RO(e,t)(o);return()=>{n();s()}};const LO=(e,t,o)=>n=>{const s=()=>o(n);const r=()=>{o(n);e.on(t,s)};e.initialized?r():e.once("init",r);return()=>{e.off("init",r);e.off(t,s)}};const HO=e=>t=>()=>{e.undoManager.transact((()=>{e.focus();e.execCommand("mceToggleFormat",false,t.format)}))};const IO=(e,t)=>()=>e.execCommand(t);var PO=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const FO={};const VO=(e,t=10)=>{const o=PO.getItem(e);const n=c(o)?JSON.parse(o):[];const s=e=>{const o=t-e.length;return o<0?e.slice(0,t):e};const r=s(n);const a=o=>{H(r,o).each(i);r.unshift(o);if(r.length>t){r.pop()}PO.setItem(e,JSON.stringify(r))};const i=e=>{r.splice(e,1)};const l=()=>r.slice(0);return{add:a,state:l}};const jO=e=>xe(FO,e).getOrThunk((()=>{const t=`tinymce-custom-colors-${e}`;const o=PO.getItem(t);if(g(o)){const e=PO.getItem("tinymce-custom-colors");PO.setItem(t,p(e)?e:"[]")}const n=VO(t,10);FO[e]=n;return n}));const ZO=e=>j(jO(e).state(),(e=>({type:"choiceitem",text:e,icon:"checkmark",value:e})));const UO=(e,t)=>{jO(e).add(t)};const qO=(e,t,o)=>({hue:e,saturation:t,value:o});const WO=e=>{let t=0;let o=0;let n=0;const s=e.red/255;const r=e.green/255;const a=e.blue/255;const c=Math.min(s,Math.min(r,a));const i=Math.max(s,Math.max(r,a));if(c===i){n=c;return qO(0,0,n*100)}const l=s===c?r-a:a===c?s-r:a-s;t=s===c?3:a===c?1:5;t=60*(t-l/(i-c));o=(i-c)/i;n=i;return qO(Math.round(t),Math.round(o*100),Math.round(n*100))};const $O=e=>WO(bO(e));const GO=e=>lO(yO(e));const KO=e=>rO(e).orThunk((()=>kO(e).map(lO))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1;t.width=1;const o=t.getContext("2d");o.clearRect(0,0,t.width,t.height);o.fillStyle="#FFFFFF";o.fillStyle=e;o.fillRect(0,0,1,1);const n=o.getImageData(0,0,1,1).data;const s=n[0];const r=n[1];const a=n[2];const c=n[3];return lO(pO(s,r,a,c))}));const YO="forecolor";const XO="hilitecolor";const JO=5;const QO=e=>{const t=[];for(let o=0;o<e.length;o+=2){t.push({text:e[o+1],value:"#"+KO(e[o]).value,icon:"checkmark",type:"choiceitem"})}return t};const eD=e=>t=>t.options.get(e);const tD="#000000";const oD=e=>{const t=e.options.register;const o=e=>{if(b(e,c)){return{value:QO(e),valid:true}}else{return{valid:false,message:"Must be an array of strings."}}};const n=e=>{if(y(e)&&e>0){return{value:e,valid:true}}else{return{valid:false,message:"Must be a positive number."}}};t("color_map",{processor:o,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]});t("color_map_background",{processor:o});t("color_map_foreground",{processor:o});t("color_cols",{processor:n,default:sD(e)});t("color_cols_foreground",{processor:n,default:rD(e,YO)});t("color_cols_background",{processor:n,default:rD(e,XO)});t("custom_colors",{processor:"boolean",default:true});t("color_default_foreground",{processor:"string",default:tD});t("color_default_background",{processor:"string",default:tD})};const nD=(e,t)=>{if(t===YO&&e.options.isSet("color_map_foreground")){return eD("color_map_foreground")(e)}else if(t===XO&&e.options.isSet("color_map_background")){return eD("color_map_background")(e)}else{return eD("color_map")(e)}};const sD=(e,t="default")=>Math.max(JO,Math.ceil(Math.sqrt(nD(e,t).length)));const rD=(e,t)=>{const o=eD("color_cols")(e);const n=sD(e,t);if(o===sD(e)){return n}else{return o}};const aD=(e,t="default")=>{const o=()=>{if(t===YO){return eD("color_cols_foreground")(e)}else if(t===XO){return eD("color_cols_background")(e)}else{return eD("color_cols")(e)}};return Math.round(o())};const cD=eD("custom_colors");const iD=eD("color_default_foreground");const lD=eD("color_default_background");const dD="rgba(0, 0, 0, 0)";const uD=e=>kO(e).exists((e=>e.alpha!==0));const fD=e=>Ta(e,(e=>{if(pt(e)){const t=go(e,"background-color");return Me(uD(t),t)}else{return N.none()}})).getOr(dD);const mD=(e,t)=>{const o=Je.fromDom(e.selection.getStart());const n=t==="hilitecolor"?fD(o):go(o,"color");return kO(n).map((e=>"#"+lO(e).value))};const gD=(e,t,o)=>{e.undoManager.transact((()=>{e.focus();e.formatter.apply(t,{value:o});e.nodeChanged()}))};const pD=(e,t)=>{e.undoManager.transact((()=>{e.focus();e.formatter.remove(t,{value:null},undefined,true);e.nodeChanged()}))};const hD=e=>{e.addCommand("mceApplyTextcolor",((t,o)=>{gD(e,t,o)}));e.addCommand("mceRemoveTextcolor",(t=>{pD(e,t)}))};const yD=e=>{const t="choiceitem";const o={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};const n={type:t,text:"Custom color",icon:"color-picker",value:"custom"};return e?[o,n]:[o]};const bD=(e,t,o,n)=>{if(o==="custom"){const o=SD(e);o((o=>{o.each((o=>{UO(t,o);e.execCommand("mceApplyTextcolor",t,o);n(o)}))}),mD(e,t).getOr(tD))}else if(o==="remove"){n("");e.execCommand("mceRemoveTextcolor",t)}else{n(o);e.execCommand("mceApplyTextcolor",t,o)}};const vD=(e,t,o)=>e.concat(ZO(t).concat(yD(o)));const kD=(e,t,o)=>n=>{n(vD(e,t,o))};const wD=(e,t,o)=>{const n=t==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(n,o)};const _D=(e,t)=>o=>{const n=mD(e,t);return ze(n,o.toUpperCase())};const xD=(e,t,o,n,s)=>{e.ui.registry.addSplitButton(t,{tooltip:n,presets:"color",icon:t==="forecolor"?"text-color":"highlight-bg-color",select:_D(e,o),columns:aD(e,o),fetch:kD(nD(e,o),o,cD(e)),onAction:t=>{bD(e,o,s.get(),v)},onItemAction:(n,r)=>{bD(e,o,r,(o=>{s.set(o);TO(e,{name:t,color:o})}))},onSetup:o=>{wD(o,t,s.get());const n=e=>{if(e.name===t){wD(o,e.name,e.color)}};e.on("TextColorChange",n);return NO(MO(e)(o),(()=>{e.off("TextColorChange",n)}))}})};const CD=(e,t,o,n,s)=>{e.ui.registry.addNestedMenuItem(t,{text:n,icon:t==="forecolor"?"text-color":"highlight-bg-color",onSetup:o=>{wD(o,t,s.get());return MO(e)(o)},getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:_D(e,o),initData:{storageKey:o},onAction:n=>{bD(e,o,n.value,(o=>{s.set(o);TO(e,{name:t,color:o})}))}}]})};const SD=e=>(t,o)=>{let n=false;const s=o=>{const s=o.getData();const r=s.colorpicker;if(n){t(N.from(r));o.close()}else{e.windowManager.alert(e.translate(["Invalid hex color code: {0}",r]))}};const r=(e,t)=>{if(t.name==="hex-valid"){n=t.value}};const a={colorpicker:o};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:a,onAction:r,onSubmit:s,onClose:v,onCancel:()=>{t(N.none())}})};const zD=e=>{hD(e);const t=iD(e);const o=lD(e);const n=ma(t);const s=ma(o);xD(e,"forecolor","forecolor","Text color",n);xD(e,"backcolor","hilitecolor","Background color",s);CD(e,"forecolor","forecolor","Text color",n);CD(e,"backcolor","hilitecolor","Background color",s)};const ED=(e,t,o,n,s,r,a,c)=>{const i=Tz(t);const l=s!=="color"?"normal":"color";const d=TD(t,o,n,l,r,a,c);const u={menuType:s};return Az(e,i,d,n,u)};const TD=(e,t,o,n,s,r,a)=>Te(j(e,(c=>{if(c.type==="choiceitem"){return IE(c).fold(Oz,(c=>N.some(JT(c,o===1,n,t,r(c.value),s,a,Tz(e)))))}else{return N.none()}})));const OD=(e,t)=>{const o=JS(t);if(e===1){return{mode:"menu",moveOnTab:true}}else if(e==="auto"){return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}}}else{const e=t==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+e,previousSelector:e=>t==="color"?id(e.element,"[aria-checked=true]"):N.none()}}};const DD=(e,t)=>{if(e===1){return{mode:"menu",moveOnTab:false,selector:".tox-collection__item"}}else if(e==="auto"){return{mode:"flatgrid",selector:"."+"tox-collection__item",initSize:{numColumns:1,numRows:1}}}else{return{mode:"matrix",selectors:{row:t==="color"?".tox-swatches__row":".tox-collection__group",cell:t==="color"?`.${AS}`:`.${DS}`}}}};const AD=(e,t)=>{const o=ND(e,t);const n=t.colorinput.getColorCols(e.initData.storageKey);const s="color";const r=ED(gi("menu-value"),o,(t=>{e.onAction({value:t})}),n,s,TS.CLOSE_ON_EXECUTE,e.select.getOr(D),t.shared.providers);const a={...r,markers:JS(s),movement:OD(n,s)};return{type:"widget",data:{value:gi("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[QT.widget(k_.sketch(a))]}};const ND=(e,t)=>{const o=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((()=>vD(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,o)),(e=>e.concat(yD(o))))};const MD=gi("cell-over");const RD=gi("cell-execute");const BD=e=>(t,o)=>e.shared.providers.translate(`${o} columns, ${t} rows`);const LD=(e,t,o)=>{const n=o=>Nc(o,MD,{row:e,col:t});const s=o=>Nc(o,RD,{row:e,col:t});const r=(e,t)=>{t.stop();s(e)};return Jl({dom:{tag:"div",attributes:{role:"button",["aria-label"]:o}},behaviours:Iu([pw("insert-table-picker-cell",[jc(qa(),Cw.focus),jc(lc(),s),jc(Ja(),r),jc(uc(),r)]),Zw.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:false}),Cw.config({onFocus:n})])})};const HD=(e,t,o)=>{const n=[];for(let s=0;s<t;s++){const t=[];for(let n=0;n<o;n++){const o=e(s+1,n+1);t.push(LD(s,n,o))}n.push(t)}return n};const ID=(e,t,o,n,s)=>{for(let r=0;r<n;r++){for(let n=0;n<s;n++){Zw.set(e[r][n],r<=t&&n<=o)}}};const PD=e=>Q(e,(e=>j(e,Ql)));const FD=(e,t)=>$l(`${t}x${e}`);const VD=(e,t)=>{const o=10;const n=10;const s=BD(t);const r=HD(s,o,n);const a=FD(0,0);const c=q_({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[a],behaviours:Iu([mw.config({})])});return{type:"widget",data:{value:gi("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[QT.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:PD(r).concat(c.asSpec()),behaviours:Iu([pw("insert-table-picker",[Jc((e=>{mw.set(c.get(e),[a])})),Gc(MD,((e,t,s)=>{const{row:a,col:i}=s.event;ID(r,a,i,o,n);mw.set(c.get(e),[FD(a+1,i+1)])})),Gc(RD,((t,o,n)=>{const{row:s,col:r}=n.event;e.onAction({numRows:s+1,numColumns:r+1});Ac(t,mc())}))]),Qk.config({initSize:{numRows:o,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}};const jD={inserttable:VD,colorswatch:AD};const ZD=(e,t)=>xe(jD,e.fancytype).map((o=>o(e,t)));const UD=(e,t,o,n=true,s=false)=>{const r=s?PT(o.icons):IT(o.icons);const a=e=>({isEnabled:()=>!sb.isDisabled(e),setEnabled:t=>sb.set(e,!t),setIconFill:(t,o)=>{id(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each((e=>{to(e,"fill",o)}))}});const c=qT({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:N.none(),ariaLabel:e.text,caret:N.some(r),checkMark:N.none(),shortcutContent:e.shortcut},o,n);return OT({data:DT(e),getApi:a,enabled:e.enabled,onAction:v,onSetup:e.onSetup,triggersSubmenu:true,itemBehaviours:[]},c,t,o)};const qD=(e,t,o,n=true)=>{const s=e=>({isEnabled:()=>!sb.isDisabled(e),setEnabled:t=>sb.set(e,!t)});const r=qT({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:N.none(),ariaLabel:e.text,caret:N.none(),checkMark:N.none(),shortcutContent:e.shortcut},o,n);return OT({data:DT(e),getApi:s,enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:false,itemBehaviours:[]},r,t,o)};const WD=e=>({type:"separator",dom:{tag:"div",classes:[DS,RS]},components:e.text.map($l).toArray()});const $D=(e,t,o,n=true)=>{const s=e=>({setActive:t=>{Zw.set(e,t)},isActive:()=>Zw.isOn(e),isEnabled:()=>!sb.isDisabled(e),setEnabled:t=>sb.set(e,!t)});const r=qT({iconContent:e.icon,textContent:e.text,htmlContent:N.none(),ariaLabel:e.text,checkMark:N.some(HT(o.icons)),caret:N.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},o,n);return Ds(OT({data:DT(e),enabled:e.enabled,getApi:s,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:false,itemBehaviours:[]},r,t,o),{toggling:{toggleClass:MS,toggleOnExecute:false,selected:e.active}})};const GD=KT;const KD=WD;const YD=qD;const XD=UD;const JD=$D;const QD=ZD;const eA=XT;const tA=(e,t,o,n)=>o.getOrCreate(e,t,n);const oA=(e,t,o,n)=>o.getExisting(e,t,n);var nA=Object.freeze({__proto__:null,getCoupled:tA,getExistingCoupled:oA});var sA=[Ir("others",zr(us.value,gr()))];const rA=()=>{const e={};const t=(t,o)=>{const n=ue(t.others);if(n.length===0){throw new Error("Cannot find any known coupled components")}else{return xe(e,o)}};const o=(o,n,s)=>t(n,s).getOrThunk((()=>{const t=xe(n.others,s).getOrDie("No information found for coupled component: "+s);const r=t(o);const a=o.getSystem().build(r);e[s]=a;return a}));const n=(e,o,n)=>t(o,n).orThunk((()=>{xe(o.others,n).getOrDie("No information found for coupled component: "+n);return N.none()}));const s=x({});return Li({readState:s,getExisting:n,getOrCreate:o})};var aA=Object.freeze({__proto__:null,init:rA});const cA=Fu({fields:sA,name:"coupling",apis:nA,state:aA});const iA=e=>{let t=N.none();let o=[];const n=e=>iA((t=>{s((o=>{t(e(o))}))}));const s=e=>{if(a()){i(e)}else{o.push(e)}};const r=e=>{if(!a()){t=N.some(e);c(o);o=[]}};const a=()=>t.isSome();const c=e=>{Z(e,i)};const i=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};e(r);return{get:s,map:n,isReady:a}};const lA=e=>iA((t=>{t(e)}));const dA={nu:iA,pure:lA};const uA=e=>{setTimeout((()=>{throw e}),0)};const fA=e=>{const t=t=>{e().then(t,uA)};const o=t=>fA((()=>e().then(t)));const n=t=>fA((()=>e().then((e=>t(e).toPromise()))));const s=t=>fA((()=>e().then((()=>t.toPromise()))));const r=()=>dA.nu(t);const a=()=>{let t=null;return fA((()=>{if(t===null){t=e()}return t}))};const c=e;return{map:o,bind:n,anonBind:s,toLazy:r,toCached:a,toPromise:c,get:t}};const mA=e=>fA((()=>new Promise(e)));const gA=e=>fA((()=>Promise.resolve(e)));const pA={nu:mA,pure:gA};const hA=x("sink");const yA=x(oy({name:hA(),overrides:x({dom:{tag:"div"},behaviours:Iu([tp.config({useFixed:A})]),events:Ic([Kc(Ga()),Kc(Va()),Kc(Ja())])})}));const bA=(e,t)=>{const o=e.getHotspot(t).getOr(t);const n="hotspot";const s=e.getAnchorOverrides();return e.layouts.fold((()=>({type:n,hotspot:o,overrides:s})),(e=>({type:n,hotspot:o,overrides:s,layouts:e})))};const vA=(e,t,o)=>{const n=e.fetch;return n(o).map(t)};const kA=(e,t,o,n,s,r,a)=>{const c=vA(e,t,n);const i=SA(n,e);return c.map((e=>e.bind((e=>N.from(B_.sketch({...r.menu(),uid:_i(""),data:e,highlightOnOpen:a,onOpenMenu:(e,t)=>{const n=i().getOrDie();tp.position(n,t,{anchor:o});Pp.decloak(s)},onOpenSubmenu:(e,t,o)=>{const n=i().getOrDie();tp.position(n,o,{anchor:{type:"submenu",item:t}});Pp.decloak(s)},onRepositionMenu:(e,t,n)=>{const s=i().getOrDie();tp.position(s,t,{anchor:o});Z(n,(e=>{tp.position(s,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:()=>{Cw.focus(n);Pp.close(s);return N.some(true)}}))))))};const wA=(e,t,o,n,s,r,a)=>{const c=bA(e,o);const i=kA(e,t,c,o,n,s,a);return i.map((e=>{e.fold((()=>{if(Pp.isOpen(n)){Pp.close(n)}}),(e=>{Pp.cloak(n);Pp.open(n,e);r(n)}));return n}))};const _A=(e,t,o,n,s,r,a)=>{Pp.close(n);return pA.pure(n)};const xA=(e,t,o,n,s,r)=>{const a=cA.getCoupled(o,"sandbox");const c=Pp.isOpen(a);const i=c?_A:wA;return i(e,t,o,a,n,s,r)};const CA=(e,t,o)=>{const n=Py.getCurrent(t).getOr(t);const s=Ro(e.element);if(o){uo(n.element,"min-width",s+"px")}else{Mo(n.element,s)}};const SA=(e,t)=>e.getSystem().getByUid(t.uid+"-"+hA()).map((e=>()=>us.value(e))).getOrThunk((()=>t.lazySink.fold((()=>()=>us.error(new Error("No internal sink is specified, nor could an external sink be found"))),(t=>()=>t(e)))));const zA=e=>{Pp.getState(e).each((e=>{B_.repositionMenus(e)}))};const EA=(e,t,o)=>{const n=fd();const s=(s,r)=>{const a=bA(e,t);n.link(t.element);if(e.matchWidth){CA(a.hotspot,r,e.useMinWidth)}e.onOpen(a,s,r);if(o!==undefined&&o.onOpen!==undefined){o.onOpen(s,r)}};const r=(e,s)=>{n.unlink(t.element);if(o!==undefined&&o.onClose!==undefined){o.onClose(e,s)}};const a=SA(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:n.id,role:"listbox"}},behaviours:Sh.augment(e.sandboxBehaviours,[wh.config({store:{mode:"memory",initialValue:t}}),Pp.config({onOpen:s,onClose:r,isPartOf:(e,o,n)=>gd(o,n)||gd(t,n),getAttachPoint:()=>a().getOrDie()}),Py.config({find:e=>Pp.getState(e).bind((e=>Py.getCurrent(e)))}),Uu.config({channels:{...Up({isExtraPart:D}),...Wp({doReposition:zA})}})])}};const TA=e=>{const t=cA.getCoupled(e,"sandbox");zA(t)};const OA=()=>[na("sandboxClasses",[]),Sh.field("sandboxBehaviours",[Py,Uu,Pp,wh])];const DA=x([Hr("dom"),Hr("fetch"),Md("onOpen"),Rd("onExecute"),na("getHotspot",N.some),na("getAnchorOverrides",x({})),lm(),_h("dropdownBehaviours",[Zw,cA,Qk,Cw]),Hr("toggleClass"),na("eventOrder",{}),Gr("lazySink"),na("matchWidth",false),na("useMinWidth",false),Gr("role")].concat(OA()));const AA=x([ty({schema:[Dd(),na("fakeFocus",false)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),yA()]);const NA=(e,t,o,n)=>{const s=t=>xe(e.dom,"attributes").bind((e=>xe(e,t)));const r=e=>{Pp.getState(e).each((e=>{B_.highlightPrimary(e)}))};const a=(t,o,s)=>xA(e,C,t,n,o,s);const c=e=>{const t=r;a(e,t,O_.HighlightMenuAndItem).get(v)};const i={expand:e=>{if(!Zw.isOn(e)){a(e,v,O_.HighlightNone).get(v)}},open:e=>{if(!Zw.isOn(e)){a(e,v,O_.HighlightMenuAndItem).get(v)}},refetch:t=>{const o=cA.getExistingCoupled(t,"sandbox");return o.fold((()=>a(t,v,O_.HighlightMenuAndItem).map(v)),(o=>wA(e,C,t,o,n,v,O_.HighlightMenuAndItem).map(v)))},isOpen:Zw.isOn,close:e=>{if(Zw.isOn(e)){a(e,v,O_.HighlightMenuAndItem).get(v)}},repositionMenus:e=>{if(Zw.isOn(e)){TA(e)}}};const l=(e,t)=>{Mc(e);return N.some(true)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Ch(e.dropdownBehaviours,[Zw.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),cA.config({others:{sandbox:t=>EA(e,t,{onOpen:()=>Zw.on(t),onClose:()=>Zw.off(t)})}}),Qk.config({mode:"special",onSpace:l,onEnter:l,onDown:(e,t)=>{if(MA.isOpen(e)){const t=cA.getCoupled(e,"sandbox");r(t)}else{MA.open(e)}return N.some(true)},onEscape:(e,t)=>{if(MA.isOpen(e)){MA.close(e);return N.some(true)}else{return N.none()}}}),Cw.config({})]),events:qw(N.some(c)),eventOrder:{...e.eventOrder,[lc()]:["disabling","toggling","alloy.base.behaviour"]},apis:i,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold((()=>({})),(e=>({role:e}))),...e.dom.tag==="button"?{type:s("type").getOr("button")}:{}}}}};const MA=Ry({name:"Dropdown",configFields:DA(),partFields:AA(),factory:NA,apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}});const RA=e=>{switch(e.searchMode){case"no-search":{return{menuType:"normal"}}default:{return{menuType:"searchable",searchMode:e}}}};const BA=e=>{const t=wh.getValue(e);const o=uz(e).map(gz);MA.refetch(t).get((()=>{const e=cA.getCoupled(t,"sandbox");o.each((t=>uz(e).each((e=>mz(e,t)))))}))};const LA=(e,t)=>{HA(e).each((o=>{Lc(e,o.element,t.event.eventType,t.event.interactionEvent)}))};const HA=e=>Pp.getState(e).bind(Cb.getHighlighted).bind(Cb.getHighlighted);const IA=e=>vl(e.element,yz)?N.some(e.element):id(e.element,"."+yz);const PA=(e,t,o)=>{fz(e).each((e=>{pz(e,o);const n=IA(t);n.each((t=>{so(t,"id").each((t=>to(e.element,"aria-controls",t)))}))}));to(o.element,"aria-selected","true")};const FA=(e,t,o)=>{to(o.element,"aria-selected","false")};const VA=e=>{fz(e).each((e=>Cw.focus(e)))};const jA=e=>{const t=cA.getExistingCoupled(e,"sandbox");return t.bind(uz).map(gz).map((e=>e.fetchPattern)).getOr("")};var ZA;(function(e){e[e["ContentFocus"]=0]="ContentFocus";e[e["UiFocus"]=1]="UiFocus"})(ZA||(ZA={}));const UA=(e,t,o,n,s)=>{const r=o.shared.providers;const a=e=>!s?e:{...e,shortcut:N.none(),icon:e.text.isSome()?N.none():e.icon};switch(e.type){case"menuitem":return qE(e).fold(Oz,(e=>N.some(YD(a(e),t,r,n))));case"nestedmenuitem":return $E(e).fold(Oz,(e=>N.some(XD(a(e),t,r,n,s))));case"togglemenuitem":return KE(e).fold(Oz,(e=>N.some(JD(a(e),t,r,n))));case"separator":return iE(e).fold(Oz,(e=>N.some(KD(e))));case"fancymenuitem":return ZE(e).fold(Oz,(e=>QD(e,o)));default:{console.error("Unknown item in general menu",e);return N.none()}}};const qA=(e,t,o,n,s,r,a)=>{const c=n===1;const i=!c||Tz(e);return Te(j(e,(e=>{switch(e.type){case"separator":return dE(e).fold(Oz,(e=>N.some(KD(e))));case"cardmenuitem":return LE(e).fold(Oz,(e=>N.some(eA({...e,onAction:t=>{e.onAction(t);o(e.value,e.meta)}},s,r,{itemBehaviours:WT(e.meta,r),cardText:{matchText:t,highlightOn:a}}))));case"autocompleteitem":default:return uE(e).fold(Oz,(e=>N.some(GD(e,t,c,"normal",o,s,r,i))))}})))};const WA=(e,t,o,n,s,r)=>{const a=Tz(t);const c=Te(j(t,(e=>{const t=e=>s?!Ce(e,"text"):a;const r=e=>UA(e,o,n,t(e),s);if(e.type==="nestedmenuitem"&&e.getSubmenuItems().length<=0){return r({...e,enabled:false})}else{return r(e)}})));const i=RA(r);const l=s?Dz:Az;return l(e,a,c,1,i)};const $A=e=>B_.singleData(e.value,e);const GA=(e,t,o,n)=>{const s=OD(t,n);const r=JS(n);return{data:$A({...e,movement:s,menuBehaviours:QE.unnamedEvents(t!=="auto"?[]:[Jc(((e,t)=>{YE(e,4,r.item).each((({numColumns:t,numRows:o})=>{Qk.setGridSize(e,o,t)}))}))])}),menu:{markers:JS(n),fakeFocus:o===ZA.ContentFocus}}};const KA=(e,t)=>xS(Je.fromDom(t.startContainer)).map((t=>{const o=e.createRng();o.selectNode(t.dom);return o}));const YA=(e,t)=>{const o=ma(false);const n=ma(false);const s=Jl(I_.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Iu([pw("dismissAutocompleter",[jc(_c(),(()=>l()))])]),lazySink:t.getSink}));const r=()=>I_.isOpen(s);const a=n.get;const c=()=>{if(r()){I_.hide(s)}};const i=()=>I_.getContent(s).bind((e=>ae(e.components(),0)));const l=()=>e.execCommand("mceAutocompleterClose");const d=n=>{const s=de(n,(e=>N.from(e.columns))).getOr(1);return Q(n,(n=>{const r=n.items;return qA(r,n.matchText,((t,s)=>{const r=e.selection.getRng();KA(e.dom,r).each((r=>{const a={hide:()=>l(),reload:t=>{c();e.execCommand("mceAutocompleterReload",false,{fetchOptions:t})}};o.set(true);n.onAction(a,r,t,s);o.set(false)}))}),s,TS.BUBBLE_TO_SANDBOX,t,n.highlightOn)}))};const u=(t,o)=>{CS(Je.fromDom(e.getBody())).each((n=>{const r=de(t,(e=>N.from(e.columns))).getOr(1);I_.showMenuAt(s,{anchor:{type:"node",root:Je.fromDom(e.getBody()),node:N.from(n)}},GA(Az("autocompleter-value",true,o,r,{menuType:"normal"}),r,ZA.ContentFocus,"normal"))}));i().each(Cb.highlightFirst)};const f=e=>{const t=d(e);if(t.length>0){u(e,t)}else{c()}};e.on("AutocompleterStart",(({lookupData:e})=>{n.set(true);o.set(false);f(e)}));e.on("AutocompleterUpdate",(({lookupData:e})=>f(e)));e.on("AutocompleterEnd",(()=>{c();n.set(false);o.set(false)}));const m={cancelIfNecessary:l,isMenuOpen:r,isActive:a,isProcessingAction:o.get,getMenu:i};zS.setup(m,e)};const XA={register:YA};const JA=["visible","hidden","clip"];const QA=e=>Ze(e).length>0&&!I(JA,e);const eN=e=>{if(gt(e)){const t=go(e,"overflow-x");const o=go(e,"overflow-y");return QA(t)||QA(o)}else{return false}};const tN=e=>{const t=ig(e,eN);const o=t.length===0?$t(e).map(Gt).map((e=>ig(e,eN))).getOr([]):t;return ce(o).map((e=>({element:e,others:o.slice(1)})))};const oN=(e,t)=>vS(e)?tN(t):N.none();const nN=e=>{const t=[...j(e.others,os),as()];return rs(os(e.element),t)};const sN=(e,t,o)=>ld(e,t,o).isSome();const rN=(e,t)=>{let o=null;const n=(...n)=>{o=setTimeout((()=>{e.apply(null,n);o=null}),t)};const s=()=>{if(o!==null){clearTimeout(o);o=null}};return{cancel:s,schedule:n}};const aN=5;const cN=400;const iN=e=>{const t=e.raw;if(t.touches===undefined||t.touches.length!==1){return N.none()}return N.some(t.touches[0])};const lN=(e,t)=>{const o=Math.abs(e.clientX-t.x);const n=Math.abs(e.clientY-t.y);return o>aN||n>aN};const dN=e=>{const t=Ef();const o=ma(false);const n=rN((t=>{e.triggerEvent(fc(),t);o.set(true)}),cN);const s=e=>{iN(e).each((s=>{n.cancel();const r={x:s.clientX,y:s.clientY,target:e.target};n.schedule(e);o.set(false);t.set(r)}));return N.none()};const r=e=>{n.cancel();iN(e).each((e=>{t.on((o=>{if(lN(e,o)){t.clear()}}))}));return N.none()};const a=s=>{n.cancel();const r=e=>Ct(e.target,s.target);return t.get().filter(r).map((t=>{if(o.get()){s.prevent();return false}else{return e.triggerEvent(uc(),s)}}))};const c=_a([{key:Ha(),value:s},{key:Ia(),value:r},{key:Pa(),value:a}]);const i=(e,t)=>xe(c,t).bind((t=>t(e)));return{fireIfReady:i}};const uN=e=>{const t=e.raw;return t.which===Sb[0]&&!I(["input","textarea"],ut(e.target))&&!sN(e.target,'[contenteditable="true"]')};const fN=(e,t)=>{const o={stopBackspace:true,...t};const n=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"];const s=dN(o);const r=j(n.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(t=>Of(e,t,(e=>{s.fireIfReady(e,t).each((t=>{if(t){e.kill()}}));const n=o.triggerEvent(t,e);if(n){e.kill()}}))));const a=Ef();const c=Of(e,"paste",(e=>{s.fireIfReady(e,"paste").each((t=>{if(t){e.kill()}}));const t=o.triggerEvent("paste",e);if(t){e.kill()}a.set(setTimeout((()=>{o.triggerEvent(cc(),e)}),0))}));const i=Of(e,"keydown",(e=>{const t=o.triggerEvent("keydown",e);if(t){e.kill()}else if(o.stopBackspace&&uN(e)){e.prevent()}}));const l=Of(e,"focusin",(e=>{const t=o.triggerEvent("focusin",e);if(t){e.kill()}}));const d=Ef();const u=Of(e,"focusout",(e=>{const t=o.triggerEvent("focusout",e);if(t){e.kill()}d.set(setTimeout((()=>{o.triggerEvent(ac(),e)}),0))}));const f=()=>{Z(r,(e=>{e.unbind()}));i.unbind();l.unbind();u.unbind();c.unbind();a.on(clearTimeout);d.on(clearTimeout)};return{unbind:f}};const mN=(e,t)=>{const o=xe(e,"target").getOr(t);return ma(o)};const gN=(e,t)=>{const o=ma(false);const n=ma(false);const s=()=>{o.set(true)};const r=()=>{n.set(true)};return{stop:s,cut:r,isStopped:o.get,isCut:n.get,event:e,setSource:t.set,getSource:t.get}};const pN=e=>{const t=ma(false);const o=()=>{t.set(true)};return{stop:o,cut:v,isStopped:t.get,isCut:D,event:e,setSource:T("Cannot set source of a broadcasted event"),getSource:T("Cannot get source of a broadcasted event")}};const hN=pa.generate([{stopped:[]},{resume:["element"]},{complete:[]}]);const yN=(e,t,o,n,s,r)=>{const a=e(t,n);const c=gN(o,s);return a.fold((()=>{r.logEventNoHandlers(t,n);return hN.complete()}),(e=>{const o=e.descHandler;const n=Gi(o);n(c);if(c.isStopped()){r.logEventStopped(t,e.element,o.purpose);return hN.stopped()}else if(c.isCut()){r.logEventCut(t,e.element,o.purpose);return hN.complete()}else{return Dt(e.element).fold((()=>{r.logNoParent(t,e.element,o.purpose);return hN.complete()}),(n=>{r.logEventResponse(t,e.element,o.purpose);return hN.resume(n)}))}}))};const bN=(e,t,o,n,s,r)=>yN(e,t,o,n,s,r).fold(A,(n=>bN(e,t,o,n,s,r)),D);const vN=(e,t,o,n,s)=>{const r=mN(o,n);return yN(e,t,o,n,r,s)};const kN=(e,t,o)=>{const n=pN(t);Z(e,(e=>{const t=e.descHandler;const o=Gi(t);o(n)}));return n.isStopped()};const wN=(e,t,o,n)=>_N(e,t,o,o.target,n);const _N=(e,t,o,n,s)=>{const r=mN(o,n);return bN(e,t,o,n,r,s)};const xN=(e,t)=>({element:e,descHandler:t});const CN=(e,t)=>({id:e,descHandler:t});const SN=()=>{const e={};const t=(t,o,n)=>{me(n,((n,s)=>{const r=e[s]!==undefined?e[s]:{};r[o]=$i(n,t);e[s]=r}))};const o=(e,t)=>wi(t).bind((t=>xe(e,t))).map((e=>xN(t,e)));const n=t=>xe(e,t).map((e=>ke(e,((e,t)=>CN(t,e))))).getOr([]);const s=(t,n,s)=>xe(e,n).bind((e=>Ta(s,(t=>o(e,t)),t)));const r=t=>{me(e,((e,o)=>{if(Ce(e,t)){delete e[t]}}))};return{registerId:t,unregisterId:r,filterByType:n,find:s}};const zN=()=>{const e=SN();const t={};const o=e=>{const t=e.element;return wi(t).getOrThunk((()=>vi("uid-",e.element)))};const n=(e,o)=>{const n=t[o];if(n===e){r(e)}else{throw new Error('The tagId "'+o+'" is already used by: '+li(n.element)+"\nCannot use it for: "+li(e.element)+"\n"+"The conflicting element is"+(Xt(n.element)?" ":" not ")+"already in the DOM")}};const s=s=>{const r=o(s);if(Se(t,r)){n(s,r)}const a=[s];e.registerId(a,r,s.events);t[r]=s};const r=o=>{wi(o.element).each((o=>{delete t[o];e.unregisterId(o)}))};const a=t=>e.filterByType(t);const c=(t,o,n)=>e.find(t,o,n);const i=e=>xe(t,e);return{find:c,filter:a,register:s,unregister:r,getById:i}};const EN=e=>{const{attributes:t,...o}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...o},components:e.components,behaviours:xh(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}};const TN=My({name:"Container",factory:EN,configFields:[na("components",[]),_h("containerBehaviours",[]),na("events",{}),na("domModification",{}),na("eventOrder",{})]});const ON=e=>{const t=t=>Dt(e.element).fold(A,(e=>Ct(t,e)));const o=zN();const n=(e,n)=>o.find(t,e,n);const s=fN(e.element,{triggerEvent:(e,t)=>xd(e,t.target,(o=>wN(n,e,t,o)))});const r={debugInfo:x("real"),triggerEvent:(e,t,o)=>{xd(e,t,(s=>_N(n,e,o,t,s)))},triggerFocus:(e,t)=>{wi(e).fold((()=>{$u(e)}),(o=>{xd(rc(),e,(o=>{vN(n,rc(),{originator:t,kill:v,prevent:v,target:e},e,o);return false}))}))},triggerEscape:(e,t)=>{r.triggerEvent("keydown",e.element,t.event)},getByUid:e=>p(e),getByDom:e=>h(e),build:Jl,buildOrPatch:Xl,addToGui:e=>{i(e)},removeFromGui:e=>{l(e)},addToWorld:e=>{a(e)},removeFromWorld:e=>{c(e)},broadcast:e=>{f(e)},broadcastOn:(e,t)=>{m(e,t)},broadcastEvent:(e,t)=>{g(e,t)},isConnected:A};const a=e=>{e.connect(r);if(!ht(e.element)){o.register(e);Z(e.components(),a);r.triggerEvent(pc(),e.element,{target:e.element})}};const c=e=>{if(!ht(e.element)){Z(e.components(),c);o.unregister(e)}e.disconnect()};const i=t=>{up(e,t)};const l=e=>{gp(e)};const d=()=>{s.unbind();Fn(e.element)};const u=e=>{const t=o.filter(ic());Z(t,(t=>{const o=t.descHandler;const n=Gi(o);n(e)}))};const f=e=>{u({universal:true,data:e})};const m=(e,t)=>{u({universal:false,channels:e,data:t})};const g=(e,t)=>{const n=o.filter(e);return kN(n,t)};const p=e=>o.getById(e).fold((()=>us.error(new Error('Could not find component with uid: "'+e+'" in system.'))),us.value);const h=e=>{const t=wi(e).getOr("not found");return p(t)};a(e);return{root:e,element:e.element,destroy:d,add:i,remove:l,getByUid:p,getByDom:h,addToWorld:a,removeFromWorld:c,broadcast:f,broadcastOn:m,broadcastEvent:g}};const DN=(e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:j(e.items,t.interpreter)});const AN=x([na("prefix","form-field"),_h("fieldBehaviours",[Py,wh])]);const NN=x([oy({schema:[Hr("dom")],name:"label"}),oy({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[Hr("text")],name:"aria-descriptor"}),ey({factory:{sketch:e=>{const t=ka(e,["factory"]);return e.factory.sketch(t)}},schema:[Hr("factory")],name:"field"})]);const MN=(e,t,o,n)=>{const s=Ch(e.fieldBehaviours,[Py.config({find:t=>py(t,e,"field")}),wh.config({store:{mode:"manual",getValue:e=>Py.getCurrent(e).bind(wh.getValue),setValue:(e,t)=>{Py.getCurrent(e).each((e=>{wh.setValue(e,t)}))}}})]);const r=Ic([Jc(((t,o)=>{const n=yy(t,e,["label","field","aria-descriptor"]);n.field().each((t=>{const o=gi(e.prefix);n.label().each((e=>{to(e.element,"for",o);to(t.element,"id",o)}));n["aria-descriptor"]().each((o=>{const n=gi(e.prefix);to(o.element,"id",n);to(t.element,"aria-describedby",n)}))}))}))]);const a={getField:t=>py(t,e,"field"),getLabel:t=>py(t,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:s,events:r,apis:a}};const RN=Ry({name:"FormField",configFields:AN(),partFields:NN(),factory:MN,apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});const BN=(e,t)=>Vi({attributes:_a([{key:t.tabAttr,value:"true"}])});var LN=Object.freeze({__proto__:null,exhibit:BN});var HN=[na("tabAttr","data-alloy-tabstop")];const IN=Fu({fields:HN,name:"tabstopping",active:LN});var PN=tinymce.util.Tools.resolve("tinymce.html.Entities");const FN=(e,t,o,n)=>{const s=jN(e,t,o,n);return RN.sketch(s)};const VN=(e,t)=>FN(e,t,[],[]);const jN=(e,t,o,n)=>({dom:UN(o),components:e.toArray().concat([t]),fieldBehaviours:Iu(n)});const ZN=()=>UN([]);const UN=e=>({tag:"div",classes:["tox-form__group"].concat(e)});const qN=(e,t)=>RN.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$l(t.translate(e))]});const WN=gi("form-component-change");const $N=gi("form-close");const GN=gi("form-cancel");const KN=gi("form-action");const YN=gi("form-submit");const XN=gi("form-block");const JN=gi("form-unblock");const QN=gi("form-tabchange");const eM=gi("form-resize");const tM=(e,t,o)=>{const n=e.label.map((e=>qN(e,t)));const s=e=>(t,o)=>{ld(o.event.target,"[data-collection-item-value]").each((n=>{e(t,o,n,no(n,"data-collection-item-value"))}))};const r=(o,n)=>{const s=j(n,(o=>{const n=Jx.translate(o.text);const s=e.columns===1?`<div class="tox-collection__item-label">${n}</div>`:"";const r=`<div class="tox-collection__item-icon">${o.icon}</div>`;const a={_:" "," - ":" ","-":" "};const c=n.replace(/\_| \- |\-/g,(e=>a[e]));const i=t.isDisabled()?" tox-collection__item--state-disabled":"";return`<div class="tox-collection__item${i}" tabindex="-1" data-collection-item-value="${PN.encodeAllRaw(o.value)}" title="${c}" aria-label="${c}">${r}${s}</div>`}));const r=e.columns!=="auto"&&e.columns>1?V(s,e.columns):[s];const a=j(r,(e=>`<div class="tox-collection__group">${e.join("")}</div>`));si(o.element,a.join(""))};const a=s(((o,n,s,r)=>{n.stop();if(!t.isDisabled()){Nc(o,KN,{name:e.name,value:r})}}));const c=[jc(qa(),s(((e,t,o)=>{$u(o)}))),jc(Ja(),a),jc(uc(),a),jc(Wa(),s(((e,t,o)=>{id(e.element,"."+FS).each((e=>{bl(e,FS)}));hl(o,FS)}))),jc($a(),s((e=>{id(e.element,"."+FS).each((e=>{bl(e,FS)}))}))),ti(s(((t,o,n,s)=>{Nc(t,KN,{name:e.name,value:s})})))];const i=(e,t)=>j(lg(e.element,".tox-collection__item"),t);const l=RN.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(e.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:C},behaviours:Iu([sb.config({disabled:t.isDisabled,onDisabled:e=>{i(e,(e=>{hl(e,"tox-collection__item--state-disabled");to(e,"aria-disabled",true)}))},onEnabled:e=>{i(e,(e=>{bl(e,"tox-collection__item--state-disabled");ao(e,"aria-disabled")}))}}),yT(),mw.config({}),wh.config({store:{mode:"memory",initialValue:o.getOr([])},onSetValue:(t,o)=>{r(t,o);if(e.columns==="auto"){YE(t,5,"tox-collection__item").each((({numRows:e,numColumns:o})=>{Qk.setGridSize(t,e,o)}))}Ac(t,eM)}}),IN.config({}),Qk.config(DD(e.columns,"normal")),pw("collection-events",c)]),eventOrder:{[lc()]:["disabling","alloy.base.behaviour","collection-events"]}});const d=["tox-form__group--collection"];return FN(n,l,d,[])};const oM=["input","textarea"];const nM=e=>{const t=ut(e);return I(oM,t)};const sM=(e,t)=>{const o=t.getRoot(e).getOr(e.element);bl(o,t.invalidClass);t.notify.each((t=>{if(nM(e.element)){to(e.element,"aria-invalid",false)}t.getContainer(e).each((e=>{si(e,t.validHtml)}));t.onValid(e)}))};const rM=(e,t,o,n)=>{const s=t.getRoot(e).getOr(e.element);hl(s,t.invalidClass);t.notify.each((t=>{if(nM(e.element)){to(e.element,"aria-invalid",true)}t.getContainer(e).each((e=>{si(e,n)}));t.onInvalid(e,n)}))};const aM=(e,t,o)=>t.validator.fold((()=>pA.pure(us.value(true))),(t=>t.validate(e)));const cM=(e,t,o)=>{t.notify.each((t=>{t.onValidate(e)}));return aM(e,t).map((n=>{if(e.getSystem().isConnected()){return n.fold((n=>{rM(e,t,o,n);return us.error(n)}),(o=>{sM(e,t);return us.value(o)}))}else{return us.error("No longer in system")}}))};const iM=(e,t)=>{const o=t.getRoot(e).getOr(e.element);return vl(o,t.invalidClass)};var lM=Object.freeze({__proto__:null,markValid:sM,markInvalid:rM,query:aM,run:cM,isInvalid:iM});const dM=(e,t)=>e.validator.map((o=>Ic([jc(o.onEvent,(o=>{cM(o,e,t).get(C)}))].concat(o.validateOnLoad?[Jc((o=>{cM(o,e,t).get(v)}))]:[])))).getOr({});var uM=Object.freeze({__proto__:null,events:dM});var fM=[Hr("invalidClass"),na("getRoot",N.none),ta("notify",[na("aria","alert"),na("getContainer",N.none),na("validHtml",""),Md("onValid"),Md("onInvalid"),Md("onValidate")]),ta("validator",[Hr("validate"),na("onEvent","input"),na("validateOnLoad",true)])];const mM=Fu({fields:fM,name:"invalidating",active:uM,apis:lM,extra:{validation:e=>t=>{const o=wh.getValue(t);return pA.pure(e(o))}}});const gM=()=>Vi({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}});const pM=()=>Ic([Pc(oc(),A)]);var hM=Object.freeze({__proto__:null,events:pM,exhibit:gM});const yM=Fu({fields:[],name:"unselecting",active:hM});const bM=(e,t)=>MA.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Iu([_T.button(t.providers.isDisabled),yT(),yM.config({}),IN.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:o=>pA.nu((t=>e.fetch(t))).map((n=>N.from($A(Ds(ED(gi("menu-value"),n,(t=>{e.onItemAction(o,t)}),e.columns,e.presets,TS.CLOSE_ON_EXECUTE,D,t.providers),{movement:OD(e.columns,e.presets)}))))),parts:{menu:tz(false,1,e.presets)}});const vM=gi("color-input-change");const kM=gi("color-swatch-change");const wM=gi("color-picker-cancel");const _M=(e,t,o,n)=>{const s=RN.parts.field({factory:cz,inputClasses:["tox-textfield"],data:n,onSetValue:e=>mM.run(e).get(v),inputBehaviours:Iu([sb.config({disabled:t.providers.isDisabled}),yT(),IN.config({}),mM.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>Nt(e.element),notify:{onValid:e=>{const t=wh.getValue(e);Nc(e,vM,{color:t})}},validator:{validateOnLoad:false,validate:e=>{const t=wh.getValue(e);if(t.length===0){return pA.pure(us.value(true))}else{const e=Je.fromTag("span");uo(e,"background-color",t);const o=ho(e,"background-color").fold((()=>us.error("blah")),(e=>us.value(t)));return pA.pure(o)}}}})]),selectOnFocus:false});const r=e.label.map((e=>qN(e,t.providers)));const a=(e,t)=>{Nc(e,kM,{value:t})};const c=(t,n)=>{i.getOpt(t).each((t=>{if(n==="custom"){o.colorPicker((o=>{o.fold((()=>Ac(t,wM)),(o=>{a(t,o);UO(e.storageKey,o)}))}),"#ffffff")}else if(n==="remove"){a(t,"")}else{a(t,n)}}))};const i=q_(bM({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[gu,mu,bu],onLtr:()=>[mu,gu,bu]},components:[],fetch:kD(o.getColors(e.storageKey),e.storageKey,o.hasCustomColors()),columns:o.getColorCols(e.storageKey),presets:"color",onItemAction:c},t));return RN.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:r.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,i.asSpec()]}]),fieldBehaviours:Iu([pw("form-field-events",[jc(vM,((t,o)=>{i.getOpt(t).each((e=>{uo(e.element,"background-color",o.event.color)}));Nc(t,WN,{name:e.name})})),jc(kM,((e,t)=>{RN.getField(e).each((o=>{wh.setValue(o,t.event.value);Py.getCurrent(e).each(Cw.focus)}))})),jc(wM,((e,t)=>{RN.getField(e).each((t=>{Py.getCurrent(e).each(Cw.focus)}))}))])])})};const xM=oy({schema:[Hr("dom")],name:"label"});const CM=e=>oy({name:""+e+"-edge",overrides:t=>{const o=t.model.manager.edgeActions[e];return o.fold((()=>({})),(e=>({events:Ic([Zc(Ha(),((t,o,n)=>e(t,n)),[t]),Zc(Va(),((t,o,n)=>e(t,n)),[t]),Zc(ja(),((t,o,n)=>{if(n.mouseIsDown.get()){e(t,n)}}),[t])])})))}});const SM=CM("top-left");const zM=CM("top");const EM=CM("top-right");const TM=CM("right");const OM=CM("bottom-right");const DM=CM("bottom");const AM=CM("bottom-left");const NM=CM("left");const MM=ey({name:"thumb",defaults:x({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Ic([$c(Ha(),e,"spectrum"),$c(Ia(),e,"spectrum"),$c(Pa(),e,"spectrum"),$c(Va(),e,"spectrum"),$c(ja(),e,"spectrum"),$c(Ua(),e,"spectrum")])})});const RM=ey({schema:[Br("mouseIsDown",(()=>ma(false)))],name:"spectrum",overrides:e=>{const t=e.model;const o=t.manager;const n=(t,n)=>o.getValueFromEvent(n).map((n=>o.setValueFrom(t,e,n)));return{behaviours:Iu([Qk.config({mode:"special",onLeft:t=>o.onLeft(t,e),onRight:t=>o.onRight(t,e),onUp:t=>o.onUp(t,e),onDown:t=>o.onDown(t,e)}),Cw.config({})]),events:Ic([jc(Ha(),n),jc(Ia(),n),jc(Va(),n),jc(ja(),((t,o)=>{if(e.mouseIsDown.get()){n(t,o)}}))])}}});var BM=[xM,NM,TM,zM,DM,SM,EM,AM,OM,MM,RM];const LM="slider.change.value";const HM=x(LM);const IM=e=>e.type.indexOf("touch")!==-1;const PM=e=>{const t=e.event.raw;if(IM(t)){const e=t;return e.touches!==undefined&&e.touches.length===1?N.some(e.touches[0]).map((e=>Eo(e.clientX,e.clientY))):N.none()}else{const e=t;return e.clientX!==undefined?N.some(e).map((e=>Eo(e.clientX,e.clientY))):N.none()}};const FM="top",VM="right",jM="bottom",ZM="left";const UM=e=>e.model.minX;const qM=e=>e.model.minY;const WM=e=>e.model.minX-1;const $M=e=>e.model.minY-1;const GM=e=>e.model.maxX;const KM=e=>e.model.maxY;const YM=e=>e.model.maxX+1;const XM=e=>e.model.maxY+1;const JM=(e,t,o)=>t(e)-o(e);const QM=e=>JM(e,GM,UM);const eR=e=>JM(e,KM,qM);const tR=e=>QM(e)/2;const oR=e=>eR(e)/2;const nR=e=>e.stepSize;const sR=e=>e.snapToGrid;const rR=e=>e.snapStart;const aR=e=>e.rounded;const cR=(e,t)=>e[t+"-edge"]!==undefined;const iR=e=>cR(e,ZM);const lR=e=>cR(e,VM);const dR=e=>cR(e,FM);const uR=e=>cR(e,jM);const fR=e=>e.model.value.get();const mR=(e,t)=>({x:e,y:t});const gR=(e,t)=>{Nc(e,HM(),{value:t})};const pR=(e,t)=>{gR(e,mR(WM(t),$M(t)))};const hR=(e,t)=>{gR(e,$M(t))};const yR=(e,t)=>{gR(e,mR(tR(t),$M(t)))};const bR=(e,t)=>{gR(e,mR(YM(t),$M(t)))};const vR=(e,t)=>{gR(e,YM(t))};const kR=(e,t)=>{gR(e,mR(YM(t),oR(t)))};const wR=(e,t)=>{gR(e,mR(YM(t),XM(t)))};const _R=(e,t)=>{gR(e,XM(t))};const xR=(e,t)=>{gR(e,mR(tR(t),XM(t)))};const CR=(e,t)=>{gR(e,mR(WM(t),XM(t)))};const SR=(e,t)=>{gR(e,WM(t))};const zR=(e,t)=>{gR(e,mR(WM(t),oR(t)))};const ER=(e,t,o,n)=>{if(e<t){return e}else if(e>o){return o}else if(e===t){return t-1}else{return Math.max(t,e-n)}};const TR=(e,t,o,n)=>{if(e>o){return e}else if(e<t){return t}else if(e===o){return o+1}else{return Math.min(o,e+n)}};const OR=(e,t,o)=>Math.max(t,Math.min(o,e));const DR=(e,t,o,n,s)=>s.fold((()=>{const s=e-t;const r=Math.round(s/n)*n;return OR(t+r,t-1,o+1)}),(t=>{const s=(e-t)%n;const r=Math.round(s/n);const a=Math.floor((e-t)/n);const c=Math.floor((o-t)/n);const i=Math.min(c,a+r);const l=t+i*n;return Math.max(t,l)}));const AR=(e,t,o)=>Math.min(o,Math.max(e,t))-t;const NR=e=>{const{min:t,max:o,range:n,value:s,step:r,snap:a,snapStart:c,rounded:i,hasMinEdge:l,hasMaxEdge:d,minBound:u,maxBound:f,screenRange:m}=e;const g=l?t-1:t;const p=d?o+1:o;if(s<u){return g}else if(s>f){return p}else{const e=AR(s,u,f);const l=OR(e/m*n+t,g,p);if(a&&l>=t&&l<=o){return DR(l,t,o,r,c)}else if(i){return Math.round(l)}else{return l}}};const MR=e=>{const{min:t,max:o,range:n,value:s,hasMinEdge:r,hasMaxEdge:a,maxBound:c,maxOffset:i,centerMinEdge:l,centerMaxEdge:d}=e;if(s<t){return r?0:l}else if(s>o){return a?c:d}else{return(s-t)/n*i}};const RR="top",BR="right",LR="bottom",HR="left",IR="width",PR="height";const FR=e=>e.element.dom.getBoundingClientRect();const VR=(e,t)=>e[t];const jR=e=>{const t=FR(e);return VR(t,HR)};const ZR=e=>{const t=FR(e);return VR(t,BR)};const UR=e=>{const t=FR(e);return VR(t,RR)};const qR=e=>{const t=FR(e);return VR(t,LR)};const WR=e=>{const t=FR(e);return VR(t,IR)};const $R=e=>{const t=FR(e);return VR(t,PR)};const GR=(e,t,o)=>(e+t)/2-o;const KR=(e,t)=>{const o=FR(e);const n=FR(t);const s=VR(o,HR);const r=VR(o,BR);const a=VR(n,HR);return GR(s,r,a)};const YR=(e,t)=>{const o=FR(e);const n=FR(t);const s=VR(o,RR);const r=VR(o,LR);const a=VR(n,RR);return GR(s,r,a)};const XR=(e,t)=>{Nc(e,HM(),{value:t})};const JR=(e,t,o)=>{const n={min:UM(t),max:GM(t),range:QM(t),value:o,step:nR(t),snap:sR(t),snapStart:rR(t),rounded:aR(t),hasMinEdge:iR(t),hasMaxEdge:lR(t),minBound:jR(e),maxBound:ZR(e),screenRange:WR(e)};return NR(n)};const QR=(e,t,o)=>{const n=JR(e,t,o);const s=n;XR(e,s);return n};const eB=(e,t)=>{const o=UM(t);XR(e,o)};const tB=(e,t)=>{const o=GM(t);XR(e,o)};const oB=(e,t,o)=>{const n=e>0?TR:ER;const s=n(fR(o),UM(o),GM(o),nR(o));XR(t,s);return N.some(s)};const nB=e=>(t,o)=>oB(e,t,o).map(A);const sB=e=>{const t=PM(e);return t.map((e=>e.left))};const rB=(e,t,o,n,s)=>{const r=0;const a=WR(e);const c=n.bind((t=>N.some(KR(t,e)))).getOr(r);const i=s.bind((t=>N.some(KR(t,e)))).getOr(a);const l={min:UM(t),max:GM(t),range:QM(t),value:o,hasMinEdge:iR(t),hasMaxEdge:lR(t),minBound:jR(e),minOffset:r,maxBound:ZR(e),maxOffset:a,centerMinEdge:c,centerMaxEdge:i};return MR(l)};const aB=(e,t,o,n,s,r)=>{const a=rB(t,r,o,n,s);return jR(t)-jR(e)+a};const cB=(e,t,o,n)=>{const s=fR(o);const r=aB(e,n.getSpectrum(e),s,n.getLeftEdge(e),n.getRightEdge(e),o);const a=Ro(t.element)/2;uo(t.element,"left",r-a+"px")};const iB=nB(-1);const lB=nB(1);const dB=N.none;const uB=N.none;const fB={"top-left":N.none(),top:N.none(),"top-right":N.none(),right:N.some(vR),"bottom-right":N.none(),bottom:N.none(),"bottom-left":N.none(),left:N.some(SR)};var mB=Object.freeze({__proto__:null,setValueFrom:QR,setToMin:eB,setToMax:tB,findValueOfOffset:JR,getValueFromEvent:sB,findPositionOfValue:aB,setPositionFromValue:cB,onLeft:iB,onRight:lB,onUp:dB,onDown:uB,edgeActions:fB});const gB=(e,t)=>{Nc(e,HM(),{value:t})};const pB=(e,t,o)=>{const n={min:qM(t),max:KM(t),range:eR(t),value:o,step:nR(t),snap:sR(t),snapStart:rR(t),rounded:aR(t),hasMinEdge:dR(t),hasMaxEdge:uR(t),minBound:UR(e),maxBound:qR(e),screenRange:$R(e)};return NR(n)};const hB=(e,t,o)=>{const n=pB(e,t,o);const s=n;gB(e,s);return n};const yB=(e,t)=>{const o=qM(t);gB(e,o)};const bB=(e,t)=>{const o=KM(t);gB(e,o)};const vB=(e,t,o)=>{const n=e>0?TR:ER;const s=n(fR(o),qM(o),KM(o),nR(o));gB(t,s);return N.some(s)};const kB=e=>(t,o)=>vB(e,t,o).map(A);const wB=e=>{const t=PM(e);return t.map((e=>e.top))};const _B=(e,t,o,n,s)=>{const r=0;const a=$R(e);const c=n.bind((t=>N.some(YR(t,e)))).getOr(r);const i=s.bind((t=>N.some(YR(t,e)))).getOr(a);const l={min:qM(t),max:KM(t),range:eR(t),value:o,hasMinEdge:dR(t),hasMaxEdge:uR(t),minBound:UR(e),minOffset:r,maxBound:qR(e),maxOffset:a,centerMinEdge:c,centerMaxEdge:i};return MR(l)};const xB=(e,t,o,n,s,r)=>{const a=_B(t,r,o,n,s);return UR(t)-UR(e)+a};const CB=(e,t,o,n)=>{const s=fR(o);const r=xB(e,n.getSpectrum(e),s,n.getTopEdge(e),n.getBottomEdge(e),o);const a=xo(t.element)/2;uo(t.element,"top",r-a+"px")};const SB=N.none;const zB=N.none;const EB=kB(-1);const TB=kB(1);const OB={"top-left":N.none(),top:N.some(hR),"top-right":N.none(),right:N.none(),"bottom-right":N.none(),bottom:N.some(_R),"bottom-left":N.none(),left:N.none()};var DB=Object.freeze({__proto__:null,setValueFrom:hB,setToMin:yB,setToMax:bB,findValueOfOffset:pB,getValueFromEvent:wB,findPositionOfValue:xB,setPositionFromValue:CB,onLeft:SB,onRight:zB,onUp:EB,onDown:TB,edgeActions:OB});const AB=(e,t)=>{Nc(e,HM(),{value:t})};const NB=(e,t)=>({x:e,y:t});const MB=(e,t,o)=>{const n=JR(e,t,o.left);const s=pB(e,t,o.top);const r=NB(n,s);AB(e,r);return r};const RB=(e,t,o,n)=>{const s=e>0?TR:ER;const r=t?fR(n).x:s(fR(n).x,UM(n),GM(n),nR(n));const a=!t?fR(n).y:s(fR(n).y,qM(n),KM(n),nR(n));AB(o,NB(r,a));return N.some(r)};const BB=(e,t)=>(o,n)=>RB(e,t,o,n).map(A);const LB=(e,t)=>{const o=UM(t);const n=qM(t);AB(e,NB(o,n))};const HB=(e,t)=>{const o=GM(t);const n=KM(t);AB(e,NB(o,n))};const IB=e=>PM(e);const PB=(e,t,o,n)=>{const s=fR(o);const r=aB(e,n.getSpectrum(e),s.x,n.getLeftEdge(e),n.getRightEdge(e),o);const a=xB(e,n.getSpectrum(e),s.y,n.getTopEdge(e),n.getBottomEdge(e),o);const c=Ro(t.element)/2;const i=xo(t.element)/2;uo(t.element,"left",r-c+"px");uo(t.element,"top",a-i+"px")};const FB=BB(-1,false);const VB=BB(1,false);const jB=BB(-1,true);const ZB=BB(1,true);const UB={"top-left":N.some(pR),top:N.some(yR),"top-right":N.some(bR),right:N.some(kR),"bottom-right":N.some(wR),bottom:N.some(xR),"bottom-left":N.some(CR),left:N.some(zR)};var qB=Object.freeze({__proto__:null,setValueFrom:MB,setToMin:LB,setToMax:HB,getValueFromEvent:IB,setPositionFromValue:PB,onLeft:FB,onRight:VB,onUp:jB,onDown:ZB,edgeActions:UB});const WB=[na("stepSize",1),na("onChange",v),na("onChoose",v),na("onInit",v),na("onDragStart",v),na("onDragEnd",v),na("snapToGrid",false),na("rounded",true),Gr("snapStart"),Ir("model",Nr("mode",{x:[na("minX",0),na("maxX",100),Br("value",(e=>ma(e.mode.minX))),Hr("getInitialValue"),Hd("manager",mB)],y:[na("minY",0),na("maxY",100),Br("value",(e=>ma(e.mode.minY))),Hr("getInitialValue"),Hd("manager",DB)],xy:[na("minX",0),na("maxX",100),na("minY",0),na("maxY",100),Br("value",(e=>ma({x:e.mode.minX,y:e.mode.minY}))),Hr("getInitialValue"),Hd("manager",qB)]})),_h("sliderBehaviours",[Qk,wh]),Br("mouseIsDown",(()=>ma(false)))];const $B=(e,t,o,n)=>{const s=t=>hy(t,e,"thumb");const r=t=>hy(t,e,"spectrum");const a=t=>py(t,e,"left-edge");const c=t=>py(t,e,"right-edge");const i=t=>py(t,e,"top-edge");const l=t=>py(t,e,"bottom-edge");const d=e.model;const u=d.manager;const f=(t,o)=>{u.setPositionFromValue(t,o,e,{getLeftEdge:a,getRightEdge:c,getTopEdge:i,getBottomEdge:l,getSpectrum:r})};const m=(e,t)=>{d.value.set(t);const o=s(e);f(e,o)};const g=(t,o)=>{m(t,o);const n=s(t);e.onChange(t,n,o);return N.some(true)};const p=t=>{u.setToMin(t,e)};const h=t=>{u.setToMax(t,e)};const y=t=>{const o=()=>{py(t,e,"thumb").each((o=>{const n=d.value.get();e.onChoose(t,o,n)}))};const n=e.mouseIsDown.get();e.mouseIsDown.set(false);if(n){o()}};const b=(t,o)=>{o.stop();e.mouseIsDown.set(true);e.onDragStart(t,s(t))};const v=(t,o)=>{o.stop();e.onDragEnd(t,s(t));y(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Ch(e.sliderBehaviours,[Qk.config({mode:"special",focusIn:t=>py(t,e,"spectrum").map(Qk.focusIn).map(A)}),wh.config({store:{mode:"manual",getValue:e=>d.value.get(),setValue:m}}),Uu.config({channels:{[jp()]:{onReceive:y}}})]),events:Ic([jc(HM(),((e,t)=>{g(e,t.event.value)})),Jc(((t,o)=>{const n=d.getInitialValue();d.value.set(n);const a=s(t);f(t,a);const c=r(t);e.onInit(t,a,c,d.value.get())})),jc(Ha(),b),jc(Pa(),v),jc(Va(),b),jc(Ua(),v)]),apis:{resetToMin:p,resetToMax:h,setValue:m,refresh:f},domModification:{styles:{position:"relative"}}}};const GB=Ry({name:"Slider",configFields:WB,partFields:BM,factory:$B,apis:{setValue:(e,t,o)=>{e.setValue(t,o)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}});const KB=gi("rgb-hex-update");const YB=gi("slider-update");const XB=gi("palette-update");const JB=(e,t)=>{const o=GB.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}});const n=GB.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return GB.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:false,model:{mode:"y",getInitialValue:x(0)},components:[o,n],sliderBehaviours:Iu([Cw.config({})]),onChange:(e,t,o)=>{Nc(e,YB,{value:o})}})};const QB="form";const eL=[_h("formBehaviours",[wh])];const tL=e=>"<alloy.field."+e+">";const oL=e=>{const t=(()=>{const e=[];const t=(t,o)=>{e.push(t);return dy(QB,tL(t),o)};return{field:t,record:x(e)}})();const o=e(t);const n=t.record();const s=j(n,(e=>ey({name:e,pname:tL(e)})));return Ey(QB,eL,s,sL,o)};const nL=(e,t)=>e.fold((()=>us.error(t)),us.value);const sL=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Ch(e.formBehaviours,[wh.config({store:{mode:"manual",getValue:t=>{const o=by(t,e);return ge(o,((e,t)=>e().bind((e=>{const o=Py.getCurrent(e);return nL(o,new Error(`Cannot find a current component to extract the value from for form part '${t}': `+li(e.element)))})).map(wh.getValue)))},setValue:(t,o)=>{me(o,((o,n)=>{py(t,e,n).each((e=>{Py.getCurrent(e).each((e=>{wh.setValue(e,o)}))}))}))}}})]),apis:{getField:(t,o)=>py(t,e,o).bind(Py.getCurrent)}});const rL={getField:Ri(((e,t,o)=>e.getField(t,o))),sketch:oL};const aL=gi("valid-input");const cL=gi("invalid-input");const iL=gi("validating-input");const lL="colorcustom.rgb.";const dL=(e,t,o,n)=>{const s=(o,n)=>mM.config({invalidClass:t("invalid"),notify:{onValidate:e=>{Nc(e,iL,{type:o})},onValid:e=>{Nc(e,aL,{type:o,value:wh.getValue(e)})},onInvalid:e=>{Nc(e,cL,{type:o,value:wh.getValue(e)})}},validator:{validate:t=>{const o=wh.getValue(t);const s=n(o)?us.value(true):us.error(e("aria.input.invalid"));return pA.pure(s)},validateOnLoad:false}});const r=(o,n,r,a,c)=>{const i=e(lL+"range");const l=RN.parts.label({dom:{tag:"label",attributes:{"aria-label":a}},components:[$l(r)]});const d=RN.parts.field({data:c,factory:cz,inputAttributes:{type:"text",...n==="hex"?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:Iu([s(n,o),IN.config({})]),onSetValue:e=>{if(mM.isInvalid(e)){const t=mM.run(e);t.get(v)}}});const u=[l,d];const f=n!=="hex"?[RN.parts["aria-descriptor"]({text:i})]:[];const m=u.concat(f);return{dom:{tag:"div",attributes:{role:"presentation"}},components:m}};const a=(e,t)=>{const o=lO(t);rL.getField(e,"hex").each((t=>{if(!Cw.isFocused(t)){wh.setValue(e,{hex:o.value})}}));return o};const c=(e,t)=>{const o=t.red;const n=t.green;const s=t.blue;wh.setValue(e,{red:o,green:n,blue:s})};const i=q_({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}});const l=(e,t)=>{i.getOpt(e).each((e=>{uo(e.element,"background-color","#"+t.value)}))};const d=()=>{const s={red:ma(N.some(255)),green:ma(N.some(255)),blue:ma(N.some(255)),hex:ma(N.some("ffffff"))};const d=(e,t)=>{const o=bO(t);c(e,o);g(o)};const u=e=>s[e].get();const f=(e,t)=>{s[e].set(t)};const m=()=>u("red").bind((e=>u("green").bind((t=>u("blue").map((o=>pO(e,t,o,1)))))));const g=e=>{const t=e.red;const o=e.green;const n=e.blue;f("red",N.some(t));f("green",N.some(o));f("blue",N.some(n))};const p=(e,t)=>{const o=t.event;if(o.type!=="hex"){f(o.type,N.none())}else{n(e)}};const h=(e,t)=>{o(e);const n=eO(t);f("hex",N.some(n.value));const s=bO(n);c(e,s);g(s);Nc(e,KB,{hex:n});l(e,n)};const y=(e,t,o)=>{const n=parseInt(o,10);f(t,N.some(n));m().each((t=>{const o=a(e,t);Nc(e,KB,{hex:o});l(e,o)}))};const b=e=>e.type==="hex";const v=(e,t)=>{const o=t.event;if(b(o)){h(e,o.value)}else{y(e,o.type,o.value)}};const k=t=>({label:e(lL+t+".label"),description:e(lL+t+".description")});const w=k("red");const _=k("green");const x=k("blue");const C=k("hex");return Ds(rL.sketch((o=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[o.field("red",RN.sketch(r(hO,"red",w.label,w.description,255))),o.field("green",RN.sketch(r(hO,"green",_.label,_.description,255))),o.field("blue",RN.sketch(r(hO,"blue",x.label,x.description,255))),o.field("hex",RN.sketch(r(nO,"hex",C.label,C.description,"ffffff"))),i.asSpec()],formBehaviours:Iu([mM.config({invalidClass:t("form-invalid")}),pw("rgb-form-events",[jc(aL,v),jc(cL,p),jc(iL,p)])])}))),{apis:{updateHex:(e,t)=>{wh.setValue(e,{hex:t.value});d(e,t);l(e,t)}}})};const u=My({factory:d,name:"RgbForm",configFields:[],apis:{updateHex:(e,t,o)=>{e.updateHex(t,o)}},extraApis:{}});return u};const uL=(e,t)=>{const o=GB.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}});const n=GB.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}});const s=(e,t)=>{const{width:o,height:n}=e;const s=e.getContext("2d");if(s===null){return}s.fillStyle=t;s.fillRect(0,0,o,n);const r=s.createLinearGradient(0,0,o,0);r.addColorStop(0,"rgba(255,255,255,1)");r.addColorStop(1,"rgba(255,255,255,0)");s.fillStyle=r;s.fillRect(0,0,o,n);const a=s.createLinearGradient(0,0,0,n);a.addColorStop(0,"rgba(0,0,0,0)");a.addColorStop(1,"rgba(0,0,0,1)");s.fillStyle=a;s.fillRect(0,0,o,n)};const r=(e,t)=>{const o=e.components()[0].element.dom;const n=qO(t,100,100);const r=yO(n);s(o,wO(r))};const a=(e,t)=>{const o=WO(bO(t));GB.setValue(e,{x:o.saturation,y:100-o.value})};const c=e=>{const r=x({x:0,y:0});const a=(e,t,o)=>{Nc(e,XB,{value:o})};const c=(e,t,o,n)=>{s(o.element.dom,wO(_O))};const i=Iu([Py.config({find:N.some}),Cw.config({})]);return GB.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:r},rounded:false,components:[o,n],onChange:a,onInit:c,sliderBehaviours:i})};const i=My({factory:c,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,o)=>{r(t,o)},setThumb:(e,t,o)=>{a(t,o)}},extraApis:{}});return i};const fL=(e,t)=>{const o=o=>{const n=dL(e,t,o.onValidHex,o.onInvalidHex);const s=uL(e,t);const r=e=>(100-e)/100*360;const a=e=>100-e/360*100;const c={paletteRgba:ma(_O),paletteHue:ma(0)};const i=q_(JB(e,t));const l=q_(s.sketch({}));const d=q_(n.sketch({}));const u=(e,t,o)=>{l.getOpt(e).each((e=>{s.setHue(e,o)}))};const f=(e,t)=>{d.getOpt(e).each((e=>{n.updateHex(e,t)}))};const m=(e,t,o)=>{i.getOpt(e).each((e=>{GB.setValue(e,a(o))}))};const g=(e,t)=>{l.getOpt(e).each((e=>{s.setThumb(e,t)}))};const p=(e,t)=>{const o=bO(e);c.paletteRgba.set(o);c.paletteHue.set(t)};const h=(e,t,o,n)=>{p(t,o);Z(n,(n=>{n(e,t,o)}))};const y=()=>{const e=[f];return(t,o)=>{const n=o.event.value;const s=c.paletteHue.get();const r=qO(s,n.x,100-n.y);const a=GO(r);h(t,a,s,e)}};const b=()=>{const e=[u,f];return(t,o)=>{const n=r(o.event.value);const s=c.paletteRgba.get();const a=WO(s);const i=qO(n,a.saturation,a.value);const l=GO(i);h(t,l,n,e)}};const v=()=>{const e=[u,m,g];return(t,o)=>{const n=o.event.hex;const s=$O(n);h(t,n,s.hue,e)}};return{uid:o.uid,dom:o.dom,components:[l.asSpec(),i.asSpec(),d.asSpec()],behaviours:Iu([pw("colour-picker-events",[jc(KB,v()),jc(XB,y()),jc(YB,b())]),Py.config({find:e=>d.getOpt(e)}),Qk.config({mode:"acyclic"})])}};const n=My({name:"ColourPicker",configFields:[Hr("dom"),na("onValidHex",v),na("onInvalidHex",v)],factory:o});return n};const mL=()=>Py.config({find:N.some});const gL=e=>Py.config({find:e.getOpt});const pL=e=>Py.config({find:t=>Ht(t.element,e).bind((e=>t.getSystem().getByDom(e).toOptional()))});const hL={self:mL,memento:gL,childAt:pL};const yL=ir([na("preprocess",C),na("postprocess",C)]);const bL=(e,t)=>{const o=Dr("RepresentingConfigs.memento processors",yL,t);return wh.config({store:{mode:"manual",getValue:t=>{const n=e.get(t);const s=wh.getValue(n);return o.postprocess(s)},setValue:(t,n)=>{const s=o.preprocess(n);const r=e.get(t);wh.setValue(r,s)}}})};const vL=(e,t,o)=>wh.config({store:{mode:"manual",...e.map((e=>({initialValue:e}))).getOr({}),getValue:t,setValue:o}});const kL=(e,t,o)=>vL(e,(e=>t(e.element)),((e,t)=>o(e.element,t)));const wL=e=>kL(e,ni,si);const _L=e=>wh.config({store:{mode:"memory",initialValue:e}});const xL={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};const CL=e=>t=>e.translate(xL[t]);const SL=(e,t,o)=>{const n=e=>"tox-"+e;const s=fL(CL(t),n);const r=e=>{Nc(e,KN,{name:"hex-valid",value:true})};const a=e=>{Nc(e,KN,{name:"hex-valid",value:false})};const c=q_(s.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:r,onInvalidHex:a}));return{dom:{tag:"div"},components:[c.asSpec()],behaviours:Iu([vL(o,(e=>{const t=c.get(e);const o=Py.getCurrent(t);const n=o.bind((e=>{const t=wh.getValue(e);return t.hex}));return n.map((e=>"#"+He(e,"#"))).getOr("")}),((e,t)=>{const o=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;const n=N.from(o.exec(t)).bind((e=>ae(e,1)));const s=c.get(e);const r=Py.getCurrent(s);r.fold((()=>{console.log("Can not find form")}),(e=>{wh.setValue(e,{hex:n.getOr("")});rL.getField(e,"hex").each((e=>{Ac(e,Ya())}))}))})),hL.self()])}};var zL=tinymce.util.Tools.resolve("tinymce.Resource");const EL=e=>Ce(e,"init");const TL=e=>{const t=Ef();const o=q_({dom:{tag:e.tag}});const n=Ef();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Iu([pw("custom-editor-events",[Jc((s=>{o.getOpt(s).each((o=>{(EL(e)?e.init(o.element.dom):zL.load(e.scriptId,e.scriptUrl).then((t=>t(o.element.dom,e.settings)))).then((e=>{n.on((t=>{e.setValue(t)}));n.clear();t.set(e)}))}))}))]),vL(N.none(),(()=>t.get().fold((()=>n.get().getOr("")),(e=>e.getValue()))),((e,o)=>{t.get().fold((()=>n.set(o)),(e=>e.setValue(o)))})),hL.self()]),components:[o.asSpec()]}};var OL=tinymce.util.Tools.resolve("tinymce.util.Tools");const DL=(e,t)=>{const o=OL.explode(t.getOption("images_file_types"));const n=e=>P(o,(t=>Ve(e.name.toLowerCase(),`.${t.toLowerCase()}`)));return W(le(e),n)};const AL=(e,t,o)=>{const n=(e,t)=>{t.stop()};const s=e=>(t,o)=>{Z(e,(e=>{e(t,o)}))};const r=(e,t)=>{var o;if(!sb.isDisabled(e)){const n=t.event.raw;c(e,(o=n.dataTransfer)===null||o===void 0?void 0:o.files)}};const a=(e,t)=>{const o=t.event.raw.target;c(e,o.files)};const c=(o,n)=>{if(n){wh.setValue(o,DL(n,t));Nc(o,WN,{name:e.name})}};const i=q_({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Iu([pw("input-file-events",[Kc(Ja()),Kc(uc())])])});const l=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Iu([_L(o.getOr([])),hL.self(),sb.config({}),Zw.config({toggleClass:"dragenter",toggleOnExecute:false}),pw("dropzone-events",[jc("dragenter",s([n,Zw.toggle])),jc("dragleave",s([n,Zw.toggle])),jc("dragover",n),jc("drop",s([n,r])),jc(Xa(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[$l(t.translate("Drop an image here"))]},V_.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[$l(t.translate("Browse for an image")),i.asSpec()],action:e=>{const t=i.get(e);t.element.dom.click()},buttonBehaviours:Iu([IN.config({}),_T.button(t.isDisabled),yT()])})]}]});const d=e.label.map((e=>qN(e,t)));const u=RN.parts.field({factory:{sketch:l}});return FN(d,u,["tox-form__group--stretched"],[])};const NL=(e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:j(e.items,t.interpreter)});const ML=(e,t)=>{let o=null;let n=null;const s=()=>{if(!u(o)){clearTimeout(o);o=null;n=null}};const r=(...s)=>{n=s;if(u(o)){o=setTimeout((()=>{const t=n;o=null;n=null;e.apply(null,t)}),t)}};return{cancel:s,throttle:r}};const RL=(e,t)=>{let o=null;const n=()=>{if(!u(o)){clearTimeout(o);o=null}};const s=(...n)=>{if(u(o)){o=setTimeout((()=>{o=null;e.apply(null,n)}),t)}};return{cancel:n,throttle:s}};const BL=(e,t)=>{let o=null;const n=()=>{if(!u(o)){clearTimeout(o);o=null}};const s=(...s)=>{n();o=setTimeout((()=>{o=null;e.apply(null,s)}),t)};return{cancel:n,throttle:s}};const LL=gi("alloy-fake-before-tabstop");const HL=gi("alloy-fake-after-tabstop");const IL=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Iu([Cw.config({ignore:true}),IN.config({})])});const PL=(e,t)=>({dom:{tag:"div",classes:["tox-navobj",...e.getOr([])]},components:[IL([LL]),t,IL([HL])],behaviours:Iu([hL.childAt(1)])});const FL=(e,t)=>{Nc(e,Ga(),{raw:{which:9,shiftKey:t}})};const VL=(e,t)=>{const o=t.element;if(vl(o,LL)){FL(e,true)}else if(vl(o,HL)){FL(e,false)}};const jL=e=>sN(e,["."+LL,"."+HL].join(","),D);const ZL=gi("update-dialog");const UL=gi("update-title");const qL=gi("update-body");const WL=gi("update-footer");const $L=gi("body-send-message");const GL=gi("dialog-focus-shifted");const KL=Sn().browser;const YL=KL.isSafari();const XL=KL.isFirefox();const JL=YL||XL;const QL=KL.isChromium();const eH=({scrollTop:e,scrollHeight:t,clientHeight:o})=>Math.ceil(e)+o>=t;const tH=(e,t)=>e.scrollTo(0,t==="bottom"?99999999:t);const oH=(e,t)=>{const o=e.body;return N.from(!/^<!DOCTYPE (html|HTML)/.test(t)&&(!QL&&!YL||p(o)&&(o.scrollTop!==0||Math.abs(o.scrollHeight-o.clientHeight)>1))?o:e.documentElement)};const nH=(e,t,o)=>{const n=e.dom;N.from(n.contentDocument).fold(o,(e=>{let o=0;const s=oH(e,t).map((e=>{o=e.scrollTop;return e})).forall(eH);const r=()=>{const e=n.contentWindow;if(p(e)){if(s){tH(e,"bottom")}else if(!s&&JL&&o!==0){tH(e,o)}}};if(YL){n.addEventListener("load",r,{once:true})}e.open();e.write(t);e.close();if(!YL){r()}}))};const sH=Me(JL,YL?500:200);const rH=sH.map((e=>ML(nH,e)));const aH=(e,t)=>{const o=ma(e.getOr(""));return{getValue:e=>o.get(),setValue:(e,n)=>{if(o.get()!==n){const o=e.element;const s=()=>to(o,"srcdoc",n);if(t){rH.fold(x(nH),(e=>e.throttle))(o,n,s)}else{s()}}o.set(n)}}};const cH=(e,t,o)=>{const n="tox-dialog__iframe";const s=e.transparent?[]:[`${n}--opaque`];const r=e.border?[`tox-navobj-bordered`]:[];const a={...e.label.map((e=>({title:e}))).getOr({}),...o.map((e=>({srcdoc:e}))).getOr({}),...e.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}};const c=aH(o,e.streamContent);const i=e.label.map((e=>qN(e,t)));const l=e=>PL(N.from(r),{uid:e.uid,dom:{tag:"iframe",attributes:a,classes:[n,...s]},behaviours:Iu([IN.config({}),Cw.config({}),vL(o,c.getValue,c.setValue),Uu.config({channels:{[GL]:{onReceive:(e,t)=>{t.newFocus.each((t=>{Nt(e.element).each((o=>{const n=Ct(e.element,t)?hl:bl;n(o,"tox-navobj-bordered-focus")}))}))}}}})])});const d=RN.parts.field({factory:{sketch:l}});return FN(i,d,["tox-form__group--stretched"],[])};const iH=e=>new Promise(((t,o)=>{const n=()=>{r();t(e)};const s=[Of(e,"load",n),Of(e,"error",(()=>{r();o("Unable to load data from image: "+e.dom.src)}))];const r=()=>Z(s,(e=>e.unbind()));if(e.dom.complete){n()}}));const lH=(e,t,o,n,s)=>{const r=o*s;const a=n*s;const c=Math.max(0,e/2-r/2);const i=Math.max(0,t/2-a/2);return{left:c.toString()+"px",top:i.toString()+"px",width:r.toString()+"px",height:a.toString()+"px"}};const dH=(e,t,o)=>{const n=Ro(e);const s=xo(e);return Math.min(n/t,s/o,1)};const uH=(e,t)=>{const o=ma(t.getOr({url:""}));const n=q_({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map((e=>({src:e.url}))).getOr({})}});const s=q_({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[n.asSpec()]});const r=(e,t)=>{const r={url:t.url};t.zoom.each((e=>r.zoom=e));t.cachedWidth.each((e=>r.cachedWidth=e));t.cachedHeight.each((e=>r.cachedHeight=e));o.set(r);const a=()=>{const{cachedWidth:t,cachedHeight:o,zoom:n}=r;if(!m(t)&&!m(o)){if(m(n)){const n=dH(e.element,t,o);r.zoom=n}const a=lH(Ro(e.element),xo(e.element),t,o,r.zoom);s.getOpt(e).each((e=>{fo(e.element,a)}))}};n.getOpt(e).each((o=>{const n=o.element;if(t.url!==no(n,"src")){to(n,"src",t.url);bl(e.element,"tox-imagepreview__loaded")}a();iH(n).then((t=>{if(e.getSystem().isConnected()){hl(e.element,"tox-imagepreview__loaded");r.cachedWidth=t.dom.naturalWidth;r.cachedHeight=t.dom.naturalHeight;a()}}))}))};const a={};e.height.each((e=>a.height=e));const c=t.map((e=>({url:e.url,zoom:N.from(e.zoom),cachedWidth:N.from(e.cachedWidth),cachedHeight:N.from(e.cachedHeight)})));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:a,attributes:{role:"presentation"}},components:[s.asSpec()],behaviours:Iu([hL.self(),vL(c,(()=>o.get()),r)])}};const fH=(e,t)=>{const o="tox-label";const n=e.align==="center"?[`${o}--center`]:[];const s=e.align==="end"?[`${o}--end`]:[];const r={dom:{tag:"label",classes:[o,...n,...s]},components:[$l(t.providers.translate(e.label))]};const a=j(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[r,...a],behaviours:Iu([hL.self(),mw.config({}),wL(N.none()),Qk.config({mode:"acyclic"})])}};const mH=gi("toolbar.button.execute");const gH=e=>ti(((t,o)=>{xT(e,t)((o=>{Nc(t,mH,{buttonApi:o});e.onAction(o)}))}));const pH=gi("common-button-display-events");const hH={[lc()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[kc()]:["toolbar-button-events",pH],[Va()]:["focusing","alloy.base.behaviour",pH]};const yH=e=>uo(e.element,"width",go(e.element,"width"));const bH=(e,t,o)=>lC(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},t);const vH=(e,t)=>bH(e,t,[]);const kH=(e,t)=>bH(e,t,[mw.config({})]);const wH=(e,t,o)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[$l(o.translate(e))],behaviours:Iu([mw.config({})])});const _H=gi("update-menu-text");const xH=gi("update-menu-icon");const CH=(e,t,o)=>{const n=ma(v);const s=e.text.map((e=>q_(wH(e,t,o.providers))));const r=e.icon.map((e=>q_(kH(e,o.providers.icons))));const a=(e,t)=>{const o=wh.getValue(e);Cw.focus(o);Nc(o,"keydown",{raw:t.event.raw});MA.close(o);return N.some(true)};const c=e.role.fold((()=>({})),(e=>({role:e})));const i=e.tooltip.fold((()=>({})),(e=>{const t=o.providers.translate(e);return{title:t,"aria-label":t}}));const l=lC("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},o.providers.icons);const d=gi("common-button-display-events");const u=q_(MA.sketch({...e.uid?{uid:e.uid}:{},...c,dom:{tag:"button",classes:[t,`${t}--select`].concat(j(e.classes,(e=>`${t}--${e}`))),attributes:{...i}},components:TT([r.map((e=>e.asSpec())),s.map((e=>e.asSpec())),N.some(l)]),matchWidth:true,useMinWidth:true,onOpen:(t,o,n)=>{if(e.searchable){VA(n)}},dropdownBehaviours:Iu([...e.dropdownBehaviours,_T.button((()=>e.disabled||o.providers.isDisabled())),yT(),yM.config({}),mw.config({}),pw("dropdown-events",[CT(e,n),ST(e,n)]),pw(d,[Jc(((e,t)=>yH(e)))]),pw("menubutton-update-display-text",[jc(_H,((e,t)=>{s.bind((t=>t.getOpt(e))).each((e=>{mw.set(e,[$l(o.providers.translate(t.event.text))])}))})),jc(xH,((e,t)=>{r.bind((t=>t.getOpt(e))).each((e=>{mw.set(e,[kH(t.event.icon,o.providers.icons)])}))}))])]),eventOrder:Ds(hH,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[kc()]:["toolbar-button-events","dropdown-events",d]}),sandboxBehaviours:Iu([Qk.config({mode:"special",onLeft:a,onRight:a}),pw("dropdown-sandbox-events",[jc(iz,((e,t)=>{BA(e);t.stop()})),jc(lz,((e,t)=>{LA(e,t);t.stop()}))])]),lazySink:o.getSink,toggleClass:`${t}--active`,parts:{menu:{...tz(false,e.columns,e.presets),fakeFocus:e.searchable,onHighlightItem:PA,onCollapseMenu:(e,t,o)=>{Cb.getHighlighted(o).each((t=>{PA(e,o,t)}))},onDehighlightItem:FA}},getAnchorOverrides:()=>({maxHeightFunction:(e,t)=>{Kf()(e,t-10)}}),fetch:t=>pA.nu(z(e.fetch,t))}));return u.asSpec()};const SH=e=>c(e);const zH=e=>e.type==="separator";const EH=e=>Ce(e,"getSubmenuItems");const TH={type:"separator"};const OH=(e,t)=>{const o=G(e,((e,o)=>{if(SH(o)){if(o===""){return e}else if(o==="|"){return e.length>0&&!zH(e[e.length-1])?e.concat([TH]):e}else if(Ce(t,o.toLowerCase())){return e.concat([t[o.toLowerCase()]])}else{return e}}else{return e.concat([o])}}),[]);if(o.length>0&&zH(o[o.length-1])){o.pop()}return o};const DH=(e,t)=>{const o=e.getSubmenuItems();const n=NH(o,t);const s=Ds(n.menus,{[e.value]:n.items});const r=Ds(n.expansions,{[e.value]:e.value});return{item:e,menus:s,expansions:r}};const AH=e=>{const t=xe(e,"value").getOrThunk((()=>gi("generated-menu-item")));return Ds({value:t},e)};const NH=(e,t)=>{const o=OH(c(e)?e.split(" "):e,t);return $(o,((e,o)=>{if(EH(o)){const n=AH(o);const s=DH(n,t);return{menus:Ds(e.menus,s.menus),items:[s.item,...e.items],expansions:Ds(e.expansions,s.expansions)}}else{return{...e,items:[o,...e.items]}}}),{menus:{},expansions:{},items:[]})};const MH=e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-field",placeholder:e.placeholder})));const RH=e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-results"})));const BH=(e,t,o,n)=>{const s=gi("primary-menu");const r=NH(e,o.shared.providers.menuItems());if(r.items.length===0){return N.none()}const a=MH(n);const c=WA(s,r.items,t,o,n.isHorizontalMenu,a);const i=RH(n);const l=ge(r.menus,((e,n)=>WA(n,e,t,o,false,i)));const d=Ds(l,wa(s,c));return N.from(B_.tieredData(s,d,r.expansions))};const LH=e=>!Ce(e,"items");const HH="data-value";const IH=(e,t,o,n)=>j(o,(o=>{if(!LH(o)){return{type:"nestedmenuitem",text:o.text,getSubmenuItems:()=>IH(e,t,o.items,n)}}else{return{type:"togglemenuitem",text:o.text,value:o.value,active:o.value===n,onAction:()=>{wh.setValue(e,o.value);Nc(e,WN,{name:t});Cw.focus(e)}}}}));const PH=(e,t)=>de(e,(e=>{if(!LH(e)){return PH(e.items,t)}else{return Me(e.value===t,e)}}));const FH=(e,t,o)=>{const n=t.shared.providers;const s=o.bind((t=>PH(e.items,t))).orThunk((()=>ce(e.items).filter(LH)));const r=e.label.map((e=>qN(e,n)));const a=RN.parts.field({dom:{},factory:{sketch:o=>CH({uid:o.uid,text:s.map((e=>e.text)),icon:N.none(),tooltip:e.label,role:N.none(),fetch:(o,n)=>{const s=IH(o,e.name,e.items,wh.getValue(o));n(BH(s,TS.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:false,search:N.none()}))},onSetup:x(v),getApi:x({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[IN.config({}),vL(s.map((e=>e.value)),(e=>no(e.element,HH)),((t,o)=>{PH(e.items,o).each((e=>{to(t.element,HH,e.value);Nc(t,_H,{text:e.text})}))}))]},"tox-listbox",t.shared)}});const c={dom:{tag:"div",classes:["tox-listboxfield"]},components:[a]};return RN.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:J([r.toArray(),[c]]),fieldBehaviours:Iu([sb.config({disabled:x(!e.enabled),onDisabled:e=>{RN.getField(e).each(sb.disable)},onEnabled:e=>{RN.getField(e).each(sb.enable)}})])})};const VH=(e,t)=>({dom:{tag:"div",classes:e.classes},components:j(e.items,t.shared.interpreter)});const jH=(e,t)=>{const o=j(e.options,(e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}})));const n=e.data.map((e=>wa("initialValue",e))).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:o,behaviours:Ch(e.selectBehaviours,[Cw.config({}),wh.config({store:{mode:"manual",getValue:e=>Sl(e.element),setValue:(t,o)=>{const n=ce(e.options);const s=Y(e.options,(e=>e.value===o));if(s.isSome()){zl(t.element,o)}else if(t.element.dom.selectedIndex===-1&&o===""){n.each((e=>zl(t.element,e.value)))}},...n}})])}};const ZH=My({name:"HtmlSelect",configFields:[Hr("options"),_h("selectBehaviours",[Cw,wh]),na("selectClasses",[]),na("selectAttributes",{}),Gr("data")],factory:jH});const UH=(e,t,o)=>{const n=j(e.items,(e=>({text:t.translate(e.text),value:e.value})));const s=e.label.map((e=>qN(e,t)));const r=RN.parts.field({dom:{},...o.map((e=>({data:e}))).getOr({}),selectAttributes:{size:e.size},options:n,factory:ZH,selectBehaviours:Iu([sb.config({disabled:()=>!e.enabled||t.isDisabled()}),IN.config({}),pw("selectbox-change",[jc(Xa(),((t,o)=>{Nc(t,WN,{name:e.name})}))])])});const a=e.size>1?N.none():N.some(lC("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons));const c={dom:{tag:"div",classes:["tox-selectfield"]},components:J([[r],a.toArray()])};return RN.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:J([s.toArray(),[c]]),fieldBehaviours:Iu([sb.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{RN.getField(e).each(sb.disable)},onEnabled:e=>{RN.getField(e).each(sb.enable)}}),yT()])})};const qH=x([na("field1Name","field1"),na("field2Name","field2"),Bd("onLockedChange"),Ad(["lockClass"]),na("locked",false),Sh.field("coupledFieldBehaviours",[Py,wh])]);const WH=(e,t,o)=>py(e,t,o).bind(Py.getCurrent);const $H=(e,t)=>ey({factory:RN,name:e,overrides:e=>({fieldBehaviours:Iu([pw("coupled-input-behaviour",[jc(Ya(),(o=>{WH(o,e,t).each((t=>{py(o,e,"lock").each((n=>{if(Zw.isOn(n)){e.onLockedChange(o,t,n)}}))}))}))])])})});const GH=x([$H("field1","field2"),$H("field2","field1"),ey({factory:V_,schema:[Hr("dom")],name:"lock",overrides:e=>({buttonBehaviours:Iu([Zw.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]);const KH=(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Sh.augment(e.coupledFieldBehaviours,[Py.config({find:N.some}),wh.config({store:{mode:"manual",getValue:t=>{const o=ky(t,e,["field1","field2"]);return{[e.field1Name]:wh.getValue(o.field1()),[e.field2Name]:wh.getValue(o.field2())}},setValue:(t,o)=>{const n=ky(t,e,["field1","field2"]);if(Se(o,e.field1Name)){wh.setValue(n.field1(),o[e.field1Name])}if(Se(o,e.field2Name)){wh.setValue(n.field2(),o[e.field2Name])}}}})]),apis:{getField1:t=>py(t,e,"field1"),getField2:t=>py(t,e,"field2"),getLock:t=>py(t,e,"lock")}});const YH=Ry({name:"FormCoupledInputs",configFields:qH(),partFields:GH(),factory:KH,apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}});const XH=e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};const o=e=>e in t?t[e]:1;let n=e.value.toFixed(o(e.unit));if(n.indexOf(".")!==-1){n=n.replace(/\.?0*$/,"")}return n+e.unit};const JH=e=>{const t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/;const o=t.exec(e);if(o!==null){const e=parseFloat(o[1]);const t=o[2];return us.value({value:e,unit:t})}else{return us.error(e)}};const QH=(e,t)=>{const o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1};const n=e=>Ce(o,e);if(e.unit===t){return N.some(e.value)}else if(n(e.unit)&&n(t)){if(o[e.unit]===o[t]){return N.some(e.value)}else{return N.some(e.value/o[e.unit]*o[t])}}else{return N.none()}};const eI=e=>N.none();const tI=(e,t)=>o=>QH(o,t).map((o=>({value:o*e,unit:t})));const oI=(e,t)=>{const o=JH(e).toOptional();const n=JH(t).toOptional();return De(o,n,((e,t)=>QH(e,t.unit).map((e=>t.value/e)).map((e=>tI(e,t.unit))).getOr(eI))).getOr(eI)};const nI=(e,t)=>{let o=eI;const n=gi("ratio-event");const s=e=>lC(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons);const r=YH.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[s("lock"),s("unlock")],buttonBehaviours:Iu([sb.config({disabled:()=>!e.enabled||t.isDisabled()}),yT(),IN.config({})])});const a=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e});const c=o=>RN.parts.field({factory:cz,inputClasses:["tox-textfield"],inputBehaviours:Iu([sb.config({disabled:()=>!e.enabled||t.isDisabled()}),yT(),IN.config({}),pw("size-input-events",[jc(Wa(),((e,t)=>{Nc(e,n,{isField1:o})})),jc(Xa(),((t,o)=>{Nc(t,WN,{name:e.name})}))])]),selectOnFocus:false});const i=e=>({dom:{tag:"label",classes:["tox-label"]},components:[$l(t.translate(e))]});const l=YH.parts.field1(a([RN.parts.label(i("Width")),c(true)]));const d=YH.parts.field2(a([RN.parts.label(i("Height")),c(false)]));return YH.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[l,d,a([i(Dm),r])]}],field1Name:"width",field2Name:"height",locked:true,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,n)=>{JH(wh.getValue(e)).each((e=>{o(e).each((e=>{wh.setValue(t,XH(e))}))}))},coupledFieldBehaviours:Iu([sb.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{YH.getField1(e).bind(RN.getField).each(sb.disable);YH.getField2(e).bind(RN.getField).each(sb.disable);YH.getLock(e).each(sb.disable)},onEnabled:e=>{YH.getField1(e).bind(RN.getField).each(sb.enable);YH.getField2(e).bind(RN.getField).each(sb.enable);YH.getLock(e).each(sb.enable)}}),yT(),pw("size-input-events2",[jc(n,((e,t)=>{const n=t.event.isField1;const s=n?YH.getField1(e):YH.getField2(e);const r=n?YH.getField2(e):YH.getField1(e);const a=s.map(wh.getValue).getOr("");const c=r.map(wh.getValue).getOr("");o=oI(a,c)}))])])})};const sI=(e,t,o)=>{const n=GB.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$l(t.translate(e.label))]});const s=GB.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}});const r=GB.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return GB.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:x(o.getOrThunk((()=>(Math.abs(e.max)-Math.abs(e.min))/2)))},components:[n,s,r],sliderBehaviours:Iu([hL.self(),Cw.config({})]),onChoose:(t,o,n)=>{Nc(t,WN,{name:e.name,value:n})}})};const rI=(e,t)=>{const o=e=>({dom:{tag:"th",innerHtml:t.translate(e)}});const n=e=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:j(e,o)}]});const s=e=>({dom:{tag:"td",innerHtml:t.translate(e)}});const r=e=>({dom:{tag:"tr"},components:j(e,s)});const a=e=>({dom:{tag:"tbody"},components:j(e,r)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[n(e.header),a(e.cells)],behaviours:Iu([IN.config({}),Cw.config({})])}};const aI=(e,t)=>{const o=e.label.map((e=>qN(e,t)));const n=[sb.config({disabled:()=>e.disabled||t.isDisabled()}),yT(),Qk.config({mode:"execution",useEnter:e.multiline!==true,useControlEnter:e.multiline===true,execute:e=>{Ac(e,YN);return N.some(true)}}),pw("textfield-change",[jc(Ya(),((t,o)=>{Nc(t,WN,{name:e.name})})),jc(cc(),((t,o)=>{Nc(t,WN,{name:e.name})}))]),IN.config({})];const s=e.validation.map((e=>mM.config({getRoot:e=>Nt(e.element),invalidClass:"tox-invalid",validator:{validate:t=>{const o=wh.getValue(t);const n=e.validator(o);return pA.pure(n===true?us.value(o):us.error(n))},validateOnLoad:e.validateOnLoad}}))).toArray();const r=e.placeholder.fold(x({}),(e=>({placeholder:t.translate(e)})));const a=e.inputMode.fold(x({}),(e=>({inputmode:e})));const c={...r,...a};const i=RN.parts.field({tag:e.multiline===true?"textarea":"input",...e.data.map((e=>({data:e}))).getOr({}),inputAttributes:c,inputClasses:[e.classname],inputBehaviours:Iu(J([n,s])),selectOnFocus:false,factory:cz});const l=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[i]}:i;const d=e.flex?["tox-form__group--stretched"]:[];const u=d.concat(e.maximized?["tox-form-group--maximize"]:[]);const f=[sb.config({disabled:()=>e.disabled||t.isDisabled(),onDisabled:e=>{RN.getField(e).each(sb.disable)},onEnabled:e=>{RN.getField(e).each(sb.enable)}}),yT()];return FN(o,l,u,f)};const cI=(e,t,o)=>aI({name:e.name,multiline:false,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:false,disabled:!e.enabled,classname:"tox-textfield",validation:N.none(),maximized:e.maximized,data:o},t);const iI=(e,t,o)=>aI({name:e.name,multiline:true,label:e.label,inputMode:N.none(),placeholder:e.placeholder,flex:true,disabled:!e.enabled,classname:"tox-textarea",validation:N.none(),maximized:e.maximized,data:o},t);const lI=(e,t)=>t.getAnimationRoot.fold((()=>e.element),(t=>t(e)));const dI=e=>e.dimension.property;const uI=(e,t)=>e.dimension.getDimension(t);const fI=(e,t)=>{const o=lI(e,t);wl(o,[t.shrinkingClass,t.growingClass])};const mI=(e,t)=>{bl(e.element,t.openClass);hl(e.element,t.closedClass);uo(e.element,dI(t),"0px");ko(e.element)};const gI=(e,t)=>{bl(e.element,t.closedClass);hl(e.element,t.openClass);vo(e.element,dI(t))};const pI=(e,t,o,n)=>{o.setCollapsed();uo(e.element,dI(t),uI(t,e.element));fI(e,t);mI(e,t);t.onStartShrink(e);t.onShrunk(e)};const hI=(e,t,o,n)=>{const s=n.getOrThunk((()=>uI(t,e.element)));o.setCollapsed();uo(e.element,dI(t),s);ko(e.element);const r=lI(e,t);bl(r,t.growingClass);hl(r,t.shrinkingClass);mI(e,t);t.onStartShrink(e)};const yI=(e,t,o)=>{const n=uI(t,e.element);const s=n==="0px"?pI:hI;s(e,t,o,N.some(n))};const bI=(e,t,o)=>{const n=lI(e,t);const s=vl(n,t.shrinkingClass);const r=uI(t,e.element);gI(e,t);const a=uI(t,e.element);const c=()=>{uo(e.element,dI(t),r);ko(e.element)};const i=()=>{mI(e,t)};const l=s?c:i;l();bl(n,t.shrinkingClass);hl(n,t.growingClass);gI(e,t);uo(e.element,dI(t),a);o.setExpanded();t.onStartGrow(e)};const vI=(e,t,o)=>{if(o.isExpanded()){vo(e.element,dI(t));const o=uI(t,e.element);uo(e.element,dI(t),o)}};const kI=(e,t,o)=>{if(!o.isExpanded()){bI(e,t,o)}};const wI=(e,t,o)=>{if(o.isExpanded()){yI(e,t,o)}};const _I=(e,t,o)=>{if(o.isExpanded()){pI(e,t,o)}};const xI=(e,t,o)=>o.isExpanded();const CI=(e,t,o)=>o.isCollapsed();const SI=(e,t,o)=>{const n=lI(e,t);return vl(n,t.growingClass)===true};const zI=(e,t,o)=>{const n=lI(e,t);return vl(n,t.shrinkingClass)===true};const EI=(e,t,o)=>SI(e,t)||zI(e,t);const TI=(e,t,o)=>{const n=o.isExpanded()?yI:bI;n(e,t,o)};const OI=(e,t,o)=>{if(!o.isExpanded()){gI(e,t);uo(e.element,dI(t),uI(t,e.element));fI(e,t);o.setExpanded();t.onStartGrow(e);t.onGrown(e)}};var DI=Object.freeze({__proto__:null,refresh:vI,grow:kI,shrink:wI,immediateShrink:_I,hasGrown:xI,hasShrunk:CI,isGrowing:SI,isShrinking:zI,isTransitioning:EI,toggleGrow:TI,disableTransitions:fI,immediateGrow:OI});const AI=(e,t,o)=>{const n=t.expanded;return n?Vi({classes:[t.openClass],styles:{}}):Vi({classes:[t.closedClass],styles:wa(t.dimension.property,"0px")})};const NI=(e,t)=>Ic([Xc(ec(),((o,n)=>{const s=n.event.raw;if(s.propertyName===e.dimension.property){fI(o,e);if(t.isExpanded()){vo(o.element,e.dimension.property)}const n=t.isExpanded()?e.onGrown:e.onShrunk;n(o)}}))]);var MI=Object.freeze({__proto__:null,exhibit:AI,events:NI});var RI=[Hr("closedClass"),Hr("openClass"),Hr("shrinkingClass"),Hr("growingClass"),Gr("getAnimationRoot"),Md("onShrunk"),Md("onStartShrink"),Md("onGrown"),Md("onStartGrow"),na("expanded",false),Ir("dimension",Nr("property",{width:[Hd("property","width"),Hd("getDimension",(e=>Ro(e)+"px"))],height:[Hd("property","height"),Hd("getDimension",(e=>xo(e)+"px"))]}))];const BI=e=>{const t=ma(e.expanded);const o=()=>"expanded: "+t.get();return Li({isExpanded:()=>t.get()===true,isCollapsed:()=>t.get()===false,setCollapsed:z(t.set,false),setExpanded:z(t.set,true),readState:o})};var LI=Object.freeze({__proto__:null,init:BI});const HI=Fu({fields:RI,name:"sliding",active:MI,apis:DI,state:LI});const II=e=>({isEnabled:()=>!sb.isDisabled(e),setEnabled:t=>sb.set(e,!t),setActive:t=>{const o=e.element;if(t){hl(o,"tox-tbtn--enabled");to(o,"aria-pressed",true)}else{bl(o,"tox-tbtn--enabled");ao(o,"aria-pressed")}},isActive:()=>vl(e.element,"tox-tbtn--enabled"),setText:t=>{Nc(e,_H,{text:t})},setIcon:t=>Nc(e,xH,{icon:t})});const PI=(e,t,o,n,s=true)=>CH({text:e.text,icon:e.icon,tooltip:e.tooltip,searchable:e.search.isSome(),role:n,fetch:(t,n)=>{const s={pattern:e.search.isSome()?jA(t):""};e.fetch((t=>{n(BH(t,TS.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:false,search:e.search}))}),s,II(t))},onSetup:e.onSetup,getApi:II,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...s?[IN.config({})]:[]]},t,o.shared);const FI=(e,t,o)=>{const n=e=>n=>{const s=!n.isActive();n.setActive(s);e.storage.set(s);o.shared.getSink().each((o=>{t().getOpt(o).each((t=>{$u(t.element);Nc(t,KN,{name:e.name,value:e.storage.get()})}))}))};const s=e=>t=>{t.setActive(e.storage.get())};return t=>{t(j(e,(e=>{const t=e.text.fold((()=>({})),(e=>({text:e})));return{type:e.type,active:false,...t,onAction:n(e),onSetup:s(e)}})))}};const VI=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:e,"aria-label":e}},components:[$l(e)]});const jI=gi("leaf-label-event-id");const ZI=({leaf:e,onLeafAction:t,visible:o,treeId:n,selectedId:s,backstage:r})=>{const a=e.menu.map((e=>PI(e,"tox-mbtn",r,N.none(),o)));const c=[VI(e.title)];a.each((e=>c.push(e)));return V_.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(o?["tox-tree--leaf__label--visible"]:[])},components:c,role:"treeitem",action:o=>{t(e.id);o.getSystem().broadcastOn([`update-active-item-${n}`],{value:e.id})},eventOrder:{[Ga()]:[jI,"keying"]},buttonBehaviours:Iu([...o?[IN.config({})]:[],Zw.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:false,aria:{mode:"selected"}}),Uu.config({channels:{[`update-active-item-${n}`]:{onReceive:(t,o)=>{(o.value===e.id?Zw.on:Zw.off)(t)}}}}),pw(jI,[Jc(((t,o)=>{s.each((o=>{const n=o===e.id?Zw.on:Zw.off;n(t)}))})),jc(Ga(),((e,t)=>{const o=t.event.raw.code==="ArrowLeft";const n=t.event.raw.code==="ArrowRight";if(o){ad(e.element,".tox-tree--directory").each((t=>{e.getSystem().getByDom(t).each((e=>{cd(t,".tox-tree--directory__label").each((t=>{e.getSystem().getByDom(t).each(Cw.focus)}))}))}));t.stop()}else if(n){t.stop()}}))])])})};const UI=(e,t,o)=>lC(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:o},t);const qI=(e,t)=>UI(e,t,[]);const WI=gi("directory-label-event-id");const $I=({directory:e,visible:t,noChildren:o,backstage:n})=>{const s=e.menu.map((e=>PI(e,"tox-mbtn",n,N.none())));const r=[{dom:{tag:"div",classes:["tox-chevron"]},components:[qI("chevron-right",n.shared.providers.icons)]},VI(e.title)];s.each((e=>{r.push(e)}));const a=t=>{ad(t.element,".tox-tree--directory").each((o=>{t.getSystem().getByDom(o).each((o=>{const n=!Zw.isOn(o);Zw.toggle(o);Nc(t,"expand-tree-node",{expanded:n,node:e.id})}))}))};return V_.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(t?["tox-tree--directory__label--visible"]:[])},components:r,action:a,eventOrder:{[Ga()]:[WI,"keying"]},buttonBehaviours:Iu([...t?[IN.config({})]:[],pw(WI,[jc(Ga(),((e,t)=>{const n=t.event.raw.code==="ArrowRight";const s=t.event.raw.code==="ArrowLeft";if(n&&o){t.stop()}if(n||s){ad(e.element,".tox-tree--directory").each((o=>{e.getSystem().getByDom(o).each((o=>{if(!Zw.isOn(o)&&n||Zw.isOn(o)&&s){a(e);t.stop()}else if(s&&!Zw.isOn(o)){ad(o.element,".tox-tree--directory").each((e=>{cd(e,".tox-tree--directory__label").each((e=>{o.getSystem().getByDom(e).each(Cw.focus)}))}));t.stop()}}))}))}}))])])})};const GI=({children:e,onLeafAction:t,visible:o,treeId:n,expandedIds:s,selectedId:r,backstage:a})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map((e=>e.type==="leaf"?ZI({leaf:e,selectedId:r,onLeafAction:t,visible:o,treeId:n,backstage:a}):YI({directory:e,expandedIds:s,selectedId:r,onLeafAction:t,labelTabstopping:o,treeId:n,backstage:a}))),behaviours:Iu([HI.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:o}),mw.config({})])});const KI=gi("directory-event-id");const YI=({directory:e,onLeafAction:t,labelTabstopping:o,treeId:n,backstage:s,expandedIds:r,selectedId:a})=>{const{children:c}=e;const i=ma(r);const l=e=>c.map((o=>o.type==="leaf"?ZI({leaf:o,selectedId:a,onLeafAction:t,visible:e,treeId:n,backstage:s}):YI({directory:o,expandedIds:i.get(),selectedId:a,onLeafAction:t,labelTabstopping:e,treeId:n,backstage:s})));const d=r.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[$I({directory:e,visible:o,noChildren:e.children.length===0,backstage:s}),GI({children:c,expandedIds:r,selectedId:a,onLeafAction:t,visible:d,treeId:n,backstage:s})],behaviours:Iu([pw(KI,[Jc(((e,t)=>{Zw.set(e,d)})),jc("expand-tree-node",((e,t)=>{const{expanded:o,node:n}=t.event;i.set(o?[...i.get(),n]:i.get().filter((e=>e!==n)))}))]),Zw.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(e,t)=>{const o=e.components()[1];const n=l(t);if(t){HI.grow(o)}else{HI.shrink(o)}mw.set(o,n)}})])}};const XI=gi("tree-event-id");const JI=(e,t)=>{const o=e.onLeafAction.getOr(v);const n=e.onToggleExpand.getOr(v);const s=e.defaultExpandedIds;const r=ma(s);const a=ma(e.defaultSelectedId);const c=gi("tree-id");const i=(n,s)=>e.items.map((e=>e.type==="leaf"?ZI({leaf:e,selectedId:n,onLeafAction:o,visible:true,treeId:c,backstage:t}):YI({directory:e,selectedId:n,onLeafAction:o,expandedIds:s,labelTabstopping:true,treeId:c,backstage:t})));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:i(a.get(),r.get()),behaviours:Iu([Qk.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:false}),pw(XI,[jc("expand-tree-node",((e,t)=>{const{expanded:o,node:s}=t.event;r.set(o?[...r.get(),s]:r.get().filter((e=>e!==s)));n(r.get(),{expanded:o,node:s})}))]),Uu.config({channels:{[`update-active-item-${c}`]:{onReceive:(e,t)=>{a.set(N.some(t.value));mw.set(e,i(N.some(t.value),r.get()))}}}}),mw.config({})])}};const QI=(e,t)=>{const o=e.stream.streams;const n=o.setup(e,t);return Ic([jc(e.event,n),Qc((()=>t.cancel()))].concat(e.cancelEvent.map((e=>[jc(e,(()=>t.cancel()))])).getOr([])))};var eP=Object.freeze({__proto__:null,events:QI});const tP=e=>{const t=ma(null);const o=()=>({timer:t.get()!==null?"set":"unset"});const n=e=>{t.set(e)};const s=()=>{const e=t.get();if(e!==null){e.cancel()}};return Li({readState:o,setTimer:n,cancel:s})};const oP=e=>e.stream.streams.state(e);var nP=Object.freeze({__proto__:null,throttle:tP,init:oP});const sP=(e,t)=>{const o=e.stream;const n=BL(e.onStream,o.delay);t.setTimer(n);return(e,t)=>{n.throttle(e,t);if(o.stopEvent){t.stop()}}};var rP=[Ir("stream",Nr("mode",{throttle:[Hr("delay"),na("stopEvent",true),Hd("streams",{setup:sP,state:tP})]})),na("event","input"),Gr("cancelEvent"),Bd("onStream")];const aP=Fu({fields:rP,name:"streaming",active:eP,state:nP});const cP=(e,t,o)=>{const n=wh.getValue(o);wh.setValue(t,n);lP(t)};const iP=(e,t)=>{const o=e.element;const n=Sl(o);const s=o.dom;if(no(o,"type")!=="number"){t(s,n)}};const lP=e=>{iP(e,((e,t)=>e.setSelectionRange(t.length,t.length)))};const dP=(e,t)=>{iP(e,((e,o)=>e.setSelectionRange(t,o.length)))};const uP=(e,t,o)=>{if(!e.selectsOver){return N.none()}else{const n=wh.getValue(t);const s=e.getDisplayText(n);const r=wh.getValue(o);const a=e.getDisplayText(r);return a.indexOf(s)===0?N.some((()=>{cP(e,t,o);dP(t,s.length)})):N.none()}};const fP=x("alloy.typeahead.itemexecute");const mP=(e,t,o,n)=>{const s=(t,o,s)=>{e.previewing.set(false);const r=cA.getCoupled(t,"sandbox");if(Pp.isOpen(r)){Py.getCurrent(r).each((e=>{Cb.getHighlighted(e).fold((()=>{s(e)}),(()=>{Hc(r,e.element,"keydown",o)}))}))}else{const o=e=>{Py.getCurrent(e).each(s)};wA(e,a(t),t,r,n,o,O_.HighlightMenuAndItem).get(v)}};const r=nz(e);const a=e=>t=>t.map((t=>{const o=_e(t.menus);const n=Q(o,(e=>W(e.items,(e=>e.type==="item"))));const s=wh.getState(e);s.update(j(n,(e=>e.data)));return t}));const c=e=>Py.getCurrent(e);const i="typeaheadevents";const l=[Cw.config({}),wh.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:e=>Sl(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,o)=>{zl(t.element,e.model.getDisplayText(o))},...e.initialData.map((e=>wa("initialValue",e))).getOr({})}}),aP.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:false},onStream:(t,o)=>{const s=cA.getCoupled(t,"sandbox");const r=Cw.isFocused(t);if(r){if(Sl(t.element).length>=e.minChars){const o=c(s).bind((e=>Cb.getHighlighted(e).map(wh.getValue)));e.previewing.set(true);const r=t=>{c(s).each((t=>{o.fold((()=>{if(e.model.selectsOver){Cb.highlightFirst(t)}}),(e=>{Cb.highlightBy(t,(t=>{const o=wh.getValue(t);return o.value===e.value}));Cb.getHighlighted(t).orThunk((()=>{Cb.highlightFirst(t);return N.none()}))}))}))};wA(e,a(t),t,s,n,r,O_.HighlightJustMenu).get(v)}}},cancelEvent:gc()}),Qk.config({mode:"special",onDown:(e,t)=>{s(e,t,Cb.highlightFirst);return N.some(true)},onEscape:e=>{const t=cA.getCoupled(e,"sandbox");if(Pp.isOpen(t)){Pp.close(t);return N.some(true)}return N.none()},onUp:(e,t)=>{s(e,t,Cb.highlightLast);return N.some(true)},onEnter:t=>{const o=cA.getCoupled(t,"sandbox");const n=Pp.isOpen(o);if(n&&!e.previewing.get()){return c(o).bind((e=>Cb.getHighlighted(e))).map((e=>{Nc(t,fP(),{item:e});return true}))}else{const s=wh.getValue(t);Ac(t,gc());e.onExecute(o,t,s);if(n){Pp.close(o)}return N.some(true)}}}),Zw.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),cA.config({others:{sandbox:t=>EA(e,t,{onOpen:()=>Zw.on(t),onClose:()=>{e.lazyTypeaheadComp.get().each((e=>ao(e.element,"aria-activedescendant")));Zw.off(t)}})}}),pw(i,[Jc((t=>{e.lazyTypeaheadComp.set(N.some(t))})),Qc((t=>{e.lazyTypeaheadComp.set(N.none())})),ti((t=>{const o=v;xA(e,a(t),t,n,o,O_.HighlightMenuAndItem).get(v)})),jc(fP(),((t,o)=>{const n=cA.getCoupled(t,"sandbox");cP(e.model,t,o.event.item);Ac(t,gc());e.onItemExecute(t,n,o.event.item,wh.getValue(t));Pp.close(n);lP(t)}))].concat(e.dismissOnBlur?[jc(ac(),(e=>{const t=cA.getCoupled(e,"sandbox");if(Xu(t.element).isNone()){Pp.close(t)}}))]:[]))];const d={[wc()]:[wh.name(),aP.name(),i],...e.eventOrder};return{uid:e.uid,dom:rz(Ds(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...r,...Ch(e.typeaheadBehaviours,l)},eventOrder:d}};const gP=x([Gr("lazySink"),Hr("fetch"),na("minChars",5),na("responseTime",1e3),Md("onOpen"),na("getHotspot",N.some),na("getAnchorOverrides",x({})),na("layouts",N.none()),na("eventOrder",{}),fa("model",{},[na("getDisplayText",(e=>e.meta!==undefined&&e.meta.text!==undefined?e.meta.text:e.value)),na("selectsOver",true),na("populateFromBrowse",true)]),Md("onSetValue"),Rd("onExecute"),Md("onItemExecute"),na("inputClasses",[]),na("inputAttributes",{}),na("inputStyles",{}),na("matchWidth",true),na("useMinWidth",false),na("dismissOnBlur",true),Ad(["openClass"]),Gr("initialData"),_h("typeaheadBehaviours",[Cw,wh,aP,Qk,Zw,cA]),Br("lazyTypeaheadComp",(()=>ma(N.none))),Br("previewing",(()=>ma(true)))].concat(oz()).concat(OA()));const pP=x([ty({schema:[Dd()],name:"menu",overrides:e=>({fakeFocus:true,onHighlightItem:(t,o,n)=>{if(!e.previewing.get()){e.lazyTypeaheadComp.get().each((t=>{if(e.model.populateFromBrowse){cP(e.model,t,n)}so(n.element,"id").each((e=>to(t.element,"aria-activedescendant",e)))}))}else{e.lazyTypeaheadComp.get().each((t=>{uP(e.model,t,n).fold((()=>{if(e.model.selectsOver){Cb.dehighlight(o,n);e.previewing.set(true)}else{e.previewing.set(false)}}),(t=>{t();e.previewing.set(false)}))}))}},onExecute:(t,o)=>e.lazyTypeaheadComp.get().map((e=>{Nc(e,fP(),{item:o});return true})),onHover:(t,o)=>{e.previewing.set(false);e.lazyTypeaheadComp.get().each((t=>{if(e.model.populateFromBrowse){cP(e.model,t,o)}}))}})})]);const hP=Ry({name:"Typeahead",configFields:gP(),partFields:pP(),factory:mP});const yP=e=>{const t=()=>yP(e.toCached());const o=t=>yP(e.bind((e=>e.fold((e=>pA.pure(us.error(e))),(e=>t(e))))));const n=t=>yP(e.map((e=>e.bind(t))));const s=t=>yP(e.map((e=>e.map(t))));const r=t=>yP(e.map((e=>e.mapError(t))));const a=(t,o)=>e.map((e=>e.fold(t,o)));const c=(t,o)=>yP(pA.nu((n=>{let s=false;const r=setTimeout((()=>{s=true;n(us.error(o()))}),t);e.get((e=>{if(!s){clearTimeout(r);n(e)}}))})));return{...e,toCached:t,bindFuture:o,bindResult:n,mapResult:s,mapError:r,foldResult:a,withTimeout:c}};const bP=e=>yP(pA.nu(e));const vP=e=>yP(pA.pure(us.value(e)));const kP=e=>yP(pA.pure(us.error(e)));const wP=e=>yP(pA.pure(e));const _P=e=>yP(e.map(us.value));const xP=e=>bP((t=>{e.then((e=>{t(us.value(e))}),(e=>{t(us.error(e))}))}));const CP={nu:bP,wrap:yP,pure:vP,value:vP,error:kP,fromResult:wP,fromFuture:_P,fromPromise:xP};const SP=(e,t,o=[],n,s,r)=>{const a=t.fold((()=>({})),(e=>({action:e})));const c={buttonBehaviours:Iu([_T.button((()=>!e.enabled||r.isDisabled())),yT(),IN.config({}),pw("button press",[Vc("click"),Vc("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...a};const i=Ds(c,{dom:n});return Ds(i,{components:s})};const zP=(e,t,o,n=[])=>{const s=e.tooltip.map((e=>({"aria-label":o.translate(e),title:o.translate(e)}))).getOr({});const r={tag:"button",classes:["tox-tbtn"],attributes:s};const a=e.icon.map((e=>vH(e,o.icons)));const c=TT([a]);return SP(e,t,n,r,c,o)};const EP=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}};const TP=(e,t,o,n=[],s=[])=>{const r=o.translate(e.text);const a=e.icon.map((e=>vH(e,o.icons)));const c=[a.getOrThunk((()=>$l(r)))];const i=e.buttonType.getOr(!e.primary&&!e.borderless?"secondary":"primary");const l=EP(i);const d=[...l,...a.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...s];const u={tag:"button",classes:d,attributes:{title:r}};return SP(e,t,n,u,c,o)};const OP=(e,t,o,n=[],s=[])=>{const r=TP(e,N.some(t),o,n,s);return V_.sketch(r)};const DP=(e,t)=>o=>{if(t==="custom"){Nc(o,KN,{name:e,value:{}})}else if(t==="submit"){Ac(o,YN)}else if(t==="cancel"){Ac(o,GN)}else{console.error("Unknown button type: ",t)}};const AP=(e,t)=>t==="menu";const NP=(e,t)=>t==="custom"||t==="cancel"||t==="submit";const MP=(e,t)=>t==="togglebutton";const RP=(e,t)=>{var o,n;const s=e.icon.map((e=>kH(e,t.icons))).map(q_);const r=o=>{Nc(o,KN,{name:e.name,value:{setIcon:e=>{s.map((n=>n.getOpt(o).each((o=>{mw.set(o,[kH(e,t.icons)])}))))}}})};const a=e.buttonType.getOr(!e.primary?"secondary":"primary");const c={...e,name:(o=e.name)!==null&&o!==void 0?o:"",primary:a==="primary",tooltip:N.from(e.tooltip),enabled:(n=e.enabled)!==null&&n!==void 0?n:false,borderless:false};const i=c.tooltip.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({});const l=EP(a!==null&&a!==void 0?a:"secondary");const d=e.icon.isSome()&&e.text.isSome();const u={tag:"button",classes:[...l.concat(e.icon.isSome()?["tox-button--icon"]:[]),...e.active?["tox-button--enabled"]:[],...d?["tox-button--icon-and-text"]:[]],attributes:i};const f=[];const m=t.translate(e.text.getOr(""));const g=$l(m);const p=TT([s.map((e=>e.asSpec()))]);const h=[...p,...e.text.isSome()?[g]:[]];const y=SP(c,N.some(r),f,u,h,t);return V_.sketch(y)};const BP=(e,t,o)=>{if(AP(e,t)){const t=()=>r;const n=e;const s={...e,type:"menubutton",search:N.none(),onSetup:t=>{t.setEnabled(e.enabled);return v},fetch:FI(n.items,t,o)};const r=q_(PI(s,"tox-tbtn",o,N.none()));return r.asSpec()}else if(NP(e,t)){const n=DP(e.name,t);const s={...e,borderless:false};return OP(s,n,o.shared.providers,[])}else if(MP(e,t)){return RP(e,o.shared.providers)}else{console.error("Unknown footer button type: ",t);throw new Error("Unknown footer button type")}};const LP=(e,t)=>{const o=DP(e.name,"custom");return VN(N.none(),RN.parts.field({factory:V_,...TP(e,N.some(o),t,[_L(""),hL.self()])}))};const HP={type:"separator"};const IP=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:v});const PP=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:undefined},onAction:v});const FP=e=>j(e,IP);const VP=(e,t)=>W(t,(t=>t.type===e));const jP=(e,t)=>FP(VP(e,t));const ZP=e=>jP("header",e.targets);const UP=e=>jP("anchor",e.targets);const qP=e=>N.from(e.anchorTop).map((e=>PP("<top>",e))).toArray();const WP=e=>N.from(e.anchorBottom).map((e=>PP("<bottom>",e))).toArray();const $P=e=>j(e,(e=>PP(e,e)));const GP=e=>G(e,((e,t)=>{const o=e.length===0||t.length===0;return o?e.concat(t):e.concat(HP,t)}),[]);const KP=(e,t)=>{const o=e.toLowerCase();return W(t,(e=>{var t;const n=e.meta!==undefined&&e.meta.text!==undefined?e.meta.text:e.text;const s=(t=e.value)!==null&&t!==void 0?t:"";return Pe(n.toLowerCase(),o)||Pe(s.toLowerCase(),o)}))};const YP=(e,t,o)=>{var n,s;const r=wh.getValue(t);const a=(s=(n=r===null||r===void 0?void 0:r.meta)===null||n===void 0?void 0:n.text)!==null&&s!==void 0?s:r.value;const c=o.getLinkInformation();return c.fold((()=>[]),(t=>{const n=KP(a,$P(o.getHistory(e)));return e==="file"?GP([n,KP(a,ZP(t)),KP(a,J([qP(t),UP(t),WP(t)]))]):n}))};const XP=gi("aria-invalid");const JP=(e,t,o,n)=>{const s=t.shared.providers;const r=t=>{const n=wh.getValue(t);o.addToHistory(n.value,e.filetype)};const a={...n.map((e=>({initialData:e}))).getOr({}),dismissOnBlur:true,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":XP,type:"url"},minChars:0,responseTime:0,fetch:n=>{const s=YP(e.filetype,n,o);const r=BH(s,TS.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:false,search:N.none()});return pA.pure(r)},getHotspot:e=>g.getOpt(e),onSetValue:(e,t)=>{if(e.hasConfigured(mM)){mM.run(e).get(v)}},typeaheadBehaviours:Iu([...o.getValidationHandler().map((t=>mM.config({getRoot:e=>Nt(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{d.getOpt(e).each((e=>{to(e.element,"title",s.translate(t))}))}},validator:{validate:o=>{const n=wh.getValue(o);return CP.nu((o=>{t({type:e.filetype,url:n.value},(e=>{if(e.status==="invalid"){const t=us.error(e.message);o(t)}else{const t=us.value(e.message);o(t)}}))}))},validateOnLoad:false}}))).toArray(),sb.config({disabled:()=>!e.enabled||s.isDisabled()}),IN.config({}),pw("urlinput-events",[jc(Ya(),(t=>{const o=Sl(t.element);const n=o.trim();if(n!==o){zl(t.element,n)}if(e.filetype==="file"){Nc(t,WN,{name:e.name})}})),jc(Xa(),(t=>{Nc(t,WN,{name:e.name});r(t)})),jc(cc(),(t=>{Nc(t,WN,{name:e.name});r(t)}))])]),eventOrder:{[Ya()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:false,populateFromBrowse:false},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:tz(false,1,"normal")},onExecute:(e,t,o)=>{Nc(t,YN,{})},onItemExecute:(t,o,n,s)=>{r(t);Nc(t,WN,{name:e.name})}};const c=RN.parts.field({...a,factory:hP});const i=e.label.map((e=>qN(e,s)));const l=(e,t,o=e,n=e)=>lC(o,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:s.translate(n),"aria-live":"polite",...t.fold((()=>({})),(e=>({id:e})))}},s.icons);const d=q_(l("invalid",N.some(XP),"warning"));const u=q_({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[d.asSpec()]});const f=o.getUrlPicker(e.filetype);const m=gi("browser.url.event");const g=q_({dom:{tag:"div",classes:["tox-control-wrap"]},components:[c,u.asSpec()],behaviours:Iu([sb.config({disabled:()=>!e.enabled||s.isDisabled()})])});const p=q_(OP({name:e.name,icon:N.some("browse"),text:e.label.getOr(""),enabled:e.enabled,primary:false,buttonType:N.none(),borderless:true},(e=>Ac(e,m)),s,[],["tox-browse-url"]));const h=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:J([[g.asSpec()],f.map((()=>p.asSpec())).toArray()])});const y=t=>{Py.getCurrent(t).each((o=>{const n=wh.getValue(o);const s={fieldname:e.name,...n};f.each((n=>{n(s).get((n=>{wh.setValue(o,n);Nc(t,WN,{name:e.name})}))}))}))};return RN.sketch({dom:ZN(),components:i.toArray().concat([h()]),fieldBehaviours:Iu([sb.config({disabled:()=>!e.enabled||s.isDisabled(),onDisabled:e=>{RN.getField(e).each(sb.disable);p.getOpt(e).each(sb.disable)},onEnabled:e=>{RN.getField(e).each(sb.enable);p.getOpt(e).each(sb.enable)}}),yT(),pw("url-input-events",[jc(m,y)])])})};const QP=(e,t)=>{const o=sC(e.icon,t.icons);return TN.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:!e.url?o:undefined},components:e.url?[V_.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:o,attributes:{title:t.translate(e.iconTooltip)}},action:t=>Nc(t,KN,{name:"alert-banner",value:e.url}),buttonBehaviours:Iu([cC()])})]:undefined},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})};const eF=(e,t)=>{e.dom.checked=t};const tF=e=>e.dom.checked;const oF=(e,t,o)=>{const n=e=>{e.element.dom.click();return N.some(true)};const s=RN.parts.field({factory:{sketch:C},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Iu([hL.self(),sb.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{Nt(e.element).each((e=>hl(e,"tox-checkbox--disabled")))},onEnabled:e=>{Nt(e.element).each((e=>bl(e,"tox-checkbox--disabled")))}}),IN.config({}),Cw.config({}),kL(o,tF,eF),Qk.config({mode:"special",onEnter:n,onSpace:n,stopSpaceKeyup:true}),pw("checkbox-events",[jc(Xa(),((t,o)=>{Nc(t,WN,{name:e.name})}))])])});const r=RN.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[$l(t.translate(e.label))],behaviours:Iu([yM.config({})])});const a=e=>{const o=e==="checked"?"selected":"unselected";return lC(o,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons)};const c=q_({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return RN.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[s,c.asSpec(),r],fieldBehaviours:Iu([sb.config({disabled:()=>!e.enabled||t.isDisabled()}),yT()])})};const nF=e=>{if(e.presets==="presentation"){return TN.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}})}else{return TN.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Iu([IN.config({}),Cw.config({})])})}};const sF=e=>(t,o,n,s)=>xe(o,"name").fold((()=>e(o,s,N.none())),(r=>t.field(r,e(o,s,xe(n,r)))));const rF=e=>(t,o,n,s)=>{const r=Ds(o,{source:"dynamic"});return sF(e)(t,r,n,s)};const aF={bar:sF(((e,t)=>DN(e,t.shared))),collection:sF(((e,t,o)=>tM(e,t.shared.providers,o))),alertbanner:sF(((e,t)=>QP(e,t.shared.providers))),input:sF(((e,t,o)=>cI(e,t.shared.providers,o))),textarea:sF(((e,t,o)=>iI(e,t.shared.providers,o))),label:sF(((e,t)=>fH(e,t.shared))),iframe:rF(((e,t,o)=>cH(e,t.shared.providers,o))),button:sF(((e,t)=>LP(e,t.shared.providers))),checkbox:sF(((e,t,o)=>oF(e,t.shared.providers,o))),colorinput:sF(((e,t,o)=>_M(e,t.shared,t.colorinput,o))),colorpicker:sF(((e,t,o)=>SL(e,t.shared.providers,o))),dropzone:sF(((e,t,o)=>AL(e,t.shared.providers,o))),grid:sF(((e,t)=>NL(e,t.shared))),listbox:sF(((e,t,o)=>FH(e,t,o))),selectbox:sF(((e,t,o)=>UH(e,t.shared.providers,o))),sizeinput:sF(((e,t)=>nI(e,t.shared.providers))),slider:sF(((e,t,o)=>sI(e,t.shared.providers,o))),urlinput:sF(((e,t,o)=>JP(e,t,t.urlinput,o))),customeditor:sF(TL),htmlpanel:sF(nF),imagepreview:sF(((e,t,o)=>uH(e,o))),table:sF(((e,t)=>rI(e,t.shared.providers))),tree:sF(((e,t)=>JI(e,t))),panel:sF(((e,t)=>VH(e,t)))};const cF={field:(e,t)=>t,record:x([])};const iF=(e,t,o,n)=>{const s=Ds(n,{shared:{interpreter:t=>lF(e,t,o,s)}});return lF(e,t,o,s)};const lF=(e,t,o,n)=>xe(aF,t.type).fold((()=>{console.error(`Unknown factory type "${t.type}", defaulting to container: `,t);return t}),(s=>s(e,t,o,n)));const dF=(e,t,o)=>lF(cF,e,t,o);const uF="layout-inset";const fF=e=>e.x;const mF=(e,t)=>e.x+e.width/2-t.width/2;const gF=(e,t)=>e.x+e.width-t.width;const pF=e=>e.y;const hF=(e,t)=>e.y+e.height-t.height;const yF=(e,t)=>e.y+e.height/2-t.height/2;const bF=(e,t,o)=>Fd(gF(e,t),hF(e,t),o.insetSouthwest(),Gd(),"southwest",ou(e,{right:0,bottom:3}),uF);const vF=(e,t,o)=>Fd(fF(e),hF(e,t),o.insetSoutheast(),$d(),"southeast",ou(e,{left:1,bottom:3}),uF);const kF=(e,t,o)=>Fd(gF(e,t),pF(e),o.insetNorthwest(),Wd(),"northwest",ou(e,{right:0,top:2}),uF);const wF=(e,t,o)=>Fd(fF(e),pF(e),o.insetNortheast(),qd(),"northeast",ou(e,{left:1,top:2}),uF);const _F=(e,t,o)=>Fd(mF(e,t),pF(e),o.insetNorth(),Kd(),"north",ou(e,{top:2}),uF);const xF=(e,t,o)=>Fd(mF(e,t),hF(e,t),o.insetSouth(),Yd(),"south",ou(e,{bottom:3}),uF);const CF=(e,t,o)=>Fd(gF(e,t),yF(e,t),o.insetEast(),Jd(),"east",ou(e,{right:0}),uF);const SF=(e,t,o)=>Fd(fF(e),yF(e,t),o.insetWest(),Xd(),"west",ou(e,{left:1}),uF);const zF=e=>{switch(e){case"north":return _F;case"northeast":return wF;case"northwest":return kF;case"south":return xF;case"southeast":return vF;case"southwest":return bF;case"east":return CF;case"west":return SF}};const EF=(e,t,o,n,s)=>{const r=hf(n).map(zF).getOr(_F);return r(e,t,o,n,s)};const TF=e=>{switch(e){case"north":return xF;case"northeast":return vF;case"northwest":return bF;case"south":return _F;case"southeast":return wF;case"southwest":return kF;case"east":return SF;case"west":return CF}};const OF=(e,t,o,n,s)=>{const r=hf(n).map(TF).getOr(_F);return r(e,t,o,n,s)};const DF={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]};const AF=(e,t,o)=>{const n=12;const s={maxHeightFunction:Yf()};const r=()=>({type:"node",root:qt(Ut(e())),node:N.from(e()),bubble:tm(n,n,DF),layouts:{onRtl:()=>[wF],onLtr:()=>[kF]},overrides:s});const a=()=>({type:"hotspot",hotspot:t(),bubble:tm(-n,n,DF),layouts:{onRtl:()=>[mu,gu,bu],onLtr:()=>[gu,mu,bu]},overrides:s});return()=>o()?r():a()};const NF=(e,t,o,n)=>{const s=12;const r={maxHeightFunction:Yf()};const a=()=>({type:"node",root:qt(Ut(t())),node:N.from(t()),bubble:tm(s,s,DF),layouts:{onRtl:()=>[_F],onLtr:()=>[_F]},overrides:r});const c=()=>e?{type:"node",root:qt(Ut(t())),node:N.from(t()),bubble:tm(0,-Co(t()),DF),layouts:{onRtl:()=>[yu],onLtr:()=>[yu]},overrides:r}:{type:"hotspot",hotspot:o(),bubble:tm(0,0,DF),layouts:{onRtl:()=>[yu],onLtr:()=>[yu]},overrides:r};return()=>n()?a():c()};const MF=(e,t,o)=>{const n=()=>({type:"node",root:qt(Ut(e())),node:N.from(e()),layouts:{onRtl:()=>[_F],onLtr:()=>[_F]}});const s=()=>({type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[bu],onLtr:()=>[bu]}});return()=>o()?n():s()};const RF=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const t=e.selection.getRng();const o=e.model.table.getSelectedCells();if(o.length>1){const e=o[0];const t=o[o.length-1];const n={firstCell:Je.fromDom(e),lastCell:Je.fromDom(t)};return N.some(n)}return N.some(Gm.range(Je.fromDom(t.startContainer),t.startOffset,Je.fromDom(t.endContainer),t.endOffset))}});const BF=e=>t=>({type:"node",root:e(),node:t});const LF=(e,t,o,n)=>{const s=pS(e);const r=()=>Je.fromDom(e.getBody());const a=()=>Je.fromDom(e.getContentAreaContainer());const c=()=>s||!n();return{inlineDialog:AF(a,t,c),inlineBottomDialog:NF(e.inline,a,o,c),banner:MF(a,t,c),cursor:RF(e,r),node:BF(r)}};const HF=e=>(t,o)=>{const n=SD(e);n(t,o)};const IF=e=>()=>cD(e);const PF=e=>t=>nD(e,t);const FF=e=>t=>aD(e,t);const VF=e=>({colorPicker:HF(e),hasCustomColors:IF(e),getColors:PF(e),getColorCols:FF(e)});const jF=e=>()=>XC(e);const ZF=e=>({isDraggableModal:jF(e)});const UF=e=>{const t=ma(mS(e)?"bottom":"top");return{isPositionedAtTop:()=>t.get()==="top",getDockingMode:t.get,setDockingMode:t.set}};const qF=e=>Se(e,"items");const WF=e=>Se(e,"format");const $F=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}];const GF=e=>Ce(e,"items");const KF=e=>Ce(e,"block");const YF=e=>Ce(e,"inline");const XF=e=>Ce(e,"selector");const JF=e=>G(e,((e,t)=>{if(GF(t)){const o=JF(t.items);return{customFormats:e.customFormats.concat(o.customFormats),formats:e.formats.concat([{title:t.title,items:o.formats}])}}else if(YF(t)||KF(t)||XF(t)){const o=c(t.name)?t.name:t.title.toLowerCase();const n=`custom-${o}`;return{customFormats:e.customFormats.concat([{name:n,format:t}]),formats:e.formats.concat([{title:t.title,format:n,icon:t.icon}])}}else{return{...e,formats:e.formats.concat(t)}}}),{customFormats:[],formats:[]});const QF=(e,t)=>{const o=JF(t);const n=t=>{Z(t,(t=>{if(!e.formatter.has(t.name)){e.formatter.register(t.name,t.format)}}))};if(e.formatter){n(o.customFormats)}else{e.on("init",(()=>{n(o.customFormats)}))}return o.formats};const eV=e=>DC(e).map((t=>{const o=QF(e,t);return AC(e)?$F.concat(o):o})).getOr($F);const tV=e=>{const t=ue(e);return t.length===1&&I(t,"title")};const oV=(e,t,o)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:o(e.format)});const nV=(e,t,o,n)=>{const s=e=>oV(e,o,n);const r=e=>{const t=i(e.items);return{...e,type:"submenu",getStyleItems:x(t)}};const a=t=>{const s=c(t.name)?t.name:gi(t.title);const r=`custom-${s}`;const a={...t,type:"formatter",format:r,isSelected:o(r),getStylePreview:n(r)};e.formatter.register(s,a);return a};const i=e=>j(e,(e=>{if(qF(e)){return r(e)}else if(WF(e)){return s(e)}else if(tV(e)){return{...e,type:"separator"}}else{return a(e)}}));return i(t)};const sV=e=>{const t=t=>()=>e.formatter.match(t);const o=t=>()=>{const o=e.formatter.get(t);return o!==undefined?N.some({tag:o.length>0?o[0].inline||o[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):N.none()};const n=ma([]);const s=ma([]);const r=ma(false);e.on("PreInit",(s=>{const r=eV(e);const a=nV(e,r,t,o);n.set(a)}));e.on("addStyleModifications",(n=>{const a=nV(e,n.items,t,o);s.set(a);r.set(n.replace)}));const a=()=>{const e=r.get()?[]:n.get();const t=s.get();return e.concat(t)};return{getData:a}};const rV=e=>p(e)&&e.nodeType===1;const aV=OL.trim;const cV=e=>t=>{if(rV(t)){if(t.contentEditable===e){return true}if(t.getAttribute("data-mce-contenteditable")===e){return true}}return false};const iV=cV("true");const lV=cV("false");const dV=(e,t,o,n,s)=>({type:e,title:t,url:o,level:n,attach:s});const uV=e=>{let t=e;while(t=t.parentNode){const e=t.contentEditable;if(e&&e!=="inherit"){return iV(t)}}return false};const fV=(e,t)=>j(lg(Je.fromDom(t),e),(e=>e.dom));const mV=e=>e.innerText||e.textContent;const gV=e=>e.id?e.id:gi("h");const pV=e=>e&&e.nodeName==="A"&&(e.id||e.name)!==undefined;const hV=e=>pV(e)&&bV(e);const yV=e=>e&&/^(H[1-6])$/.test(e.nodeName);const bV=e=>uV(e)&&!lV(e);const vV=e=>yV(e)&&bV(e);const kV=e=>yV(e)?parseInt(e.nodeName.substr(1),10):0;const wV=e=>{var t;const o=gV(e);const n=()=>{e.id=o};return dV("header",(t=mV(e))!==null&&t!==void 0?t:"","#"+o,kV(e),n)};const _V=e=>{const t=e.id||e.name;const o=mV(e);return dV("anchor",o?o:"#"+t,"#"+t,0,v)};const xV=e=>j(W(e,vV),wV);const CV=e=>j(W(e,hV),_V);const SV=e=>{const t=fV("h1,h2,h3,h4,h5,h6,a:not([href])",e);return t};const zV=e=>aV(e.title).length>0;const EV=e=>{const t=SV(e);return W(xV(t).concat(CV(t)),zV)};const TV={find:EV};const OV="tinymce-url-history";const DV=5;const AV=e=>c(e)&&/^https?/.test(e);const NV=e=>d(e)&&e.length<=DV&&ee(e,AV);const MV=e=>i(e)&&we(e,(e=>!NV(e))).isNone();const RV=()=>{const e=PO.getItem(OV);if(e===null){return{}}let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError){console.log("Local storage "+OV+" was not valid JSON",e);return{}}throw e}if(!MV(t)){console.log("Local storage "+OV+" was not valid format",t);return{}}return t};const BV=e=>{if(!MV(e)){throw new Error("Bad format for history:\n"+JSON.stringify(e))}PO.setItem(OV,JSON.stringify(e))};const LV=e=>{const t=RV();return xe(t,e).getOr([])};const HV=(e,t)=>{if(!AV(e)){return}const o=RV();const n=xe(o,t).getOr([]);const s=W(n,(t=>t!==e));o[t]=[e].concat(s).slice(0,DV);BV(o)};const IV=e=>!!e;const PV=e=>ge(OL.makeMap(e,/[, ]/),IV);const FV=e=>N.from(UC(e));const VV=e=>{const t=N.from($C(e)).filter(IV).map(PV);return FV(e).fold(D,(e=>t.fold(A,(e=>ue(e).length>0?e:false))))};const jV=(e,t)=>{const o=VV(e);if(f(o)){return o?FV(e):N.none()}else{return o[t]?FV(e):N.none()}};const ZV=(e,t)=>jV(e,t).map((o=>n=>pA.nu((s=>{const r=(e,t)=>{if(!c(e)){throw new Error("Expected value to be string")}if(t!==undefined&&!i(t)){throw new Error("Expected meta to be a object")}const o={value:e,meta:t};s(o)};const a={filetype:t,fieldname:n.fieldname,...N.from(n.meta).getOr({})};o.call(e,r,n.value,a)}))));const UV=e=>N.from(e).filter(c).getOrUndefined();const qV=e=>{if(!GC(e)){return N.none()}return N.some({targets:TV.find(e.getBody()),anchorTop:UV(KC(e)),anchorBottom:UV(YC(e))})};const WV=e=>N.from(qC(e));const $V=e=>({getHistory:LV,addToHistory:HV,getLinkInformation:()=>qV(e),getValidationHandler:()=>WV(e),getUrlPicker:t=>ZV(e,t)});const GV=(e,t,o,n)=>{const s=ma(false);const r=UF(t);const a={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:Jx.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get};const c=$V(t);const i=sV(t);const l=VF(t);const d=ZF(t);const u=()=>s.get();const f=e=>s.set(e);const m={shared:{providers:a,anchors:LF(t,o,n,r.isPositionedAtTop),header:r},urlinput:c,styles:i,colorinput:l,dialog:d,isContextMenuOpen:u,setContextMenuState:f};const g={...m,shared:{...m.shared,interpreter:e=>dF(e,{},g),getSink:e.popup}};const p={...m,shared:{...m.shared,interpreter:e=>dF(e,{},p),getSink:e.dialog}};return{popup:g,dialog:p}};const KV=(e,t,o)=>{const n=(e,n)=>{Z([t,...o],(t=>{t.broadcastEvent(e,n)}))};const s=(e,n)=>{Z([t,...o],(t=>{t.broadcastOn([e],n)}))};const r=e=>s(Fp(),{target:e.target});const a=Wn();const c=Of(a,"touchstart",r);const i=Of(a,"touchmove",(e=>n(hc(),e)));const l=Of(a,"touchend",(e=>n(yc(),e)));const d=Of(a,"mousedown",r);const u=Of(a,"mouseup",(e=>{if(e.raw.button===0){s(jp(),{target:e.target})}}));const f=e=>s(Fp(),{target:Je.fromDom(e.target)});const m=e=>{if(e.button===0){s(jp(),{target:Je.fromDom(e.target)})}};const g=()=>{Z(e.editorManager.get(),(t=>{if(e!==t){t.dispatch("DismissPopups",{relatedTarget:e})}}))};const p=e=>n(bc(),Af(e));const h=e=>{s(Vp(),{});n(vc(),Af(e))};const y=Ut(Je.fromDom(e.getElement()));const b=Df(y,"scroll",(o=>{requestAnimationFrame((()=>{const s=e.getContainer();if(s!==undefined&&s!==null){const s=oN(e,t.element);const r=s.map((e=>[e.element,...e.others])).getOr([]);if(P(r,(e=>Ct(e,o.target)))){e.dispatch("ElementScroll",{target:o.target.dom});n(zc(),o)}}}))}));const v=()=>s(Vp(),{});const k=t=>{if(t.state){s(Fp(),{target:Je.fromDom(e.getContainer())})}};const w=e=>{s(Fp(),{target:Je.fromDom(e.relatedTarget.getContainer())})};e.on("PostRender",(()=>{e.on("click",f);e.on("tap",f);e.on("mouseup",m);e.on("mousedown",g);e.on("ScrollWindow",p);e.on("ResizeWindow",h);e.on("ResizeEditor",v);e.on("AfterProgressState",k);e.on("DismissPopups",w)}));e.on("remove",(()=>{e.off("click",f);e.off("tap",f);e.off("mouseup",m);e.off("mousedown",g);e.off("ScrollWindow",p);e.off("ResizeWindow",h);e.off("ResizeEditor",v);e.off("AfterProgressState",k);e.off("DismissPopups",w);d.unbind();c.unbind();i.unbind();l.unbind();u.unbind();b.unbind()}));e.on("detach",(()=>{Z([t,...o],vp);Z([t,...o],(e=>e.destroy()))}))};const YV=xy;const XV=ry;const JV=x([na("shell",false),Hr("makeItem"),na("setupItem",v),Sh.field("listBehaviours",[mw])]);const QV=()=>({behaviours:Iu([mw.config({})])});const ej=oy({name:"items",overrides:QV});const tj=x([ej]);const oj=x("CustomList");const nj=(e,t,o,n)=>{const s=(t,o)=>{a(t).fold((()=>{console.error("Custom List was defined to not be a shell, but no item container was specified in components");throw new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(n=>{const s=mw.contents(n);const r=o.length;const a=r-s.length;const c=a>0?F(a,(()=>e.makeItem())):[];const i=s.slice(r);Z(i,(e=>mw.remove(n,e)));Z(c,(e=>mw.append(n,e)));const l=mw.contents(n);Z(l,((n,s)=>{e.setupItem(t,n,o[s],s)}))}))};const r=e.shell?{behaviours:[mw.config({})],components:[]}:{behaviours:[],components:t};const a=t=>e.shell?N.some(t):py(t,e,"items");return{uid:e.uid,dom:e.dom,components:r.components,behaviours:Ch(e.listBehaviours,r.behaviours),apis:{setItems:s}}};const sj=Ry({name:oj(),configFields:JV(),partFields:tj(),factory:nj,apis:{setItems:(e,t,o)=>{e.setItems(t,o)}}});const rj=x([Hr("dom"),na("shell",true),_h("toolbarBehaviours",[mw])]);const aj=()=>({behaviours:Iu([mw.config({})])});const cj=x([oy({name:"groups",overrides:aj})]);const ij=(e,t,o,n)=>{const s=(e,t)=>{r(e).fold((()=>{console.error("Toolbar was defined to not be a shell, but no groups container was specified in components");throw new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(e=>{mw.set(e,t)}))};const r=t=>e.shell?N.some(t):py(t,e,"groups");const a=e.shell?{behaviours:[mw.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:Ch(e.toolbarBehaviours,a.behaviours),apis:{setGroups:s,refresh:v},domModification:{attributes:{role:"group"}}}};const lj=Ry({name:"Toolbar",configFields:rj(),partFields:cj(),factory:ij,apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)}}});const dj=v;const uj=D;const fj=x([]);var mj=Object.freeze({__proto__:null,setup:dj,isDocked:uj,getBehaviours:fj});const gj=e=>{const t=ze(ho(e,"position"),"fixed");const o=t?N.none():Rt(e);return o.orThunk((()=>{const t=Je.fromTag("span");return Dt(e).bind((e=>{Ln(e,t);const o=Rt(t);Fn(t);return o}))}))};const pj=e=>gj(e).map(Do).getOrThunk((()=>Eo(0,0)));const hj=(e,t)=>{const o=e.element;hl(o,t.transitionClass);bl(o,t.fadeOutClass);hl(o,t.fadeInClass);t.onShow(e)};const yj=(e,t)=>{const o=e.element;hl(o,t.transitionClass);bl(o,t.fadeInClass);hl(o,t.fadeOutClass);t.onHide(e)};const bj=(e,t)=>e.y<t.bottom&&e.bottom>t.y;const vj=(e,t)=>e.y>=t.y;const kj=(e,t)=>e.bottom<=t.bottom;const wj=(e,t,o)=>({location:"top",leftX:t,topY:o.bounds.y-e.y});const _j=(e,t,o)=>({location:"bottom",leftX:t,bottomY:e.bottom-o.bounds.bottom});const xj=e=>e.box.x-e.win.x;const Cj=(e,t,o)=>{const n=t.win;const s=t.box;const r=xj(t);return de(e,(e=>{switch(e){case"bottom":return!kj(s,o.bounds)?N.some(_j(n,r,o)):N.none();case"top":return!vj(s,o.bounds)?N.some(wj(n,r,o)):N.none();default:return N.none()}})).getOr({location:"no-dock"})};const Sj=(e,t,o)=>ee(e,(e=>{switch(e){case"bottom":return kj(t,o.bounds);case"top":return vj(t,o.bounds)}}));const zj=(e,t)=>{const o=t.optScrollEnv.fold(x(e.bounds.y),(t=>t.scrollElmTop+(e.bounds.y-t.currentScrollTop)));return Eo(e.bounds.x,o)};const Ej=(e,t)=>{const o=t.optScrollEnv.fold(x(e.y),(t=>e.y+t.currentScrollTop-t.scrollElmTop));return Eo(e.x,o)};const Tj=(e,t,o)=>o.getInitialPos().map((o=>{const n=zj(o,t);return{box:ts(n.left,n.top,Ro(e),xo(e)),location:o.location}}));const Oj=(e,t,o,n,s)=>{const r=Ej(t,o);const a=ts(r.left,r.top,t.width,t.height);n.setInitialPos({style:yo(e),position:go(e,"position")||"static",bounds:a,location:s.location})};const Dj=(e,t,o,n,s)=>{n.getInitialPos().fold((()=>Oj(e,t,o,n,s)),(()=>v))};const Aj=(e,t,o)=>o.getInitialPos().bind((n=>{var s;o.clearInitialPos();switch(n.position){case"static":return N.some({morph:"static"});case"absolute":const o=gj(e).getOr(Jt());const r=os(o);const a=(s=o.dom.scrollTop)!==null&&s!==void 0?s:0;return N.some({morph:"absolute",positionCss:Qu("absolute",xe(n.style,"left").map((e=>t.x-r.x)),xe(n.style,"top").map((e=>t.y-r.y+a)),xe(n.style,"right").map((e=>r.right-t.right)),xe(n.style,"bottom").map((e=>r.bottom-t.bottom)))});default:return N.none()}}));const Nj=(e,t,o)=>Tj(e,t,o).filter((({box:e})=>Sj(o.getModes(),e,t))).bind((({box:t})=>Aj(e,t,o)));const Mj=e=>{switch(e.location){case"top":{return N.some({morph:"fixed",positionCss:Qu("fixed",N.some(e.leftX),N.some(e.topY),N.none(),N.none())})}case"bottom":{return N.some({morph:"fixed",positionCss:Qu("fixed",N.some(e.leftX),N.none(),N.none(),N.some(e.bottomY))})}default:return N.none()}};const Rj=(e,t,o)=>{const n=os(e);const s=as();const r=Cj(o.getModes(),{win:s,box:n},t);if(r.location==="top"||r.location==="bottom"){Oj(e,n,t,o,r);return Mj(r)}else{return N.none()}};const Bj=(e,t,o)=>Nj(e,t,o).orThunk((()=>t.optScrollEnv.bind((n=>Tj(e,t,o))).bind((({box:e,location:o})=>{const n=as();const s=xj({win:n,box:e});const r=o==="top"?wj(n,s,t):_j(n,s,t);return Mj(r)}))));const Lj=(e,t,o)=>{const n=e.element;const s=ze(ho(n,"position"),"fixed");return s?Bj(n,t,o):Rj(n,t,o)};const Hj=(e,t,o)=>{const n=e.element;return Tj(n,t,o).bind((({box:e})=>Aj(n,e,o)))};const Ij=(e,t,o,n)=>{const s=os(e);const r=as();const a=xj({win:r,box:s});const c=n(r,a,t);if(c.location==="bottom"||c.location==="top"){Dj(e,s,t,o,c);return Mj(c)}else{return N.none()}};const Pj=(e,t,o)=>{o.setDocked(false);Z(["left","right","top","bottom","position"],(t=>vo(e.element,t)));t.onUndocked(e)};const Fj=(e,t,o,n)=>{const s=n.position==="fixed";o.setDocked(s);tf(e.element,n);const r=s?t.onDocked:t.onUndocked;r(e)};const Vj=(e,t,o,n,s=false)=>{t.contextual.each((t=>{t.lazyContext(e).each((r=>{const a=bj(r,n.bounds);if(a!==o.isVisible()){o.setVisible(a);if(s&&!a){kl(e.element,[t.fadeOutClass]);t.onHide(e)}else{const o=a?hj:yj;o(e,t)}}}))}))};const jj=(e,t,o,n,s)=>{Vj(e,t,o,n,true);Fj(e,t,o,s.positionCss)};const Zj=(e,t,o,n,s)=>{switch(s.morph){case"static":{return Pj(e,t,o)}case"absolute":{return Fj(e,t,o,s.positionCss)}case"fixed":{return jj(e,t,o,n,s)}}};const Uj=(e,t,o)=>{const n=t.lazyViewport(e);Vj(e,t,o,n);Lj(e,n,o).each((s=>{Zj(e,t,o,n,s)}))};const qj=(e,t,o)=>{const n=e.element;o.setDocked(false);const s=t.lazyViewport(e);Hj(e,s,o).each((n=>{switch(n.morph){case"static":{Pj(e,t,o);break}case"absolute":{Fj(e,t,o,n.positionCss);break}}}));o.setVisible(true);t.contextual.each((t=>{wl(n,[t.fadeInClass,t.fadeOutClass,t.transitionClass]);t.onShow(e)}));Wj(e,t,o)};const Wj=(e,t,o)=>{if(e.getSystem().isConnected()){Uj(e,t,o)}};const $j=(e,t,o)=>{if(o.isDocked()){qj(e,t,o)}};const Gj=e=>(t,o,n)=>{const s=o.lazyViewport(t);const r=Ij(t.element,s,n,e);r.each((e=>{jj(t,o,n,s,e)}))};const Kj=Gj(wj);const Yj=Gj(_j);const Xj=(e,t,o)=>o.isDocked();const Jj=(e,t,o,n)=>o.setModes(n);const Qj=(e,t,o)=>o.getModes();var eZ=Object.freeze({__proto__:null,refresh:Wj,reset:$j,isDocked:Xj,getModes:Qj,setModes:Jj,forceDockToTop:Kj,forceDockToBottom:Yj});const tZ=(e,t)=>Ic([Xc(ec(),((o,n)=>{e.contextual.each((e=>{if(vl(o.element,e.transitionClass)){wl(o.element,[e.transitionClass,e.fadeInClass]);const n=t.isVisible()?e.onShown:e.onHidden;n(o)}n.stop()}))})),jc(bc(),((o,n)=>{Wj(o,e,t)})),jc(zc(),((o,n)=>{Wj(o,e,t)})),jc(vc(),((o,n)=>{$j(o,e,t)}))]);var oZ=Object.freeze({__proto__:null,events:tZ});var nZ=[ta("contextual",[Fr("fadeInClass"),Fr("fadeOutClass"),Fr("transitionClass"),Zr("lazyContext"),Md("onShow"),Md("onShown"),Md("onHide"),Md("onHidden")]),la("lazyViewport",(()=>({bounds:as(),optScrollEnv:N.none()}))),ua("modes",["top","bottom"],yr),Md("onDocked"),Md("onUndocked")];const sZ=e=>{const t=ma(false);const o=ma(true);const n=Ef();const s=ma(e.modes);const r=()=>`docked:  ${t.get()}, visible: ${o.get()}, modes: ${s.get().join(",")}`;return Li({isDocked:t.get,setDocked:t.set,getInitialPos:n.get,setInitialPos:n.set,clearInitialPos:n.clear,isVisible:o.get,setVisible:o.set,getModes:s.get,setModes:s.set,readState:r})};var rZ=Object.freeze({__proto__:null,init:sZ});const aZ=Fu({fields:nZ,name:"docking",active:oZ,apis:eZ,state:rZ});const cZ=x(gi("toolbar-height-change"));const iZ={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"};const lZ="tox-tinymce--toolbar-sticky-on";const dZ="tox-tinymce--toolbar-sticky-off";const uZ=(e,t)=>{const o=zt(t);const n=Ot(t);const s=n.dom.innerHeight;const r=Vn(o);const a=Je.fromDom(e.elm);const c=ns(a);const i=xo(a);const l=c.y;const d=l+i;const u=Do(t);const f=xo(t);const m=u.top;const g=m+f;const p=Math.abs(m-r.top)<2;const h=Math.abs(g-(r.top+s))<2;if(p&&l<g){jn(r.left,l-f,o)}else if(h&&d>m){const e=l-s+i+f;jn(r.left,e,o)}};const fZ=(e,t)=>I(aZ.getModes(e),t);const mZ=e=>{const t=e=>Co(e)+(parseInt(go(e,"margin-top"),10)||0)+(parseInt(go(e,"margin-bottom"),10)||0);const o=e.element;Nt(o).each((n=>{const s="padding-"+aZ.getModes(e)[0];if(aZ.isDocked(e)){const e=Ro(n);uo(o,"width",e+"px");uo(n,s,t(o)+"px")}else{vo(o,"width");vo(n,s)}}))};const gZ=(e,t)=>{if(t){bl(e,iZ.fadeOutClass);kl(e,[iZ.transitionClass,iZ.fadeInClass])}else{bl(e,iZ.fadeInClass);kl(e,[iZ.fadeOutClass,iZ.transitionClass])}};const pZ=(e,t)=>{const o=Je.fromDom(e.getContainer());if(t){hl(o,lZ);bl(o,dZ)}else{hl(o,dZ);bl(o,lZ)}};const hZ=(e,t)=>{const o=zt(t);Yu(o).filter((e=>!Ct(t,e))).filter((t=>Ct(t,Je.fromDom(o.dom.body))||St(e,t))).each((()=>$u(t)))};const yZ=(e,t)=>Xu(e).orThunk((()=>t().toOptional().bind((e=>Xu(e.element)))));const bZ=(e,t,o)=>{if(!e.inline){if(!t.header.isPositionedAtTop()){e.on("ResizeEditor",(()=>{o().each(aZ.reset)}))}e.on("ResizeWindow ResizeEditor",(()=>{o().each(mZ)}));e.on("SkinLoaded",(()=>{o().each((e=>{aZ.isDocked(e)?aZ.reset(e):aZ.refresh(e)}))}));e.on("FullscreenStateChanged",(()=>{o().each(aZ.reset)}))}e.on("AfterScrollIntoView",(e=>{o().each((t=>{aZ.refresh(t);const o=t.element;if(vv(o)){uZ(e,o)}}))}));e.on("PostRender",(()=>{pZ(e,false)}))};const vZ=e=>e().map(aZ.isDocked).getOr(false);const kZ=()=>[Uu.config({channels:{[cZ()]:{onReceive:mZ}}})];const wZ=(e,t)=>{const o=Ef();const n=t.getSink;const s=e=>{n().each((t=>e(t.element)))};const r=t=>{if(!e.inline){mZ(t)}pZ(e,aZ.isDocked(t));t.getSystem().broadcastOn([Vp()],{});n().each((e=>e.getSystem().broadcastOn([Vp()],{})))};const a=e.inline?[]:kZ();return[Cw.config({}),aZ.config({contextual:{lazyContext:t=>{const o=Co(t.element);const n=e.inline?e.getContentAreaContainer():e.getContainer();return N.from(n).map((n=>{const s=os(Je.fromDom(n));const r=oN(e,t.element);return r.fold((()=>{const e=s.height-o;const n=s.y+(fZ(t,"top")?0:o);return ts(s.x,n,s.width,e)}),(e=>{const n=ss(s,nN(e));const r=fZ(t,"top")?n.y:n.y+o;return ts(n.x,r,n.width,n.height-o)}))}))},onShow:()=>{s((e=>gZ(e,true)))},onShown:e=>{s((e=>wl(e,[iZ.transitionClass,iZ.fadeInClass])));o.get().each((t=>{hZ(e.element,t);o.clear()}))},onHide:e=>{yZ(e.element,n).fold(o.clear,o.set);s((e=>gZ(e,false)))},onHidden:()=>{s((e=>wl(e,[iZ.transitionClass])))},...iZ},lazyViewport:t=>{const o=oN(e,t.element);return o.fold((()=>{const o=as();const n=VC(e);const s=o.y+(fZ(t,"top")?n:0);const r=o.height-(fZ(t,"bottom")?n:0);return{bounds:ts(o.x,s,o.width,r),optScrollEnv:N.none()}}),(e=>{const t=nN(e);return{bounds:t,optScrollEnv:N.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Do(e.element).top})}}))},modes:[t.header.getDockingMode()],onDocked:r,onUndocked:r}),...a]};var _Z=Object.freeze({__proto__:null,setup:bZ,isDocked:vZ,getBehaviours:wZ});const xZ=e=>{const t=e.editor;const o=e.sticky?wZ:fj;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Iu(o(t,e.sharedBackstage))}};const CZ=ir([Nz,Ir("items",dr([mr([Mz,$r("items",yr)]),yr]))].concat(fE));const SZ=e=>Tr("GroupToolbarButton",CZ,e);const zZ=[Xr("text"),Xr("tooltip"),Xr("icon"),sa("search",false,dr([br,ir([Xr("placeholder")])],(e=>{if(f(e)){return e?N.some({placeholder:N.none()}):N.none()}else{return N.some(e)}}))),Zr("fetch"),la("onSetup",(()=>v))];const EZ=ir([Nz,...zZ]);const TZ=e=>Tr("menubutton",EZ,e);const OZ=ir([Nz,$z,Wz,qz,Yz,Pz,Zz,ca("presets","normal",["normal","color","listpreview"]),tE(1),Vz,jz]);const DZ=e=>Tr("SplitButton",OZ,e);const AZ=(e,t)=>{const o=(e,o)=>{const n=j(o,(e=>{const o={type:"menubutton",text:e.text,fetch:t=>{t(e.getItems())}};const n=TZ(o).mapError((e=>Ar(e))).getOrDie();return PI(n,"tox-mbtn",t.backstage,N.some("menuitem"))}));mw.set(e,n)};const n={focus:Qk.focusIn,setMenus:o};return{uid:e.uid,dom:e.dom,components:[],behaviours:Iu([mw.config({}),pw("menubar-events",[Jc((t=>{e.onSetup(t)})),jc(qa(),((e,t)=>{id(e.element,"."+"tox-mbtn--active").each((o=>{ld(t.event.target,"."+"tox-mbtn").each((t=>{if(!Ct(o,t)){e.getSystem().getByDom(o).each((o=>{e.getSystem().getByDom(t).each((e=>{MA.expand(e);MA.close(o);Cw.focus(e)}))}))}}))}))})),jc(Cc(),((e,t)=>{t.event.prevFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((o=>{t.event.newFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((e=>{if(MA.isOpen(o)){MA.expand(e);MA.close(o)}}))}))}))]),Qk.config({mode:"flow",selector:"."+"tox-mbtn",onEscape:t=>{e.onEscape(t);return N.some(true)}}),IN.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}};var NZ=My({factory:AZ,name:"silver.Menubar",configFields:[Hr("dom"),Hr("uid"),Hr("onEscape"),Hr("backstage"),na("onSetup",v)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,o)=>{e.setMenus(t,o)}}});const MZ="⚡️Upgrade";const RZ="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral";const BZ=e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:RZ,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:MZ}}]});const LZ="container";const HZ=[_h("slotBehaviours",[])];const IZ=e=>"<alloy.field."+e+">";const PZ=e=>{const t=(()=>{const e=[];const t=(t,o)=>{e.push(t);return dy(LZ,IZ(t),o)};return{slot:t,record:x(e)}})();const o=e(t);const n=t.record();const s=j(n,(e=>ey({name:e,pname:IZ(e)})));return Ey(LZ,HZ,s,FZ,o)};const FZ=(e,t)=>{const o=t=>vy(e);const n=(t,o)=>py(t,e,o);const s=(t,o)=>(n,s)=>py(n,e,s).map((e=>t(e,s))).getOr(o);const r=e=>(t,o)=>{Z(o,(o=>e(t,o)))};const a=(e,t)=>no(e.element,"aria-hidden")!=="true";const c=(e,t)=>{if(!a(e)){const o=e.element;vo(o,"display");ao(o,"aria-hidden");Nc(e,Sc(),{name:t,visible:true})}};const i=(e,t)=>{if(a(e)){const o=e.element;uo(o,"display","none");to(o,"aria-hidden","true");Nc(e,Sc(),{name:t,visible:false})}};const l=s(a,false);const d=s(i);const u=r(d);const f=e=>u(e,o());const m=s(c);const g={getSlotNames:o,getSlot:n,isShowing:l,hideSlot:d,hideAllSlots:f,showSlot:m};return{uid:e.uid,dom:e.dom,components:t,behaviours:xh(e.slotBehaviours),apis:g}};const VZ=ge({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,o)=>e.getSlot(t,o),isShowing:(e,t,o)=>e.isShowing(t,o),hideSlot:(e,t,o)=>e.hideSlot(t,o),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,o)=>e.showSlot(t,o)},(e=>Ri(e)));const jZ={...VZ,...{sketch:PZ}};const ZZ=ir([Wz,$z,la("onShow",v),la("onHide",v),Zz]);const UZ=e=>Tr("sidebar",ZZ,e);const qZ=e=>{const{sidebars:t}=e.ui.registry.getAll();Z(ue(t),(o=>{const n=t[o];const s=()=>ze(N.from(e.queryCommandValue("ToggleSidebar")),o);e.ui.registry.addToggleButton(o,{icon:n.icon,tooltip:n.tooltip,onAction:t=>{e.execCommand("ToggleSidebar",false,o);t.setActive(s())},onSetup:t=>{t.setActive(s());const o=()=>t.setActive(s());e.on("ToggleSidebar",o);return()=>{e.off("ToggleSidebar",o)}}})}))};const WZ=e=>({element:()=>e.element.dom});const $Z=(e,t)=>{const o=j(ue(t),(e=>{const o=t[e];const n=Or(UZ(o));return{name:e,getApi:WZ,onSetup:n.onSetup,onShow:n.onShow,onHide:n.onHide}}));return j(o,(t=>{const n=ma(v);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:QE.unnamedEvents([CT(t,n),ST(t,n),jc(Sc(),((e,t)=>{const n=t.event;const s=Y(o,(e=>e.name===n.name));s.each((t=>{const o=n.visible?t.onShow:t.onHide;o(t.getApi(e))}))}))])})}))};const GZ=e=>jZ.sketch((t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:$Z(t,e),slotBehaviours:QE.unnamedEvents([Jc((e=>jZ.hideAllSlots(e)))])})));const KZ=(e,t,o)=>{const n=Py.getCurrent(e);n.each((n=>{mw.set(n,[GZ(t)]);const s=o===null||o===void 0?void 0:o.toLowerCase();if(c(s)&&Ce(t,s)){Py.getCurrent(n).each((t=>{jZ.showSlot(t,s);HI.immediateGrow(n);vo(n.element,"width");YZ(e.element,"region")}))}}))};const YZ=(e,t)=>{to(e,"role",t)};const XZ=(e,t)=>{const o=Py.getCurrent(e);o.each((o=>{const n=Py.getCurrent(o);n.each((n=>{if(HI.hasGrown(o)){if(jZ.isShowing(n,t)){HI.shrink(o);YZ(e.element,"presentation")}else{jZ.hideAllSlots(n);jZ.showSlot(n,t);YZ(e.element,"region")}}else{jZ.hideAllSlots(n);jZ.showSlot(n,t);HI.grow(o);YZ(e.element,"region")}}))}))};const JZ=e=>{const t=Py.getCurrent(e);return t.bind((e=>{const t=HI.isGrowing(e)||HI.hasGrown(e);if(t){const t=Py.getCurrent(e);return t.bind((e=>Y(jZ.getSlotNames(e),(t=>jZ.isShowing(e,t)))))}else{return N.none()}}))};const QZ=gi("FixSizeEvent");const eU=gi("AutoSizeEvent");const tU=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Iu([IN.config({}),Cw.config({}),HI.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{const t=Py.getCurrent(e);t.each(jZ.hideAllSlots);Ac(e,eU)},onGrown:e=>{Ac(e,eU)},onStartGrow:e=>{Nc(e,QZ,{width:ho(e.element,"width").getOr("")})},onStartShrink:e=>{Nc(e,QZ,{width:Ro(e.element)+"px"})}}),mw.config({}),Py.config({find:e=>{const t=mw.contents(e);return ce(t)}})])}],behaviours:Iu([hL.childAt(0),pw("sidebar-sliding-events",[jc(QZ,((e,t)=>{uo(e.element,"width",t.event.width)})),jc(eU,((e,t)=>{vo(e.element,"width")}))])])});const oU=(e,t,o,n)=>{to(e.element,"aria-busy",true);const s=t.getRoot(e).getOr(e);const r=Iu([Qk.config({mode:"special",onTab:()=>N.some(true),onShiftTab:()=>N.some(true)}),Cw.config({})]);const a=n(s,r);const c=s.getSystem().build(a);mw.append(s,Ql(c));if(c.hasConfigured(Qk)&&t.focus){Qk.focusIn(c)}if(!o.isBlocked()){t.onBlock(e)}o.blockWith((()=>mw.remove(s,c)))};const nU=(e,t,o)=>{ao(e.element,"aria-busy");if(o.isBlocked()){t.onUnblock(e)}o.clear()};const sU=(e,t,o)=>o.isBlocked();var rU=Object.freeze({__proto__:null,block:oU,unblock:nU,isBlocked:sU});var aU=[la("getRoot",N.none),ia("focus",true),Md("onBlock"),Md("onUnblock")];const cU=()=>{const e=Sf();const t=t=>{e.set({destroy:t})};return Li({readState:e.isSet,blockWith:t,clear:e.clear,isBlocked:e.isSet})};var iU=Object.freeze({__proto__:null,init:cU});const lU=Fu({fields:aU,name:"blocking",apis:rU,state:iU});const dU=e=>(t,o)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:U_('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]});const uU=e=>Py.getCurrent(e).each((e=>$u(e.element)));const fU=(e,t)=>{const o="tabindex";const n=`data-mce-${o}`;N.from(e.iframeElement).map(Je.fromDom).each((e=>{if(t){so(e,o).each((t=>to(e,n,t)));to(e,o,-1)}else{ao(e,o);so(e,n).each((t=>{to(e,o,t);ao(e,n)}))}}))};const mU=(e,t,o,n)=>{const s=t.element;fU(e,o);if(o){lU.block(t,dU(n));vo(s,"display");ao(s,"aria-hidden");if(e.hasFocus()){uU(t)}}else{const o=Py.getCurrent(t).exists((e=>Ku(e.element)));lU.unblock(t);uo(s,"display","none");to(s,"aria-hidden","true");if(o){e.focus()}}};const gU=e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Iu([mw.config({}),lU.config({focus:false}),Py.config({find:e=>ce(e.components())})]),components:[]});const pU=e=>e.type==="focusin";const hU=e=>{if(pU(e)){const t=e.composed?ce(e.composedPath()):N.from(e.target);return t.map(Je.fromDom).filter(pt).exists((e=>vl(e,"mce-pastebin")))}else{return false}};const yU=(e,t,o)=>{const n=ma(false);const s=Ef();const r=o=>{if(n.get()&&!hU(o)){o.preventDefault();uU(t());e.editorManager.setActive(e)}};if(!e.inline){e.on("PreInit",(()=>{e.dom.bind(e.getWin(),"focusin",r);e.on("BeforeExecCommand",(e=>{if(e.command.toLowerCase()==="mcefocus"&&e.value!==true){r(e)}}))}))}const a=s=>{if(s!==n.get()){n.set(s);mU(e,t(),s,o.providers);OO(e,s)}};e.on("ProgressState",(t=>{s.on(clearTimeout);if(y(t.time)){const o=P_.setEditorTimeout(e,(()=>a(t.state)),t.time);s.set(o)}else{a(t.state);s.clear()}}))};const bU=(e,t)=>{const o={len:0,list:[]};const n=G(e,((e,o)=>{const n=t(o,e.len);return n.fold(x(e),(t=>({len:t.finish,list:e.list.concat([t])})))}),o);return n.list};const vU=(e,t,o)=>({within:e,extra:t,withinWidth:o});const kU=(e,t,o)=>{const n=bU(e,((e,t)=>{const n=o(e);return N.some({element:e,start:t,finish:t+n,width:n})}));const s=W(n,(e=>e.finish<=t));const r=$(s,((e,t)=>e+t.width),0);const a=n.slice(s.length);return{within:s,extra:a,withinWidth:r}};const wU=e=>j(e,(e=>e.element));const _U=(e,t,o)=>{const n=wU(e.concat(t));return vU(n,[],o)};const xU=(e,t,o,n)=>{const s=wU(e).concat([o]);return vU(s,wU(t),n)};const CU=(e,t,o)=>vU(wU(e),[],o);const SU=(e,t,o)=>{const n=kU(t,e,o);return n.extra.length===0?N.some(n):N.none()};const zU=(e,t,o,n)=>{const s=SU(e,t,o).getOrThunk((()=>kU(t,e-o(n),o)));const r=s.within;const a=s.extra;const c=s.withinWidth;if(a.length===1&&a[0].width<=o(n)){return _U(r,a,c)}else if(a.length>=1){return xU(r,a,n,c)}else{return CU(r,a,c)}};const EU=(e,t)=>{const o=j(t,(e=>Ql(e)));lj.setGroups(e,o)};const TU=e=>de(e,(e=>Xu(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()))));const OU=(e,t,o)=>{const n=t.builtGroups.get();if(n.length===0){return}const s=hy(e,t,"primary");const r=cA.getCoupled(e,"overflowGroup");uo(s.element,"visibility","hidden");const a=n.concat([r]);const c=TU(a);o([]);EU(s,a);const i=Ro(s.element);const l=zU(i,t.builtGroups.get(),(e=>Ro(e.element)),r);if(l.extra.length===0){mw.remove(s,r);o([])}else{EU(s,l.within);o(l.extra)}vo(s.element,"visibility");ko(s.element);c.each(Cw.focus)};const DU=x([_h("splitToolbarBehaviours",[cA]),Br("builtGroups",(()=>ma([])))]);const AU=x([Ad(["overflowToggledClass"]),Qr("getOverflowBounds"),Hr("lazySink"),Br("overflowGroups",(()=>ma([]))),Md("onOpened"),Md("onClosed")].concat(DU()));const NU=x([ey({factory:lj,schema:rj(),name:"primary"}),ty({schema:rj(),name:"overflow"}),ty({name:"overflow-button"}),ty({name:"overflow-group"})]);const MU=x(((e,t)=>{Lo(e,Math.floor(t))}));const RU=x([Ad(["toggledClass"]),Hr("lazySink"),Zr("fetch"),Qr("getBounds"),ta("fireDismissalEventInstead",[na("event",_c())]),lm(),Md("onToggled")]);const BU=x([ty({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Iu([Zw.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:false,onToggled:e.onToggled})])})}),ty({factory:lj,schema:rj(),name:"toolbar",overrides:e=>({toolbarBehaviours:Iu([Qk.config({mode:"cyclic",onEscape:t=>{py(t,e,"button").each(Cw.focus);return N.none()}})])})})]);const LU=Ef();const HU=(e,t)=>{LU.set(true);IU(e,t);LU.clear()};const IU=(e,t)=>{const o=cA.getCoupled(e,"toolbarSandbox");if(Pp.isOpen(o)){Pp.close(o)}else{Pp.open(o,t.toolbar())}};const PU=(e,t,o,n)=>{const s=o.getBounds.map((e=>e()));const r=o.lazySink(e).getOrDie();tp.positionWithinBounds(r,t,{anchor:{type:"hotspot",hotspot:e,layouts:n,overrides:{maxWidthFunction:MU()}}},s)};const FU=(e,t,o,n,s)=>{lj.setGroups(t,s);PU(e,t,o,n);Zw.on(e)};const VU=(e,t,o)=>{const n=fd();const s=(s,r)=>{const a=LU.get().getOr(false);o.fetch().get((s=>{FU(e,r,o,t.layouts,s);n.link(e.element);if(!a){Qk.focusIn(r)}}))};const r=()=>{Zw.off(e);if(!LU.get().getOr(false)){Cw.focus(e)}n.unlink(e.element)};return{dom:{tag:"div",attributes:{id:n.id}},behaviours:Iu([Qk.config({mode:"special",onEscape:e=>{Pp.close(e);return N.some(true)}}),Pp.config({onOpen:s,onClose:r,isPartOf:(t,o,n)=>gd(o,n)||gd(e,n),getAttachPoint:()=>o.lazySink(e).getOrDie()}),Uu.config({channels:{...Up({isExtraPart:D,...o.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Wp({doReposition:()=>{Pp.getState(cA.getCoupled(e,"toolbarSandbox")).each((n=>{PU(e,n,o,t.layouts)}))}})}})])}};const jU=(e,t,o,n)=>({...V_.sketch({...n.button(),action:e=>{IU(e,n)},buttonBehaviours:Sh.augment({dump:n.button().buttonBehaviours},[cA.config({others:{toolbarSandbox:t=>VU(t,o,e)}})])}),apis:{setGroups:(t,n)=>{Pp.getState(cA.getCoupled(t,"toolbarSandbox")).each((s=>{FU(t,s,e,o.layouts,n)}))},reposition:t=>{Pp.getState(cA.getCoupled(t,"toolbarSandbox")).each((n=>{PU(t,n,e,o.layouts)}))},toggle:e=>{IU(e,n)},toggleWithoutFocusing:e=>{HU(e,n)},getToolbar:e=>Pp.getState(cA.getCoupled(e,"toolbarSandbox")),isOpen:e=>Pp.isOpen(cA.getCoupled(e,"toolbarSandbox"))}});const ZU=Ry({name:"FloatingToolbarButton",factory:jU,configFields:RU(),partFields:BU(),apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}});const UU=x([Hr("items"),Ad(["itemSelector"]),_h("tgroupBehaviours",[Qk])]);const qU=x([ny({name:"items",unit:"item"})]);const WU=(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Ch(e.tgroupBehaviours,[Qk.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}});const $U=Ry({name:"ToolbarGroup",configFields:UU(),partFields:qU(),factory:WU});const GU=e=>j(e,(e=>Ql(e)));const KU=(e,t,o)=>{OU(e,o,(n=>{o.overflowGroups.set(n);t.getOpt(e).each((e=>{ZU.setGroups(e,GU(n))}))}))};const YU=(e,t,o,n)=>{const s=q_(ZU.sketch({fetch:()=>pA.nu((t=>{t(GU(e.overflowGroups.get()))})),layouts:{onLtr:()=>[gu,mu],onRtl:()=>[mu,gu],onBottomLtr:()=>[hu,pu],onBottomRtl:()=>[pu,hu]},getBounds:o.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:n["overflow-button"](),toolbar:n.overflow()},onToggled:(t,o)=>e[o?"onOpened":"onClosed"](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:Ch(e.splitToolbarBehaviours,[cA.config({others:{overflowGroup:()=>$U.sketch({...n["overflow-group"](),items:[s.asSpec()]})}})]),apis:{setGroups:(t,o)=>{e.builtGroups.set(j(o,t.getSystem().build));KU(t,s,e)},refresh:t=>KU(t,s,e),toggle:e=>{s.getOpt(e).each((e=>{ZU.toggle(e)}))},toggleWithoutFocusing:e=>{s.getOpt(e).each(ZU.toggleWithoutFocusing)},isOpen:e=>s.getOpt(e).map(ZU.isOpen).getOr(false),reposition:e=>{s.getOpt(e).each((e=>{ZU.reposition(e)}))},getOverflow:e=>s.getOpt(e).bind(ZU.getToolbar)},domModification:{attributes:{role:"group"}}}};const XU=Ry({name:"SplitFloatingToolbar",configFields:AU(),partFields:NU(),factory:YU,apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}});const JU=x([Ad(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Md("onOpened"),Md("onClosed")].concat(DU()));const QU=x([ey({factory:lj,schema:rj(),name:"primary"}),ey({factory:lj,schema:rj(),name:"overflow",overrides:e=>({toolbarBehaviours:Iu([HI.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{py(t,e,"overflow-button").each((e=>{Zw.off(e);Cw.focus(e)}));e.onClosed(t)},onGrown:t=>{Qk.focusIn(t);e.onOpened(t)},onStartGrow:t=>{py(t,e,"overflow-button").each(Zw.on)}}),Qk.config({mode:"acyclic",onEscape:t=>{py(t,e,"overflow-button").each(Cw.focus);return N.some(true)}})])})}),ty({name:"overflow-button",overrides:e=>({buttonBehaviours:Iu([Zw.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:false})])})}),ty({name:"overflow-group"})]);const eq=(e,t)=>py(e,t,"overflow").map(HI.hasGrown).getOr(false);const tq=(e,t)=>{py(e,t,"overflow-button").bind((()=>py(e,t,"overflow"))).each((o=>{oq(e,t);HI.toggleGrow(o)}))};const oq=(e,t)=>{py(e,t,"overflow").each((o=>{OU(e,t,(e=>{const t=j(e,(e=>Ql(e)));lj.setGroups(o,t)}));py(e,t,"overflow-button").each((e=>{if(HI.hasGrown(o)){Zw.on(e)}}));HI.refresh(o)}))};const nq=(e,t,o,n)=>{const s="alloy.toolbar.toggle";const r=(t,o)=>{const n=j(o,t.getSystem().build);e.builtGroups.set(n)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Ch(e.splitToolbarBehaviours,[cA.config({others:{overflowGroup:e=>$U.sketch({...n["overflow-group"](),items:[V_.sketch({...n["overflow-button"](),action:t=>{Ac(e,s)}})]})}}),pw("toolbar-toggle-events",[jc(s,(t=>{tq(t,e)}))])]),apis:{setGroups:(t,o)=>{r(t,o);oq(t,e)},refresh:t=>oq(t,e),toggle:t=>tq(t,e),isOpen:t=>eq(t,e)},domModification:{attributes:{role:"group"}}}};const sq=Ry({name:"SplitSlidingToolbar",configFields:JU(),partFields:QU(),factory:nq,apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}});const rq=e=>{const t=e.title.fold((()=>({})),(e=>({attributes:{title:e}})));return{dom:{tag:"div",classes:["tox-toolbar__group"],...t},components:[$U.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), "+".tox-split-button:not([disabled]), "+".tox-toolbar-nav-js:not([disabled]), "+".tox-number-input:not([disabled])"},tgroupBehaviours:Iu([IN.config({}),Cw.config({})])}};const aq=e=>$U.sketch(rq(e));const cq=(e,t)=>{const o=Jc((t=>{const o=j(e.initGroups,aq);lj.setGroups(t,o)}));return Iu([_T.toolbarButton(e.providers.isDisabled),yT(),Qk.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),pw("toolbar-events",[o])])};const iq=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":rq({title:N.none(),items:[]}),"overflow-button":zP({name:"more",icon:N.some("more-drawer"),enabled:true,tooltip:N.some("Reveal or hide additional toolbar items"),primary:false,buttonType:N.none(),borderless:false},N.none(),e.providers)},splitToolbarBehaviours:cq(e,t)}};const lq=e=>{const t=iq(e);const o=4;const n=XU.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return XU.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const t=e.moreDrawerData.lazyHeader().element;const n=ns(t);const s=Tt(t);const r=ns(s);const a=Math.max(s.dom.scrollHeight,r.height);return ts(n.x+o,r.y,n.width-o*2,a)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>e.onToggled(t,true),onClosed:t=>e.onToggled(t,false)})};const dq=e=>{const t=sq.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});const o=sq.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}});const n=iq(e);return sq.sketch({...n,components:[t,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>{t.getSystem().broadcastOn([cZ()],{type:"opened"});e.onToggled(t,true)},onClosed:t=>{t.getSystem().broadcastOn([cZ()],{type:"closed"});e.onToggled(t,false)}})};const uq=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return lj.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===bC.scrolling?["tox-toolbar--scrolling"]:[])},components:[lj.parts.groups({})],toolbarBehaviours:cq(e,t)})};const fq=[qz,Wz,Xr("tooltip"),ca("buttonType","secondary",["primary","secondary"]),ia("borderless",false),Zr("onAction")];const mq=[...fq,Bz,Vr("type",["button"])];const gq=[...fq,ia("active",false),Vr("type",["togglebutton"])];const pq={button:mq,togglebutton:gq};const hq=[Vr("type",["group"]),ua("buttons",[],Nr("type",pq))];const yq=Nr("type",{...pq,group:hq});const bq=ir([ua("buttons",[],yq),Zr("onShow"),Zr("onHide")]);const vq=e=>Tr("view",bq,e);const kq=(e,t)=>{var o,n;const s=e.type==="togglebutton";const r=e.icon.map((e=>kH(e,t.icons))).map(q_);const a=()=>o=>{const n=e=>{r.map((n=>n.getOpt(o).each((o=>{mw.set(o,[kH(e,t.icons)])}))))};const a=e=>{const t=o.element;if(e){hl(t,"tox-button--enabled");to(t,"aria-pressed",true)}else{bl(t,"tox-button--enabled");ao(t,"aria-pressed")}};const c=()=>vl(o.element,"tox-button--enabled");if(s){return e.onAction({setIcon:n,setActive:a,isActive:c})}if(e.type==="button"){return e.onAction({setIcon:n})}};const c=a();const i={...e,name:s?e.text.getOr(e.icon.getOr("")):(o=e.text)!==null&&o!==void 0?o:e.icon.getOr(""),primary:e.buttonType==="primary",buttonType:N.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:true,borderless:e.borderless};const l=EP((n=e.buttonType)!==null&&n!==void 0?n:"secondary");const d=s?e.text.map(t.translate):N.some(t.translate(e.text));const u=d.map($l);const f=i.tooltip.or(d).map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({});const m=r.map((e=>e.asSpec()));const g=TT([m,u]);const p=e.icon.isSome()&&u.isSome();const h={tag:"button",classes:l.concat(...e.icon.isSome()&&!p?["tox-button--icon"]:[]).concat(...p?["tox-button--icon-and-text"]:[]).concat(...e.borderless?["tox-button--naked"]:[]).concat(...e.type==="togglebutton"&&e.active?["tox-button--enabled"]:[]),attributes:f};const y=[];const b=SP(i,N.some(c),y,h,g,t);return V_.sketch(b)};const wq=(e,t)=>kq(e,t);const _q=(e,t)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:j(e.buttons,(e=>wq(e,t)))});const xq=Sn().deviceType;const Cq=xq.isPhone();const Sq=xq.isTablet();const zq=e=>{let t=false;const o=j(e.buttons,(o=>{if(o.type==="group"){t=true;return _q(o,e.providers)}else{return wq(o,e.providers)}}));return{uid:e.uid,dom:{tag:"div",classes:[!t?"tox-view__header":"tox-view__toolbar",...Cq||Sq?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Iu([Cw.config({}),Qk.config({mode:"flow",selector:"button, .tox-button",focusInside:Gb.OnEnterOrSpaceMode})]),components:t?o:[TN.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),TN.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:o})]}};const Eq=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}});const Tq=(e,t,o,n)=>{const s={getPane:t=>YV.getPart(t,e,"pane"),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:t,apis:s}};var Oq=Ry({name:"silver.View",configFields:[Hr("viewConfig")],partFields:[oy({factory:{sketch:zq},schema:[Hr("buttons"),Hr("providers")],name:"header"}),oy({factory:{sketch:Eq},schema:[],name:"pane"})],factory:Tq,apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const Dq=(e,t,o)=>ke(t,((t,n)=>{const s=Or(vq(t));return e.slot(n,Oq.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:s,components:[...s.buttons.length>0?[Oq.parts.header({buttons:s.buttons,providers:o})]:[],Oq.parts.pane({})]}))}));const Aq=(e,t)=>jZ.sketch((o=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:Dq(o,e,t),slotBehaviours:QE.unnamedEvents([Jc((e=>jZ.hideAllSlots(e)))])})));const Nq=e=>Y(jZ.getSlotNames(e),(t=>jZ.isShowing(e,t)));const Mq=e=>{const t=e.element;uo(t,"display","none");to(t,"aria-hidden","true")};const Rq=e=>{const t=e.element;vo(t,"display");ao(t,"aria-hidden")};const Bq=e=>({getContainer:x(e)});const Lq=(e,t,o)=>{jZ.getSlot(e,t).each((e=>{Oq.getPane(e).each((t=>{const n=o(e);n(Bq(t.element.dom))}))}))};const Hq=(e,t)=>Lq(e,t,Oq.getOnShow);const Iq=(e,t)=>Lq(e,t,Oq.getOnHide);const Pq=(e,t)=>{const o=(e,o)=>{mw.set(e,[Aq(o,t.backstage.shared.providers)])};const n=e=>Py.getCurrent(e).bind(Nq);const s=(e,t,o,n)=>Py.getCurrent(e).exists((s=>{const r=Nq(s);const a=r.exists((e=>n===e));const c=jZ.getSlot(s,n).isSome();if(c){jZ.hideAllSlots(s);if(!a){o();Rq(e);jZ.showSlot(s,n);Hq(s,n)}else{Mq(e);t()}r.each((e=>Iq(s,e)))}return c}));const r={setViews:o,whichView:n,toggleView:s};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Iu([mw.config({}),Py.config({find:e=>{const t=mw.contents(e);return ce(t)}})]),apis:r}};var Fq=My({factory:Pq,name:"silver.ViewWrapper",configFields:[Hr("backstage")],apis:{setViews:(e,t,o)=>e.setViews(t,o),toggleView:(e,t,o,n,s)=>e.toggleView(t,o,n,s),whichView:(e,t)=>e.whichView(t)}});const Vq=(e,t,o)=>{let n=false;const s={getSocket:t=>YV.getPart(t,e,"socket"),setSidebar:(t,o,n)=>{YV.getPart(t,e,"sidebar").each((e=>KZ(e,o,n)))},toggleSidebar:(t,o)=>{YV.getPart(t,e,"sidebar").each((e=>XZ(e,o)))},whichSidebar:t=>YV.getPart(t,e,"sidebar").bind(JZ).getOrNull(),getHeader:t=>YV.getPart(t,e,"header"),getToolbar:t=>YV.getPart(t,e,"toolbar"),setToolbar:(t,o)=>{YV.getPart(t,e,"toolbar").each((e=>{const t=j(o,aq);e.getApis().setGroups(e,t)}))},setToolbars:(t,o)=>{YV.getPart(t,e,"multiple-toolbar").each((e=>{const t=j(o,(e=>j(e,aq)));sj.setItems(e,t)}))},refreshToolbar:t=>{const o=YV.getPart(t,e,"toolbar");o.each((e=>e.getApis().refresh(e)))},toggleToolbarDrawer:t=>{YV.getPart(t,e,"toolbar").each((e=>{Ne(e.getApis().toggle,(t=>t(e)))}))},toggleToolbarDrawerWithoutFocusing:t=>{YV.getPart(t,e,"toolbar").each((e=>{Ne(e.getApis().toggleWithoutFocusing,(t=>t(e)))}))},isToolbarDrawerToggled:t=>YV.getPart(t,e,"toolbar").bind((e=>N.from(e.getApis().isOpen).map((t=>t(e))))).getOr(false),getThrobber:t=>YV.getPart(t,e,"throbber"),focusToolbar:t=>{const o=YV.getPart(t,e,"toolbar").orThunk((()=>YV.getPart(t,e,"multiple-toolbar")));o.each((e=>{Qk.focusIn(e)}))},setMenubar:(t,o)=>{YV.getPart(t,e,"menubar").each((e=>{NZ.setMenus(e,o)}))},focusMenubar:t=>{YV.getPart(t,e,"menubar").each((e=>{NZ.focus(e)}))},setViews:(t,o)=>{YV.getPart(t,e,"viewWrapper").each((e=>{Fq.setViews(e,o)}))},toggleView:(t,o)=>YV.getPart(t,e,"viewWrapper").exists((e=>Fq.toggleView(e,(()=>s.showMainView(t)),(()=>s.hideMainView(t)),o))),whichView:t=>YV.getPart(t,e,"viewWrapper").bind(Fq.whichView).getOrNull(),hideMainView:t=>{n=s.isToolbarDrawerToggled(t);if(n){s.toggleToolbarDrawer(t)}YV.getPart(t,e,"editorContainer").each((e=>{const t=e.element;uo(t,"display","none");to(t,"aria-hidden","true")}))},showMainView:t=>{if(n){s.toggleToolbarDrawer(t)}YV.getPart(t,e,"editorContainer").each((e=>{const t=e.element;vo(t,"display");ao(t,"aria-hidden")}))}};return{uid:e.uid,dom:e.dom,components:t,apis:s,behaviours:e.behaviours}};const jq=XV.optional({factory:NZ,name:"menubar",schema:[Hr("backstage")]});const Zq=e=>{if(e.type===bC.sliding){return dq}else if(e.type===bC.floating){return lq}else{return uq}};const Uq=XV.optional({factory:{sketch:e=>sj.sketch({uid:e.uid,dom:e.dom,listBehaviours:Iu([Qk.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>uq({type:e.type,uid:gi("multiple-toolbar-item"),cyclicKeying:false,initGroups:[],providers:e.providers,onEscape:()=>{e.onEscape();return N.some(true)}}),setupItem:(e,t,o,n)=>{lj.setGroups(t,o)},shell:true})},name:"multiple-toolbar",schema:[Hr("dom"),Hr("onEscape")]});const qq=XV.optional({factory:{sketch:e=>{const t=Zq(e);const o={type:e.type,uid:e.uid,onEscape:()=>{e.onEscape();return N.some(true)},onToggled:(t,o)=>e.onToolbarToggled(o),cyclicKeying:false,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes};return t(o)}},name:"toolbar",schema:[Hr("dom"),Hr("onEscape"),Hr("getSink")]});const Wq=XV.optional({factory:{sketch:xZ},name:"header",schema:[Hr("dom")]});const $q=XV.optional({factory:{sketch:BZ},name:"promotion",schema:[Hr("dom")]});const Gq=XV.optional({name:"socket",schema:[Hr("dom")]});const Kq=XV.optional({factory:{sketch:tU},name:"sidebar",schema:[Hr("dom")]});const Yq=XV.optional({factory:{sketch:gU},name:"throbber",schema:[Hr("dom")]});const Xq=XV.optional({factory:Fq,name:"viewWrapper",schema:[Hr("backstage")]});const Jq=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components});const Qq=XV.optional({factory:{sketch:Jq},name:"editorContainer",schema:[]});var eW=Ry({name:"OuterContainer",factory:Vq,configFields:[Hr("dom"),Hr("behaviours")],partFields:[Wq,jq,qq,Uq,Gq,Kq,$q,Yq,Xq,Qq],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,o,n)=>{e.setSidebar(t,o,n)},toggleSidebar:(e,t,o)=>{e.toggleSidebar(t,o)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,o)=>{e.setToolbar(t,o)},setToolbars:(e,t,o)=>{e.setToolbars(t,o)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,o)=>{e.setMenubar(t,o)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,o)=>{e.setViews(t,o)},toggleView:(e,t,o)=>e.toggleView(t,o),whichView:(e,t)=>e.whichView(t)}});const tW="file edit view insert format tools table help";const oW={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}};const nW=(e,t,o)=>{const n=RC(o).split(/[ ,]/);return{text:e.title,getItems:()=>Q(e.items,(e=>{const o=e.toLowerCase();if(o.trim().length===0){return[]}else if(P(n,(e=>e===o))){return[]}else if(o==="separator"||o==="|"){return[{type:"separator"}]}else if(t.menuItems[o]){return[t.menuItems[o]]}else{return[]}}))}};const sW=e=>e.split(" ");const rW=(e,t)=>{const o={...oW,...t.menus};const n=ue(t.menus).length>0;const s=t.menubar===undefined||t.menubar===true?sW(tW):sW(t.menubar===false?"":t.menubar);const r=W(s,(e=>{const o=Ce(oW,e);if(n){return o||xe(t.menus,e).exists((e=>Ce(e,"items")))}else{return o}}));const a=j(r,(n=>{const s=o[n];return nW({title:s.title,items:sW(s.items)},t,e)}));return W(a,(e=>{const t=e=>c(e)||e.type!=="separator";return e.getItems().length>0&&P(e.getItems(),t)}))};const aW=e=>{const t=()=>{e._skinLoaded=true;xO(e)};return()=>{if(e.initialized){t()}else{e.on("init",t)}}};const cW=(e,t)=>()=>CO(e,{message:t});const iW=(e,t,o)=>{e.on("remove",(()=>o.unload(t)));return o.load(t)};const lW=(e,t)=>{const o=t+"/skin.min.css";return iW(e,o,e.ui.styleSheetLoader)};const dW=(e,t)=>{const o=Wt(Je.fromDom(e.getElement()));if(o){const o=t+"/skin.shadowdom.min.css";return iW(e,o,pC.DOM.styleSheetLoader)}else{return Promise.resolve()}};const uW=(e,t)=>{const o=iS(t);if(o){t.contentCSS.push(o+(e?"/content.inline":"/content")+".min.css")}if(!aS(t)&&c(o)){return Promise.all([lW(t,o),dW(t,o)]).then(aW(t),cW(t,"Skin could not be loaded"))}else{return Promise.resolve(aW(t)())}};const fW=z(uW,false);const mW=z(uW,true);const gW=(e,t,o)=>{const n=(e,n,r,a)=>{const c=t.shared.providers.translate(e.title);if(e.type==="separator"){return N.some({type:"separator",text:c})}else if(e.type==="submenu"){const t=Q(e.getStyleItems(),(e=>s(e,n,a)));if(n===0&&t.length<=0){return N.none()}else{return N.some({type:"nestedmenuitem",text:c,enabled:t.length>0,getSubmenuItems:()=>Q(e.getStyleItems(),(e=>s(e,n,a)))})}}else{return N.some({type:"togglemenuitem",text:c,icon:e.icon,active:e.isSelected(a),enabled:!r,onAction:o.onAction(e),...e.getStylePreview().fold((()=>({})),(e=>({meta:{style:e}})))})}};const s=(e,t,s)=>{const r=e.type==="formatter"&&o.isInvalid(e);if(t===0){return r?[]:n(e,t,false,s).toArray()}else{return n(e,t,r,s).toArray()}};const r=e=>{const t=o.getCurrentValue();const n=o.shouldHide?0:1;return Q(e,(e=>s(e,n,t)))};const a=(e,t)=>(o,n)=>{const s=t();const a=r(s);const c=BH(a,TS.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:false,search:N.none()});n(c)};return{validateItems:r,getFetch:a}};const pW=(e,t,o)=>{const n=o.dataset;const s=n.type==="basic"?()=>j(n.data,(e=>oV(e,o.isSelectedFor,o.getPreviewFor))):n.getData;return{items:gW(e,t,o),getStyleItems:s}};const hW=(e,t,o)=>{const{items:n,getStyleItems:s}=pW(e,t,o);const r=e=>({getComponent:x(e)});const a=LO(e,"NodeChange",(t=>{const n=t.getComponent();o.updateText(n);sb.set(t.getComponent(),!e.selection.isEditable())}));return CH({text:o.icon.isSome()?N.none():o.text,icon:o.icon,tooltip:N.from(o.tooltip),role:N.none(),fetch:n.getFetch(t,s),onSetup:a,getApi:r,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};const yW=e=>j(e,(e=>{let t=e,o=e;const n=e.split("=");if(n.length>1){t=n[0];o=n[1]}return{title:t,format:o}}));const bW=e=>({type:"basic",data:e});var vW;(function(e){e[e["SemiColon"]=0]="SemiColon";e[e["Space"]=1]="Space"})(vW||(vW={}));const kW=(e,t)=>{if(t===vW.SemiColon){return e.replace(/;$/,"").split(";")}else{return e.split(" ")}};const wW=(e,t,o)=>{const n=e.options.get(t);const s=yW(kW(n,o));return{type:"basic",data:s}};const _W=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}];const xW=e=>{const t=()=>Y(_W,(t=>e.formatter.match(t.format)));const o=t=>()=>e.formatter.match(t);const n=e=>N.none;const s=e=>{const o=t();const n=o.fold(x("left"),(e=>e.title.toLowerCase()));Nc(e,xH,{icon:`align-${n}`})};const r=bW(_W);const a=t=>()=>Y(_W,(e=>e.format===t.format)).each((t=>e.execCommand(t.command)));return{tooltip:"Align",text:N.none(),icon:N.some("align-left"),isSelectedFor:o,getCurrentValue:N.none,getPreviewFor:n,onAction:a,updateText:s,dataset:r,shouldHide:false,isInvalid:t=>!e.formatter.canApply(t.format)}};const CW=(e,t)=>hW(e,t,xW(e));const SW=(e,t)=>{const o=pW(e,t,xW(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),onSetup:MO(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})};const zW=(e,t)=>{const o=t();const n=j(o,(e=>e.format));return N.from(e.formatter.closest(n)).bind((e=>Y(o,(t=>t.format===e)))).orThunk((()=>Me(e.formatter.match("p"),{title:"Paragraph",format:"p"})))};const EW=e=>{const t="Paragraph";const o=t=>()=>e.formatter.match(t);const n=t=>()=>{const o=e.formatter.get(t);if(o){return N.some({tag:o.length>0?o[0].inline||o[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}else{return N.none()}};const s=o=>{const n=zW(e,(()=>r.data));const s=n.fold(x(t),(e=>e.title));Nc(o,_H,{text:s})};const r=wW(e,"block_formats",vW.SemiColon);return{tooltip:"Blocks",text:N.some(t),icon:N.none(),isSelectedFor:o,getCurrentValue:N.none,getPreviewFor:n,onAction:HO(e),updateText:s,dataset:r,shouldHide:false,isInvalid:t=>!e.formatter.canApply(t.format)}};const TW=(e,t)=>hW(e,t,EW(e));const OW=(e,t)=>{const o=pW(e,t,EW(e));e.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:MO(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})};const DW=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"];const AW=e=>{const t=e.split(/\s*,\s*/);return j(t,(e=>e.replace(/^['"]+|['"]+$/g,"")))};const NW=e=>{const t=()=>{const t=AW(e.toLowerCase());return ee(DW,(e=>t.indexOf(e.toLowerCase())>-1))};return e.indexOf("-apple-system")===0&&t()};const MW=e=>{const t="System Font";const o=()=>{const o=e=>e?AW(e)[0]:"";const n=e.queryCommandValue("FontName");const s=i.data;const r=n?n.toLowerCase():"";const a=Y(s,(e=>{const t=e.format;return t.toLowerCase()===r||o(t).toLowerCase()===o(r).toLowerCase()})).orThunk((()=>Me(NW(r),{title:t,format:r})));return{matchOpt:a,font:n}};const n=e=>t=>t.exists((t=>t.format===e));const s=()=>{const{matchOpt:e}=o();return e};const r=e=>()=>N.some({tag:"div",styles:e.indexOf("dings")===-1?{"font-family":e}:{}});const a=t=>()=>{e.undoManager.transact((()=>{e.focus();e.execCommand("FontName",false,t.format)}))};const c=e=>{const{matchOpt:t,font:n}=o();const s=t.fold(x(n),(e=>e.title));Nc(e,_H,{text:s})};const i=wW(e,"font_family_formats",vW.SemiColon);return{tooltip:"Fonts",text:N.some(t),icon:N.none(),isSelectedFor:n,getCurrentValue:s,getPreviewFor:r,onAction:a,updateText:c,dataset:i,shouldHide:false,isInvalid:D}};const RW=(e,t)=>hW(e,t,MW(e));const BW=(e,t)=>{const o=pW(e,t,MW(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate("Fonts"),onSetup:MO(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})};const LW={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]};const HW=(()=>{const e="[0-9]+";const t="[+-]?"+e;const o="[eE]"+t;const n="\\.";const s=e=>`(?:${e})?`;const r=["Infinity",e+n+s(e)+s(o),n+e+s(o),e+s(o)].join("|");const a=`[+-]?(?:${r})`;return new RegExp(`^(${a})(.*)$`)})();const IW=(e,t)=>P(t,(t=>P(LW[t],(t=>e===t))));const PW=(e,t)=>{const o=N.from(HW.exec(e));return o.bind((e=>{const o=Number(e[1]);const n=e[2];if(IW(n,t)){return N.some({value:o,unit:n})}else{return N.none()}}))};const FW=(e,t)=>PW(e,t).map((({value:e,unit:t})=>e+t));const VW={tab:x(9),escape:x(27),enter:x(13),backspace:x(8),delete:x(46),left:x(37),up:x(38),right:x(39),down:x(40),space:x(32),home:x(36),end:x(35),pageUp:x(33),pageDown:x(34)};const jW=(e,t,o)=>{let n=N.none();const s=e=>e.map((e=>wh.getValue(e))).getOr("");const r=LO(e,"NodeChange SwitchMode",(t=>{const s=t.getComponent();n=N.some(s);o.updateInputValue(s);sb.set(s,!e.selection.isEditable())}));const a=e=>({getComponent:x(e)});const c=ma(v);const i=gi("custom-number-input-events");const l=(e,t,r)=>{const a=s(n);const c=o.getNewValue(a,e);const i=a.length-`${c}`.length;const l=n.map((e=>e.element.dom.selectionStart-i));const d=n.map((e=>e.element.dom.selectionEnd-i));o.onAction(c,r);n.each((e=>{wh.setValue(e,c);if(t){l.each((t=>e.element.dom.selectionStart=t));d.each((t=>e.element.dom.selectionEnd=t))}}))};const d=(e,t)=>l(((e,t)=>e-t),e,t);const u=(e,t)=>l(((e,t)=>e+t),e,t);const f=e=>Nt(e.element).fold(N.none,(e=>{$u(e);return N.some(true)}));const m=e=>{if(Ku(e.element)){It(e.element).each((e=>$u(e)));return N.some(true)}else{return N.none()}};const g=(o,n,s,r)=>{const i=t.shared.providers.translate(s);const l=gi("altExecuting");const d=LO(e,"NodeChange SwitchMode",(t=>{sb.set(t.getComponent(),!e.selection.isEditable())}));const u=e=>{if(!sb.isDisabled(e)){o(true)}};return V_.sketch({dom:{tag:"button",attributes:{title:i,"aria-label":i},classes:r.concat(n)},components:[vH(n,t.shared.providers.icons)],buttonBehaviours:Iu([sb.config({}),pw(l,[CT({onSetup:d,getApi:a},c),ST({getApi:a},c),jc(Ga(),((e,t)=>{if(t.event.raw.keyCode===VW.space()||t.event.raw.keyCode===VW.enter()){if(!sb.isDisabled(e)){o(false)}}})),jc(Ja(),u),jc(Pa(),u)])]),eventOrder:{[Ga()]:[l,"keying"],[Ja()]:[l,"alloy.base.behaviour"],[Pa()]:[l,"alloy.base.behaviour"]}})};const p=q_(g((e=>d(false,e)),"minus","Decrease font size",["highlight-on-focus"]));const h=q_(g((e=>u(false,e)),"plus","Increase font size",["highlight-on-focus"]));const y=q_({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[cz.sketch({inputBehaviours:Iu([sb.config({}),pw(i,[CT({onSetup:r,getApi:a},c),ST({getApi:a},c)]),pw("input-update-display-text",[jc(_H,((e,t)=>{wh.setValue(e,t.event.text)})),jc($a(),(e=>{o.onAction(wh.getValue(e))})),jc(Xa(),(e=>{o.onAction(wh.getValue(e))}))]),Qk.config({mode:"special",onEnter:e=>{l(C,true,true);return N.some(true)},onEscape:f,onUp:e=>{u(true,false);return N.some(true)},onDown:e=>{d(true,false);return N.some(true)},onLeft:(e,t)=>{t.cut();return N.none()},onRight:(e,t)=>{t.cut();return N.none()}})])})],behaviours:Iu([Cw.config({}),Qk.config({mode:"special",onEnter:m,onSpace:m,onEscape:f}),pw("input-wrapper-events",[jc(qa(),(e=>{Z([p,h],(t=>{const o=Je.fromDom(t.get(e).element.dom);if(Ku(o)){Gu(o)}}))}))])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[p.asSpec(),y.asSpec(),h.asSpec()],behaviours:Iu([Cw.config({}),Qk.config({mode:"flow",focusInside:Gb.OnEnterOrSpaceMode,cycles:false,selector:"button, .tox-input-wrapper",onEscape:e=>{if(Ku(e.element)){return N.none()}else{$u(e.element);return N.some(true)}}})])}};const ZW={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"};const UW={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"};const qW=(e,t)=>{const o=Math.pow(10,t);return Math.round(e*o)/o};const WW=(e,t)=>{if(/[0-9.]+px$/.test(e)){return qW(parseInt(e,10)*72/96,t||0)+"pt"}else{return xe(UW,e).getOr(e)}};const $W=e=>xe(ZW,e).getOr("");const GW=e=>{const t=()=>{let t=N.none();const o=c.data;const n=e.queryCommandValue("FontSize");if(n){for(let e=3;t.isNone()&&e>=0;e--){const s=WW(n,e);const r=$W(s);t=Y(o,(e=>e.format===n||e.format===s||e.format===r))}}return{matchOpt:t,size:n}};const o=e=>t=>t.exists((t=>t.format===e));const n=()=>{const{matchOpt:e}=t();return e};const s=x(N.none);const r=t=>()=>{e.undoManager.transact((()=>{e.focus();e.execCommand("FontSize",false,t.format)}))};const a=e=>{const{matchOpt:o,size:n}=t();const s=o.fold(x(n),(e=>e.title));Nc(e,_H,{text:s})};const c=wW(e,"font_size_formats",vW.Space);return{tooltip:"Font sizes",text:N.some("12pt"),icon:N.none(),isSelectedFor:o,getPreviewFor:s,getCurrentValue:n,onAction:r,updateText:a,dataset:c,shouldHide:false,isInvalid:D}};const KW=(e,t)=>hW(e,t,GW(e));const YW=e=>{var t;const o={step:1};const n={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}};return(t=n[e])!==null&&t!==void 0?t:o};const XW=16;const JW=e=>e>=0;const QW=e=>{const t=()=>e.queryCommandValue("FontSize");const o=e=>Nc(e,_H,{text:t()});return{updateInputValue:o,onAction:(t,o)=>e.execCommand("FontSize",false,t,{skip_focus:!o}),getNewValue:(o,n)=>{PW(o,["unsupportedLength","empty"]);const s=PW(o,["unsupportedLength","empty"]).or(PW(t(),["unsupportedLength","empty"]));const r=s.map((e=>e.value)).getOr(XW);const a=WC(e);const c=s.map((e=>e.unit)).filter((e=>e!=="")).getOr(a);const i=n(r,YW(c).step);return`${JW(i)?i:r}${c}`}}};const e$=(e,t)=>jW(e,t,QW(e));const t$=(e,t)=>{const o=pW(e,t,GW(e));e.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:MO(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})};const o$=(e,t)=>{const o="Paragraph";const n=t=>()=>e.formatter.match(t);const s=t=>()=>{const o=e.formatter.get(t);return o!==undefined?N.some({tag:o.length>0?o[0].inline||o[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):N.none()};const r=t=>{const n=e=>{if(qF(e)){return Q(e.items,n)}else if(WF(e)){return[{title:e.title,format:e.format}]}else{return[]}};const s=Q(eV(e),n);const r=zW(e,x(s));const a=r.fold(x(o),(e=>e.title));Nc(t,_H,{text:a})};return{tooltip:"Formats",text:N.some(o),icon:N.none(),isSelectedFor:n,getCurrentValue:N.none,getPreviewFor:s,onAction:HO(e),updateText:r,shouldHide:NC(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}};const n$=(e,t)=>{const o={type:"advanced",...t.styles};return hW(e,t,o$(e,o))};const s$=(e,t)=>{const o={type:"advanced",...t.styles};const n=pW(e,t,o$(e,o));e.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:MO(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})};const r$=x([Hr("toggleClass"),Hr("fetch"),Bd("onExecute"),na("getHotspot",N.some),na("getAnchorOverrides",x({})),lm(),Bd("onItemExecute"),Gr("lazySink"),Hr("dom"),Md("onOpen"),_h("splitDropdownBehaviours",[cA,Qk,Cw]),na("matchWidth",false),na("useMinWidth",false),na("eventOrder",{}),Gr("role")].concat(OA()));const a$=ey({factory:V_,schema:[Hr("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Iu([Cw.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(Mc)},buttonBehaviours:Iu([Zw.config({toggleOnExecute:false,toggleClass:e.toggleClass})])})});const c$=ey({factory:V_,schema:[Hr("dom")],name:"button",defaults:()=>({buttonBehaviours:Iu([Cw.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each((o=>{e.onExecute(o,t)}))}})});const i$=x([a$,c$,oy({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[Hr("text")],name:"aria-descriptor"}),ty({schema:[Dd()],name:"menu",defaults:e=>({onExecute:(t,o)=>{t.getSystem().getByUid(e.uid).each((n=>{e.onItemExecute(n,t,o)}))}})}),yA()]);const l$=(e,t,o,n)=>{const s=e=>{Py.getCurrent(e).each((e=>{Cb.highlightFirst(e);Qk.focusIn(e)}))};const r=t=>{const o=s;xA(e,C,t,n,o,O_.HighlightMenuAndItem).get(v)};const a=e=>{r(e);return N.some(true)};const c=t=>{const o=hy(t,e,"button");Mc(o);return N.some(true)};const i={...Ic([Jc(((t,o)=>{const n=py(t,e,"aria-descriptor");n.each((e=>{const o=gi("aria");to(e.element,"id",o);to(t.element,"aria-describedby",o)}))}))]),...qw(N.some(r))};const l={repositionMenus:e=>{if(Zw.isOn(e)){TA(e)}}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:{...e.eventOrder,[lc()]:["disabling","toggling","alloy.base.behaviour"]},events:i,behaviours:Ch(e.splitDropdownBehaviours,[cA.config({others:{sandbox:t=>{const o=hy(t,e,"arrow");const n={onOpen:()=>{Zw.on(o);Zw.on(t)},onClose:()=>{Zw.off(o);Zw.off(t)}};return EA(e,t,n)}}}),Qk.config({mode:"special",onSpace:c,onEnter:c,onDown:a}),Cw.config({}),Zw.config({toggleOnExecute:false,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":true}}}};const d$=Ry({name:"SplitDropdown",configFields:r$(),partFields:i$(),factory:l$,apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}});const u$=e=>({isEnabled:()=>!sb.isDisabled(e),setEnabled:t=>sb.set(e,!t),setText:t=>Nc(e,_H,{text:t}),setIcon:t=>Nc(e,xH,{icon:t})});const f$=e=>({setActive:t=>{Zw.set(e,t)},isActive:()=>Zw.isOn(e),isEnabled:()=>!sb.isDisabled(e),setEnabled:t=>sb.set(e,!t),setText:t=>Nc(e,_H,{text:t}),setIcon:t=>Nc(e,xH,{icon:t})});const m$=(e,t)=>e.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({});const g$=gi("focus-button");const p$=(e,t,o,n,s)=>{const r=t.map((e=>q_(wH(e,"tox-tbtn",s))));const a=e.map((e=>q_(kH(e,s.icons))));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:m$(o,s)},components:TT([a.map((e=>e.asSpec())),r.map((e=>e.asSpec()))]),eventOrder:{[Va()]:["focusing","alloy.base.behaviour",pH],[kc()]:[pH,"toolbar-group-button-events"]},buttonBehaviours:Iu([_T.toolbarButton(s.isDisabled),yT(),pw(pH,[Jc(((e,t)=>yH(e))),jc(_H,((e,t)=>{r.bind((t=>t.getOpt(e))).each((e=>{mw.set(e,[$l(s.translate(t.event.text))])}))})),jc(xH,((e,t)=>{a.bind((t=>t.getOpt(e))).each((e=>{mw.set(e,[kH(t.event.icon,s.icons)])}))})),jc(Va(),((e,t)=>{t.event.prevent();Ac(e,g$)}))])].concat(n.getOr([])))}};const h$=(e,t,o,n)=>{const s=t.shared;const r=ma(v);const a={toolbarButtonBehaviours:[],getApi:u$,onSetup:e.onSetup};const c=[pw("toolbar-group-button-events",[CT(a,r),ST(a,r)])];return ZU.sketch({lazySink:s.getSink,fetch:()=>pA.nu((t=>{t(j(o(e.items),aq))})),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:p$(e.icon,e.text,e.tooltip,N.some(c),s.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n}}}})};const y$=(e,t,o)=>{var n;const s=ma(v);const r=p$(e.icon,e.text,e.tooltip,N.none(),o);return V_.sketch({dom:r.dom,components:r.components,eventOrder:hH,buttonBehaviours:{...Iu([pw("toolbar-button-events",[gH({onAction:e.onAction,getApi:t.getApi}),CT(t,s),ST(t,s)]),_T.toolbarButton((()=>!e.enabled||o.isDisabled())),yT()].concat(t.toolbarButtonBehaviours)),[pH]:(n=r.buttonBehaviours)===null||n===void 0?void 0:n[pH]}})};const b$=(e,t)=>v$(e,t,[]);const v$=(e,t,o)=>y$(e,{toolbarButtonBehaviours:o.length>0?[pw("toolbarButtonWith",o)]:[],getApi:u$,onSetup:e.onSetup},t);const k$=(e,t)=>w$(e,t,[]);const w$=(e,t,o)=>y$(e,{toolbarButtonBehaviours:[mw.config({}),Zw.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:false})].concat(o.length>0?[pw("toolbarToggleButtonWith",o)]:[]),getApi:f$,onSetup:e.onSetup},t);const _$=(e,t,o)=>n=>pA.nu((e=>t.fetch(e))).map((s=>N.from($A(Ds(ED(gi("menu-value"),s,(o=>{t.onItemAction(e(n),o)}),t.columns,t.presets,TS.CLOSE_ON_EXECUTE,t.select.getOr(D),o),{movement:OD(t.columns,t.presets),menuBehaviours:QE.unnamedEvents(t.columns!=="auto"?[]:[Jc(((e,o)=>{YE(e,4,KS(t.presets)).each((({numRows:t,numColumns:o})=>{Qk.setGridSize(e,t,o)}))}))])})))));const x$=(e,t)=>{const o=e=>({isEnabled:()=>!sb.isDisabled(e),setEnabled:t=>sb.set(e,!t),setIconFill:(t,o)=>{id(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each((e=>{to(e,"fill",o)}))},setActive:t=>{to(e.element,"aria-pressed",t);id(e.element,"span").each((o=>{e.getSystem().getByDom(o).each((e=>Zw.set(e,t)))}))},isActive:()=>id(e.element,"span").exists((t=>e.getSystem().getByDom(t).exists(Zw.isOn))),setText:t=>id(e.element,"span").each((o=>e.getSystem().getByDom(o).each((e=>Nc(e,_H,{text:t}))))),setIcon:t=>id(e.element,"span").each((o=>e.getSystem().getByDom(o).each((e=>Nc(e,xH,{icon:t})))))});const n=ma(v);const s={getApi:o,onSetup:e.onSetup};return d$.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":false,...m$(e.tooltip,t.providers)}},onExecute:t=>{const n=o(t);if(n.isEnabled()){e.onAction(n)}},onItemExecute:(e,t,o)=>{},splitDropdownBehaviours:Iu([_T.splitButton(t.providers.isDisabled),yT(),pw("split-dropdown-events",[Jc(((e,t)=>yH(e))),jc(g$,Cw.focus),CT(s,n),ST(s,n)]),yM.config({})]),eventOrder:{[kc()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:_$(o,e,t.providers),parts:{menu:tz(false,e.columns,e.presets)},components:[d$.parts.button(p$(e.icon,e.text,N.none(),N.some([Zw.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:false})]),t.providers)),d$.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:sC("chevron-down",t.providers.icons)},buttonBehaviours:Iu([_T.splitButton(t.providers.isDisabled),yT(),cC()])}),d$.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})};const C$=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}];const S$=(e,t)=>(o,n,s)=>{const r=e(o).mapError((e=>Ar(e))).getOrDie();return t(r,n,s)};const z$={button:S$(gE,((e,t)=>b$(e,t.shared.providers))),togglebutton:S$(yE,((e,t)=>k$(e,t.shared.providers))),menubutton:S$(TZ,((e,t)=>PI(e,"tox-tbtn",t,N.none(),false))),splitbutton:S$(DZ,((e,t)=>x$(e,t.shared))),grouptoolbarbutton:S$(SZ,((e,t,o)=>{const n=o.ui.registry.getAll().buttons;const s=e=>R$(o,{buttons:n,toolbar:e,allowToolbarGroups:false},t,N.none());const r={[cm]:t.shared.header.isPositionedAtTop()?am.TopToBottom:am.BottomToTop};switch(BC(o)){case bC.floating:return h$(e,t,s,r);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}))};const E$=(e,t,o)=>xe(z$,e.type).fold((()=>{console.error("skipping button defined by",e);return N.none()}),(n=>N.some(n(e,t,o))));const T$={styles:n$,fontsize:KW,fontsizeinput:e$,fontfamily:RW,blocks:TW,align:CW};const O$=e=>{const t=j(C$,(t=>{const o=W(t.items,(t=>Ce(e,t)||Ce(T$,t)));return{name:t.name,items:o}}));return W(t,(e=>e.items.length>0))};const D$=e=>{const t=e.split("|");return j(t,(e=>({items:e.trim().split(" ")})))};const A$=e=>b(e,(e=>Ce(e,"name")&&Ce(e,"items")));const N$=e=>{const t=e.toolbar;const o=e.buttons;if(t===false){return[]}else if(t===undefined||t===true){return O$(o)}else if(c(t)){return D$(t)}else if(A$(t)){return t}else{console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]");return[]}};const M$=(e,t,o,n,s,r)=>xe(t,o.toLowerCase()).orThunk((()=>r.bind((e=>de(e,(e=>xe(t,e+o.toLowerCase()))))))).fold((()=>xe(T$,o.toLowerCase()).map((t=>t(e,s)))),(t=>{if(t.type==="grouptoolbarbutton"&&!n){console.warn(`Ignoring the '${o}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`);return N.none()}else{return E$(t,s,e)}}));const R$=(e,t,o,n)=>{const s=N$(t);const r=j(s,(s=>{const r=Q(s.items,(s=>s.trim().length===0?[]:M$(e,t.buttons,s,t.allowToolbarGroups,o,n).toArray()));return{title:N.from(e.translate(s.name)),items:r}}));return W(r,(e=>e.items.length>0))};const B$=(e,t,o,n)=>{const s=t.mainUi.outerContainer;const r=o.toolbar;const a=o.buttons;if(b(r,c)){const t=r.map((t=>{const s={toolbar:t,buttons:a,allowToolbarGroups:o.allowToolbarGroups};return R$(e,s,n,N.none())}));eW.setToolbars(s,t)}else{eW.setToolbar(s,R$(e,o,n,N.none()))}};const L$=Sn();const H$=L$.os.isiOS()&&L$.os.version.major<=12;const I$=(e,t)=>{const{uiMotherships:o}=t;const n=e.dom;let s=e.getWin();const r=e.getDoc().documentElement;const a=ma(Eo(s.innerWidth,s.innerHeight));const c=ma(Eo(r.offsetWidth,r.offsetHeight));const i=()=>{const t=a.get();if(t.left!==s.innerWidth||t.top!==s.innerHeight){a.set(Eo(s.innerWidth,s.innerHeight));zO(e)}};const l=()=>{const t=e.getDoc().documentElement;const o=c.get();if(o.left!==t.offsetWidth||o.top!==t.offsetHeight){c.set(Eo(t.offsetWidth,t.offsetHeight));zO(e)}};const d=t=>{EO(e,t)};n.bind(s,"resize",i);n.bind(s,"scroll",d);const u=Df(Je.fromDom(e.getBody()),"load",l);e.on("hide",(()=>{Z(o,(e=>{uo(e.element,"display","none")}))}));e.on("show",(()=>{Z(o,(e=>{vo(e.element,"display")}))}));e.on("NodeChange",l);e.on("remove",(()=>{u.unbind();n.unbind(s,"resize",i);n.unbind(s,"scroll",d);s=null}))};const P$=(e,t,o)=>{if(vS(e)){yp(o.mainUi.mothership.element,o.popupUi.mothership)}hp(t,o.dialogUi.mothership)};const F$=(e,t,o,n,s)=>{const{mainUi:r,uiMotherships:a}=t;const c=ma(0);const i=r.outerContainer;e.on("SkinLoaded",(()=>{B$(e,t,o,n)}));fW(e);const l=Je.fromDom(s.targetNode);const d=qt(Ut(l));yp(l,r.mothership);P$(e,d,t);e.on("PostRender",(()=>{eW.setSidebar(i,o.sidebar,nS(e));B$(e,t,o,n);c.set(e.getWin().innerWidth);eW.setMenubar(i,rW(e,o));eW.setViews(i,o.views);I$(e,t)}));const f=eW.getSocket(i).getOrDie("Could not find expected socket element");if(H$){fo(f.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const t=RL((()=>{e.dispatch("ScrollContent")}),20);const o=Of(f.element,"scroll",t.throttle);e.on("remove",o.unbind)}hT(e,t);e.addCommand("ToggleSidebar",((t,o)=>{eW.toggleSidebar(i,o);e.dispatch("ToggleSidebar")}));e.addQueryValueHandler("ToggleSidebar",(()=>{var e;return(e=eW.whichSidebar(i))!==null&&e!==void 0?e:""}));e.addCommand("ToggleView",((t,o)=>{if(eW.toggleView(i,o)){const t=i.element;r.mothership.broadcastOn([Fp()],{target:t});Z(a,(e=>{e.broadcastOn([Fp()],{target:t})}));if(u(eW.whichView(i))){e.focus();e.nodeChanged();eW.refreshToolbar(i)}}}));e.addQueryValueHandler("ToggleView",(()=>{var e;return(e=eW.whichView(i))!==null&&e!==void 0?e:""}));const m=BC(e);const g=()=>{eW.refreshToolbar(t.mainUi.outerContainer)};if(m===bC.sliding||m===bC.floating){e.on("ResizeWindow ResizeEditor ResizeContent",(()=>{const t=e.getWin().innerWidth;if(t!==c.get()){g();c.set(t)}}))}const p={setEnabled:e=>{pT(t,!e)},isEnabled:()=>!sb.isDisabled(i)};return{iframeContainer:f.element.dom,editorContainer:i.element.dom,api:p}};var V$=Object.freeze({__proto__:null,render:F$});const j$=e=>{const t=/^[0-9\.]+(|px)$/i;if(t.test(""+e)){return N.some(parseInt(""+e,10))}return N.none()};const Z$=e=>y(e)?e+"px":e;const U$=(e,t,o)=>{const n=t.filter((t=>e<t));const s=o.filter((t=>e>t));return n.or(s).getOr(e)};const q$=e=>{const t=CC(e);const o=EC(e);const n=OC(e);return j$(t).map((e=>U$(e,o,n)))};const W$=e=>{const t=q$(e);return t.getOr(CC(e))};const $$=e=>{const t=SC(e);const o=zC(e);const n=TC(e);return j$(t).map((e=>U$(e,o,n)))};const G$=e=>{const t=$$(e);return t.getOr(SC(e))};const{ToolbarLocation:K$,ToolbarMode:Y$}=wS;const X$=40;const J$=(e,t,o,n,s)=>{const{mainUi:r,uiMotherships:a}=o;const c=pC.DOM;const i=pS(e);const l=bS(e);const d=TC(e).or($$(e));const u=n.shared.header;const f=u.isPositionedAtTop;const m=BC(e);const g=m===Y$.sliding||m===Y$.floating;const p=ma(false);const h=()=>p.get()&&!e.removed;const y=e=>g?e.fold(x(0),(e=>e.components().length>1?xo(e.components()[1].element):0)):0;const b=o=>{switch(HC(e)){case K$.auto:const e=eW.getToolbar(r.outerContainer);const n=y(e);const s=xo(o.element)-n;const a=os(t);const c=a.y>s;if(c){return"top"}else{const e=Tt(t);const o=Math.max(e.dom.scrollHeight,xo(e));const n=a.bottom<o-s;if(n){return"bottom"}else{const e=as();const t=e.bottom<a.bottom-s;return t?"bottom":"top"}}case K$.bottom:return"bottom";case K$.top:default:return"top"}};const v=e=>{s.on((t=>{aZ.setModes(t,[e]);u.setDockingMode(e);const o=f()?am.TopToBottom:am.BottomToTop;to(t.element,cm,o)}))};const k=()=>{s.on((e=>{const o=d.getOrThunk((()=>{const e=j$(go(Jt(),"margin-left")).getOr(0);return Ro(Jt())-Do(t).left+e}));uo(e.element,"max-width",o+"px")}))};const w=o=>{s.on((n=>{const s=eW.getToolbar(r.outerContainer);const a=y(s);const c=os(t);const{top:i,left:l}=_(e,r.outerContainer.element).fold((()=>({top:f()?Math.max(c.y-xo(n.element)+a,0):c.bottom,left:c.x})),(e=>{var t;const o=os(e);const s=(t=e.dom.scrollTop)!==null&&t!==void 0?t:0;const r=Ct(e,Jt());const i=r?Math.max(c.y-xo(n.element)+a,0):c.y-o.y+s-xo(n.element)+a;return{top:f()?i:c.bottom,left:r?c.x:c.x-o.x}}));const d={position:"absolute",left:Math.round(l)+"px",top:Math.round(i)+"px"};const u=o.map((e=>{const t=Vn();const o=150;const n=window.innerWidth-(l-t.left);const s=Math.max(Math.min(e,n),o);return{width:s+"px"}})).getOr({});fo(r.outerContainer.element,{...d,...u})}))};const _=(e,t)=>vS(e)?gj(t):N.none();const C=()=>{Z(a,(e=>{e.broadcastOn([Vp()],{})}))};const S=()=>{if(!i){const e=Do(r.outerContainer.element).left+Bo(r.outerContainer.element);if(e>=window.innerWidth-X$||ho(r.outerContainer.element,"width").isSome()){uo(r.outerContainer.element,"position","absolute");uo(r.outerContainer.element,"left","0px");vo(r.outerContainer.element,"width");const e=Bo(r.outerContainer.element);return N.some(e)}else{return N.none()}}else{return N.none()}};const z=e=>{if(!h()){return}if(!i){k()}const t=i?N.none():S();if(g){eW.refreshToolbar(r.outerContainer)}if(!i){w(t)}if(l){s.on(e)}C()};const E=()=>{if(i||!l||!h()){return false}return s.get().exists((e=>{const t=u.getDockingMode();const o=b(e);if(o!==t){v(o);return true}else{return false}}))};const T=()=>{p.set(true);uo(r.outerContainer.element,"display","flex");c.addClass(e.getBody(),"mce-edit-focus");Z(a,(e=>{vo(e.element,"display")}));E();if(vS(e)){z((e=>aZ.isDocked(e)?aZ.reset(e):aZ.refresh(e)))}else{z(aZ.refresh)}};const O=()=>{p.set(false);uo(r.outerContainer.element,"display","none");c.removeClass(e.getBody(),"mce-edit-focus");Z(a,(e=>{uo(e.element,"display","none")}))};const D=()=>{const e=E();if(e){z(aZ.reset)}};return{isVisible:h,isPositionedAtTop:f,show:T,hide:O,update:z,updateMode:D,repositionPopups:C}};const Q$=(e,t)=>{const o=os(e);return{pos:t?o.y:o.bottom,bounds:o}};const eG=(e,t,o,n)=>{const s=ma(Q$(t,o.isPositionedAtTop()));const r=n=>{const{pos:r,bounds:a}=Q$(t,o.isPositionedAtTop());const{pos:c,bounds:i}=s.get();const l=a.height!==i.height||a.width!==i.width;s.set({pos:r,bounds:a});if(l){zO(e,n)}if(o.isVisible()){if(c!==r){o.update(aZ.reset)}else if(l){o.updateMode();o.repositionPopups()}}};if(!n){e.on("activate",o.show);e.on("deactivate",o.hide)}e.on("SkinLoaded ResizeWindow",(()=>o.update(aZ.reset)));e.on("NodeChange keydown",(e=>{requestAnimationFrame((()=>r(e)))}));let a=0;const c=BL((()=>o.update(aZ.refresh)),33);e.on("ScrollWindow",(()=>{const e=Vn().left;if(e!==a){a=e;c.throttle()}o.updateMode()}));if(vS(e)){e.on("ElementScroll",(e=>{o.update(aZ.refresh)}))}const i=zf();i.set(Df(Je.fromDom(e.getBody()),"load",(e=>r(e.raw))));e.on("remove",(()=>{i.clear()}))};const tG=(e,t,o,n,s)=>{const{mainUi:r}=t;const a=Ef();const c=Je.fromDom(s.targetNode);const i=J$(e,c,t,n,a);const l=FC(e);mW(e);const d=()=>{if(a.isSet()){i.show();return}a.set(eW.getHeader(r.outerContainer).getOrDie());const s=hS(e);if(vS(e)){yp(c,r.mothership);yp(c,t.popupUi.mothership)}else{hp(s,r.mothership)}hp(s,t.dialogUi.mothership);B$(e,t,o,n);eW.setMenubar(r.outerContainer,rW(e,o));i.show();eG(e,c,i,l);e.nodeChanged()};e.on("show",d);e.on("hide",i.hide);if(!l){e.on("focus",d);e.on("blur",i.hide)}e.on("init",(()=>{if(e.hasFocus()||l){d()}}));hT(e,t);const u={show:d,hide:i.hide,setEnabled:e=>{pT(t,!e)},isEnabled:()=>!sb.isDisabled(r.outerContainer)};return{editorContainer:r.outerContainer.element.dom,api:u}};var oG=Object.freeze({__proto__:null,render:tG});const nG=()=>{const e=Ef();const t=Ef();const o=Ef();const n=(e,t)=>()=>o.get().bind((e=>t(e.outerContainer))).getOrDie(`Could not find ${e} element in OuterContainer`);const s=()=>{const o=e.get().map((e=>e.mothership));const n=t.get().map((e=>e.mothership));return o.fold((()=>n.toArray()),(e=>n.fold((()=>[e]),(t=>Ct(e.element,t.element)?[e]:[e,t]))))};return{dialogUi:e,popupUi:t,mainUi:o,getUiMotherships:s,lazyGetInOuterOrDie:n}};const sG="contexttoolbar-show";const rG="contexttoolbar-hide";const aG=e=>({hide:()=>Ac(e,mc()),getValue:()=>wh.getValue(e)});const cG=(e,t)=>jc(mH,((o,n)=>{const s=e.get(o);const r=aG(s);t.onAction(r,n.event.buttonApi)}));const iG=(e,t,o)=>{const{primary:n,...s}=t.original;const r=Or(gE({...s,type:"button",onAction:v}));return v$(r,o,[cG(e,t)])};const lG=(e,t,o)=>{const{primary:n,...s}=t.original;const r=Or(yE({...s,type:"togglebutton",onAction:v}));return w$(r,o,[cG(e,t)])};const dG=e=>e.type==="contextformtogglebutton";const uG=(e,t,o)=>{if(dG(t)){return lG(e,t,o)}else{return iG(e,t,o)}};const fG=(e,t,o)=>{const n=j(t,(t=>q_(uG(e,t,o))));const s=()=>j(n,(e=>e.asSpec()));const r=e=>de(t,((t,o)=>{if(t.primary){return N.from(n[o]).bind((t=>t.getOpt(e))).filter(E(sb.isDisabled))}else{return N.none()}}));return{asSpecs:s,findPrimary:r}};const mG=(e,t)=>{const o=e.label.fold((()=>({})),(e=>({"aria-label":e})));const n=q_(cz.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:o,selectOnFocus:true,inputBehaviours:Iu([Qk.config({mode:"special",onEnter:e=>s.findPrimary(e).map((e=>{Mc(e);return true})),onLeft:(e,t)=>{t.cut();return N.none()},onRight:(e,t)=>{t.cut();return N.none()}})])}));const s=fG(n,e.commands,t);return[{title:N.none(),items:[n.asSpec()]},{title:N.none(),items:s.asSpecs()}]};const gG=(e,t,o)=>uq({type:e,uid:gi("context-toolbar"),initGroups:mG(t,o),onEscape:N.none,cyclicKeying:true,providers:o});const pG={renderContextForm:gG,buildInitGroups:mG};const hG=(e,t,o)=>t.bottom-e.y>=o&&e.bottom-t.y>=o;const yG=e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const o=Ft(Je.fromDom(e.startContainer),e.startOffset).element;const n=ht(o)?Dt(o):N.some(o);return n.filter(pt).map((e=>e.dom.getBoundingClientRect())).getOr(t)}else{return t}};const bG=e=>{const t=e.selection.getRng();const o=yG(t);if(e.inline){const e=Vn();return ts(e.left+o.left,e.top+o.top,o.width,o.height)}else{const t=ns(Je.fromDom(e.getBody()));return ts(t.x+o.left,t.y+o.top,o.width,o.height)}};const vG=(e,t)=>t.filter((e=>Xt(e)&&gt(e))).map(ns).getOrThunk((()=>bG(e)));const kG=(e,t,o)=>{const n=Math.max(e.x+o,t.x);const s=Math.min(e.right-o,t.right);return{x:n,width:s-n}};const wG=(e,t,o,n,s,r)=>{const a=Je.fromDom(e.getContainer());const c=id(a,".tox-editor-header").getOr(a);const i=os(c);const l=i.y>=t.bottom;const d=n&&!l;if(e.inline&&d){return{y:Math.max(i.bottom+r,o.y),bottom:o.bottom}}if(e.inline&&!d){return{y:o.y,bottom:Math.min(i.y-r,o.bottom)}}const u=s==="line"?os(a):t;if(d){return{y:Math.max(i.bottom+r,o.y),bottom:Math.min(u.bottom-r,o.bottom)}}return{y:Math.max(u.y+r,o.y),bottom:Math.min(i.y-r,o.bottom)}};const _G=(e,t,o,n=0)=>{const s=qn(window);const r=os(Je.fromDom(e.getContentAreaContainer()));const a=cS(e)||dS(e)||fS(e);const{x:c,width:i}=kG(r,s,n);if(e.inline&&!a){return ts(c,s.y,i,s.height)}else{const a=t.header.isPositionedAtTop();const{y:l,bottom:d}=wG(e,r,s,a,o,n);return ts(c,l,i,d-l)}};const xG=12;const CG={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]};const SG={maxHeightFunction:Yf(),maxWidthFunction:MU()};const zG=(e,t)=>{const o=e.selection.getRng();const n=Ft(Je.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&Ct(n.element,t)};const EG=(e,t,o)=>{const n=ho(e,"position");uo(e,"position",t);const s=o(e);n.each((t=>uo(e,"position",t)));return s};const TG=e=>e==="node";const OG=(e,t,o,n,s)=>{const r=bG(e);const a=n.lastElement().exists((e=>Ct(o,e)));if(zG(e,o)){return a?EF:_F}else if(a){return EG(t,n.getMode(),(()=>{const e=hG(r,os(t),-20);return e&&!n.isReposition()?OF:EF}))}else{const e=n.getMode()==="fixed"?s.y+Vn().top:s.y;const o=xo(t)+xG;return e+o<=r.y?_F:xF}};const DG=(e,t,o,n)=>{const s=t=>(n,s,r,a,c)=>{const i=OG(e,a,t,o,c);const l={...n,y:c.y,height:c.height};return{...i(l,s,r,a,c),alwaysFit:true}};const r=e=>TG(n)?[s(e)]:[];const a={onLtr:e=>[yu,bu,pu,mu,hu,gu].concat(r(e)),onRtl:e=>[yu,bu,hu,gu,pu,mu].concat(r(e))};const c={onLtr:e=>[bu,mu,gu,pu,hu,yu].concat(r(e)),onRtl:e=>[bu,gu,mu,hu,pu,yu].concat(r(e))};return t?c:a};const AG=(e,t,o,n)=>{if(t==="line"){return{bubble:tm(xG,0,CG),layouts:{onLtr:()=>[vu],onRtl:()=>[ku]},overrides:SG}}else{return{bubble:tm(0,xG,CG,1/xG),layouts:DG(e,o,n,t),overrides:SG}}};const NG=(e,t)=>{const o=W(t,(t=>t.predicate(e.dom)));const{pass:n,fail:s}=q(o,(e=>e.type==="contexttoolbar"));return{contextToolbars:n,contextForms:s}};const MG=e=>{if(e.length<=1){return e}else{const t=t=>P(e,(e=>e.position===t));const o=t=>W(e,(e=>e.position===t));const n=t("selection");const s=t("node");if(n||s){if(s&&n){const e=o("node");const t=j(o("selection"),(e=>({...e,position:"node"})));return e.concat(t)}else{return n?o("selection"):o("node")}}else{return o("line")}}};const RG=e=>{if(e.length<=1){return e}else{const t=t=>Y(e,(e=>e.position===t));const o=t("selection").orThunk((()=>t("node"))).orThunk((()=>t("line"))).map((e=>e.position));return o.fold((()=>[]),(t=>W(e,(e=>e.position===t))))}};const BG=(e,t,o)=>{const n=NG(e,t);if(n.contextForms.length>0){return N.some({elem:e,toolbars:[n.contextForms[0]]})}else{const t=NG(e,o);if(t.contextForms.length>0){return N.some({elem:e,toolbars:[t.contextForms[0]]})}else if(n.contextToolbars.length>0||t.contextToolbars.length>0){const o=MG(n.contextToolbars.concat(t.contextToolbars));return N.some({elem:e,toolbars:o})}else{return N.none()}}};const LG=(e,t,o)=>{if(e(t)){return N.none()}else{return Ea(t,(e=>{if(pt(e)){const{contextToolbars:t,contextForms:n}=NG(e,o.inNodeScope);const s=n.length>0?n:RG(t);return s.length>0?N.some({elem:e,toolbars:s}):N.none()}else{return N.none()}}),e)}};const HG=(e,t)=>{const o=Je.fromDom(t.getBody());const n=e=>Ct(e,o);const s=e=>!n(e)&&!St(o,e);const r=Je.fromDom(t.selection.getNode());if(s(r)){return N.none()}return BG(r,e.inNodeScope,e.inEditorScope).orThunk((()=>LG(n,r,e)))};const IG=(e,t)=>{const o={};const n=[];const s=[];const r={};const a={};const c=(e,c)=>{const i=Or(SE(c));o[e]=i;i.launch.map((o=>{r["form:"+e+""]={...c.launch,type:o.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{t(i)}}}));if(i.scope==="editor"){s.push(i)}else{n.push(i)}a[e]=i};const i=(e,t)=>{EE(t).each((o=>{if(t.scope==="editor"){s.push(o)}else{n.push(o)}a[e]=o}))};const l=ue(e);Z(l,(t=>{const o=e[t];if(o.type==="contextform"){c(t,o)}else if(o.type==="contexttoolbar"){i(t,o)}}));return{forms:o,inNodeScope:n,inEditorScope:s,lookupTable:a,formNavigators:r}};const PG=gi("forward-slide");const FG=gi("backward-slide");const VG=gi("change-slide-event");const jG="tox-pop--resizing";const ZG=e=>{const t=ma([]);return I_.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{t.set([]);I_.getContent(e).each((e=>{vo(e.element,"visibility")}));bl(e.element,jG);vo(e.element,"width")},inlineBehaviours:Iu([pw("context-toolbar-events",[Xc(ec(),((e,t)=>{if(t.event.raw.propertyName==="width"){bl(e.element,jG);vo(e.element,"width")}})),jc(VG,((e,t)=>{const o=e.element;vo(o,"width");const n=Ro(o);I_.setContent(e,t.event.contents);hl(o,jG);const s=Ro(o);uo(o,"width",n+"px");I_.getContent(e).each((e=>{t.event.focus.bind((e=>{$u(e);return Xu(o)})).orThunk((()=>{Qk.focusIn(e);return Yu(Ut(o))}))}));setTimeout((()=>{uo(e.element,"width",s+"px")}),0)})),jc(PG,((e,o)=>{I_.getContent(e).each((o=>{t.set(t.get().concat([{bar:o,focus:Yu(Ut(e.element))}]))}));Nc(e,VG,{contents:o.event.forwardContents,focus:N.none()})})),jc(FG,((e,o)=>{ie(t.get()).each((o=>{t.set(t.get().slice(0,t.get().length-1));Nc(e,VG,{contents:Ql(o.bar),focus:o.focus})}))}))]),Qk.config({mode:"special",onEscape:o=>ie(t.get()).fold((()=>e.onEscape()),(e=>{Ac(o,FG);return N.some(true)}))})]),lazySink:()=>us.value(e.sink)})};const UG="tox-pop--transition";const qG=(e,t,o,n)=>{const s=n.backstage;const r=s.shared;const a=Sn().deviceType.isTouch;const c=Ef();const i=Ef();const l=Ef();const d=Jl(ZG({sink:o,onEscape:()=>{e.focus();return N.some(true)}}));const u=()=>{const t=l.get().getOr("node");const o=TG(t)?1:0;return _G(e,r,t,o)};const f=()=>!e.removed&&!(a()&&s.isContextMenuOpen());const m=e=>ze(De(e,c.get(),Ct),true);const g=()=>{if(!f()){return true}else{const t=u();const o=ze(l.get(),"node")?vG(e,c.get()):bG(e);return t.height<=0||!hG(o,t,.01)}};const p=()=>{c.clear();i.clear();l.clear();I_.hide(d)};const h=()=>{if(I_.isOpen(d)){const e=d.element;vo(e,"display");if(g()){uo(e,"display","none")}else{i.set(0);I_.reposition(d)}}};const y=t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Iu([Qk.config({mode:"acyclic"}),pw("pop-dialog-wrap-events",[Jc((t=>{e.shortcuts.add("ctrl+F9","focus statusbar",(()=>Qk.focusIn(t)))})),Qc((t=>{e.shortcuts.remove("ctrl+F9")}))])])});const b=Ho((()=>IG(t,(e=>{const t=_([e]);Nc(d,PG,{forwardContents:y(t)})}))));const k=(t,o)=>R$(e,{buttons:t,toolbar:o.items,allowToolbarGroups:false},n.backstage,N.some(["form:"]));const w=(e,t)=>pG.buildInitGroups(e,t);const _=t=>{const{buttons:o}=e.ui.registry.getAll();const n=b();const s={...o,...n.formNavigators};const a=BC(e)===bC.scrolling?bC.scrolling:bC.default;const c=J(j(t,(e=>e.type==="contexttoolbar"?k(s,e):w(e,r.providers))));return uq({type:a,uid:gi("context-toolbar"),initGroups:c,onEscape:N.none,cyclicKeying:true,providers:r.providers})};const x=(t,n)=>{const s=t==="node"?r.anchors.node(n):r.anchors.cursor();const l=AG(e,t,a(),{lastElement:c.get,isReposition:()=>ze(i.get(),0),getMode:()=>tp.getMode(o)});return Ds(s,l)};const C=(e,t)=>{z.cancel();if(!f()){return}const n=_(e);const s=e[0].position;const r=x(s,t);l.set(s);i.set(1);const a=d.element;vo(a,"display");if(!m(t)){bl(a,UG);tp.reset(o,d)}I_.showWithinBounds(d,y(n),{anchor:r,transition:{classes:[UG],mode:"placement"}},(()=>N.some(u())));t.fold(c.clear,c.set);if(g()){uo(a,"display","none")}};let S=false;const z=BL((()=>{if(!e.hasFocus()||e.removed||S){return}if(vl(d.element,UG)){z.throttle()}else{const t=b();HG(t,e).fold(p,(e=>{C(e.toolbars,N.some(e.elem))}))}}),17);e.on("init",(()=>{e.on("remove",p);e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",h);e.on("click keyup focus SetContent",z.throttle);e.on(rG,p);e.on(sG,(t=>{const o=b();xe(o.lookupTable,t.toolbarKey).each((o=>{C([o],Me(t.target!==e,t.target));I_.getContent(d).each(Qk.focusIn)}))}));e.on("focusout",(t=>{P_.setEditorTimeout(e,(()=>{if(Xu(o.element).isNone()&&Xu(d.element).isNone()){p()}}),0)}));e.on("SwitchMode",(()=>{if(e.mode.isReadOnly()){p()}}));e.on("AfterProgressState",(t=>{if(t.state){p()}else if(e.hasFocus()){z.throttle()}}));e.on("dragstart",(()=>{S=true}));e.on("dragend drop",(()=>{S=false}));e.on("NodeChange",(e=>{Xu(d.element).fold(z.throttle,v)}))}))};const WG=e=>{const t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];Z(t,(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:IO(e,t.cmd),onSetup:BO(e,t.name)})}));e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:MO(e),onAction:IO(e,"JustifyNone")})};const $G=(e,t)=>{const o=()=>{const o=t.getOptions(e);const n=t.getCurrent(e).map(t.hash);const s=Ef();return j(o,(o=>({type:"togglemenuitem",text:t.display(o),onSetup:r=>{const a=e=>{if(e){s.on((e=>e.setActive(false)));s.set(r)}r.setActive(e)};a(ze(n,t.hash(o)));const c=t.watcher(e,o,a);return()=>{s.clear();c()}},onAction:()=>t.setCurrent(e,o)})))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(o()),onSetup:t.onToolbarSetup});e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:o,onSetup:t.onMenuSetup})};const GG=e=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:lS,hash:e=>FW(e,["fixed","relative","empty"]).getOr(e),display:C,watcher:(e,t,o)=>e.formatter.formatChanged("lineheight",o,false,{value:t}).unbind,getCurrent:e=>N.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",false,t),onToolbarSetup:MO(e),onMenuSetup:MO(e)});const KG=e=>{const t=N.from(MC(e));return t.map((t=>({name:"language",text:"Language",icon:"language",getOptions:x(t),hash:e=>m(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,o)=>{var n;return e.formatter.formatChanged("lang",o,false,{value:t.code,customValue:(n=t.customCode)!==null&&n!==void 0?n:null}).unbind},getCurrent:e=>{const t=Je.fromDom(e.selection.getNode());return Ta(t,(e=>N.some(e).filter(pt).bind((e=>{const t=so(e,"lang");return t.map((t=>{const o=so(e,"data-mce-lang").getOrUndefined();return{code:t,customCode:o,title:""}}))}))))},setCurrent:(e,t)=>e.execCommand("Lang",false,t),onToolbarSetup:t=>{const o=zf();t.setActive(e.formatter.match("lang",{},undefined,true));o.set(e.formatter.formatChanged("lang",t.setActive,true));return NO(o.clear,MO(e)(t))},onMenuSetup:MO(e)})))};const YG=e=>{$G(e,GG(e));KG(e).each((t=>$G(e,t)))};const XG=(e,t)=>{SW(e,t);BW(e,t);s$(e,t);OW(e,t);t$(e,t)};const JG=e=>LO(e,"NodeChange",(t=>{t.setEnabled(e.queryCommandState("outdent")&&e.selection.isEditable())}));const QG=e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:JG(e),onAction:IO(e,"outdent")});e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:MO(e),onAction:IO(e,"indent")})};const eK=e=>{QG(e)};const tK=(e,t)=>o=>{o.setActive(t.get());const n=e=>{t.set(e.state);o.setActive(e.state)};e.on("PastePlainTextToggle",n);return NO((()=>e.off("PastePlainTextToggle",n)),MO(e)(o))};const oK=e=>{const t=ma(oS(e));const o=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:false,icon:"paste-text",tooltip:"Paste as text",onAction:o,onSetup:tK(e,t)});e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:o,onSetup:tK(e,t)})};const nK=(e,t)=>()=>{e.execCommand("mceToggleFormat",false,t)};const sK=e=>{OL.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],((t,o)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:BO(e,t.name),onAction:nK(e,t.name)})}));for(let t=1;t<=6;t++){const o="h"+t;e.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+t,onSetup:BO(e,o),onAction:nK(e,o)})}};const rK=e=>{OL.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:IO(e,t.action)})}));OL.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:MO(e),onAction:IO(e,t.action)})}))};const aK=e=>{OL.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:IO(e,t.action),onSetup:BO(e,t.name)})}))};const cK=e=>{sK(e);rK(e);aK(e)};const iK=e=>{OL.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:IO(e,t.action)})}));OL.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onSetup:MO(e),onAction:IO(e,t.action)})}));e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:MO(e),onAction:nK(e,"code")})};const lK=e=>{cK(e);iK(e)};const dK=(e,t)=>LO(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(o=>{o.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())}));const uK=e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:dK(e,"hasUndo"),onAction:IO(e,"undo")});e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:dK(e,"hasRedo"),onAction:IO(e,"redo")})};const fK=e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:false,onSetup:dK(e,"hasUndo"),onAction:IO(e,"undo")});e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:false,onSetup:dK(e,"hasRedo"),onAction:IO(e,"redo")})};const mK=e=>{uK(e);fK(e)};const gK=e=>LO(e,"VisualAid",(t=>{t.setActive(e.hasVisual)}));const pK=e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:gK(e),onAction:IO(e,"mceToggleVisualAid")})};const hK=e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:IO(e,"mceToggleVisualAid")})};const yK=e=>{hK(e);pK(e)};const bK=(e,t)=>{WG(e);lK(e);XG(e,t);mK(e);zD(e);yK(e);eK(e);YG(e);oK(e)};const vK=e=>c(e)?e.split(/[ ,]/):e;const kK=e=>t=>t.options.get(e);const wK=e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""});t("contextmenu_never_use_native",{processor:"boolean",default:false});t("contextmenu",{processor:e=>{if(e===false){return{value:[],valid:true}}else if(c(e)||b(e,c)){return{value:vK(e),valid:true}}else{return{valid:false,message:"Must be false or a string."}}},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})};const _K=kK("contextmenu_never_use_native");const xK=kK("contextmenu_avoid_overlap");const CK=e=>SK(e).length===0;const SK=e=>{const t=e.ui.registry.getAll().contextMenus;const o=e.options.get("contextmenu");if(e.options.isSet("contextmenu")){return o}else{return W(o,(e=>Ce(t,e)))}};const zK=(e,t)=>({type:"makeshift",x:e,y:t});const EK=(e,t,o)=>zK(e.x+t,e.y+o);const TK=e=>e.type==="longpress"||e.type.indexOf("touch")===0;const OK=e=>{if(TK(e)){const t=e.touches[0];return zK(t.pageX,t.pageY)}else{return zK(e.pageX,e.pageY)}};const DK=e=>{if(TK(e)){const t=e.touches[0];return zK(t.clientX,t.clientY)}else{return zK(e.clientX,e.clientY)}};const AK=(e,t)=>{const o=pC.DOM.getPos(e);return EK(t,o.x,o.y)};const NK=(e,t)=>{if(t.type==="contextmenu"||t.type==="longpress"){if(e.inline){return OK(t)}else{return AK(e.getContentAreaContainer(),DK(t))}}else{return MK(e)}};const MK=e=>({type:"selection",root:Je.fromDom(e.selection.getNode())});const RK=e=>({type:"node",node:N.some(Je.fromDom(e.selection.getNode())),root:Je.fromDom(e.getBody())});const BK=(e,t,o)=>{switch(o){case"node":return RK(e);case"point":return NK(e,t);case"selection":return MK(e)}};const LK=(e,t,o,n,s,r)=>{const a=o();const c=BK(e,t,r);BH(a,TS.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:false,search:N.none()}).map((e=>{t.preventDefault();I_.showMenuAt(s,{anchor:c},{menu:{markers:JS("normal")},data:e})}))};const HK={onLtr:()=>[bu,mu,gu,pu,hu,yu,_F,xF,wF,vF,kF,bF],onRtl:()=>[bu,gu,mu,hu,pu,yu,_F,xF,kF,bF,wF,vF]};const IK=12;const PK={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]};const FK=(e,t)=>{const o=e.selection;if(o.isCollapsed()||t.touches.length<1){return false}else{const n=t.touches[0];const s=o.getRng();const r=hg(e.getWin(),Gm.domRange(s));return r.exists((e=>e.left<=n.clientX&&e.right>=n.clientX&&e.top<=n.clientY&&e.bottom>=n.clientY))}};const VK=e=>{const t=e.selection.getRng();const o=()=>{P_.setEditorTimeout(e,(()=>{e.selection.setRng(t)}),10);r()};e.once("touchend",o);const n=e=>{e.preventDefault();e.stopImmediatePropagation()};e.on("mousedown",n,true);const s=()=>r();e.once("longpresscancel",s);const r=()=>{e.off("touchend",o);e.off("longpresscancel",s);e.off("mousedown",n)}};const jK=(e,t,o)=>{const n=BK(e,t,o);const s=o==="point"?IK:0;return{bubble:tm(0,s,PK),layouts:HK,overrides:{maxWidthFunction:MU(),maxHeightFunction:Yf()},...n}};const ZK=(e,t,o,n,s,r,a)=>{const c=jK(e,t,r);BH(o,TS.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:true,search:N.none()}).map((o=>{t.preventDefault();const i=a?O_.HighlightMenuAndItem:O_.HighlightNone;I_.showMenuWithinBounds(s,{anchor:c},{menu:{markers:JS("normal"),highlightOnOpen:i},data:o,type:"horizontal"},(()=>N.some(_G(e,n.shared,r==="node"?"node":"selection"))));e.dispatch(rG)}))};const UK=(e,t,o,n,s,r)=>{const a=Sn();const c=a.os.isiOS();const i=a.os.isMacOS();const l=a.os.isAndroid();const d=a.deviceType.isTouch();const u=()=>!(l||c||i&&d);const f=()=>{const a=o();ZK(e,t,a,n,s,r,u())};if((i||c)&&r!=="node"){const o=()=>{VK(e);f()};if(FK(e,t)){o()}else{e.once("selectionchange",o);e.once("touchend",(()=>e.off("selectionchange",o)))}}else{f()}};const qK=e=>c(e)?e==="|":e.type==="separator";const WK={type:"separator"};const $K=e=>{const t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(c(e)){return e}else{switch(e.type){case"separator":return WK;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const t=e.getSubmenuItems();if(c(t)){return t}else{return j(t,$K)}}};default:const o=e;return{type:"menuitem",...t(o),onAction:k(o.onAction)}}}};const GK=(e,t)=>{if(t.length===0){return e}const o=ie(e).filter((e=>!qK(e)));const n=o.fold((()=>[]),(e=>[WK]));return e.concat(n).concat(t).concat([WK])};const KK=(e,t,o)=>{const n=G(t,((t,n)=>xe(e,n.toLowerCase()).map((e=>{const n=e.update(o);if(c(n)&&Ue(Ze(n))){return GK(t,n.split(" "))}else if(d(n)&&n.length>0){const e=j(n,$K);return GK(t,e)}else{return t}})).getOrThunk((()=>t.concat([n])))),[]);if(n.length>0&&qK(n[n.length-1])){n.pop()}return n};const YK=(e,t)=>t.ctrlKey&&!_K(e);const XK=e=>e.type==="longpress"||Ce(e,"touches");const JK=(e,t)=>!XK(t)&&(t.button!==2||t.target===e.getBody()&&t.pointerType==="");const QK=(e,t)=>JK(e,t)?e.selection.getStart(true):t.target;const eY=(e,t)=>{const o=xK(e);const n=JK(e,t)?"selection":"point";if(Ue(o)){const s=QK(e,t);const r=sN(Je.fromDom(s),o);return r?"node":n}else{return n}};const tY=(e,t,o)=>{const n=Sn();const s=n.deviceType.isTouch;const r=Jl(I_.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>o.setContextMenuState(true),onHide:()=>o.setContextMenuState(false),fireDismissalEventInstead:{},inlineBehaviours:Iu([pw("dismissContextMenu",[jc(_c(),((t,o)=>{Pp.close(t);e.focus()}))])])}));const a=()=>I_.hide(r);const c=t=>{if(_K(e)){t.preventDefault()}if(YK(e,t)||CK(e)){return}const n=eY(e,t);const a=()=>{const o=QK(e,t);const n=e.ui.registry.getAll();const s=SK(e);return KK(n.contextMenus,s,o)};const c=s()?UK:LK;c(e,t,a,o,r,n)};e.on("init",(()=>{const t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(s()?"":" ResizeWindow");e.on(t,a);e.on("longpress contextmenu",c)}))};const oY=pa.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]);const nY=e=>t=>t.translate(-e.left,-e.top);const sY=e=>t=>t.translate(e.left,e.top);const rY=e=>(t,o)=>G(e,((e,t)=>t(e)),Eo(t,o));const aY=(e,t,o)=>e.fold(rY([sY(o),nY(t)]),rY([nY(t)]),rY([]));const cY=(e,t,o)=>e.fold(rY([sY(o)]),rY([]),rY([sY(t)]));const iY=(e,t,o)=>e.fold(rY([]),rY([nY(o)]),rY([sY(t),nY(o)]));const lY=(e,t,o,n,s,r)=>{const a=cY(e,s,r);const c=cY(t,s,r);return Math.abs(a.left-c.left)<=o&&Math.abs(a.top-c.top)<=n};const dY=(e,t,o,n,s,r)=>{const a=cY(e,s,r);const c=cY(t,s,r);const i=Math.abs(a.left-c.left);const l=Math.abs(a.top-c.top);return Eo(i,l)};const uY=(e,t,o)=>{const n=e.fold(((e,t)=>({position:N.some("absolute"),left:N.some(e+"px"),top:N.some(t+"px")})),((e,t)=>({position:N.some("absolute"),left:N.some(e-o.left+"px"),top:N.some(t-o.top+"px")})),((e,t)=>({position:N.some("fixed"),left:N.some(e+"px"),top:N.some(t+"px")})));return{right:N.none(),bottom:N.none(),...n}};const fY=(e,t,o)=>e.fold(((e,n)=>gY(e+t,n+o)),((e,n)=>pY(e+t,n+o)),((e,n)=>hY(e+t,n+o)));const mY=(e,t,o,n)=>{const s=(e,s)=>(r,a)=>{const c=e(t,o,n);return s(r.getOr(c.left),a.getOr(c.top))};return e.fold(s(iY,gY),s(cY,pY),s(aY,hY))};const gY=oY.offset;const pY=oY.absolute;const hY=oY.fixed;const yY=(e,t)=>{const o=no(e,t);return m(o)?NaN:parseInt(o,10)};const bY=(e,t)=>{const o=e.element;const n=yY(o,t.leftAttr);const s=yY(o,t.topAttr);return isNaN(n)||isNaN(s)?N.none():N.some(Eo(n,s))};const vY=(e,t,o)=>{const n=e.element;to(n,t.leftAttr,o.left+"px");to(n,t.topAttr,o.top+"px")};const kY=(e,t)=>{const o=e.element;ao(o,t.leftAttr);ao(o,t.topAttr)};const wY=(e,t,o,n)=>bY(e,t).fold((()=>o),(e=>hY(e.left+n.left,e.top+n.top)));const _Y=(e,t,o,n,s,r)=>{const a=wY(e,t,o,n);const c=t.mustSnap?SY(e,t,a,s,r):zY(e,t,a,s,r);const i=aY(a,s,r);vY(e,t,i);return c.fold((()=>({coord:hY(i.left,i.top),extra:N.none()})),(e=>({coord:e.output,extra:e.extra})))};const xY=(e,t)=>{kY(e,t)};const CY=(e,t,o,n)=>de(e,(e=>{const s=e.sensor;const r=lY(t,s,e.range.left,e.range.top,o,n);return r?N.some({output:mY(e.output,t,o,n),extra:e.extra}):N.none()}));const SY=(e,t,o,n,s)=>{const r=t.getSnapPoints(e);const a=CY(r,o,n,s);return a.orThunk((()=>{const e=G(r,((e,t)=>{const r=t.sensor;const a=dY(o,r,t.range.left,t.range.top,n,s);return e.deltas.fold((()=>({deltas:N.some(a),snap:N.some(t)})),(o=>{const n=(a.left+a.top)/2;const s=(o.left+o.top)/2;if(n<=s){return{deltas:N.some(a),snap:N.some(t)}}else{return e}}))}),{deltas:N.none(),snap:N.none()});return e.snap.map((e=>({output:mY(e.output,o,n,s),extra:e.extra})))}))};const zY=(e,t,o,n,s)=>{const r=t.getSnapPoints(e);return CY(r,o,n,s)};const EY=(e,t,o)=>({coord:mY(e.output,e.output,t,o),extra:e.extra});const TY=(e,t,o,n)=>{const s=t.getTarget(e.element);if(t.repositionTarget){const t=zt(e.element);const o=Vn(t);const r=pj(s);const a=EY(n,o,r);const c=uY(a.coord,o,r);mo(s,c)}};var OY=Object.freeze({__proto__:null,snapTo:TY});const DY="data-initial-z-index";const AY=e=>{Dt(e.element).filter(pt).each((e=>{so(e,DY).fold((()=>vo(e,"z-index")),(t=>uo(e,"z-index",t)));ao(e,DY)}))};const NY=e=>{Dt(e.element).filter(pt).each((t=>{ho(t,"z-index").each((e=>{to(t,DY,e)}));uo(t,"z-index",go(e.element,"z-index"))}))};const MY=(e,t)=>{e.getSystem().addToGui(t);NY(t)};const RY=e=>{AY(e);e.getSystem().removeFromGui(e)};const BY=(e,t,o)=>e.getSystem().build(TN.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:o}));var LY=ta("snaps",[Hr("getSnapPoints"),Md("onSensor"),Hr("leftAttr"),Hr("topAttr"),na("lazyViewport",as),na("mustSnap",false)]);const HY=[na("useFixed",D),Hr("blockerClass"),na("getTarget",C),na("onDrag",v),na("repositionTarget",true),na("onDrop",v),la("getBounds",as),LY];const IY=e=>Ae(ho(e,"left"),ho(e,"top"),ho(e,"position"),((e,t,o)=>{const n=o==="fixed"?hY:gY;return n(parseInt(e,10),parseInt(t,10))})).getOrThunk((()=>{const t=Do(e);return pY(t.left,t.top)}));const PY=(e,t,o,n,s)=>{const r=s.bounds;const a=cY(t,o,n);const c=eu(a.left,r.x,r.x+r.width-s.width);const i=eu(a.top,r.y,r.y+r.height-s.height);const l=pY(c,i);return t.fold((()=>{const e=iY(l,o,n);return gY(e.left,e.top)}),x(l),(()=>{const e=aY(l,o,n);return hY(e.left,e.top)}))};const FY=(e,t,o,n,s,r,a)=>{const c=t.fold((()=>{const e=fY(o,r.left,r.top);const t=aY(e,n,s);return hY(t.left,t.top)}),(t=>{const a=_Y(e,t,o,r,n,s);a.extra.each((o=>{t.onSensor(e,o)}));return a.coord}));return PY(e,c,n,s,a)};const VY=(e,t,o,n)=>{const s=t.getTarget(e.element);if(t.repositionTarget){const r=zt(e.element);const a=Vn(r);const c=pj(s);const i=IY(s);const l=FY(e,t.snaps,i,a,c,n,o);const d=uY(l,a,c);mo(s,d)}t.onDrag(e,s,n)};const jY=(e,t)=>({bounds:e.getBounds(),height:Co(t.element),width:Bo(t.element)});const ZY=(e,t,o,n,s)=>{const r=o.update(n,s);const a=o.getStartData().getOrThunk((()=>jY(t,e)));r.each((o=>{VY(e,t,a,o)}))};const UY=(e,t,o,n)=>{t.each(RY);o.snaps.each((t=>{xY(e,t)}));const s=o.getTarget(e.element);n.reset();o.onDrop(e,s)};const qY=e=>(t,o)=>{const n=e=>{o.setStartData(jY(t,e))};return Ic([jc(bc(),(e=>{o.getStartData().each((()=>n(e)))})),...e(t,o,n)])};const WY=e=>Ic([jc(Va(),e.forceDrop),jc(Ua(),e.drop),jc(ja(),((t,o)=>{e.move(o.event)})),jc(Za(),e.delayDrop)]);const $Y=e=>N.from(Eo(e.x,e.y));const GY=(e,t)=>Eo(t.left-e.left,t.top-e.top);var KY=Object.freeze({__proto__:null,getData:$Y,getDelta:GY});const YY=(e,t,o)=>[jc(Va(),((n,s)=>{const r=s.event.raw;if(r.button!==0){return}s.stop();const a=()=>UY(n,N.some(l),e,t);const c=rN(a,200);const i={drop:a,delayDrop:c.schedule,forceDrop:a,move:o=>{c.cancel();ZY(n,e,t,KY,o)}};const l=BY(n,e.blockerClass,WY(i));const d=()=>{o(n);MY(n,l)};d()}))];const XY=[...HY,Hd("dragger",{handlers:qY(YY)})];const JY=e=>Ic([jc(Ha(),e.forceDrop),jc(Pa(),e.drop),jc(Fa(),e.drop),jc(Ia(),((t,o)=>{e.move(o.event)}))]);const QY=e=>{const t=e[0];return N.some(Eo(t.clientX,t.clientY))};const eX=e=>{const t=e.raw;const o=t.touches;return o.length===1?QY(o):N.none()};const tX=(e,t)=>Eo(t.left-e.left,t.top-e.top);var oX=Object.freeze({__proto__:null,getData:eX,getDelta:tX});const nX=(e,t,o)=>{const n=Ef();const s=o=>{UY(o,n.get(),e,t);n.clear()};return[jc(Ha(),((r,a)=>{a.stop();const c=()=>s(r);const i={drop:c,delayDrop:v,forceDrop:c,move:o=>{ZY(r,e,t,oX,o)}};const l=BY(r,e.blockerClass,JY(i));n.set(l);const d=()=>{o(r);MY(r,l)};d()})),jc(Ia(),((o,n)=>{n.stop();ZY(o,e,t,oX,n.event)})),jc(Pa(),((e,t)=>{t.stop();s(e)})),jc(Fa(),s)]};const sX=[...HY,Hd("dragger",{handlers:qY(nX)})];const rX=(e,t,o)=>[...YY(e,t,o),...nX(e,t,o)];const aX=[...HY,Hd("dragger",{handlers:qY(rX)})];const cX=XY;const iX=sX;const lX=aX;var dX=Object.freeze({__proto__:null,mouse:cX,touch:iX,mouseOrTouch:lX});const uX=()=>{let e=N.none();let t=N.none();const o=()=>{e=N.none();t=N.none()};const n=(t,o)=>{const n=e.map((e=>t.getDelta(e,o)));e=N.some(o);return n};const s=(e,t)=>e.getData(t).bind((t=>n(e,t)));const r=e=>{t=N.some(e)};const a=()=>t;const c=x({});return Li({readState:c,reset:o,update:s,getStartData:a,setStartData:r})};var fX=Object.freeze({__proto__:null,init:uX});const mX=ju({branchKey:"mode",branches:dX,name:"dragging",active:{events:(e,t)=>{const o=e.dragger;return o.handlers(e,t)}},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:N.from(e.extra)})},state:fX,apis:OY});const gX=40;const pX=gX/2;const hX=(e,t,o,n,s,r)=>e.fold((()=>mX.snap({sensor:pY(o-pX,n-pX),range:Eo(s,r),output:pY(N.some(o),N.some(n)),extra:{td:t}})),(e=>{const s=o-pX;const r=n-pX;const a=gX;const c=gX;const i=e.element.dom.getBoundingClientRect();return mX.snap({sensor:pY(s,r),range:Eo(a,c),output:pY(N.some(o-i.width/2),N.some(n-i.height/2)),extra:{td:t}})}));const yX=(e,t,o)=>{const n=(e,t)=>e.exists((e=>Ct(e,t)));return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,s)=>{const r=s.td;if(!n(t.get(),r)){t.set(r);o(r)}},mustSnap:true}};const bX=e=>q_(V_.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Iu([mX.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),yM.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}));const vX=(e,t)=>{const o=ma([]);const n=ma([]);const s=ma(false);const r=Ef();const a=Ef();const c=e=>{const o=ns(e);return hX(m.getOpt(t),e,o.x,o.y,o.width,o.height)};const i=()=>j(o.get(),(e=>c(e)));const l=e=>{const o=ns(e);return hX(g.getOpt(t),e,o.right,o.bottom,o.width,o.height)};const d=()=>j(n.get(),(e=>l(e)));const u=yX(i,r,(t=>{a.get().each((o=>{e.dispatch("TableSelectorChange",{start:t,finish:o})}))}));const f=yX(d,a,(t=>{r.get().each((o=>{e.dispatch("TableSelectorChange",{start:o,finish:t})}))}));const m=bX(u);const g=bX(f);const p=Jl(m.asSpec());const h=Jl(g.asSpec());const y=(t,o,n,s)=>{const r=o.dom.getBoundingClientRect();vo(t.element,"display");const a=Ot(Je.fromDom(e.getBody())).dom.innerHeight;const c=n(r);const i=s(r,a);if(c||i){uo(t.element,"display","none")}};const b=(e,t,o,n)=>{const s=o(t);mX.snapTo(e,s);const r=e=>e[n]<0;const a=(e,t)=>e[n]>t;y(e,t,r,a)};const v=e=>b(p,e,c,"top");const k=()=>r.get().each(v);const w=e=>b(h,e,l,"bottom");const _=()=>a.get().each(w);if(Sn().deviceType.isTouch()){e.on("TableSelectionChange",(e=>{if(!s.get()){up(t,p);up(t,h);s.set(true)}r.set(e.start);a.set(e.finish);e.otherCells.each((t=>{o.set(t.upOrLeftCells);n.set(t.downOrRightCells);v(e.start);w(e.finish)}))}));e.on("ResizeEditor ResizeWindow ScrollContent",(()=>{k();_()}));e.on("TableSelectionClear",(()=>{if(s.get()){gp(p);gp(h);s.set(false)}r.clear();a.clear()}))}};var kX='<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n';const wX=e=>e.nodeName==="BR"||!!e.getAttribute("data-mce-bogus")||e.getAttribute("data-mce-type")==="bookmark";const _X=(e,t,o)=>{var n;const s=(n=t.delimiter)!==null&&n!==void 0?n:"›";const r=(t,n,s)=>V_.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":s,"aria-level":s+1}},components:[$l(t)],action:t=>{e.focus();e.selection.select(n);e.nodeChanged()},buttonBehaviours:Iu([_T.button(o.isDisabled),yT()])});const a=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":true}},components:[$l(` ${s} `)]});const c=e=>G(e,((e,t,o)=>{const n=r(t.name,t.element,o);if(o===0){return e.concat([n])}else{return e.concat([a(),n])}}),[]);const i=t=>{const o=[];let n=t.length;while(n-- >0){const s=t[n];if(s.nodeType===1&&!wX(s)){const t=DO(e,s);if(!t.isDefaultPrevented()){o.push({name:t.name,element:s})}if(t.isPropagationStopped()){break}}}return o};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Iu([Qk.config({mode:"flow",selector:"div[role=button]"}),sb.config({disabled:o.isDisabled}),yT(),IN.config({}),mw.config({}),pw("elementPathEvents",[Jc(((t,o)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",(()=>Qk.focusIn(t)));e.on("NodeChange",(e=>{const o=i(e.parents);const n=o.length>0?c(o):[];mw.set(t,n)}))}))])]),components:[]}};var xX;(function(e){e[e["None"]=0]="None";e[e["Both"]=1]="Both";e[e["Vertical"]=2]="Vertical"})(xX||(xX={}));const CX=(e,t,o,n,s)=>{const r={height:U$(n+t.top,EC(e),OC(e))};if(o===xX.Both){r.width=U$(s+t.left,zC(e),TC(e))}return r};const SX=(e,t,o)=>{const n=Je.fromDom(e.getContainer());const s=CX(e,t,o,xo(n),Ro(n));me(s,((e,t)=>{if(y(e)){uo(n,t,Z$(e))}}));SO(e)};const zX=e=>{const t=tS(e);if(t===false){return xX.None}else if(t==="both"){return xX.Both}else{return xX.Vertical}};const EX=(e,t,o,n)=>{const s=20;const r=Eo(o*s,n*s);SX(e,r,t);return N.some(true)};const TX=(e,t)=>{const o=zX(e);if(o===xX.None){return N.none()}const n=o===xX.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return N.some(lC("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize"),"aria-label":t.translate(n)},behaviours:[mX.config({mode:"mouse",repositionTarget:false,onDrag:(t,n,s)=>SX(e,s,o),blockerClass:"tox-blocker"}),Qk.config({mode:"special",onLeft:()=>EX(e,o,-1,0),onRight:()=>EX(e,o,1,0),onUp:()=>EX(e,o,0,-1),onDown:()=>EX(e,o,0,1)}),IN.config({}),Cw.config({})]},t.icons))};const OX=(e,t)=>{const o=(e,o,n)=>mw.set(e,[$l(t.translate(["{0} "+n,o[n]]))]);return V_.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Iu([_T.button(t.isDisabled),yT(),IN.config({}),mw.config({}),wh.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),pw("wordcount-events",[ti((e=>{const t=wh.getValue(e);const n=t.mode==="words"?"characters":"words";wh.setValue(e,{mode:n,count:t.count});o(e,t.count,n)})),Jc((t=>{e.on("wordCountUpdate",(e=>{const{mode:n}=wh.getValue(t);wh.setValue(t,{mode:n,count:e.wordCount});o(t,e.wordCount,n)}))}))])]),eventOrder:{[lc()]:["disabling","alloy.base.behaviour","wordcount-events"]}})};const DX=(e,t)=>{const o=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Jx.translate(["Powered by {0}","Tiny"])},innerHtml:kX.trim()},behaviours:Iu([Cw.config({})])}]});const n=()=>{const e=AT("Alt+0");const t=`Press {0} for help`;return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[$l(Jx.translate([t,e]))]}};const s=()=>{const n=[];if(e.hasPlugin("wordcount")){n.push(OX(e,t))}if(eS(e)){n.push(o())}return{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:n}};const r=()=>{const o=[];const r=rS(e);const a=QC(e);const c=eS(e)||e.hasPlugin("wordcount");const i=()=>{const e="tox-statusbar__text-container--flex-start";const t="tox-statusbar__text-container--flex-end";const o="tox-statusbar__text-container--space-around";if(r){const n="tox-statusbar__text-container-3-cols";if(!c&&!a){return[n,o]}if(c&&!a){return[n,t]}return[n,e]}return[c&&!a?t:e]};if(a){o.push(_X(e,{},t))}if(r){o.push(n())}if(c){o.push(s())}if(o.length>0){return[{dom:{tag:"div",classes:["tox-statusbar__text-container",...i()]},components:o}]}return[]};const a=()=>{const o=r();const n=TX(e,t);return o.concat(n.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:a()}};const AX=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`);const NX=(e,t)=>{const o=e.inline;const n=o?oG:V$;const s=bS(e)?_Z:mj;const r=nG();const a=Ef();const c=Ef();const i=Ef();const l=Sn();const d=l.deviceType.isTouch();const u="tox-platform-touch";const f=d?[u]:[];const m=mS(e);const g=BC(e);const p=q_({dom:{tag:"div",classes:["tox-anchorbar"]}});const h=q_({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}});const y=()=>r.mainUi.get().map((e=>e.outerContainer)).bind(eW.getHeader);const b=()=>us.fromOption(r.dialogUi.get().map((e=>e.sink)),"UI has not been rendered");const v=()=>us.fromOption(r.popupUi.get().map((e=>e.sink)),"(popup) UI has not been rendered");const k=r.lazyGetInOuterOrDie("anchor bar",p.getOpt);const w=r.lazyGetInOuterOrDie("bottom anchor bar",h.getOpt);const _=r.lazyGetInOuterOrDie("toolbar",eW.getToolbar);const x=r.lazyGetInOuterOrDie("throbber",eW.getThrobber);const C=GV({popup:v,dialog:b},e,k,w);const S=()=>{const t={attributes:{[cm]:m?am.BottomToTop:am.TopToBottom}};const o=eW.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:C.popup,onEscape:()=>{e.focus()}});const n=eW.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:C.popup.shared.getSink,providers:C.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{AO(e,t)},type:g,lazyToolbar:_,lazyHeader:()=>y().getOrDie("Could not find header element"),...t});const s=eW.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:C.popup.shared.providers,onEscape:()=>{e.focus()},type:g});const r=fS(e);const a=dS(e);const c=cS(e);const i=sS(e);const l=z();const d=r||a||c;const u=()=>{if(r){return[s]}else if(a){return[n]}else{return[]}};const f=i?[l,o]:[o];return eW.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(d?[]:["tox-editor-header--empty"]),...t},components:J([c?f:[],u(),pS(e)?[]:[p.asSpec()]]),sticky:bS(e),editor:e,sharedBackstage:C.popup.shared})};const z=()=>eW.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}});const E=()=>{const e=eW.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}});const t=eW.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[e,t]}};const T=()=>{const t=hS(e);const o=Ct(Jt(),t)&&go(t,"display")==="grid";const n={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(f),attributes:{...Jx.isRtl()?{dir:"rtl"}:{}}},behaviours:Iu([tp.config({useFixed:()=>s.isDocked(y)})])};const r={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ic([jc(vc(),(e=>{uo(e.element,"width",document.body.clientWidth+"px")}))])};const a=Jl(Ds(n,o?r:{}));const i=ON(a);c.set(i);return{sink:a,mothership:i}};const O=()=>{const e={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(f),attributes:{...Jx.isRtl()?{dir:"rtl"}:{}}},behaviours:Iu([tp.config({useFixed:()=>s.isDocked(y),getBounds:()=>t.getPopupSinkBounds()})])};const o=Jl(e);const n=ON(o);i.set(n);return{sink:o,mothership:n}};const D=()=>{const t=S();const n=E();const s=eW.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:C.popup});const r=eW.parts.viewWrapper({backstage:C.popup});const c=JC(e)&&!o?N.some(DX(e,C.popup.shared.providers)):N.none();const i=J([m?[]:[t],o?[]:[n],m?[t]:[]]);const l=eW.parts.editorContainer({components:J([i,o?[]:[h.asSpec(),...c.toArray()]])});const d=yS(e);const u={role:"application",...Jx.isRtl()?{dir:"rtl"}:{},...d?{"aria-hidden":"true"}:{}};const g=Jl(eW.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(m?["tox-tinymce--toolbar-bottom"]:[]).concat(f),styles:{visibility:"hidden",...d?{opacity:"0",border:"0"}:{}},attributes:u},components:[l,...o?[]:[r],s],behaviours:Iu([yT(),sb.config({disableClass:"tox-tinymce--disabled"}),Qk.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));const p=ON(g);a.set(p);return{mothership:p,outerContainer:g}};const A=t=>{const o=Z$(W$(e));const n=Z$(G$(e));if(!e.inline){if(bo("div","width",n)){uo(t.element,"width",n)}if(bo("div","height",o)){uo(t.element,"height",o)}else{uo(t.element,"height","400px")}}return o};const M=t=>{e.addShortcut("alt+F9","focus menubar",(()=>{eW.focusMenubar(t)}));e.addShortcut("alt+F10","focus toolbar",(()=>{eW.focusToolbar(t)}));e.addCommand("ToggleToolbarDrawer",((e,o)=>{if(o===null||o===void 0?void 0:o.skipFocus){eW.toggleToolbarDrawerWithoutFocusing(t)}else{eW.toggleToolbarDrawer(t)}}));e.addQueryStateHandler("ToggleToolbarDrawer",(()=>eW.isToolbarDrawerToggled(t)))};const R=t=>{const{mainUi:o,popupUi:r,uiMotherships:a}=t;ge(LC(e),((t,o)=>{e.ui.registry.addGroupToolbarButton(o,t)}));const{buttons:c,menuItems:i,contextToolbars:l,sidebars:d,views:u}=e.ui.registry.getAll();const f=uS(e);const m={menuItems:i,menus:kS(e),menubar:jC(e),toolbar:f.getOrThunk((()=>ZC(e))),allowToolbarGroups:g===bC.floating,buttons:c,sidebar:d,views:u};M(o.outerContainer);KV(e,o.mothership,a);s.setup(e,C.popup.shared,y);bK(e,C.popup);tY(e,C.popup.shared.getSink,C.popup);qZ(e);yU(e,x,C.popup.shared);qG(e,l,r.sink,{backstage:C.popup});vX(e,r.sink);const p=e.getElement();const h=A(o.outerContainer);const b={targetNode:p,height:h};return n.render(e,t,m,C.popup,b)};const B=e=>{i.set(e.mothership);return e};const L=()=>{const t=D();const o=T();const n=vS(e)?O():B(o);r.dialogUi.set(o);r.popupUi.set(n);r.mainUi.set(t);const s={popupUi:n,dialogUi:o,mainUi:t,uiMotherships:r.getUiMotherships()};return R(s)};return{popups:{backstage:C.popup,getMothership:()=>AX("popups",i)},dialogs:{backstage:C.dialog,getMothership:()=>AX("dialogs",c)},renderUI:L}};const MX=(e,t)=>{const o=so(e,"id").fold((()=>{const e=gi("dialog-label");to(t,"id",e);return e}),C);to(e,"aria-labelledby",o)};const RX=x([Hr("lazySink"),Gr("dragBlockClass"),la("getBounds",as),na("useTabstopAt",A),na("firstTabstop",0),na("eventOrder",{}),_h("modalBehaviours",[Qk]),Rd("onExecute"),Ld("onEscape")]);const BX={sketch:C};const LX=x([oy({name:"draghandle",overrides:(e,t)=>({behaviours:Iu([mX.config({mode:"mouse",getTarget:e=>ad(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),ey({schema:[Hr("dom")],name:"title"}),ey({factory:BX,schema:[Hr("dom")],name:"close"}),ey({factory:BX,schema:[Hr("dom")],name:"body"}),oy({factory:BX,schema:[Hr("dom")],name:"footer"}),ty({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[na("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),na("components",[])],name:"blocker"})]);const HX=(e,t,o,n)=>{const s=Ef();const r=t=>{s.set(t);const o=e.lazySink(t).getOrDie();const r=n.blocker();const a=o.getSystem().build({...r,components:r.components.concat([Ql(t)]),behaviours:Iu([Cw.config({}),pw("dialog-blocker-events",[Xc(Wa(),(()=>{lU.isBlocked(t)?v():Qk.focusIn(t)}))])])});up(o,a);Qk.focusIn(t)};const a=e=>{s.clear();Dt(e.element).each((t=>{e.getSystem().getByDom(t).each((e=>{gp(e)}))}))};const c=t=>hy(t,e,"body");const i=t=>py(t,e,"footer");const l=(e,t)=>{lU.block(e,t)};const d=e=>{lU.unblock(e)};const u=gi("modal-events");const f={...e.eventOrder,[kc()]:[u].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:t,apis:{show:r,hide:a,getBody:c,getFooter:i,setIdle:d,setBusy:l},eventOrder:f,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ch(e.modalBehaviours,[mw.config({}),Qk.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),lU.config({getRoot:s.get}),pw(u,[Jc((t=>{MX(t.element,hy(t,e,"title").element)}))])])}};const IX=Ry({name:"ModalDialog",configFields:RX(),partFields:LX(),factory:HX,apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,o)=>{e.setBusy(t,o)},setIdle:(e,t)=>{e.setIdle(t)}}});const PX=ir([Nz,Mz].concat(RE));const FX=br;const VX=[rE("button"),Wz,ca("align","end",["start","end"]),eE,Qz,Jr("buttonType",["primary","secondary"])];const jX=[...VX,Bz];const ZX=[Vr("type",["submit","cancel","custom"]),...jX];const UX=[Vr("type",["menu"]),qz,$z,Wz,$r("items",PX),...VX];const qX=[...VX,Vr("type",["togglebutton"]),Fr("tooltip"),Wz,qz,ia("active",false)];const WX=Nr("type",{submit:ZX,cancel:ZX,custom:ZX,menu:UX,togglebutton:qX});const $X=[Nz,Bz,Vr("level",["info","warn","error","success"]),Hz,na("url","")];const GX=ir($X);const KX=e=>[Nz,e];const YX=[Nz,Bz,Qz,rE("button"),Wz,Jz,Jr("buttonType",["primary","secondary","toolbar"]),eE];const XX=ir(YX);const JX=[Nz,Mz];const QX=JX.concat([Gz]);const eJ=JX.concat([Rz,Qz]);const tJ=ir(eJ);const oJ=br;const nJ=QX.concat([tE("auto")]);const sJ=ir(nJ);const rJ=mr([Iz,Bz,Hz]);const aJ=QX.concat([aa("storageKey","default")]);const cJ=ir(aJ);const iJ=yr;const lJ=QX;const dJ=ir(lJ);const uJ=yr;const fJ=JX.concat([aa("tag","textarea"),Fr("scriptId"),Fr("scriptUrl"),da("settings",undefined)]);const mJ=JX.concat([aa("tag","textarea"),Zr("init")]);const gJ=Sr((e=>Tr("customeditor.old",cr(mJ),e).orThunk((()=>Tr("customeditor.new",cr(fJ),e)))));const pJ=yr;const hJ=QX;const yJ=ir(hJ);const bJ=Cr();const vJ=e=>[Nz,Pr("columns"),e];const kJ=[Nz,Fr("html"),ca("presets","presentation",["presentation","document"])];const wJ=ir(kJ);const _J=QX.concat([ia("border",false),ia("sandboxed",true),ia("streamContent",false),ia("transparent",true)]);const xJ=ir(_J);const CJ=yr;const SJ=ir(JX.concat([Xr("height")]));const zJ=ir([Fr("url"),Yr("zoom"),Yr("cachedWidth"),Yr("cachedHeight")]);const EJ=QX.concat([Xr("inputMode"),Xr("placeholder"),ia("maximized",false),Qz]);const TJ=ir(EJ);const OJ=yr;const DJ=e=>[Nz,Rz,e,ca("align","start",["start","center","end"])];const AJ=[Bz,Iz];const NJ=[Bz,$r("items",Mr("items",(()=>MJ)))];const MJ=dr([ir(AJ),ir(NJ)]);const RJ=QX.concat([$r("items",MJ),Qz]);const BJ=ir(RJ);const LJ=yr;const HJ=QX.concat([Wr("items",[Bz,Iz]),ra("size",1),Qz]);const IJ=ir(HJ);const PJ=yr;const FJ=QX.concat([ia("constrain",true),Qz]);const VJ=ir(FJ);const jJ=ir([Fr("width"),Fr("height")]);const ZJ=JX.concat([Rz,ra("min",0),ra("max",0)]);const UJ=ir(ZJ);const qJ=hr;const WJ=[Nz,$r("header",yr),$r("cells",lr(yr))];const $J=ir(WJ);const GJ=QX.concat([Xr("placeholder"),ia("maximized",false),Qz]);const KJ=ir(GJ);const YJ=yr;const XJ=[Vr("type",["directory","leaf"]),Lz,Fr("id"),Kr("menu",EZ)];const JJ=XJ;const QJ=ir(JJ);const eQ=XJ.concat([$r("children",Mr("children",(()=>xr("type",{directory:tQ,leaf:QJ}))))]);const tQ=ir(eQ);const oQ=xr("type",{directory:tQ,leaf:QJ});const nQ=[Nz,$r("items",oQ),Qr("onLeafAction"),Qr("onToggleExpand"),ua("defaultExpandedIds",[],yr),Xr("defaultSelectedId")];const sQ=ir(nQ);const rQ=QX.concat([ca("filetype","file",["image","media","file"]),Qz]);const aQ=ir(rQ);const cQ=ir([Iz,oE]);const iQ=e=>Rr("items","items",Ns(),lr(Sr((t=>Tr(`Checking item of ${e}`,lQ,t).fold((e=>us.error(Ar(e))),(e=>us.value(e)))))));const lQ=rr((()=>xr("type",{alertbanner:GX,bar:ir(KX(iQ("bar"))),button:XX,checkbox:tJ,colorinput:cJ,colorpicker:dJ,dropzone:yJ,grid:ir(vJ(iQ("grid"))),iframe:xJ,input:TJ,listbox:BJ,selectbox:IJ,sizeinput:VJ,slider:UJ,textarea:KJ,urlinput:aQ,customeditor:gJ,htmlpanel:wJ,imagepreview:SJ,collection:sJ,label:ir(DJ(iQ("label"))),table:$J,tree:sQ,panel:uQ})));const dQ=[Nz,na("classes",[]),$r("items",lQ)];const uQ=ir(dQ);const fQ=[rE("tab"),Lz,$r("items",lQ)];const mQ=[Nz,Wr("tabs",fQ)];const gQ=ir(mQ);const pQ=jX;const hQ=WX;const yQ=ir([Fr("title"),Ir("body",xr("type",{panel:uQ,tabpanel:gQ})),aa("size","normal"),ua("buttons",[],hQ),na("initialData",{}),la("onAction",v),la("onChange",v),la("onSubmit",v),la("onClose",v),la("onCancel",v),la("onTabChange",v)]);const bQ=e=>Tr("dialog",yQ,e);const vQ=ir([Vr("type",["cancel","custom"]),...pQ]);const kQ=ir([Fr("title"),Fr("url"),Yr("height"),Yr("width"),ea("buttons",vQ),la("onAction",v),la("onCancel",v),la("onClose",v),la("onMessage",v)]);const wQ=e=>Tr("dialog",kQ,e);const _Q=e=>{if(i(e)){return[e].concat(Q(_e(e),_Q))}else if(d(e)){return Q(e,_Q)}else{return[]}};const xQ=e=>c(e.type)&&c(e.name);const CQ={checkbox:oJ,colorinput:iJ,colorpicker:uJ,dropzone:bJ,input:OJ,iframe:CJ,imagepreview:zJ,selectbox:PJ,sizeinput:jJ,slider:qJ,listbox:LJ,size:jJ,textarea:YJ,urlinput:cQ,customeditor:pJ,collection:rJ,togglemenuitem:FX};const SQ=e=>N.from(CQ[e.type]);const zQ=e=>W(_Q(e),xQ);const EQ=e=>{const t=zQ(e);const o=Q(t,(e=>SQ(e).fold((()=>[]),(t=>[Ir(e.name,t)]))));return ir(o)};const TQ=e=>{var t;const o=Or(bQ(e));const n=EQ(e);const s=(t=e.initialData)!==null&&t!==void 0?t:{};return{internalDialog:o,dataValidator:n,initialData:s}};const OQ={open:(e,t)=>{const o=TQ(t);return e(o.internalDialog,o.initialData,o.dataValidator)},openUrl:(e,t)=>{const o=Or(wQ(t));return e(o)},redial:e=>TQ(e)};const DQ=(e,t)=>{const o=(o,n)=>{e.updateState.each((e=>{const s=e(o,n);t.set(s)}));e.renderComponents.each((s=>{const r=s(n,t.get());const a=e.reuseDom?tw:ew;a(o,r)}))};return Ic([jc(ic(),((t,n)=>{const s=n;if(!s.universal){const n=e.channel;if(I(s.channels,n)){o(t,s.data)}}})),Jc(((t,n)=>{e.initialData.each((e=>{o(t,e)}))}))])};var AQ=Object.freeze({__proto__:null,events:DQ});const NQ=(e,t,o)=>o;var MQ=Object.freeze({__proto__:null,getState:NQ});var RQ=[Hr("channel"),Gr("renderComponents"),Gr("updateState"),Gr("initialData"),ia("reuseDom",true)];const BQ=()=>{const e=ma(N.none());const t=()=>e.set(N.none());const o=()=>e.get().getOr("none");return{readState:o,get:e.get,set:e.set,clear:t}};var LQ=Object.freeze({__proto__:null,init:BQ});const HQ=Fu({fields:RQ,name:"reflecting",active:AQ,apis:MQ,state:LQ});const IQ=e=>{const t=[];const o={};me(e,((e,n)=>{e.fold((()=>{t.push(n)}),(e=>{o[n]=e}))}));return t.length>0?us.error(t):us.value(o)};const PQ=(e,t,o)=>{const n=q_(rL.sketch((n=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:j(e.items,(e=>iF(n,e,t,o)))}))));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:Iu([Qk.config({mode:"acyclic",useTabstopAt:E(jL)}),hL.memento(n),bL(n,{postprocess:e=>IQ(e).fold((e=>{console.error(e);return{}}),C)}),pw("dialog-body-panel",[jc(Wa(),((e,t)=>{e.getSystem().broadcastOn([GL],{newFocus:N.some(t.event.target)})}))])])}};const FQ=(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:qw(e.action),behaviours:Ch(e.tabButtonBehaviours,[Cw.config({}),Qk.config({mode:"execution",useSpace:true,useEnter:true}),wh.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification});const VQ=My({name:"TabButton",configFields:[na("uid",undefined),Hr("value"),Rr("dom","dom",Ls((()=>({attributes:{role:"tab",id:gi("aria"),"aria-selected":"false"}}))),gr()),Gr("action"),na("domModification",{}),_h("tabButtonBehaviours",[Cw,Qk,wh]),Hr("view")],factory:FQ});const jQ=x([Hr("tabs"),Hr("dom"),na("clickToDismiss",false),_h("tabbarBehaviours",[Cb,Qk]),Ad(["tabClass","selectedClass"])]);const ZQ=ny({factory:VQ,name:"tabs",unit:"tab",overrides:e=>{const t=(e,t)=>{Cb.dehighlight(e,t);Nc(e,Tc(),{tabbar:e,button:t})};const o=(e,t)=>{Cb.highlight(e,t);Nc(e,Ec(),{tabbar:e,button:t})};return{action:n=>{const s=n.getSystem().getByUid(e.uid).getOrDie();const r=Cb.isHighlighted(s,n);const a=(()=>{if(r&&e.clickToDismiss){return t}else if(!r){return o}else{return v}})();a(s,n)},domModification:{classes:[e.markers.tabClass]}}}});const UQ=x([ZQ]);const qQ=(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ch(e.tabbarBehaviours,[Cb.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{to(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{to(t.element,"aria-selected","false")}}),Qk.config({mode:"flow",getInitial:e=>Cb.getHighlighted(e).map((e=>e.element)),selector:"."+e.markers.tabClass,executeOnMove:true})])});const WQ=Ry({name:"Tabbar",configFields:jQ(),partFields:UQ(),factory:qQ});const $Q=(e,t)=>({uid:e.uid,dom:e.dom,behaviours:Ch(e.tabviewBehaviours,[mw.config({})]),domModification:{attributes:{role:"tabpanel"}}});const GQ=My({name:"Tabview",configFields:[_h("tabviewBehaviours",[mw])],factory:$Q});const KQ=x([na("selectFirst",true),Md("onChangeTab"),Md("onDismissTab"),na("tabs",[]),_h("tabSectionBehaviours",[])]);const YQ=ey({factory:WQ,schema:[Hr("dom"),qr("markers",[Hr("tabClass"),Hr("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})});const XQ=ey({factory:GQ,name:"tabview"});const JQ=x([YQ,XQ]);const QQ=(e,t,o,n)=>{const s=t=>{const o=wh.getValue(t);py(t,e,"tabview").each((n=>{const s=Y(e.tabs,(e=>e.value===o));s.each((o=>{const s=o.view();so(t.element,"id").each((e=>{to(n.element,"aria-labelledby",e)}));mw.set(n,s);e.onChangeTab(n,t,s)}))}))};const r=(t,o)=>{py(t,e,"tabbar").each((e=>{o(e).each(Mc)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:xh(e.tabSectionBehaviours),events:Ic(J([e.selectFirst?[Jc(((e,t)=>{r(e,Cb.getFirst)}))]:[],[jc(Ec(),((e,t)=>{const o=t.event.button;s(o)})),jc(Tc(),((t,o)=>{const n=o.event.button;e.onDismissTab(t,n)}))]])),apis:{getViewItems:t=>py(t,e,"tabview").map((e=>mw.contents(e))).getOr([]),showTab:(e,t)=>{const o=e=>{const o=Cb.getCandidates(e);const n=Y(o,(e=>wh.getValue(e)===t));return n.filter((t=>!Cb.isHighlighted(e,t)))};r(e,o)}}}};const e1=Ry({name:"TabSection",configFields:KQ(),partFields:JQ(),factory:QQ,apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,o)=>{e.showTab(t,o)}}});const t1=(e,t,o)=>j(e,((n,s)=>{mw.set(o,e[s].view());const r=t.dom.getBoundingClientRect();mw.set(o,[]);return r.height}));const o1=e=>ce(re(e,((e,t)=>{if(e>t){return-1}else if(e<t){return+1}else{return 0}})));const n1=(e,t,o)=>{const n=Tt(e).dom;const s=ad(e,".tox-dialog-wrap").getOr(e);const r=go(s,"position")==="fixed";let a;if(r){a=Math.max(n.clientHeight,window.innerHeight)}else{a=Math.max(n.offsetHeight,n.scrollHeight)}const c=xo(t);const i=t.dom.offsetLeft>=o.dom.offsetLeft+Ro(o);const l=i?Math.max(xo(o),c):c;const d=parseInt(go(e,"margin-top"),10)||0;const u=parseInt(go(e,"margin-bottom"),10)||0;const f=xo(e)+d+u;const m=f-l;return a-m};const s1=(e,t)=>{ce(e).each((e=>e1.showTab(t,e.value)))};const r1=(e,t)=>{uo(e,"height",t+"px");uo(e,"flex-basis",t+"px")};const a1=(e,t,o)=>{ad(e,'[role="dialog"]').each((e=>{id(e,'[role="tablist"]').each((n=>{o.get().map((o=>{uo(t,"height","0");uo(t,"flex-basis","0");return Math.min(o,n1(e,t,n))})).each((e=>{r1(t,e)}))}))}))};const c1=e=>id(e,'[role="tabpanel"]');const i1=e=>{const t=Ef();const o=[Jc((o=>{const n=o.element;c1(n).each((s=>{uo(s,"visibility","hidden");o.getSystem().getByDom(s).toOptional().each((o=>{const n=t1(e,s,o);const r=o1(n);r.fold(t.clear,t.set)}));a1(n,s,t);vo(s,"visibility");s1(e,o);requestAnimationFrame((()=>{a1(n,s,t)}))}))})),jc(vc(),(e=>{const o=e.element;c1(o).each((e=>{a1(o,e,t)}))})),jc(eM,((e,o)=>{const n=e.element;c1(n).each((e=>{const o=Yu(Ut(e));uo(e,"visibility","hidden");const s=ho(e,"height").map((e=>parseInt(e,10)));vo(e,"height");vo(e,"flex-basis");const r=e.dom.getBoundingClientRect().height;const a=s.forall((e=>r>e));if(a){t.set(r);a1(n,e,t)}else{s.each((t=>{r1(e,t)}))}vo(e,"visibility");o.each($u)}))}))];const n=false;return{extraEvents:o,selectFirst:n}};const l1="send-data-to-section";const d1="send-data-to-view";const u1=(e,t,o)=>{const n=ma({});const s=e=>{const t=wh.getValue(e);const o=IQ(t).getOr({});const s=n.get();const r=Ds(s,o);n.set(r)};const r=e=>{const t=n.get();wh.setValue(e,t)};const a=ma(null);const c=j(e.tabs,(e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[$l(o.shared.providers.translate(e.title))],view:()=>[rL.sketch((n=>({dom:{tag:"div",classes:["tox-form"]},components:j(e.items,(e=>iF(n,e,t,o))),formBehaviours:Iu([Qk.config({mode:"acyclic",useTabstopAt:E(jL)}),pw("TabView.form.events",[Jc(r),Qc(s)]),Uu.config({channels:_a([{key:l1,value:{onReceive:s}},{key:d1,value:{onReceive:r}}])})])})))]})));const i=i1(c);return e1.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,o)=>{const n=wh.getValue(t);Nc(e,QN,{name:n,oldName:a.get()});a.set(n)},tabs:c,components:[e1.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[WQ.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Iu([IN.config({})])}),e1.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:i.selectFirst,tabSectionBehaviours:Iu([pw("tabpanel",i.extraEvents),Qk.config({mode:"acyclic"}),Py.config({find:e=>ce(e1.getViewItems(e))}),vL(N.none(),(e=>{e.getSystem().broadcastOn([l1],{});return n.get()}),((e,t)=>{n.set(t);e.getSystem().broadcastOn([d1],{})}))])})};const f1=(e,t,o,n,s)=>{const r=e=>{const t=e.body;switch(t.type){case"tabpanel":{return[u1(t,e.initialData,n)]}default:{return[PQ(t,e.initialData,n)]}}};const a=(e,t)=>N.some({isTabPanel:()=>t.body.type==="tabpanel"});const c={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...o.map((e=>({id:e}))).getOr({}),...s?c:{}}},components:[],behaviours:Iu([hL.childAt(0),HQ.config({channel:`${qL}-${t}`,updateState:a,renderComponents:r,initialData:e})])}};const m1=(e,t,o,n,s)=>f1(e,t,N.some(o),n,s);const g1=(e,t,o)=>{const n=f1(e,t,N.none(),o,false);return IX.parts.body(n)};const p1=e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[PL(N.none(),{dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Iu([IN.config({}),Cw.config({})])})]}],behaviours:Iu([Qk.config({mode:"acyclic",useTabstopAt:E(jL)})])};return IX.parts.body(t)};const h1=yC.deviceType.isTouch();const y1=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]});const b1=(e,t)=>IX.parts.close(V_.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Iu([IN.config({})])}));const v1=()=>IX.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}});const k1=(e,t)=>IX.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:U_(`<p>${Xx(t.translate(e))}</p>`)}]}]});const w1=e=>IX.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e});const _1=(e,t)=>[TN.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),TN.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})];const x1=e=>{const t="tox-dialog";const o=t+"-wrap";const n=o+"__backdrop";const s=t+"__disable-scroll";return IX.sketch({lazySink:e.lazySink,onEscape:t=>{e.onEscape(t);return N.some(true)},useTabstopAt:e=>!jL(e),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:U_(`<div class="${o}"></div>`),components:[{dom:{tag:"div",classes:h1?[n,n+"--opaque"]:[n]}}]}},dragBlockClass:o,modalBehaviours:Iu([Cw.config({}),pw("dialog-events",e.dialogEvents.concat([Xc(Wa(),((e,t)=>{lU.isBlocked(e)?v():Qk.focusIn(e)})),jc(Cc(),((e,t)=>{e.getSystem().broadcastOn([GL],{newFocus:t.event.newFocus})}))])),pw("scroll-lock",[Jc((()=>{hl(Jt(),s)})),Qc((()=>{bl(Jt(),s)}))]),...e.extraBehaviours]),eventOrder:{[lc()]:["dialog-events"],[kc()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[wc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})};const C1=e=>V_.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},buttonBehaviours:Iu([IN.config({})]),components:[lC("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:e=>{Ac(e,GN)}});const S1=(e,t,o,n)=>{const s=e=>[$l(n.translate(e.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...o.map((e=>({id:e}))).getOr({})}},components:[],behaviours:Iu([HQ.config({channel:`${UL}-${t}`,initialData:e,renderComponents:s})])}};const z1=()=>({dom:U_('<div class="tox-dialog__draghandle"></div>')});const E1=(e,t,o,n)=>TN.sketch({dom:U_('<div class="tox-dialog__header"></div>'),components:[S1(e,t,N.some(o),n),z1(),C1(n)],containerBehaviours:Iu([mX.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>ld(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])});const T1=(e,t,o)=>{const n=IX.parts.title(S1(e,t,N.none(),o));const s=IX.parts.draghandle(z1());const r=IX.parts.close(C1(o));const a=[n].concat(e.draggable?[s]:[]).concat([r]);return TN.sketch({dom:U_('<div class="tox-dialog__header"></div>'),components:a})};const O1=(e,t,o)=>T1({title:o.shared.providers.translate(e),draggable:o.dialog.isDraggableModal()},t,o.shared.providers);const D1=(e,t,o,n)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${n.getOr(0)}px`,position:"absolute"}},behaviours:t,components:[{dom:U_('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]});const A1=(e,t,o)=>({onClose:()=>o.closeWindow(),onBlock:o=>{const n=id(e().element,".tox-dialog__header").map((e=>xo(e)));IX.setBusy(e(),((e,s)=>D1(o.message,s,t,n)))},onUnblock:()=>{IX.setIdle(e())}});const N1=(e,t,o,n)=>{const s=(e,t)=>N.some(t);return Jl(x1({...e,firstTabstop:1,lazySink:n.shared.getSink,extraBehaviours:[HQ.config({channel:`${ZL}-${e.id}`,updateState:s,initialData:t}),_L({}),...e.extraBehaviours],onEscape:e=>{Ac(e,GN)},dialogEvents:o,eventOrder:{[ic()]:[HQ.name(),Uu.name()],[kc()]:["scroll-lock",HQ.name(),"messages","dialog-events","alloy.base.behaviour"],[wc()]:["alloy.base.behaviour","dialog-events","messages",HQ.name(),"scroll-lock"]}}))};const M1=(e,t={})=>{const o=e=>{const o=j(e.items,(e=>{const o=xe(t,e.name).getOr(ma(false));return{...e,storage:o}}));return{...e,items:o}};return j(e,(e=>e.type==="menu"?o(e):e))};const R1=e=>G(e,((e,t)=>{if(t.type==="menu"){const o=t;return G(o.items,((e,t)=>{e[t.name]=t.storage;return e}),e)}return e}),{});const B1=(e,t)=>[Gc(Wa(),VL),e($N,((e,o,n,s)=>{Yu(Ut(s.element)).fold(v,Gu);t.onClose();o.onClose()})),e(GN,((e,t,o,n)=>{t.onCancel(e);Ac(n,$N)})),jc(JN,((e,o)=>t.onUnblock())),jc(XN,((e,o)=>t.onBlock(o.event)))];const L1=(e,t)=>{const o=(t,o)=>jc(t,((t,s)=>{n(t,((n,r)=>{o(e(),n,s.event,t)}))}));const n=(e,t)=>{HQ.getState(e).get().each((o=>{t(o,e)}))};return[...B1(o,t),o(KN,((e,t,o)=>{t.onAction(e,{name:o.name})}))]};const H1=(e,t,o)=>{const n=(t,o)=>jc(t,((t,n)=>{s(t,((s,r)=>{o(e(),s,n.event,t)}))}));const s=(e,t)=>{HQ.getState(e).get().each((o=>{t(o.internalDialog,e)}))};return[...B1(n,t),n(YN,((e,t)=>t.onSubmit(e))),n(WN,((e,t,o)=>{t.onChange(e,{name:o.name})})),n(KN,((e,t,n,s)=>{const r=()=>s.getSystem().isConnected()?Qk.focusIn(s):undefined;const a=e=>ro(e,"disabled")||so(e,"aria-disabled").exists((e=>e==="true"));const c=Ut(s.element);const i=Yu(c);t.onAction(e,{name:n.name,value:n.value});Yu(c).fold(r,(e=>{if(a(e)){r()}else if(i.exists((t=>St(e,t)&&a(t)))){r()}else{o().toOptional().filter((t=>!St(t.element,e))).each(r)}}))})),n(QN,((e,t,o)=>{t.onTabChange(e,{newTabName:o.name,oldTabName:o.oldName})})),Qc((t=>{const o=e();wh.setValue(t,o.getData())}))]};const I1=(e,t)=>BP(e,e.type,t);const P1=(e,t,o)=>Y(t,(e=>e.name===o)).bind((t=>t.memento.getOpt(e)));const F1=(e,t)=>{const o=t.map((e=>e.footerButtons)).getOr([]);const n=q(o,(e=>e.align==="start"));const s=(e,t)=>TN.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${e}`]},components:j(t,(e=>e.memento.asSpec()))});const r=s("start",n.pass);const a=s("end",n.fail);return[r,a]};const V1=(e,t,o)=>{const n=(e,t)=>{const n=j(t.buttons,(e=>{const t=q_(I1(e,o));return{name:e.name,align:e.align,memento:t}}));const s=t=>P1(e,n,t);return N.some({lookupByName:s,footerButtons:n})};return{dom:U_('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Iu([HQ.config({channel:`${WL}-${t}`,initialData:e,updateState:n,renderComponents:F1})])}};const j1=(e,t,o)=>V1(e,t,o);const Z1=(e,t,o)=>IX.parts.footer(V1(e,t,o));const U1=(e,t)=>{const o=e.getRoot();if(o.getSystem().isConnected()){const o=Py.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return rL.getField(o,t).orThunk((()=>{const o=e.getFooter();const n=o.bind((e=>HQ.getState(e).get()));return n.bind((e=>e.lookupByName(t)))}))}else{return N.none()}};const q1=(e,t)=>{const o=e.getRoot();return HQ.getState(o).get().map((e=>Or(Tr("data",e.dataValidator,t)))).getOr(t)};const W1=(e,t,o)=>{const n=t=>{const o=e.getRoot();if(o.getSystem().isConnected()){t(o)}};const s=()=>{const t=e.getRoot();const n=t.getSystem().isConnected()?e.getFormWrapper():t;const s=wh.getValue(n);const r=ge(o,(e=>e.get()));return{...s,...r}};const r=t=>{n((n=>{const s=g.getData();const r=Ds(s,t);const a=q1(e,r);const c=e.getFormWrapper();wh.setValue(c,a);me(o,((e,t)=>{if(Ce(r,t)){e.set(r[t])}}))}))};const a=(t,o)=>{U1(e,t).each(o?sb.enable:sb.disable)};const i=t=>{U1(e,t).each(Cw.focus)};const l=e=>{if(!c(e)){throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument")}n((t=>{Nc(t,XN,{message:e})}))};const d=()=>{n((e=>{Ac(e,JN)}))};const u=t=>{n((o=>{const n=e.getBody();const s=HQ.getState(n);if(s.get().exists((e=>e.isTabPanel()))){Py.getCurrent(n).each((e=>{e1.showTab(e,t)}))}}))};const f=s=>{n((n=>{const r=e.getId();const a=t(s);const c=M1(a.internalDialog.buttons,o);n.getSystem().broadcastOn([`${ZL}-${r}`],a);n.getSystem().broadcastOn([`${UL}-${r}`],a.internalDialog);n.getSystem().broadcastOn([`${qL}-${r}`],a.internalDialog);n.getSystem().broadcastOn([`${WL}-${r}`],{...a.internalDialog,buttons:c});g.setData(a.initialData)}))};const m=()=>{n((e=>{Ac(e,$N)}))};const g={getData:s,setData:r,setEnabled:a,focus:i,block:l,unblock:d,showTab:u,redial:f,close:m,toggleFullscreen:e.toggleFullscreen};return g};const $1=e=>{switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}};const G1=(e,t,o)=>{const n=gi("dialog");const s=e.internalDialog;const r=O1(s.title,n,o);const a=g1({body:s.body,initialData:s.initialData},n,o);const c=M1(s.buttons);const i=R1(c);const l=Me(c.length!==0,Z1({buttons:c},n,o));const d=H1((()=>p),A1((()=>m),o.shared.providers,t),o.shared.getSink);const u=$1(s.size);const f={id:n,header:r,body:a,footer:l,extraClasses:u,extraBehaviours:[],extraStyles:{}};const m=N1(f,e,d,o);const g=(()=>{const e=()=>{const e=IX.getBody(m);return Py.getCurrent(e).getOr(e)};const t=()=>{const e="tox-dialog--fullscreen";const t=Je.fromDom(m.element.dom);if(!vl(t,e)){wl(t,u);hl(t,e)}else{bl(t,e);kl(t,u)}};return{getId:x(n),getRoot:x(m),getBody:()=>IX.getBody(m),getFooter:()=>IX.getFooter(m),getFormWrapper:e,toggleFullscreen:t}})();const p=W1(g,t.redial,i);return{dialog:m,instanceApi:p}};const K1=e=>{switch(e){case"medium":return N.some("tox-dialog--width-md");default:return N.none()}};const Y1=(e,t,o,n=false)=>{const s=gi("dialog");const r=gi("dialog-label");const a=gi("dialog-content");const c=e.internalDialog;const i=K1(c.size);const l=(e,t)=>N.some(t);const d=q_(E1({title:c.title,draggable:true},s,r,o.shared.providers));const u=q_(m1({body:c.body,initialData:c.initialData},s,a,o,n));const f=M1(c.buttons);const m=R1(f);const g=Me(f.length!==0,q_(j1({buttons:f},s,o)));const p=H1((()=>v),{onBlock:e=>{lU.block(y,((t,n)=>{const s=d.getOpt(y).map((e=>xo(e.element)));return D1(e.message,n,o.shared.providers,s)}))},onUnblock:()=>{lU.unblock(y)},onClose:()=>t.closeWindow()},o.shared.getSink);const h="tox-dialog-inline";const y=Jl({dom:{tag:"div",classes:["tox-dialog",h,...i.toArray()],attributes:{role:"dialog",["aria-labelledby"]:r}},eventOrder:{[ic()]:[HQ.name(),Uu.name()],[lc()]:["execute-on-form"],[kc()]:["reflecting","execute-on-form"]},behaviours:Iu([Qk.config({mode:"cyclic",onEscape:e=>{Ac(e,$N);return N.some(true)},useTabstopAt:e=>!jL(e)&&(ut(e)!=="button"||no(e,"disabled")!=="disabled"),firstTabstop:1}),HQ.config({channel:`${ZL}-${s}`,updateState:l,initialData:e}),Cw.config({}),pw("execute-on-form",p.concat([Xc(Wa(),((e,t)=>{Qk.focusIn(e)})),jc(Cc(),((e,t)=>{e.getSystem().broadcastOn([GL],{newFocus:t.event.newFocus})}))])),lU.config({getRoot:()=>N.some(y)}),mw.config({}),_L({})]),components:[d.asSpec(),u.asSpec(),...g.map((e=>e.asSpec())).toArray()]});const b=()=>{const e="tox-dialog--fullscreen";const t=Je.fromDom(y.element.dom);if(!_l(t,[e])){wl(t,[h]);kl(t,[e])}else{wl(t,[e]);kl(t,[h])}};const v=W1({getId:x(s),getRoot:x(y),getFooter:()=>g.map((e=>e.get(y))),getBody:()=>u.get(y),getFormWrapper:()=>{const e=u.get(y);return Py.getCurrent(e).getOr(e)},toggleFullscreen:b},t.redial,m);return{dialog:y,instanceApi:v}};var X1=tinymce.util.Tools.resolve("tinymce.util.URI");const J1=e=>{const t=t=>{if(e.getSystem().isConnected()){t(e)}};const o=e=>{if(!c(e)){throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument")}t((t=>{Nc(t,XN,{message:e})}))};const n=()=>{t((e=>{Ac(e,JN)}))};const s=()=>{t((e=>{Ac(e,$N)}))};const r=e=>{t((t=>{t.getSystem().broadcastOn([$L],e)}))};return{block:o,unblock:n,close:s,sendMessage:r}};const Q1=["insertContent","setContent","execCommand","close","block","unblock"];const e0=e=>i(e)&&Q1.indexOf(e.mceAction)!==-1;const t0=e=>!e0(e)&&i(e)&&Ce(e,"mceAction");const o0=(e,t,o)=>{switch(o.mceAction){case"insertContent":e.insertContent(o.content);break;case"setContent":e.setContent(o.content);break;case"execCommand":const n=f(o.ui)?o.ui:false;e.execCommand(o.cmd,n,o.value);break;case"close":t.close();break;case"block":t.block(o.message);break;case"unblock":t.unblock();break}};const n0=(e,t,o,n)=>{const s=gi("dialog");const r=O1(e.title,s,n);const a=p1(e);const c=e.buttons.bind((e=>{if(e.length===0){return N.none()}else{return N.some(Z1({buttons:e},s,n))}}));const i=L1((()=>b),A1((()=>y),n.shared.providers,t));const l={...e.height.fold((()=>({})),(e=>({height:e+"px","max-height":e+"px"}))),...e.width.fold((()=>({})),(e=>({width:e+"px","max-width":e+"px"})))};const d=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[];const u=new X1(e.url,{base_uri:new X1(window.location.href)});const f=`${u.protocol}://${u.host}${u.port?":"+u.port:""}`;const m=zf();const g=[pw("messages",[Jc((()=>{const t=Of(Je.fromDom(window),"message",(t=>{if(u.isSameOrigin(new X1(t.raw.origin))){const n=t.raw.data;if(e0(n)){o0(o,b,n)}else if(t0(n)){e.onMessage(b,n)}}}));m.set(t)})),Qc(m.clear)]),Uu.config({channels:{[$L]:{onReceive:(e,t)=>{id(e.element,"iframe").each((e=>{const o=e.dom.contentWindow;if(p(o)){o.postMessage(t,f)}}))}}}})];const h={id:s,header:r,body:a,footer:c,extraClasses:d,extraBehaviours:g,extraStyles:l};const y=N1(h,e,i,n);const b=J1(y);return{dialog:y,instanceApi:b}};const s0=e=>{const t=e.shared;const o=(o,n)=>{const s=()=>{IX.hide(i);n()};const r=q_(BP({name:"close-alert",text:"OK",primary:true,buttonType:N.some("primary"),align:"end",enabled:true,icon:N.none()},"cancel",e));const a=v1();const c=b1(s,t.providers);const i=Jl(x1({lazySink:()=>t.getSink(),header:y1(a,c),body:k1(o,t.providers),footer:N.some(w1(_1([],[r.asSpec()]))),onEscape:s,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[jc(GN,s)],eventOrder:{}}));IX.show(i);const l=r.get(i);Cw.focus(l)};return{open:o}};const r0=e=>{const t=e.shared;const o=(o,n)=>{const s=e=>{IX.hide(l);n(e)};const r=q_(BP({name:"yes",text:"Yes",primary:true,buttonType:N.some("primary"),align:"end",enabled:true,icon:N.none()},"submit",e));const a=BP({name:"no",text:"No",primary:false,buttonType:N.some("secondary"),align:"end",enabled:true,icon:N.none()},"cancel",e);const c=v1();const i=b1((()=>s(false)),t.providers);const l=Jl(x1({lazySink:()=>t.getSink(),header:y1(c,i),body:k1(o,t.providers),footer:N.some(w1(_1([],[a,r.asSpec()]))),onEscape:()=>s(false),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[jc(GN,(()=>s(false))),jc(YN,(()=>s(true)))],eventOrder:{}}));IX.show(l);const d=r.get(l);Cw.focus(d)};return{open:o}};const a0=(e,t)=>Or(Tr("data",t,e));const c0=e=>sN(e,".tox-alert-dialog")||sN(e,".tox-confirm-dialog");const i0=(e,t,o)=>{if(t&&o){return[]}else{return[aZ.config({contextual:{lazyContext:()=>N.some(os(Je.fromDom(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:t=>{const o=oN(e,t.element);return o.map((e=>{const t=nN(e);return{bounds:t,optScrollEnv:N.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Do(e.element).top})}})).getOrThunk((()=>({bounds:as(),optScrollEnv:N.none()})))}})]}};const l0=e=>{const t=e.editor;const o=bS(t);const n=s0(e.backstages.dialog);const s=r0(e.backstages.dialog);const r=(t,o,n)=>{if(!m(o)){if(o.inline==="toolbar"){return l(t,e.backstages.popup.shared.anchors.inlineDialog(),n,o)}else if(o.inline==="bottom"){return d(t,e.backstages.popup.shared.anchors.inlineBottomDialog(),n,o)}else if(o.inline==="cursor"){return l(t,e.backstages.popup.shared.anchors.cursor(),n,o)}}return i(t,n)};const a=(e,t)=>c(e,t);const c=(o,n)=>{const s=o=>{const s=n0(o,{closeWindow:()=>{IX.hide(s.dialog);n(s.instanceApi)}},t,e.backstages.dialog);IX.show(s.dialog);return s.instanceApi};return OQ.openUrl(s,o)};const i=(t,o)=>{const n=(t,n,s)=>{const r=n;const a={dataValidator:s,initialData:r,internalDialog:t};const c=G1(a,{redial:OQ.redial,closeWindow:()=>{IX.hide(c.dialog);o(c.instanceApi)}},e.backstages.dialog);IX.show(c.dialog);c.instanceApi.setData(r);return c.instanceApi};return OQ.open(n,t)};const l=(n,s,r,a)=>{const c=(n,c,i)=>{const l=a0(c,i);const d=Ef();const u=e.backstages.popup.shared.header.isPositionedAtTop();const f={dataValidator:i,initialData:l,internalDialog:n};const m=()=>d.on((e=>{I_.reposition(e);aZ.refresh(e)}));const g=Y1(f,{redial:OQ.redial,closeWindow:()=>{d.on(I_.hide);t.off("ResizeEditor",m);d.clear();r(g.instanceApi)}},e.backstages.popup,a.ariaAttrs);const p=Jl(I_.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:a.persistent?{event:"doNotDismissYet"}:{},...u?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Iu([pw("window-manager-inline-events",[jc(_c(),((e,t)=>{Ac(g.dialog,GN)}))]),...i0(t,o,u)]),isExtraPart:(e,t)=>c0(t)}));d.set(p);const h=()=>{const e=t.inline?Jt():Je.fromDom(t.getContainer());const o=os(e);return N.some(o)};I_.showWithinBounds(p,Ql(g.dialog),{anchor:s},h);if(!o||!u){aZ.refresh(p);t.on("ResizeEditor",m)}g.instanceApi.setData(l);Qk.focusIn(g.dialog);return g.instanceApi};return OQ.open(c,n)};const d=(o,n,s,r)=>{const a=(o,a,c)=>{const i=a0(a,c);const l=Ef();const d=e.backstages.popup.shared.header.isPositionedAtTop();const u={dataValidator:c,initialData:i,internalDialog:o};const f=()=>l.on((e=>{I_.reposition(e);aZ.refresh(e)}));const m=Y1(u,{redial:OQ.redial,closeWindow:()=>{l.on(I_.hide);t.off("ResizeEditor ScrollWindow ElementScroll",f);l.clear();s(m.instanceApi)}},e.backstages.popup,r.ariaAttrs);const g=Jl(I_.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:r.persistent?{event:"doNotDismissYet"}:{},...d?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Iu([pw("window-manager-inline-events",[jc(_c(),((e,t)=>{Ac(m.dialog,GN)}))]),aZ.config({contextual:{lazyContext:()=>N.some(os(Je.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:e=>{const o=oN(t,e.element);return o.map((e=>{const t=nN(e);return{bounds:t,optScrollEnv:N.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Do(e.element).top})}})).getOrThunk((()=>({bounds:as(),optScrollEnv:N.none()})))}})]),isExtraPart:(e,t)=>c0(t)}));l.set(g);const p=()=>e.backstages.popup.shared.getSink().toOptional().bind((e=>{const o=oN(t,e.element);const n=15;const s=o.map((e=>nN(e))).getOr(as());const r=os(Je.fromDom(t.getContentAreaContainer()));const a=ss(r,s);return N.some(ts(a.x,a.y,a.width,a.height-n))}));I_.showWithinBounds(g,Ql(m.dialog),{anchor:n},p);aZ.refresh(g);t.on("ResizeEditor ScrollWindow ElementScroll",f);m.instanceApi.setData(i);Qk.focusIn(m.dialog);return m.instanceApi};return OQ.open(a,o)};const u=(e,t)=>{s.open(e,t)};const f=(e,t)=>{n.open(e,t)};const g=e=>{e.close()};return{open:r,openUrl:a,alert:f,close:g,confirm:u}};const d0=e=>{_C(e);oD(e);wK(e)};var u0=()=>{cs.add("silver",(e=>{d0(e);let t=()=>as();const{dialogs:o,popups:n,renderUI:s}=NX(e,{getPopupSinkBounds:()=>t()});const r=()=>{const o=s();const r=oN(e,n.getMothership().element);r.each((e=>{t=()=>nN(e)}));return o};XA.register(e,n.backstage.shared);const a=l0({editor:e,backstages:{popup:n.backstage,dialog:o.backstage}});const c=()=>gC(e,{backstage:n.backstage},n.getMothership());return{renderUI:r,getWindowManagerImpl:x(a),getNotificationManagerImpl:c}}))};u0()})()},(e,t,o)=>{o(7)},()=>{(function(){"use strict";const e=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=e=>()=>e;var n=tinymce.util.Tools.resolve("tinymce.Env");const s=e=>e.dispatch("ResizeEditor");const r=e=>t=>t.options.get(e);const a=e=>{const t=e.options.register;t("autoresize_overflow_padding",{processor:"number",default:1});t("autoresize_bottom_margin",{processor:"number",default:50})};const c=r("min_height");const i=r("max_height");const l=r("autoresize_overflow_padding");const d=r("autoresize_bottom_margin");const u=e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen();const f=(e,t)=>{const o=e.getBody();if(o){o.style.overflowY=t?"":"hidden";if(!t){o.scrollTop=0}}};const m=(e,t,o,n)=>{var s;const r=parseInt((s=e.getStyle(t,o,n))!==null&&s!==void 0?s:"",10);return isNaN(r)?0:r};const g=e=>{if((e===null||e===void 0?void 0:e.type.toLowerCase())==="setcontent"){const t=e;return t.selection===true||t.paste===true}else{return false}};const p=(e,t,o,r)=>{var a;const d=e.dom;const h=e.getDoc();if(!h){return}if(u(e)){f(e,true);return}const y=h.documentElement;const b=r?r():l(e);const v=(a=c(e))!==null&&a!==void 0?a:e.getElement().offsetHeight;let k=v;const w=m(d,y,"margin-top",true);const _=m(d,y,"margin-bottom",true);let x=y.offsetHeight+w+_+b;if(x<0){x=0}const C=e.getContainer().offsetHeight;const S=e.getContentAreaContainer().offsetHeight;const z=C-S;if(x+z>v){k=x+z}const E=i(e);if(E&&k>E){k=E;f(e,true)}else{f(e,false)}if(k!==t.get()){const a=k-t.get();d.setStyle(e.getContainer(),"height",k+"px");t.set(k);s(e);if(n.browser.isSafari()&&(n.os.isMacOS()||n.os.isiOS())){const t=e.getWin();t.scrollTo(t.pageXOffset,t.pageYOffset)}if(e.hasFocus()&&g(o)){e.selection.scrollIntoView()}if((n.browser.isSafari()||n.browser.isChromium())&&a<0){p(e,t,o,r)}}};const h=(e,t)=>{let s=()=>d(e);let r;let a;e.on("init",(o=>{r=0;const a=l(e);const c=e.dom;c.setStyles(e.getDoc().documentElement,{height:"auto"});if(n.browser.isEdge()||n.browser.isIE()){c.setStyles(e.getBody(),{paddingLeft:a,paddingRight:a,"min-height":0})}else{c.setStyles(e.getBody(),{paddingLeft:a,paddingRight:a})}p(e,t,o,s);r+=1}));e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",(n=>{if(r===1){a=e.getContainer().offsetHeight;p(e,t,n,s);r+=1}else if(r===2){const t=a<e.getContainer().offsetHeight;if(t){const t=e.dom;const o=e.getDoc();t.setStyles(o.documentElement,{"min-height":0});t.setStyles(e.getBody(),{"min-height":"inherit"})}s=t?o(0):s;r+=1}else{p(e,t,n,s)}}))};const y=(e,t)=>{e.addCommand("mceAutoResize",(()=>{p(e,t)}))};var b=()=>{t.add("autoresize",(t=>{a(t);if(!t.options.isSet("resize")){t.options.set("resize",false)}if(!t.inline){const o=e(0);y(t,o);h(t,o)}}))};b()})()},(e,t,o)=>{o(9)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t)=>{e.focus();e.undoManager.transact((()=>{e.setContent(t)}));e.selection.setCursorLocation();e.nodeChanged()};const o=e=>e.getContent({source_view:true});const n=e=>{const n=o(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:{code:n},onSubmit:o=>{t(e,o.getData().code);o.close()}})};const s=e=>{e.addCommand("mceCodeEditor",(()=>{n(e)}))};const r=e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t});e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})};var a=()=>{e.add("code",(e=>{s(e);r(e);return{}}))};a()})()},(e,t,o)=>{o(11)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=n("string");const a=s("boolean");const c=e=>e===null||e===undefined;const i=e=>!c(e);const l=s("function");const d=s("number");const u=(e,t)=>o=>e(t(o));const f=e=>()=>e;const m=f(false);class g{constructor(e,t){this.tag=e;this.value=t}static some(e){return new g(true,e)}static none(){return g.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return g.some(e(this.value))}else{return g.none()}}bind(e){if(this.tag){return e(this.value)}else{return g.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return g.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return i(e)?g.some(e):g.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}g.singletonNone=new g(false);const p=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const h=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const y=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const b=9;const v=11;const k=1;const w=3;const _=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return S(n.childNodes[0])};const x=(e,t)=>{const o=t||document;const n=o.createElement(e);return S(n)};const C=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return S(n)};const S=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const z=(e,t,o)=>g.from(e.dom.elementFromPoint(t,o)).map(S);const E={fromHtml:_,fromTag:x,fromText:C,fromDom:S,fromPoint:z};const T=(e,t)=>{const o=e.dom;if(o.nodeType!==k){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};typeof window!=="undefined"?window:Function("return this;")();const O=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const D=e=>e.dom.nodeType;const A=e=>t=>D(t)===e;const N=A(k);const M=A(w);const R=A(b);const B=A(v);const L=e=>t=>N(t)&&O(t)===e;const H=e=>E.fromDom(e.dom.ownerDocument);const I=e=>R(e)?e:H(e);const P=e=>g.from(e.dom.parentNode).map(E.fromDom);const F=e=>p(e.dom.childNodes,E.fromDom);const V=(e,t,o)=>{if(r(o)||a(o)||d(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const j=(e,t,o)=>{V(e.dom,t,o)};const Z=(e,t)=>{e.dom.removeAttribute(t)};const U=e=>B(e)&&i(e.dom.host);const q=l(Element.prototype.attachShadow)&&l(Node.prototype.getRootNode);const W=q?e=>E.fromDom(e.dom.getRootNode()):I;const $=e=>{const t=W(e);return U(t)?g.some(t):g.none()};const G=e=>E.fromDom(e.dom.host);const K=e=>{const t=M(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return $(E.fromDom(t)).fold((()=>o.body.contains(t)),u(K,G))};const Y=(e,t,o)=>{let n=e.dom;const s=l(o)?o:m;while(n.parentNode){n=n.parentNode;const e=E.fromDom(n);if(t(e)){return g.some(e)}else if(s(e)){break}}return g.none()};const X=(e,t,o)=>Y(e,(e=>T(e,t)),o);const J=e=>e.style!==undefined&&l(e.style.getPropertyValue);const Q=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!K(e)?ee(o,t):s};const ee=(e,t)=>J(e)?e.style.getPropertyValue(t):"";const te=e=>Q(e,"direction")==="rtl"?"rtl":"ltr";const oe=(e,t)=>y(F(e),t);const ne=(e,t)=>oe(e,(e=>T(e,t)));const se=e=>P(e).filter(N);const re=(e,t)=>{const o=t?X(e,"ol,ul"):g.some(e);return o.getOr(e)};const ae=L("li");const ce=(e,t,o)=>{h(t,(t=>{const n=E.fromDom(t);const s=ae(n);const r=re(n,s);const a=se(r);a.each((t=>{e.setStyle(r.dom,"direction",null);const n=te(t);if(n===o){Z(r,"dir")}else{j(r,"dir",o)}if(te(r)!==o){e.setStyle(r.dom,"direction",o)}if(s){const t=ne(r,"li[dir],li[style]");h(t,(t=>{Z(t,"dir");e.setStyle(t.dom,"direction",null)}))}}))}))};const ie=(e,t)=>{if(e.selection.isEditable()){ce(e.dom,e.selection.getSelectedBlocks(),t);e.nodeChanged()}};const le=e=>{e.addCommand("mceDirectionLTR",(()=>{ie(e,"ltr")}));e.addCommand("mceDirectionRTL",(()=>{ie(e,"rtl")}))};const de=(e,t)=>o=>{const n=n=>{const s=E.fromDom(n.element);o.setActive(te(s)===t);o.setEnabled(e.selection.isEditable())};e.on("NodeChange",n);o.setEnabled(e.selection.isEditable());return()=>e.off("NodeChange",n)};const ue=e=>{e.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>e.execCommand("mceDirectionLTR"),onSetup:de(e,"ltr")});e.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>e.execCommand("mceDirectionRTL"),onSetup:de(e,"rtl")})};var fe=()=>{e.add("directionality",(e=>{le(e);ue(e)}))};fe()})()},(e,t,o)=>{o(13)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>e===t;const o=t(null);const n=t(undefined);const s=e=>e===null||e===undefined;const r=e=>!s(e);const a=()=>{};const c=e=>()=>e;const i=c(false);class l{constructor(e,t){this.tag=e;this.value=t}static some(e){return new l(true,e)}static none(){return l.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return l.some(e(this.value))}else{return l.none()}}bind(e){if(this.tag){return e(this.value)}else{return l.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return l.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return r(e)?l.some(e):l.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}l.singletonNone=new l(false);const d=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const u=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const f=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const m=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const g=(e,t)=>{let n=null;const s=()=>{if(!o(n)){clearTimeout(n);n=null}};const r=(...o)=>{s();n=setTimeout((()=>{n=null;e.apply(null,o)}),t)};return{cancel:s,throttle:r}};const p=(e,t)=>{e.insertContent(t)};const h=Object.keys;const y=Object.hasOwnProperty;const b=(e,t)=>{const o=h(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const v=(e,t)=>k(e,((e,o)=>({k:o,v:t(e,o)})));const k=(e,t)=>{const o={};b(e,((e,n)=>{const s=t(e,n);o[s.k]=s.v}));return o};const w=(e,t)=>y.call(e,t);const _=(e,t)=>t;const x=e=>(...t)=>{if(t.length===0){throw new Error(`Can't merge zero objects`)}const o={};for(let n=0;n<t.length;n++){const s=t[n];for(const t in s){if(w(s,t)){o[t]=e(o[t],s[t])}}}return o};const C=x(_);const S=e=>{const t=m(l.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(l.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(l.some(e))};return{clear:n,isSet:s,get:r,set:a}};const z=()=>{const e=S(a);const t=t=>e.get().each(t);return{...e,on:t}};const E=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const T=(e,t,o=0,s)=>{const r=e.indexOf(t,o);if(r!==-1){return n(s)?true:r+t.length<=s}else{return false}};const O=(e,t)=>E(e,t,0);var D=tinymce.util.Tools.resolve("tinymce.Resource");const A="tinymce.plugins.emoticons";const N=e=>t=>t.options.get(e);const M=(e,t)=>{const o=e.options.register;o("emoticons_database",{processor:"string",default:"emojis"});o("emoticons_database_url",{processor:"string",default:`${t}/js/${R(e)}${e.suffix}.js`});o("emoticons_database_id",{processor:"string",default:A});o("emoticons_append",{processor:"object",default:{}});o("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})};const R=N("emoticons_database");const B=N("emoticons_database_url");const L=N("emoticons_database_id");const H=N("emoticons_append");const I=N("emoticons_images_url");const P="All";const F={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"};const V=(e,t)=>w(e,t)?e[t]:t;const j=e=>{const t=H(e);return v(t,(e=>({keywords:[],category:"user",...e})))};const Z=(e,t,o)=>{const n=z();const s=z();const r=I(e);const a=e=>{if(O(e.char,"<img")){return e.char.replace(/src="([^"]+)"/,((e,t)=>`src="${r}${t}"`))}else{return e.char}};const c=e=>{const t={};const o=[];b(e,((e,n)=>{const s={title:n,keywords:e.keywords,char:a(e),category:V(F,e.category)};const r=t[s.category]!==undefined?t[s.category]:[];t[s.category]=r.concat([s]);o.push(s)}));n.set(t);s.set(o)};e.on("init",(()=>{D.load(o,t).then((t=>{const o=j(e);c(C(t,o))}),(e=>{console.log(`Failed to load emojis: ${e}`);n.set({});s.set([])}))}));const i=e=>{if(e===P){return d()}return n.get().bind((t=>l.from(t[e]))).getOr([])};const d=()=>s.get().getOr([]);const u=()=>[P].concat(h(n.get().getOr({})));const f=()=>{if(m()){return Promise.resolve(true)}else{return new Promise(((e,o)=>{let n=15;const s=setInterval((()=>{if(m()){clearInterval(s);e(true)}else{n--;if(n<0){console.log("Could not load emojis from url: "+t);clearInterval(s);o(false)}}}),100)}))}};const m=()=>n.isSet()&&s.isSet();return{listCategories:u,hasLoaded:m,waitForLoad:f,listAll:d,listCategory:i}};const U=(e,t)=>T(e.title.toLowerCase(),t)||d(e.keywords,(e=>T(e.toLowerCase(),t)));const q=(e,t,o)=>{const n=[];const s=t.toLowerCase();const r=o.fold((()=>i),(e=>t=>t>=e));for(let o=0;o<e.length;o++){if(t.length===0||U(e[o],s)){n.push({value:e[o].char,text:e[o].title,icon:e[o].char});if(r(n.length)){break}}}return n};const W="pattern";const $=(e,t)=>{const o={pattern:"",results:q(t.listAll(),"",l.some(300))};const n=m(P);const s=e=>{const o=e.getData();const s=n.get();const r=t.listCategory(s);const a=q(r,o[W],s===P?l.some(300):l.none());e.setData({results:a})};const r=g((e=>{s(e)}),200);const a={label:"Search",type:"input",name:W};const c={type:"collection",name:"results"};const i=()=>{const s={type:"tabpanel",tabs:u(t.listCategories(),(e=>({title:e,name:e,items:[a,c]})))};return{title:"Emojis",size:"normal",body:s,initialData:o,onTabChange:(e,t)=>{n.set(t.newTabName);r.throttle(e)},onChange:r.throttle,onAction:(t,o)=>{if(o.name==="results"){p(e,o.value);t.close()}},buttons:[{type:"cancel",text:"Close",primary:true}]}};const d=e.windowManager.open(i());d.focus(W);if(!t.hasLoaded()){d.block("Loading emojis...");t.waitForLoad().then((()=>{d.redial(i());r.throttle(d);d.focus(W);d.unblock()})).catch((e=>{d.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:true}],initialData:{pattern:"",results:[]}});d.focus(W);d.unblock()}))}};const G=(e,t)=>{e.addCommand("mceEmoticons",(()=>$(e,t)))};const K=e=>{e.on("PreInit",(()=>{e.parser.addAttributeFilter("data-emoticon",(e=>{f(e,(e=>{e.attr("data-mce-resize","false");e.attr("data-mce-placeholder","1")}))}))}))};const Y=(e,t)=>{e.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(e,o)=>t.waitForLoad().then((()=>{const n=t.listAll();return q(n,e,l.some(o))})),onAction:(t,o,n)=>{e.selection.setRng(o);e.insertContent(n);t.hide()}})};const X=e=>t=>{const o=()=>{t.setEnabled(e.selection.isEditable())};e.on("NodeChange",o);o();return()=>{e.off("NodeChange",o)}};const J=e=>{const t=()=>e.execCommand("mceEmoticons");e.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:t,onSetup:X(e)});e.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:t,onSetup:X(e)})};var Q=()=>{e.add("emoticons",((e,t)=>{M(e,t);const o=B(e);const n=L(e);const s=Z(e,o,n);G(e,s);J(e);Y(e,s);K(e)}))};Q()})()},()=>{window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:false,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:false,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:false,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:false,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:false,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:false,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:false,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:false,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:false,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:false,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:false,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:false,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:false,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:false,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:false,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:false,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:false,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:false,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:false,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:false,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:false,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:false,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:false,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:false,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:false,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:false,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:false,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:false,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:false,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:false,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:false,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:false,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:false,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:false,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:false,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:false,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:false,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:false,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:false,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:false,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:false,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:false,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:false,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:false,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:false,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:false,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:false,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:false,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:false,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:false,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:false,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:false,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:false,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:false,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:false,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:false,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:false,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:false,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:false,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:false,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:false,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:false,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:false,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:false,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:false,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:false,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:false,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:false,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:false,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:false,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:false,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:false,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:false,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:false,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:false,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:false,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:false,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:false,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:false,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:false,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:false,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:false,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:false,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:false,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:false,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:false,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:false,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:false,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:false,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:false,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:false,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:false,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:false,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:false,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:false,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:false,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:false,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:false,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:false,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:false,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:false,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:false,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:false,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:false,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:false,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:false,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:false,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:false,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:false,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:true,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:true,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:true,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:true,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:true,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:true,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:true,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:true,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:true,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:true,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:true,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:true,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:true,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:true,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:true,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:true,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:true,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:true,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:true,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:true,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:false,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:true,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:true,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:true,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:true,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:true,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:true,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:true,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:true,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:true,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:true,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:true,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:true,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:true,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:true,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:false,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:false,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:false,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:true,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:true,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:false,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:false,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:false,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:false,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:false,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:false,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:true,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:true,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:true,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:true,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:true,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:true,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:true,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:true,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:true,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:true,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:true,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:true,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:true,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:true,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:true,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:true,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:true,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:true,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:true,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:true,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:true,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:true,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:true,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:true,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:true,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:true,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:true,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:true,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:true,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:true,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:true,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:true,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:true,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:true,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:true,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:true,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:true,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:true,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:true,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:true,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:true,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:true,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:true,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:true,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:true,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:true,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:true,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:true,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:true,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:true,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:true,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:true,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:true,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:true,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:true,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:true,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:true,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:true,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:true,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:true,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:true,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:true,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:true,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:true,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:true,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:true,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:true,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:true,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:true,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:false,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:false,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:false,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:false,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:true,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:true,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:true,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:true,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:true,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:true,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:true,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:true,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:true,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:true,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:true,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:true,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:true,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:true,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:true,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:true,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:true,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:false,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:false,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:false,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:false,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:false,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:true,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:true,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:true,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:true,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:true,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:true,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:true,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:true,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:true,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:true,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:true,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:true,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:true,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:true,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:true,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:true,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:true,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:true,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:true,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:true,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:true,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:true,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:true,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:true,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:false,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:false,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:false,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:false,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:false,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:false,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:false,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:false,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:false,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:false,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:false,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:false,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:false,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:false,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:false,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:false,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:false,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:false,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:false,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:false,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:false,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:false,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:false,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:false,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:false,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:false,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:false,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:false,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:false,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:false,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:false,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:false,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:false,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:false,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:false,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:false,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:false,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:false,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:false,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:false,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:false,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:false,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:false,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:false,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:false,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:false,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:false,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:false,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:false,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:false,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:false,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:false,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:false,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:false,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:false,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:false,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:false,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:false,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:false,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:false,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:false,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:false,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:false,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:false,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:false,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:false,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:false,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:false,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:false,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:false,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:false,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:false,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:false,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:false,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:false,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:false,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:false,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:false,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:false,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:false,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:false,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:false,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:false,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:false,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:false,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:false,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:false,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:false,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:false,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:false,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:false,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:false,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:false,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:false,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:false,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:false,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:false,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:false,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:false,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:false,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:false,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:false,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:false,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:false,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:false,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:false,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:false,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:false,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:false,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:false,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:false,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:false,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:false,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:false,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:false,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:false,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:false,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:false,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:false,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:false,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:false,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:false,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:false,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:false,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:false,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:false,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:false,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:false,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:false,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:false,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:false,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:false,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:false,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:false,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:false,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:false,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:false,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:false,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:false,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:false,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:false,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:false,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:false,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:false,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:false,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:false,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:false,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:false,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:false,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:false,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:false,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:false,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:false,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:false,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:false,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:false,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:false,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:false,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:false,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:false,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:false,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:false,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:false,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:false,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:false,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:false,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:false,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:false,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:false,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:false,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:false,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:false,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:false,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:false,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:false,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:false,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:false,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:false,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:false,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:false,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:false,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:false,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:false,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:false,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:false,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:false,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:false,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:false,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:false,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:false,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:false,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:false,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:false,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:false,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:false,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:false,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:false,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:false,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:false,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:false,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:false,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:false,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:false,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:false,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:false,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:false,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:false,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:false,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:false,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:false,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:false,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:false,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:false,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:false,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:false,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:false,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:false,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:false,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:false,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:false,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:false,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:false,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:false,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:false,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:false,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:false,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:false,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:false,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:false,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:false,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:false,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:false,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:false,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:false,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:false,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:false,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:false,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:false,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:false,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:false,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:false,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:false,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:false,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:false,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:false,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:false,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:false,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:false,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:false,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:false,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:false,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:false,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:false,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:false,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:false,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:false,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:false,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:false,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:false,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:false,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:false,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:false,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:false,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:false,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:false,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:false,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:false,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:false,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:false,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:false,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:false,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:false,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:false,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:false,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:false,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:false,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:false,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:false,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:false,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:false,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:false,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:false,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:false,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:false,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:false,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:false,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:false,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:false,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:false,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:false,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:false,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:false,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:false,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:false,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:false,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:false,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:false,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:false,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:false,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:false,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:false,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:false,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:false,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:false,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:false,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:false,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:false,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:false,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:false,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:false,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:false,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:false,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:false,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:false,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:false,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:false,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:false,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:false,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:false,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:false,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:false,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:false,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:false,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:false,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:false,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:false,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:false,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:false,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:false,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:false,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:false,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:false,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:false,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:false,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:false,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:false,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:false,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:false,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:false,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:false,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:false,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:false,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:false,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:false,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:false,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:false,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:false,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:false,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:false,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:false,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:false,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:false,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:false,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:false,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:false,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:false,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:false,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:false,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:false,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:false,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:false,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:false,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:false,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:false,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:false,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:false,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:true,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:false,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:false,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:false,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:false,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:false,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:false,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:false,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:false,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:false,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:true,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:false,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:false,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:false,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:true,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:true,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:true,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:true,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:false,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:false,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:false,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:false,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:false,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:false,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:false,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:false,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:true,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:true,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:true,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:true,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:true,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:true,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:true,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:true,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:true,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:true,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:true,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:true,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:true,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:true,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:true,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:true,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:true,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:true,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:true,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:true,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:true,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:true,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:true,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:false,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:false,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:false,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:false,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:false,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:false,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:false,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:false,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:false,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:false,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:false,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:false,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:false,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:false,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:true,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:true,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:false,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:false,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:false,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:false,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:false,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:false,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:false,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:false,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:false,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:false,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:false,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:false,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:false,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:false,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:false,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:false,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:false,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:false,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:false,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:false,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:false,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:false,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:false,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:false,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:false,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:false,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:false,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:false,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:false,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:false,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:false,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:false,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:false,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:false,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:false,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:false,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:false,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:false,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:false,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:false,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:false,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:false,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:false,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:false,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:false,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:false,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:false,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:false,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:false,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:false,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:false,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:false,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:false,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:false,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:false,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:false,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:false,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:false,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:false,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:false,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:false,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:false,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:false,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:false,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:false,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:false,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:false,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:false,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:false,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:false,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:false,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:false,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:false,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:false,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:false,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:false,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:false,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:false,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:false,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:false,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:false,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:false,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:false,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:false,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:false,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:false,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:false,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:false,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:false,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:false,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:false,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:false,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:false,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:false,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:false,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:false,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:false,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:false,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:false,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:false,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:false,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:false,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:false,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:false,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:false,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:false,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:false,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:false,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:false,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:false,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:false,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:false,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:false,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:false,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:false,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:false,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:false,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:false,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:false,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:false,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:false,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:false,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:false,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:false,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:false,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:false,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:false,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:false,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:false,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:false,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:false,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:false,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:false,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:false,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:false,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:false,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:false,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:false,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:false,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:false,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:false,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:false,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:false,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:false,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:false,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:false,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:false,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:false,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:false,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:false,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:false,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:false,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:false,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:false,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:false,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:false,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:false,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:false,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:false,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:false,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:false,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:false,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:false,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:false,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:false,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:false,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:false,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:false,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:false,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:false,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:false,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:false,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:false,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:false,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:false,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:false,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:false,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:false,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:false,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:false,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:false,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:false,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:false,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:false,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:false,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:false,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:false,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:false,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:false,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:false,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:false,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:false,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:false,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:false,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:false,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:false,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:false,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:false,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:false,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:false,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:false,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:false,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:false,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:false,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:false,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:false,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:false,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:false,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:false,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:false,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:false,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:false,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:false,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:false,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:false,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:false,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:false,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:false,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:false,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:false,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:false,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:false,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:false,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:false,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:false,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:false,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:false,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:false,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:false,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:false,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:false,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:false,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:false,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:false,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:false,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:false,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:false,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:false,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:false,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:false,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:false,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:false,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:false,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:false,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:false,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:true,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:false,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:false,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:false,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:false,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:false,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:false,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:false,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:false,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:false,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:false,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:false,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:false,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:false,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:false,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:false,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:false,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:false,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:false,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:false,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:false,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:false,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:false,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:false,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:false,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:false,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:false,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:false,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:false,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:false,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:false,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:false,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:false,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:false,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:false,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:false,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:false,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:false,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:false,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:false,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:false,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:false,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:false,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:false,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:false,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:false,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:false,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:false,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:false,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:false,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:false,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:false,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:false,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:false,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:false,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:false,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:false,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:false,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:false,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:false,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:false,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:false,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:false,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:false,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:false,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:false,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:false,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:false,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:false,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:false,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:false,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:false,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:false,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:false,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:false,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:false,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:false,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:false,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:false,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:false,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:false,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:false,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:false,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:false,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:false,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:false,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:false,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:false,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:false,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:false,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:false,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:false,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:false,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:false,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:false,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:false,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:false,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:false,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:false,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:false,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:false,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:false,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:false,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:false,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:false,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:false,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:false,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:false,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:false,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:false,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:false,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:false,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:false,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:false,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:false,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:false,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:false,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:false,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:false,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:false,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:false,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:false,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:false,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:false,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:false,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:false,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:false,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:false,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:false,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:false,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:false,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:false,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:false,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:false,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:false,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:false,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:false,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:false,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:false,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:false,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:false,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:false,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:false,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:false,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:false,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:false,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:false,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:false,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:false,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:false,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:false,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:false,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:false,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:false,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:false,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:false,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:false,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:false,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:false,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:false,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:false,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:false,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:false,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:false,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:false,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:false,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:false,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:false,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:false,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:false,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:false,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:false,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:false,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:false,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:false,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:false,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:false,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:false,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:false,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:false,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:false,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:false,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:false,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:false,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:false,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:false,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:false,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:false,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:false,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:false,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:false,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:false,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:false,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:false,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:false,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:false,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:false,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:false,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:false,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:false,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:false,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:false,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:false,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:false,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:false,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:false,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:false,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:false,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:false,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:false,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:false,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:false,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:false,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:false,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:false,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:false,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:false,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:false,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:false,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:false,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:false,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:false,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:false,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:false,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:false,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:false,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:false,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:false,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:false,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:false,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:false,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:false,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:false,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:false,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:false,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:false,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:false,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:false,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:false,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:false,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:false,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:false,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:false,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:false,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:false,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:false,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:false,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:false,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:false,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:false,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:false,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:false,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:false,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:false,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:false,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:false,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:false,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:false,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:false,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:false,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:false,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:false,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:false,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:false,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:false,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:false,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:false,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:false,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:false,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:false,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:false,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:false,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:false,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:false,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:false,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:false,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:false,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:false,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:false,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:false,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:false,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:false,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:false,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:false,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:false,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:false,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:false,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:false,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:false,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:false,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:false,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:false,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:false,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:false,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:false,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:false,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:false,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:false,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:false,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:false,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:false,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:false,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:false,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:false,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:false,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:false,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:false,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:false,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:false,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:false,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:false,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:false,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:false,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:false,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:false,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:false,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:false,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:false,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:false,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:false,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:false,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:false,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:false,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:false,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:false,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:false,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:false,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:false,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:false,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:false,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:false,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:false,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:false,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:false,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:false,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:false,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:false,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:false,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:false,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:false,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:false,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:false,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:false,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:false,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:false,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:false,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:false,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:false,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:false,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:false,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:false,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:false,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:false,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:false,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:false,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:false,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:false,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:false,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:false,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:false,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:false,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:false,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:false,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:false,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:false,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:false,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:false,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:false,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:false,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:false,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:false,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:false,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:false,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:false,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:false,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:false,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:false,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:false,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:false,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:false,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:false,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:false,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:false,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:false,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:false,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:false,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:false,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:false,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:false,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:false,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:false,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:false,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:false,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:false,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:false,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:false,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:false,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:false,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:false,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:false,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:false,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:false,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:false,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:false,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:false,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:false,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:false,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:false,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:false,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:false,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:false,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:false,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:false,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:false,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:false,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:false,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:false,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:false,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:false,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:false,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:false,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:false,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:false,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:false,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:false,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:false,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:false,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:false,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:false,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:false,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:false,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:false,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:false,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:false,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:false,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:false,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:false,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:false,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:false,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:false,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:false,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:false,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:false,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:false,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:false,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:false,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:false,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:false,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:false,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:false,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:false,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:false,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:false,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:false,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:false,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:false,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:false,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:false,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:false,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:false,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:false,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:false,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:false,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:false,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:false,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:false,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:false,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:false,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:false,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:false,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:false,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:false,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:false,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:false,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:false,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:false,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:false,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:false,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:false,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:false,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:false,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:false,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:false,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:false,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:false,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:false,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:false,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:false,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:false,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:false,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:false,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:false,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:false,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:false,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:false,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:false,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:false,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:false,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:false,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:false,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:false,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:false,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:false,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:false,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:false,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:false,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:false,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:false,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:false,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:false,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:false,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:false,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:false,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:false,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:false,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:false,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:false,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:false,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:false,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:false,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:false,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:false,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:false,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:false,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:false,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:false,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:false,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:false,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:false,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:false,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:false,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:false,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:false,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:false,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:false,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:false,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:false,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:false,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:false,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:false,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:false,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:false,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:false,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:false,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:false,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:false,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:false,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:false,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:false,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:false,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:false,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:false,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:false,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:false,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:false,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:false,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:false,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:false,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:false,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:false,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:false,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:false,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:false,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:false,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:false,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:false,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:false,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:false,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:false,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:false,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:false,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:false,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:false,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:false,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:false,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:false,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:false,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:false,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:false,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:false,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:false,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:false,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:false,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:false,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:false,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:false,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:false,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:false,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:false,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:false,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:false,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:false,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:false,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:false,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:false,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:false,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:false,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:false,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:false,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:false,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:false,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:false,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:false,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:false,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:false,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:false,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:false,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:false,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:false,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:false,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:false,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:false,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:false,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:false,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:false,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:false,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:false,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:false,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:false,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:false,category:"flags"}})},(e,t,o)=>{o(16)},()=>{(function(){"use strict";const e=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=e=>({isFullscreen:()=>e.get()!==null});const n=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const s=e=>{const t=typeof e;if(e===null){return"null"}else if(t==="object"&&Array.isArray(e)){return"array"}else if(t==="object"&&n(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return t}};const r=e=>t=>s(t)===e;const a=e=>t=>typeof t===e;const c=e=>t=>e===t;const i=r("string");const l=r("array");const d=c(null);const u=a("boolean");const f=c(undefined);const m=e=>e===null||e===undefined;const g=e=>!m(e);const p=a("function");const h=a("number");const y=()=>{};const b=(e,t)=>(...o)=>e(t.apply(null,o));const v=(e,t)=>o=>e(t(o));const k=e=>()=>e;function w(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const _=k(false);const x=k(true);class C{constructor(e,t){this.tag=e;this.value=t}static some(e){return new C(true,e)}static none(){return C.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return C.some(e(this.value))}else{return C.none()}}bind(e){if(this.tag){return e(this.value)}else{return C.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return C.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return g(e)?C.some(e):C.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}C.singletonNone=new C(false);const S=t=>{const o=e(C.none());const n=()=>o.get().each(t);const s=()=>{n();o.set(C.none())};const r=()=>o.get().isSome();const a=()=>o.get();const c=e=>{n();o.set(C.some(e))};return{clear:s,isSet:r,get:a,set:c}};const z=()=>S((e=>e.unbind()));const E=()=>{const e=S(y);const t=t=>e.get().each(t);return{...e,on:t}};const T=(e,t)=>{let o=null;const n=()=>{if(!d(o)){clearTimeout(o);o=null}};const s=(...n)=>{if(d(o)){o=setTimeout((()=>{o=null;e.apply(null,n)}),t)}};return{cancel:n,throttle:s}};const O=Array.prototype.push;const D=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const A=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const N=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const M=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return C.some(s)}else if(o(s,n)){break}}return C.none()};const R=(e,t)=>M(e,t,_);const B=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!l(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}O.apply(t,e[o])}return t};const L=(e,t)=>B(D(e,t));const H=(e,t)=>t>=0&&t<e.length?C.some(e[t]):C.none();const I=e=>H(e,0);const P=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return C.none()};const F=Object.keys;const V=(e,t)=>{const o=F(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const j=(e,t,o=0,n)=>{const s=e.indexOf(t,o);if(s!==-1){return f(n)?true:s+t.length<=n}else{return false}};const Z=e=>e.style!==undefined&&p(e.style.getPropertyValue);const U=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return $(n.childNodes[0])};const q=(e,t)=>{const o=t||document;const n=o.createElement(e);return $(n)};const W=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return $(n)};const $=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const G=(e,t,o)=>C.from(e.dom.elementFromPoint(t,o)).map($);const K={fromHtml:U,fromTag:q,fromText:W,fromDom:$,fromPoint:G};typeof window!=="undefined"?window:Function("return this;")();const Y=9;const X=11;const J=1;const Q=3;const ee=e=>e.dom.nodeType;const te=e=>t=>ee(t)===e;const oe=te(J);const ne=te(Q);const se=te(Y);const re=te(X);const ae=(e,t)=>{const o=e.dom;if(o.nodeType!==J){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const ce=e=>e.nodeType!==J&&e.nodeType!==Y&&e.nodeType!==X||e.childElementCount===0;const ie=(e,t)=>{const o=t===undefined?document:t.dom;return ce(o)?[]:D(o.querySelectorAll(e),K.fromDom)};const le=(e,t)=>e.dom===t.dom;const de=e=>K.fromDom(e.dom.ownerDocument);const ue=e=>se(e)?e:de(e);const fe=e=>C.from(e.dom.parentNode).map(K.fromDom);const me=(e,t)=>{const o=p(t)?t:_;let n=e.dom;const s=[];while(n.parentNode!==null&&n.parentNode!==undefined){const e=n.parentNode;const t=K.fromDom(e);s.push(t);if(o(t)===true){break}else{n=e}}return s};const ge=e=>{const t=t=>N(t,(t=>!le(e,t)));return fe(e).map(pe).map(t).getOr([])};const pe=e=>D(e.dom.childNodes,K.fromDom);const he=e=>re(e)&&g(e.dom.host);const ye=p(Element.prototype.attachShadow)&&p(Node.prototype.getRootNode);const be=k(ye);const ve=ye?e=>K.fromDom(e.dom.getRootNode()):ue;const ke=e=>{const t=ve(e);return he(t)?C.some(t):C.none()};const we=e=>K.fromDom(e.dom.host);const _e=e=>{if(be()&&g(e.target)){const t=K.fromDom(e.target);if(oe(t)&&xe(t)){if(e.composed&&e.composedPath){const t=e.composedPath();if(t){return I(t)}}}}return C.from(e.target)};const xe=e=>g(e.dom.shadowRoot);const Ce=e=>{const t=ne(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return ke(K.fromDom(t)).fold((()=>o.body.contains(t)),v(Ce,we))};const Se=e=>{const t=e.dom.body;if(t===null||t===undefined){throw new Error("Body is not available yet")}return K.fromDom(t)};const ze=(e,t,o)=>{if(i(o)||u(o)||h(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const Ee=(e,t,o)=>{ze(e.dom,t,o)};const Te=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?undefined:o};const Oe=(e,t)=>{e.dom.removeAttribute(t)};const De=(e,t,o)=>{if(!i(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(Z(e)){e.style.setProperty(t,o)}};const Ae=(e,t)=>{const o=e.dom;V(t,((e,t)=>{De(o,t,e)}))};const Ne=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!Ce(e)?Me(o,t):s};const Me=(e,t)=>Z(e)?e.style.getPropertyValue(t):"";const Re=(e,t,o,n,s,r,a)=>({target:e,x:t,y:o,stop:n,prevent:s,kill:r,raw:a});const Be=e=>{const t=K.fromDom(_e(e).getOr(e.target));const o=()=>e.stopPropagation();const n=()=>e.preventDefault();const s=b(n,o);return Re(t,e.clientX,e.clientY,o,n,s,e)};const Le=(e,t)=>o=>{if(e(o)){t(Be(o))}};const He=(e,t,o,n,s)=>{const r=Le(o,n);e.dom.addEventListener(t,r,s);return{unbind:w(Pe,e,t,r,s)}};const Ie=(e,t,o,n)=>He(e,t,o,n,false);const Pe=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)};const Fe=x;const Ve=(e,t,o)=>Ie(e,t,Fe,o);const je=e=>{let t=false;let o;return(...n)=>{if(!t){t=true;o=e.apply(null,n)}return o}};const Ze=(e,t,o,n)=>{const s=e.isiOS()&&/ipad/i.test(o)===true;const r=e.isiOS()&&!s;const a=e.isiOS()||e.isAndroid();const c=a||n("(pointer:coarse)");const i=s||!r&&a&&n("(min-device-width:768px)");const l=r||a&&!i;const d=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===false;const u=!l&&!i&&!d;return{isiPad:k(s),isiPhone:k(r),isTablet:k(i),isPhone:k(l),isTouch:k(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:k(d),isDesktop:k(u)}};const Ue=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t)){return n}}return undefined};const qe=(e,t)=>{const o=Ue(e,t);if(!o){return{major:0,minor:0}}const n=e=>Number(t.replace(o,"$"+e));return Ge(n(1),n(2))};const We=(e,t)=>{const o=String(t).toLowerCase();if(e.length===0){return $e()}return qe(e,o)};const $e=()=>Ge(0,0);const Ge=(e,t)=>({major:e,minor:t});const Ke={nu:Ge,detect:We,unknown:$e};const Ye=(e,t)=>P(t.brands,(t=>{const o=t.brand.toLowerCase();return R(e,(e=>{var t;return o===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:Ke.nu(parseInt(t.version,10),0)})))}));const Xe=(e,t)=>{const o=String(t).toLowerCase();return R(e,(e=>e.search(o)))};const Je=(e,t)=>Xe(e,t).map((e=>{const o=Ke.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const Qe=(e,t)=>Xe(e,t).map((e=>{const o=Ke.detect(e.versionRegexes,t);return{current:e.name,version:o}}));const et=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;const tt=e=>t=>j(t,e);const ot=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>j(e,"edge/")&&j(e,"chrome")&&j(e,"safari")&&j(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,et],search:e=>j(e,"chrome")&&!j(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>j(e,"msie")||j(e,"trident")},{name:"Opera",versionRegexes:[et,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:tt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:tt("firefox")},{name:"Safari",versionRegexes:[et,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(j(e,"safari")||j(e,"mobile/"))&&j(e,"applewebkit")}];const nt=[{name:"Windows",search:tt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>j(e,"iphone")||j(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:tt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:tt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:tt("linux"),versionRegexes:[]},{name:"Solaris",search:tt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:tt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:tt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];const st={browsers:k(ot),oses:k(nt)};const rt="Edge";const at="Chromium";const ct="IE";const it="Opera";const lt="Firefox";const dt="Safari";const ut=()=>ft({current:undefined,version:Ke.unknown()});const ft=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isEdge:n(rt),isChromium:n(at),isIE:n(ct),isOpera:n(it),isFirefox:n(lt),isSafari:n(dt)}};const mt={unknown:ut,nu:ft,edge:k(rt),chromium:k(at),ie:k(ct),opera:k(it),firefox:k(lt),safari:k(dt)};const gt="Windows";const pt="iOS";const ht="Android";const yt="Linux";const bt="macOS";const vt="Solaris";const kt="FreeBSD";const wt="ChromeOS";const _t=()=>xt({current:undefined,version:Ke.unknown()});const xt=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isWindows:n(gt),isiOS:n(pt),isAndroid:n(ht),isMacOS:n(bt),isLinux:n(yt),isSolaris:n(vt),isFreeBSD:n(kt),isChromeOS:n(wt)}};const Ct={unknown:_t,nu:xt,windows:k(gt),ios:k(pt),android:k(ht),linux:k(yt),macos:k(bt),solaris:k(vt),freebsd:k(kt),chromeos:k(wt)};const St=(e,t,o)=>{const n=st.browsers();const s=st.oses();const r=t.bind((e=>Ye(n,e))).orThunk((()=>Je(n,e))).fold(mt.unknown,mt.nu);const a=Qe(s,e).fold(Ct.unknown,Ct.nu);const c=Ze(a,r,e,o);return{browser:r,os:a,deviceType:c}};const zt={detect:St};const Et=e=>window.matchMedia(e).matches;let Tt=je((()=>zt.detect(navigator.userAgent,C.from(navigator.userAgentData),Et)));const Ot=()=>Tt();const Dt=(e,t)=>{const o=(o,n)=>Dt(e+o,t+n);return{left:e,top:t,translate:o}};const At=Dt;const Nt=e=>{const t=e!==undefined?e.dom:document;const o=t.body.scrollLeft||t.documentElement.scrollLeft;const n=t.body.scrollTop||t.documentElement.scrollTop;return At(o,n)};const Mt=e=>{const t=e===undefined?window:e;if(Ot().browser.isFirefox()){return C.none()}else{return C.from(t.visualViewport)}};const Rt=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n});const Bt=e=>{const t=e===undefined?window:e;const o=t.document;const n=Nt(K.fromDom(o));return Mt(t).fold((()=>{const e=t.document.documentElement;const o=e.clientWidth;const s=e.clientHeight;return Rt(n.left,n.top,o,s)}),(e=>Rt(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)))};const Lt=(e,t,o)=>Mt(o).map((o=>{const n=e=>t(Be(e));o.addEventListener(e,n);return{unbind:()=>o.removeEventListener(e,n)}})).getOrThunk((()=>({unbind:y})));var Ht=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var It=tinymce.util.Tools.resolve("tinymce.Env");const Pt=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t});e.dispatch("ResizeEditor")};const Ft=e=>t=>t.options.get(e);const Vt=e=>{const t=e.options.register;t("fullscreen_native",{processor:"boolean",default:false})};const jt=Ft("fullscreen_native");const Zt=e=>{const t=K.fromDom(e.getElement());return ke(t).map(we).getOrThunk((()=>Se(de(t))))};const Ut=e=>{if(e.fullscreenElement!==undefined){return e.fullscreenElement}else if(e.msFullscreenElement!==undefined){return e.msFullscreenElement}else if(e.webkitFullscreenElement!==undefined){return e.webkitFullscreenElement}else{return null}};const qt=()=>{if(document.fullscreenElement!==undefined){return"fullscreenchange"}else if(document.msFullscreenElement!==undefined){return"MSFullscreenChange"}else if(document.webkitFullscreenElement!==undefined){return"webkitfullscreenchange"}else{return"fullscreenchange"}};const Wt=e=>{const t=e.dom;if(t.requestFullscreen){t.requestFullscreen()}else if(t.msRequestFullscreen){t.msRequestFullscreen()}else if(t.webkitRequestFullScreen){t.webkitRequestFullScreen()}};const $t=e=>{const t=e.dom;if(t.exitFullscreen){t.exitFullscreen()}else if(t.msExitFullscreen){t.msExitFullscreen()}else if(t.webkitCancelFullScreen){t.webkitCancelFullScreen()}};const Gt=e=>e.dom===Ut(de(e).dom);const Kt=(e,t,o)=>N(me(e,o),t);const Yt=(e,t)=>N(ge(e),t);const Xt=e=>ie(e);const Jt=(e,t,o)=>Kt(e,(e=>ae(e,t)),o);const Qt=(e,t)=>Yt(e,(e=>ae(e,t)));const eo="data-ephox-mobile-fullscreen-style";const to="display:none!important;";const oo="position:absolute!important;";const no="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;";const so="background-color:rgb(255,255,255)!important;";const ro=It.os.isAndroid();const ao=e=>{const t=Ne(e,"background-color");return t!==undefined&&t!==""?"background-color:"+t+"!important":so};const co=(e,t,o)=>{const n=e=>Qt(e,"*:not(.tox-silver-sink)");const s=t=>o=>{const n=Te(o,"style");const s=n===undefined?"no-styles":n.trim();if(s===t){return}else{Ee(o,eo,s);Ae(o,e.parseStyle(t))}};const r=Jt(t,"*");const a=L(r,n);const c=ao(o);A(a,s(to));A(r,s(oo+no+c));const i=ro===true?"":oo;s(i+no+c)(t)};const io=e=>{const t=Xt("["+eo+"]");A(t,(t=>{const o=Te(t,eo);if(o&&o!=="no-styles"){Ae(t,e.parseStyle(o))}else{Oe(t,"style")}Oe(t,eo)}))};const lo=Ht.DOM;const uo=()=>Bt(window);const fo=e=>window.scrollTo(e.x,e.y);const mo=Mt().fold((()=>({bind:y,unbind:y})),(e=>{const t=E();const o=z();const n=z();const s=()=>{document.body.scrollTop=0;document.documentElement.scrollTop=0};const r=()=>{window.requestAnimationFrame((()=>{t.on((t=>Ae(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})))}))};const a=T((()=>{s();r()}),50);const c=e=>{t.set(e);a.throttle();o.set(Lt("resize",a.throttle));n.set(Lt("scroll",a.throttle))};const i=()=>{t.on((()=>{o.clear();n.clear()}));t.clear()};return{bind:c,unbind:i}}));const go=(e,t)=>{const o=document.body;const n=document.documentElement;const s=e.getContainer();const r=K.fromDom(s);const a=Zt(e);const c=t.get();const i=K.fromDom(e.getBody());const l=It.deviceType.isTouch();const d=s.style;const u=e.iframeElement;const f=u===null||u===void 0?void 0:u.style;const m=e=>{e(o,"tox-fullscreen");e(n,"tox-fullscreen");e(s,"tox-fullscreen");ke(r).map((e=>we(e).dom)).each((t=>{e(t,"tox-fullscreen");e(t,"tox-shadowhost")}))};const g=()=>{if(l){io(e.dom)}m(lo.removeClass);mo.unbind();C.from(t.get()).each((e=>e.fullscreenChangeHandler.unbind()))};if(!c){const o=Ve(de(a),qt(),(o=>{if(jt(e)){if(!Gt(a)&&t.get()!==null){go(e,t)}}}));const n={scrollPos:uo(),containerWidth:d.width,containerHeight:d.height,containerTop:d.top,containerLeft:d.left,iframeWidth:f.width,iframeHeight:f.height,fullscreenChangeHandler:o};if(l){co(e.dom,r,i)}f.width=f.height="100%";d.width=d.height="";m(lo.addClass);mo.bind(r);e.on("remove",g);t.set(n);if(jt(e)){Wt(a)}Pt(e,true)}else{c.fullscreenChangeHandler.unbind();if(jt(e)&&Gt(a)){$t(de(a))}f.width=c.iframeWidth;f.height=c.iframeHeight;d.width=c.containerWidth;d.height=c.containerHeight;d.top=c.containerTop;d.left=c.containerLeft;g();fo(c.scrollPos);t.set(null);Pt(e,false);e.off("remove",g)}};const po=(e,t)=>{e.addCommand("mceFullScreen",(()=>{go(e,t)}))};const ho=(e,t)=>o=>{o.setActive(t.get()!==null);const n=e=>o.setActive(e.state);e.on("FullscreenStateChanged",n);return()=>e.off("FullscreenStateChanged",n)};const yo=(e,t)=>{const o=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:o,onSetup:ho(e,t)});e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:o,onSetup:ho(e,t)})};var bo=()=>{t.add("fullscreen",(t=>{const n=e(null);if(t.inline){return o(n)}Vt(t);po(t,n);yo(t,n);t.addShortcut("Meta+Shift+F","","mceFullScreen");return o(n)}))};bo()})()},(e,t,o)=>{o(18)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=Object.getPrototypeOf;const o=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const n=e=>{const t=typeof e;if(e===null){return"null"}else if(t==="object"&&Array.isArray(e)){return"array"}else if(t==="object"&&o(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return t}};const s=e=>t=>n(t)===e;const r=e=>t=>typeof t===e;const a=e=>t=>e===t;const c=(e,n)=>l(e)&&o(e,n,((e,o)=>t(e)===o));const i=s("string");const l=s("object");const d=e=>c(e,Object);const u=s("array");const f=a(null);const m=r("boolean");const g=e=>e===null||e===undefined;const p=e=>!g(e);const h=r("function");const y=r("number");const b=(e,t)=>{if(u(e)){for(let o=0,n=e.length;o<n;++o){if(!t(e[o])){return false}}return true}return false};const v=()=>{};class k{constructor(e,t){this.tag=e;this.value=t}static some(e){return new k(true,e)}static none(){return k.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return k.some(e(this.value))}else{return k.none()}}bind(e){if(this.tag){return e(this.value)}else{return k.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return k.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return p(e)?k.some(e):k.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}k.singletonNone=new k(false);const w=Object.keys;const _=Object.hasOwnProperty;const x=(e,t)=>{const o=w(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const C=e=>(t,o)=>{e[o]=t};const S=(e,t,o,n)=>{x(e,((e,s)=>{(t(e,s)?o:n)(e,s)}))};const z=(e,t)=>{const o={};S(e,t,C(o),v);return o};const E=(e,t)=>_.call(e,t);const T=(e,t)=>E(e,t)&&e[t]!==undefined&&e[t]!==null;const O=Array.prototype.push;const D=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!u(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}O.apply(t,e[o])}return t};const A=(e,t)=>t>=0&&t<e.length?k.some(e[t]):k.none();const N=e=>A(e,0);const M=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return k.none()};typeof window!=="undefined"?window:Function("return this;")();const R=(e,t,o)=>{if(i(o)||m(o)||y(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const B=(e,t,o)=>{R(e.dom,t,o)};const L=(e,t)=>{e.dom.removeAttribute(t)};const H=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return F(n.childNodes[0])};const I=(e,t)=>{const o=t||document;const n=o.createElement(e);return F(n)};const P=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return F(n)};const F=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const V=(e,t,o)=>k.from(e.dom.elementFromPoint(t,o)).map(F);const j={fromHtml:H,fromTag:I,fromText:P,fromDom:F,fromPoint:V};var Z=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var U=tinymce.util.Tools.resolve("tinymce.util.URI");const q=e=>e.length>0;const W=e=>t=>t.options.get(e);const $=e=>{const t=e.options.register;t("image_dimensions",{processor:"boolean",default:true});t("image_advtab",{processor:"boolean",default:false});t("image_uploadtab",{processor:"boolean",default:true});t("image_prepend_url",{processor:"string",default:""});t("image_class_list",{processor:"object[]"});t("image_description",{processor:"boolean",default:true});t("image_title",{processor:"boolean",default:false});t("image_caption",{processor:"boolean",default:false});t("image_list",{processor:e=>{const t=e===false||i(e)||b(e,l)||h(e);return t?{value:e,valid:t}:{valid:false,message:"Must be false, a string, an array or a function."}},default:false})};const G=W("image_dimensions");const K=W("image_advtab");const Y=W("image_uploadtab");const X=W("image_prepend_url");const J=W("image_class_list");const Q=W("image_description");const ee=W("image_title");const te=W("image_caption");const oe=W("image_list");const ne=W("a11y_advanced_options");const se=W("automatic_uploads");const re=e=>q(e.options.get("images_upload_url"));const ae=e=>p(e.options.get("images_upload_handler"));const ce=(e,t)=>Math.max(parseInt(e,10),parseInt(t,10));const ie=e=>new Promise((t=>{const o=document.createElement("img");const n=e=>{o.onload=o.onerror=null;if(o.parentNode){o.parentNode.removeChild(o)}t(e)};o.onload=()=>{const e=ce(o.width,o.clientWidth);const t=ce(o.height,o.clientHeight);const s={width:e,height:t};n(Promise.resolve(s))};o.onerror=()=>{n(Promise.reject(`Failed to get image dimensions for: ${e}`))};const s=o.style;s.visibility="hidden";s.position="fixed";s.bottom=s.left="0px";s.width=s.height="auto";document.body.appendChild(o);o.src=e}));const le=e=>{if(e){e=e.replace(/px$/,"")}return e};const de=e=>{if(e.length>0&&/^[0-9]+$/.test(e)){e+="px"}return e};const ue=e=>{if(e.margin){const t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[0];e["margin-bottom"]=e["margin-bottom"]||t[0];e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[1];e["margin-bottom"]=e["margin-bottom"]||t[0];e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[1];e["margin-bottom"]=e["margin-bottom"]||t[2];e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[1];e["margin-bottom"]=e["margin-bottom"]||t[2];e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e};const fe=(e,t)=>{const o=oe(e);if(i(o)){fetch(o).then((e=>{if(e.ok){e.json().then(t)}}))}else if(h(o)){o(t)}else{t(o)}};const me=(e,t,o)=>{const n=()=>{o.onload=o.onerror=null;if(e.selection){e.selection.select(o);e.nodeChanged()}};o.onload=()=>{if(!t.width&&!t.height&&G(e)){e.dom.setAttribs(o,{width:String(o.clientWidth),height:String(o.clientHeight)})}n()};o.onerror=n};const ge=e=>new Promise(((t,o)=>{const n=new FileReader;n.onload=()=>{t(n.result)};n.onerror=()=>{var e;o((e=n.error)===null||e===void 0?void 0:e.message)};n.readAsDataURL(e)}));const pe=e=>e.nodeName==="IMG"&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"));const he=(e,t)=>{const o=e.options.get;return U.isDomSafe(t,"img",{allow_html_data_urls:o("allow_html_data_urls"),allow_script_urls:o("allow_script_urls"),allow_svg_data_urls:o("allow_svg_data_urls")})};const ye=Z.DOM;const be=e=>{if(e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight){return le(e.style.marginLeft)}else{return""}};const ve=e=>{if(e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom){return le(e.style.marginTop)}else{return""}};const ke=e=>{if(e.style.borderWidth){return le(e.style.borderWidth)}else{return""}};const we=(e,t)=>{var o;if(e.hasAttribute(t)){return(o=e.getAttribute(t))!==null&&o!==void 0?o:""}else{return""}};const _e=e=>e.parentNode!==null&&e.parentNode.nodeName==="FIGURE";const xe=(e,t,o)=>{if(o===""||o===null){e.removeAttribute(t)}else{e.setAttribute(t,o)}};const Ce=e=>{const t=ye.create("figure",{class:"image"});ye.insertAfter(t,e);t.appendChild(e);t.appendChild(ye.create("figcaption",{contentEditable:"true"},"Caption"));t.contentEditable="false"};const Se=e=>{const t=e.parentNode;if(p(t)){ye.insertAfter(e,t);ye.remove(t)}};const ze=e=>{if(_e(e)){Se(e)}else{Ce(e)}};const Ee=(e,t)=>{const o=e.getAttribute("style");const n=t(o!==null?o:"");if(n.length>0){e.setAttribute("style",n);e.setAttribute("data-mce-style",n)}else{e.removeAttribute("style")}};const Te=(e,t)=>(e,o,n)=>{const s=e.style;if(s[o]){s[o]=de(n);Ee(e,t)}else{xe(e,o,n)}};const Oe=(e,t)=>{if(e.style[t]){return le(e.style[t])}else{return we(e,t)}};const De=(e,t)=>{const o=de(t);e.style.marginLeft=o;e.style.marginRight=o};const Ae=(e,t)=>{const o=de(t);e.style.marginTop=o;e.style.marginBottom=o};const Ne=(e,t)=>{const o=de(t);e.style.borderWidth=o};const Me=(e,t)=>{e.style.borderStyle=t};const Re=e=>{var t;return(t=e.style.borderStyle)!==null&&t!==void 0?t:""};const Be=e=>p(e)&&e.nodeName==="FIGURE";const Le=e=>e.nodeName==="IMG";const He=e=>ye.getAttrib(e,"alt").length===0&&ye.getAttrib(e,"role")==="presentation";const Ie=e=>{if(He(e)){return""}else{return we(e,"alt")}};const Pe=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:false,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:false});const Fe=(e,t)=>{var o;const n=document.createElement("img");xe(n,"style",t.style);if(be(n)||t.hspace!==""){De(n,t.hspace)}if(ve(n)||t.vspace!==""){Ae(n,t.vspace)}if(ke(n)||t.border!==""){Ne(n,t.border)}if(Re(n)||t.borderStyle!==""){Me(n,t.borderStyle)}return e((o=n.getAttribute("style"))!==null&&o!==void 0?o:"")};const Ve=(e,t)=>{const o=document.createElement("img");$e(e,{...t,caption:false},o);Ue(o,t.alt,t.isDecorative);if(t.caption){const e=ye.create("figure",{class:"image"});e.appendChild(o);e.appendChild(ye.create("figcaption",{contentEditable:"true"},"Caption"));e.contentEditable="false";return e}else{return o}};const je=(e,t)=>({src:we(t,"src"),alt:Ie(t),title:we(t,"title"),width:Oe(t,"width"),height:Oe(t,"height"),class:we(t,"class"),style:e(we(t,"style")),caption:_e(t),hspace:be(t),vspace:ve(t),border:ke(t),borderStyle:Re(t),isDecorative:He(t)});const Ze=(e,t,o,n,s)=>{if(o[n]!==t[n]){s(e,n,String(o[n]))}};const Ue=(e,t,o)=>{if(o){ye.setAttrib(e,"role","presentation");const t=j.fromDom(e);B(t,"alt","")}else{if(f(t)){const t=j.fromDom(e);L(t,"alt")}else{const o=j.fromDom(e);B(o,"alt",t)}if(ye.getAttrib(e,"role")==="presentation"){ye.setAttrib(e,"role","")}}};const qe=(e,t,o)=>{if(o.alt!==t.alt||o.isDecorative!==t.isDecorative){Ue(e,o.alt,o.isDecorative)}};const We=(e,t)=>(o,n,s)=>{e(o,s);Ee(o,t)};const $e=(e,t,o)=>{const n=je(e,o);Ze(o,n,t,"caption",((e,t,o)=>ze(e)));Ze(o,n,t,"src",xe);Ze(o,n,t,"title",xe);Ze(o,n,t,"width",Te("width",e));Ze(o,n,t,"height",Te("height",e));Ze(o,n,t,"class",xe);Ze(o,n,t,"style",We(((e,t)=>xe(e,"style",t)),e));Ze(o,n,t,"hspace",We(De,e));Ze(o,n,t,"vspace",We(Ae,e));Ze(o,n,t,"border",We(Ne,e));Ze(o,n,t,"borderStyle",We(Me,e));qe(o,n,t)};const Ge=(e,t)=>{const o=e.dom.styles.parse(t);const n=ue(o);const s=e.dom.styles.parse(e.dom.styles.serialize(n));return e.dom.styles.serialize(s)};const Ke=e=>{const t=e.selection.getNode();const o=e.dom.getParent(t,"figure.image");if(o){return e.dom.select("img",o)[0]}if(t&&(t.nodeName!=="IMG"||pe(t))){return null}return t};const Ye=(e,t)=>{var o;const n=e.dom;const s=z(e.schema.getTextBlockElements(),((t,o)=>!e.schema.isValidChild(o,"figure")));const r=n.getParent(t.parentNode,(e=>T(s,e.nodeName)),e.getBody());if(r){return(o=n.split(r,t))!==null&&o!==void 0?o:t}else{return t}};const Xe=e=>{const t=Ke(e);return t?je((t=>Ge(e,t)),t):Pe()};const Je=(e,t)=>{const o=Ve((t=>Ge(e,t)),t);e.dom.setAttrib(o,"data-mce-id","__mcenew");e.focus();e.selection.setContent(o.outerHTML);const n=e.dom.select('*[data-mce-id="__mcenew"]')[0];e.dom.setAttrib(n,"data-mce-id",null);if(Be(n)){const t=Ye(e,n);e.selection.select(t)}else{e.selection.select(n)}};const Qe=(e,t)=>{e.dom.setAttrib(t,"src",t.getAttribute("src"))};const et=(e,t)=>{if(t){const o=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(o);e.focus();e.nodeChanged();if(e.dom.isEmpty(e.getBody())){e.setContent("");e.selection.setCursorLocation()}}};const tt=(e,t)=>{const o=Ke(e);if(o){$e((t=>Ge(e,t)),t,o);Qe(e,o);if(Be(o.parentNode)){const t=o.parentNode;Ye(e,t);e.selection.select(o.parentNode)}else{e.selection.select(o);me(e,t,o)}}};const ot=(e,t)=>{const o=t.src;return{...t,src:he(e,o)?o:""}};const nt=(e,t)=>{const o=Ke(e);if(o){const n=je((t=>Ge(e,t)),o);const s={...n,...t};const r=ot(e,s);if(s.src){tt(e,r)}else{et(e,o)}}else if(t.src){Je(e,{...Pe(),...t})}};const st=(e,t)=>{const o=d(e)&&d(t);return o?at(e,t):t};const rt=e=>(...t)=>{if(t.length===0){throw new Error(`Can't merge zero objects`)}const o={};for(let n=0;n<t.length;n++){const s=t[n];for(const t in s){if(E(s,t)){o[t]=e(o[t],s[t])}}}return o};const at=rt(st);var ct=tinymce.util.Tools.resolve("tinymce.util.ImageUploader");var it=tinymce.util.Tools.resolve("tinymce.util.Tools");const lt=e=>i(e.value)?e.value:"";const dt=e=>{if(i(e.text)){return e.text}else if(i(e.title)){return e.title}else{return""}};const ut=(e,t)=>{const o=[];it.each(e,(e=>{const n=dt(e);if(e.menu!==undefined){const s=ut(e.menu,t);o.push({text:n,items:s})}else{const s=t(e);o.push({text:n,value:s})}}));return o};const ft=(e=lt)=>t=>{if(t){return k.from(t).map((t=>ut(t,e)))}else{return k.none()}};const mt=e=>ft(lt)(e);const gt=e=>E(e,"items");const pt=(e,t)=>M(e,(e=>{if(gt(e)){return pt(e.items,t)}else if(e.value===t){return k.some(e)}else{return k.none()}}));const ht=(e,t)=>e.bind((e=>pt(e,t)));const yt={sanitizer:ft,sanitize:mt,findEntry:ht};const bt=e=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]});const vt={makeTab:bt};const kt=e=>{const t=yt.sanitizer((t=>e.convertURL(t.value||t.url||"","src")));const o=new Promise((o=>{fe(e,(e=>{o(t(e).map((e=>D([[{text:"None",value:""}],e]))))}))}));const n=yt.sanitize(J(e));const s=K(e);const r=Y(e);const a=re(e);const c=ae(e);const l=Xe(e);const d=Q(e);const u=ee(e);const f=G(e);const m=te(e);const g=ne(e);const p=se(e);const h=k.some(X(e)).filter((e=>i(e)&&e.length>0));return o.then((e=>({image:l,imageList:e,classList:n,hasAdvTab:s,hasUploadTab:r,hasUploadUrl:a,hasUploadHandler:c,hasDescription:d,hasImageTitle:u,hasDimensions:f,hasImageCaption:m,prependURL:h,hasAccessibilityOptions:g,automaticUploads:p})))};const wt=e=>{const t={name:"src",type:"urlinput",filetype:"image",label:"Source"};const o=e.imageList.map((e=>({name:"images",type:"listbox",label:"Image list",items:e})));const n={name:"alt",type:"input",label:"Alternative description",enabled:!(e.hasAccessibilityOptions&&e.image.isDecorative)};const s={name:"title",type:"input",label:"Image title"};const r={name:"dimensions",type:"sizeinput"};const a={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]};const c=e.classList.map((e=>({name:"classes",type:"listbox",label:"Class",items:e})));const i={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};const l=e=>e?{type:"grid",columns:2}:{type:"panel"};return D([[t],o.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[a]:[],e.hasDescription?[n]:[],e.hasImageTitle?[s]:[],e.hasDimensions?[r]:[],[{...l(e.classList.isSome()&&e.hasImageCaption),items:D([c.toArray(),e.hasImageCaption?[i]:[]])}]])};const _t=e=>({title:"General",name:"general",items:wt(e)});const xt={makeTab:_t,makeItems:wt};const Ct=e=>{const t=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:t}};const St={makeTab:Ct};const zt=e=>({prevImage:yt.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:true});const Et=e=>({src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative});const Tt=(e,t)=>({src:e.src.value,alt:(e.alt===null||e.alt.length===0)&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative});const Ot=(e,t)=>{if(!/^(?:[a-zA-Z]+:)?\/\//.test(t)){return e.prependURL.bind((e=>{if(t.substring(0,e.length)!==e){return k.some(e+t)}return k.none()}))}return k.none()};const Dt=(e,t)=>{const o=t.getData();Ot(e,o.src.value).each((e=>{t.setData({src:{value:e,meta:o.src.meta}})}))};const At=(e,t,o)=>{if(e.hasDescription&&i(o.alt)){t.alt=o.alt}if(e.hasAccessibilityOptions){t.isDecorative=o.isDecorative||t.isDecorative||false}if(e.hasImageTitle&&i(o.title)){t.title=o.title}if(e.hasDimensions){if(i(o.width)){t.dimensions.width=o.width}if(i(o.height)){t.dimensions.height=o.height}}if(i(o.class)){yt.findEntry(e.classList,o.class).each((e=>{t.classes=e.value}))}if(e.hasImageCaption){if(m(o.caption)){t.caption=o.caption}}if(e.hasAdvTab){if(i(o.style)){t.style=o.style}if(i(o.vspace)){t.vspace=o.vspace}if(i(o.border)){t.border=o.border}if(i(o.hspace)){t.hspace=o.hspace}if(i(o.borderstyle)){t.borderstyle=o.borderstyle}}};const Nt=(e,t)=>{const o=t.getData();const n=o.src.meta;if(n!==undefined){const s=at({},o);At(e,s,n);t.setData(s)}};const Mt=(e,t,o,n)=>{const s=n.getData();const r=s.src.value;const a=s.src.meta||{};if(!a.width&&!a.height&&t.hasDimensions){if(q(r)){e.imageSize(r).then((e=>{if(o.open){n.setData({dimensions:e})}})).catch((e=>console.error(e)))}else{n.setData({dimensions:{width:"",height:""}})}}};const Rt=(e,t,o)=>{const n=o.getData();const s=yt.findEntry(e.imageList,n.src.value);t.prevImage=s;o.setData({images:s.map((e=>e.value)).getOr("")})};const Bt=(e,t,o,n)=>{Dt(t,n);Nt(t,n);Mt(e,t,o,n);Rt(t,o,n)};const Lt=(e,t,o,n)=>{const s=n.getData();const r=yt.findEntry(t.imageList,s.images);r.each((e=>{const t=s.alt===""||o.prevImage.map((e=>e.text===s.alt)).getOr(false);if(t){if(e.value===""){n.setData({src:e,alt:o.prevAlt})}else{n.setData({src:e,alt:e.text})}}else{n.setData({src:e})}}));o.prevImage=r;Bt(e,t,o,n)};const Ht=(e,t,o,n)=>{const s=n.getData();n.block("Uploading image");N(s.fileinput).fold((()=>{n.unblock()}),(s=>{const r=URL.createObjectURL(s);const a=()=>{n.unblock();URL.revokeObjectURL(r)};const c=s=>{n.setData({src:{value:s,meta:{}}});n.showTab("general");Bt(e,t,o,n)};ge(s).then((o=>{const i=e.createBlobCache(s,r,o);if(t.automaticUploads){e.uploadImage(i).then((e=>{c(e.url);a()})).catch((t=>{a();e.alertErr(t)}))}else{e.addToBlobCache(i);c(i.blobUri());n.unblock()}}))}))};const It=(e,t,o)=>(n,s)=>{if(s.name==="src"){Bt(e,t,o,n)}else if(s.name==="images"){Lt(e,t,o,n)}else if(s.name==="alt"){o.prevAlt=n.getData().alt}else if(s.name==="fileinput"){Ht(e,t,o,n)}else if(s.name==="isDecorative"){n.setEnabled("alt",!n.getData().isDecorative)}};const Pt=e=>()=>{e.open=false};const Ft=e=>{if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){const t={type:"tabpanel",tabs:D([[xt.makeTab(e)],e.hasAdvTab?[vt.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[St.makeTab(e)]:[]])};return t}else{const t={type:"panel",items:xt.makeItems(e)};return t}};const Vt=(e,t,o)=>n=>{const s=at(Et(t.image),n.getData());const r={...s,style:Fe(o.normalizeCss,Tt(s,false))};e.execCommand("mceUpdateImage",false,Tt(r,t.hasAccessibilityOptions));e.editorUpload.uploadImagesAuto();n.close()};const jt=e=>t=>{if(!he(e,t)){return Promise.resolve({width:"",height:""})}else{return ie(e.documentBaseURI.toAbsolute(t)).then((e=>({width:String(e.width),height:String(e.height)})))}};const Zt=e=>(t,o,n)=>{var s;return e.editorUpload.blobCache.create({blob:t,blobUri:o,name:(s=t.name)===null||s===void 0?void 0:s.replace(/\.[^\.]+$/,""),filename:t.name,base64:n.split(",")[1]})};const Ut=e=>t=>{e.editorUpload.blobCache.add(t)};const qt=e=>t=>{e.windowManager.alert(t)};const Wt=e=>t=>Ge(e,t);const $t=e=>t=>e.dom.parseStyle(t);const Gt=e=>(t,o)=>e.dom.serializeStyle(t,o);const Kt=e=>t=>ct(e).upload([t],false).then((e=>{var t;if(e.length===0){return Promise.reject("Failed to upload image")}else if(e[0].status===false){return Promise.reject((t=e[0].error)===null||t===void 0?void 0:t.message)}else{return e[0]}}));const Yt=e=>{const t={imageSize:jt(e),addToBlobCache:Ut(e),createBlobCache:Zt(e),alertErr:qt(e),normalizeCss:Wt(e),parseStyle:$t(e),serializeStyle:Gt(e),uploadImage:Kt(e)};const o=()=>{kt(e).then((o=>{const n=zt(o);return{title:"Insert/Edit Image",size:"normal",body:Ft(o),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:Et(o.image),onSubmit:Vt(e,o,t),onChange:It(t,o,n),onClose:Pt(n)}})).then(e.windowManager.open)};return{open:o}};const Xt=e=>{e.addCommand("mceImage",Yt(e).open);e.addCommand("mceUpdateImage",((t,o)=>{e.undoManager.transact((()=>nt(e,o)))}))};const Jt=e=>{const t=e.attr("class");return p(t)&&/\bimage\b/.test(t)};const Qt=e=>t=>{let o=t.length;const n=t=>{t.attr("contenteditable",e?"true":null)};while(o--){const s=t[o];if(Jt(s)){s.attr("contenteditable",e?"false":null);it.each(s.getAll("figcaption"),n)}}};const eo=e=>{e.on("PreInit",(()=>{e.parser.addNodeFilter("figure",Qt(true));e.serializer.addNodeFilter("figure",Qt(false))}))};const to=e=>t=>{const o=()=>{t.setEnabled(e.selection.isEditable())};e.on("NodeChange",o);o();return()=>{e.off("NodeChange",o)}};const oo=e=>{e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Yt(e).open,onSetup:t=>{t.setActive(p(Ke(e)));const o=e.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",t.setActive).unbind;const n=to(e)(t);return()=>{o();n()}}});e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Yt(e).open,onSetup:to(e)});e.ui.registry.addContextMenu("image",{update:t=>e.selection.isEditable()&&(Be(t)||Le(t)&&!pe(t))?["image"]:[]})};var no=()=>{e.add("image",(e=>{$(e);eo(e);oo(e);Xt(e)}))};no()})()},(e,t,o)=>{o(20)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=e=>t=>e===t;const a=n("string");const c=n("object");const i=n("array");const l=r(null);const d=s("boolean");const u=e=>e===null||e===undefined;const f=e=>!u(e);const m=s("function");const g=(e,t)=>{if(i(e)){for(let o=0,n=e.length;o<n;++o){if(!t(e[o])){return false}}return true}return false};const p=()=>{};const h=e=>()=>e;const y=(e,t)=>e===t;class b{constructor(e,t){this.tag=e;this.value=t}static some(e){return new b(true,e)}static none(){return b.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return b.some(e(this.value))}else{return b.none()}}bind(e){if(this.tag){return e(this.value)}else{return b.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return b.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return f(e)?b.some(e):b.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}b.singletonNone=new b(false);const v=Array.prototype.indexOf;const k=Array.prototype.push;const w=(e,t)=>v.call(e,t);const _=(e,t)=>w(e,t)>-1;const x=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const C=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const S=(e,t,o)=>{C(e,((e,n)=>{o=t(o,e,n)}));return o};const z=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!i(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}k.apply(t,e[o])}return t};const E=(e,t)=>z(x(e,t));const T=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return b.none()};const O=(e,t,o=y)=>e.exists((e=>o(e,t)));const D=e=>{const t=[];const o=e=>{t.push(e)};for(let t=0;t<e.length;t++){e[t].each(o)}return t};const A=(e,t)=>e?b.some(t):b.none();const N=e=>t=>t.options.get(e);const M=e=>{const t=e.options.register;t("link_assume_external_targets",{processor:e=>{const t=a(e)||d(e);if(t){if(e===true){return{value:1,valid:t}}else if(e==="http"||e==="https"){return{value:e,valid:t}}else{return{value:0,valid:t}}}else{return{valid:false,message:"Must be a string or a boolean."}}},default:false});t("link_context_toolbar",{processor:"boolean",default:false});t("link_list",{processor:e=>a(e)||m(e)||g(e,c)});t("link_default_target",{processor:"string"});t("link_default_protocol",{processor:"string",default:"https"});t("link_target_list",{processor:e=>d(e)||g(e,c),default:true});t("link_rel_list",{processor:"object[]",default:[]});t("link_class_list",{processor:"object[]",default:[]});t("link_title",{processor:"boolean",default:true});t("allow_unsafe_link_target",{processor:"boolean",default:false});t("link_quicklink",{processor:"boolean",default:false})};const R=N("link_assume_external_targets");const B=N("link_context_toolbar");const L=N("link_list");const H=N("link_default_target");const I=N("link_default_protocol");const P=N("link_target_list");const F=N("link_rel_list");const V=N("link_class_list");const j=N("link_title");const Z=N("allow_unsafe_link_target");const U=N("link_quicklink");var q=tinymce.util.Tools.resolve("tinymce.util.Tools");const W=e=>a(e.value)?e.value:"";const $=e=>{if(a(e.text)){return e.text}else if(a(e.title)){return e.title}else{return""}};const G=(e,t)=>{const o=[];q.each(e,(e=>{const n=$(e);if(e.menu!==undefined){const s=G(e.menu,t);o.push({text:n,items:s})}else{const s=t(e);o.push({text:n,value:s})}}));return o};const K=(e=W)=>t=>b.from(t).map((t=>G(t,e)));const Y=e=>K(W)(e);const X=(e,t)=>o=>({name:e,type:"listbox",label:t,items:o});const J={sanitize:Y,sanitizeWith:K,createUi:X,getValue:W};const Q=Object.keys;const ee=Object.hasOwnProperty;const te=(e,t)=>{const o=Q(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const oe=e=>(t,o)=>{e[o]=t};const ne=(e,t,o,n)=>{te(e,((e,s)=>{(t(e,s)?o:n)(e,s)}))};const se=(e,t)=>{const o={};ne(e,t,oe(o),p);return o};const re=(e,t)=>ee.call(e,t);const ae=(e,t)=>re(e,t)&&e[t]!==undefined&&e[t]!==null;var ce=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");var ie=tinymce.util.Tools.resolve("tinymce.util.URI");const le=e=>f(e)&&e.nodeName.toLowerCase()==="a";const de=e=>le(e)&&!!me(e);const ue=(e,t)=>{if(e.collapsed){return[]}else{const o=e.cloneContents();const n=o.firstChild;const s=new ce(n,o);const r=[];let a=n;do{if(t(a)){r.push(a)}}while(a=s.next());return r}};const fe=e=>/^\w+:/i.test(e);const me=e=>{var t,o;return(o=(t=e.getAttribute("data-mce-href"))!==null&&t!==void 0?t:e.getAttribute("href"))!==null&&o!==void 0?o:""};const ge=(e,t)=>{const o=["noopener"];const n=e?e.split(/\s+/):[];const s=e=>q.trim(e.sort().join(" "));const r=e=>{e=a(e);return e.length>0?e.concat(o):o};const a=e=>e.filter((e=>q.inArray(o,e)===-1));const c=t?r(n):a(n);return c.length>0?s(c):""};const pe=e=>e.replace(/\uFEFF/g,"");const he=(e,t)=>{t=t||ve(e.selection.getRng())[0]||e.selection.getNode();if(Ce(t)){return b.from(e.dom.select("a[href]",t)[0])}else{return b.from(e.dom.getParent(t,"a[href]"))}};const ye=(e,t)=>he(e,t).isSome();const be=(e,t)=>{const o=t.fold((()=>e.getContent({format:"text"})),(e=>e.innerText||e.textContent||""));return pe(o)};const ve=e=>ue(e,de);const ke=e=>q.grep(e,de);const we=e=>ke(e).length>0;const _e=e=>ve(e).length>0;const xe=e=>{const t=e.schema.getTextInlineElements();const o=e=>e.nodeType===1&&!le(e)&&!re(t,e.nodeName.toLowerCase());const n=he(e).exists((e=>e.hasAttribute("data-mce-block")));if(n){return false}const s=e.selection.getRng();if(!s.collapsed){const e=ue(s,o);return e.length===0}else{return true}};const Ce=e=>f(e)&&e.nodeName==="FIGURE"&&/\bimage\b/i.test(e.className);const Se=e=>{const t=["title","rel","class","target"];return S(t,((t,o)=>{e[o].each((e=>{t[o]=e.length>0?e:null}));return t}),{href:e.href})};const ze=(e,t)=>{if((t==="http"||t==="https")&&!fe(e)){return t+"://"+e}return e};const Ee=(e,t)=>{const o={...t};if(F(e).length===0&&!Z(e)){const e=ge(o.rel,o.target==="_blank");o.rel=e?e:null}if(b.from(o.target).isNone()&&P(e)===false){o.target=H(e)}o.href=ze(o.href,R(e));return o};const Te=(e,t,o,n)=>{o.each((e=>{if(re(t,"innerText")){t.innerText=e}else{t.textContent=e}}));e.dom.setAttribs(t,n);e.selection.select(t)};const Oe=(e,t,o,n)=>{const s=e.dom;if(Ce(t)){Ie(s,t,n)}else{o.fold((()=>{e.execCommand("mceInsertLink",false,n)}),(t=>{e.insertContent(s.createHTML("a",n,s.encode(t)))}))}};const De=(e,t,o)=>{const n=e.selection.getNode();const s=he(e,n);const r=Ee(e,Se(o));e.undoManager.transact((()=>{if(o.href===t.href){t.attach()}s.fold((()=>{Oe(e,n,o.text,r)}),(t=>{e.focus();Te(e,t,o.text,r)}))}))};const Ae=e=>{const t=e.dom,o=e.selection;const n=o.getBookmark();const s=o.getRng().cloneRange();const r=t.getParent(s.startContainer,"a[href]",e.getBody());const a=t.getParent(s.endContainer,"a[href]",e.getBody());if(r){s.setStartBefore(r)}if(a){s.setEndAfter(a)}o.setRng(s);e.execCommand("unlink");o.moveToBookmark(n)};const Ne=e=>{e.undoManager.transact((()=>{const t=e.selection.getNode();if(Ce(t)){He(e,t)}else{Ae(e)}e.focus()}))};const Me=e=>{const{class:t,href:o,rel:n,target:s,text:r,title:a}=e;return se({class:t.getOrNull(),href:o,rel:n.getOrNull(),target:s.getOrNull(),text:r.getOrNull(),title:a.getOrNull()},((e,t)=>l(e)===false))};const Re=(e,t)=>{const o=e.options.get;const n={allow_html_data_urls:o("allow_html_data_urls"),allow_script_urls:o("allow_script_urls"),allow_svg_data_urls:o("allow_svg_data_urls")};const s=t.href;return{...t,href:ie.isDomSafe(s,"a",n)?s:""}};const Be=(e,t,o)=>{const n=Re(e,o);e.hasPlugin("rtc",true)?e.execCommand("createlink",false,Me(n)):De(e,t,n)};const Le=e=>{e.hasPlugin("rtc",true)?e.execCommand("unlink"):Ne(e)};const He=(e,t)=>{var o;const n=e.dom.select("img",t)[0];if(n){const s=e.dom.getParents(n,"a[href]",t)[0];if(s){(o=s.parentNode)===null||o===void 0?void 0:o.insertBefore(n,s);e.dom.remove(s)}}};const Ie=(e,t,o)=>{var n;const s=e.select("img",t)[0];if(s){const t=e.create("a",o);(n=s.parentNode)===null||n===void 0?void 0:n.insertBefore(t,s);t.appendChild(s)}};const Pe=e=>ae(e,"items");const Fe=(e,t)=>T(t,(t=>{if(Pe(t)){return Fe(e,t.items)}else{return A(t.value===e,t)}}));const Ve=(e,t,o,n)=>{const s=n[t];const r=e.length>0;return s!==undefined?Fe(s,o).map((t=>({url:{value:t.value,meta:{text:r?e:t.text,attach:p}},text:r?e:t.text}))):b.none()};const je=(e,t)=>{if(t==="link"){return e.link}else if(t==="anchor"){return e.anchor}else{return b.none()}};const Ze=(e,t)=>{const o={text:e.text,title:e.title};const n=e=>{var t;return A(o.title.length<=0,b.from((t=e.meta)===null||t===void 0?void 0:t.title).getOr(""))};const s=e=>{var t;return A(o.text.length<=0,b.from((t=e.meta)===null||t===void 0?void 0:t.text).getOr(e.value))};const r=e=>{const t=s(e.url);const o=n(e.url);if(t.isSome()||o.isSome()){return b.some({...t.map((e=>({text:e}))).getOr({}),...o.map((e=>({title:e}))).getOr({})})}else{return b.none()}};const a=(e,n)=>{const s=je(t,n).getOr([]);return Ve(o.text,n,s,e)};const c=(e,t)=>{const n=t.name;if(n==="url"){return r(e())}else if(_(["anchor","link"],n)){return a(e(),n)}else if(n==="text"||n==="title"){o[n]=e()[n];return b.none()}else{return b.none()}};return{onChange:c}};const Ue={init:Ze,getDelta:Ve};var qe=tinymce.util.Tools.resolve("tinymce.util.Delay");const We=(e,t,o)=>{const n=e.selection.getRng();qe.setEditorTimeout(e,(()=>{e.windowManager.confirm(t,(t=>{e.selection.setRng(n);o(t)}))}))};const $e=e=>{const t=e.href;const o=t.indexOf("@")>0&&t.indexOf("/")===-1&&t.indexOf("mailto:")===-1;return o?b.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:e=>({...e,href:"mailto:"+t})}):b.none()};const Ge=(e,t)=>o=>{const n=o.href;const s=e===1&&!fe(n)||e===0&&/^\s*www(\.|\d\.)/i.test(n);return s?b.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${t}:// prefix?`,preprocess:e=>({...e,href:t+"://"+n})}):b.none()};const Ke=(e,t)=>T([$e,Ge(R(e),I(e))],(e=>e(t))).fold((()=>Promise.resolve(t)),(o=>new Promise((n=>{We(e,o.message,(e=>{n(e?o.preprocess(t):t)}))}))));const Ye={preprocess:Ke};const Xe=e=>{const t=e.dom.select("a:not([href])");const o=E(t,(e=>{const t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return o.length>0?b.some([{text:"None",value:""}].concat(o)):b.none()};const Je={getAnchors:Xe};const Qe=e=>{const t=V(e);if(t.length>0){return J.sanitize(t)}return b.none()};const et={getClasses:Qe};const tt=e=>{try{return b.some(JSON.parse(e))}catch(e){return b.none()}};const ot=e=>{const t=t=>e.convertURL(t.value||t.url||"","href");const o=L(e);return new Promise((e=>{if(a(o)){fetch(o).then((e=>e.ok?e.text().then(tt):Promise.reject())).then(e,(()=>e(b.none())))}else if(m(o)){o((t=>e(b.some(t))))}else{e(b.from(o))}})).then((e=>e.bind(J.sanitizeWith(t)).map((e=>{if(e.length>0){const t=[{text:"None",value:""}];return t.concat(e)}else{return e}}))))};const nt={getLinks:ot};const st=(e,t)=>{const o=F(e);if(o.length>0){const n=O(t,"_blank");const s=Z(e)===false;const r=e=>ge(J.getValue(e),n);const a=s?J.sanitizeWith(r):J.sanitize;return a(o)}return b.none()};const rt={getRels:st};const at=[{text:"Current window",value:""},{text:"New window",value:"_blank"}];const ct=e=>{const t=P(e);if(i(t)){return J.sanitize(t).orThunk((()=>b.some(at)))}else if(t===false){return b.none()}return b.some(at)};const it={getTargets:ct};const lt=(e,t,o)=>{const n=e.getAttrib(t,o);return n!==null&&n.length>0?b.some(n):b.none()};const dt=(e,t)=>{const o=e.dom;const n=xe(e);const s=n?b.some(be(e.selection,t)):b.none();const r=t.bind((e=>b.from(o.getAttrib(e,"href"))));const a=t.bind((e=>b.from(o.getAttrib(e,"target"))));const c=t.bind((e=>lt(o,e,"rel")));const i=t.bind((e=>lt(o,e,"class")));const l=t.bind((e=>lt(o,e,"title")));return{url:r,text:s,title:l,target:a,rel:c,linkClass:i}};const ut=(e,t)=>nt.getLinks(e).then((o=>{const n=dt(e,t);return{anchor:n,catalogs:{targets:it.getTargets(e),rels:rt.getRels(e,n.target),classes:et.getClasses(e),anchor:Je.getAnchors(e),link:o},optNode:t,flags:{titleEnabled:j(e)}}}));const ft={collect:ut};const mt=(e,t)=>o=>{const n=o.getData();if(!n.url.value){Le(e);o.close();return}const s=e=>b.from(n[e]).filter((o=>!O(t.anchor[e],o)));const r={href:n.url.value,text:s("text"),target:s("target"),rel:s("rel"),class:s("linkClass"),title:s("title")};const a={href:n.url.value,attach:n.url.meta!==undefined&&n.url.meta.attach?n.url.meta.attach:p};Ye.preprocess(e,r).then((t=>{Be(e,a,t)}));o.close()};const gt=e=>{const t=he(e);return ft.collect(e,t)};const pt=(e,t)=>{const o=e.anchor;const n=o.url.getOr("");return{url:{value:n,meta:{original:{value:n}}},text:o.text.getOr(""),title:o.title.getOr(""),anchor:n,link:n,rel:o.rel.getOr(""),target:o.target.or(t).getOr(""),linkClass:o.linkClass.getOr("")}};const ht=(e,t,o)=>{const n=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}];const s=e.anchor.text.map((()=>({name:"text",type:"input",label:"Text to display"}))).toArray();const r=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[];const a=b.from(H(o));const c=pt(e,a);const i=e.catalogs;const l=Ue.init(c,i);const d={type:"panel",items:z([n,s,r,D([i.anchor.map(J.createUi("anchor","Anchors")),i.rels.map(J.createUi("rel","Rel")),i.targets.map(J.createUi("target","Open link in...")),i.link.map(J.createUi("link","Link list")),i.classes.map(J.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:d,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:c,onChange:(e,{name:t})=>{l.onChange(e.getData,{name:t}).each((t=>{e.setData(t)}))},onSubmit:t}};const yt=e=>{const t=gt(e);t.then((t=>{const o=mt(e,t);return ht(t,o,e)})).then((t=>{e.windowManager.open(t)}))};const bt=e=>{e.addCommand("mceLink",((t,o)=>{if((o===null||o===void 0?void 0:o.dialog)===true||!U(e)){yt(e)}else{e.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})}}))};var vt=tinymce.util.Tools.resolve("tinymce.util.VK");const kt=(e,t)=>{document.body.appendChild(e);e.dispatchEvent(t);document.body.removeChild(e)};const wt=e=>{const t=document.createElement("a");t.target="_blank";t.href=e;t.rel="noreferrer noopener";const o=document.createEvent("MouseEvents");o.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);kt(t,o)};const _t=(e,t)=>e.dom.getParent(t,"a[href]");const xt=e=>_t(e,e.selection.getStart());const Ct=e=>e.altKey===true&&e.shiftKey===false&&e.ctrlKey===false&&e.metaKey===false;const St=(e,t)=>{if(t){const o=me(t);if(/^#/.test(o)){const t=e.dom.select(o);if(t.length){e.selection.scrollIntoView(t[0],true)}}else{wt(t.href)}}};const zt=e=>()=>{e.execCommand("mceLink",false,{dialog:true})};const Et=e=>()=>{St(e,xt(e))};const Tt=e=>{e.on("click",(t=>{const o=_t(e,t.target);if(o&&vt.metaKeyPressed(t)){t.preventDefault();St(e,o)}}));e.on("keydown",(t=>{if(!t.isDefaultPrevented()&&t.keyCode===13&&Ct(t)){const o=xt(e);if(o){t.preventDefault();St(e,o)}}}))};const Ot=(e,t)=>{e.on("NodeChange",t);return()=>e.off("NodeChange",t)};const Dt=e=>t=>{const o=()=>{t.setActive(!e.mode.isReadOnly()&&ye(e,e.selection.getNode()));t.setEnabled(e.selection.isEditable())};o();return Ot(e,o)};const At=e=>t=>{const o=()=>{t.setEnabled(e.selection.isEditable())};o();return Ot(e,o)};const Nt=e=>{const t=e.selection.isCollapsed()?ke(e.dom.getParents(e.selection.getStart())):ve(e.selection.getRng());return t.length===1};const Mt=e=>t=>{const o=()=>t.setEnabled(Nt(e));o();return Ot(e,o)};const Rt=e=>t=>{const o=t=>we(t)||_e(e.selection.getRng());const n=e.dom.getParents(e.selection.getStart());const s=n=>{t.setEnabled(o(n)&&e.selection.isEditable())};s(n);return Ot(e,(e=>s(e.parents)))};const Bt=e=>{e.addShortcut("Meta+K","",(()=>{e.execCommand("mceLink")}))};const Lt=e=>{e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:zt(e),onSetup:Dt(e)});e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Et(e),onSetup:Mt(e)});e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Le(e),onSetup:Rt(e)})};const Ht=e=>{e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Et(e),onSetup:Mt(e)});e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:At(e),onAction:zt(e)});e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Le(e),onSetup:Rt(e)})};const It=e=>{const t="link unlink openlink";const o="link";e.ui.registry.addContextMenu("link",{update:n=>{const s=e.dom.isEditable(n);if(!s){return""}return we(e.dom.getParents(n,"a"))?t:o}})};const Pt=e=>{const t=e=>{e.selection.collapse(false)};const o=t=>{const o=e.selection.getNode();t.setEnabled(ye(e,o));return p};const n=t=>{const o=he(e);const n=xe(e);if(o.isNone()&&n){const n=be(e.selection,o);return A(n.length===0,t)}else{return b.none()}};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Dt(e)},label:"Link",predicate:t=>B(e)&&ye(e,t),initValue:()=>{const t=he(e);return t.fold(h(""),me)},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:true,onSetup:t=>{const o=e.selection.getNode();t.setActive(ye(e,o));return Dt(e)(t)},onAction:o=>{const s=o.getValue();const r=n(s);const a={href:s,attach:p};Be(e,a,{href:s,text:r,title:b.none(),rel:b.none(),target:b.none(),class:b.none()});t(e);o.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:o,onAction:t=>{Le(e);t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:o,onAction:t=>{Et(e)();t.hide()}}]})};var Ft=()=>{e.add("link",(e=>{M(e);Lt(e);Ht(e);It(e);Pt(e);Tt(e);bt(e);Bt(e)}))};Ft()})()},(e,t,o)=>{o(22)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=n("string");const a=n("object");const c=n("array");const i=s("boolean");const l=e=>e===null||e===undefined;const d=e=>!l(e);const u=s("function");const f=s("number");const m=()=>{};const g=e=>()=>e;const p=(e,t)=>e===t;function h(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const y=e=>t=>!e(t);const b=g(false);class v{constructor(e,t){this.tag=e;this.value=t}static some(e){return new v(true,e)}static none(){return v.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return v.some(e(this.value))}else{return v.none()}}bind(e){if(this.tag){return e(this.value)}else{return v.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return v.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return d(e)?v.some(e):v.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}v.singletonNone=new v(false);const k=Array.prototype.slice;const w=Array.prototype.indexOf;const _=Array.prototype.push;const x=(e,t)=>w.call(e,t);const C=(e,t)=>x(e,t)>-1;const S=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const z=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const E=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const T=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const O=(e,t)=>{if(e.length===0){return[]}else{let o=t(e[0]);const n=[];let s=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];const c=t(a);if(c!==o){n.push(s);s=[]}o=c;s.push(a)}if(s.length!==0){n.push(s)}return n}};const D=(e,t,o)=>{E(e,((e,n)=>{o=t(o,e,n)}));return o};const A=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return v.some(s)}else if(o(s,n)){break}}return v.none()};const N=(e,t)=>A(e,t,b);const M=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!c(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}_.apply(t,e[o])}return t};const R=(e,t)=>M(z(e,t));const B=e=>{const t=k.call(e,0);t.reverse();return t};const L=(e,t)=>t>=0&&t<e.length?v.some(e[t]):v.none();const H=e=>L(e,0);const I=e=>L(e,e.length-1);const P=(e,t)=>{const o=[];const n=u(t)?e=>S(o,(o=>t(o,e))):e=>C(o,e);for(let t=0,s=e.length;t<s;t++){const s=e[t];if(!n(s)){o.push(s)}}return o};const F=(e,t,o=p)=>e.exists((e=>o(e,t)));const V=(e,t,o=p)=>j(e,t,o).getOr(e.isNone()&&t.isNone());const j=(e,t,o)=>e.isSome()&&t.isSome()?v.some(o(e.getOrDie(),t.getOrDie())):v.none();const Z=8;const U=1;const q=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return G(n.childNodes[0])};const W=(e,t)=>{const o=t||document;const n=o.createElement(e);return G(n)};const $=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return G(n)};const G=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const K=(e,t,o)=>v.from(e.dom.elementFromPoint(t,o)).map(G);const Y={fromHtml:q,fromTag:W,fromText:$,fromDom:G,fromPoint:K};const X=(e,t)=>{const o=e.dom;if(o.nodeType!==U){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const J=(e,t)=>e.dom===t.dom;const Q=(e,t)=>{const o=e.dom;const n=t.dom;return o===n?false:o.contains(n)};const ee=X;var te=(e,t,o,n,s)=>{if(e(o,n)){return v.some(o)}else if(u(s)&&s(o)){return v.none()}else{return t(o,n,s)}};typeof window!=="undefined"?window:Function("return this;")();const oe=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const ne=e=>e.dom.nodeType;const se=e=>t=>ne(t)===e;const re=e=>ne(e)===Z||oe(e)==="#comment";const ae=se(U);const ce=e=>t=>ae(t)&&oe(t)===e;const ie=e=>v.from(e.dom.parentNode).map(Y.fromDom);const le=e=>v.from(e.dom.parentElement).map(Y.fromDom);const de=e=>v.from(e.dom.nextSibling).map(Y.fromDom);const ue=e=>z(e.dom.childNodes,Y.fromDom);const fe=(e,t)=>{const o=e.dom.childNodes;return v.from(o[t]).map(Y.fromDom)};const me=e=>fe(e,0);const ge=e=>fe(e,e.dom.childNodes.length-1);const pe=(e,t,o)=>{let n=e.dom;const s=u(o)?o:b;while(n.parentNode){n=n.parentNode;const e=Y.fromDom(n);if(t(e)){return v.some(e)}else if(s(e)){break}}return v.none()};const he=(e,t,o)=>{const n=(e,t)=>t(e);return te(n,pe,e,t,o)};const ye=(e,t)=>{const o=ie(e);o.each((o=>{o.dom.insertBefore(t.dom,e.dom)}))};const be=(e,t)=>{const o=de(e);o.fold((()=>{const o=ie(e);o.each((e=>{ke(e,t)}))}),(e=>{ye(e,t)}))};const ve=(e,t)=>{const o=me(e);o.fold((()=>{ke(e,t)}),(o=>{e.dom.insertBefore(t.dom,o.dom)}))};const ke=(e,t)=>{e.dom.appendChild(t.dom)};const we=(e,t)=>{E(t,(t=>{ye(e,t)}))};const _e=(e,t)=>{E(t,(t=>{ke(e,t)}))};const xe=e=>{e.dom.textContent="";E(ue(e),(e=>{Ce(e)}))};const Ce=e=>{const t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};var Se=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils");var ze=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");var Ee=tinymce.util.Tools.resolve("tinymce.util.VK");const Te=e=>z(e,Y.fromDom);const Oe=Object.keys;const De=(e,t)=>{const o=Oe(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const Ae=e=>(t,o)=>{e[o]=t};const Ne=(e,t,o,n)=>{De(e,((e,s)=>{(t(e,s)?o:n)(e,s)}))};const Me=(e,t)=>{const o={};Ne(e,t,Ae(o),m);return o};const Re=(e,t,o)=>{if(r(o)||i(o)||f(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const Be=(e,t)=>{const o=e.dom;De(t,((e,t)=>{Re(o,t,e)}))};const Le=e=>D(e.dom.attributes,((e,t)=>{e[t.name]=t.value;return e}),{});const He=(e,t)=>Y.fromDom(e.dom.cloneNode(t));const Ie=e=>He(e,true);const Pe=(e,t)=>{const o=Y.fromTag(t);const n=Le(e);Be(o,n);return o};const Fe=(e,t)=>{const o=Pe(e,t);be(e,o);const n=ue(e);_e(o,n);Ce(e);return o};var Ve=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var je=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ze=e=>t=>d(t)&&t.nodeName.toLowerCase()===e;const Ue=e=>t=>d(t)&&e.test(t.nodeName);const qe=e=>d(e)&&e.nodeType===3;const We=e=>d(e)&&e.nodeType===1;const $e=Ue(/^(OL|UL|DL)$/);const Ge=Ue(/^(OL|UL)$/);const Ke=Ze("ol");const Ye=Ue(/^(LI|DT|DD)$/);const Xe=Ue(/^(DT|DD)$/);const Je=Ue(/^(TH|TD)$/);const Qe=Ze("br");const et=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e};const tt=(e,t)=>d(t)&&t.nodeName in e.schema.getTextBlockElements();const ot=(e,t)=>d(e)&&e.nodeName in t;const nt=(e,t)=>d(t)&&t.nodeName in e.schema.getVoidElements();const st=(e,t)=>{if(!Qe(t)){return false}return e.isBlock(t.nextSibling)&&!Qe(t.previousSibling)};const rt=(e,t,o)=>{const n=e.isEmpty(t);if(o&&e.select("span[data-mce-type=bookmark]",t).length>0){return false}return n};const at=(e,t)=>e.isChildOf(t,e.getRoot());const ct=e=>t=>t.options.get(e);const it=e=>{const t=e.options.register;t("lists_indent_on_tab",{processor:"boolean",default:true})};const lt=ct("lists_indent_on_tab");const dt=ct("forced_root_block");const ut=ct("forced_root_block_attrs");const ft=(e,t)=>{const o=e.dom;const n=e.schema.getBlockElements();const s=o.createFragment();const r=dt(e);const a=ut(e);let c;let i;let l=false;i=o.create(r,a);if(!ot(t.firstChild,n)){s.appendChild(i)}while(c=t.firstChild){const e=c.nodeName;if(!l&&(e!=="SPAN"||c.getAttribute("data-mce-type")!=="bookmark")){l=true}if(ot(c,n)){s.appendChild(c);i=null}else{if(!i){i=o.create(r,a);s.appendChild(i)}i.appendChild(c)}}if(!l&&i){i.appendChild(o.create("br",{"data-mce-bogus":"1"}))}return s};const mt=Ve.DOM;const gt=(e,t,o)=>{const n=e=>{const t=e.parentNode;if(t){je.each(s,(e=>{t.insertBefore(e,o.parentNode)}))}mt.remove(e)};const s=mt.select('span[data-mce-type="bookmark"]',t);const r=ft(e,o);const a=mt.createRng();a.setStartAfter(o);a.setEndAfter(t);const c=a.extractContents();for(let t=c.firstChild;t;t=t.firstChild){if(t.nodeName==="LI"&&e.dom.isEmpty(t)){mt.remove(t);break}}if(!e.dom.isEmpty(c)){mt.insertAfter(c,t)}mt.insertAfter(r,t);const i=o.parentElement;if(i&&rt(e.dom,i)){n(i)}mt.remove(o);if(rt(e.dom,t)){mt.remove(t)}};const pt=ce("dd");const ht=ce("dt");const yt=(e,t)=>{if(pt(t)){Fe(t,"dt")}else if(ht(t)){le(t).each((o=>gt(e,o.dom,t.dom)))}};const bt=e=>{if(ht(e)){Fe(e,"dd")}};const vt=(e,t,o)=>{if(t==="Indent"){E(o,bt)}else{E(o,(t=>yt(e,t)))}};const kt=(e,t)=>{if(qe(e)){return{container:e,offset:t}}const o=Se.getNode(e,t);if(qe(o)){return{container:o,offset:t>=e.childNodes.length?o.data.length:0}}else if(o.previousSibling&&qe(o.previousSibling)){return{container:o.previousSibling,offset:o.previousSibling.data.length}}else if(o.nextSibling&&qe(o.nextSibling)){return{container:o.nextSibling,offset:0}}return{container:e,offset:t}};const wt=e=>{const t=e.cloneRange();const o=kt(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const n=kt(e.endContainer,e.endOffset);t.setEnd(n.container,n.offset);return t};const _t=["OL","UL","DL"];const xt=_t.join(",");const Ct=(e,t)=>{const o=t||e.selection.getStart(true);return e.dom.getParent(o,xt,Mt(e,o))};const St=(e,t)=>d(e)&&t.length===1&&t[0]===e;const zt=e=>T(e.querySelectorAll(xt),$e);const Et=e=>{const t=Ct(e);const o=e.selection.getSelectedBlocks();if(St(t,o)){return zt(t)}else{return T(o,(e=>$e(e)&&t!==e))}};const Tt=(e,t)=>{const o=je.map(t,(t=>{const o=e.dom.getParent(t,"li,dd,dt",Mt(e,t));return o?o:t}));return P(o)};const Ot=e=>{const t=e.selection.getSelectedBlocks();return T(Tt(e,t),Ye)};const Dt=e=>T(Ot(e),Xe);const At=(e,t)=>{const o=e.dom.getParents(t,"TD,TH");return o.length>0?o[0]:e.getBody()};const Nt=(e,t)=>!$e(t)&&!Ye(t)&&S(_t,(o=>e.isValidChild(t.nodeName,o)));const Mt=(e,t)=>{const o=e.dom.getParents(t,e.dom.isBlock);const n=N(o,(t=>Nt(e.schema,t)));return n.getOr(e.getBody())};const Rt=e=>ie(e).exists((e=>Ye(e.dom)&&me(e).exists((e=>!$e(e.dom)))&&ge(e).exists((e=>!$e(e.dom)))));const Bt=(e,t)=>{const o=e.dom.getParents(t,"ol,ul",Mt(e,t));return I(o)};const Lt=e=>{const t=Bt(e,e.selection.getStart());const o=T(e.selection.getSelectedBlocks(),Ge);return t.toArray().concat(o)};const Ht=e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",Mt(e,t))};const It=e=>{const t=Lt(e);const o=Ht(e);return N(o,(e=>Rt(Y.fromDom(e)))).fold((()=>Pt(e,t)),(e=>[e]))};const Pt=(e,t)=>{const o=z(t,(t=>Bt(e,t).getOr(t)));return P(o)};const Ft=e=>/\btox\-/.test(e.className);const Vt=(e,t)=>A(e,$e,Je).exists((e=>e.nodeName===t&&!Ft(e)));const jt=(e,t)=>t!==null&&!e.dom.isEditable(t);const Zt=e=>{const t=Ct(e);return jt(e,t)};const Ut=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return jt(e,o)};const qt=(e,t)=>{const o=e.selection.getNode();t({parents:e.dom.getParents(o),element:o});e.on("NodeChange",t);return()=>e.off("NodeChange",t)};const Wt=(e,t)=>{const o=t||document;const n=o.createDocumentFragment();E(e,(e=>{n.appendChild(e.dom)}));return Y.fromDom(n)};const $t=(e,t,o)=>e.dispatch("ListMutation",{action:t,element:o});const Gt=e=>t=>t.replace(e,"");const Kt=Gt(/^\s+|\s+$/g);const Yt=e=>e.length>0;const Xt=e=>!Yt(e);const Jt=e=>e.style!==undefined&&u(e.style.getPropertyValue);const Qt=(e,t,o)=>{if(!r(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(Jt(e)){e.style.setProperty(t,o)}};const eo=(e,t,o)=>{const n=e.dom;Qt(n,t,o)};const to=e=>ee(e,"OL,UL");const oo=e=>me(e).exists(to);const no=e=>ge(e).exists(to);const so=e=>"listAttributes"in e;const ro=e=>"isInPreviousLi"in e;const ao=e=>"isComment"in e;const co=e=>e.depth>0;const io=e=>e.isSelected;const lo=e=>{const t=ue(e);const o=no(e)?t.slice(0,-1):t;return z(o,Ie)};const uo=(e,t,o)=>ie(e).filter(ae).map((n=>({depth:t,dirty:false,isSelected:o,content:lo(e),itemAttributes:Le(e),listAttributes:Le(n),listType:oe(n),isInPreviousLi:false})));const fo=(e,t)=>{ke(e.item,t.list)};const mo=e=>{for(let t=1;t<e.length;t++){fo(e[t-1],e[t])}};const go=(e,t)=>{j(I(e),H(t),fo)};const po=(e,t)=>{const o={list:Y.fromTag(t,e),item:Y.fromTag("li",e)};ke(o.list,o.item);return o};const ho=(e,t,o)=>{const n=[];for(let s=0;s<o;s++){n.push(po(e,t.listType))}return n};const yo=(e,t)=>{for(let t=0;t<e.length-1;t++){eo(e[t].item,"list-style-type","none")}I(e).each((e=>{Be(e.list,t.listAttributes);Be(e.item,t.itemAttributes);_e(e.item,t.content)}))};const bo=(e,t)=>{if(oe(e.list)!==t.listType){e.list=Fe(e.list,t.listType)}Be(e.list,t.listAttributes)};const vo=(e,t,o)=>{const n=Y.fromTag("li",e);Be(n,t);_e(n,o);return n};const ko=(e,t)=>{ke(e.list,t);e.item=t};const wo=(e,t,o,n)=>{const s=Y.fromTag(n,e);Be(s,t);_e(s,o);return s};const _o=(e,t,o)=>{const n=t.slice(0,o.depth);I(n).each((t=>{if(so(o)){const n=vo(e,o.itemAttributes,o.content);ko(t,n);bo(t,o)}else if(ro(o)){if(o.isInPreviousLi){const n=wo(e,o.attributes,o.content,o.type);ke(t.item,n)}}else{const e=Y.fromHtml(`\x3c!--${o.content}--\x3e`);ke(t.list,e)}}));return n};const xo=(e,t,o)=>{const n=ho(e,o,o.depth-t.length);mo(n);yo(n,o);go(t,n);return t.concat(n)};const Co=(e,t)=>{let o=v.none();const n=D(t,((t,n,s)=>{if(so(n)){return n.depth>t.length?xo(e,t,n):_o(e,t,n)}else{if(s===0&&ao(n)){o=v.some(n);return t}return _o(e,t,n)}}),[]);o.each((e=>{const t=Y.fromHtml(`\x3c!--${e.content}--\x3e`);H(n).each((e=>{ve(e.list,t)}))}));return H(n).map((e=>e.list))};const So=(e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=true};const zo=(e,t)=>{if(so(e)&&so(t)){e.listType=t.listType;e.listAttributes={...t.listAttributes}}};const Eo=e=>{e.listAttributes=Me(e.listAttributes,((e,t)=>t!=="start"))};const To=(e,t)=>{const o=e[t].depth;const n=e=>e.depth===o&&!e.dirty;const s=e=>e.depth<o;return A(B(e.slice(0,t)),n,s).orThunk((()=>A(e.slice(t+1),n,s)))};const Oo=e=>{E(e,((t,o)=>{To(e,o).fold((()=>{if(t.dirty&&so(t)){Eo(t)}}),(e=>zo(t,e)))}));return e};const Do=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const Ao=(e,t,o)=>{if(so(e)){return{depth:e.depth,dirty:e.dirty,content:e.content,isSelected:e.isSelected,type:t,attributes:e.itemAttributes,isInPreviousLi:o}}else{return e}};const No=(e,t,o,n)=>{var s;if(re(n)){return[{depth:e+1,content:(s=n.dom.nodeValue)!==null&&s!==void 0?s:"",dirty:false,isSelected:false,isComment:true}]}t.each((e=>{if(J(e.start,n)){o.set(true)}}));const r=uo(n,e,o.get());t.each((e=>{if(J(e.end,n)){o.set(false)}}));const a=ge(n).filter(to).map((n=>Ro(e,t,o,n))).getOr([]);return r.toArray().concat(a)};const Mo=(e,t,o,n)=>me(n).filter(to).fold((()=>No(e,t,o,n)),(s=>{const r=D(ue(n),((n,s,r)=>{if(r===0){return n}else{const r=No(e,t,o,s).map((e=>Ao(e,s.dom.nodeName.toLowerCase(),true)));return n.concat(r)}}),[]);return Ro(e,t,o,s).concat(r)}));const Ro=(e,t,o,n)=>R(ue(n),(n=>{const s=to(n)?Ro:Mo;const r=e+1;return s(r,t,o,n)}));const Bo=(e,t)=>{const o=Do(false);const n=0;return z(e,(e=>({sourceList:e,entries:Ro(n,t,o,e)})))};const Lo=(e,t)=>{const o=Oo(t);return z(o,(t=>{const o=!ao(t)?Wt(t.content):Wt([Y.fromHtml(`\x3c!--${t.content}--\x3e`)]);return Y.fromDom(ft(e,o.dom))}))};const Ho=(e,t)=>{const o=Oo(t);return Co(e.contentDocument,o).toArray()};const Io=(e,t)=>R(O(t,co),(t=>{const o=H(t).exists(co);return o?Ho(e,t):Lo(e,t)}));const Po=(e,t)=>{E(T(e,io),(e=>So(t,e)))};const Fo=e=>{const t=z(Ot(e),Y.fromDom);return j(N(t,y(oo)),N(B(t),y(oo)),((e,t)=>({start:e,end:t})))};const Vo=(e,t,o)=>{const n=Bo(t,Fo(e));E(n,(t=>{Po(t.entries,o);const n=Io(e,t.entries);E(n,(t=>{$t(e,o==="Indent"?"IndentList":"OutdentList",t.dom)}));we(t.sourceList,n);Ce(t.sourceList)}))};const jo=(e,t)=>{const o=Te(It(e));const n=Te(Dt(e));let s=false;if(o.length||n.length){const r=e.selection.getBookmark();Vo(e,o,t);vt(e,t,n);e.selection.moveToBookmark(r);e.selection.setRng(wt(e.selection.getRng()));e.nodeChanged();s=true}return s};const Zo=(e,t)=>!Zt(e)&&jo(e,t);const Uo=e=>Zo(e,"Indent");const qo=e=>Zo(e,"Outdent");const Wo=e=>Zo(e,"Flatten");const $o="\ufeff";const Go=e=>e===$o;const Ko=(e,t,o)=>pe(e,t,o).isSome();const Yo=(e,t)=>Ko(e,h(J,t));var Xo=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Jo=Ve.DOM;const Qo=e=>{const t={};const o=o=>{let n=e[o?"startContainer":"endContainer"];let s=e[o?"startOffset":"endOffset"];if(We(n)){const e=Jo.create("span",{"data-mce-type":"bookmark"});if(n.hasChildNodes()){s=Math.min(s,n.childNodes.length-1);if(o){n.insertBefore(e,n.childNodes[s])}else{Jo.insertAfter(e,n.childNodes[s])}}else{n.appendChild(e)}n=e;s=0}t[o?"startContainer":"endContainer"]=n;t[o?"startOffset":"endOffset"]=s};o(true);if(!e.collapsed){o()}return t};const en=e=>{const t=t=>{const o=e=>{var t;let o=(t=e.parentNode)===null||t===void 0?void 0:t.firstChild;let n=0;while(o){if(o===e){return n}if(!We(o)||o.getAttribute("data-mce-type")!=="bookmark"){n++}o=o.nextSibling}return-1};let n=e[t?"startContainer":"endContainer"];let s=e[t?"startOffset":"endOffset"];if(!n){return}if(We(n)&&n.parentNode){const e=n;s=o(n);n=n.parentNode;Jo.remove(e);if(!n.hasChildNodes()&&Jo.isBlock(n)){n.appendChild(Jo.create("br"))}}e[t?"startContainer":"endContainer"]=n;e[t?"startOffset":"endOffset"]=s};t(true);t();const o=Jo.createRng();o.setStart(e.startContainer,e.startOffset);if(e.endContainer){o.setEnd(e.endContainer,e.endOffset)}return wt(o)};const tn=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}};const on=(e,t,o)=>{const n=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(t,"list-style-type",n)};const nn=(e,t)=>{je.each(t,((t,o)=>{e.setAttribute(o,t)}))};const sn=(e,t,o)=>{nn(t,o["list-attributes"]);je.each(e.select("li",t),(e=>{nn(e,o["list-item-attributes"])}))};const rn=(e,t,o)=>{on(e,t,o);sn(e,t,o)};const an=(e,t,o)=>{je.each(o,(o=>e.setStyle(t,o,"")))};const cn=(e,t)=>d(t)&&!ot(t,e.schema.getBlockElements());const ln=(e,t,o,n)=>{let s=t[o?"startContainer":"endContainer"];const r=t[o?"startOffset":"endOffset"];if(We(s)){s=s.childNodes[Math.min(r,s.childNodes.length-1)]||s}if(!o&&Qe(s.nextSibling)){s=s.nextSibling}const a=t=>{while(!e.dom.isBlock(t)&&t.parentNode&&n!==t){t=t.parentNode}return t};const c=(t,o)=>{var n;const s=new ze(t,a(t));const r=o?"next":"prev";let c;while(c=s[r]()){if(!(nt(e,c)||Go(c.textContent)||((n=c.textContent)===null||n===void 0?void 0:n.length)===0)){return v.some(c)}}return v.none()};if(o&&qe(s)){if(Go(s.textContent)){s=c(s,false).getOr(s)}else{if(s.parentNode!==null&&cn(e,s.parentNode)){s=s.parentNode}while(s.previousSibling!==null&&(cn(e,s.previousSibling)||qe(s.previousSibling))){s=s.previousSibling}}}if(!o&&qe(s)){if(Go(s.textContent)){s=c(s,true).getOr(s)}else{if(s.parentNode!==null&&cn(e,s.parentNode)){s=s.parentNode}while(s.nextSibling!==null&&(cn(e,s.nextSibling)||qe(s.nextSibling))){s=s.nextSibling}}}while(s.parentNode!==n){const t=s.parentNode;if(tt(e,s)){return s}if(/^(TD|TH)$/.test(t.nodeName)){return s}s=t}return s};const dn=(e,t,o)=>{const n=[];const s=e.dom;const r=ln(e,t,true,o);const a=ln(e,t,false,o);let c;const i=[];for(let e=r;e;e=e.nextSibling){i.push(e);if(e===a){break}}je.each(i,(t=>{var r;if(tt(e,t)){n.push(t);c=null;return}if(s.isBlock(t)||Qe(t)){if(Qe(t)){s.remove(t)}c=null;return}const a=t.nextSibling;if(Xo.isBookmarkNode(t)){if($e(a)||tt(e,a)||!a&&t.parentNode===o){c=null;return}}if(!c){c=s.create("p");(r=t.parentNode)===null||r===void 0?void 0:r.insertBefore(c,t);n.push(c)}c.appendChild(t)}));return n};const un=(e,t,o)=>{const n=e.getStyle(t,"list-style-type");let s=o?o["list-style-type"]:"";s=s===null?"":s;return n===s};const fn=(e,t)=>{const o=e.selection.getStart(true);const n=ln(e,t,true,e.getBody());if(Yo(Y.fromDom(n),Y.fromDom(t.commonAncestorContainer))){return t.commonAncestorContainer}else{return o}};const mn=(e,t,o)=>{const n=e.selection.getRng();let s="LI";const r=Mt(e,fn(e,n));const a=e.dom;if(a.getContentEditable(e.selection.getNode())==="false"){return}t=t.toUpperCase();if(t==="DL"){s="DT"}const c=Qo(n);const i=T(dn(e,n,r),e.dom.isEditable);je.each(i,(n=>{let r;const c=n.previousSibling;const i=n.parentNode;if(!Ye(i)){if(c&&$e(c)&&c.nodeName===t&&un(a,c,o)){r=c;n=a.rename(n,s);c.appendChild(n)}else{r=a.create(t);i.insertBefore(r,n);r.appendChild(n);n=a.rename(n,s)}an(a,n,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]);rn(a,r,o);bn(e.dom,r)}}));e.selection.setRng(en(c))};const gn=(e,t)=>$e(e)&&e.nodeName===(t===null||t===void 0?void 0:t.nodeName);const pn=(e,t,o)=>{const n=e.getStyle(t,"list-style-type",true);const s=e.getStyle(o,"list-style-type",true);return n===s};const hn=(e,t)=>e.className===t.className;const yn=(e,t,o)=>gn(t,o)&&pn(e,t,o)&&hn(t,o);const bn=(e,t)=>{let o;let n=t.nextSibling;if(yn(e,t,n)){const s=n;while(o=s.firstChild){t.appendChild(o)}e.remove(s)}n=t.previousSibling;if(yn(e,t,n)){const s=n;while(o=s.lastChild){t.insertBefore(o,t.firstChild)}e.remove(s)}};const vn=(e,t,o,n)=>{if(t.nodeName!==o){const s=e.dom.rename(t,o);rn(e.dom,s,n);$t(e,tn(o),s)}else{rn(e.dom,t,n);$t(e,tn(o),t)}};const kn=(e,t,o,n)=>{t.classList.forEach(((e,o,n)=>{if(e.startsWith("tox-")){n.remove(e);if(n.length===0){t.removeAttribute("class")}}}));if(t.nodeName!==o){const s=e.dom.rename(t,o);rn(e.dom,s,n);$t(e,tn(o),s)}else{rn(e.dom,t,n);$t(e,tn(o),t)}};const wn=(e,t,o,n,s)=>{const r=$e(t);if(r&&t.nodeName===n&&!_n(s)&&!Ft(t)){Wo(e)}else{mn(e,n,s);const a=Qo(e.selection.getRng());const c=r?[t,...o]:o;const i=r&&Ft(t)?kn:vn;je.each(c,(t=>{i(e,t,n,s)}));e.selection.setRng(en(a))}};const _n=e=>"list-style-type"in e;const xn=(e,t,o,n)=>{if(t===e.getBody()){return}if(t){if(t.nodeName===o&&!_n(n)&&!Ft(t)){Wo(e)}else{const s=Qo(e.selection.getRng());if(Ft(t)){t.classList.forEach(((e,o,n)=>{if(e.startsWith("tox-")){n.remove(e);if(n.length===0){t.removeAttribute("class")}}}))}rn(e.dom,t,n);const r=e.dom.rename(t,o);bn(e.dom,r);e.selection.setRng(en(s));mn(e,o,n);$t(e,tn(o),r)}}else{mn(e,o,n);$t(e,tn(o),t)}};const Cn=(e,t,o)=>{const n=Ct(e);if(Ut(e,n)){return}const s=Et(e);const r=a(o)?o:{};if(s.length>0){wn(e,n,s,t,r)}else{xn(e,n,t,r)}};const Sn=Ve.DOM;const zn=(e,t)=>{const o=t.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===t){const n=o.previousSibling;if(n&&n.nodeName==="LI"){n.appendChild(t);if(rt(e,o)){Sn.remove(o)}}else{Sn.setStyle(o,"listStyleType","none")}}if($e(o)){const e=o.previousSibling;if(e&&e.nodeName==="LI"){e.appendChild(t)}}};const En=(e,t)=>{const o=je.grep(e.select("ol,ul",t));je.each(o,(t=>{zn(e,t)}))};const Tn=(e,t,o,n)=>{let s=t.startContainer;const r=t.startOffset;if(qe(s)&&(o?r<s.data.length:r>0)){return s}const a=e.schema.getNonEmptyElements();if(We(s)){s=Se.getNode(s,r)}const c=new ze(s,n);if(o){if(st(e.dom,s)){c.next()}}const i=o?c.next.bind(c):c.prev2.bind(c);while(s=i()){if(s.nodeName==="LI"&&!s.hasChildNodes()){return s}if(a[s.nodeName]){return s}if(qe(s)&&s.data.length>0){return s}}return null};const On=(e,t)=>{const o=t.childNodes;return o.length===1&&!$e(o[0])&&e.isBlock(o[0])};const Dn=(e,t)=>{if(On(e,t)){e.remove(t.firstChild,true)}};const An=(e,t,o)=>{let n;const s=On(e,o)?o.firstChild:o;Dn(e,t);if(!rt(e,t,true)){while(n=t.firstChild){s.appendChild(n)}}};const Nn=(e,t,o)=>{let n;const s=t.parentNode;if(!at(e,t)||!at(e,o)){return}if($e(o.lastChild)){n=o.lastChild}if(s===o.lastChild){if(Qe(s.previousSibling)){e.remove(s.previousSibling)}}const r=o.lastChild;if(r&&Qe(r)&&t.hasChildNodes()){e.remove(r)}if(rt(e,o,true)){xe(Y.fromDom(o))}An(e,t,o);if(n){o.appendChild(n)}const a=Q(Y.fromDom(o),Y.fromDom(t));const c=a?e.getParents(t,$e,o):[];e.remove(t);E(c,(t=>{if(rt(e,t)&&t!==e.getRoot()){e.remove(t)}}))};const Mn=(e,t,o)=>{xe(Y.fromDom(o));Nn(e.dom,t,o);e.selection.setCursorLocation(o,0)};const Rn=(e,t,o,n)=>{const s=e.dom;if(s.isEmpty(n)){Mn(e,o,n)}else{const r=Qo(t);Nn(s,o,n);e.selection.setRng(en(r))}};const Bn=(e,t,o,n)=>{const s=Qo(t);Nn(e.dom,o,n);const r=en(s);e.selection.setRng(r)};const Ln=(e,t)=>{const o=e.dom,n=e.selection;const s=n.getStart();const r=At(e,s);const a=o.getParent(n.getStart(),"LI",r);if(a){const s=a.parentElement;if(s===e.getBody()&&rt(o,s)){return true}const c=wt(n.getRng());const i=o.getParent(Tn(e,c,t,r),"LI",r);if(i&&i!==a){e.undoManager.transact((()=>{if(t){Rn(e,c,i,a)}else{if(et(a)){qo(e)}else{Bn(e,c,a,i)}}}));return true}else if(!i){if(!t&&c.startOffset===0&&c.endOffset===0){e.undoManager.transact((()=>{Wo(e)}));return true}}}return false};const Hn=(e,t,o)=>{const n=e.getParent(t.parentNode,e.isBlock,o);e.remove(t);if(n&&e.isEmpty(n)){e.remove(n)}};const In=(e,t)=>{const o=e.dom;const n=e.selection.getStart();const s=At(e,n);const r=o.getParent(n,o.isBlock,s);if(r&&o.isEmpty(r)){const n=wt(e.selection.getRng());const a=o.getParent(Tn(e,n,t,s),"LI",s);if(a){const c=e=>C(["td","th","caption"],oe(e));const i=e=>e.dom===s;const l=he(Y.fromDom(a),c,i);const d=he(Y.fromDom(n.startContainer),c,i);if(!V(l,d,J)){return false}e.undoManager.transact((()=>{const n=a.parentNode;Hn(o,r,s);bn(o,n);e.selection.select(a,true);e.selection.collapse(t)}));return true}}return false};const Pn=(e,t)=>Ln(e,t)||In(e,t);const Fn=e=>{const t=e.selection.getStart();const o=At(e,t);const n=e.dom.getParent(t,"LI,DT,DD",o);return n||Ot(e).length>0};const Vn=e=>{if(Fn(e)){e.undoManager.transact((()=>{e.execCommand("Delete");En(e.dom,e.getBody())}));return true}return false};const jn=(e,t)=>{const o=e.selection;return!Ut(e,o.getNode())&&(o.isCollapsed()?Pn(e,t):Vn(e))};const Zn=e=>{e.on("ExecCommand",(t=>{const o=t.command.toLowerCase();if((o==="delete"||o==="forwarddelete")&&Fn(e)){En(e.dom,e.getBody())}}));e.on("keydown",(t=>{if(t.keyCode===Ee.BACKSPACE){if(jn(e,false)){t.preventDefault()}}else if(t.keyCode===Ee.DELETE){if(jn(e,true)){t.preventDefault()}}}))};const Un=e=>({backspaceDelete:t=>{jn(e,t)}});const qn=(e,t)=>{const o=Ct(e);if(o===null||Ut(e,o)){return}e.undoManager.transact((()=>{if(a(t.styles)){e.dom.setStyles(o,t.styles)}if(a(t.attrs)){De(t.attrs,((t,n)=>e.dom.setAttrib(o,n,t)))}}))};const Wn=e=>{const t=B(Kt(e).split(""));const o=z(t,((e,t)=>{const o=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*o}));return D(o,((e,t)=>e+t),0)};const $n=e=>{e--;if(e<0){return""}else{const t=e%26;const o=Math.floor(e/26);const n=$n(o);const s=String.fromCharCode("A".charCodeAt(0)+t);return n+s}};const Gn=e=>/^[A-Z]+$/.test(e);const Kn=e=>/^[a-z]+$/.test(e);const Yn=e=>/^[0-9]+$/.test(e);const Xn=e=>{if(Yn(e)){return 2}else if(Gn(e)){return 0}else if(Kn(e)){return 1}else if(Xt(e)){return 3}else{return 4}};const Jn=e=>{switch(Xn(e)){case 2:return v.some({listStyleType:v.none(),start:e});case 0:return v.some({listStyleType:v.some("upper-alpha"),start:Wn(e).toString()});case 1:return v.some({listStyleType:v.some("lower-alpha"),start:Wn(e).toString()});case 3:return v.some({listStyleType:v.none(),start:""});case 4:return v.none()}};const Qn=e=>{const t=parseInt(e.start,10);if(F(e.listStyleType,"upper-alpha")){return $n(t)}else if(F(e.listStyleType,"lower-alpha")){return $n(t).toLowerCase()}else{return e.start}};const es=e=>{const t=Ct(e);if(!Ke(t)||Ut(e,t)){return}e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Qn({start:e.dom.getAttrib(t,"start","1"),listStyleType:v.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],onSubmit:t=>{const o=t.getData();Jn(o.start).each((t=>{e.execCommand("mceListUpdate",false,{attrs:{start:t.start==="1"?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})}));t.close()}})};const ts=(e,t)=>()=>{const o=Ct(e);return d(o)&&o.nodeName===t};const os=e=>{e.addCommand("mceListProps",(()=>{es(e)}))};const ns=e=>{e.on("BeforeExecCommand",(t=>{const o=t.command.toLowerCase();if(o==="indent"){Uo(e)}else if(o==="outdent"){qo(e)}}));e.addCommand("InsertUnorderedList",((t,o)=>{Cn(e,"UL",o)}));e.addCommand("InsertOrderedList",((t,o)=>{Cn(e,"OL",o)}));e.addCommand("InsertDefinitionList",((t,o)=>{Cn(e,"DL",o)}));e.addCommand("RemoveList",(()=>{Wo(e)}));os(e);e.addCommand("mceListUpdate",((t,o)=>{if(a(o)){qn(e,o)}}));e.addQueryStateHandler("InsertUnorderedList",ts(e,"UL"));e.addQueryStateHandler("InsertOrderedList",ts(e,"OL"));e.addQueryStateHandler("InsertDefinitionList",ts(e,"DL"))};var ss=tinymce.util.Tools.resolve("tinymce.html.Node");const rs=e=>e.type===3;const as=e=>e.length===0;const cs=e=>{const t=(t,o)=>{const n=ss.create("li");E(t,(e=>n.append(e)));if(o){e.insert(n,o,true)}else{e.append(n)}};const o=(e,o)=>{if(rs(o)){return[...e,o]}else if(!as(e)&&!rs(o)){t(e,o);return[]}else{return e}};const n=D(e.children(),o,[]);if(!as(n)){t(n)}};const is=e=>{e.on("PreInit",(()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",(e=>E(e,cs)))}))};const ls=e=>{e.on("keydown",(t=>{if(t.keyCode!==Ee.TAB||Ee.metaKeyPressed(t)){return}e.undoManager.transact((()=>{if(t.shiftKey?qo(e):Uo(e)){t.preventDefault()}}))}))};const ds=e=>{if(lt(e)){ls(e)}Zn(e)};const us=(e,t)=>o=>{const n=n=>{o.setActive(Vt(n.parents,t));o.setEnabled(!Ut(e,n.element)&&e.selection.isEditable())};o.setEnabled(e.selection.isEditable());return qt(e,n)};const fs=e=>{const t=t=>()=>e.execCommand(t);if(!e.hasPlugin("advlist")){e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:false,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:us(e,"OL")});e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:false,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:us(e,"UL")})}};const ms=(e,t)=>o=>{const n=n=>o.setEnabled(Vt(n.parents,t)&&!Ut(e,n.element));return qt(e,n)};const gs=e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:ms(e,"OL")};e.ui.registry.addMenuItem("listprops",t);e.ui.registry.addContextMenu("lists",{update:t=>{const o=Ct(e,t);return Ke(o)?["listprops"]:[]}})};var ps=()=>{e.add("lists",(e=>{it(e);is(e);if(!e.hasPlugin("rtc",true)){ds(e);ns(e)}else{os(e)}fs(e);gs(e);return Un(e)}))};ps()})()},(e,t,o)=>{o(24)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=n("string");const a=s("boolean");const c=e=>e===null||e===undefined;const i=e=>!c(e);const l=s("function");const d=e=>t=>t.options.get(e);const u=e=>{const t=e.options.register;const o=e=>t=>{const o=a(t)||r(t);if(o){if(a(t)){return{value:t?e:"",valid:o}}else{return{value:t.trim(),valid:o}}}else{return{valid:false,message:"Must be a boolean or string."}}};const n="bold italic | quicklink h2 h3 blockquote";t("quickbars_selection_toolbar",{processor:o(n),default:n});const s="quickimage quicktable";t("quickbars_insert_toolbar",{processor:o(s),default:s});const c="alignleft aligncenter alignright";t("quickbars_image_toolbar",{processor:o(c),default:c})};const f=d("quickbars_selection_toolbar");const m=d("quickbars_insert_toolbar");const g=d("quickbars_image_toolbar");let p=0;const h=e=>{const t=new Date;const o=t.getTime();const n=Math.floor(Math.random()*1e9);p++;return e+"_"+n+p+String(o)};const y=(e,t,o)=>{e.execCommand("mceInsertTable",false,{rows:o,columns:t})};const b=(e,t,o)=>{const n=e.editorUpload.blobCache;const s=n.create(h("mceu"),o,t);n.add(s);e.insertContent(e.dom.createHTML("img",{src:s.blobUri()}))};const v=e=>new Promise((t=>{const o=new FileReader;o.onloadend=()=>{t(o.result.split(",")[1])};o.readAsDataURL(e)}));var k=tinymce.util.Tools.resolve("tinymce.util.Delay");const w=e=>new Promise((t=>{let o=false;const n=document.createElement("input");n.type="file";n.accept="image/*";n.style.position="fixed";n.style.left="0";n.style.top="0";n.style.opacity="0.001";document.body.appendChild(n);const s=e=>{var s;if(!o){(s=n.parentNode)===null||s===void 0?void 0:s.removeChild(n);o=true;t(e)}};const r=e=>{s(Array.prototype.slice.call(e.target.files))};n.addEventListener("input",r);n.addEventListener("change",r);const a=t=>{const n=()=>{s([])};if(!o){if(t.type==="focusin"){k.setEditorTimeout(e,n,1e3)}else{n()}}e.off("focusin remove",a)};e.on("focusin remove",a);n.click()}));const _=e=>{e.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{w(e).then((t=>{if(t.length>0){const o=t[0];v(o).then((t=>{b(e,t,o)}))}}))}});e.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{y(e,2,2)}})};const x=e=>()=>e;const C=x(false);class S{constructor(e,t){this.tag=e;this.value=t}static some(e){return new S(true,e)}static none(){return S.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return S.some(e(this.value))}else{return S.none()}}bind(e){if(this.tag){return e(this.value)}else{return S.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return S.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return i(e)?S.some(e):S.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}S.singletonNone=new S(false);typeof window!=="undefined"?window:Function("return this;")();const z=1;const E=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const T=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):false};var O=(e,t,o,n,s)=>{if(e(o,n)){return S.some(o)}else if(l(s)&&s(o)){return S.none()}else{return t(o,n,s)}};const D=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return M(n.childNodes[0])};const A=(e,t)=>{const o=t||document;const n=o.createElement(e);return M(n)};const N=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return M(n)};const M=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const R=(e,t,o)=>S.from(e.dom.elementFromPoint(t,o)).map(M);const B={fromHtml:D,fromTag:A,fromText:N,fromDom:M,fromPoint:R};const L=(e,t)=>{const o=e.dom;if(o.nodeType!==z){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const H=(e,t,o)=>{let n=e.dom;const s=l(o)?o:C;while(n.parentNode){n=n.parentNode;const e=B.fromDom(n);if(t(e)){return S.some(e)}else if(s(e)){break}}return S.none()};const I=(e,t,o)=>{const n=(e,t)=>t(e);return O(n,H,e,t,o)};const P=(e,t,o)=>I(e,t,o).isSome();const F=(e,t,o)=>H(e,(e=>L(e,t)),o);const V=(e,t,o)=>{const n=(e,t)=>L(e,t);return O(n,F,e,t,o)};const j=e=>{const t=m(e);if(t.length>0){e.ui.registry.addContextToolbar("quickblock",{predicate:t=>{const o=B.fromDom(t);const n=e.schema.getTextBlockElements();const s=t=>t.dom===e.getBody();return!T(o,"data-mce-bogus")&&V(o,'table,[data-mce-bogus="all"]',s).fold((()=>P(o,(t=>E(t)in n&&e.dom.isEmpty(t.dom)),s)),C)},items:t,position:"line",scope:"editor"})}};const Z=e=>e.dom.classList!==undefined;const U=(e,t)=>Z(e)&&e.dom.classList.contains(t);const q=e=>{const t=t=>e.dom.isEditable(t);const o=e=>t(e.parentElement);const n=e=>{const t=e.nodeName==="FIGURE"&&/image/i.test(e.className);const n=e.nodeName==="IMG"||t;const s=U(B.fromDom(e),"mce-pagebreak");return n&&o(e)&&!s};const s=g(e);if(s.length>0){e.ui.registry.addContextToolbar("imageselection",{predicate:n,items:s,position:"node"})}const r=f(e);if(r.length>0){e.ui.registry.addContextToolbar("textselection",{predicate:o=>!n(o)&&!e.selection.isCollapsed()&&t(o),items:r,position:"selection",scope:"editor"})}};var W=()=>{e.add("quickbars",(e=>{u(e);_(e);j(e);q(e)}))};W()})()},(e,t,o)=>{o(26)},()=>{(function(){"use strict";const e=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const n=e=>{const t=typeof e;if(e===null){return"null"}else if(t==="object"&&Array.isArray(e)){return"array"}else if(t==="object"&&o(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return t}};const s=e=>t=>n(t)===e;const r=e=>t=>typeof t===e;const a=s("string");const c=s("array");const i=r("boolean");const l=e=>e===null||e===undefined;const d=e=>!l(e);const u=r("number");const f=()=>{};const m=e=>()=>e;const g=m(true);const p=`[~№|!-*+-\\/:;?@\\[-\`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]`;const h=m(p);class y{constructor(e,t){this.tag=e;this.value=t}static some(e){return new y(true,e)}static none(){return y.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return y.some(e(this.value))}else{return y.none()}}bind(e){if(this.tag){return e(this.value)}else{return y.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return y.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return d(e)?y.some(e):y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}y.singletonNone=new y(false);const b=h;var v=tinymce.util.Tools.resolve("tinymce.Env");var k=tinymce.util.Tools.resolve("tinymce.util.Tools");const w=Array.prototype.slice;const _=Array.prototype.push;const x=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const C=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const S=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}};const z=(e,t)=>{if(e.length===0){return[]}else{let o=t(e[0]);const n=[];let s=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];const c=t(a);if(c!==o){n.push(s);s=[]}o=c;s.push(a)}if(s.length!==0){n.push(s)}return n}};const E=(e,t,o)=>{C(e,((e,n)=>{o=t(o,e,n)}));return o};const T=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!c(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}_.apply(t,e[o])}return t};const O=(e,t)=>T(x(e,t));const D=(e,t)=>{const o=w.call(e,0);o.sort(t);return o};const A=Object.hasOwnProperty;const N=(e,t)=>A.call(e,t);typeof window!=="undefined"?window:Function("return this;")();const M=9;const R=11;const B=1;const L=3;const H=e=>e.dom.nodeType;const I=e=>t=>H(t)===e;const P=I(L);const F=(e,t,o)=>{if(a(o)||i(o)||u(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const V=(e,t,o)=>{F(e.dom,t,o)};const j=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return q(n.childNodes[0])};const Z=(e,t)=>{const o=t||document;const n=o.createElement(e);return q(n)};const U=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return q(n)};const q=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const W=(e,t,o)=>y.from(e.dom.elementFromPoint(t,o)).map(q);const $={fromHtml:j,fromTag:Z,fromText:U,fromDom:q,fromPoint:W};const G=e=>e.nodeType!==B&&e.nodeType!==M&&e.nodeType!==R||e.childElementCount===0;const K=(e,t)=>{const o=t===undefined?document:t.dom;return G(o)?[]:x(o.querySelectorAll(e),$.fromDom)};const Y=e=>y.from(e.dom.parentNode).map($.fromDom);const X=e=>x(e.dom.childNodes,$.fromDom);const J=(e,t)=>({element:e,offset:t});const Q=(e,t)=>{const o=X(e);return o.length>0&&t<o.length?J(o[t],0):J(e,t)};const ee=(e,t)=>{const o=Y(e);o.each((o=>{o.dom.insertBefore(t.dom,e.dom)}))};const te=(e,t)=>{e.dom.appendChild(t.dom)};const oe=(e,t)=>{ee(e,t);te(t,e)};const ne=(e,t)=>{const o=o=>{if(!e(o)){throw new Error("Can only get "+t+" value of a "+t+" node")}return n(o).getOr("")};const n=t=>e(t)?y.from(t.dom.nodeValue):y.none();const s=(o,n)=>{if(!e(o)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}o.dom.nodeValue=n};return{get:o,getOption:n,set:s}};const se=ne(P,"text");const re=e=>se.get(e);const ae=(e,t,o)=>(e.compareDocumentPosition(t)&o)!==0;const ce=(e,t)=>ae(e,t,Node.DOCUMENT_POSITION_PRECEDING);const ie=(e,t)=>K(t,e);var le=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const de=(e,t)=>e.isBlock(t)||N(e.schema.getVoidElements(),t.nodeName);const ue=(e,t)=>e.getContentEditable(t)==="false";const fe=(e,t)=>e.getContentEditable(t)==="true"&&t.parentNode&&e.getContentEditableParent(t.parentNode)==="false";const me=(e,t)=>!e.isBlock(t)&&N(e.schema.getWhitespaceElements(),t.nodeName);const ge=(e,t)=>de(e,t)||ue(e,t)||me(e,t)||fe(e,t);const pe=e=>e.nodeType===3;const he=()=>({sOffset:0,fOffset:0,elements:[]});const ye=(e,t)=>Q($.fromDom(e),t);const be=(e,t,o,n,s,r=true)=>{let a=r?t(false):o;while(a){const o=ue(e,a);if(o||me(e,a)){const e=o?n.cef(a):n.boundary(a);if(e){break}else{a=t(true);continue}}else if(de(e,a)){if(n.boundary(a)){break}}else if(pe(a)){n.text(a)}if(a===s){break}else{a=t(false)}}};const ve=(e,t,o,n,s)=>{var r;if(ge(e,o)){return}const a=(r=e.getParent(n,e.isBlock))!==null&&r!==void 0?r:e.getRoot();const c=new le(o,a);const i=s?c.next.bind(c):c.prev.bind(c);be(e,i,o,{boundary:g,cef:g,text:e=>{if(s){t.fOffset+=e.length}else{t.sOffset+=e.length}t.elements.push($.fromDom(e))}})};const ke=(e,t,o,n,s,r=true)=>{const a=new le(o,t);const c=[];let i=he();ve(e,i,o,t,false);const l=()=>{if(i.elements.length>0){c.push(i);i=he()}return false};be(e,a.next.bind(a),o,{boundary:l,cef:e=>{l();if(s){c.push(...s.cef(e))}return false},text:e=>{i.elements.push($.fromDom(e));if(s){s.text(e,i)}}},n,r);if(n){ve(e,i,n,t,true)}l();return c};const we=(e,t)=>{const o=ye(t.startContainer,t.startOffset);const n=o.element.dom;const s=ye(t.endContainer,t.endOffset);const r=s.element.dom;return ke(e,t.commonAncestorContainer,n,r,{text:(e,t)=>{if(e===r){t.fOffset+=e.length-s.offset}else if(e===n){t.sOffset+=o.offset}},cef:t=>{const o=O(ie($.fromDom(t),"*[contenteditable=true]"),(t=>{const o=t.dom;return ke(e,o,o)}));return D(o,((e,t)=>ce(e.elements[0].dom,t.elements[0].dom)?1:-1))}},false)};const _e=(e,t)=>t.collapsed?[]:we(e,t);const xe=(e,t)=>{const o=e.createRng();o.selectNode(t);return _e(e,o)};const Ce=(e,t)=>O(t,(t=>xe(e,t)));const Se=(e,t,o=0,n=e.length)=>{const s=t.regex;s.lastIndex=o;const r=[];let a;while(a=s.exec(e)){const e=a[t.matchIndex];const o=a.index+a[0].indexOf(e);const c=o+e.length;if(c>n){break}r.push({start:o,finish:c});s.lastIndex=c}return r};const ze=(e,t)=>{const o=E(e,((e,o)=>{const n=re(o);const s=e.last;const r=s+n.length;const a=O(t,((e,t)=>{if(e.start<r&&e.finish>s){return[{element:o,start:Math.max(s,e.start)-s,finish:Math.min(r,e.finish)-s,matchId:t}]}else{return[]}}));return{results:e.results.concat(a),last:r}}),{results:[],last:0}).results;return z(o,(e=>e.matchId))};const Ee=(e,t)=>O(t,(t=>{const o=t.elements;const n=x(o,re).join("");const s=Se(n,e,t.sOffset,n.length-t.fOffset);return ze(o,s)}));const Te=(e,t)=>{S(e,((e,o)=>{S(e,(e=>{const n=$.fromDom(t.cloneNode(false));V(n,"data-mce-index",o);const s=e.element.dom;if(s.length===e.finish&&e.start===0){oe(e.element,n)}else{if(s.length!==e.finish){s.splitText(e.finish)}const t=s.splitText(e.start);oe($.fromDom(t),n)}}))}))};const Oe=(e,t,o,n)=>{const s=xe(e,o);const r=Ee(t,s);Te(r,n);return r.length};const De=(e,t,o,n)=>{const s=o.getBookmark();const r=e.select("td[data-mce-selected],th[data-mce-selected]");const a=r.length>0?Ce(e,r):_e(e,o.getRng());const c=Ee(t,a);Te(c,n);o.moveToBookmark(s);return c.length};const Ae=e=>e.getAttribute("data-mce-index");const Ne=(e,t,o,n)=>{const s=e.dom.create("span",{"data-mce-bogus":1});s.className="mce-match-marker";const r=e.getBody();Ze(e,t,false);if(n){return De(e.dom,o,e.selection,s)}else{return Oe(e.dom,o,r,s)}};const Me=e=>{var t;const o=e.parentNode;if(e.firstChild){o.insertBefore(e.firstChild,e)}(t=e.parentNode)===null||t===void 0?void 0:t.removeChild(e)};const Re=(e,t)=>{const o=[];const n=k.toArray(e.getBody().getElementsByTagName("span"));if(n.length){for(let e=0;e<n.length;e++){const s=Ae(n[e]);if(s===null||!s.length){continue}if(s===t.toString()){o.push(n[e])}}}return o};const Be=(e,t,o)=>{const n=t.get();let s=n.index;const r=e.dom;if(o){if(s+1===n.count){s=0}else{s++}}else{if(s-1===-1){s=n.count-1}else{s--}}r.removeClass(Re(e,n.index),"mce-match-marker-selected");const a=Re(e,s);if(a.length){r.addClass(Re(e,s),"mce-match-marker-selected");e.selection.scrollIntoView(a[0]);return s}return-1};const Le=(e,t)=>{const o=t.parentNode;e.remove(t);if(o&&e.isEmpty(o)){e.remove(o)}};const He=(e,t)=>{const o=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]");const n="("+o+")";return t?`(?:^|\\s|${b()})`+n+`(?=$|\\s|${b()})`:n};const Ie=(e,t,o,n,s,r)=>{const a=e.selection;const c=He(o,s);const i=a.isForward();const l={regex:new RegExp(c,n?"g":"gi"),matchIndex:1};const d=Ne(e,t,l,r);if(v.browser.isSafari()){a.setRng(a.getRng(),i)}if(d){const a=Be(e,t,true);t.set({index:a,count:d,text:o,matchCase:n,wholeWord:s,inSelection:r})}return d};const Pe=(e,t)=>{const o=Be(e,t,true);t.set({...t.get(),index:o})};const Fe=(e,t)=>{const o=Be(e,t,false);t.set({...t.get(),index:o})};const Ve=e=>{const t=Ae(e);return t!==null&&t.length>0};const je=(e,t,o,n,s)=>{const r=t.get();const a=r.index;let c,i=a;n=n!==false;const l=e.getBody();const d=k.grep(k.toArray(l.getElementsByTagName("span")),Ve);for(let t=0;t<d.length;t++){const l=Ae(d[t]);let u=c=parseInt(l,10);if(s||u===r.index){if(o.length){d[t].innerText=o;Me(d[t])}else{Le(e.dom,d[t])}while(d[++t]){u=parseInt(Ae(d[t]),10);if(u===c){Le(e.dom,d[t])}else{t--;break}}if(n){i--}}else if(c>a){d[t].setAttribute("data-mce-index",String(c-1))}}t.set({...r,count:s?0:r.count-1,index:i});if(n){Pe(e,t)}else{Fe(e,t)}return!s&&t.get().count>0};const Ze=(e,t,o)=>{let n;let s;const r=t.get();const a=k.toArray(e.getBody().getElementsByTagName("span"));for(let e=0;e<a.length;e++){const t=Ae(a[e]);if(t!==null&&t.length){if(t===r.index.toString()){if(!n){n=a[e].firstChild}s=a[e].firstChild}Me(a[e])}}t.set({...r,index:-1,count:0,text:""});if(n&&s){const t=e.dom.createRng();t.setStart(n,0);t.setEnd(s,s.data.length);if(o!==false){e.selection.setRng(t)}return t}else{return undefined}};const Ue=(e,t)=>t.get().count>1;const qe=(e,t)=>t.get().count>1;const We=(e,t)=>{const o=o=>Ze(e,t,o);const n=(o,n,s,r=false)=>Ie(e,t,o,n,s,r);const s=()=>Pe(e,t);const r=()=>Fe(e,t);const a=(o,n,s)=>je(e,t,o,n,s);return{done:o,find:n,next:s,prev:r,replace:a}};const $e=t=>{const o=e(y.none());const n=()=>o.get().each(t);const s=()=>{n();o.set(y.none())};const r=()=>o.get().isSome();const a=()=>o.get();const c=e=>{n();o.set(y.some(e))};return{clear:s,isSet:r,get:a,set:c}};const Ge=()=>{const e=$e(f);const t=t=>e.get().each(t);return{...e,on:t}};const Ke=(e,t)=>{const o=Ge();e.undoManager.add();const n=k.trim(e.selection.getContent({format:"text"}));const s=o=>{o.setEnabled("next",Ue(e,t));o.setEnabled("prev",qe(e,t))};const r=e=>{const o=e.getData();const n=t.get();t.set({...n,matchCase:o.matchcase,wholeWord:o.wholewords,inSelection:o.inselection})};const a=(e,t)=>{const o=["replace","replaceall","prev","next"];const n=o=>e.setEnabled(o,!t);C(o,n)};const c=(e,t)=>{t.redial(g(e,t.getData()))};const i=(e,t)=>{if(v.browser.isSafari()&&v.deviceType.isTouch()&&(t==="find"||t==="replace"||t==="replaceall")){e.focus(t)}};const l=o=>{Ze(e,t,false);a(o,true);s(o)};const d=o=>{const n=o.getData();const r=t.get();if(!n.findtext.length){l(o);return}if(r.text===n.findtext&&r.matchCase===n.matchcase&&r.wholeWord===n.wholewords){Pe(e,t)}else{const s=Ie(e,t,n.findtext,n.matchcase,n.wholewords,n.inselection);if(s<=0){c(true,o)}a(o,s===0)}s(o)};const u=t.get();const f={findtext:n,replacetext:"",wholewords:u.wholeWord,matchcase:u.matchCase,inselection:u.inSelection};const m=e=>{const t=[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:true,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:false,borderless:true},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:false,borderless:true}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}];if(e){t.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"})}return t};const g=(o,n)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:m(o)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:true},{type:"custom",name:"replace",text:"Replace",enabled:false},{type:"custom",name:"replaceall",text:"Replace all",enabled:false}],initialData:n,onChange:(e,n)=>{if(o){c(false,e)}if(n.name==="findtext"&&t.get().count>0){l(e)}},onAction:(o,n)=>{const a=o.getData();switch(n.name){case"find":d(o);break;case"replace":if(!je(e,t,a.replacetext)){l(o)}else{s(o)}break;case"replaceall":je(e,t,a.replacetext,true,true);l(o);break;case"prev":Fe(e,t);s(o);break;case"next":Pe(e,t);s(o);break;case"matchcase":case"wholewords":case"inselection":c(false,o);r(o);l(o);break}i(o,n.name)},onSubmit:e=>{d(e);i(e,"find")},onClose:()=>{e.focus();Ze(e,t);e.undoManager.add()}});o.set(e.windowManager.open(g(false,f),{inline:"toolbar"}))};const Ye=(e,t)=>{e.addCommand("SearchReplace",(()=>{Ke(e,t)}))};const Xe=(e,t)=>()=>{Ke(e,t)};const Je=(e,t)=>{e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Xe(e,t),icon:"search"});e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Xe(e,t),icon:"search"});e.shortcuts.add("Meta+F","",Xe(e,t))};var Qe=()=>{t.add("searchreplace",(t=>{const o=e({index:-1,count:0,text:"",matchCase:false,wholeWord:false,inSelection:false});Ye(t,o);Je(t,o);return We(t,o)}))};Qe()})()},(e,t,o)=>{o(28)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,((e,t)=>t.isPrototypeOf(e)))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=e=>t=>e===t;const a=n("string");const c=n("array");const i=s("boolean");const l=r(undefined);const d=e=>e===null||e===undefined;const u=e=>!d(e);const f=s("function");const m=s("number");const g=()=>{};const p=(e,t)=>o=>e(t(o));const h=e=>()=>e;const y=e=>e;const b=(e,t)=>e===t;function v(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const k=e=>{e()};const w=h(false);const _=h(true);class x{constructor(e,t){this.tag=e;this.value=t}static some(e){return new x(true,e)}static none(){return x.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return x.some(e(this.value))}else{return x.none()}}bind(e){if(this.tag){return e(this.value)}else{return x.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return x.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return u(e)?x.some(e):x.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}x.singletonNone=new x(false);const C=Object.keys;const S=Object.hasOwnProperty;const z=(e,t)=>{const o=C(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const E=e=>(t,o)=>{e[o]=t};const T=(e,t,o,n)=>{z(e,((e,s)=>{(t(e,s)?o:n)(e,s)}))};const O=(e,t)=>{const o={};T(e,t,E(o),g);return o};const D=(e,t)=>{const o=[];z(e,((e,n)=>{o.push(t(e,n))}));return o};const A=e=>D(e,y);const N=e=>C(e).length;const M=(e,t)=>R(e,t)?x.from(e[t]):x.none();const R=(e,t)=>S.call(e,t);const B=(e,t)=>R(e,t)&&e[t]!==undefined&&e[t]!==null;const L=e=>{for(const t in e){if(S.call(e,t)){return false}}return true};const H=Array.prototype.indexOf;const I=Array.prototype.push;const P=(e,t)=>H.call(e,t);const F=(e,t)=>P(e,t)>-1;const V=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const j=(e,t)=>{const o=[];for(let n=0;n<e;n++){o.push(t(n))}return o};const Z=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const U=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const q=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}};const W=(e,t)=>{const o=[];const n=[];for(let s=0,r=e.length;s<r;s++){const r=e[s];const a=t(r,s)?o:n;a.push(r)}return{pass:o,fail:n}};const $=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const G=(e,t,o)=>{q(e,((e,n)=>{o=t(o,e,n)}));return o};const K=(e,t,o)=>{U(e,((e,n)=>{o=t(o,e,n)}));return o};const Y=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return x.some(s)}else if(o(s,n)){break}}return x.none()};const X=(e,t)=>Y(e,t,w);const J=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!c(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}I.apply(t,e[o])}return t};const Q=(e,t)=>J(Z(e,t));const ee=(e,t)=>{for(let o=0,n=e.length;o<n;++o){const n=e[o];if(t(n,o)!==true){return false}}return true};const te=(e,t)=>{const o={};for(let n=0,s=e.length;n<s;n++){const s=e[n];o[String(s)]=t(s,n)}return o};const oe=(e,t)=>t>=0&&t<e.length?x.some(e[t]):x.none();const ne=e=>oe(e,0);const se=e=>oe(e,e.length-1);const re=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return x.none()};const ae=8;const ce=9;const ie=11;const le=1;const de=3;const ue=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return ge(n.childNodes[0])};const fe=(e,t)=>{const o=t||document;const n=o.createElement(e);return ge(n)};const me=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return ge(n)};const ge=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const pe=(e,t,o)=>x.from(e.dom.elementFromPoint(t,o)).map(ge);const he={fromHtml:ue,fromTag:fe,fromText:me,fromDom:ge,fromPoint:pe};const ye=(e,t)=>{const o=e.dom;if(o.nodeType!==le){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const be=e=>e.nodeType!==le&&e.nodeType!==ce&&e.nodeType!==ie||e.childElementCount===0;const ve=(e,t)=>{const o=t===undefined?document:t.dom;return be(o)?[]:Z(o.querySelectorAll(e),he.fromDom)};const ke=(e,t)=>{const o=t===undefined?document:t.dom;return be(o)?x.none():x.from(o.querySelector(e)).map(he.fromDom)};const we=(e,t)=>e.dom===t.dom;const _e=ye;typeof window!=="undefined"?window:Function("return this;")();const xe=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const Ce=e=>e.dom.nodeType;const Se=e=>t=>Ce(t)===e;const ze=e=>Ce(e)===ae||xe(e)==="#comment";const Ee=Se(le);const Te=Se(de);const Oe=Se(ce);const De=Se(ie);const Ae=e=>t=>Ee(t)&&xe(t)===e;const Ne=e=>he.fromDom(e.dom.ownerDocument);const Me=e=>Oe(e)?e:Ne(e);const Re=e=>x.from(e.dom.parentNode).map(he.fromDom);const Be=(e,t)=>{const o=f(t)?t:w;let n=e.dom;const s=[];while(n.parentNode!==null&&n.parentNode!==undefined){const e=n.parentNode;const t=he.fromDom(e);s.push(t);if(o(t)===true){break}else{n=e}}return s};const Le=e=>x.from(e.dom.previousSibling).map(he.fromDom);const He=e=>x.from(e.dom.nextSibling).map(he.fromDom);const Ie=e=>Z(e.dom.childNodes,he.fromDom);const Pe=(e,t)=>{const o=e.dom.childNodes;return x.from(o[t]).map(he.fromDom)};const Fe=e=>Pe(e,0);const Ve=e=>De(e)&&u(e.dom.host);const je=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode);const Ze=je?e=>he.fromDom(e.dom.getRootNode()):Me;const Ue=e=>{const t=Ze(e);return Ve(t)?x.some(t):x.none()};const qe=e=>he.fromDom(e.dom.host);const We=e=>{const t=Te(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return Ue(he.fromDom(t)).fold((()=>o.body.contains(t)),p(We,qe))};var $e=(e,t,o,n,s)=>{if(e(o,n)){return x.some(o)}else if(f(s)&&s(o)){return x.none()}else{return t(o,n,s)}};const Ge=(e,t,o)=>{let n=e.dom;const s=f(o)?o:w;while(n.parentNode){n=n.parentNode;const e=he.fromDom(n);if(t(e)){return x.some(e)}else if(s(e)){break}}return x.none()};const Ke=(e,t,o)=>{const n=(e,t)=>t(e);return $e(n,Ge,e,t,o)};const Ye=(e,t)=>{const o=e=>t(he.fromDom(e));const n=X(e.dom.childNodes,o);return n.map(he.fromDom)};const Xe=(e,t,o)=>Ge(e,(e=>ye(e,t)),o);const Je=(e,t)=>Ye(e,(e=>ye(e,t)));const Qe=(e,t)=>ke(t,e);const et=(e,t,o)=>{const n=(e,t)=>ye(e,t);return $e(n,Xe,e,t,o)};const tt=e=>et(e,"[contenteditable]");const ot=(e,t=false)=>{if(We(e)){return e.dom.isContentEditable}else{return tt(e).fold(h(t),(e=>nt(e)==="true"))}};const nt=e=>e.dom.contentEditable;const st=e=>e.nodeName.toLowerCase();const rt=e=>he.fromDom(e.getBody());const at=e=>t=>we(t,rt(e));const ct=e=>e?e.replace(/px$/,""):"";const it=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e;const lt=e=>he.fromDom(e.selection.getStart());const dt=e=>he.fromDom(e.selection.getEnd());const ut=e=>Ke(e,Ae("table")).forall(ot);const ft=(e,t)=>$(Ie(e),t);const mt=(e,t)=>{let o=[];U(Ie(e),(e=>{if(t(e)){o=o.concat([e])}o=o.concat(mt(e,t))}));return o};const gt=(e,t)=>ft(e,(e=>ye(e,t)));const pt=(e,t)=>ve(t,e);const ht=(e,t,o)=>{if(a(o)||i(o)||m(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const yt=(e,t,o)=>{ht(e.dom,t,o)};const bt=(e,t)=>{const o=e.dom;z(t,((e,t)=>{ht(o,t,e)}))};const vt=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?undefined:o};const kt=(e,t)=>x.from(vt(e,t));const wt=(e,t)=>{e.dom.removeAttribute(t)};const _t=e=>K(e.dom.attributes,((e,t)=>{e[t.name]=t.value;return e}),{});const xt=(e,t,o=b)=>e.exists((e=>o(e,t)));const Ct=e=>{const t=[];const o=e=>{t.push(e)};for(let t=0;t<e.length;t++){e[t].each(o)}return t};const St=(e,t,o)=>e.isSome()&&t.isSome()?x.some(o(e.getOrDie(),t.getOrDie())):x.none();const zt=e=>e.bind(y);const Et=(e,t)=>e?x.some(t):x.none();const Tt=(e,t)=>e.substring(t);const Ot=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const Dt=(e,t)=>At(e,t)?Tt(e,t.length):e;const At=(e,t)=>Ot(e,t,0);const Nt=e=>t=>t.replace(e,"");const Mt=Nt(/^\s+|\s+$/g);const Rt=e=>e.length>0;const Bt=e=>!Rt(e);const Lt=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?x.none():x.some(o)};const Ht=e=>{const t=parseFloat(e);return isNaN(t)?x.none():x.some(t)};const It=e=>e.style!==undefined&&f(e.style.getPropertyValue);const Pt=(e,t,o)=>{if(!a(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(It(e)){e.style.setProperty(t,o)}};const Ft=(e,t)=>{if(It(e)){e.style.removeProperty(t)}};const Vt=(e,t,o)=>{const n=e.dom;Pt(n,t,o)};const jt=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!We(e)?Zt(o,t):s};const Zt=(e,t)=>It(e)?e.style.getPropertyValue(t):"";const Ut=(e,t)=>{const o=e.dom;const n=Zt(o,t);return x.from(n).filter((e=>e.length>0))};const qt=(e,t)=>{const o=e.dom;Ft(o,t);if(xt(kt(e,"style").map(Mt),"")){wt(e,"style")}};const Wt=(e,t,o=0)=>kt(e,t).map((e=>parseInt(e,10))).getOr(o);const $t=(e,t)=>Gt(e,t,_);const Gt=(e,t,o)=>Q(Ie(e),(e=>{if(ye(e,t)){return o(e)?[e]:[]}else{return Gt(e,t,o)}}));const Kt=["tfoot","thead","tbody","colgroup"];const Yt=e=>F(Kt,e);const Xt=(e,t)=>({rows:e,columns:t});const Jt=(e,t,o)=>({element:e,rowspan:t,colspan:o});const Qt=(e,t,o,n,s,r)=>({element:e,rowspan:t,colspan:o,row:n,column:s,isLocked:r});const eo=(e,t,o)=>({element:e,cells:t,section:o});const to=(e,t,o,n)=>({startRow:e,startCol:t,finishRow:o,finishCol:n});const oo=(e,t,o)=>({element:e,colspan:t,column:o});const no=(e,t)=>({element:e,columns:t});const so=(e,t,o=w)=>{if(o(t)){return x.none()}if(F(e,xe(t))){return x.some(t)}const n=e=>ye(e,"table")||o(e);return Xe(t,e.join(","),n)};const ro=(e,t)=>so(["td","th"],e,t);const ao=e=>$t(e,"th,td");const co=e=>{if(ye(e,"colgroup")){return gt(e,"col")}else{return Q(uo(e),(e=>gt(e,"col")))}};const io=(e,t)=>et(e,"table",t);const lo=e=>$t(e,"tr");const uo=e=>io(e).fold(h([]),(e=>gt(e,"colgroup")));const fo=(e,t)=>Z(e,(e=>{if(xe(e)==="colgroup"){const t=Z(co(e),(e=>{const t=Wt(e,"span",1);return Jt(e,1,t)}));return eo(e,t,"colgroup")}else{const o=Z(ao(e),(e=>{const t=Wt(e,"rowspan",1);const o=Wt(e,"colspan",1);return Jt(e,t,o)}));return eo(e,o,t(e))}}));const mo=e=>Re(e).map((e=>{const t=xe(e);return Yt(t)?t:"tbody"})).getOr("tbody");const go=e=>{const t=lo(e);const o=uo(e);const n=[...o,...t];return fo(n,mo)};const po="data-snooker-locked-cols";const ho=e=>kt(e,po).bind((e=>x.from(e.match(/\d+/g)))).map((e=>te(e,_)));const yo=(e,t)=>e+","+t;const bo=(e,t,o)=>x.from(e.access[yo(t,o)]);const vo=(e,t,o)=>{const n=ko(e,(e=>o(t,e.element)));return n.length>0?x.some(n[0]):x.none()};const ko=(e,t)=>{const o=Q(e.all,(e=>e.cells));return $(o,t)};const wo=e=>{const t={};let o=0;U(e.cells,(e=>{const n=e.colspan;j(n,(s=>{const r=o+s;t[r]=oo(e.element,n,r)}));o+=n}));return t};const _o=e=>{const t={};const o=[];const n=ne(e).map((e=>e.element)).bind(io);const s=n.bind(ho).getOr({});let r=0;let a=0;let c=0;const{pass:i,fail:l}=W(e,(e=>e.section==="colgroup"));U(l,(e=>{const n=[];U(e.cells,(e=>{let o=0;while(t[yo(c,o)]!==undefined){o++}const r=B(s,o.toString());const i=Qt(e.element,e.rowspan,e.colspan,c,o,r);for(let n=0;n<e.colspan;n++){for(let s=0;s<e.rowspan;s++){const e=c+s;const r=o+n;const l=yo(e,r);t[l]=i;a=Math.max(a,r+1)}}n.push(i)}));r++;o.push(eo(e.element,n,e.section));c++}));const{columns:d,colgroups:u}=se(i).map((e=>{const t=wo(e);const o=no(e.element,A(t));return{colgroups:[o],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}})));const f=Xt(r,a);return{grid:f,access:t,all:o,columns:d,colgroups:u}};const xo=e=>{const t=go(e);return _o(t)};const Co=e=>Q(e.all,(e=>e.cells));const So=e=>A(e.columns);const zo=e=>C(e.columns).length>0;const Eo=(e,t)=>x.from(e.columns[t]);const To={fromTable:xo,generate:_o,getAt:bo,findItem:vo,filterItems:ko,justCells:Co,justColumns:So,hasColumns:zo,getColumnAt:Eo};var Oo=tinymce.util.Tools.resolve("tinymce.util.Tools");const Do=(e,t,o)=>{const n=e.select("td,th",t);let s;for(let t=0;t<n.length;t++){const r=e.getStyle(n[t],o);if(l(s)){s=r}if(s!==r){return""}}return s};const Ao=(e,t,o)=>{Oo.each("left center right".split(" "),(n=>{if(n!==o){e.formatter.remove("align"+n,{},t)}}));if(o){e.formatter.apply("align"+o,{},t)}};const No=(e,t,o)=>{Oo.each("top middle bottom".split(" "),(n=>{if(n!==o){e.formatter.remove("valign"+n,{},t)}}));if(o){e.formatter.apply("valign"+o,{},t)}};const Mo=(e,t,o)=>{e.dispatch("TableModified",{...o,table:t})};const Ro=(e,t)=>Ht(e).getOr(t);const Bo=(e,t,o)=>Ro(jt(e,t),o);const Lo=(e,t,o,n)=>{const s=Bo(e,`padding-${o}`,0);const r=Bo(e,`padding-${n}`,0);const a=Bo(e,`border-${o}-width`,0);const c=Bo(e,`border-${n}-width`,0);return t-s-r-a-c};const Ho=(e,t)=>{const o=e.dom;const n=o.getBoundingClientRect().width||o.offsetWidth;return t==="border-box"?n:Lo(e,n,"left","right")};const Io=e=>Ho(e,"content-box");const Po=Io;var Fo=tinymce.util.Tools.resolve("tinymce.Env");const Vo="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol";const jo=j(5,(e=>{const t=`${e+1}px`;return{title:t,value:t}}));const Zo=Z(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(e=>({title:e,value:e.toLowerCase()})));const Uo="100%";const qo=e=>{var t;const o=e.dom;const n=(t=o.getParent(e.selection.getStart(),o.isBlock))!==null&&t!==void 0?t:e.getBody();return Po(he.fromDom(n))+"px"};const Wo=(e,t)=>{if(mn(e)||!sn(e)){return t}else if(fn(e)){return{...t,width:qo(e)}}else{return{...t,width:Uo}}};const $o=(e,t)=>{if(mn(e)||sn(e)){return t}else if(fn(e)){return{...t,width:qo(e)}}else{return{...t,width:Uo}}};const Go=e=>t=>t.options.get(e);const Ko=e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:jo});t("table_border_styles",{processor:"object[]",default:Zo});t("table_cell_advtab",{processor:"boolean",default:true});t("table_row_advtab",{processor:"boolean",default:true});t("table_advtab",{processor:"boolean",default:true});t("table_appearance_options",{processor:"boolean",default:true});t("table_grid",{processor:"boolean",default:!Fo.deviceType.isTouch()});t("table_cell_class_list",{processor:"object[]",default:[]});t("table_row_class_list",{processor:"object[]",default:[]});t("table_class_list",{processor:"object[]",default:[]});t("table_toolbar",{processor:"string",default:Vo});t("table_background_color_map",{processor:"object[]",default:[]});t("table_border_color_map",{processor:"object[]",default:[]})};const Yo=Go("table_sizing_mode");const Xo=Go("table_border_widths");const Jo=Go("table_border_styles");const Qo=Go("table_cell_advtab");const en=Go("table_row_advtab");const tn=Go("table_advtab");const on=Go("table_appearance_options");const nn=Go("table_grid");const sn=Go("table_style_by_css");const rn=Go("table_cell_class_list");const an=Go("table_row_class_list");const cn=Go("table_class_list");const ln=Go("table_toolbar");const dn=Go("table_background_color_map");const un=Go("table_border_color_map");const fn=e=>Yo(e)==="fixed";const mn=e=>Yo(e)==="responsive";const gn=e=>{const t=e.options;const o=t.get("table_default_styles");return t.isSet("table_default_styles")?o:Wo(e,o)};const pn=e=>{const t=e.options;const o=t.get("table_default_attributes");return t.isSet("table_default_attributes")?o:$o(e,o)};const hn=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow;const yn=(e,t)=>{let o=true;const n=v(hn,t);for(let s=t.startRow;s<=t.finishRow;s++){for(let r=t.startCol;r<=t.finishCol;r++){o=o&&To.getAt(e,s,r).exists(n)}}return o?x.some(t):x.none()};const bn=(e,t)=>to(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1));const vn=(e,t,o)=>{const n=To.findItem(e,t,we);const s=To.findItem(e,o,we);return n.bind((e=>s.map((t=>bn(e,t)))))};const kn=(e,t,o)=>vn(e,t,o).bind((t=>yn(e,t)));const wn=(e,t,o)=>{const n=_n(e);return kn(n,t,o)};const _n=To.fromTable;const xn=(e,t)=>{const o=Re(e);o.each((o=>{o.dom.insertBefore(t.dom,e.dom)}))};const Cn=(e,t)=>{const o=He(e);o.fold((()=>{const o=Re(e);o.each((e=>{zn(e,t)}))}),(e=>{xn(e,t)}))};const Sn=(e,t)=>{const o=Fe(e);o.fold((()=>{zn(e,t)}),(o=>{e.dom.insertBefore(t.dom,o.dom)}))};const zn=(e,t)=>{e.dom.appendChild(t.dom)};const En=(e,t)=>{xn(e,t);zn(t,e)};const Tn=(e,t)=>{U(t,((o,n)=>{const s=n===0?e:t[n-1];Cn(s,o)}))};const On=(e,t)=>{U(t,(t=>{zn(e,t)}))};const Dn=e=>{const t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};const An=e=>{const t=Ie(e);if(t.length>0){Tn(e,t)}Dn(e)};const Nn=(e,t)=>{const o=o=>{if(!e(o)){throw new Error("Can only get "+t+" value of a "+t+" node")}return n(o).getOr("")};const n=t=>e(t)?x.from(t.dom.nodeValue):x.none();const s=(o,n)=>{if(!e(o)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}o.dom.nodeValue=n};return{get:o,getOption:n,set:s}};const Mn=Nn(Te,"text");const Rn=e=>Mn.get(e);const Bn=(e,t)=>Mn.set(e,t);var Ln=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];var Hn=()=>{const e=e=>he.fromDom(e.dom.cloneNode(false));const t=e=>Me(e).dom;const o=e=>{if(!Ee(e)){return false}if(xe(e)==="body"){return true}return F(Ln,xe(e))};const n=e=>{if(!Ee(e)){return false}return F(["br","img","hr","input"],xe(e))};const s=e=>Ee(e)&&vt(e,"contenteditable")==="false";const r=(e,t)=>e.dom.compareDocumentPosition(t.dom);const a=(e,t)=>{const o=_t(e);bt(t,o)};const c=e=>{const t=xe(e);return F(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)};const i=e=>Ee(e)?kt(e,"lang"):x.none();return{up:h({selector:Xe,closest:et,predicate:Ge,all:Be}),down:h({selector:pt,predicate:mt}),styles:h({get:jt,getRaw:Ut,set:Vt,remove:qt}),attrs:h({get:vt,set:yt,remove:wt,copyTo:a}),insert:h({before:xn,after:Cn,afterAll:Tn,append:zn,appendAll:On,prepend:Sn,wrap:En}),remove:h({unwrap:An,remove:Dn}),create:h({nu:he.fromTag,clone:e,text:he.fromText}),query:h({comparePosition:r,prevSibling:Le,nextSibling:He}),property:h({children:Ie,name:xe,parent:Re,document:t,isText:Te,isComment:ze,isElement:Ee,isSpecial:c,getLanguage:i,getText:Rn,setText:Bn,isBoundary:o,isEmptyTag:n,isNonEditable:s}),eq:we,is:_e}};const In=(e,t,o,n)=>{const s=o[0];const r=o.slice(1);return n(e,t,s,r)};const Pn=(e,t,o)=>o.length>0?In(e,t,o,Fn):x.none();const Fn=(e,t,o,n)=>{const s=t(e,o);return G(n,((o,n)=>{const s=t(e,n);return Vn(e,o,s)}),s)};const Vn=(e,t,o)=>t.bind((t=>o.filter(v(e.eq,t))));const jn=Pn;const Zn=Hn();const Un=(e,t)=>jn(Zn,((t,o)=>e(o)),t);const qn=e=>Xe(e,"table");const Wn=(e,t)=>{const o=pt(e,t);return o.length>0?x.some(o):x.none()};const $n=(e,t,o)=>Qe(e,t).bind((t=>Qe(e,o).bind((e=>Un(qn,[t,e]).map((o=>({first:t,last:e,table:o})))))));const Gn=(e,t)=>Wn(e,t);const Kn=(e,t,o)=>$n(e,t,o).bind((t=>{const o=t=>we(e,t);const n="thead,tfoot,tbody,table";const s=Xe(t.first,n,o);const r=Xe(t.last,n,o);return s.bind((e=>r.bind((o=>we(e,o)?wn(t.table,t.first,t.last):x.none()))))}));const Yn=e=>Z(e,he.fromDom);const Xn="data-mce-selected";const Jn="td["+Xn+"],th["+Xn+"]";const Qn="data-mce-first-selected";const es="td["+Qn+"],th["+Qn+"]";const ts="data-mce-last-selected";const os="td["+ts+"],th["+ts+"]";const ns={selected:Xn,selectedSelector:Jn,firstSelected:Qn,firstSelectedSelector:es,lastSelected:ts,lastSelectedSelector:os};const ss=e=>io(e).bind((e=>Gn(e,ns.firstSelectedSelector))).fold(h(e),(e=>e[0]));const rs=e=>(t,o)=>{const n=xe(t);const s=n==="col"||n==="colgroup"?ss(t):t;return et(s,e,o)};const as=rs("th,td,caption");const cs=rs("th,td");const is=e=>Yn(e.model.table.getSelectedCells());const ls=(e,t)=>{const o=cs(e);const n=o.bind((e=>io(e))).map((e=>lo(e)));return St(o,n,((e,o)=>$(o,(o=>V(Yn(o.dom.cells),(o=>vt(o,t)==="1"||we(o,e))))))).getOr([])};const ds=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}];const us=e=>({value:ps(e)});const fs=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;const ms=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;const gs=e=>fs.test(e)||ms.test(e);const ps=e=>Dt(e,"#").toUpperCase();const hs=e=>gs(e)?x.some({value:ps(e)}):x.none();const ys=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()};const bs=e=>{const t=ys(e.red)+ys(e.green)+ys(e.blue);return us(t)};const vs=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i;const ks=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i;const ws=(e,t,o,n)=>({red:e,green:t,blue:o,alpha:n});const _s=(e,t,o,n)=>{const s=parseInt(e,10);const r=parseInt(t,10);const a=parseInt(o,10);const c=parseFloat(n);return ws(s,r,a,c)};const xs=e=>{if(e==="transparent"){return x.some(ws(0,0,0,0))}const t=vs.exec(e);if(t!==null){return x.some(_s(t[1],t[2],t[3],"1"))}const o=ks.exec(e);if(o!==null){return x.some(_s(o[1],o[2],o[3],o[4]))}return x.none()};const Cs=e=>hs(e).orThunk((()=>xs(e).map(bs))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1;t.width=1;const o=t.getContext("2d");o.clearRect(0,0,t.width,t.height);o.fillStyle="#FFFFFF";o.fillStyle=e;o.fillRect(0,0,1,1);const n=o.getImageData(0,0,1,1).data;const s=n[0];const r=n[1];const a=n[2];const c=n[3];return bs(ws(s,r,a,c))}));const Ss=e=>xs(e).map(bs).map((e=>"#"+e.value)).getOr(e);const zs=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const Es=e=>{const t=zs(x.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(x.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(x.some(e))};return{clear:n,isSet:s,get:r,set:a}};const Ts=()=>Es((e=>e.unbind()));const Os=(e,t,o)=>n=>{const s=Ts();const r=Bt(o);const a=()=>{const a=is(e);const c=n=>e.formatter.match(t,{value:o},n.dom,r);if(r){n.setActive(!V(a,c));s.set(e.formatter.formatChanged(t,(e=>n.setActive(!e)),true))}else{n.setActive(ee(a,c));s.set(e.formatter.formatChanged(t,n.setActive,false,{value:o}))}};e.initialized?a():e.on("init",a);return s.clear};const Ds=e=>B(e,"menu");const As=e=>Z(e,(e=>{const t=e.text||e.title||"";if(Ds(e)){return{text:t,items:As(e.menu)}}else{return{text:t,value:e.value}}}));const Ns=(e,t,o,n)=>Z(t,(t=>{const s=t.text||t.title;if(Ds(t)){return{type:"nestedmenuitem",text:s,getSubmenuItems:()=>Ns(e,t.menu,o,n)}}else{return{text:s,type:"togglemenuitem",onAction:()=>n(t.value),onSetup:Os(e,o,t.value)}}}));const Ms=(e,t)=>o=>{e.execCommand("mceTableApplyCellStyle",false,{[t]:o})};const Rs=e=>Q(e,(e=>{if(Ds(e)){return[{...e,menu:Rs(e.menu)}]}else{return Rt(e.value)?[e]:[]}}));const Bs=(e,t,o,n)=>s=>s(Ns(e,t,o,n));const Ls=(e,t,o)=>{const n=Z(t,(e=>({text:e.title,value:"#"+Cs(e.value).value,type:"choiceitem"})));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:n.length>0?n:undefined,allowCustomColors:false},onAction:t=>{const n=t.value==="remove"?"":t.value;e.execCommand("mceTableApplyCellStyle",false,{[o]:n})}}]};const Hs=e=>()=>{const t=e.queryCommandValue("mceTableRowType");const o=t==="header"?"body":"header";e.execCommand("mceTableRowType",false,{type:o})};const Is=e=>()=>{const t=e.queryCommandValue("mceTableColType");const o=t==="th"?"td":"th";e.execCommand("mceTableColType",false,{type:o})};const Ps=e=>{const t=As(rn(e));if(t.length>0){return x.some({name:"class",type:"listbox",label:"Class",items:t})}return x.none()};const Fs=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:ds}];const Vs=e=>Fs.concat(Ps(e).toArray());const js=(e,t)=>{const o=[{text:"Select...",value:""}];const n=[{name:"borderstyle",type:"listbox",label:"Border style",items:o.concat(As(Jo(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];const s={name:"borderwidth",type:"input",label:"Border width"};const r=t==="cell"?[s].concat(n):n;return{title:"Advanced",name:"advanced",items:r}};const Zs=(e,t)=>{const o=e.dom;const n=(e,n)=>{o.setAttrib(t,e,n)};const s=(e,n)=>{o.setStyle(t,e,n)};const r=(o,n)=>{if(n===""){e.formatter.remove(o,{value:null},t,true)}else{e.formatter.apply(o,{value:n},t)}};return{setAttrib:n,setStyle:s,setFormat:r}};const Us={normal:Zs};const qs=Ae("th");const Ws=(e,t)=>{if(e&&t){return"sectionCells"}else if(e){return"section"}else{return"cells"}};const $s=e=>{const t=e.section==="thead";const o=xt(Gs(e.cells),"th");if(e.section==="tfoot"){return{type:"footer"}}else if(t||o){return{type:"header",subType:Ws(t,o)}}else{return{type:"body"}}};const Gs=e=>{const t=$(e,(e=>qs(e.element)));if(t.length===0){return x.some("td")}else if(t.length===e.length){return x.some("th")}else{return x.none()}};const Ks=e=>{const t=Z(e,(e=>$s(e).type));const o=F(t,"header");const n=F(t,"footer");if(!o&&!n){return x.some("body")}else{const e=F(t,"body");if(o&&!e&&!n){return x.some("header")}else if(!o&&!e&&n){return x.some("footer")}else{return x.none()}}};const Ys=e=>{let t=false;let o;return(...n)=>{if(!t){t=true;o=e.apply(null,n)}return o}};const Xs=(e,t)=>re(e.all,(e=>X(e.cells,(e=>we(t,e.element)))));const Js=(e,t,o)=>{const n=Z(t.selection,(t=>ro(t).bind((t=>Xs(e,t))).filter(o)));const s=Ct(n);return Et(s.length>0,s)};const Qs=(e,t)=>t.mergable;const er=(e,t)=>t.unmergable;const tr=(e,t)=>Js(e,t,_);const or=(e,t)=>Xs(e,t).exists((e=>!e.isLocked));const nr=(e,t)=>ee(t,(t=>or(e,t)));const sr=(e,t)=>Qs(e,t).filter((t=>nr(e,t.cells)));const rr=(e,t)=>er(e,t).filter((t=>nr(e,t)));const ar=e=>{if(!c(e)){throw new Error("cases must be an array")}if(e.length===0){throw new Error("there must be at least one case")}const t=[];const o={};U(e,((n,s)=>{const r=C(n);if(r.length!==1){throw new Error("one and only one name per case")}const a=r[0];const i=n[a];if(o[a]!==undefined){throw new Error("duplicate key detected:"+a)}else if(a==="cata"){throw new Error("cannot have a case named cata (sorry)")}else if(!c(i)){throw new Error("case arguments must be an array")}t.push(a);o[a]=(...o)=>{const n=o.length;if(n!==i.length){throw new Error("Wrong number of arguments to case "+a+". Expected "+i.length+" ("+i+"), got "+n)}const r=e=>{const n=C(e);if(t.length!==n.length){throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","))}const s=ee(t,(e=>F(n,e)));if(!s){throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "))}return e[a].apply(null,o)};return{fold:(...t)=>{if(t.length!==e.length){throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)}const n=t[s];return n.apply(null,o)},match:r,log:e=>{console.log(e,{constructors:t,constructor:a,params:o})}}}}));return o};const cr={generate:ar};const ir=cr.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]);({...ir});const lr=(e,t)=>{const o=To.fromTable(e);const n=tr(o,t);return n.bind((e=>{const t=e[e.length-1];const n=e[0].row;const s=t.row+t.rowspan;const r=o.all.slice(n,s);return Ks(r)})).getOr("")};const dr=lr;const ur=e=>At(e,"rgb")?Ss(e):e;const fr=e=>{const t=he.fromDom(e);return{borderwidth:Ut(t,"border-width").getOr(""),borderstyle:Ut(t,"border-style").getOr(""),bordercolor:Ut(t,"border-color").map(ur).getOr(""),backgroundcolor:Ut(t,"background-color").map(ur).getOr("")}};const mr=e=>{const t=e[0];const o=e.slice(1);U(o,(e=>{U(C(t),(o=>{z(e,((e,n)=>{const s=t[o];if(s!==""&&o===n){if(s!==e){t[o]=""}}}))}))}));return t};const gr=(e,t,o,n)=>X(e,(e=>!l(o.formatter.matchNode(n,t+e)))).getOr("");const pr=v(gr,["left","center","right"],"align");const hr=v(gr,["top","middle","bottom"],"valign");const yr=(e,t)=>{const o=gn(e);const n=pn(e);const s=()=>({borderstyle:M(o,"border-style").getOr(""),bordercolor:ur(M(o,"border-color").getOr("")),backgroundcolor:ur(M(o,"background-color").getOr(""))});const r={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:false,class:"",align:"",border:""};const a=()=>{const t=o["border-width"];if(sn(e)&&t){return{border:t}}return M(n,"border").fold((()=>({})),(e=>({border:e})))};const c=t?s():{};const i=()=>{const e=M(o,"border-spacing").or(M(n,"cellspacing")).fold((()=>({})),(e=>({cellspacing:e})));const t=M(o,"border-padding").or(M(n,"cellpadding")).fold((()=>({})),(e=>({cellpadding:e})));return{...e,...t}};const l={...r,...o,...n,...c,...a(),...i()};return l};const br=e=>io(he.fromDom(e)).map((t=>{const o={selection:Yn(e.cells)};return dr(t,o)})).getOr("");const vr=(e,t,o)=>{const n=(t,o)=>{const n=Ut(he.fromDom(o),"border-width");if(sn(e)&&n.isSome()){return n.getOr("")}return t.getAttrib(o,"border")||Do(e.dom,o,"border-width")||Do(e.dom,o,"border")||""};const s=e.dom;const r=sn(e)?s.getStyle(t,"border-spacing")||s.getAttrib(t,"cellspacing"):s.getAttrib(t,"cellspacing")||s.getStyle(t,"border-spacing");const a=sn(e)?Do(s,t,"padding")||s.getAttrib(t,"cellpadding"):s.getAttrib(t,"cellpadding")||Do(s,t,"padding");return{width:s.getStyle(t,"width")||s.getAttrib(t,"width"),height:s.getStyle(t,"height")||s.getAttrib(t,"height"),cellspacing:r!==null&&r!==void 0?r:"",cellpadding:a!==null&&a!==void 0?a:"",border:n(s,t),caption:!!s.select("caption",t)[0],class:s.getAttrib(t,"class",""),align:pr(e,t),...o?fr(t):{}}};const kr=(e,t,o)=>{const n=e.dom;return{height:n.getStyle(t,"height")||n.getAttrib(t,"height"),class:n.getAttrib(t,"class",""),type:br(t),align:pr(e,t),...o?fr(t):{}}};const wr=(e,t,o,n)=>{const s=e.dom;const r=n.getOr(t);const a=(e,t)=>s.getStyle(e,t)||s.getAttrib(e,t);return{width:a(r,"width"),height:a(t,"height"),scope:s.getAttrib(t,"scope"),celltype:st(t),class:s.getAttrib(t,"class",""),halign:pr(e,t),valign:hr(e,t),...o?fr(t):{}}};const _r=(e,t)=>{const o=To.fromTable(e);const n=To.justCells(o);const s=$(n,(e=>V(t,(t=>we(e.element,t)))));return Z(s,(e=>({element:e.element.dom,column:To.getColumnAt(o,e.column).map((e=>e.element.dom))})))};const xr=(e,t,o,n)=>{if(n("scope")){e.setAttrib("scope",o.scope)}if(n("class")){e.setAttrib("class",o.class)}if(n("height")){e.setStyle("height",it(o.height))}if(n("width")){t.setStyle("width",it(o.width))}};const Cr=(e,t,o)=>{if(o("backgroundcolor")){e.setFormat("tablecellbackgroundcolor",t.backgroundcolor)}if(o("bordercolor")){e.setFormat("tablecellbordercolor",t.bordercolor)}if(o("borderstyle")){e.setFormat("tablecellborderstyle",t.borderstyle)}if(o("borderwidth")){e.setFormat("tablecellborderwidth",it(t.borderwidth))}};const Sr=(e,t,o,n)=>{const s=t.length===1;U(t,(t=>{const r=t.element;const a=s?_:n;const c=Us.normal(e,r);const i=t.column.map((t=>Us.normal(e,t))).getOr(c);xr(c,i,o,a);if(Qo(e)){Cr(c,o,a)}if(n("halign")){Ao(e,r,o.halign)}if(n("valign")){No(e,r,o.valign)}}))};const zr=(e,t)=>{e.execCommand("mceTableCellType",false,{type:t.celltype,no_events:true})};const Er=(e,t,o,n)=>{const s=O(n,((e,t)=>o[t]!==e));if(N(s)>0&&t.length>=1){io(t[0]).each((o=>{const r=_r(o,t);const a=N(O(s,((e,t)=>t!=="scope"&&t!=="celltype")))>0;const c=R(s,"celltype");if(a||R(s,"scope")){Sr(e,r,n,v(R,s))}if(c){zr(e,n)}Mo(e,o.dom,{structure:c,style:a})}))}};const Tr=(e,t,o,n)=>{const s=n.getData();n.close();e.undoManager.transact((()=>{Er(e,t,o,s);e.focus()}))};const Or=(e,t)=>{const o=io(t[0]).map((o=>Z(_r(o,t),(t=>wr(e,t.element,Qo(e),t.column)))));return mr(o.getOrDie())};const Dr=e=>{const t=is(e);if(t.length===0){return}const o=Or(e,t);const n={type:"tabpanel",tabs:[{title:"General",name:"general",items:Vs(e)},js(e,"cell")]};const s={type:"panel",items:[{type:"grid",columns:2,items:Vs(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Qo(e)?n:s,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:o,onSubmit:v(Tr,e,t,o)})};const Ar=e=>{const t=As(an(e));if(t.length>0){return x.some({name:"class",type:"listbox",label:"Class",items:t})}return x.none()};const Nr=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}];const Mr=e=>Nr.concat(Ar(e).toArray());const Rr=(e,t,o)=>{if(o("class")){e.setAttrib("class",t.class)}if(o("height")){e.setStyle("height",it(t.height))}};const Br=(e,t,o)=>{if(o("backgroundcolor")){e.setStyle("background-color",t.backgroundcolor)}if(o("bordercolor")){e.setStyle("border-color",t.bordercolor)}if(o("borderstyle")){e.setStyle("border-style",t.borderstyle)}};const Lr=(e,t,o,n)=>{const s=t.length===1;const r=s?_:n;U(t,(t=>{const s=Us.normal(e,t);Rr(s,o,r);if(en(e)){Br(s,o,r)}if(n("align")){Ao(e,t,o.align)}}))};const Hr=(e,t)=>{e.execCommand("mceTableRowType",false,{type:t.type,no_events:true})};const Ir=(e,t,o,n)=>{const s=O(n,((e,t)=>o[t]!==e));if(N(s)>0){const o=R(s,"type");const r=o?N(s)>1:true;if(r){Lr(e,t,n,v(R,s))}if(o){Hr(e,n)}io(he.fromDom(t[0])).each((t=>Mo(e,t.dom,{structure:o,style:r})))}};const Pr=(e,t,o,n)=>{const s=n.getData();n.close();e.undoManager.transact((()=>{Ir(e,t,o,s);e.focus()}))};const Fr=e=>{const t=ls(lt(e),ns.selected);if(t.length===0){return}const o=Z(t,(t=>kr(e,t.dom,en(e))));const n=mr(o);const s={type:"tabpanel",tabs:[{title:"General",name:"general",items:Mr(e)},js(e,"row")]};const r={type:"panel",items:[{type:"grid",columns:2,items:Mr(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:en(e)?s:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:n,onSubmit:v(Pr,e,Z(t,(e=>e.dom)),n)})};const Vr=(e,t,o)=>{const n=!o?[]:[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}];const s=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}];const r=on(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[];const a=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}];const c=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return n.concat(s).concat(r).concat(a).concat(c)};const jr=(e,t,o,n)=>{if(t.tagName==="TD"||t.tagName==="TH"){if(a(o)&&u(n)){e.setStyle(t,o,n)}else{e.setStyles(t,o)}}else{if(t.children){for(let s=0;s<t.children.length;s++){jr(e,t.children[s],o,n)}}}};const Zr=(e,t,o,n)=>{const s=e.dom;const r={};const a={};const c=sn(e);const i=tn(e);if(!l(o.class)){r.class=o.class}a.height=it(o.height);if(c){a.width=it(o.width)}else if(s.getAttrib(t,"width")){r.width=ct(o.width)}if(c){a["border-width"]=it(o.border);a["border-spacing"]=it(o.cellspacing)}else{r.border=o.border;r.cellpadding=o.cellpadding;r.cellspacing=o.cellspacing}if(c&&t.children){const e={};if(n.border){e["border-width"]=it(o.border)}if(n.cellpadding){e.padding=it(o.cellpadding)}if(i&&n.bordercolor){e["border-color"]=o.bordercolor}if(!L(e)){for(let o=0;o<t.children.length;o++){jr(s,t.children[o],e)}}}if(i){const e=o;a["background-color"]=e.backgroundcolor;a["border-color"]=e.bordercolor;a["border-style"]=e.borderstyle}s.setStyles(t,{...gn(e),...a});s.setAttribs(t,{...pn(e),...r})};const Ur=(e,t,o,n)=>{const s=e.dom;const r=n.getData();const a=O(r,((e,t)=>o[t]!==e));n.close();if(r.class===""){delete r.class}e.undoManager.transact((()=>{if(!t){const o=Lt(r.cols).getOr(1);const n=Lt(r.rows).getOr(1);e.execCommand("mceInsertTable",false,{rows:n,columns:o});t=cs(lt(e),at(e)).bind((t=>io(t,at(e)))).map((e=>e.dom)).getOrDie()}if(N(a)>0){const o={border:R(a,"border"),bordercolor:R(a,"bordercolor"),cellpadding:R(a,"cellpadding")};Zr(e,t,r,o);const n=s.select("caption",t)[0];if(n&&!r.caption||!n&&r.caption){e.execCommand("mceTableToggleCaption")}Ao(e,t,r.align)}e.focus();e.addVisual();if(N(a)>0){const o=R(a,"caption");const n=o?N(a)>1:true;Mo(e,t,{structure:o,style:n})}}))};const qr=(e,t)=>{const o=e.dom;let n;let s=yr(e,tn(e));if(t){s.cols="1";s.rows="1";if(tn(e)){s.borderstyle="";s.bordercolor="";s.backgroundcolor=""}}else{n=o.getParent(e.selection.getStart(),"table",e.getBody());if(n){s=vr(e,n,tn(e))}else{if(tn(e)){s.borderstyle="";s.bordercolor="";s.backgroundcolor=""}}}const r=As(cn(e));if(r.length>0){if(s.class){s.class=s.class.replace(/\s*mce\-item\-table\s*/g,"")}}const a={type:"grid",columns:2,items:Vr(e,r,t)};const c=()=>({type:"panel",items:[a]});const i=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[a]},js(e,"table")]});const l=tn(e)?i():c();e.windowManager.open({title:"Table Properties",size:"normal",body:l,onSubmit:v(Ur,e,n,s),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:s})};const Wr=e=>{const t=t=>{if(ut(lt(e))){t()}};z({mceTableProps:v(qr,e,false),mceTableRowProps:v(Fr,e),mceTableCellProps:v(Dr,e),mceInsertTableDialog:v(qr,e,true)},((o,n)=>e.addCommand(n,(()=>t(o)))))};const $r=(e,t)=>Je(e,t).isSome();const Gr=y;const Kr=e=>{const t=(e,t)=>kt(e,t).exists((e=>parseInt(e,10)>1));const o=e=>t(e,"rowspan")||t(e,"colspan");return e.length>0&&ee(e,o)?x.some(e):x.none()};const Yr=(e,t,o)=>{if(t.length<=1){return x.none()}else{return Kn(e,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>({bounds:e,cells:t})))}};const Xr=e=>({element:e,mergable:x.none(),unmergable:x.none(),selection:[e]});const Jr=(e,t,o)=>({element:o,mergable:Yr(t,e,ns),unmergable:Kr(e),selection:Gr(e)});const Qr=e=>{const t=zs(x.none());const o=zs([]);let n=x.none();const s=Ae("caption");const r=e=>n.forall((t=>!t[e]));const a=()=>as(lt(e),at(e));const c=()=>as(dt(e),at(e));const i=()=>a().bind((t=>zt(St(io(t),c().bind(io),((o,n)=>{if(we(o,n)){if(s(t)){return x.some(Xr(t))}else{return x.some(Jr(is(e),o,t))}}return x.none()})))));const l=e=>{const t=io(e.element);return t.map((t=>{const o=To.fromTable(t);const n=tr(o,e).getOr([]);const s=K(n,((e,t)=>{if(t.isLocked){e.onAny=true;if(t.column===0){e.onFirst=true}else if(t.column+t.colspan>=o.grid.columns){e.onLast=true}}return e}),{onAny:false,onFirst:false,onLast:false});return{mergeable:sr(o,e).isSome(),unmergeable:rr(o,e).isSome(),locked:s}}))};const d=()=>{t.set(Ys(i)());n=t.get().bind(l);U(o.get(),k)};const u=e=>{e();o.set(o.get().concat([e]));return()=>{o.set($(o.get(),(t=>t!==e)))}};const f=(o,n)=>u((()=>t.get().fold((()=>{o.setEnabled(false)}),(t=>{o.setEnabled(!n(t)&&e.selection.isEditable())}))));const m=(o,n,s)=>u((()=>t.get().fold((()=>{o.setEnabled(false);o.setActive(false)}),(t=>{o.setEnabled(!n(t)&&e.selection.isEditable());o.setActive(s(t))}))));const g=e=>n.exists((t=>t.locked[e]));const p=e=>f(e,(e=>false));const h=e=>f(e,(e=>s(e.element)));const y=e=>t=>f(t,(t=>s(t.element)||g(e)));const b=e=>t=>f(t,(t=>s(t.element)||e().isNone()));const v=(e,t)=>o=>f(o,(o=>s(o.element)||e().isNone()||g(t)));const _=e=>f(e,(e=>r("mergeable")));const C=e=>f(e,(e=>r("unmergeable")));const S=t=>m(t,w,(t=>{const o=io(t.element,at(e));return o.exists((e=>$r(e,"caption")))}));const z=(t,o)=>n=>m(n,(e=>s(e.element)),(()=>e.queryCommandValue(t)===o));const E=z("mceTableRowType","header");const T=z("mceTableColType","th");e.on("NodeChange ExecCommand TableSelectorChange",d);return{onSetupTable:p,onSetupCellOrRow:h,onSetupColumn:y,onSetupPasteable:b,onSetupPasteableColumn:v,onSetupMergeable:_,onSetupUnmergeable:C,resetTargets:d,onSetupTableWithCaption:S,onSetupTableRowHeaders:E,onSetupTableColumnHeaders:T,targets:t.get}};var ea=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const ta="x-tinymce/dom-table-";const oa=ta+"rows";const na=ta+"columns";const sa=e=>{var t;const o=(t=ea.read())!==null&&t!==void 0?t:[];return re(o,(t=>x.from(t.getType(e))))};const ra=()=>sa(oa);const aa=()=>sa(na);const ca=e=>t=>{const o=()=>{t.setEnabled(e.selection.isEditable())};e.on("NodeChange",o);o();return()=>{e.off("NodeChange",o)}};const ia=(e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:ca(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const o=t=>()=>e.execCommand(t);const n=(t,n)=>{if(e.queryCommandSupported(n.command)){e.ui.registry.addButton(t,{...n,onAction:f(n.onAction)?n.onAction:o(n.command)})}};const s=(t,n)=>{if(e.queryCommandSupported(n.command)){e.ui.registry.addToggleButton(t,{...n,onAction:f(n.onAction)?n.onAction:o(n.command)})}};n("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable});n("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable});n("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow});n("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable});n("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable});n("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow});n("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow});n("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow});n("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow});n("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")});n("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")});n("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")});n("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow});n("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow});n("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(ra)});n("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(ra)});n("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")});n("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")});n("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(aa,"onFirst")});n("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(aa,"onLast")});n("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:ca(e)});const r=Rs(cn(e));if(r.length!==0&&e.queryCommandSupported("mceTableToggleClass")){e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Bs(e,r,"tableclass",(t=>e.execCommand("mceTableToggleClass",false,t))),onSetup:t.onSetupTable})}const a=Rs(rn(e));if(a.length!==0&&e.queryCommandSupported("mceTableCellToggleClass")){e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Bs(e,a,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",false,t))),onSetup:t.onSetupCellOrRow})}if(e.queryCommandSupported("mceTableApplyCellStyle")){e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Bs(e,ds,"tablecellverticalalign",Ms(e,"vertical-align")),onSetup:t.onSetupCellOrRow});e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Bs(e,Xo(e),"tablecellborderwidth",Ms(e,"border-width")),onSetup:t.onSetupCellOrRow});e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Bs(e,Jo(e),"tablecellborderstyle",Ms(e,"border-style")),onSetup:t.onSetupCellOrRow});e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(Ls(e,dn(e),"background-color")),onSetup:t.onSetupCellOrRow});e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(Ls(e,un(e),"border-color")),onSetup:t.onSetupCellOrRow})}s("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption});s("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Hs(e),onSetup:t.onSetupTableRowHeaders});s("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Is(e),onSetup:t.onSetupTableColumnHeaders})};const la=e=>{const t=t=>e.dom.is(t,"table")&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode);const o=ln(e);if(o.length>0){e.ui.registry.addContextToolbar("table",{predicate:t,items:o,scope:"node",position:"node"})}};const da=e=>t=>{const o=()=>{t.setEnabled(e.selection.isEditable())};e.on("NodeChange",o);o();return()=>{e.off("NodeChange",o)}};const ua=(e,t)=>{const o=t=>()=>e.execCommand(t);const n=(t,n)=>{if(e.queryCommandSupported(n.command)){e.ui.registry.addMenuItem(t,{...n,onAction:f(n.onAction)?n.onAction:o(n.command)});return true}else{return false}};const s=(t,n)=>{if(e.queryCommandSupported(n.command)){e.ui.registry.addToggleMenuItem(t,{...n,onAction:f(n.onAction)?n.onAction:o(n.command)})}};const r=t=>{e.execCommand("mceInsertTable",false,{rows:t.numRows,columns:t.numColumns})};const a=[n("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),n("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),n("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),n("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),n("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),n("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),n("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(ra)}),n("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(ra)})];const c=[n("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),n("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),n("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),n("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),n("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),n("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(aa,"onFirst")}),n("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(aa,"onLast")})];const i=[n("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),n("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),n("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];if(!nn(e)){e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:o("mceInsertTableDialog"),onSetup:da(e)})}else{e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:r}],onSetup:da(e)})}e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:o("mceInsertTableDialog"),onSetup:da(e)});n("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"});n("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"});if(F(a,true)){e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:h("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")})}if(F(c,true)){e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:h("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")})}if(F(i,true)){e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:h("tablecellprops tablemergecells tablesplitcells")})}e.ui.registry.addContextMenu("table",{update:()=>{t.resetTargets();return t.targets().fold(h(""),(e=>{if(xe(e.element)==="caption"){return"tableprops deletetable"}else{return"cell row column | advtablesort | tableprops deletetable"}}))}});const l=Rs(cn(e));if(l.length!==0&&e.queryCommandSupported("mceTableToggleClass")){e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Ns(e,l,"tableclass",(t=>e.execCommand("mceTableToggleClass",false,t))),onSetup:t.onSetupTable})}const d=Rs(rn(e));if(d.length!==0&&e.queryCommandSupported("mceTableCellToggleClass")){e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Ns(e,d,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",false,t))),onSetup:t.onSetupCellOrRow})}if(e.queryCommandSupported("mceTableApplyCellStyle")){e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Ns(e,ds,"tablecellverticalalign",Ms(e,"vertical-align")),onSetup:t.onSetupCellOrRow});e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Ns(e,Xo(e),"tablecellborderwidth",Ms(e,"border-width")),onSetup:t.onSetupCellOrRow});e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Ns(e,Jo(e),"tablecellborderstyle",Ms(e,"border-style")),onSetup:t.onSetupCellOrRow});e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Ls(e,dn(e),"background-color"),onSetup:t.onSetupCellOrRow});e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Ls(e,un(e),"border-color"),onSetup:t.onSetupCellOrRow})}s("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption});s("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Hs(e),onSetup:t.onSetupTableRowHeaders});s("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Is(e),onSetup:t.onSetupTableRowHeaders})};const fa=e=>{const t=Qr(e);Ko(e);Wr(e);ua(e,t);ia(e,t);la(e)};var ma=()=>{e.add("table",fa)};ma()})()}];var t={};function o(n){var s=t[n];if(s!==undefined){return s.exports}var r=t[n]={exports:{}};e[n](r,r.exports,o);return r.exports}var n={};(()=>{
/**
 * ---------------------------------------------------------------------
 *
 * GLPI - Gestionnaire Libre de Parc Informatique
 *
 * http://glpi-project.org
 *
 * @copyright 2015-2023 Teclib' and contributors.
 * @copyright 2003-2014 by the INDEPNET Development Team.
 * @licence   https://www.gnu.org/licenses/gpl-3.0.html
 *
 * ---------------------------------------------------------------------
 *
 * LICENSE
 *
 * This file is part of GLPI.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 *
 * ---------------------------------------------------------------------
 */
window.tinymce=window.tinyMCE=o(1);o(2);o(3);o(5);o(6);o(8);o(10);o(12);o(14);o(15);o(17);o(19);o(21);o(23);o(25);o(27)})()})();