(()=>{var e={559:()=>{tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})},561:(e,t,n)=>{n(562)},562:()=>{(function(){"use strict";var e=function(e){var t=e;var n=function(){return t};var r=function(e){t=e};return{get:n,set:r}};var t=Object.hasOwnProperty;var n=function(e,n){return t.call(e,n)};var r=tinymce.util.Tools.resolve("tinymce.PluginManager");var o=tinymce.util.Tools.resolve("tinymce.Env");var a=tinymce.util.Tools.resolve("tinymce.util.Delay");var i=function(e){return e.fire("ResizeEditor")};var u=function(e){return e.getParam("min_height",e.getElement().offsetHeight,"number")};var c=function(e){return e.getParam("max_height",0,"number")};var f=function(e){return e.getParam("autoresize_overflow_padding",1,"number")};var s=function(e){return e.getParam("autoresize_bottom_margin",50,"number")};var l=function(e){return e.getParam("autoresize_on_init",true,"boolean")};var v=function(e){return e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()};var d=function(e,t,n,r,o){a.setEditorTimeout(e,(function(){p(e,t);if(n--){d(e,t,n,r,o)}else if(o){o()}}),r)};var m=function(e,t){var n=e.getBody();if(n){n.style.overflowY=t?"":"hidden";if(!t){n.scrollTop=0}}};var g=function(e,t,n,r){var o=parseInt(e.getStyle(t,n,r),10);return isNaN(o)?0:o};var h=function(e){if((e===null||e===void 0?void 0:e.type.toLowerCase())==="setcontent"){var t=e;return t.selection===true||t.paste===true}else{return false}};var p=function(e,t,n){var r=e.dom;var a=e.getDoc();if(!a){return}if(v(e)){m(e,true);return}var f=a.documentElement;var l=s(e);var d=u(e);var b=g(r,f,"margin-top",true);var y=g(r,f,"margin-bottom",true);var w=f.offsetHeight+b+y+l;if(w<0){w=0}var x=e.getContainer().offsetHeight;var C=e.getContentAreaContainer().offsetHeight;var S=x-C;if(w+S>u(e)){d=w+S}var k=c(e);if(k&&d>k){d=k;m(e,true)}else{m(e,false)}if(d!==t.get()){var T=d-t.get();r.setStyle(e.getContainer(),"height",d+"px");t.set(d);i(e);if(o.browser.isSafari()&&o.mac){var O=e.getWin();O.scrollTo(O.pageXOffset,O.pageYOffset)}if(e.hasFocus()&&h(n)){e.selection.scrollIntoView()}if(o.webkit&&T<0){p(e,t,n)}}};var b=function(e,t){e.on("init",(function(){var t=f(e);var n=e.dom;n.setStyles(e.getDoc().documentElement,{height:"auto"});n.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t,"min-height":0})}));e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",(function(n){p(e,t,n)}));if(l(e)){e.on("init",(function(){d(e,t,20,100,(function(){d(e,t,5,1e3)}))}))}};var y=function(e,t){e.addCommand("mceAutoResize",(function(){p(e,t)}))};function w(){r.add("autoresize",(function(t){if(!n(t.settings,"resize")){t.settings.resize=false}if(!t.inline){var r=e(0);y(t,r);b(t,r)}}))}w()})()},563:(e,t,n)=>{n(564)},564:()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");var t=function(e,t){e.focus();e.undoManager.transact((function(){e.setContent(t)}));e.selection.setCursorLocation();e.nodeChanged()};var n=function(e){return e.getContent({source_view:true})};var r=function(e){var r=n(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:{code:r},onSubmit:function(n){t(e,n.getData().code);n.close()}})};var o=function(e){e.addCommand("mceCodeEditor",(function(){r(e)}))};var a=function(e){var t=function(){return e.execCommand("mceCodeEditor")};e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t});e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})};function i(){e.add("code",(function(e){o(e);a(e);return{}}))}i()})()},565:(e,t,n)=>{n(566)},566:()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");function t(){e.add("colorpicker",(function(){}))}t()})()},567:(e,t,n)=>{n(568)},568:()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");var t=function(e){var t=typeof e;if(e===null){return"null"}else if(t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")){return"array"}else if(t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")){return"string"}else{return t}};var n=function(e){return function(n){return t(n)===e}};var r=function(e){return function(t){return typeof t===e}};var o=n("string");var a=r("boolean");var i=function(e){return e===null||e===undefined};var u=function(e){return!i(e)};var c=r("function");var f=r("number");var s=function(){};var l=function(e,t){return function(n){return e(t(n))}};var v=function(e){return function(){return e}};var d=function(e){return e};var m=v(false);var g=v(true);var h=function(){return p};var p=function(){var e=function(e){return e()};var t=d;var n={fold:function(e,t){return e()},isSome:m,isNone:g,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:v(null),getOrUndefined:v(undefined),or:t,orThunk:e,map:h,each:s,bind:h,exists:m,forall:g,filter:function(){return h()},toArray:function(){return[]},toString:v("none()")};return n}();var b=function(e){var t=v(e);var n=function(){return o};var r=function(t){return t(e)};var o={fold:function(t,n){return n(e)},isSome:g,isNone:m,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return b(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:p},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o};var y=function(e){return e===null||e===undefined?p:b(e)};var w={some:b,none:h,from:y};var x=function(e,t){var n=e.length;var r=new Array(n);for(var o=0;o<n;o++){var a=e[o];r[o]=t(a,o)}return r};var C=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}};var S=function(e,t){var n=[];for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t(a,r)){n.push(a)}}return n};var k=9;var T=11;var O=1;var _=3;var E=function(e,t){var n=t||document;var r=n.createElement("div");r.innerHTML=e;if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",e);throw new Error("HTML must have a single root node")}return N(r.childNodes[0])};var D=function(e,t){var n=t||document;var r=n.createElement(e);return N(r)};var A=function(e,t){var n=t||document;var r=n.createTextNode(e);return N(r)};var N=function(e){if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};var M=function(e,t,n){return w.from(e.dom.elementFromPoint(t,n)).map(N)};var R={fromHtml:E,fromTag:D,fromText:A,fromDom:N,fromPoint:M};var z=function(e,t){var n=e.dom;if(n.nodeType!==O){return false}else{var r=n;if(r.matches!==undefined){return r.matches(t)}else if(r.msMatchesSelector!==undefined){return r.msMatchesSelector(t)}else if(r.webkitMatchesSelector!==undefined){return r.webkitMatchesSelector(t)}else if(r.mozMatchesSelector!==undefined){return r.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};typeof window!=="undefined"?window:Function("return this;")();var B=function(e){var t=e.dom.nodeName;return t.toLowerCase()};var P=function(e){return e.dom.nodeType};var L=function(e){return function(t){return P(t)===e}};var H=L(O);var I=L(_);var F=L(k);var V=L(T);var U=function(e){return function(t){return H(t)&&B(t)===e}};var j=function(e){return R.fromDom(e.dom.ownerDocument)};var W=function(e){return F(e)?e:j(e)};var q=function(e){return w.from(e.dom.parentNode).map(R.fromDom)};var G=function(e){return x(e.dom.childNodes,R.fromDom)};var $=function(e,t,n){if(o(n)||a(n)||f(n)){e.setAttribute(t,n+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e);throw new Error("Attribute value was not simple")}};var K=function(e,t,n){$(e.dom,t,n)};var X=function(e,t){e.dom.removeAttribute(t)};var Y=function(e){return V(e)&&u(e.dom.host)};var J=c(Element.prototype.attachShadow)&&c(Node.prototype.getRootNode);var Q=J?function(e){return R.fromDom(e.dom.getRootNode())}:W;var Z=function(e){var t=Q(e);return Y(t)?w.some(t):w.none()};var ee=function(e){return R.fromDom(e.dom.host)};var te=function(e){var t=I(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}var n=t.ownerDocument;return Z(R.fromDom(t)).fold((function(){return n.body.contains(t)}),l(te,ee))};var ne=function(e,t,n){var r=e.dom;var o=c(n)?n:m;while(r.parentNode){r=r.parentNode;var a=R.fromDom(r);if(t(a)){return w.some(a)}else if(o(a)){break}}return w.none()};var re=function(e,t,n){return ne(e,(function(e){return z(e,t)}),n)};var oe=function(e){return e.style!==undefined&&c(e.style.getPropertyValue)};var ae=function(e,t){var n=e.dom;var r=window.getComputedStyle(n);var o=r.getPropertyValue(t);return o===""&&!te(e)?ie(n,t):o};var ie=function(e,t){return oe(e)?e.style.getPropertyValue(t):""};var ue=function(e){return ae(e,"direction")==="rtl"?"rtl":"ltr"};var ce=function(e,t){return S(G(e),t)};var fe=function(e,t){return ce(e,(function(e){return z(e,t)}))};var se=function(e){return q(e).filter(H)};var le=function(e,t){var n=t?re(e,"ol,ul"):w.some(e);return n.getOr(e)};var ve=U("li");var de=function(e,t){var n=e.selection.getSelectedBlocks();if(n.length>0){C(n,(function(e){var n=R.fromDom(e);var r=ve(n);var o=le(n,r);var a=se(o);a.each((function(e){var n=ue(e);if(n!==t){K(o,"dir",t)}else if(ue(o)!==t){X(o,"dir")}if(r){var a=fe(o,"li[dir]");C(a,(function(e){return X(e,"dir")}))}}))}));e.nodeChanged()}};var me=function(e){e.addCommand("mceDirectionLTR",(function(){de(e,"ltr")}));e.addCommand("mceDirectionRTL",(function(){de(e,"rtl")}))};var ge=function(e,t){return function(n){var r=function(e){var r=R.fromDom(e.element);n.setActive(ue(r)===t)};e.on("NodeChange",r);return function(){return e.off("NodeChange",r)}}};var he=function(e){e.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return e.execCommand("mceDirectionLTR")},onSetup:ge(e,"ltr")});e.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return e.execCommand("mceDirectionRTL")},onSetup:ge(e,"rtl")})};function pe(){e.add("directionality",(function(e){me(e);he(e)}))}pe()})()},569:(e,t,n)=>{n(570)},570:()=>{(function(){"use strict";var e=function(e){var t=e;var n=function(){return t};var r=function(e){t=e};return{get:n,set:r}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");var n=function(e){return{isFullscreen:function(){return e.get()!==null}}};var r=function(e){var t=typeof e;if(e===null){return"null"}else if(t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")){return"array"}else if(t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")){return"string"}else{return t}};var o=function(e){return function(t){return r(t)===e}};var a=function(e){return function(t){return typeof t===e}};var i=o("string");var u=o("array");var c=a("boolean");var f=function(e){return e===null||e===undefined};var s=function(e){return!f(e)};var l=a("function");var v=a("number");var d=function(){};var m=function(e,t){return function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}return e(t.apply(null,n))}};var g=function(e,t){return function(n){return e(t(n))}};var h=function(e){return function(){return e}};var p=function(e){return e};function b(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}return function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}var o=t.concat(n);return e.apply(null,o)}}var y=h(false);var w=h(true);var x=function(){return C};var C=function(){var e=function(e){return e()};var t=p;var n={fold:function(e,t){return e()},isSome:y,isNone:w,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:h(null),getOrUndefined:h(undefined),or:t,orThunk:e,map:x,each:d,bind:x,exists:y,forall:w,filter:function(){return x()},toArray:function(){return[]},toString:h("none()")};return n}();var S=function(e){var t=h(e);var n=function(){return o};var r=function(t){return t(e)};var o={fold:function(t,n){return n(e)},isSome:w,isNone:y,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return S(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:C},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o};var k=function(e){return e===null||e===undefined?C:S(e)};var T={some:S,none:x,from:k};var O=function(){O=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))t[a]=n[a]}return t};return O.apply(this,arguments)};var _=function(t){var n=e(T.none());var r=function(){return n.get().each(t)};var o=function(){r();n.set(T.none())};var a=function(){return n.get().isSome()};var i=function(){return n.get()};var u=function(e){r();n.set(T.some(e))};return{clear:o,isSet:a,get:i,set:u}};var E=function(){return _((function(e){return e.unbind()}))};var D=function(){var e=_(d);var t=function(t){return e.get().each(t)};return O(O({},e),{on:t})};var A=Array.prototype.push;var N=function(e,t){var n=e.length;var r=new Array(n);for(var o=0;o<n;o++){var a=e[o];r[o]=t(a,o)}return r};var M=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}};var R=function(e,t){var n=[];for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t(a,r)){n.push(a)}}return n};var z=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t(a,r)){return T.some(a)}else if(n(a,r)){break}}return T.none()};var B=function(e,t){return z(e,t,y)};var P=function(e){var t=[];for(var n=0,r=e.length;n<r;++n){if(!u(e[n])){throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)}A.apply(t,e[n])}return t};var L=function(e,t){return P(N(e,t))};var H=function(e,t){return t>=0&&t<e.length?T.some(e[t]):T.none()};var I=function(e){return H(e,0)};var F=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome()){return r}}return T.none()};var V=Object.keys;var U=function(e,t){var n=V(e);for(var r=0,o=n.length;r<o;r++){var a=n[r];var i=e[a];t(i,a)}};var j=function(e,t){return e.indexOf(t)!==-1};var W=function(e){return e.style!==undefined&&l(e.style.getPropertyValue)};var q=function(e,t){var n=t||document;var r=n.createElement("div");r.innerHTML=e;if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",e);throw new Error("HTML must have a single root node")}return K(r.childNodes[0])};var G=function(e,t){var n=t||document;var r=n.createElement(e);return K(r)};var $=function(e,t){var n=t||document;var r=n.createTextNode(e);return K(r)};var K=function(e){if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};var X=function(e,t,n){return T.from(e.dom.elementFromPoint(t,n)).map(K)};var Y={fromHtml:q,fromTag:G,fromText:$,fromDom:K,fromPoint:X};typeof window!=="undefined"?window:Function("return this;")();var J=9;var Q=11;var Z=1;var ee=3;var te=function(e){return e.dom.nodeType};var ne=function(e){return function(t){return te(t)===e}};var re=ne(Z);var oe=ne(ee);var ae=ne(J);var ie=ne(Q);var ue=function(e){var t=false;var n;return function(){var r=[];for(var o=0;o<arguments.length;o++){r[o]=arguments[o]}if(!t){t=true;n=e.apply(null,r)}return n}};var ce=function(e,t,n,r){var o=e.isiOS()&&/ipad/i.test(n)===true;var a=e.isiOS()&&!o;var i=e.isiOS()||e.isAndroid();var u=i||r("(pointer:coarse)");var c=o||!a&&i&&r("(min-device-width:768px)");var f=a||i&&!c;var s=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===false;var l=!f&&!c&&!s;return{isiPad:h(o),isiPhone:h(a),isTablet:h(c),isPhone:h(f),isTouch:h(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:h(s),isDesktop:h(l)}};var fe=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t)){return r}}return undefined};var se=function(e,t){var n=fe(e,t);if(!n){return{major:0,minor:0}}var r=function(e){return Number(t.replace(n,"$"+e))};return de(r(1),r(2))};var le=function(e,t){var n=String(t).toLowerCase();if(e.length===0){return ve()}return se(e,n)};var ve=function(){return de(0,0)};var de=function(e,t){return{major:e,minor:t}};var me={nu:de,detect:le,unknown:ve};var ge=function(e,t){return F(t.brands,(function(t){var n=t.brand.toLowerCase();return B(e,(function(e){var t;return n===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:me.nu(parseInt(t.version,10),0)}}))}))};var he=function(e,t){var n=String(t).toLowerCase();return B(e,(function(e){return e.search(n)}))};var pe=function(e,t){return he(e,t).map((function(e){var n=me.detect(e.versionRegexes,t);return{current:e.name,version:n}}))};var be=function(e,t){return he(e,t).map((function(e){var n=me.detect(e.versionRegexes,t);return{current:e.name,version:n}}))};var ye=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;var we=function(e){return function(t){return j(t,e)}};var xe=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return j(e,"edge/")&&j(e,"chrome")&&j(e,"safari")&&j(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ye],search:function(e){return j(e,"chrome")&&!j(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return j(e,"msie")||j(e,"trident")}},{name:"Opera",versionRegexes:[ye,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:we("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:we("firefox")},{name:"Safari",versionRegexes:[ye,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(j(e,"safari")||j(e,"mobile/"))&&j(e,"applewebkit")}}];var Ce=[{name:"Windows",search:we("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return j(e,"iphone")||j(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:we("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:we("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:we("linux"),versionRegexes:[]},{name:"Solaris",search:we("sunos"),versionRegexes:[]},{name:"FreeBSD",search:we("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:we("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];var Se={browsers:h(xe),oses:h(Ce)};var ke="Edge";var Te="Chrome";var Oe="IE";var _e="Opera";var Ee="Firefox";var De="Safari";var Ae=function(){return Ne({current:undefined,version:me.unknown()})};var Ne=function(e){var t=e.current;var n=e.version;var r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(ke),isChrome:r(Te),isIE:r(Oe),isOpera:r(_e),isFirefox:r(Ee),isSafari:r(De)}};var Me={unknown:Ae,nu:Ne,edge:h(ke),chrome:h(Te),ie:h(Oe),opera:h(_e),firefox:h(Ee),safari:h(De)};var Re="Windows";var ze="iOS";var Be="Android";var Pe="Linux";var Le="OSX";var He="Solaris";var Ie="FreeBSD";var Fe="ChromeOS";var Ve=function(){return Ue({current:undefined,version:me.unknown()})};var Ue=function(e){var t=e.current;var n=e.version;var r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(Re),isiOS:r(ze),isAndroid:r(Be),isOSX:r(Le),isLinux:r(Pe),isSolaris:r(He),isFreeBSD:r(Ie),isChromeOS:r(Fe)}};var je={unknown:Ve,nu:Ue,windows:h(Re),ios:h(ze),android:h(Be),linux:h(Pe),osx:h(Le),solaris:h(He),freebsd:h(Ie),chromeos:h(Fe)};var We=function(e,t,n){var r=Se.browsers();var o=Se.oses();var a=t.bind((function(e){return ge(r,e)})).orThunk((function(){return pe(r,e)})).fold(Me.unknown,Me.nu);var i=be(o,e).fold(je.unknown,je.nu);var u=ce(i,a,e,n);return{browser:a,os:i,deviceType:u}};var qe={detect:We};var Ge=function(e){return window.matchMedia(e).matches};var $e=ue((function(){return qe.detect(navigator.userAgent,T.from(navigator.userAgentData),Ge)}));var Ke=function(){return $e()};var Xe=function(e,t){var n=e.dom;if(n.nodeType!==Z){return false}else{var r=n;if(r.matches!==undefined){return r.matches(t)}else if(r.msMatchesSelector!==undefined){return r.msMatchesSelector(t)}else if(r.webkitMatchesSelector!==undefined){return r.webkitMatchesSelector(t)}else if(r.mozMatchesSelector!==undefined){return r.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};var Ye=function(e){return e.nodeType!==Z&&e.nodeType!==J&&e.nodeType!==Q||e.childElementCount===0};var Je=function(e,t){var n=t===undefined?document:t.dom;return Ye(n)?[]:N(n.querySelectorAll(e),Y.fromDom)};var Qe=function(e,t){return e.dom===t.dom};var Ze=function(e){return Y.fromDom(e.dom.ownerDocument)};var et=function(e){return ae(e)?e:Ze(e)};var tt=function(e){return T.from(e.dom.parentNode).map(Y.fromDom)};var nt=function(e,t){var n=l(t)?t:y;var r=e.dom;var o=[];while(r.parentNode!==null&&r.parentNode!==undefined){var a=r.parentNode;var i=Y.fromDom(a);o.push(i);if(n(i)===true){break}else{r=a}}return o};var rt=function(e){var t=function(t){return R(t,(function(t){return!Qe(e,t)}))};return tt(e).map(ot).map(t).getOr([])};var ot=function(e){return N(e.dom.childNodes,Y.fromDom)};var at=function(e){return ie(e)&&s(e.dom.host)};var it=l(Element.prototype.attachShadow)&&l(Node.prototype.getRootNode);var ut=h(it);var ct=it?function(e){return Y.fromDom(e.dom.getRootNode())}:et;var ft=function(e){var t=ct(e);return at(t)?T.some(t):T.none()};var st=function(e){return Y.fromDom(e.dom.host)};var lt=function(e){if(ut()&&s(e.target)){var t=Y.fromDom(e.target);if(re(t)&&vt(t)){if(e.composed&&e.composedPath){var n=e.composedPath();if(n){return I(n)}}}}return T.from(e.target)};var vt=function(e){return s(e.dom.shadowRoot)};var dt=function(e){var t=oe(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}var n=t.ownerDocument;return ft(Y.fromDom(t)).fold((function(){return n.body.contains(t)}),g(dt,st))};var mt=function(e){var t=e.dom.body;if(t===null||t===undefined){throw new Error("Body is not available yet")}return Y.fromDom(t)};var gt=function(e,t,n){if(i(n)||c(n)||v(n)){e.setAttribute(t,n+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e);throw new Error("Attribute value was not simple")}};var ht=function(e,t,n){gt(e.dom,t,n)};var pt=function(e,t){var n=e.dom.getAttribute(t);return n===null?undefined:n};var bt=function(e,t){e.dom.removeAttribute(t)};var yt=function(e,t,n){if(!i(n)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e);throw new Error("CSS value must be a string: "+n)}if(W(e)){e.style.setProperty(t,n)}};var wt=function(e,t){var n=e.dom;U(t,(function(e,t){yt(n,t,e)}))};var xt=function(e,t){var n=e.dom;var r=window.getComputedStyle(n);var o=r.getPropertyValue(t);return o===""&&!dt(e)?Ct(n,t):o};var Ct=function(e,t){return W(e)?e.style.getPropertyValue(t):""};var St=function(e,t,n,r,o,a,i){return{target:e,x:t,y:n,stop:r,prevent:o,kill:a,raw:i}};var kt=function(e){var t=Y.fromDom(lt(e).getOr(e.target));var n=function(){return e.stopPropagation()};var r=function(){return e.preventDefault()};var o=m(r,n);return St(t,e.clientX,e.clientY,n,r,o,e)};var Tt=function(e,t){return function(n){if(e(n)){t(kt(n))}}};var Ot=function(e,t,n,r,o){var a=Tt(n,r);e.dom.addEventListener(t,a,o);return{unbind:b(Et,e,t,a,o)}};var _t=function(e,t,n,r){return Ot(e,t,n,r,false)};var Et=function(e,t,n,r){e.dom.removeEventListener(t,n,r)};var Dt=w;var At=function(e,t,n){return _t(e,t,Dt,n)};var Nt=function(e,t){var n=function(n,r){return Nt(e+n,t+r)};return{left:e,top:t,translate:n}};var Mt=Nt;var Rt=function(e){var t=e!==undefined?e.dom:document;var n=t.body.scrollLeft||t.documentElement.scrollLeft;var r=t.body.scrollTop||t.documentElement.scrollTop;return Mt(n,r)};var zt=function(e){var t=e===undefined?window:e;if(Ke().browser.isFirefox()){return T.none()}else{return T.from(t["visualViewport"])}};var Bt=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}};var Pt=function(e){var t=e===undefined?window:e;var n=t.document;var r=Rt(Y.fromDom(n));return zt(t).fold((function(){var e=t.document.documentElement;var n=e.clientWidth;var o=e.clientHeight;return Bt(r.left,r.top,n,o)}),(function(e){return Bt(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))};var Lt=function(e,t,n){return zt(n).map((function(n){var r=function(e){return t(kt(e))};n.addEventListener(e,r);return{unbind:function(){return n.removeEventListener(e,r)}}})).getOrThunk((function(){return{unbind:d}}))};var Ht=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var It=tinymce.util.Tools.resolve("tinymce.Env");var Ft=tinymce.util.Tools.resolve("tinymce.util.Delay");var Vt=function(e,t){e.fire("FullscreenStateChanged",{state:t});e.fire("ResizeEditor")};var Ut=function(e){return e.getParam("fullscreen_native",false,"boolean")};var jt=function(e){var t=Y.fromDom(e.getElement());return ft(t).map(st).getOrThunk((function(){return mt(Ze(t))}))};var Wt=function(e){if(e.fullscreenElement!==undefined){return e.fullscreenElement}else if(e.msFullscreenElement!==undefined){return e.msFullscreenElement}else if(e.webkitFullscreenElement!==undefined){return e.webkitFullscreenElement}else{return null}};var qt=function(){if(document.fullscreenElement!==undefined){return"fullscreenchange"}else if(document.msFullscreenElement!==undefined){return"MSFullscreenChange"}else if(document.webkitFullscreenElement!==undefined){return"webkitfullscreenchange"}else{return"fullscreenchange"}};var Gt=function(e){var t=e.dom;if(t.requestFullscreen){t.requestFullscreen()}else if(t.msRequestFullscreen){t.msRequestFullscreen()}else if(t.webkitRequestFullScreen){t.webkitRequestFullScreen()}};var $t=function(e){var t=e.dom;if(t.exitFullscreen){t.exitFullscreen()}else if(t.msExitFullscreen){t.msExitFullscreen()}else if(t.webkitCancelFullScreen){t.webkitCancelFullScreen()}};var Kt=function(e){return e.dom===Wt(Ze(e).dom)};var Xt=function(e,t,n){return R(nt(e,n),t)};var Yt=function(e,t){return R(rt(e),t)};var Jt=function(e){return Je(e)};var Qt=function(e,t,n){return Xt(e,(function(e){return Xe(e,t)}),n)};var Zt=function(e,t){return Yt(e,(function(e){return Xe(e,t)}))};var en="data-ephox-mobile-fullscreen-style";var tn="display:none!important;";var nn="position:absolute!important;";var rn="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;";var on="background-color:rgb(255,255,255)!important;";var an=It.os.isAndroid();var un=function(e){var t=xt(e,"background-color");return t!==undefined&&t!==""?"background-color:"+t+"!important":on};var cn=function(e,t,n){var r=function(e){return Zt(e,"*:not(.tox-silver-sink)")};var o=function(t){return function(n){var r=pt(n,"style");var o=r===undefined?"no-styles":r.trim();if(o===t){return}else{ht(n,en,o);wt(n,e.parseStyle(t))}}};var a=Qt(t,"*");var i=L(a,r);var u=un(n);M(i,o(tn));M(a,o(nn+rn+u));var c=an===true?"":nn;o(c+rn+u)(t)};var fn=function(e){var t=Jt("["+en+"]");M(t,(function(t){var n=pt(t,en);if(n!=="no-styles"){wt(t,e.parseStyle(n))}else{bt(t,"style")}bt(t,en)}))};var sn=Ht.DOM;var ln=function(){return Pt(window)};var vn=function(e){return window.scrollTo(e.x,e.y)};var dn=zt().fold((function(){return{bind:d,unbind:d}}),(function(e){var t=D();var n=E();var r=E();var o=function(){document.body.scrollTop=0;document.documentElement.scrollTop=0};var a=function(){window.requestAnimationFrame((function(){t.on((function(t){return wt(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})}))}))};var i=Ft.throttle((function(){o();a()}),50);var u=function(e){t.set(e);i();n.set(Lt("resize",i));r.set(Lt("scroll",i))};var c=function(){t.on((function(){n.clear();r.clear()}));t.clear()};return{bind:u,unbind:c}}));var mn=function(e,t){var n=document.body;var r=document.documentElement;var o=e.getContainer();var a=Y.fromDom(o);var i=jt(e);var u=t.get();var c=Y.fromDom(e.getBody());var f=It.deviceType.isTouch();var s=o.style;var l=e.iframeElement;var v=l.style;var d=function(e){e(n,"tox-fullscreen");e(r,"tox-fullscreen");e(o,"tox-fullscreen");ft(a).map((function(e){return st(e).dom})).each((function(t){e(t,"tox-fullscreen");e(t,"tox-shadowhost")}))};var m=function(){if(f){fn(e.dom)}d(sn.removeClass);dn.unbind();T.from(t.get()).each((function(e){return e.fullscreenChangeHandler.unbind()}))};if(!u){var g=At(Ze(i),qt(),(function(n){if(Ut(e)){if(!Kt(i)&&t.get()!==null){mn(e,t)}}}));var h={scrollPos:ln(),containerWidth:s.width,containerHeight:s.height,containerTop:s.top,containerLeft:s.left,iframeWidth:v.width,iframeHeight:v.height,fullscreenChangeHandler:g};if(f){cn(e.dom,a,c)}v.width=v.height="100%";s.width=s.height="";d(sn.addClass);dn.bind(a);e.on("remove",m);t.set(h);if(Ut(e)){Gt(i)}Vt(e,true)}else{u.fullscreenChangeHandler.unbind();if(Ut(e)&&Kt(i)){$t(Ze(i))}v.width=u.iframeWidth;v.height=u.iframeHeight;s.width=u.containerWidth;s.height=u.containerHeight;s.top=u.containerTop;s.left=u.containerLeft;m();vn(u.scrollPos);t.set(null);Vt(e,false);e.off("remove",m)}};var gn=function(e,t){e.addCommand("mceFullScreen",(function(){mn(e,t)}))};var hn=function(e,t){return function(n){n.setActive(t.get()!==null);var r=function(e){return n.setActive(e.state)};e.on("FullscreenStateChanged",r);return function(){return e.off("FullscreenStateChanged",r)}}};var pn=function(e,t){var n=function(){return e.execCommand("mceFullScreen")};e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:hn(e,t)});e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:hn(e,t)})};function bn(){t.add("fullscreen",(function(t){var r=e(null);if(t.inline){return n(r)}gn(t,r);pn(t,r);t.addShortcut("Meta+Shift+F","","mceFullScreen");return n(r)}))}bn()})()},571:(e,t,n)=>{n(572)},572:()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");var t=function(){t=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))t[a]=n[a]}return t};return t.apply(this,arguments)};var n=function(e){var t=typeof e;if(e===null){return"null"}else if(t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")){return"array"}else if(t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")){return"string"}else{return t}};var r=function(e){return function(t){return n(t)===e}};var o=function(e){return function(t){return typeof t===e}};var a=function(e){return function(t){return e===t}};var i=r("string");var u=r("object");var c=r("array");var f=a(null);var s=o("boolean");var l=function(e){return e===null||e===undefined};var v=function(e){return!l(e)};var d=o("function");var m=o("number");var g=function(){};var h=function(e){return function(){return e}};var p=function(e){return e};var b=h(false);var y=h(true);var w=function(){return x};var x=function(){var e=function(e){return e()};var t=p;var n={fold:function(e,t){return e()},isSome:b,isNone:y,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:h(null),getOrUndefined:h(undefined),or:t,orThunk:e,map:w,each:g,bind:w,exists:b,forall:y,filter:function(){return w()},toArray:function(){return[]},toString:h("none()")};return n}();var C=function(e){var t=h(e);var n=function(){return o};var r=function(t){return t(e)};var o={fold:function(t,n){return n(e)},isSome:y,isNone:b,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return C(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:x},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o};var S=function(e){return e===null||e===undefined?x:C(e)};var k={some:C,none:w,from:S};var T=Object.keys;var O=Object.hasOwnProperty;var _=function(e,t){var n=T(e);for(var r=0,o=n.length;r<o;r++){var a=n[r];var i=e[a];t(i,a)}};var E=function(e){return function(t,n){e[n]=t}};var D=function(e,t,n,r){var o={};_(e,(function(e,o){(t(e,o)?n:r)(e,o)}));return o};var A=function(e,t){var n={};D(e,t,E(n),g);return n};var N=function(e,t){return O.call(e,t)};var M=function(e,t){return N(e,t)&&e[t]!==undefined&&e[t]!==null};var R=Array.prototype.push;var z=function(e){var t=[];for(var n=0,r=e.length;n<r;++n){if(!c(e[n])){throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)}R.apply(t,e[n])}return t};var B=function(e,t){return t>=0&&t<e.length?k.some(e[t]):k.none()};var P=function(e){return B(e,0)};var L=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome()){return r}}return k.none()};typeof window!=="undefined"?window:Function("return this;")();var H=function(e,t,n){if(i(n)||s(n)||m(n)){e.setAttribute(t,n+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e);throw new Error("Attribute value was not simple")}};var I=function(e,t,n){H(e.dom,t,n)};var F=function(e,t){e.dom.removeAttribute(t)};var V=function(e,t){var n=t||document;var r=n.createElement("div");r.innerHTML=e;if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",e);throw new Error("HTML must have a single root node")}return W(r.childNodes[0])};var U=function(e,t){var n=t||document;var r=n.createElement(e);return W(r)};var j=function(e,t){var n=t||document;var r=n.createTextNode(e);return W(r)};var W=function(e){if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};var q=function(e,t,n){return k.from(e.dom.elementFromPoint(t,n)).map(W)};var G={fromHtml:V,fromTag:U,fromText:j,fromDom:W,fromPoint:q};var $=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var K=tinymce.util.Tools.resolve("tinymce.util.Promise");var X=tinymce.util.Tools.resolve("tinymce.util.URI");var Y=tinymce.util.Tools.resolve("tinymce.util.XHR");var J=function(e){return e.getParam("image_dimensions",true,"boolean")};var Q=function(e){return e.getParam("image_advtab",false,"boolean")};var Z=function(e){return e.getParam("image_uploadtab",true,"boolean")};var ee=function(e){return e.getParam("image_prepend_url","","string")};var te=function(e){return e.getParam("image_class_list")};var ne=function(e){return e.getParam("image_description",true,"boolean")};var re=function(e){return e.getParam("image_title",false,"boolean")};var oe=function(e){return e.getParam("image_caption",false,"boolean")};var ae=function(e){return e.getParam("image_list",false)};var ie=function(e){return v(e.getParam("images_upload_url"))};var ue=function(e){return v(e.getParam("images_upload_handler"))};var ce=function(e){return e.getParam("a11y_advanced_options",false,"boolean")};var fe=function(e){return e.getParam("automatic_uploads",true,"boolean")};var se=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))};var le=function(e){return new K((function(t){var n=document.createElement("img");var r=function(e){n.onload=n.onerror=null;if(n.parentNode){n.parentNode.removeChild(n)}t(e)};n.onload=function(){var e=se(n.width,n.clientWidth);var t=se(n.height,n.clientHeight);var o={width:e,height:t};r(K.resolve(o))};n.onerror=function(){r(K.reject("Failed to get image dimensions for: "+e))};var o=n.style;o.visibility="hidden";o.position="fixed";o.bottom=o.left="0px";o.width=o.height="auto";document.body.appendChild(n);n.src=e}))};var ve=function(e){if(e){e=e.replace(/px$/,"")}return e};var de=function(e){if(e.length>0&&/^[0-9]+$/.test(e)){e+="px"}return e};var me=function(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[0];e["margin-bottom"]=e["margin-bottom"]||t[0];e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[1];e["margin-bottom"]=e["margin-bottom"]||t[0];e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[1];e["margin-bottom"]=e["margin-bottom"]||t[2];e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[1];e["margin-bottom"]=e["margin-bottom"]||t[2];e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e};var ge=function(e,t){var n=ae(e);if(i(n)){Y.send({url:n,success:function(e){t(JSON.parse(e))}})}else if(d(n)){n(t)}else{t(n)}};var he=function(e,t,n){var r=function(){n.onload=n.onerror=null;if(e.selection){e.selection.select(n);e.nodeChanged()}};n.onload=function(){if(!t.width&&!t.height&&J(e)){e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)})}r()};n.onerror=r};var pe=function(e){return new K((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)};r.onerror=function(){n(r.error.message)};r.readAsDataURL(e)}))};var be=function(e){return e.nodeName==="IMG"&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"))};var ye=function(e,t){return X.isDomSafe(t,"img",e.settings)};var we=$.DOM;var xe=function(e){if(e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight){return ve(e.style.marginLeft)}else{return""}};var Ce=function(e){if(e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom){return ve(e.style.marginTop)}else{return""}};var Se=function(e){if(e.style.borderWidth){return ve(e.style.borderWidth)}else{return""}};var ke=function(e,t){if(e.hasAttribute(t)){return e.getAttribute(t)}else{return""}};var Te=function(e,t){return e.style[t]?e.style[t]:""};var Oe=function(e){return e.parentNode!==null&&e.parentNode.nodeName==="FIGURE"};var _e=function(e,t,n){if(n===""){e.removeAttribute(t)}else{e.setAttribute(t,n)}};var Ee=function(e){var t=we.create("figure",{class:"image"});we.insertAfter(t,e);t.appendChild(e);t.appendChild(we.create("figcaption",{contentEditable:"true"},"Caption"));t.contentEditable="false"};var De=function(e){var t=e.parentNode;we.insertAfter(e,t);we.remove(t)};var Ae=function(e){if(Oe(e)){De(e)}else{Ee(e)}};var Ne=function(e,t){var n=e.getAttribute("style");var r=t(n!==null?n:"");if(r.length>0){e.setAttribute("style",r);e.setAttribute("data-mce-style",r)}else{e.removeAttribute("style")}};var Me=function(e,t){return function(e,n,r){if(e.style[n]){e.style[n]=de(r);Ne(e,t)}else{_e(e,n,r)}}};var Re=function(e,t){if(e.style[t]){return ve(e.style[t])}else{return ke(e,t)}};var ze=function(e,t){var n=de(t);e.style.marginLeft=n;e.style.marginRight=n};var Be=function(e,t){var n=de(t);e.style.marginTop=n;e.style.marginBottom=n};var Pe=function(e,t){var n=de(t);e.style.borderWidth=n};var Le=function(e,t){e.style.borderStyle=t};var He=function(e){return Te(e,"borderStyle")};var Ie=function(e){return e.nodeName==="FIGURE"};var Fe=function(e){return e.nodeName==="IMG"};var Ve=function(e){return we.getAttrib(e,"alt").length===0&&we.getAttrib(e,"role")==="presentation"};var Ue=function(e){if(Ve(e)){return""}else{return ke(e,"alt")}};var je=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:false,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:false}};var We=function(e,t){var n=document.createElement("img");_e(n,"style",t.style);if(xe(n)||t.hspace!==""){ze(n,t.hspace)}if(Ce(n)||t.vspace!==""){Be(n,t.vspace)}if(Se(n)||t.border!==""){Pe(n,t.border)}if(He(n)||t.borderStyle!==""){Le(n,t.borderStyle)}return e(n.getAttribute("style"))};var qe=function(e,n){var r=document.createElement("img");Je(e,t(t({},n),{caption:false}),r);Ke(r,n.alt,n.isDecorative);if(n.caption){var o=we.create("figure",{class:"image"});o.appendChild(r);o.appendChild(we.create("figcaption",{contentEditable:"true"},"Caption"));o.contentEditable="false";return o}else{return r}};var Ge=function(e,t){return{src:ke(t,"src"),alt:Ue(t),title:ke(t,"title"),width:Re(t,"width"),height:Re(t,"height"),class:ke(t,"class"),style:e(ke(t,"style")),caption:Oe(t),hspace:xe(t),vspace:Ce(t),border:Se(t),borderStyle:Te(t,"borderStyle"),isDecorative:Ve(t)}};var $e=function(e,t,n,r,o){if(n[r]!==t[r]){o(e,r,n[r])}};var Ke=function(e,t,n){if(n){we.setAttrib(e,"role","presentation");var r=G.fromDom(e);I(r,"alt","")}else{if(f(t)){var r=G.fromDom(e);F(r,"alt")}else{var r=G.fromDom(e);I(r,"alt",t)}if(we.getAttrib(e,"role")==="presentation"){we.setAttrib(e,"role","")}}};var Xe=function(e,t,n){if(n.alt!==t.alt||n.isDecorative!==t.isDecorative){Ke(e,n.alt,n.isDecorative)}};var Ye=function(e,t){return function(n,r,o){e(n,o);Ne(n,t)}};var Je=function(e,t,n){var r=Ge(e,n);$e(n,r,t,"caption",(function(e,t,n){return Ae(e)}));$e(n,r,t,"src",_e);$e(n,r,t,"title",_e);$e(n,r,t,"width",Me("width",e));$e(n,r,t,"height",Me("height",e));$e(n,r,t,"class",_e);$e(n,r,t,"style",Ye((function(e,t){return _e(e,"style",t)}),e));$e(n,r,t,"hspace",Ye(ze,e));$e(n,r,t,"vspace",Ye(Be,e));$e(n,r,t,"border",Ye(Pe,e));$e(n,r,t,"borderStyle",Ye(Le,e));Xe(n,r,t)};var Qe=function(e,t){var n=e.dom.styles.parse(t);var r=me(n);var o=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(o)};var Ze=function(e){var t=e.selection.getNode();var n=e.dom.getParent(t,"figure.image");if(n){return e.dom.select("img",n)[0]}if(t&&(t.nodeName!=="IMG"||be(t))){return null}return t};var et=function(e,t){var n=e.dom;var r=A(e.schema.getTextBlockElements(),(function(t,n){return!e.schema.isValidChild(n,"figure")}));var o=n.getParent(t.parentNode,(function(e){return M(r,e.nodeName)}),e.getBody());if(o){return n.split(o,t)}else{return t}};var tt=function(e){var t=Ze(e);return t?Ge((function(t){return Qe(e,t)}),t):je()};var nt=function(e,t){var n=qe((function(t){return Qe(e,t)}),t);e.dom.setAttrib(n,"data-mce-id","__mcenew");e.focus();e.selection.setContent(n.outerHTML);var r=e.dom.select('*[data-mce-id="__mcenew"]')[0];e.dom.setAttrib(r,"data-mce-id",null);if(Ie(r)){var o=et(e,r);e.selection.select(o)}else{e.selection.select(r)}};var rt=function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))};var ot=function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n);e.focus();e.nodeChanged();if(e.dom.isEmpty(e.getBody())){e.setContent("");e.selection.setCursorLocation()}}};var at=function(e,t){var n=Ze(e);Je((function(t){return Qe(e,t)}),t,n);rt(e,n);if(Ie(n.parentNode)){var r=n.parentNode;et(e,r);e.selection.select(n.parentNode)}else{e.selection.select(n);he(e,t,n)}};var it=function(e,n){var r=n.src;return t(t({},n),{src:ye(e,r)?r:""})};var ut=function(e,n){var r=Ze(e);if(r){var o=Ge((function(t){return Qe(e,t)}),r);var a=t(t({},o),n);var i=it(e,a);if(a.src){at(e,i)}else{ot(e,r)}}else if(n.src){nt(e,t(t({},je()),n))}};var ct=function(e,t){var n=u(e)&&u(t);return n?st(e,t):t};var ft=function(e){return function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}if(t.length===0){throw new Error("Can't merge zero objects")}var r={};for(var o=0;o<t.length;o++){var a=t[o];for(var i in a){if(N(a,i)){r[i]=e(r[i],a[i])}}}return r}};var st=ft(ct);var lt=function(e){return e.length>0};var vt=tinymce.util.Tools.resolve("tinymce.util.ImageUploader");var dt=tinymce.util.Tools.resolve("tinymce.util.Tools");var mt=function(e){return i(e.value)?e.value:""};var gt=function(e){if(i(e.text)){return e.text}else if(i(e.title)){return e.title}else{return""}};var ht=function(e,t){var n=[];dt.each(e,(function(e){var r=gt(e);if(e.menu!==undefined){var o=ht(e.menu,t);n.push({text:r,items:o})}else{var a=t(e);n.push({text:r,value:a})}}));return n};var pt=function(e){if(e===void 0){e=mt}return function(t){if(t){return k.from(t).map((function(t){return ht(t,e)}))}else{return k.none()}}};var bt=function(e){return pt(mt)(e)};var yt=function(e){return N(e,"items")};var wt=function(e,t){return L(e,(function(e){if(yt(e)){return wt(e.items,t)}else if(e.value===t){return k.some(e)}else{return k.none()}}))};var xt=function(e,t){return e.bind((function(e){return wt(e,t)}))};var Ct={sanitizer:pt,sanitize:bt,findEntry:xt};var St=function(e){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}};var kt={makeTab:St};var Tt=function(e){var t=Ct.sanitizer((function(t){return e.convertURL(t.value||t.url,"src")}));var n=new K((function(n){ge(e,(function(e){n(t(e).map((function(e){return z([[{text:"None",value:""}],e])})))}))}));var r=Ct.sanitize(te(e));var o=Q(e);var a=Z(e);var u=ie(e);var c=ue(e);var f=tt(e);var s=ne(e);var l=re(e);var v=J(e);var d=oe(e);var m=ce(e);var g=fe(e);var h=k.some(ee(e)).filter((function(e){return i(e)&&e.length>0}));return n.then((function(e){return{image:f,imageList:e,classList:r,hasAdvTab:o,hasUploadTab:a,hasUploadUrl:u,hasUploadHandler:c,hasDescription:s,hasImageTitle:l,hasDimensions:v,hasImageCaption:d,prependURL:h,hasAccessibilityOptions:m,automaticUploads:g}}))};var Ot=function(e){var n={name:"src",type:"urlinput",filetype:"image",label:"Source"};var r=e.imageList.map((function(e){return{name:"images",type:"listbox",label:"Image list",items:e}}));var o={name:"alt",type:"input",label:"Alternative description",disabled:e.hasAccessibilityOptions&&e.image.isDecorative};var a={name:"title",type:"input",label:"Image title"};var i={name:"dimensions",type:"sizeinput"};var u={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]};var c=e.classList.map((function(e){return{name:"classes",type:"listbox",label:"Class",items:e}}));var f={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};var s=function(e){return e?{type:"grid",columns:2}:{type:"panel"}};return z([[n],r.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[u]:[],e.hasDescription?[o]:[],e.hasImageTitle?[a]:[],e.hasDimensions?[i]:[],[t(t({},s(e.classList.isSome()&&e.hasImageCaption)),{items:z([c.toArray(),e.hasImageCaption?[f]:[]])})]])};var _t=function(e){return{title:"General",name:"general",items:Ot(e)}};var Et={makeTab:_t,makeItems:Ot};var Dt=function(e){var t=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:t}};var At={makeTab:Dt};var Nt=function(e){return{prevImage:Ct.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:true}};var Mt=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}};var Rt=function(e,t){return{src:e.src.value,alt:e.alt.length===0&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}};var zt=function(e,t){if(!/^(?:[a-zA-Z]+:)?\/\//.test(t)){return e.prependURL.bind((function(e){if(t.substring(0,e.length)!==e){return k.some(e+t)}return k.none()}))}return k.none()};var Bt=function(e,t){var n=t.getData();zt(e,n.src.value).each((function(e){t.setData({src:{value:e,meta:n.src.meta}})}))};var Pt=function(e,t,n){if(e.hasDescription&&i(n.alt)){t.alt=n.alt}if(e.hasAccessibilityOptions){t.isDecorative=n.isDecorative||t.isDecorative||false}if(e.hasImageTitle&&i(n.title)){t.title=n.title}if(e.hasDimensions){if(i(n.width)){t.dimensions.width=n.width}if(i(n.height)){t.dimensions.height=n.height}}if(i(n.class)){Ct.findEntry(e.classList,n.class).each((function(e){t.classes=e.value}))}if(e.hasImageCaption){if(s(n.caption)){t.caption=n.caption}}if(e.hasAdvTab){if(i(n.style)){t.style=n.style}if(i(n.vspace)){t.vspace=n.vspace}if(i(n.border)){t.border=n.border}if(i(n.hspace)){t.hspace=n.hspace}if(i(n.borderstyle)){t.borderstyle=n.borderstyle}}};var Lt=function(e,t){var n=t.getData();var r=n.src.meta;if(r!==undefined){var o=st({},n);Pt(e,o,r);t.setData(o)}};var Ht=function(e,t,n,r){var o=r.getData();var a=o.src.value;var i=o.src.meta||{};if(!i.width&&!i.height&&t.hasDimensions){if(lt(a)){e.imageSize(a).then((function(e){if(n.open){r.setData({dimensions:e})}})).catch((function(e){return console.error(e)}))}else{r.setData({dimensions:{width:"",height:""}})}}};var It=function(e,t,n){var r=n.getData();var o=Ct.findEntry(e.imageList,r.src.value);t.prevImage=o;n.setData({images:o.map((function(e){return e.value})).getOr("")})};var Ft=function(e,t,n,r){Bt(t,r);Lt(t,r);Ht(e,t,n,r);It(t,n,r)};var Vt=function(e,t,n,r){var o=r.getData();var a=Ct.findEntry(t.imageList,o.images);a.each((function(e){var t=o.alt===""||n.prevImage.map((function(e){return e.text===o.alt})).getOr(false);if(t){if(e.value===""){r.setData({src:e,alt:n.prevAlt})}else{r.setData({src:e,alt:e.text})}}else{r.setData({src:e})}}));n.prevImage=a;Ft(e,t,n,r)};var Ut=function(e){var t=e["margin-top"]&&e["margin-bottom"]&&e["margin-top"]===e["margin-bottom"];return t?ve(String(e["margin-top"])):""};var jt=function(e){var t=e["margin-right"]&&e["margin-left"]&&e["margin-right"]===e["margin-left"];return t?ve(String(e["margin-right"])):""};var Wt=function(e){return e["border-width"]?ve(String(e["border-width"])):""};var qt=function(e){return e["border-style"]?String(e["border-style"]):""};var Gt=function(e,t,n){return t(e(t(n)))};var $t=function(e,t,n){var r=me(e(n.style));var o=st({},n);o.vspace=Ut(r);o.hspace=jt(r);o.border=Wt(r);o.borderstyle=qt(r);o.style=Gt(e,t,r);return o};var Kt=function(e,t){var n=t.getData();var r=$t(e.parseStyle,e.serializeStyle,n);t.setData(r)};var Xt=function(e,t,n){var r=st(Mt(t.image),n.getData());var o=We(e.normalizeCss,Rt(r,false));n.setData({style:o})};var Yt=function(e,t,n,r){var o=r.getData();r.block("Uploading image");P(o.fileinput).fold((function(){r.unblock()}),(function(o){var a=URL.createObjectURL(o);var i=function(){r.unblock();URL.revokeObjectURL(a)};var u=function(o){r.setData({src:{value:o,meta:{}}});r.showTab("general");Ft(e,t,n,r)};pe(o).then((function(n){var c=e.createBlobCache(o,a,n);if(t.automaticUploads){e.uploadImage(c).then((function(e){u(e.url);i()})).catch((function(t){i();e.alertErr(t)}))}else{e.addToBlobCache(c);u(c.blobUri());r.unblock()}}))}))};var Jt=function(e,t,n){return function(r,o){if(o.name==="src"){Ft(e,t,n,r)}else if(o.name==="images"){Vt(e,t,n,r)}else if(o.name==="alt"){n.prevAlt=r.getData().alt}else if(o.name==="style"){Kt(e,r)}else if(o.name==="vspace"||o.name==="hspace"||o.name==="border"||o.name==="borderstyle"){Xt(e,t,r)}else if(o.name==="fileinput"){Yt(e,t,n,r)}else if(o.name==="isDecorative"){if(r.getData().isDecorative){r.disable("alt")}else{r.enable("alt")}}}};var Qt=function(e){return function(){e.open=false}};var Zt=function(e){if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){var t={type:"tabpanel",tabs:z([[Et.makeTab(e)],e.hasAdvTab?[kt.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[At.makeTab(e)]:[]])};return t}else{var n={type:"panel",items:Et.makeItems(e)};return n}};var en=function(e){return function(t){var n=Nt(t);return{title:"Insert/Edit Image",size:"normal",body:Zt(t),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:Mt(t.image),onSubmit:e.onSubmit(t),onChange:Jt(e,t,n),onClose:Qt(n)}}};var tn=function(e){return function(t){return function(n){var r=st(Mt(t.image),n.getData());e.execCommand("mceUpdateImage",false,Rt(r,t.hasAccessibilityOptions));e.editorUpload.uploadImagesAuto();n.close()}}};var nn=function(e){return function(t){if(!ye(e,t)){return K.resolve({width:"",height:""})}else{return le(e.documentBaseURI.toAbsolute(t)).then((function(e){return{width:String(e.width),height:String(e.height)}}))}}};var rn=function(e){return function(t,n,r){return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?t.name.replace(/\.[^\.]+$/,""):null,filename:t.name,base64:r.split(",")[1]})}};var on=function(e){return function(t){e.editorUpload.blobCache.add(t)}};var an=function(e){return function(t){e.windowManager.alert(t)}};var un=function(e){return function(t){return Qe(e,t)}};var cn=function(e){return function(t){return e.dom.parseStyle(t)}};var fn=function(e){return function(t,n){return e.dom.serializeStyle(t,n)}};var sn=function(e){return function(t){return vt(e).upload([t],false).then((function(e){if(e.length===0){return K.reject("Failed to upload image")}else if(e[0].status===false){return K.reject(e[0].error.message)}else{return e[0]}}))}};var ln=function(e){var t={onSubmit:tn(e),imageSize:nn(e),addToBlobCache:on(e),createBlobCache:rn(e),alertErr:an(e),normalizeCss:un(e),parseStyle:cn(e),serializeStyle:fn(e),uploadImage:sn(e)};var n=function(){Tt(e).then(en(t)).then(e.windowManager.open)};return{open:n}};var vn=function(e){e.addCommand("mceImage",ln(e).open);e.addCommand("mceUpdateImage",(function(t,n){e.undoManager.transact((function(){return ut(e,n)}))}))};var dn=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)};var mn=function(e){return function(t){var n=t.length;var r=function(t){t.attr("contenteditable",e?"true":null)};while(n--){var o=t[n];if(dn(o)){o.attr("contenteditable",e?"false":null);dt.each(o.getAll("figcaption"),r)}}}};var gn=function(e){e.on("PreInit",(function(){e.parser.addNodeFilter("figure",mn(true));e.serializer.addNodeFilter("figure",mn(false))}))};var hn=function(e){e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ln(e).open,onSetup:function(t){t.setActive(v(Ze(e)));return e.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",t.setActive).unbind}});e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ln(e).open});e.ui.registry.addContextMenu("image",{update:function(e){return Ie(e)||Fe(e)&&!be(e)?["image"]:[]}})};function pn(){e.add("image",(function(e){gn(e);hn(e);vn(e)}))}pn()})()},573:(e,t,n)=>{n(574)},574:()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");var t=tinymce.util.Tools.resolve("tinymce.util.VK");var n=function(e){var t=typeof e;if(e===null){return"null"}else if(t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")){return"array"}else if(t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")){return"string"}else{return t}};var r=function(e){return function(t){return n(t)===e}};var o=function(e){return function(t){return typeof t===e}};var a=function(e){return function(t){return e===t}};var i=r("string");var u=r("array");var c=a(null);var f=o("boolean");var s=o("function");var l=function(){};var v=function(e){return function(){return e}};var d=function(e){return e};var m=function(e,t){return e===t};var g=v(false);var h=v(true);var p=function(){return b};var b=function(){var e=function(e){return e()};var t=d;var n={fold:function(e,t){return e()},isSome:g,isNone:h,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:v(null),getOrUndefined:v(undefined),or:t,orThunk:e,map:p,each:l,bind:p,exists:g,forall:h,filter:function(){return p()},toArray:function(){return[]},toString:v("none()")};return n}();var y=function(e){var t=v(e);var n=function(){return o};var r=function(t){return t(e)};var o={fold:function(t,n){return n(e)},isSome:h,isNone:g,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return y(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:b},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o};var w=function(e){return e===null||e===undefined?b:y(e)};var x={some:y,none:p,from:w};var C=Array.prototype.indexOf;var S=Array.prototype.push;var k=function(e,t){return C.call(e,t)};var T=function(e,t){return k(e,t)>-1};var O=function(e,t){var n=e.length;var r=new Array(n);for(var o=0;o<n;o++){var a=e[o];r[o]=t(a,o)}return r};var _=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}};var E=function(e,t,n){_(e,(function(e,r){n=t(n,e,r)}));return n};var D=function(e){var t=[];for(var n=0,r=e.length;n<r;++n){if(!u(e[n])){throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)}S.apply(t,e[n])}return t};var A=function(e,t){return D(O(e,t))};var N=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome()){return r}}return x.none()};var M=function(e,t,n){if(n===void 0){n=m}return e.exists((function(e){return n(e,t)}))};var R=function(e){var t=[];var n=function(e){t.push(e)};for(var r=0;r<e.length;r++){e[r].each(n)}return t};var z=function(e,t){return e?x.some(t):x.none()};var B=function(e){var t=e.getParam("link_assume_external_targets",false);if(f(t)&&t){return 1}else if(i(t)&&(t==="http"||t==="https")){return t}return 0};var P=function(e){return e.getParam("link_context_toolbar",false,"boolean")};var L=function(e){return e.getParam("link_list")};var H=function(e){return e.getParam("default_link_target")};var I=function(e){return e.getParam("target_list",true)};var F=function(e){return e.getParam("rel_list",[],"array")};var V=function(e){return e.getParam("link_class_list",[],"array")};var U=function(e){return e.getParam("link_title",true,"boolean")};var j=function(e){return e.getParam("allow_unsafe_link_target",false,"boolean")};var W=function(e){return e.getParam("link_quicklink",false,"boolean")};var q=function(e){return e.getParam("link_default_protocol","http","string")};var G=tinymce.util.Tools.resolve("tinymce.util.Tools");var $=function(e){return i(e.value)?e.value:""};var K=function(e){if(i(e.text)){return e.text}else if(i(e.title)){return e.title}else{return""}};var X=function(e,t){var n=[];G.each(e,(function(e){var r=K(e);if(e.menu!==undefined){var o=X(e.menu,t);n.push({text:r,items:o})}else{var a=t(e);n.push({text:r,value:a})}}));return n};var Y=function(e){if(e===void 0){e=$}return function(t){return x.from(t).map((function(t){return X(t,e)}))}};var J=function(e){return Y($)(e)};var Q=function(e,t){return function(n){return{name:e,type:"listbox",label:t,items:n}}};var Z={sanitize:J,sanitizeWith:Y,createUi:Q,getValue:$};var ee=function(){ee=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))t[a]=n[a]}return t};return ee.apply(this,arguments)};var te=Object.keys;var ne=Object.hasOwnProperty;var re=function(e,t){var n=te(e);for(var r=0,o=n.length;r<o;r++){var a=n[r];var i=e[a];t(i,a)}};var oe=function(e){return function(t,n){e[n]=t}};var ae=function(e,t,n,r){var o={};re(e,(function(e,o){(t(e,o)?n:r)(e,o)}));return o};var ie=function(e,t){var n={};ae(e,t,oe(n),l);return n};var ue=function(e,t){return ne.call(e,t)};var ce=function(e,t){return ue(e,t)&&e[t]!==undefined&&e[t]!==null};var fe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");var se=tinymce.util.Tools.resolve("tinymce.util.URI");var le=function(e){return e&&e.nodeName.toLowerCase()==="a"};var ve=function(e){return le(e)&&!!ge(e)};var de=function(e,t){if(e.collapsed){return[]}else{var n=e.cloneContents();var r=new fe(n.firstChild,n);var o=[];var a=n.firstChild;do{if(t(a)){o.push(a)}}while(a=r.next());return o}};var me=function(e){return/^\w+:/i.test(e)};var ge=function(e){var t=e.getAttribute("data-mce-href");return t?t:e.getAttribute("href")};var he=function(e,t){var n=["noopener"];var r=e?e.split(/\s+/):[];var o=function(e){return G.trim(e.sort().join(" "))};var a=function(e){e=i(e);return e.length>0?e.concat(n):n};var i=function(e){return e.filter((function(e){return G.inArray(n,e)===-1}))};var u=t?a(r):i(r);return u.length>0?o(u):""};var pe=function(e){return e.replace(/\uFEFF/g,"")};var be=function(e,t){t=t||e.selection.getNode();if(Se(t)){return e.dom.select("a[href]",t)[0]}else{return e.dom.getParent(t,"a[href]")}};var ye=function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"});return pe(n)};var we=function(e){return G.grep(e,ve).length>0};var xe=function(e){return de(e,ve).length>0};var Ce=function(e){var t=e.schema.getTextInlineElements();var n=function(e){return e.nodeType===1&&!le(e)&&!ue(t,e.nodeName.toLowerCase())};var r=de(e.selection.getRng(),n);return r.length===0};var Se=function(e){return e&&e.nodeName==="FIGURE"&&/\bimage\b/i.test(e.className)};var ke=function(e){var t=["title","rel","class","target"];return E(t,(function(t,n){e[n].each((function(e){t[n]=e.length>0?e:null}));return t}),{href:e.href})};var Te=function(e,t){if((t==="http"||t==="https")&&!me(e)){return t+"://"+e}return e};var Oe=function(e,t){var n=ee({},t);if(!(F(e).length>0)&&j(e)===false){var r=he(n.rel,n.target==="_blank");n.rel=r?r:null}if(x.from(n.target).isNone()&&I(e)===false){n.target=H(e)}n.href=Te(n.href,B(e));return n};var _e=function(e,t,n,r){n.each((function(e){if(ue(t,"innerText")){t.innerText=e}else{t.textContent=e}}));e.dom.setAttribs(t,r);e.selection.select(t)};var Ee=function(e,t,n,r){if(Se(t)){Le(e,t,r)}else{n.fold((function(){e.execCommand("mceInsertLink",false,r)}),(function(t){e.insertContent(e.dom.createHTML("a",r,e.dom.encode(t)))}))}};var De=function(e,t,n){var r=e.selection.getNode();var o=be(e,r);var a=Oe(e,ke(n));e.undoManager.transact((function(){if(n.href===t.href){t.attach()}if(o){e.focus();_e(e,o,n.text,a)}else{Ee(e,r,n.text,a)}}))};var Ae=function(e){var t=e.dom,n=e.selection;var r=n.getBookmark();var o=n.getRng().cloneRange();var a=t.getParent(o.startContainer,"a[href]",e.getBody());var i=t.getParent(o.endContainer,"a[href]",e.getBody());if(a){o.setStartBefore(a)}if(i){o.setEndAfter(i)}n.setRng(o);e.execCommand("unlink");n.moveToBookmark(r)};var Ne=function(e){e.undoManager.transact((function(){var t=e.selection.getNode();if(Se(t)){Pe(e,t)}else{Ae(e)}e.focus()}))};var Me=function(e){var t=e.class,n=e.href,r=e.rel,o=e.target,a=e.text,i=e.title;return ie({class:t.getOrNull(),href:n,rel:r.getOrNull(),target:o.getOrNull(),text:a.getOrNull(),title:i.getOrNull()},(function(e,t){return c(e)===false}))};var Re=function(e,t){var n=t.href;return ee(ee({},t),{href:se.isDomSafe(n,"a",e.settings)?n:""})};var ze=function(e,t,n){var r=Re(e,n);e.hasPlugin("rtc",true)?e.execCommand("createlink",false,Me(r)):De(e,t,r)};var Be=function(e){e.hasPlugin("rtc",true)?e.execCommand("unlink"):Ne(e)};var Pe=function(e,t){var n=e.dom.select("img",t)[0];if(n){var r=e.dom.getParents(n,"a[href]",t)[0];if(r){r.parentNode.insertBefore(n,r);e.dom.remove(r)}}};var Le=function(e,t,n){var r=e.dom.select("img",t)[0];if(r){var o=e.dom.create("a",n);r.parentNode.insertBefore(o,r);o.appendChild(r)}};var He=function(e){return ce(e,"items")};var Ie=function(e,t){return N(t,(function(t){if(He(t)){return Ie(e,t.items)}else{return z(t.value===e,t)}}))};var Fe=function(e,t,n,r){var o=r[t];var a=e.length>0;return o!==undefined?Ie(o,n).map((function(t){return{url:{value:t.value,meta:{text:a?e:t.text,attach:l}},text:a?e:t.text}})):x.none()};var Ve=function(e,t){if(t==="link"){return e.link}else if(t==="anchor"){return e.anchor}else{return x.none()}};var Ue=function(e,t){var n={text:e.text,title:e.title};var r=function(e){return z(n.title.length<=0,x.from(e.meta.title).getOr(""))};var o=function(e){return z(n.text.length<=0,x.from(e.meta.text).getOr(e.value))};var a=function(e){var t=o(e.url);var n=r(e.url);if(t.isSome()||n.isSome()){return x.some(ee(ee({},t.map((function(e){return{text:e}})).getOr({})),n.map((function(e){return{title:e}})).getOr({})))}else{return x.none()}};var i=function(e,r){var o=Ve(t,r.name).getOr([]);return Fe(n.text,r.name,o,e)};var u=function(e,t){var r=t.name;if(r==="url"){return a(e())}else if(T(["anchor","link"],r)){return i(e(),t)}else if(r==="text"||r==="title"){n[r]=e()[r];return x.none()}else{return x.none()}};return{onChange:u}};var je={init:Ue,getDelta:Fe};var We=tinymce.util.Tools.resolve("tinymce.util.Delay");var qe=tinymce.util.Tools.resolve("tinymce.util.Promise");var Ge=function(e,t,n){var r=e.selection.getRng();We.setEditorTimeout(e,(function(){e.windowManager.confirm(t,(function(t){e.selection.setRng(r);n(t)}))}))};var $e=function(e){var t=e.href;var n=t.indexOf("@")>0&&t.indexOf("/")===-1&&t.indexOf("mailto:")===-1;return n?x.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(e){return ee(ee({},e),{href:"mailto:"+t})}}):x.none()};var Ke=function(e,t){return function(n){var r=n.href;var o=e===1&&!me(r)||e===0&&/^\s*www(\.|\d\.)/i.test(r);return o?x.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+t+":// prefix?",preprocess:function(e){return ee(ee({},e),{href:t+"://"+r})}}):x.none()}};var Xe=function(e,t){return N([$e,Ke(B(e),q(e))],(function(e){return e(t)})).fold((function(){return qe.resolve(t)}),(function(n){return new qe((function(r){Ge(e,n.message,(function(e){r(e?n.preprocess(t):t)}))}))}))};var Ye={preprocess:Xe};var Je=function(e){var t=e.dom.select("a:not([href])");var n=A(t,(function(e){var t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return n.length>0?x.some([{text:"None",value:""}].concat(n)):x.none()};var Qe={getAnchors:Je};var Ze=function(e){var t=V(e);if(t.length>0){return Z.sanitize(t)}return x.none()};var et={getClasses:Ze};var tt=tinymce.util.Tools.resolve("tinymce.util.XHR");var nt=function(e){try{return x.some(JSON.parse(e))}catch(e){return x.none()}};var rt=function(e){var t=function(t){return e.convertURL(t.value||t.url,"href")};var n=L(e);return new qe((function(e){if(i(n)){tt.send({url:n,success:function(t){return e(nt(t))},error:function(t){return e(x.none())}})}else if(s(n)){n((function(t){return e(x.some(t))}))}else{e(x.from(n))}})).then((function(e){return e.bind(Z.sanitizeWith(t)).map((function(e){if(e.length>0){var t=[{text:"None",value:""}];return t.concat(e)}else{return e}}))}))};var ot={getLinks:rt};var at=function(e,t){var n=F(e);if(n.length>0){var r=M(t,"_blank");var o=j(e)===false;var a=function(e){return he(Z.getValue(e),r)};var i=o?Z.sanitizeWith(a):Z.sanitize;return i(n)}return x.none()};var it={getRels:at};var ut=[{text:"Current window",value:""},{text:"New window",value:"_blank"}];var ct=function(e){var t=I(e);if(u(t)){return Z.sanitize(t).orThunk((function(){return x.some(ut)}))}else if(t===false){return x.none()}return x.some(ut)};var ft={getTargets:ct};var st=function(e,t,n){var r=e.getAttrib(t,n);return r!==null&&r.length>0?x.some(r):x.none()};var lt=function(e,t){var n=e.dom;var r=Ce(e);var o=r?x.some(ye(e.selection,t)):x.none();var a=t?x.some(n.getAttrib(t,"href")):x.none();var i=t?x.from(n.getAttrib(t,"target")):x.none();var u=st(n,t,"rel");var c=st(n,t,"class");var f=st(n,t,"title");return{url:a,text:o,title:f,target:i,rel:u,linkClass:c}};var vt=function(e,t){return ot.getLinks(e).then((function(n){var r=lt(e,t);return{anchor:r,catalogs:{targets:ft.getTargets(e),rels:it.getRels(e,r.target),classes:et.getClasses(e),anchor:Qe.getAnchors(e),link:n},optNode:x.from(t),flags:{titleEnabled:U(e)}}}))};var dt={collect:vt};var mt=function(e,t){return function(n){var r=n.getData();if(!r.url.value){Be(e);n.close();return}var o=function(e){return x.from(r[e]).filter((function(n){return!M(t.anchor[e],n)}))};var a={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")};var i={href:r.url.value,attach:r.url.meta!==undefined&&r.url.meta.attach?r.url.meta.attach:l};Ye.preprocess(e,a).then((function(t){ze(e,i,t)}));n.close()}};var gt=function(e){var t=be(e);return dt.collect(e,t)};var ht=function(e,t){var n=e.anchor;var r=n.url.getOr("");return{url:{value:r,meta:{original:{value:r}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:r,link:r,rel:n.rel.getOr(""),target:n.target.or(t).getOr(""),linkClass:n.linkClass.getOr("")}};var pt=function(e,t,n){var r=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}];var o=e.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray();var a=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[];var i=x.from(H(n));var u=ht(e,i);var c=e.catalogs;var f=je.init(u,c);var s={type:"panel",items:D([r,o,a,R([c.anchor.map(Z.createUi("anchor","Anchors")),c.rels.map(Z.createUi("rel","Rel")),c.targets.map(Z.createUi("target","Open link in...")),c.link.map(Z.createUi("link","Link list")),c.classes.map(Z.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:s,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:u,onChange:function(e,t){var n=t.name;f.onChange(e.getData,{name:n}).each((function(t){e.setData(t)}))},onSubmit:t}};var bt=function(e){var t=gt(e);t.then((function(t){var n=mt(e,t);return pt(t,n,e)})).then((function(t){e.windowManager.open(t)}))};var yt=function(e,t){document.body.appendChild(e);e.dispatchEvent(t);document.body.removeChild(e)};var wt=function(e){var t=document.createElement("a");t.target="_blank";t.href=e;t.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);yt(t,n)};var xt=function(e,t){return e.dom.getParent(t,"a[href]")};var Ct=function(e){return xt(e,e.selection.getStart())};var St=function(e){return e.altKey===true&&e.shiftKey===false&&e.ctrlKey===false&&e.metaKey===false};var kt=function(e,t){if(t){var n=ge(t);if(/^#/.test(n)){var r=e.$(n);if(r.length){e.selection.scrollIntoView(r[0],true)}}else{wt(t.href)}}};var Tt=function(e){return function(){bt(e)}};var Ot=function(e){return function(){kt(e,Ct(e))}};var _t=function(e){e.on("click",(function(n){var r=xt(e,n.target);if(r&&t.metaKeyPressed(n)){n.preventDefault();kt(e,r)}}));e.on("keydown",(function(t){var n=Ct(e);if(n&&t.keyCode===13&&St(t)){t.preventDefault();kt(e,n)}}))};var Et=function(e,t){e.on("NodeChange",t);return function(){return e.off("NodeChange",t)}};var Dt=function(e){return function(t){var n=function(){return t.setActive(!e.mode.isReadOnly()&&be(e,e.selection.getNode())!==null)};n();return Et(e,n)}};var At=function(e){return function(t){var n=function(){return t.setDisabled(be(e,e.selection.getNode())===null)};n();return Et(e,n)}};var Nt=function(e){return function(t){var n=function(t){return we(t)||xe(e.selection.getRng())};var r=e.dom.getParents(e.selection.getStart());t.setDisabled(!n(r));return Et(e,(function(e){return t.setDisabled(!n(e.parents))}))}};var Mt=function(e){e.addCommand("mceLink",(function(){if(W(e)){e.fire("contexttoolbar-show",{toolbarKey:"quicklink"})}else{Tt(e)()}}))};var Rt=function(e){e.addShortcut("Meta+K","",(function(){e.execCommand("mceLink")}))};var zt=function(e){e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Tt(e),onSetup:Dt(e)});e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Ot(e),onSetup:At(e)});e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Be(e)},onSetup:Nt(e)})};var Bt=function(e){e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Ot(e),onSetup:At(e)});e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Tt(e)});e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Be(e)},onSetup:Nt(e)})};var Pt=function(e){var t="link unlink openlink";var n="link";e.ui.registry.addContextMenu("link",{update:function(r){return we(e.dom.getParents(r,"a"))?t:n}})};var Lt=function(e){var t=function(e){e.selection.collapse(false)};var n=function(t){var n=e.selection.getNode();t.setDisabled(!be(e,n));return l};var r=function(t){var n=be(e);var r=Ce(e);if(!n&&r){var o=ye(e.selection,n);return x.some(o.length>0?o:t)}else{return x.none()}};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Dt(e)},label:"Link",predicate:function(t){return!!be(e,t)&&P(e)},initValue:function(){var t=be(e);return!!t?ge(t):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:true,onSetup:function(t){var n=e.selection.getNode();t.setActive(!!be(e,n));return Dt(e)(t)},onAction:function(n){var o=n.getValue();var a=r(o);var i={href:o,attach:l};ze(e,i,{href:o,text:a,title:x.none(),rel:x.none(),target:x.none(),class:x.none()});t(e);n.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:function(t){Be(e);t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:function(t){Ot(e)();t.hide()}}]})};function Ht(){e.add("link",(function(e){zt(e);Bt(e);Pt(e);Lt(e);_t(e);Mt(e);Rt(e)}))}Ht()})()},575:(e,t,n)=>{n(576)},576:()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");var t=function(e){var t=typeof e;if(e===null){return"null"}else if(t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")){return"array"}else if(t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")){return"string"}else{return t}};var n=function(e){return function(n){return t(n)===e}};var r=function(e){return function(t){return typeof t===e}};var o=n("string");var a=n("object");var i=n("array");var u=r("boolean");var c=r("function");var f=r("number");var s=function(){};var l=function(e){return function(){return e}};var v=function(e){return e};var d=function(e,t){return e===t};var m=function(e){return function(t){return!e(t)}};var g=l(false);var h=l(true);var p=function(){return b};var b=function(){var e=function(e){return e()};var t=v;var n={fold:function(e,t){return e()},isSome:g,isNone:h,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(undefined),or:t,orThunk:e,map:p,each:s,bind:p,exists:g,forall:h,filter:function(){return p()},toArray:function(){return[]},toString:l("none()")};return n}();var y=function(e){var t=l(e);var n=function(){return o};var r=function(t){return t(e)};var o={fold:function(t,n){return n(e)},isSome:h,isNone:g,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return y(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:b},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o};var w=function(e){return e===null||e===undefined?b:y(e)};var x={some:y,none:p,from:w};var C=Array.prototype.slice;var S=Array.prototype.push;var k=function(e,t){var n=e.length;var r=new Array(n);for(var o=0;o<n;o++){var a=e[o];r[o]=t(a,o)}return r};var T=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}};var O=function(e,t){var n=[];for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t(a,r)){n.push(a)}}return n};var _=function(e,t){if(e.length===0){return[]}else{var n=t(e[0]);var r=[];var o=[];for(var a=0,i=e.length;a<i;a++){var u=e[a];var c=t(u);if(c!==n){r.push(o);o=[]}n=c;o.push(u)}if(o.length!==0){r.push(o)}return r}};var E=function(e,t,n){T(e,(function(e,r){n=t(n,e,r)}));return n};var D=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t(a,r)){return x.some(a)}else if(n(a,r)){break}}return x.none()};var A=function(e,t){return D(e,t,g)};var N=function(e){var t=[];for(var n=0,r=e.length;n<r;++n){if(!i(e[n])){throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)}S.apply(t,e[n])}return t};var M=function(e,t){return N(k(e,t))};var R=function(e){var t=C.call(e,0);t.reverse();return t};var z=function(e,t){return t>=0&&t<e.length?x.some(e[t]):x.none()};var B=function(e){return z(e,0)};var P=function(e){return z(e,e.length-1)};var L=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome()){return r}}return x.none()};var H=function(){H=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))t[a]=n[a]}return t};return H.apply(this,arguments)};function I(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++){if(a||!(r in t)){if(!a)a=Array.prototype.slice.call(t,0,r);a[r]=t[r]}}return e.concat(a||Array.prototype.slice.call(t))}var F=function(e){var t=false;var n;return function(){var r=[];for(var o=0;o<arguments.length;o++){r[o]=arguments[o]}if(!t){t=true;n=e.apply(null,r)}return n}};var V=function(e,t,n,r){var o=e.isiOS()&&/ipad/i.test(n)===true;var a=e.isiOS()&&!o;var i=e.isiOS()||e.isAndroid();var u=i||r("(pointer:coarse)");var c=o||!a&&i&&r("(min-device-width:768px)");var f=a||i&&!c;var s=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===false;var v=!f&&!c&&!s;return{isiPad:l(o),isiPhone:l(a),isTablet:l(c),isPhone:l(f),isTouch:l(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:l(s),isDesktop:l(v)}};var U=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t)){return r}}return undefined};var j=function(e,t){var n=U(e,t);if(!n){return{major:0,minor:0}}var r=function(e){return Number(t.replace(n,"$"+e))};return G(r(1),r(2))};var W=function(e,t){var n=String(t).toLowerCase();if(e.length===0){return q()}return j(e,n)};var q=function(){return G(0,0)};var G=function(e,t){return{major:e,minor:t}};var $={nu:G,detect:W,unknown:q};var K=function(e,t){return L(t.brands,(function(t){var n=t.brand.toLowerCase();return A(e,(function(e){var t;return n===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:$.nu(parseInt(t.version,10),0)}}))}))};var X=function(e,t){var n=String(t).toLowerCase();return A(e,(function(e){return e.search(n)}))};var Y=function(e,t){return X(e,t).map((function(e){var n=$.detect(e.versionRegexes,t);return{current:e.name,version:n}}))};var J=function(e,t){return X(e,t).map((function(e){var n=$.detect(e.versionRegexes,t);return{current:e.name,version:n}}))};var Q=function(e,t){return e.indexOf(t)!==-1};var Z=function(e){return function(t){return t.replace(e,"")}};var ee=Z(/^\s+|\s+$/g);var te=function(e){return e.length>0};var ne=function(e){return!te(e)};var re=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;var oe=function(e){return function(t){return Q(t,e)}};var ae=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Q(e,"edge/")&&Q(e,"chrome")&&Q(e,"safari")&&Q(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,re],search:function(e){return Q(e,"chrome")&&!Q(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Q(e,"msie")||Q(e,"trident")}},{name:"Opera",versionRegexes:[re,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:oe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:oe("firefox")},{name:"Safari",versionRegexes:[re,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Q(e,"safari")||Q(e,"mobile/"))&&Q(e,"applewebkit")}}];var ie=[{name:"Windows",search:oe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Q(e,"iphone")||Q(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:oe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:oe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:oe("linux"),versionRegexes:[]},{name:"Solaris",search:oe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:oe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:oe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];var ue={browsers:l(ae),oses:l(ie)};var ce="Edge";var fe="Chrome";var se="IE";var le="Opera";var ve="Firefox";var de="Safari";var me=function(){return ge({current:undefined,version:$.unknown()})};var ge=function(e){var t=e.current;var n=e.version;var r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(ce),isChrome:r(fe),isIE:r(se),isOpera:r(le),isFirefox:r(ve),isSafari:r(de)}};var he={unknown:me,nu:ge,edge:l(ce),chrome:l(fe),ie:l(se),opera:l(le),firefox:l(ve),safari:l(de)};var pe="Windows";var be="iOS";var ye="Android";var we="Linux";var xe="OSX";var Ce="Solaris";var Se="FreeBSD";var ke="ChromeOS";var Te=function(){return Oe({current:undefined,version:$.unknown()})};var Oe=function(e){var t=e.current;var n=e.version;var r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(pe),isiOS:r(be),isAndroid:r(ye),isOSX:r(xe),isLinux:r(we),isSolaris:r(Ce),isFreeBSD:r(Se),isChromeOS:r(ke)}};var _e={unknown:Te,nu:Oe,windows:l(pe),ios:l(be),android:l(ye),linux:l(we),osx:l(xe),solaris:l(Ce),freebsd:l(Se),chromeos:l(ke)};var Ee=function(e,t,n){var r=ue.browsers();var o=ue.oses();var a=t.bind((function(e){return K(r,e)})).orThunk((function(){return Y(r,e)})).fold(he.unknown,he.nu);var i=J(o,e).fold(_e.unknown,_e.nu);var u=V(i,a,e,n);return{browser:a,os:i,deviceType:u}};var De={detect:Ee};var Ae=function(e){return window.matchMedia(e).matches};var Ne=F((function(){return De.detect(navigator.userAgent,x.from(navigator.userAgentData),Ae)}));var Me=function(){return Ne()};var Re=function(e,t,n){return(e.compareDocumentPosition(t)&n)!==0};var ze=function(e,t){return Re(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)};var Be=1;var Pe=function(e,t){var n=t||document;var r=n.createElement("div");r.innerHTML=e;if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",e);throw new Error("HTML must have a single root node")}return Ie(r.childNodes[0])};var Le=function(e,t){var n=t||document;var r=n.createElement(e);return Ie(r)};var He=function(e,t){var n=t||document;var r=n.createTextNode(e);return Ie(r)};var Ie=function(e){if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};var Fe=function(e,t,n){return x.from(e.dom.elementFromPoint(t,n)).map(Ie)};var Ve={fromHtml:Pe,fromTag:Le,fromText:He,fromDom:Ie,fromPoint:Fe};var Ue=function(e,t){var n=e.dom;if(n.nodeType!==Be){return false}else{var r=n;if(r.matches!==undefined){return r.matches(t)}else if(r.msMatchesSelector!==undefined){return r.msMatchesSelector(t)}else if(r.webkitMatchesSelector!==undefined){return r.webkitMatchesSelector(t)}else if(r.mozMatchesSelector!==undefined){return r.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};var je=function(e,t){return e.dom===t.dom};var We=function(e,t){var n=e.dom;var r=t.dom;return n===r?false:n.contains(r)};var qe=function(e,t){return ze(e.dom,t.dom)};var Ge=function(e,t){return Me().browser.isIE()?qe(e,t):We(e,t)};var $e=Ue;var Ke=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils");var Xe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");var Ye=tinymce.util.Tools.resolve("tinymce.util.VK");var Je=Object.keys;var Qe=function(e,t){var n=Je(e);for(var r=0,o=n.length;r<o;r++){var a=n[r];var i=e[a];t(i,a)}};var Ze=function(e){return function(t,n){e[n]=t}};var et=function(e,t,n,r){var o={};Qe(e,(function(e,o){(t(e,o)?n:r)(e,o)}));return o};var tt=function(e,t){var n={};et(e,t,Ze(n),s);return n};typeof window!=="undefined"?window:Function("return this;")();var nt=function(e){var t=e.dom.nodeName;return t.toLowerCase()};var rt=function(e){return e.dom.nodeType};var ot=function(e){return function(t){return rt(t)===e}};var at=ot(Be);var it=function(e){return function(t){return at(t)&&nt(t)===e}};var ut=function(e,t,n){if(o(n)||u(n)||f(n)){e.setAttribute(t,n+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e);throw new Error("Attribute value was not simple")}};var ct=function(e,t){var n=e.dom;Qe(t,(function(e,t){ut(n,t,e)}))};var ft=function(e){return E(e.dom.attributes,(function(e,t){e[t.name]=t.value;return e}),{})};var st=function(e){return x.from(e.dom.parentNode).map(Ve.fromDom)};var lt=function(e){return k(e.dom.childNodes,Ve.fromDom)};var vt=function(e,t){var n=e.dom.childNodes;return x.from(n[t]).map(Ve.fromDom)};var dt=function(e){return vt(e,0)};var mt=function(e){return vt(e,e.dom.childNodes.length-1)};var gt=function(e,t){var n=st(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))};var ht=function(e,t){e.dom.appendChild(t.dom)};var pt=function(e,t){T(t,(function(t){gt(e,t)}))};var bt=function(e,t){T(t,(function(t){ht(e,t)}))};var yt=function(e){var t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};var wt=function(e,t){return Ve.fromDom(e.dom.cloneNode(t))};var xt=function(e){return wt(e,true)};var Ct=function(e,t){var n=Ve.fromTag(t);var r=ft(e);ct(n,r);return n};var St=function(e,t){var n=Ct(e,t);gt(e,n);var r=lt(e);bt(n,r);yt(e);return n};var kt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var Tt=tinymce.util.Tools.resolve("tinymce.util.Tools");var Ot=function(e){return function(t){return t&&t.nodeName.toLowerCase()===e}};var _t=function(e){return function(t){return t&&e.test(t.nodeName)}};var Et=function(e){return e&&e.nodeType===3};var Dt=_t(/^(OL|UL|DL)$/);var At=_t(/^(OL|UL)$/);var Nt=Ot("ol");var Mt=_t(/^(LI|DT|DD)$/);var Rt=_t(/^(DT|DD)$/);var zt=_t(/^(TH|TD)$/);var Bt=Ot("br");var Pt=function(e){return e.parentNode.firstChild===e};var Lt=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]};var Ht=function(e,t){return e&&e.nodeName in t};var It=function(e,t){if(!Bt(t)){return false}return e.isBlock(t.nextSibling)&&!Bt(t.previousSibling)};var Ft=function(e,t,n){var r=e.isEmpty(t);if(n&&e.select("span[data-mce-type=bookmark]",t).length>0){return false}return r};var Vt=function(e,t){return e.isChildOf(t,e.getRoot())};var Ut=function(e){return e.getParam("lists_indent_on_tab",true)};var jt=function(e){var t=e.getParam("forced_root_block","p");if(t===false){return""}else if(t===true){return"p"}else{return t}};var Wt=function(e){return e.getParam("forced_root_block_attrs",{})};var qt=function(e,t){var n=e.dom;var r=e.schema.getBlockElements();var o=n.createFragment();var a=jt(e);var i,u,c;if(a){u=n.create(a);if(u.tagName===a.toUpperCase()){n.setAttribs(u,Wt(e))}if(!Ht(t.firstChild,r)){o.appendChild(u)}}if(t){while(i=t.firstChild){var f=i.nodeName;if(!c&&(f!=="SPAN"||i.getAttribute("data-mce-type")!=="bookmark")){c=true}if(Ht(i,r)){o.appendChild(i);u=null}else{if(a){if(!u){u=n.create(a);o.appendChild(u)}u.appendChild(i)}else{o.appendChild(i)}}}}if(!a){o.appendChild(n.create("br"))}else{if(!c){u.appendChild(n.create("br",{"data-mce-bogus":"1"}))}}return o};var Gt=kt.DOM;var $t=function(e,t,n){var r=function(e){Tt.each(o,(function(t){e.parentNode.insertBefore(t,n.parentNode)}));Gt.remove(e)};var o=Gt.select('span[data-mce-type="bookmark"]',t);var a=qt(e,n);var i=Gt.createRng();i.setStartAfter(n);i.setEndAfter(t);var u=i.extractContents();for(var c=u.firstChild;c;c=c.firstChild){if(c.nodeName==="LI"&&e.dom.isEmpty(c)){Gt.remove(c);break}}if(!e.dom.isEmpty(u)){Gt.insertAfter(u,t)}Gt.insertAfter(a,t);if(Ft(e.dom,n.parentNode)){r(n.parentNode)}Gt.remove(n);if(Ft(e.dom,t)){Gt.remove(t)}};var Kt=it("dd");var Xt=it("dt");var Yt=function(e,t){if(Kt(t)){St(t,"dt")}else if(Xt(t)){st(t).each((function(n){return $t(e,n.dom,t.dom)}))}};var Jt=function(e){if(Xt(e)){St(e,"dd")}};var Qt=function(e,t,n){if(t==="Indent"){T(n,Jt)}else{T(n,(function(t){return Yt(e,t)}))}};var Zt=function(e,t){if(Et(e)){return{container:e,offset:t}}var n=Ke.getNode(e,t);if(Et(n)){return{container:n,offset:t>=e.childNodes.length?n.data.length:0}}else if(n.previousSibling&&Et(n.previousSibling)){return{container:n.previousSibling,offset:n.previousSibling.data.length}}else if(n.nextSibling&&Et(n.nextSibling)){return{container:n.nextSibling,offset:0}}return{container:e,offset:t}};var en=function(e){var t=e.cloneRange();var n=Zt(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=Zt(e.endContainer,e.endOffset);t.setEnd(r.container,r.offset);return t};var tn=tinymce.util.Tools.resolve("tinymce.dom.DomQuery");var nn=function(e,t){var n=t||e.selection.getStart(true);return e.dom.getParent(n,"OL,UL,DL",sn(e,n))};var rn=function(e,t){return e&&t.length===1&&t[0]===e};var on=function(e){return O(e.querySelectorAll("ol,ul,dl"),Dt)};var an=function(e){var t=nn(e);var n=e.selection.getSelectedBlocks();if(rn(t,n)){return on(t)}else{return O(n,(function(e){return Dt(e)&&t!==e}))}};var un=function(e,t){var n=Tt.map(t,(function(t){var n=e.dom.getParent(t,"li,dd,dt",sn(e,t));return n?n:t}));return tn.unique(n)};var cn=function(e){var t=e.selection.getSelectedBlocks();return O(un(e,t),Mt)};var fn=function(e){return O(cn(e),Rt)};var sn=function(e,t){var n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()};var ln=function(e,t){var n=e.dom.getParents(t,"ol,ul",sn(e,t));return P(n)};var vn=function(e){var t=ln(e,e.selection.getStart());var n=O(e.selection.getSelectedBlocks(),At);return t.toArray().concat(n)};var dn=function(e){var t=vn(e);return mn(e,t)};var mn=function(e,t){var n=k(t,(function(t){return ln(e,t).getOr(t)}));return tn.unique(n)};var gn=function(e,t,n){if(n===void 0){n=d}return e.exists((function(e){return n(e,t)}))};var hn=function(e,t,n){return e.isSome()&&t.isSome()?x.some(n(e.getOrDie(),t.getOrDie())):x.none()};var pn=function(e,t){var n=t||document;var r=n.createDocumentFragment();T(e,(function(e){r.appendChild(e.dom)}));return Ve.fromDom(r)};var bn=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})};var yn=function(e){return e.style!==undefined&&c(e.style.getPropertyValue)};var wn=function(e,t,n){if(!o(n)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e);throw new Error("CSS value must be a string: "+n)}if(yn(e)){e.style.setProperty(t,n)}};var xn=function(e,t,n){var r=e.dom;wn(r,t,n)};var Cn=function(e,t){ht(e.item,t.list)};var Sn=function(e){for(var t=1;t<e.length;t++){Cn(e[t-1],e[t])}};var kn=function(e,t){hn(P(e),B(t),Cn)};var Tn=function(e,t){var n={list:Ve.fromTag(t,e),item:Ve.fromTag("li",e)};ht(n.list,n.item);return n};var On=function(e,t,n){var r=[];for(var o=0;o<n;o++){r.push(Tn(e,t.listType))}return r};var _n=function(e,t){for(var n=0;n<e.length-1;n++){xn(e[n].item,"list-style-type","none")}P(e).each((function(e){ct(e.list,t.listAttributes);ct(e.item,t.itemAttributes);bt(e.item,t.content)}))};var En=function(e,t){if(nt(e.list)!==t.listType){e.list=St(e.list,t.listType)}ct(e.list,t.listAttributes)};var Dn=function(e,t,n){var r=Ve.fromTag("li",e);ct(r,t);bt(r,n);return r};var An=function(e,t){ht(e.list,t);e.item=t};var Nn=function(e,t,n){var r=t.slice(0,n.depth);P(r).each((function(t){var r=Dn(e,n.itemAttributes,n.content);An(t,r);En(t,n)}));return r};var Mn=function(e,t,n){var r=On(e,n,n.depth-t.length);Sn(r);_n(r,n);kn(t,r);return t.concat(r)};var Rn=function(e,t){var n=E(t,(function(t,n){return n.depth>t.length?Mn(e,t,n):Nn(e,t,n)}),[]);return B(n).map((function(e){return e.list}))};var zn=function(e){return $e(e,"OL,UL")};var Bn=function(e){return dt(e).exists(zn)};var Pn=function(e){return mt(e).exists(zn)};var Ln=function(e){return e.depth>0};var Hn=function(e){return e.isSelected};var In=function(e){var t=lt(e);var n=Pn(e)?t.slice(0,-1):t;return k(n,xt)};var Fn=function(e,t,n){return st(e).filter(at).map((function(r){return{depth:t,dirty:false,isSelected:n,content:In(e),itemAttributes:ft(e),listAttributes:ft(r),listType:nt(r)}}))};var Vn=function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=true};var Un=function(e,t){e.listType=t.listType;e.listAttributes=H({},t.listAttributes)};var jn=function(e){e.listAttributes=tt(e.listAttributes,(function(e,t){return t!=="start"}))};var Wn=function(e,t){var n=e[t].depth;var r=function(e){return e.depth===n&&!e.dirty};var o=function(e){return e.depth<n};return D(R(e.slice(0,t)),r,o).orThunk((function(){return D(e.slice(t+1),r,o)}))};var qn=function(e){T(e,(function(t,n){Wn(e,n).fold((function(){if(t.dirty){jn(t)}}),(function(e){return Un(t,e)}))}));return e};var Gn=function(e){var t=e;var n=function(){return t};var r=function(e){t=e};return{get:n,set:r}};var $n=function(e,t,n,r){return dt(r).filter(zn).fold((function(){t.each((function(e){if(je(e.start,r)){n.set(true)}}));var o=Fn(r,e,n.get());t.each((function(e){if(je(e.end,r)){n.set(false)}}));var a=mt(r).filter(zn).map((function(r){return Kn(e,t,n,r)})).getOr([]);return o.toArray().concat(a)}),(function(r){return Kn(e,t,n,r)}))};var Kn=function(e,t,n,r){return M(lt(r),(function(r){var o=zn(r)?Kn:$n;var a=e+1;return o(a,t,n,r)}))};var Xn=function(e,t){var n=Gn(false);var r=0;return k(e,(function(e){return{sourceList:e,entries:Kn(r,t,n,e)}}))};var Yn=function(e,t){var n=qn(t);return k(n,(function(t){var n=pn(t.content);return Ve.fromDom(qt(e,n.dom))}))};var Jn=function(e,t){var n=qn(t);return Rn(e.contentDocument,n).toArray()};var Qn=function(e,t){return M(_(t,Ln),(function(t){var n=B(t).exists(Ln);return n?Jn(e,t):Yn(e,t)}))};var Zn=function(e,t){T(O(e,Hn),(function(e){return Vn(t,e)}))};var er=function(e){var t=k(cn(e),Ve.fromDom);return hn(A(t,m(Bn)),A(R(t),m(Bn)),(function(e,t){return{start:e,end:t}}))};var tr=function(e,t,n){var r=Xn(t,er(e));T(r,(function(t){Zn(t.entries,n);var r=Qn(e,t.entries);T(r,(function(t){bn(e,n==="Indent"?"IndentList":"OutdentList",t.dom)}));pt(t.sourceList,r);yt(t.sourceList)}))};var nr=function(e,t){var n=k(dn(e),Ve.fromDom);var r=k(fn(e),Ve.fromDom);var o=false;if(n.length||r.length){var a=e.selection.getBookmark();tr(e,n,t);Qt(e,t,r);e.selection.moveToBookmark(a);e.selection.setRng(en(e.selection.getRng()));e.nodeChanged();o=true}return o};var rr=function(e){return nr(e,"Indent")};var or=function(e){return nr(e,"Outdent")};var ar=function(e){return nr(e,"Flatten")};var ir=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");var ur=kt.DOM;var cr=function(e){var t={};var n=function(n){var r=e[n?"startContainer":"endContainer"];var o=e[n?"startOffset":"endOffset"];if(r.nodeType===1){var a=ur.create("span",{"data-mce-type":"bookmark"});if(r.hasChildNodes()){o=Math.min(o,r.childNodes.length-1);if(n){r.insertBefore(a,r.childNodes[o])}else{ur.insertAfter(a,r.childNodes[o])}}else{r.appendChild(a)}r=a;o=0}t[n?"startContainer":"endContainer"]=r;t[n?"startOffset":"endOffset"]=o};n(true);if(!e.collapsed){n()}return t};var fr=function(e){var t=function(t){var n;var r=function(e){var t=e.parentNode.firstChild,n=0;while(t){if(t===e){return n}if(t.nodeType!==1||t.getAttribute("data-mce-type")!=="bookmark"){n++}t=t.nextSibling}return-1};var o=n=e[t?"startContainer":"endContainer"];var a=e[t?"startOffset":"endOffset"];if(!o){return}if(o.nodeType===1){a=r(o);o=o.parentNode;ur.remove(n);if(!o.hasChildNodes()&&ur.isBlock(o)){o.appendChild(ur.create("br"))}}e[t?"startContainer":"endContainer"]=o;e[t?"startOffset":"endOffset"]=a};t(true);t();var n=ur.createRng();n.setStart(e.startContainer,e.startOffset);if(e.endContainer){n.setEnd(e.endContainer,e.endOffset)}return en(n)};var sr=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}};var lr=function(e){return/\btox\-/.test(e.className)};var vr=function(e,t,n){var r=function(e){var r=D(e.parents,Dt,zt).filter((function(e){return e.nodeName===t&&!lr(e)})).isSome();n(r)};var o=e.dom.getParents(e.selection.getNode());r({parents:o});e.on("NodeChange",r);return function(){return e.off("NodeChange",r)}};var dr=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)};var mr=function(e,t){Tt.each(t,(function(t,n){e.setAttribute(n,t)}))};var gr=function(e,t,n){mr(t,n["list-attributes"]);Tt.each(e.select("li",t),(function(e){mr(e,n["list-item-attributes"])}))};var hr=function(e,t,n){dr(e,t,n);gr(e,t,n)};var pr=function(e,t,n){Tt.each(n,(function(n){var r;return e.setStyle(t,(r={},r[n]="",r))}))};var br=function(e,t,n,r){var o=t[n?"startContainer":"endContainer"];var a=t[n?"startOffset":"endOffset"];if(o.nodeType===1){o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o}if(!n&&Bt(o.nextSibling)){o=o.nextSibling}while(o.parentNode!==r){if(Lt(e,o)){return o}if(/^(TD|TH)$/.test(o.parentNode.nodeName)){return o}o=o.parentNode}return o};var yr=function(e,t,n){var r=[];var o=e.dom;var a=br(e,t,true,n);var i=br(e,t,false,n);var u;var c=[];for(var f=a;f;f=f.nextSibling){c.push(f);if(f===i){break}}Tt.each(c,(function(t){if(Lt(e,t)){r.push(t);u=null;return}if(o.isBlock(t)||Bt(t)){if(Bt(t)){o.remove(t)}u=null;return}var a=t.nextSibling;if(ir.isBookmarkNode(t)){if(Dt(a)||Lt(e,a)||!a&&t.parentNode===n){u=null;return}}if(!u){u=o.create("p");t.parentNode.insertBefore(u,t);r.push(u)}u.appendChild(t)}));return r};var wr=function(e,t,n){var r=e.getStyle(t,"list-style-type");var o=n?n["list-style-type"]:"";o=o===null?"":o;return r===o};var xr=function(e,t,n){var r=e.selection.getRng();var o="LI";var a=sn(e,e.selection.getStart(true));var i=e.dom;if(i.getContentEditable(e.selection.getNode())==="false"){return}t=t.toUpperCase();if(t==="DL"){o="DT"}var u=cr(r);var c=yr(e,r,a);Tt.each(c,(function(r){var a;var u=r.previousSibling;var c=r.parentNode;if(!Mt(c)){if(u&&Dt(u)&&u.nodeName===t&&wr(i,u,n)){a=u;r=i.rename(r,o);u.appendChild(r)}else{a=i.create(t);r.parentNode.insertBefore(a,r);a.appendChild(r);r=i.rename(r,o)}pr(i,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]);hr(i,a,n);Or(e.dom,a)}}));e.selection.setRng(fr(u))};var Cr=function(e,t){return e&&t&&Dt(e)&&e.nodeName===t.nodeName};var Sr=function(e,t,n){var r=e.getStyle(t,"list-style-type",true);var o=e.getStyle(n,"list-style-type",true);return r===o};var kr=function(e,t){return e.className===t.className};var Tr=function(e,t,n){return Cr(t,n)&&Sr(e,t,n)&&kr(t,n)};var Or=function(e,t){var n,r;n=t.nextSibling;if(Tr(e,t,n)){while(r=n.firstChild){t.appendChild(r)}e.remove(n)}n=t.previousSibling;if(Tr(e,t,n)){while(r=n.lastChild){t.insertBefore(r,t.firstChild)}e.remove(n)}};var _r=function(e,t,n,r){if(t.nodeName!==n){var o=e.dom.rename(t,n);hr(e.dom,o,r);bn(e,sr(n),o)}else{hr(e.dom,t,r);bn(e,sr(n),t)}};var Er=function(e,t,n,r,o){var a=Dt(t);if(a&&t.nodeName===r&&!Dr(o)){ar(e)}else{xr(e,r,o);var i=cr(e.selection.getRng());var u=a?I([t],n,true):n;Tt.each(u,(function(t){_r(e,t,r,o)}));e.selection.setRng(fr(i))}};var Dr=function(e){return"list-style-type"in e};var Ar=function(e,t,n,r){if(t===e.getBody()){return}if(t){if(t.nodeName===n&&!Dr(r)&&!lr(t)){ar(e)}else{var o=cr(e.selection.getRng());hr(e.dom,t,r);var a=e.dom.rename(t,n);Or(e.dom,a);e.selection.setRng(fr(o));xr(e,n,r);bn(e,sr(n),a)}}else{xr(e,n,r);bn(e,sr(n),t)}};var Nr=function(e,t,n){var r=nn(e);var o=an(e);var i=a(n)?n:{};if(o.length>0){Er(e,r,o,t,i)}else{Ar(e,r,t,i)}};var Mr=kt.DOM;var Rr=function(e,t){var n=t.parentNode;if(n.nodeName==="LI"&&n.firstChild===t){var r=n.previousSibling;if(r&&r.nodeName==="LI"){r.appendChild(t);if(Ft(e,n)){Mr.remove(n)}}else{Mr.setStyle(n,"listStyleType","none")}}if(Dt(n)){var r=n.previousSibling;if(r&&r.nodeName==="LI"){r.appendChild(t)}}};var zr=function(e,t){var n=Tt.grep(e.select("ol,ul",t));Tt.each(n,(function(t){Rr(e,t)}))};var Br=function(e,t,n,r){var o=t.startContainer;var a=t.startOffset;if(Et(o)&&(n?a<o.data.length:a>0)){return o}var i=e.schema.getNonEmptyElements();if(o.nodeType===1){o=Ke.getNode(o,a)}var u=new Xe(o,r);if(n){if(It(e.dom,o)){u.next()}}while(o=u[n?"next":"prev2"]()){if(o.nodeName==="LI"&&!o.hasChildNodes()){return o}if(i[o.nodeName]){return o}if(Et(o)&&o.data.length>0){return o}}};var Pr=function(e,t){var n=t.childNodes;return n.length===1&&!Dt(n[0])&&e.isBlock(n[0])};var Lr=function(e,t){if(Pr(e,t)){e.remove(t.firstChild,true)}};var Hr=function(e,t,n){var r;var o=Pr(e,n)?n.firstChild:n;Lr(e,t);if(!Ft(e,t,true)){while(r=t.firstChild){o.appendChild(r)}}};var Ir=function(e,t,n){var r;var o=t.parentNode;if(!Vt(e,t)||!Vt(e,n)){return}if(Dt(n.lastChild)){r=n.lastChild}if(o===n.lastChild){if(Bt(o.previousSibling)){e.remove(o.previousSibling)}}var a=n.lastChild;if(a&&Bt(a)&&t.hasChildNodes()){e.remove(a)}if(Ft(e,n,true)){e.$(n).empty()}Hr(e,t,n);if(r){n.appendChild(r)}var i=Ge(Ve.fromDom(n),Ve.fromDom(t));var u=i?e.getParents(t,Dt,n):[];e.remove(t);T(u,(function(t){if(Ft(e,t)&&t!==e.getRoot()){e.remove(t)}}))};var Fr=function(e,t,n){e.dom.$(n).empty();Ir(e.dom,t,n);e.selection.setCursorLocation(n,0)};var Vr=function(e,t,n,r){var o=e.dom;if(o.isEmpty(r)){Fr(e,n,r)}else{var a=cr(t);Ir(o,n,r);e.selection.setRng(fr(a))}};var Ur=function(e,t,n,r){var o=cr(t);Ir(e.dom,n,r);var a=fr(o);e.selection.setRng(a)};var jr=function(e,t){var n=e.dom,r=e.selection;var o=r.getStart();var a=sn(e,o);var i=n.getParent(r.getStart(),"LI",a);if(i){var u=i.parentNode;if(u===e.getBody()&&Ft(n,u)){return true}var c=en(r.getRng());var f=n.getParent(Br(e,c,t,a),"LI",a);if(f&&f!==i){e.undoManager.transact((function(){if(t){Vr(e,c,f,i)}else{if(Pt(i)){or(e)}else{Ur(e,c,i,f)}}}));return true}else if(!f){if(!t&&c.startOffset===0&&c.endOffset===0){e.undoManager.transact((function(){ar(e)}));return true}}}return false};var Wr=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t);if(r&&e.isEmpty(r)){e.remove(r)}};var qr=function(e,t){var n=e.dom;var r=e.selection.getStart();var o=sn(e,r);var a=n.getParent(r,n.isBlock,o);if(a&&n.isEmpty(a)){var i=en(e.selection.getRng());var u=n.getParent(Br(e,i,t,o),"LI",o);if(u){e.undoManager.transact((function(){Wr(n,a,o);Or(n,u.parentNode);e.selection.select(u,true);e.selection.collapse(t)}));return true}}return false};var Gr=function(e,t){return jr(e,t)||qr(e,t)};var $r=function(e){var t=e.selection.getStart();var n=sn(e,t);var r=e.dom.getParent(t,"LI,DT,DD",n);if(r||cn(e).length>0){e.undoManager.transact((function(){e.execCommand("Delete");zr(e.dom,e.getBody())}));return true}return false};var Kr=function(e,t){return e.selection.isCollapsed()?Gr(e,t):$r(e)};var Xr=function(e){e.on("keydown",(function(t){if(t.keyCode===Ye.BACKSPACE){if(Kr(e,false)){t.preventDefault()}}else if(t.keyCode===Ye.DELETE){if(Kr(e,true)){t.preventDefault()}}}))};var Yr=function(e){return{backspaceDelete:function(t){Kr(e,t)}}};var Jr=function(e,t){var n=nn(e);e.undoManager.transact((function(){if(a(t.styles)){e.dom.setStyles(n,t.styles)}if(a(t.attrs)){Qe(t.attrs,(function(t,r){return e.dom.setAttrib(n,r,t)}))}}))};var Qr=function(e){var t=R(ee(e).split(""));var n=k(t,(function(e,t){var n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return E(n,(function(e,t){return e+t}),0)};var Zr=function(e){e--;if(e<0){return""}else{var t=e%26;var n=Math.floor(e/26);var r=Zr(n);var o=String.fromCharCode("A".charCodeAt(0)+t);return r+o}};var eo=function(e){return/^[A-Z]+$/.test(e)};var to=function(e){return/^[a-z]+$/.test(e)};var no=function(e){return/^[0-9]+$/.test(e)};var ro=function(e){if(no(e)){return 2}else if(eo(e)){return 0}else if(to(e)){return 1}else if(ne(e)){return 3}else{return 4}};var oo=function(e){switch(ro(e)){case 2:return x.some({listStyleType:x.none(),start:e});case 0:return x.some({listStyleType:x.some("upper-alpha"),start:Qr(e).toString()});case 1:return x.some({listStyleType:x.some("lower-alpha"),start:Qr(e).toString()});case 3:return x.some({listStyleType:x.none(),start:""});case 4:return x.none()}};var ao=function(e){var t=parseInt(e.start,10);if(gn(e.listStyleType,"upper-alpha")){return Zr(t)}else if(gn(e.listStyleType,"lower-alpha")){return Zr(t).toLowerCase()}else{return e.start}};var io=function(e){var t=nn(e);if(!Nt(t)){return}e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:ao({start:e.dom.getAttrib(t,"start","1"),listStyleType:x.some(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],onSubmit:function(t){var n=t.getData();oo(n.start).each((function(t){e.execCommand("mceListUpdate",false,{attrs:{start:t.start==="1"?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})}));t.close()}})};var uo=function(e,t){return function(){var n=nn(e);return n&&n.nodeName===t}};var co=function(e){e.addCommand("mceListProps",(function(){io(e)}))};var fo=function(e){e.on("BeforeExecCommand",(function(t){var n=t.command.toLowerCase();if(n==="indent"){rr(e)}else if(n==="outdent"){or(e)}}));e.addCommand("InsertUnorderedList",(function(t,n){Nr(e,"UL",n)}));e.addCommand("InsertOrderedList",(function(t,n){Nr(e,"OL",n)}));e.addCommand("InsertDefinitionList",(function(t,n){Nr(e,"DL",n)}));e.addCommand("RemoveList",(function(){ar(e)}));co(e);e.addCommand("mceListUpdate",(function(t,n){if(a(n)){Jr(e,n)}}));e.addQueryStateHandler("InsertUnorderedList",uo(e,"UL"));e.addQueryStateHandler("InsertOrderedList",uo(e,"OL"));e.addQueryStateHandler("InsertDefinitionList",uo(e,"DL"))};var so=function(e){e.on("keydown",(function(t){if(t.keyCode!==Ye.TAB||Ye.metaKeyPressed(t)){return}e.undoManager.transact((function(){if(t.shiftKey?or(e):rr(e)){t.preventDefault()}}))}))};var lo=function(e){if(Ut(e)){so(e)}Xr(e)};var vo=function(e){var t=function(t){return function(){return e.execCommand(t)}};if(!e.hasPlugin("advlist")){e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:false,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:function(t){return vr(e,"OL",t.setActive)}});e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:false,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:function(t){return vr(e,"UL",t.setActive)}})}};var mo=function(e){var t={text:"List properties...",icon:"ordered-list",onAction:function(){return e.execCommand("mceListProps")},onSetup:function(t){return vr(e,"OL",(function(e){return t.setDisabled(!e)}))}};e.ui.registry.addMenuItem("listprops",t);e.ui.registry.addContextMenu("lists",{update:function(t){var n=nn(e,t);return Nt(n)?["listprops"]:[]}})};function go(){e.add("lists",(function(e){if(e.hasPlugin("rtc",true)===false){lo(e);fo(e)}else{co(e)}vo(e);mo(e);return Yr(e)}))}go()})()},577:(e,t,n)=>{n(578)},578:()=>{(function(){"use strict";var e=function(e){var t=e;var n=function(){return t};var r=function(e){t=e};return{get:n,set:r}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");var n=function(e){if(e.hasPlugin("powerpaste",true)){if(typeof window.console!=="undefined"&&window.console.log){window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")}return true}else{return false}};var r=function(e){return{clipboard:e}};var o=function(e){var t=typeof e;if(e===null){return"null"}else if(t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")){return"array"}else if(t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")){return"string"}else{return t}};var a=function(e){return function(t){return o(t)===e}};var i=function(e){return function(t){return typeof t===e}};var u=a("array");var c=function(e){return e===null||e===undefined};var f=function(e){return!c(e)};var s=i("function");var l=function(){};var v=function(e){return function(){return e}};var d=function(e){return e};var m=v(false);var g=v(true);var h=function(){return p};var p=function(){var e=function(e){return e()};var t=d;var n={fold:function(e,t){return e()},isSome:m,isNone:g,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:v(null),getOrUndefined:v(undefined),or:t,orThunk:e,map:h,each:l,bind:h,exists:m,forall:g,filter:function(){return h()},toArray:function(){return[]},toString:v("none()")};return n}();var b=function(e){var t=v(e);var n=function(){return o};var r=function(t){return t(e)};var o={fold:function(t,n){return n(e)},isSome:g,isNone:m,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return b(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:p},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o};var y=function(e){return e===null||e===undefined?p:b(e)};var w={some:b,none:h,from:y};var x=Array.prototype.slice;var C=Array.prototype.push;var S=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n)){return true}}return false};var k=function(e,t){var n=e.length;var r=new Array(n);for(var o=0;o<n;o++){var a=e[o];r[o]=t(a,o)}return r};var T=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}};var O=function(e,t){var n=[];for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t(a,r)){n.push(a)}}return n};var _=function(e,t,n){T(e,(function(e,r){n=t(n,e,r)}));return n};var E=function(e){var t=[];for(var n=0,r=e.length;n<r;++n){if(!u(e[n])){throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)}C.apply(t,e[n])}return t};var D=function(e,t){return E(k(e,t))};var A=s(Array.from)?Array.from:function(e){return x.call(e)};var N=function(){N=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))t[a]=n[a]}return t};return N.apply(this,arguments)};var M=function(t){var n=e(w.none());var r=function(){return n.get().each(t)};var o=function(){r();n.set(w.none())};var a=function(){return n.get().isSome()};var i=function(){return n.get()};var u=function(e){r();n.set(w.some(e))};return{clear:o,isSet:a,get:i,set:u}};var R=function(){var e=M(l);var t=function(t){return e.get().each(t)};return N(N({},e),{on:t})};var z=function(e,t,n){return t===""||e.length>=t.length&&e.substr(n,n+t.length)===t};var B=function(e,t){return z(e,t,0)};var P=function(e,t){return z(e,t,e.length-t.length)};var L=function(e,t){return t<=0?"":new Array(t+1).join(e)};var H=tinymce.util.Tools.resolve("tinymce.Env");var I=tinymce.util.Tools.resolve("tinymce.util.Delay");var F=tinymce.util.Tools.resolve("tinymce.util.Promise");var V=tinymce.util.Tools.resolve("tinymce.util.VK");var U=function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})};var j=function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})};var W=function(e,t){return e.fire("PastePlainTextToggle",{state:t})};var q=function(e,t){return e.fire("paste",{ieFake:t})};var G=tinymce.util.Tools.resolve("tinymce.util.Tools");var $=function(e){return e.getParam("paste_block_drop",false)};var K=function(e){return e.getParam("paste_data_images",false)};var X=function(e){return e.getParam("paste_filter_drop",true)};var Y=function(e){return e.getParam("paste_preprocess")};var J=function(e){return e.getParam("paste_postprocess")};var Q=function(e){return e.getParam("paste_webkit_styles")};var Z=function(e){return e.getParam("paste_remove_styles_if_webkit",true)};var ee=function(e){return e.getParam("paste_merge_formats",true)};var te=function(e){return e.getParam("smart_paste",true)};var ne=function(e){return e.getParam("paste_as_text",false)};var re=function(e){return e.getParam("paste_retain_style_properties")};var oe=function(e){var t="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,"+"-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,"+"td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return e.getParam("paste_word_valid_elements",t)};var ae=function(e){return e.getParam("paste_convert_word_fake_lists",true)};var ie=function(e){return e.getParam("paste_enable_default_filters",true)};var ue=function(e){return e.getParam("validate")};var ce=function(e){return e.getParam("allow_html_data_urls",false,"boolean")};var fe=function(e){return e.getParam("paste_data_images",false,"boolean")};var se=function(e){return e.getParam("images_dataimg_filter")};var le=function(e){return e.getParam("images_reuse_filename")};var ve=function(e){return e.getParam("forced_root_block")};var de=function(e){return e.getParam("forced_root_block_attrs")};var me=function(e){return e.getParam("paste_tab_spaces",4,"number")};var ge=function(e){var t="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return G.explode(e.getParam("images_file_types",t,"string"))};var he="x-tinymce/html";var pe="\x3c!-- "+he+" --\x3e";var be=function(e){return pe+e};var ye=function(e){return e.replace(pe,"")};var we=function(e){return e.indexOf(pe)!==-1};var xe=v(he);var Ce=Object.hasOwnProperty;var Se=function(e,t){return Ce.call(e,t)};var ke=tinymce.util.Tools.resolve("tinymce.html.Entities");var Te=function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)};var Oe=function(e){return e.replace(/\r?\n/g,"<br>")};var _e=function(e,t){var n=[];var r="<"+e;if(typeof t==="object"){for(var o in t){if(Se(t,o)){n.push(o+'="'+ke.encodeAllRaw(t[o])+'"')}}if(n.length){r+=" "+n.join(" ")}}return r+">"};var Ee=function(e,t,n){var r=e.split(/\n\n/);var o=_e(t,n);var a="</"+t+">";var i=G.map(r,(function(e){return e.split(/\n/).join("<br />")}));var u=function(e){return o+e+a};return i.length===1?i[0]:G.map(i,u).join("")};var De=function(e,t,n){return t?Ee(e,t===true?"p":t,n):Oe(e)};var Ae=tinymce.util.Tools.resolve("tinymce.html.DomParser");var Ne=tinymce.util.Tools.resolve("tinymce.html.Serializer");var Me="";var Re=tinymce.util.Tools.resolve("tinymce.html.Node");var ze=tinymce.util.Tools.resolve("tinymce.html.Schema");var Be=function(e){return e.constructor===RegExp};var Pe=function(e,t){G.each(t,(function(t){if(Be(t)){e=e.replace(t,"")}else{e=e.replace(t[0],t[1])}}));return e};var Le=function(e){var t=ze();var n=Ae({},t);var r="";var o=t.getShortEndedElements();var a=G.makeMap("script noscript style textarea video audio iframe object"," ");var i=t.getBlockElements();var u=function(e){var t=e.name,n=e;if(t==="br"){r+="\n";return}if(t==="wbr"){return}if(o[t]){r+=" "}if(a[t]){r+=" ";return}if(e.type===3){r+=e.value}if(!e.shortEnded){if(e=e.firstChild){do{u(e)}while(e=e.next)}}if(i[t]&&n.next){r+="\n";if(t==="p"){r+="\n"}}};e=Pe(e,[/<!\[[^\]]+\]>/g]);u(n.parse(e));return r};var He=function(e){var t=function(e,t,n){if(!t&&!n){return" "}return Me};e=Pe(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i]);return e};var Ie=function(e){var t=0;return function(){return e+t++}};var Fe=function(e){var t=e.toLowerCase();var n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return G.hasOwn(n,t)?"image/"+n[t]:"image/"+t};var Ve=function(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)};var Ue=function(e){var t=false;var n=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];e=e.replace(/^[\u00a0 ]+/,"");G.each(n,(function(n){if(n.test(e)){t=true;return false}}));return t};var je=function(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)};var We=function(e){var t,n,r=1;var o=function(e){var t="";if(e.type===3){return e.value}if(e=e.firstChild){do{t+=o(e)}while(e=e.next)}return t};var a=function(e,t){if(e.type===3){if(t.test(e.value)){e.value=e.value.replace(t,"");return false}}if(e=e.firstChild){do{if(!a(e,t)){return false}}while(e=e.next)}return true};var i=function(e){if(e._listIgnore){e.remove();return}if(e=e.firstChild){do{i(e)}while(e=e.next)}};var u=function(e,o,u){var c=e._listLevel||r;if(c!==r){if(c<r){if(t){t=t.parent.parent}}else{n=t;t=null}}if(!t||t.name!==o){n=n||t;t=new Re(o,1);if(u>1){t.attr("start",""+u)}e.wrap(t)}else{t.append(e)}e.name="li";if(c>r&&n){n.lastChild.append(t)}r=c;i(e);a(e,/^\u00a0+/);a(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/);a(e,/^\u00a0+/)};var c=[];var f=e.firstChild;while(typeof f!=="undefined"&&f!==null){c.push(f);f=f.walk();if(f!==null){while(typeof f!=="undefined"&&f.parent!==e){f=f.walk()}}}for(var s=0;s<c.length;s++){e=c[s];if(e.name==="p"&&e.firstChild){var l=o(e);if(je(l)){u(e,"ul");continue}if(Ue(l)){var v=/([0-9]+)\./.exec(l);var d=1;if(v){d=parseInt(v[1],10)}u(e,"ol",d);continue}if(e._listLevel){u(e,"ul",1);continue}t=null}else{n=t;t=null}}};var qe=function(e,t,n,r){var o={};var a=e.dom.parseStyle(r);G.each(a,(function(a,i){switch(i){case"mso-list":var u=/\w+ \w+([0-9]+)/i.exec(r);if(u){n._listLevel=parseInt(u[1],10)}if(/Ignore/i.test(a)&&n.firstChild){n._listIgnore=true;n.firstChild._listIgnore=true}break;case"horiz-align":i="text-align";break;case"vert-align":i="vertical-align";break;case"font-color":case"mso-foreground":i="color";break;case"mso-background":case"mso-highlight":i="background";break;case"font-weight":case"font-style":if(a!=="normal"){o[i]=a}return;case"mso-element":if(/^(comment|comment-list)$/i.test(a)){n.remove();return}break}if(i.indexOf("mso-comment")===0){n.remove();return}if(i.indexOf("mso-")===0){return}if(re(e)==="all"||t&&t[i]){o[i]=a}}));if(/(bold)/i.test(o["font-weight"])){delete o["font-weight"];n.wrap(new Re("b",1))}if(/(italic)/i.test(o["font-style"])){delete o["font-style"];n.wrap(new Re("i",1))}var i=e.dom.serializeStyle(o,n.name);if(i){return i}return null};var Ge=function(e,t){var n;var r=re(e);if(r){n=G.makeMap(r.split(/[, ]/))}t=Pe(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,Me],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(Me):""}]]);var o=oe(e);var a=ze({valid_elements:o,valid_children:"-li[p]"});G.each(a.elements,(function(e){if(!e.attributes.class){e.attributes.class={};e.attributesOrder.push("class")}if(!e.attributes.style){e.attributes.style={};e.attributesOrder.push("style")}}));var i=Ae({},a);i.addAttributeFilter("style",(function(t){var r=t.length,o;while(r--){o=t[r];o.attr("style",qe(e,n,o,o.attr("style")));if(o.name==="span"&&o.parent&&!o.attributes.length){o.unwrap()}}}));i.addAttributeFilter("class",(function(e){var t=e.length,n,r;while(t--){n=e[t];r=n.attr("class");if(/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(r)){n.remove()}n.attr("class",null)}}));i.addNodeFilter("del",(function(e){var t=e.length;while(t--){e[t].remove()}}));i.addNodeFilter("a",(function(e){var t=e.length,n,r,o;while(t--){n=e[t];r=n.attr("href");o=n.attr("name");if(r&&r.indexOf("#_msocom_")!==-1){n.remove();continue}if(r&&r.indexOf("file://")===0){r=r.split("#")[1];if(r){r="#"+r}}if(!r&&!o){n.unwrap()}else{if(o&&!/^_?(?:toc|edn|ftn)/i.test(o)){n.unwrap();continue}n.attr({href:r,name:o})}}}));var u=i.parse(t);if(ae(e)){We(u)}t=Ne({validate:ue(e)},a).serialize(u);return t};var $e=function(e,t){return ie(e)?Ge(e,t):t};var Ke=function(e,t){var n=Ae({},e.schema);n.addNodeFilter("meta",(function(e){G.each(e,(function(e){e.remove()}))}));var r=n.parse(t,{forced_root_block:false,isRootContent:true});return Ne({validate:ue(e)},e.schema).serialize(r)};var Xe=function(e,t){return{content:e,cancelled:t}};var Ye=function(e,t,n,r){var o=e.dom.create("div",{style:"display:none"},t);var a=j(e,o,n,r);return Xe(a.node.innerHTML,a.isDefaultPrevented())};var Je=function(e,t,n,r){var o=U(e,t,n,r);var a=Ke(e,o.content);if(e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()){return Ye(e,a,n,r)}else{return Xe(a,o.isDefaultPrevented())}};var Qe=function(e,t,n){var r=Ve(t);var o=r?$e(e,t):t;return Je(e,o,n,r)};var Ze=function(e,t){e.insertContent(t,{merge:ee(e),paste:true});return true};var et=function(e){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e)};var tt=function(e,t){return et(t)&&S(ge(e),(function(e){return P(t.toLowerCase(),"."+e.toLowerCase())}))};var nt=function(e,t,n){e.undoManager.extra((function(){n(e,t)}),(function(){e.insertContent('<img src="'+t+'">')}));return true};var rt=function(e,t,n){e.undoManager.extra((function(){n(e,t)}),(function(){e.execCommand("mceInsertLink",false,t)}));return true};var ot=function(e,t,n){return e.selection.isCollapsed()===false&&et(t)?rt(e,t,n):false};var at=function(e,t,n){return tt(e,t)?nt(e,t,n):false};var it=function(e,t){G.each([ot,at,Ze],(function(n){return n(e,t,Ze)!==true}))};var ut=function(e,t,n){if(n||te(e)===false){Ze(e,t)}else{it(e,t)}};var ct=function(e){return" \f\t\v".indexOf(e)!==-1};var ft=function(e){return e==="\n"||e==="\r"};var st=function(e,t){return t<e.length&&t>=0?ft(e[t]):false};var lt=function(e,t){var n=L(" ",me(e));var r=t.replace(/\t/g,n);var o=_(r,(function(e,t){if(ct(t)||t===Me){if(e.pcIsSpace||e.str===""||e.str.length===r.length-1||st(r,e.str.length+1)){return{pcIsSpace:false,str:e.str+Me}}else{return{pcIsSpace:true,str:e.str+" "}}}else{return{pcIsSpace:ft(t),str:e.str+t}}}),{pcIsSpace:false,str:""});return o.str};var vt=function(e,t,n,r){var o=Qe(e,t,n);if(o.cancelled===false){ut(e,o.content,r)}};var dt=function(e,t,n){var r=n?n:we(t);vt(e,ye(t),r,false)};var mt=function(e,t){var n=e.dom.encode(t).replace(/\r\n/g,"\n");var r=lt(e,n);var o=De(r,ve(e),de(e));vt(e,o,false,true)};var gt=function(e){var t={};var n="data:text/mce-internal,";if(e){if(e.getData){var r=e.getData("Text");if(r&&r.length>0){if(r.indexOf(n)===-1){t["text/plain"]=r}}}if(e.types){for(var o=0;o<e.types.length;o++){var a=e.types[o];try{t[a]=e.getData(a)}catch(e){t[a]=""}}}}return t};var ht=function(e,t){return gt(t.clipboardData||e.getDoc().dataTransfer)};var pt=function(e,t){return t in e&&e[t].length>0};var bt=function(e){return pt(e,"text/html")||pt(e,"text/plain")};var yt=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);if(t){return{type:t[1],data:decodeURIComponent(t[2])}}else{return{type:null,data:null}}};var wt=function(e,t){var n=se(e);return n?n(t):true};var xt=function(e,t){var n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return f(n)?e.dom.encode(n[1]):null};var Ct=Ie("mceclip");var St=function(e,t){var n=yt(t.uri),r=n.data,o=n.type;var a=Ct();var i=t.blob;var u=new Image;u.src=t.uri;if(wt(e,u)){var c=e.editorUpload.blobCache;var s=void 0;var l=c.getByData(r,o);if(!l){var v=le(e)&&f(i.name);var d=v?xt(e,i.name):a;var m=v?i.name:undefined;s=c.create(a,i,r,d,m);c.add(s)}else{s=l}dt(e,'<img src="'+s.blobUri()+'">',false)}else{dt(e,'<img src="'+t.uri+'">',false)}};var kt=function(e){return e.type==="paste"};var Tt=function(e){return f(e.getAsFile)};var Ot=function(e){return F.all(k(e,(function(e){return new F((function(t){var n=Tt(e)?e.getAsFile():e;var r=new window.FileReader;r.onload=function(){t({blob:n,uri:r.result})};r.readAsDataURL(n)}))})))};var _t=function(e){var t=ge(e);return function(e){return B(e.type,"image/")&&S(t,(function(t){return Fe(t)===e.type}))}};var Et=function(e,t){var n=t.items?D(A(t.items),(function(e){return e.kind==="file"?[e.getAsFile()]:[]})):[];var r=t.files?A(t.files):[];return O(n.length>0?n:r,_t(e))};var Dt=function(e,t,n){var r=kt(t)?t.clipboardData:t.dataTransfer;if(fe(e)&&r){var o=Et(e,r);if(o.length>0){t.preventDefault();Ot(o).then((function(t){if(n){e.selection.setRng(n)}T(t,(function(t){St(e,t)}))}));return true}}return false};var At=function(e){var t=e.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&t&&t.items&&t.items.length===0};var Nt=function(e){return V.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45};var Mt=function(e,t,n){var r=R();var o=R();var a;e.on("keyup",o.clear);e.on("keydown",(function(n){var i=function(e){if(Nt(e)&&!e.isDefaultPrevented()){t.remove()}};if(Nt(n)&&!n.isDefaultPrevented()){a=n.shiftKey&&n.keyCode===86;if(a&&H.webkit&&navigator.userAgent.indexOf("Version/")!==-1){return}n.stopImmediatePropagation();r.set(n);o.set(true);if(H.ie&&a){n.preventDefault();q(e,true);return}t.remove();t.create();e.once("keyup",i);e.once("paste",(function(){e.off("keyup",i)}))}}));var i=function(e,n,r,o,a){var i;if(pt(n,"text/html")){i=n["text/html"]}else{i=t.getHtml();a=a?a:we(i);if(t.isDefaultContent(i)){o=true}}i=He(i);t.remove();var u=a===false&&Te(i);var c=et(i);if(!i.length||u&&!c){o=true}if(o||c){if(pt(n,"text/plain")&&u){i=n["text/plain"]}else{i=Le(i)}}if(t.isDefaultContent(i)){if(!r){e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")}return}if(o){mt(e,i)}else{dt(e,i,a)}};var u=function(){return t.getLastRng()||e.selection.getRng()};e.on("paste",(function(c){var f=r.isSet()||o.isSet();if(f){r.clear()}var s=ht(e,c);var l=n.get()==="text"||a;var v=pt(s,xe());a=false;if(c.isDefaultPrevented()||At(c)){t.remove();return}if(!bt(s)&&Dt(e,c,u())){t.remove();return}if(!f){c.preventDefault()}if(H.ie&&(!f||c.ieFake)&&!pt(s,"text/html")){t.create();e.dom.bind(t.getEl(),"paste",(function(e){e.stopPropagation()}));e.getDoc().execCommand("Paste",false,null);s["text/html"]=t.getHtml()}if(pt(s,"text/html")){c.preventDefault();if(!v){v=we(s["text/html"])}i(e,s,f,l,v)}else{I.setEditorTimeout(e,(function(){i(e,s,f,l,v)}),0)}}))};var Rt=function(e,t,n){Mt(e,t,n);var r;e.parser.addNodeFilter("img",(function(t,n,o){var a=function(e){return e.data&&e.data.paste===true};var i=function(e){if(!e.attr("data-mce-object")&&r!==H.transparentSrc){e.remove()}};var u=function(e){return e.indexOf("webkit-fake-url")===0};var c=function(e){return e.indexOf("data:")===0};if(!fe(e)&&a(o)){var f=t.length;while(f--){r=t[f].attr("src");if(!r){continue}if(u(r)){i(t[f])}else if(!ce(e)&&c(r)){i(t[f])}}}}))};var zt=function(e){return H.ie&&e.inline?document.body:e.getBody()};var Bt=function(e){return zt(e)!==e.getBody()};var Pt=function(e,t,n){if(Bt(e)){e.dom.bind(t,"paste keyup",(function(t){if(!jt(e,n)){e.fire("paste")}}))}};var Lt=function(e,t,n){var r=e.dom,o=e.getBody();t.set(e.selection.getRng());var a=e.dom.add(zt(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:true,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);if(H.ie||H.gecko){r.setStyle(a,"left",r.getStyle(o,"direction",true)==="rtl"?65535:-65535)}r.bind(a,"beforedeactivate focusin focusout",(function(e){e.stopPropagation()}));Pt(e,a,n);a.focus();e.selection.select(a,true)};var Ht=function(e,t){if(It(e)){var n=void 0;var r=t.get();while(n=e.dom.get("mcepastebin")){e.dom.remove(n);e.dom.unbind(n)}if(r){e.selection.setRng(r)}}t.set(null)};var It=function(e){return e.dom.get("mcepastebin")};var Ft=function(e){var t=function(t,n){t.appendChild(n);e.dom.remove(n,true)};var n=G.grep(zt(e).childNodes,(function(e){return e.id==="mcepastebin"}));var r=n.shift();G.each(n,(function(e){t(r,e)}));var o=e.dom.select("div[id=mcepastebin]",r);for(var a=o.length-1;a>=0;a--){var i=e.dom.create("div");r.insertBefore(i,o[a]);t(i,o[a])}return r?r.innerHTML:""};var Vt=function(e,t){return t===e};var Ut=function(e){return e&&e.id==="mcepastebin"};var jt=function(e,t){var n=It(e);return Ut(n)&&Vt(t,n.innerHTML)};var Wt=function(t){var n=e(null);var r="%MCEPASTEBIN%";return{create:function(){return Lt(t,n,r)},remove:function(){return Ht(t,n)},getEl:function(){return It(t)},getHtml:function(){return Ft(t)},getLastRng:n.get,isDefault:function(){return jt(t,r)},isDefaultContent:function(e){return Vt(r,e)}}};var qt=function(e,t){var n=Wt(e);e.on("PreInit",(function(){return Rt(e,n,t)}));return{pasteFormat:t,pasteHtml:function(t,n){return dt(e,t,n)},pasteText:function(t){return mt(e,t)},pasteImageData:function(t,n){return Dt(e,t,n)},getDataTransferItems:gt,hasHtmlOrText:bt,hasContentType:pt}};var Gt=function(e,t){if(t.pasteFormat.get()==="text"){t.pasteFormat.set("html");W(e,false)}else{t.pasteFormat.set("text");W(e,true)}e.focus()};var $t=function(e,t){e.addCommand("mceTogglePlainTextPaste",(function(){Gt(e,t)}));e.addCommand("mceInsertClipboardContent",(function(e,n){if(n.content){t.pasteHtml(n.content,n.internal)}if(n.text){t.pasteText(n.text)}}))};var Kt=function(e){return H.iOS===false&&typeof(e===null||e===void 0?void 0:e.setData)==="function"};var Xt=function(e,t,n){if(Kt(e)){try{e.clearData();e.setData("text/html",t);e.setData("text/plain",n);e.setData(xe(),t);return true}catch(e){return false}}else{return false}};var Yt=function(e,t,n,r){if(Xt(e.clipboardData,t.html,t.text)){e.preventDefault();r()}else{n(t.html,r)}};var Jt=function(e){return function(t,n){var r=be(t);var o=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"});var a=e.dom.create("div",{contenteditable:"true"},r);e.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"});o.appendChild(a);e.dom.add(e.getBody(),o);var i=e.selection.getRng();a.focus();var u=e.dom.createRng();u.selectNodeContents(a);e.selection.setRng(u);I.setTimeout((function(){e.selection.setRng(i);o.parentNode.removeChild(o);n()}),0)}};var Qt=function(e){return{html:e.selection.getContent({contextual:true}),text:e.selection.getContent({format:"text"})}};var Zt=function(e){return!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())};var en=function(e){return!e.selection.isCollapsed()||Zt(e)};var tn=function(e){return function(t){if(en(e)){Yt(t,Qt(e),Jt(e),(function(){if(H.browser.isChrome()||H.browser.isFirefox()){var t=e.selection.getRng();I.setEditorTimeout(e,(function(){e.selection.setRng(t);e.execCommand("Delete")}),0)}else{e.execCommand("Delete")}}))}}};var nn=function(e){return function(t){if(en(e)){Yt(t,Qt(e),Jt(e),l)}}};var rn=function(e){e.on("cut",tn(e));e.on("copy",nn(e))};var on=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils");var an=function(e,t){return on.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())};var un=function(e){var t=e["text/plain"];return t?t.indexOf("file://")===0:false};var cn=function(e,t){e.focus();e.selection.setRng(t)};var fn=function(e,t,n){if($(e)){e.on("dragend dragover draggesture dragdrop drop drag",(function(e){e.preventDefault();e.stopPropagation()}))}if(!K(e)){e.on("drop",(function(e){var t=e.dataTransfer;if(t&&t.files&&t.files.length>0){e.preventDefault()}}))}e.on("drop",(function(r){var o=an(e,r);if(r.isDefaultPrevented()||n.get()){return}var a=t.getDataTransferItems(r.dataTransfer);var i=t.hasContentType(a,xe());if((!t.hasHtmlOrText(a)||un(a))&&t.pasteImageData(r,o)){return}if(o&&X(e)){var u=a["mce-internal"]||a["text/html"]||a["text/plain"];if(u){r.preventDefault();I.setEditorTimeout(e,(function(){e.undoManager.transact((function(){if(a["mce-internal"]){e.execCommand("Delete")}cn(e,o);u=He(u);if(!a["text/html"]){t.pasteText(u)}else{t.pasteHtml(u,i)}}))}))}}}));e.on("dragstart",(function(e){n.set(true)}));e.on("dragover dragend",(function(t){if(K(e)&&n.get()===false){t.preventDefault();cn(e,an(e,t))}if(t.type==="dragend"){n.set(false)}}))};var sn=function(e){var t=e.plugins.paste;var n=Y(e);if(n){e.on("PastePreProcess",(function(e){n.call(t,t,e)}))}var r=J(e);if(r){e.on("PastePostProcess",(function(e){r.call(t,t,e)}))}};var ln=function(e,t){e.on("PastePreProcess",(function(n){n.content=t(e,n.content,n.internal,n.wordContent)}))};var vn=function(e,t){e.on("PastePostProcess",(function(n){t(e,n.node)}))};var dn=function(e,t){if(!Ve(t)){return t}var n=[];G.each(e.schema.getBlockElements(),(function(e,t){n.push(t)}));var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");t=Pe(t,[[r,"$1"]]);t=Pe(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]);return t};var mn=function(e,t,n,r){if(r||n){return t}var o=Q(e);var a;if(Z(e)===false||o==="all"){return t}if(o){a=o.split(/[, ]/)}if(a){var i=e.dom,u=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(e,t,n,r){var o=i.parseStyle(i.decode(n));var c={};if(a==="none"){return t+r}for(var f=0;f<a.length;f++){var s=o[a[f]],l=i.getStyle(u,a[f],true);if(/color/.test(a[f])){s=i.toHex(s);l=i.toHex(l)}if(l!==s){c[a[f]]=s}}var v=i.serializeStyle(c,"span");if(v){return t+' style="'+v+'"'+r}return t+r}))}else{t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")}t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(e,t,n,r){return t+' style="'+n+'"'+r}));return t};var gn=function(e,t){e.$("a",t).find("font,u").each((function(t,n){e.dom.remove(n,true)}))};var hn=function(e){if(H.webkit){ln(e,mn)}if(H.ie){ln(e,dn);vn(e,gn)}};var pn=function(e,t){return function(n){n.setActive(t.pasteFormat.get()==="text");var r=function(e){return n.setActive(e.state)};e.on("PastePlainTextToggle",r);return function(){return e.off("PastePlainTextToggle",r)}}};var bn=function(e,t){var n=function(){return e.execCommand("mceTogglePlainTextPaste")};e.ui.registry.addToggleButton("pastetext",{active:false,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:pn(e,t)});e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:pn(e,t)})};function yn(){t.add("paste",(function(t){if(n(t)===false){var o=e(false);var a=e(ne(t)?"text":"html");var i=qt(t,a);hn(t);bn(t,i);$t(t,i);sn(t);rn(t);fn(t,i,o);return r(i)}}))}yn()})()},579:(e,t,n)=>{n(580)},580:()=>{(function(){"use strict";var e=function(e){var t=e;var n=function(){return t};var r=function(e){t=e};return{get:n,set:r}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");var n=function(){n=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))t[a]=n[a]}return t};return n.apply(this,arguments)};var r=function(e){var t=typeof e;if(e===null){return"null"}else if(t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")){return"array"}else if(t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")){return"string"}else{return t}};var o=function(e){return function(t){return r(t)===e}};var a=function(e){return function(t){return typeof t===e}};var i=o("string");var u=o("array");var c=a("boolean");var f=a("number");var s=function(){};var l=function(e){return function(){return e}};var v=function(e){return e};var d=l(false);var m=l(true);var g="[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]";var h=l(g);var p=function(){return b};var b=function(){var e=function(e){return e()};var t=v;var n={fold:function(e,t){return e()},isSome:d,isNone:m,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(undefined),or:t,orThunk:e,map:p,each:s,bind:p,exists:d,forall:m,filter:function(){return p()},toArray:function(){return[]},toString:l("none()")};return n}();var y=function(e){var t=l(e);var n=function(){return o};var r=function(t){return t(e)};var o={fold:function(t,n){return n(e)},isSome:m,isNone:d,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return y(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:b},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o};var w=function(e){return e===null||e===undefined?b:y(e)};var x={some:y,none:p,from:w};var C=h;var S=tinymce.util.Tools.resolve("tinymce.Env");var k=tinymce.util.Tools.resolve("tinymce.util.Tools");var T=Array.prototype.slice;var O=Array.prototype.push;var _=function(e,t){var n=e.length;var r=new Array(n);for(var o=0;o<n;o++){var a=e[o];r[o]=t(a,o)}return r};var E=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}};var D=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}};var A=function(e,t){if(e.length===0){return[]}else{var n=t(e[0]);var r=[];var o=[];for(var a=0,i=e.length;a<i;a++){var u=e[a];var c=t(u);if(c!==n){r.push(o);o=[]}n=c;o.push(u)}if(o.length!==0){r.push(o)}return r}};var N=function(e,t,n){E(e,(function(e,r){n=t(n,e,r)}));return n};var M=function(e){var t=[];for(var n=0,r=e.length;n<r;++n){if(!u(e[n])){throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)}O.apply(t,e[n])}return t};var R=function(e,t){return M(_(e,t))};var z=function(e,t){var n=T.call(e,0);n.sort(t);return n};var B=Object.hasOwnProperty;var P=function(e,t){return B.call(e,t)};typeof window!=="undefined"?window:Function("return this;")();var L=9;var H=11;var I=1;var F=3;var V=function(e){return e.dom.nodeType};var U=function(e){return function(t){return V(t)===e}};var j=U(F);var W=function(e,t,n){if(i(n)||c(n)||f(n)){e.setAttribute(t,n+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e);throw new Error("Attribute value was not simple")}};var q=function(e,t,n){W(e.dom,t,n)};var G=function(e,t,n){return(e.compareDocumentPosition(t)&n)!==0};var $=function(e,t){return G(e,t,Node.DOCUMENT_POSITION_PRECEDING)};var K=function(e,t){var n=t||document;var r=n.createElement("div");r.innerHTML=e;if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",e);throw new Error("HTML must have a single root node")}return J(r.childNodes[0])};var X=function(e,t){var n=t||document;var r=n.createElement(e);return J(r)};var Y=function(e,t){var n=t||document;var r=n.createTextNode(e);return J(r)};var J=function(e){if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};var Q=function(e,t,n){return x.from(e.dom.elementFromPoint(t,n)).map(J)};var Z={fromHtml:K,fromTag:X,fromText:Y,fromDom:J,fromPoint:Q};var ee=function(e){return e.nodeType!==I&&e.nodeType!==L&&e.nodeType!==H||e.childElementCount===0};var te=function(e,t){var n=t===undefined?document:t.dom;return ee(n)?[]:_(n.querySelectorAll(e),Z.fromDom)};var ne=function(e){return x.from(e.dom.parentNode).map(Z.fromDom)};var re=function(e){return _(e.dom.childNodes,Z.fromDom)};var oe=function(e,t){return{element:e,offset:t}};var ae=function(e,t){var n=re(e);return n.length>0&&t<n.length?oe(n[t],0):oe(e,t)};var ie=function(e,t){var n=ne(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))};var ue=function(e,t){e.dom.appendChild(t.dom)};var ce=function(e,t){ie(e,t);ue(t,e)};var fe=function(e,t){var n=function(n){if(!e(n)){throw new Error("Can only get "+t+" value of a "+t+" node")}return r(n).getOr("")};var r=function(t){return e(t)?x.from(t.dom.nodeValue):x.none()};var o=function(n,r){if(!e(n)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}n.dom.nodeValue=r};return{get:n,getOption:r,set:o}};var se=fe(j,"text");var le=function(e){return se.get(e)};var ve=function(e,t){return te(t,e)};var de=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");var me=function(e,t){return e.isBlock(t)||P(e.schema.getShortEndedElements(),t.nodeName)};var ge=function(e,t){return e.getContentEditable(t)==="false"};var he=function(e,t){return e.getContentEditable(t)==="true"&&e.getContentEditableParent(t.parentNode)==="false"};var pe=function(e,t){return!e.isBlock(t)&&P(e.schema.getWhiteSpaceElements(),t.nodeName)};var be=function(e,t){return me(e,t)||ge(e,t)||pe(e,t)||he(e,t)};var ye=function(e){return e.nodeType===3};var we=function(){return{sOffset:0,fOffset:0,elements:[]}};var xe=function(e,t){return ae(Z.fromDom(e),t)};var Ce=function(e,t,n,r,o,a){if(a===void 0){a=true}var i=a?t(false):n;while(i){var u=ge(e,i);if(u||pe(e,i)){var c=u?r.cef(i):r.boundary(i);if(c){break}else{i=t(true);continue}}else if(me(e,i)){if(r.boundary(i)){break}}else if(ye(i)){r.text(i)}if(i===o){break}else{i=t(false)}}};var Se=function(e,t,n,r,o){if(be(e,n)){return}var a=e.getParent(r,e.isBlock);var i=new de(n,a);var u=o?i.next.bind(i):i.prev.bind(i);Ce(e,u,n,{boundary:m,cef:m,text:function(e){if(o){t.fOffset+=e.length}else{t.sOffset+=e.length}t.elements.push(Z.fromDom(e))}})};var ke=function(e,t,n,r,o,a){if(a===void 0){a=true}var i=new de(n,t);var u=[];var c=we();Se(e,c,n,t,false);var f=function(){if(c.elements.length>0){u.push(c);c=we()}return false};Ce(e,i.next.bind(i),n,{boundary:f,cef:function(e){f();if(o){u.push.apply(u,o.cef(e))}return false},text:function(e){c.elements.push(Z.fromDom(e));if(o){o.text(e,c)}}},r,a);if(r){Se(e,c,r,t,true)}f();return u};var Te=function(e,t){var n=xe(t.startContainer,t.startOffset);var r=n.element.dom;var o=xe(t.endContainer,t.endOffset);var a=o.element.dom;return ke(e,t.commonAncestorContainer,r,a,{text:function(e,t){if(e===a){t.fOffset+=e.length-o.offset}else if(e===r){t.sOffset+=n.offset}},cef:function(t){var n=R(ve(Z.fromDom(t),"*[contenteditable=true]"),(function(t){var n=t.dom;return ke(e,n,n)}));return z(n,(function(e,t){return $(e.elements[0].dom,t.elements[0].dom)?1:-1}))}},false)};var Oe=function(e,t){return t.collapsed?[]:Te(e,t)};var _e=function(e,t){var n=e.createRng();n.selectNode(t);return Oe(e,n)};var Ee=function(e,t){return R(t,(function(t){return _e(e,t)}))};var De=function(e,t,n,r){if(n===void 0){n=0}if(r===void 0){r=e.length}var o=t.regex;o.lastIndex=n;var a=[];var i;while(i=o.exec(e)){var u=i[t.matchIndex];var c=i.index+i[0].indexOf(u);var f=c+u.length;if(f>r){break}a.push({start:c,finish:f});o.lastIndex=f}return a};var Ae=function(e,t){var n=N(e,(function(e,n){var r=le(n);var o=e.last;var a=o+r.length;var i=R(t,(function(e,t){if(e.start<a&&e.finish>o){return[{element:n,start:Math.max(o,e.start)-o,finish:Math.min(a,e.finish)-o,matchId:t}]}else{return[]}}));return{results:e.results.concat(i),last:a}}),{results:[],last:0}).results;return A(n,(function(e){return e.matchId}))};var Ne=function(e,t){return R(t,(function(t){var n=t.elements;var r=_(n,le).join("");var o=De(r,e,t.sOffset,r.length-t.fOffset);return Ae(n,o)}))};var Me=function(e,t){D(e,(function(e,n){D(e,(function(e){var r=Z.fromDom(t.cloneNode(false));q(r,"data-mce-index",n);var o=e.element.dom;if(o.length===e.finish&&e.start===0){ce(e.element,r)}else{if(o.length!==e.finish){o.splitText(e.finish)}var a=o.splitText(e.start);ce(Z.fromDom(a),r)}}))}))};var Re=function(e,t,n,r){var o=_e(e,n);var a=Ne(t,o);Me(a,r);return a.length};var ze=function(e,t,n,r){var o=n.getBookmark();var a=e.select("td[data-mce-selected],th[data-mce-selected]");var i=a.length>0?Ee(e,a):Oe(e,n.getRng());var u=Ne(t,i);Me(u,r);n.moveToBookmark(o);return u.length};var Be=function(e){var t=e.getAttribute("data-mce-index");if(typeof t==="number"){return""+t}return t};var Pe=function(e,t,n,r){var o=e.dom.create("span",{"data-mce-bogus":1});o.className="mce-match-marker";var a=e.getBody();$e(e,t,false);if(r){return ze(e.dom,n,e.selection,o)}else{return Re(e.dom,n,a,o)}};var Le=function(e){var t=e.parentNode;if(e.firstChild){t.insertBefore(e.firstChild,e)}e.parentNode.removeChild(e)};var He=function(e,t){var n=[];var r=k.toArray(e.getBody().getElementsByTagName("span"));if(r.length){for(var o=0;o<r.length;o++){var a=Be(r[o]);if(a===null||!a.length){continue}if(a===t.toString()){n.push(r[o])}}}return n};var Ie=function(e,t,n){var r=t.get();var o=r.index;var a=e.dom;n=n!==false;if(n){if(o+1===r.count){o=0}else{o++}}else{if(o-1===-1){o=r.count-1}else{o--}}a.removeClass(He(e,r.index),"mce-match-marker-selected");var i=He(e,o);if(i.length){a.addClass(He(e,o),"mce-match-marker-selected");e.selection.scrollIntoView(i[0]);return o}return-1};var Fe=function(e,t){var n=t.parentNode;e.remove(t);if(e.isEmpty(n)){e.remove(n)}};var Ve=function(e,t){var n=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]");var r="("+n+")";return t?"(?:^|\\s|"+C()+")"+r+("(?=$|\\s|"+C()+")"):r};var Ue=function(e,t,n,r,o,a){var i=e.selection;var u=Ve(n,o);var c=i.isForward();var f={regex:new RegExp(u,r?"g":"gi"),matchIndex:1};var s=Pe(e,t,f,a);if(S.browser.isSafari()){i.setRng(i.getRng(),c)}if(s){var l=Ie(e,t,true);t.set({index:l,count:s,text:n,matchCase:r,wholeWord:o,inSelection:a})}return s};var je=function(e,t){var r=Ie(e,t,true);t.set(n(n({},t.get()),{index:r}))};var We=function(e,t){var r=Ie(e,t,false);t.set(n(n({},t.get()),{index:r}))};var qe=function(e){var t=Be(e);return t!==null&&t.length>0};var Ge=function(e,t,r,o,a){var i=t.get();var u=i.index;var c,f=u;o=o!==false;var s=e.getBody();var l=k.grep(k.toArray(s.getElementsByTagName("span")),qe);for(var v=0;v<l.length;v++){var d=Be(l[v]);var m=c=parseInt(d,10);if(a||m===i.index){if(r.length){l[v].firstChild.nodeValue=r;Le(l[v])}else{Fe(e.dom,l[v])}while(l[++v]){m=parseInt(Be(l[v]),10);if(m===c){Fe(e.dom,l[v])}else{v--;break}}if(o){f--}}else if(c>u){l[v].setAttribute("data-mce-index",String(c-1))}}t.set(n(n({},i),{count:a?0:i.count-1,index:f}));if(o){je(e,t)}else{We(e,t)}return!a&&t.get().count>0};var $e=function(e,t,r){var o,a;var i=t.get();var u=k.toArray(e.getBody().getElementsByTagName("span"));for(var c=0;c<u.length;c++){var f=Be(u[c]);if(f!==null&&f.length){if(f===i.index.toString()){if(!o){o=u[c].firstChild}a=u[c].firstChild}Le(u[c])}}t.set(n(n({},i),{index:-1,count:0,text:""}));if(o&&a){var s=e.dom.createRng();s.setStart(o,0);s.setEnd(a,a.data.length);if(r!==false){e.selection.setRng(s)}return s}};var Ke=function(e,t){return t.get().count>1};var Xe=function(e,t){return t.get().count>1};var Ye=function(e,t){var n=function(n){return $e(e,t,n)};var r=function(n,r,o,a){if(a===void 0){a=false}return Ue(e,t,n,r,o,a)};var o=function(){return je(e,t)};var a=function(){return We(e,t)};var i=function(n,r,o){return Ge(e,t,n,r,o)};return{done:n,find:r,next:o,prev:a,replace:i}};var Je=function(t){var n=e(x.none());var r=function(){return n.get().each(t)};var o=function(){r();n.set(x.none())};var a=function(){return n.get().isSome()};var i=function(){return n.get()};var u=function(e){r();n.set(x.some(e))};return{clear:o,isSet:a,get:i,set:u}};var Qe=function(){var e=Je(s);var t=function(t){return e.get().each(t)};return n(n({},e),{on:t})};var Ze=function(e,t){var r=Qe();e.undoManager.add();var o=k.trim(e.selection.getContent({format:"text"}));var a=function(n){var r=Ke(e,t)?n.enable:n.disable;r("next");var o=Xe(e,t)?n.enable:n.disable;o("prev")};var i=function(e){var r=e.getData();var o=t.get();t.set(n(n({},o),{matchCase:r.matchcase,wholeWord:r.wholewords,inSelection:r.inselection}))};var u=function(e,t){var n=["replace","replaceall","prev","next"];var r=t?e.disable:e.enable;E(n,r)};var c=function(t){e.windowManager.alert("Could not find the specified string.",(function(){t.focus("findtext")}))};var f=function(e,t){if(S.browser.isSafari()&&S.deviceType.isTouch()&&(t==="find"||t==="replace"||t==="replaceall")){e.focus(t)}};var s=function(n){$e(e,t,false);u(n,true);a(n)};var l=function(n){var r=n.getData();var o=t.get();if(!r.findtext.length){s(n);return}if(o.text===r.findtext&&o.matchCase===r.matchcase&&o.wholeWord===r.wholewords){je(e,t)}else{var i=Ue(e,t,r.findtext,r.matchcase,r.wholewords,r.inselection);if(i<=0){c(n)}u(n,i===0)}a(n)};var v=t.get();var d={findtext:o,replacetext:"",wholewords:v.wholeWord,matchcase:v.matchCase,inselection:v.inSelection};var m={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:true,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:true,borderless:true},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:true,borderless:true}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:true},{type:"custom",name:"replace",text:"Replace",disabled:true},{type:"custom",name:"replaceall",text:"Replace all",disabled:true}],initialData:d,onChange:function(e,n){if(n.name==="findtext"&&t.get().count>0){s(e)}},onAction:function(n,r){var o=n.getData();switch(r.name){case"find":l(n);break;case"replace":if(!Ge(e,t,o.replacetext)){s(n)}else{a(n)}break;case"replaceall":Ge(e,t,o.replacetext,true,true);s(n);break;case"prev":We(e,t);a(n);break;case"next":je(e,t);a(n);break;case"matchcase":case"wholewords":case"inselection":i(n);s(n);break}f(n,r.name)},onSubmit:function(e){l(e);f(e,"find")},onClose:function(){e.focus();$e(e,t);e.undoManager.add()}};r.set(e.windowManager.open(m,{inline:"toolbar"}))};var et=function(e,t){e.addCommand("SearchReplace",(function(){Ze(e,t)}))};var tt=function(e,t){return function(){Ze(e,t)}};var nt=function(e,t){e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:tt(e,t),icon:"search"});e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:tt(e,t),icon:"search"});e.shortcuts.add("Meta+F","",tt(e,t))};function rt(){t.add("searchreplace",(function(t){var n=e({index:-1,count:0,text:"",matchCase:false,wholeWord:false,inSelection:false});et(t,n);nt(t,n);return Ye(t,n)}))}rt()})()},581:(e,t,n)=>{n(582)},582:()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");var t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var n=tinymce.util.Tools.resolve("tinymce.EditorManager");var r=tinymce.util.Tools.resolve("tinymce.Env");var o=tinymce.util.Tools.resolve("tinymce.util.Delay");var a=tinymce.util.Tools.resolve("tinymce.util.Tools");var i=tinymce.util.Tools.resolve("tinymce.util.VK");var u=function(e){return e.getParam("tabfocus_elements",":prev,:next")};var c=function(e){return e.getParam("tab_focus",u(e))};var f=t.DOM;var s=function(e){if(e.keyCode===i.TAB&&!e.ctrlKey&&!e.altKey&&!e.metaKey){e.preventDefault()}};var l=function(e){var t=function(t){var u;if(t.keyCode!==i.TAB||t.ctrlKey||t.altKey||t.metaKey||t.isDefaultPrevented()){return}var s=function(r){var o=f.select(":input:enabled,*[tabindex]:not(iframe)");var i=function(e){var t=e;return e.nodeName==="BODY"||t.type!=="hidden"&&t.style.display!=="none"&&t.style.visibility!=="hidden"&&i(e.parentNode)};var c=function(e){return/INPUT|TEXTAREA|BUTTON/.test(e.tagName)&&n.get(t.id)&&e.tabIndex!==-1&&i(e)};a.each(o,(function(t,n){if(t.id===e.id){u=n;return false}}));if(r>0){for(var s=u+1;s<o.length;s++){if(c(o[s])){return o[s]}}}else{for(var s=u-1;s>=0;s--){if(c(o[s])){return o[s]}}}return null};var l=a.explode(c(e));if(l.length===1){l[1]=l[0];l[0]=":prev"}var v;if(t.shiftKey){if(l[0]===":prev"){v=s(-1)}else{v=f.get(l[0])}}else{if(l[1]===":next"){v=s(1)}else{v=f.get(l[1])}}if(v){var d=n.get(v.id||v.name);if(v.id&&d){d.focus()}else{o.setTimeout((function(){if(!r.webkit){window.focus()}v.focus()}),10)}t.preventDefault()}};e.on("init",(function(){if(e.inline){f.setAttrib(e.getBody(),"tabIndex",null)}e.on("keyup",s);if(r.gecko){e.on("keypress keydown",t)}else{e.on("keydown",t)}}))};function v(){e.add("tabfocus",(function(e){l(e)}))}v()})()},583:(e,t,n)=>{n(584)},584:()=>{(function(){"use strict";var e=function(e){var t=typeof e;if(e===null){return"null"}else if(t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")){return"array"}else if(t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")){return"string"}else{return t}};var t=function(t){return function(n){return e(n)===t}};var n=function(e){return function(t){return typeof t===e}};var r=function(e){return function(t){return e===t}};var o=t("string");var a=t("object");var i=t("array");var u=r(null);var c=n("boolean");var f=r(undefined);var s=function(e){return e===null||e===undefined};var l=function(e){return!s(e)};var v=n("function");var d=n("number");var m=function(){};var g=function(e,t){return function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}return e(t.apply(null,n))}};var h=function(e,t){return function(n){return e(t(n))}};var p=function(e){return function(){return e}};var b=function(e){return e};var y=function(e,t){return e===t};function w(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}return function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}var o=t.concat(n);return e.apply(null,o)}}var x=function(e){return function(t){return!e(t)}};var C=function(e){return function(){throw new Error(e)}};var S=p(false);var k=p(true);var T=function(){return O};var O=function(){var e=function(e){return e()};var t=b;var n={fold:function(e,t){return e()},isSome:S,isNone:k,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:p(null),getOrUndefined:p(undefined),or:t,orThunk:e,map:T,each:m,bind:T,exists:S,forall:k,filter:function(){return T()},toArray:function(){return[]},toString:p("none()")};return n}();var _=function(e){var t=p(e);var n=function(){return o};var r=function(t){return t(e)};var o={fold:function(t,n){return n(e)},isSome:k,isNone:S,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return _(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:O},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o};var E=function(e){return e===null||e===undefined?O:_(e)};var D={some:_,none:T,from:E};var A=Array.prototype.slice;var N=Array.prototype.indexOf;var M=Array.prototype.push;var R=function(e,t){return N.call(e,t)};var z=function(e,t){return R(e,t)>-1};var B=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n)){return true}}return false};var P=function(e,t){var n=[];for(var r=0;r<e;r++){n.push(t(r))}return n};var L=function(e,t){var n=e.length;var r=new Array(n);for(var o=0;o<n;o++){var a=e[o];r[o]=t(a,o)}return r};var H=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}};var I=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}};var F=function(e,t){var n=[];var r=[];for(var o=0,a=e.length;o<a;o++){var i=e[o];var u=t(i,o)?n:r;u.push(i)}return{pass:n,fail:r}};var V=function(e,t){var n=[];for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t(a,r)){n.push(a)}}return n};var U=function(e,t,n){I(e,(function(e,r){n=t(n,e,r)}));return n};var j=function(e,t,n){H(e,(function(e,r){n=t(n,e,r)}));return n};var W=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t(a,r)){return D.some(a)}else if(n(a,r)){break}}return D.none()};var q=function(e,t){return W(e,t,S)};var G=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n)){return D.some(n)}}return D.none()};var $=function(e){var t=[];for(var n=0,r=e.length;n<r;++n){if(!i(e[n])){throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)}M.apply(t,e[n])}return t};var K=function(e,t){return $(L(e,t))};var X=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(t(o,n)!==true){return false}}return true};var Y=function(e){var t=A.call(e,0);t.reverse();return t};var J=function(e,t){var n={};for(var r=0,o=e.length;r<o;r++){var a=e[r];n[String(a)]=t(a,r)}return n};var Q=function(e){return[e]};var Z=function(e,t){var n=A.call(e,0);n.sort(t);return n};var ee=function(e,t){return t>=0&&t<e.length?D.some(e[t]):D.none()};var te=function(e){return ee(e,0)};var ne=function(e){return ee(e,e.length-1)};var re=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome()){return r}}return D.none()};var oe=function(){oe=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))t[a]=n[a]}return t};return oe.apply(this,arguments)};function ae(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++){if(a||!(r in t)){if(!a)a=Array.prototype.slice.call(t,0,r);a[r]=t[r]}}return e.concat(a||Array.prototype.slice.call(t))}var ie=function(e){var t=false;var n;return function(){var r=[];for(var o=0;o<arguments.length;o++){r[o]=arguments[o]}if(!t){t=true;n=e.apply(null,r)}return n}};var ue=function(e,t,n,r){var o=e.isiOS()&&/ipad/i.test(n)===true;var a=e.isiOS()&&!o;var i=e.isiOS()||e.isAndroid();var u=i||r("(pointer:coarse)");var c=o||!a&&i&&r("(min-device-width:768px)");var f=a||i&&!c;var s=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===false;var l=!f&&!c&&!s;return{isiPad:p(o),isiPhone:p(a),isTablet:p(c),isPhone:p(f),isTouch:p(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:p(s),isDesktop:p(l)}};var ce=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t)){return r}}return undefined};var fe=function(e,t){var n=ce(e,t);if(!n){return{major:0,minor:0}}var r=function(e){return Number(t.replace(n,"$"+e))};return ve(r(1),r(2))};var se=function(e,t){var n=String(t).toLowerCase();if(e.length===0){return le()}return fe(e,n)};var le=function(){return ve(0,0)};var ve=function(e,t){return{major:e,minor:t}};var de={nu:ve,detect:se,unknown:le};var me=function(e,t){return re(t.brands,(function(t){var n=t.brand.toLowerCase();return q(e,(function(e){var t;return n===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:de.nu(parseInt(t.version,10),0)}}))}))};var ge=function(e,t){var n=String(t).toLowerCase();return q(e,(function(e){return e.search(n)}))};var he=function(e,t){return ge(e,t).map((function(e){var n=de.detect(e.versionRegexes,t);return{current:e.name,version:n}}))};var pe=function(e,t){return ge(e,t).map((function(e){var n=de.detect(e.versionRegexes,t);return{current:e.name,version:n}}))};var be=function(e,t){return e.substring(t)};var ye=function(e,t,n){return t===""||e.length>=t.length&&e.substr(n,n+t.length)===t};var we=function(e,t){return Ce(e,t)?be(e,t.length):e};var xe=function(e,t){return e.indexOf(t)!==-1};var Ce=function(e,t){return ye(e,t,0)};var Se=function(e,t){return ye(e,t,e.length-t.length)};var ke=function(e){return function(t){return t.replace(e,"")}};var Te=ke(/^\s+|\s+$/g);var Oe=function(e){return e.length>0};var _e=function(e){return!Oe(e)};var Ee=function(e){var t=parseFloat(e);return isNaN(t)?D.none():D.some(t)};var De=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;var Ae=function(e){return function(t){return xe(t,e)}};var Ne=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return xe(e,"edge/")&&xe(e,"chrome")&&xe(e,"safari")&&xe(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,De],search:function(e){return xe(e,"chrome")&&!xe(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return xe(e,"msie")||xe(e,"trident")}},{name:"Opera",versionRegexes:[De,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ae("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ae("firefox")},{name:"Safari",versionRegexes:[De,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(xe(e,"safari")||xe(e,"mobile/"))&&xe(e,"applewebkit")}}];var Me=[{name:"Windows",search:Ae("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return xe(e,"iphone")||xe(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ae("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ae("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ae("linux"),versionRegexes:[]},{name:"Solaris",search:Ae("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ae("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ae("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];var Re={browsers:p(Ne),oses:p(Me)};var ze="Edge";var Be="Chrome";var Pe="IE";var Le="Opera";var He="Firefox";var Ie="Safari";var Fe=function(){return Ve({current:undefined,version:de.unknown()})};var Ve=function(e){var t=e.current;var n=e.version;var r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(ze),isChrome:r(Be),isIE:r(Pe),isOpera:r(Le),isFirefox:r(He),isSafari:r(Ie)}};var Ue={unknown:Fe,nu:Ve,edge:p(ze),chrome:p(Be),ie:p(Pe),opera:p(Le),firefox:p(He),safari:p(Ie)};var je="Windows";var We="iOS";var qe="Android";var Ge="Linux";var $e="OSX";var Ke="Solaris";var Xe="FreeBSD";var Ye="ChromeOS";var Je=function(){return Qe({current:undefined,version:de.unknown()})};var Qe=function(e){var t=e.current;var n=e.version;var r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(je),isiOS:r(We),isAndroid:r(qe),isOSX:r($e),isLinux:r(Ge),isSolaris:r(Ke),isFreeBSD:r(Xe),isChromeOS:r(Ye)}};var Ze={unknown:Je,nu:Qe,windows:p(je),ios:p(We),android:p(qe),linux:p(Ge),osx:p($e),solaris:p(Ke),freebsd:p(Xe),chromeos:p(Ye)};var et=function(e,t,n){var r=Re.browsers();var o=Re.oses();var a=t.bind((function(e){return me(r,e)})).orThunk((function(){return he(r,e)})).fold(Ue.unknown,Ue.nu);var i=pe(o,e).fold(Ze.unknown,Ze.nu);var u=ue(i,a,e,n);return{browser:a,os:i,deviceType:u}};var tt={detect:et};var nt=function(e){return window.matchMedia(e).matches};var rt=ie((function(){return tt.detect(navigator.userAgent,D.from(navigator.userAgentData),nt)}));var ot=function(){return rt()};var at=function(e,t,n){return(e.compareDocumentPosition(t)&n)!==0};var it=function(e,t){return at(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)};var ut=8;var ct=9;var ft=11;var st=1;var lt=3;var vt=function(e,t){var n=t||document;var r=n.createElement("div");r.innerHTML=e;if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",e);throw new Error("HTML must have a single root node")}return gt(r.childNodes[0])};var dt=function(e,t){var n=t||document;var r=n.createElement(e);return gt(r)};var mt=function(e,t){var n=t||document;var r=n.createTextNode(e);return gt(r)};var gt=function(e){if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};var ht=function(e,t,n){return D.from(e.dom.elementFromPoint(t,n)).map(gt)};var pt={fromHtml:vt,fromTag:dt,fromText:mt,fromDom:gt,fromPoint:ht};var bt=function(e,t){var n=e.dom;if(n.nodeType!==st){return false}else{var r=n;if(r.matches!==undefined){return r.matches(t)}else if(r.msMatchesSelector!==undefined){return r.msMatchesSelector(t)}else if(r.webkitMatchesSelector!==undefined){return r.webkitMatchesSelector(t)}else if(r.mozMatchesSelector!==undefined){return r.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};var yt=function(e){return e.nodeType!==st&&e.nodeType!==ct&&e.nodeType!==ft||e.childElementCount===0};var wt=function(e,t){var n=t===undefined?document:t.dom;return yt(n)?[]:L(n.querySelectorAll(e),pt.fromDom)};var xt=function(e,t){var n=t===undefined?document:t.dom;return yt(n)?D.none():D.from(n.querySelector(e)).map(pt.fromDom)};var Ct=function(e,t){return e.dom===t.dom};var St=function(e,t){var n=e.dom;var r=t.dom;return n===r?false:n.contains(r)};var kt=function(e,t){return it(e.dom,t.dom)};var Tt=function(e,t){return ot().browser.isIE()?kt(e,t):St(e,t)};var Ot=bt;var _t=Object.keys;var Et=Object.hasOwnProperty;var Dt=function(e,t){var n=_t(e);for(var r=0,o=n.length;r<o;r++){var a=n[r];var i=e[a];t(i,a)}};var At=function(e,t){return Nt(e,(function(e,n){return{k:n,v:t(e,n)}}))};var Nt=function(e,t){var n={};Dt(e,(function(e,r){var o=t(e,r);n[o.k]=o.v}));return n};var Mt=function(e){return function(t,n){e[n]=t}};var Rt=function(e,t,n,r){var o={};Dt(e,(function(e,o){(t(e,o)?n:r)(e,o)}));return o};var zt=function(e,t){var n={};Rt(e,t,Mt(n),m);return n};var Bt=function(e,t){var n=[];Dt(e,(function(e,r){n.push(t(e,r))}));return n};var Pt=function(e){return Bt(e,b)};var Lt=function(e){return _t(e).length};var Ht=function(e,t){return It(e,t)?D.from(e[t]):D.none()};var It=function(e,t){return Et.call(e,t)};var Ft=function(e,t){return It(e,t)&&e[t]!==undefined&&e[t]!==null};var Vt=function(e){for(var t in e){if(Et.call(e,t)){return false}}return true};var Ut=["tfoot","thead","tbody","colgroup"];var jt=function(e){return z(Ut,e)};var Wt=function(e,t){return{rows:e,columns:t}};var qt=function(e,t){return{row:e,column:t}};var Gt=function(e,t,n){return{element:e,rowspan:t,colspan:n}};var $t=function(e,t,n,r){return{element:e,rowspan:t,colspan:n,isNew:r}};var Kt=function(e,t,n,r,o,a){return{element:e,rowspan:t,colspan:n,row:r,column:o,isLocked:a}};var Xt=function(e,t,n){return{element:e,cells:t,section:n}};var Yt=function(e,t,n,r){return{element:e,cells:t,section:n,isNew:r}};var Jt=function(e,t,n){return{element:e,isNew:t,isLocked:n}};var Qt=function(e,t,n,r){return{element:e,cells:t,section:n,isNew:r}};var Zt=function(e,t,n,r){return{startRow:e,startCol:t,finishRow:n,finishCol:r}};var en=function(e,t,n){return{element:e,colspan:t,column:n}};var tn=function(e,t){return{element:e,columns:t}};typeof window!=="undefined"?window:Function("return this;")();var nn=function(e){var t=e.dom.nodeName;return t.toLowerCase()};var rn=function(e){return e.dom.nodeType};var on=function(e){return function(t){return rn(t)===e}};var an=function(e){return rn(e)===ut||nn(e)==="#comment"};var un=on(st);var cn=on(lt);var fn=on(ct);var sn=on(ft);var ln=function(e){return function(t){return un(t)&&nn(t)===e}};var vn=function(e){return pt.fromDom(e.dom.ownerDocument)};var dn=function(e){return fn(e)?e:vn(e)};var mn=function(e){return pt.fromDom(dn(e).dom.defaultView)};var gn=function(e){return D.from(e.dom.parentNode).map(pt.fromDom)};var hn=function(e){return D.from(e.dom.parentElement).map(pt.fromDom)};var pn=function(e,t){var n=v(t)?t:S;var r=e.dom;var o=[];while(r.parentNode!==null&&r.parentNode!==undefined){var a=r.parentNode;var i=pt.fromDom(a);o.push(i);if(n(i)===true){break}else{r=a}}return o};var bn=function(e){return D.from(e.dom.previousSibling).map(pt.fromDom)};var yn=function(e){return D.from(e.dom.nextSibling).map(pt.fromDom)};var wn=function(e){return L(e.dom.childNodes,pt.fromDom)};var xn=function(e,t){var n=e.dom.childNodes;return D.from(n[t]).map(pt.fromDom)};var Cn=function(e){return xn(e,0)};var Sn=function(e){return sn(e)&&l(e.dom.host)};var kn=v(Element.prototype.attachShadow)&&v(Node.prototype.getRootNode);var Tn=p(kn);var On=kn?function(e){return pt.fromDom(e.dom.getRootNode())}:dn;var _n=function(e){var t=On(e);return Sn(t)?D.some(t):D.none()};var En=function(e){return pt.fromDom(e.dom.host)};var Dn=function(e){if(Tn()&&l(e.target)){var t=pt.fromDom(e.target);if(un(t)&&An(t)){if(e.composed&&e.composedPath){var n=e.composedPath();if(n){return te(n)}}}}return D.from(e.target)};var An=function(e){return l(e.dom.shadowRoot)};var Nn=function(e){var t=cn(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}var n=t.ownerDocument;return _n(pt.fromDom(t)).fold((function(){return n.body.contains(t)}),h(Nn,En))};var Mn=function(){return Rn(pt.fromDom(document))};var Rn=function(e){var t=e.dom.body;if(t===null||t===undefined){throw new Error("Body is not available yet")}return pt.fromDom(t)};var zn=function(e,t,n){return V(pn(e,n),t)};var Bn=function(e,t){return V(wn(e),t)};var Pn=function(e,t){var n=[];H(wn(e),(function(e){if(t(e)){n=n.concat([e])}n=n.concat(Pn(e,t))}));return n};var Ln=function(e,t,n){return zn(e,(function(e){return bt(e,t)}),n)};var Hn=function(e,t){return Bn(e,(function(e){return bt(e,t)}))};var In=function(e,t){return wt(t,e)};function Fn(e,t,n,r,o){if(e(n,r)){return D.some(n)}else if(v(o)&&o(n)){return D.none()}else{return t(n,r,o)}}var Vn=function(e,t,n){var r=e.dom;var o=v(n)?n:S;while(r.parentNode){r=r.parentNode;var a=pt.fromDom(r);if(t(a)){return D.some(a)}else if(o(a)){break}}return D.none()};var Un=function(e,t,n){var r=function(e,t){return t(e)};return Fn(r,Vn,e,t,n)};var jn=function(e,t){var n=function(e){return t(pt.fromDom(e))};var r=q(e.dom.childNodes,n);return r.map(pt.fromDom)};var Wn=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=pt.fromDom(e.childNodes[r]);if(t(o)){return D.some(o)}var a=n(e.childNodes[r]);if(a.isSome()){return a}}return D.none()};return n(e.dom)};var qn=function(e,t,n){return Vn(e,(function(e){return bt(e,t)}),n)};var Gn=function(e,t){return jn(e,(function(e){return bt(e,t)}))};var $n=function(e,t){return xt(t,e)};var Kn=function(e,t,n){var r=function(e,t){return bt(e,t)};return Fn(r,qn,e,t,n)};var Xn=function(e,t,n){if(o(n)||c(n)||d(n)){e.setAttribute(t,n+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e);throw new Error("Attribute value was not simple")}};var Yn=function(e,t,n){Xn(e.dom,t,n)};var Jn=function(e,t){var n=e.dom;Dt(t,(function(e,t){Xn(n,t,e)}))};var Qn=function(e,t){Dt(t,(function(t,n){t.fold((function(){tr(e,n)}),(function(t){Xn(e.dom,n,t)}))}))};var Zn=function(e,t){var n=e.dom.getAttribute(t);return n===null?undefined:n};var er=function(e,t){return D.from(Zn(e,t))};var tr=function(e,t){e.dom.removeAttribute(t)};var nr=function(e){return j(e.dom.attributes,(function(e,t){e[t.name]=t.value;return e}),{})};var rr=function(e,t,n){if(n===void 0){n=y}return e.exists((function(e){return n(e,t)}))};var or=function(e){var t=[];var n=function(e){t.push(e)};for(var r=0;r<e.length;r++){e[r].each(n)}return t};var ar=function(e,t,n){return e.isSome()&&t.isSome()?D.some(n(e.getOrDie(),t.getOrDie())):D.none()};var ir=function(e,t){return e!==undefined&&e!==null?t(e):D.none()};var ur=function(e){return e.bind(b)};var cr=function(e,t){return e?D.some(t):D.none()};var fr=function(e){return e.style!==undefined&&v(e.style.getPropertyValue)};var sr=function(e,t,n){if(!o(n)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e);throw new Error("CSS value must be a string: "+n)}if(fr(e)){e.style.setProperty(t,n)}};var lr=function(e,t){if(fr(e)){e.style.removeProperty(t)}};var vr=function(e,t,n){var r=e.dom;sr(r,t,n)};var dr=function(e,t){var n=e.dom;Dt(t,(function(e,t){sr(n,t,e)}))};var mr=function(e,t){var n=e.dom;var r=window.getComputedStyle(n);var o=r.getPropertyValue(t);return o===""&&!Nn(e)?gr(n,t):o};var gr=function(e,t){return fr(e)?e.style.getPropertyValue(t):""};var hr=function(e,t){var n=e.dom;var r=gr(n,t);return D.from(r).filter((function(e){return e.length>0}))};var pr=function(e,t){var n=e.dom;lr(n,t);if(rr(er(e,"style").map(Te),"")){tr(e,"style")}};var br=function(e,t){var n=e.dom;var r=t.dom;if(fr(n)&&fr(r)){r.style.cssText=n.style.cssText}};var yr=function(e,t,n){if(n===void 0){n=0}return er(e,t).map((function(e){return parseInt(e,10)})).getOr(n)};var wr=function(e,t){return yr(e,t,1)};var xr=function(e){if(ln("col")(e)){return yr(e,"span",1)>1}else{return wr(e,"colspan")>1}};var Cr=function(e){return wr(e,"rowspan")>1};var Sr=function(e,t){return parseInt(mr(e,t),10)};var kr=p(10);var Tr=p(10);var Or=function(e,t){return _r(e,t,k)};var _r=function(e,t,n){return K(wn(e),(function(e){if(bt(e,t)){return n(e)?[e]:[]}else{return _r(e,t,n)}}))};var Er=function(e,t,n){if(n===void 0){n=S}if(n(t)){return D.none()}if(z(e,nn(t))){return D.some(t)}var r=function(e){return bt(e,"table")||n(e)};return qn(t,e.join(","),r)};var Dr=function(e,t){return Er(["td","th"],e,t)};var Ar=function(e){return Or(e,"th,td")};var Nr=function(e){if(bt(e,"colgroup")){return Hn(e,"col")}else{return K(zr(e),(function(e){return Hn(e,"col")}))}};var Mr=function(e,t){return Kn(e,"table",t)};var Rr=function(e){return Or(e,"tr")};var zr=function(e){return Mr(e).fold(p([]),(function(e){return Hn(e,"colgroup")}))};var Br=function(e,t){return L(e,(function(e){if(nn(e)==="colgroup"){var n=L(Nr(e),(function(e){var t=yr(e,"span",1);return Gt(e,1,t)}));return Xt(e,n,"colgroup")}else{var n=L(Ar(e),(function(e){var t=yr(e,"rowspan",1);var n=yr(e,"colspan",1);return Gt(e,t,n)}));return Xt(e,n,t(e))}}))};var Pr=function(e){return gn(e).map((function(e){var t=nn(e);return jt(t)?t:"tbody"})).getOr("tbody")};var Lr=function(e){var t=Rr(e);var n=zr(e);var r=ae(ae([],n,true),t,true);return Br(r,Pr)};var Hr=function(e,t){return Br(e,(function(){return t}))};var Ir=function(e,t,n){var r=e.cells;var o=r.slice(0,t);var a=r.slice(t);var i=o.concat(n).concat(a);return Ur(e,i)};var Fr=function(e,t,n){return Ir(e,t,[n])};var Vr=function(e,t,n){var r=e.cells;r[t]=n};var Ur=function(e,t){return Qt(e.element,t,e.section,e.isNew)};var jr=function(e,t){var n=e.cells;var r=L(n,t);return Qt(e.element,r,e.section,e.isNew)};var Wr=function(e,t){return e.cells[t]};var qr=function(e,t){return Wr(e,t).element};var Gr=function(e){return e.cells.length};var $r=function(e){var t=F(e,(function(e){return e.section==="colgroup"}));return{rows:t.fail,cols:t.pass}};var Kr=function(e,t,n){var r=L(e.cells,n);return Qt(t(e.element),r,e.section,true)};var Xr="data-snooker-locked-cols";var Yr=function(e){return er(e,Xr).bind((function(e){return D.from(e.match(/\d+/g))})).map((function(e){return J(e,k)}))};var Jr=function(e){var t=j($r(e).rows,(function(e,t){H(t.cells,(function(t,n){if(t.isLocked){e[n]=true}}));return e}),{});var n=Bt(t,(function(e,t){return parseInt(t,10)}));return Z(n)};var Qr=function(e,t){return e+","+t};var Zr=function(e,t,n){return D.from(e.access[Qr(t,n)])};var eo=function(e,t,n){var r=to(e,(function(e){return n(t,e.element)}));return r.length>0?D.some(r[0]):D.none()};var to=function(e,t){var n=K(e.all,(function(e){return e.cells}));return V(n,t)};var no=function(e){var t={};var n=0;H(e.cells,(function(e){var r=e.colspan;P(r,(function(o){var a=n+o;t[a]=en(e.element,r,a)}));n+=r}));return t};var ro=function(e){var t={};var n=[];var r=te(e).map((function(e){return e.element})).bind(Mr);var o=r.bind(Yr).getOr({});var a=0;var i=0;var u=0;var c=F(e,(function(e){return e.section==="colgroup"})),f=c.pass,s=c.fail;H(s,(function(e){var r=[];H(e.cells,(function(e){var n=0;while(t[Qr(u,n)]!==undefined){n++}var a=Ft(o,n.toString());var c=Kt(e.element,e.rowspan,e.colspan,u,n,a);for(var f=0;f<e.colspan;f++){for(var s=0;s<e.rowspan;s++){var l=u+s;var v=n+f;var d=Qr(l,v);t[d]=c;i=Math.max(i,v+1)}}r.push(c)}));a++;n.push(Xt(e.element,r,e.section));u++}));var l=ne(f).map((function(e){var t=no(e);var n=tn(e.element,Pt(t));return{colgroups:[n],columns:t}})).getOrThunk((function(){return{colgroups:[],columns:{}}})),v=l.columns,d=l.colgroups;var m=Wt(a,i);return{grid:m,access:t,all:n,columns:v,colgroups:d}};var oo=function(e){var t=Lr(e);return ro(t)};var ao=function(e){return K(e.all,(function(e){return e.cells}))};var io=function(e){return Pt(e.columns)};var uo=function(e){return _t(e.columns).length>0};var co=function(e,t){return D.from(e.columns[t])};var fo={fromTable:oo,generate:ro,getAt:Zr,findItem:eo,filterItems:to,justCells:ao,justColumns:io,hasColumns:uo,getColumnAt:co};var so=function(e,t){var n=t.column;var r=t.column+t.colspan-1;var o=t.row;var a=t.row+t.rowspan-1;return n<=e.finishCol&&r>=e.startCol&&(o<=e.finishRow&&a>=e.startRow)};var lo=function(e,t){return t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow};var vo=function(e,t){var n=true;var r=w(lo,t);for(var o=t.startRow;o<=t.finishRow;o++){for(var a=t.startCol;a<=t.finishCol;a++){n=n&&fo.getAt(e,o,a).exists(r)}}return n?D.some(t):D.none()};var mo=function(e,t){return Zt(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1))};var go=function(e,t,n){var r=fo.findItem(e,t,Ct);var o=fo.findItem(e,n,Ct);return r.bind((function(e){return o.map((function(t){return mo(e,t)}))}))};var ho=function(e,t,n){return go(e,t,n).bind((function(t){return vo(e,t)}))};var po=function(e,t,n,r){return fo.findItem(e,t,Ct).bind((function(t){var o=n>0?t.row+t.rowspan-1:t.row;var a=r>0?t.column+t.colspan-1:t.column;var i=fo.getAt(e,o+n,a+r);return i.map((function(e){return e.element}))}))};var bo=function(e,t,n){return go(e,t,n).map((function(t){var n=fo.filterItems(e,w(so,t));return L(n,(function(e){return e.element}))}))};var yo=function(e,t){var n=function(e,t){return Tt(t,e)};return fo.findItem(e,t,n).map((function(e){return e.element}))};var wo=function(e,t,n){return Mr(e).bind((function(r){var o=ko(r);return po(o,e,t,n)}))};var xo=function(e,t,n){var r=ko(e);return bo(r,t,n)};var Co=function(e,t,n,r,o){var a=ko(e);var i=Ct(e,n)?D.some(t):yo(a,t);var u=Ct(e,o)?D.some(r):yo(a,r);return i.bind((function(e){return u.bind((function(t){return bo(a,e,t)}))}))};var So=function(e,t,n){var r=ko(e);return ho(r,t,n)};var ko=fo.fromTable;var To=function(e,t){var n=gn(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))};var Oo=function(e,t){var n=yn(e);n.fold((function(){var n=gn(e);n.each((function(e){Eo(e,t)}))}),(function(e){To(e,t)}))};var _o=function(e,t){var n=Cn(e);n.fold((function(){Eo(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))};var Eo=function(e,t){e.dom.appendChild(t.dom)};var Do=function(e,t,n){xn(e,n).fold((function(){Eo(e,t)}),(function(e){To(e,t)}))};var Ao=function(e,t){To(e,t);Eo(t,e)};var No=function(e,t){H(t,(function(t){To(e,t)}))};var Mo=function(e,t){H(t,(function(n,r){var o=r===0?e:t[r-1];Oo(o,n)}))};var Ro=function(e,t){H(t,(function(t){Eo(e,t)}))};var zo=function(e){e.dom.textContent="";H(wn(e),(function(e){Bo(e)}))};var Bo=function(e){var t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};var Po=function(e){var t=wn(e);if(t.length>0){No(e,t)}Bo(e)};var Lo=function(e,t){var n=function(n){if(!e(n)){throw new Error("Can only get "+t+" value of a "+t+" node")}return r(n).getOr("")};var r=function(t){return e(t)?D.from(t.dom.nodeValue):D.none()};var o=function(n,r){if(!e(n)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}n.dom.nodeValue=r};return{get:n,getOption:r,set:o}};var Ho=Lo(cn,"text");var Io=function(e){return Ho.get(e)};var Fo=function(e){return Ho.getOption(e)};var Vo=function(e,t){return Ho.set(e,t)};var Uo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function jo(){var e=function(e){return pt.fromDom(e.dom.cloneNode(false))};var t=function(e){return dn(e).dom};var n=function(e){if(!un(e)){return false}if(nn(e)==="body"){return true}return z(Uo,nn(e))};var r=function(e){if(!un(e)){return false}return z(["br","img","hr","input"],nn(e))};var o=function(e){return un(e)&&Zn(e,"contenteditable")==="false"};var a=function(e,t){return e.dom.compareDocumentPosition(t.dom)};var i=function(e,t){var n=nr(e);Jn(t,n)};var u=function(e){var t=nn(e);return z(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)};var c=function(e){return un(e)?er(e,"lang"):D.none()};return{up:p({selector:qn,closest:Kn,predicate:Vn,all:pn}),down:p({selector:In,predicate:Pn}),styles:p({get:mr,getRaw:hr,set:vr,remove:pr}),attrs:p({get:Zn,set:Yn,remove:tr,copyTo:i}),insert:p({before:To,after:Oo,afterAll:Mo,append:Eo,appendAll:Ro,prepend:_o,wrap:Ao}),remove:p({unwrap:Po,remove:Bo}),create:p({nu:pt.fromTag,clone:e,text:pt.fromText}),query:p({comparePosition:a,prevSibling:bn,nextSibling:yn}),property:p({children:wn,name:nn,parent:gn,document:t,isText:cn,isComment:an,isElement:un,isSpecial:u,getLanguage:c,getText:Io,setText:Vo,isBoundary:n,isEmptyTag:r,isNonEditable:o}),eq:Ct,is:Ot}}var Wo=function(e,t,n,r){var o=n[0];var a=n.slice(1);return r(e,t,o,a)};var qo=function(e,t,n){return n.length>0?Wo(e,t,n,Go):D.none()};var Go=function(e,t,n,r){var o=t(e,n);return U(r,(function(n,r){var o=t(e,r);return $o(e,n,o)}),o)};var $o=function(e,t,n){return t.bind((function(t){return n.filter(w(e.eq,t))}))};var Ko=function(e,t){return w(e.eq,t)};var Xo=function(e,t,n,r){if(r===void 0){r=S}var o=[t].concat(e.up().all(t));var a=[n].concat(e.up().all(n));var i=function(e){var t=G(e,r);return t.fold((function(){return e}),(function(t){return e.slice(0,t+1)}))};var u=i(o);var c=i(a);var f=q(u,(function(t){return B(c,Ko(e,t))}));return{firstpath:u,secondpath:c,shared:f}};var Yo=qo;var Jo=Xo;var Qo=jo();var Zo=function(e,t){return Yo(Qo,(function(t,n){return e(n)}),t)};var ea=function(e,t,n){return Jo(Qo,e,t,n)};var ta=function(e){return qn(e,"table")};var na=function(e,t,n){var r=function(e){return function(t){return n!==undefined&&n(t)||Ct(t,e)}};if(Ct(e,t)){return D.some({boxes:D.some([e]),start:e,finish:t})}else{return ta(e).bind((function(o){return ta(t).bind((function(a){if(Ct(o,a)){return D.some({boxes:xo(o,e,t),start:e,finish:t})}else if(Tt(o,a)){var i=Ln(t,"td,th",r(o));var u=i.length>0?i[i.length-1]:t;return D.some({boxes:Co(o,e,o,t,a),start:e,finish:u})}else if(Tt(a,o)){var i=Ln(e,"td,th",r(a));var c=i.length>0?i[i.length-1]:e;return D.some({boxes:Co(a,e,o,t,a),start:e,finish:c})}else{return ea(e,t).shared.bind((function(i){return Kn(i,"table",n).bind((function(n){var i=Ln(t,"td,th",r(n));var u=i.length>0?i[i.length-1]:t;var c=Ln(e,"td,th",r(n));var f=c.length>0?c[c.length-1]:e;return D.some({boxes:Co(n,e,o,t,a),start:f,finish:u})}))}))}}))}))}};var ra=function(e,t){var n=In(e,t);return n.length>0?D.some(n):D.none()};var oa=function(e,t){return q(e,(function(e){return bt(e,t)}))};var aa=function(e,t,n){return $n(e,t).bind((function(t){return $n(e,n).bind((function(e){return Zo(ta,[t,e]).map((function(n){return{first:t,last:e,table:n}}))}))}))};var ia=function(e,t){return qn(e,"table").bind((function(n){return $n(n,t).bind((function(t){return na(t,e).bind((function(e){return e.boxes.map((function(t){return{boxes:t,start:e.start,finish:e.finish}}))}))}))}))};var ua=function(e,t,n,r,o){return oa(e,o).bind((function(e){return wo(e,t,n).bind((function(e){return ia(e,r)}))}))};var ca=function(e,t){return ra(e,t)};var fa=function(e,t,n){return aa(e,t,n).bind((function(t){var n=function(t){return Ct(e,t)};var r="thead,tfoot,tbody,table";var o=qn(t.first,r,n);var a=qn(t.last,r,n);return o.bind((function(e){return a.bind((function(n){return Ct(e,n)?So(t.table,t.first,t.last):D.none()}))}))}))};var sa=function(e){if(!i(e)){throw new Error("cases must be an array")}if(e.length===0){throw new Error("there must be at least one case")}var t=[];var n={};H(e,(function(r,o){var a=_t(r);if(a.length!==1){throw new Error("one and only one name per case")}var u=a[0];var c=r[u];if(n[u]!==undefined){throw new Error("duplicate key detected:"+u)}else if(u==="cata"){throw new Error("cannot have a case named cata (sorry)")}else if(!i(c)){throw new Error("case arguments must be an array")}t.push(u);n[u]=function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}var a=n.length;if(a!==c.length){throw new Error("Wrong number of arguments to case "+u+". Expected "+c.length+" ("+c+"), got "+a)}var i=function(e){var r=_t(e);if(t.length!==r.length){throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","))}var o=X(t,(function(e){return z(r,e)}));if(!o){throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "))}return e[u].apply(null,n)};return{fold:function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}if(t.length!==e.length){throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)}var a=t[o];return a.apply(null,n)},match:i,log:function(e){console.log(e,{constructors:t,constructor:u,params:n})}}}}));return n};var la={generate:sa};var va=la.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]);var da=function(e,t,n,r){return e.fold(t,n,r)};var ma=va.none;var ga=va.multiple;var ha=va.single;var pa=function(e,t,n){var r=function(){return ca(e(),n).fold((function(){return t().fold(ma,ha)}),(function(e){return ga(e)}))};return{get:r}};var ba=tinymce.util.Tools.resolve("tinymce.PluginManager");var ya=function(e,t){return pt.fromDom(e.dom.cloneNode(t))};var wa=function(e){return ya(e,false)};var xa=function(e){return ya(e,true)};var Ca=function(e,t){var n=pt.fromTag(t);var r=nr(e);Jn(n,r);return n};var Sa=function(e,t){var n=Ca(e,t);var r=wn(xa(e));Ro(n,r);return n};var ka=function(e,t){var n=Ca(e,t);To(e,n);var r=wn(e);Ro(n,r);Bo(e);return n};var Ta=function(e,t){var n=function(t,n){if(!d(n)&&!n.match(/^[0-9]+$/)){throw new Error(e+".set accepts only positive integer values. Value was "+n)}var r=t.dom;if(fr(r)){r.style[e]=n+"px"}};var r=function(n){var r=t(n);if(r<=0||r===null){var o=mr(n,e);return parseFloat(o)||0}return r};var o=r;var a=function(e,t){return j(t,(function(t,n){var r=mr(e,n);var o=r===undefined?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)};var i=function(e,t,n){var r=a(e,n);var o=t>r?t-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:a,max:i}};var Oa=function(){var e=ot().browser;return e.isIE()||e.isEdge()};var _a=function(e,t){return Ee(e).getOr(t)};var Ea=function(e,t,n){return _a(mr(e,t),n)};var Da=function(e){return mr(e,"box-sizing")};var Aa=function(e,t,n,r){var o=Ea(e,"padding-"+n,0);var a=Ea(e,"padding-"+r,0);var i=Ea(e,"border-"+n+"-width",0);var u=Ea(e,"border-"+r+"-width",0);return t-o-a-i-u};var Na=function(e,t){var n=e.dom;var r=n.getBoundingClientRect().height||n.offsetHeight;return t==="border-box"?r:Aa(e,r,"top","bottom")};var Ma=function(e,t){var n=e.dom;var r=n.getBoundingClientRect().width||n.offsetWidth;return t==="border-box"?r:Aa(e,r,"left","right")};var Ra=function(e){return Oa()?Na(e,Da(e)):Ea(e,"height",e.dom.offsetHeight)};var za=function(e){return Oa()?Ma(e,Da(e)):Ea(e,"width",e.dom.offsetWidth)};var Ba=function(e){return Ma(e,"content-box")};var Pa=Ta("width",(function(e){return e.dom.offsetWidth}));var La=function(e){return Pa.get(e)};var Ha=function(e){return Pa.getOuter(e)};var Ia=Ba;var Fa=za;var Va=function(e,t){if(t===void 0){t=k}var n=e.grid;var r=P(n.columns,b);var o=P(n.rows,b);return L(r,(function(n){var r=function(){return K(o,(function(t){return fo.getAt(e,t,n).filter((function(e){return e.column===n})).toArray()}))};var a=function(e){return e.colspan===1&&t(e.element)};var i=function(){return fo.getAt(e,0,n)};return Ua(r,a,i)}))};var Ua=function(e,t,n){var r=e();var o=q(r,t);var a=o.orThunk((function(){return D.from(r[0]).orThunk(n)}));return a.map((function(e){return e.element}))};var ja=function(e){var t=e.grid;var n=P(t.rows,b);var r=P(t.columns,b);return L(n,(function(t){var n=function(){return K(r,(function(n){return fo.getAt(e,t,n).filter((function(e){return e.row===t})).fold(p([]),(function(e){return[e]}))}))};var o=function(e){return e.rowspan===1};var a=function(){return fo.getAt(e,t,0)};return Ua(n,o,a)}))};var Wa=function(e,t){if(t<0||t>=e.length-1){return D.none()}var n=e[t].fold((function(){var n=Y(e.slice(0,t));return re(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return D.some({value:e,delta:0})}));var r=e[t+1].fold((function(){var n=e.slice(t+1);return re(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return D.some({value:e,delta:1})}));return n.bind((function(e){return r.map((function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))}))};var qa=function(e,t){return function(n){return Ga(n)==="rtl"?t:e}};var Ga=function(e){return mr(e,"direction")==="rtl"?"rtl":"ltr"};var $a=Ta("height",(function(e){var t=e.dom;return Nn(e)?t.getBoundingClientRect().height:t.offsetHeight}));var Ka=function(e){return $a.get(e)};var Xa=function(e){return $a.getOuter(e)};var Ya=Ra;var Ja=function(e,t){var n=function(n,r){return Ja(e+n,t+r)};return{left:e,top:t,translate:n}};var Qa=Ja;var Za=function(e){var t=e.getBoundingClientRect();return Qa(t.left,t.top)};var ei=function(e,t){if(e!==undefined){return e}else{return t!==undefined?t:0}};var ti=function(e){var t=e.dom.ownerDocument;var n=t.body;var r=t.defaultView;var o=t.documentElement;if(n===e.dom){return Qa(n.offsetLeft,n.offsetTop)}var a=ei(r===null||r===void 0?void 0:r.pageYOffset,o.scrollTop);var i=ei(r===null||r===void 0?void 0:r.pageXOffset,o.scrollLeft);var u=ei(o.clientTop,n.clientTop);var c=ei(o.clientLeft,n.clientLeft);return ni(e).translate(i-c,a-u)};var ni=function(e){var t=e.dom;var n=t.ownerDocument;var r=n.body;if(r===t){return Qa(r.offsetLeft,r.offsetTop)}if(!Nn(e)){return Qa(0,0)}return Za(t)};var ri=function(e,t){return{row:e,y:t}};var oi=function(e,t){return{col:e,x:t}};var ai=function(e){var t=ti(e);return t.left+Ha(e)};var ii=function(e){return ti(e).left};var ui=function(e,t){return oi(e,ii(t))};var ci=function(e,t){return oi(e,ai(t))};var fi=function(e){return ti(e).top};var si=function(e,t){return ri(e,fi(t))};var li=function(e,t){return ri(e,fi(t)+Xa(t))};var vi=function(e,t,n){if(n.length===0){return[]}var r=L(n.slice(1),(function(t,n){return t.map((function(t){return e(n,t)}))}));var o=n[n.length-1].map((function(e){return t(n.length-1,e)}));return r.concat([o])};var di=function(e){return-e};var mi={delta:b,positions:function(e){return vi(si,li,e)},edge:fi};var gi={delta:b,edge:ii,positions:function(e){return vi(ui,ci,e)}};var hi={delta:di,edge:ai,positions:function(e){return vi(ci,ui,e)}};var pi=qa(gi,hi);var bi={delta:function(e,t){return pi(t).delta(e,t)},positions:function(e,t){return pi(t).positions(e,t)},edge:function(e){return pi(e).edge(e)}};var yi={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]};var wi=function(){var e="[0-9]+";var t="[+-]?"+e;var n="[eE]"+t;var r="\\.";var o=function(e){return"(?:"+e+")?"};var a=["Infinity",e+r+o(e)+o(n),r+e+o(n),e+o(n)].join("|");var i="[+-]?(?:"+a+")";return new RegExp("^("+i+")(.*)$")}();var xi=function(e,t){return B(t,(function(t){return B(yi[t],(function(t){return e===t}))}))};var Ci=function(e,t){var n=D.from(wi.exec(e));return n.bind((function(e){var n=Number(e[1]);var r=e[2];if(xi(r,t)){return D.some({value:n,unit:r})}else{return D.none()}}))};var Si=/(\d+(\.\d+)?)%/;var ki=/(\d+(\.\d+)?)px|em/;var Ti=ln("col");var Oi=function(e,t,n){var r=hn(e).getOrThunk((function(){return Rn(vn(e))}));return t(e)/n(r)*100};var _i=function(e,t){vr(e,"width",t+"px")};var Ei=function(e,t){vr(e,"width",t+"%")};var Di=function(e,t){vr(e,"height",t+"px")};var Ai=function(e){return Ya(e)+"px"};var Ni=function(e,t,n,r){var o=Mr(e).map((function(e){var r=n(e);return Math.floor(t/100*r)})).getOr(t);r(e,o);return o};var Mi=function(e,t,n,r){var o=parseFloat(e);return Se(e,"%")&&nn(t)!=="table"?Ni(t,o,n,r):o};var Ri=function(e){var t=Ai(e);if(!t){return Ka(e)}return Mi(t,e,Ka,Di)};var zi=function(e,t,n){var r=n(e);var o=wr(e,t);return r/o};var Bi=function(e,t){return hr(e,t).orThunk((function(){return er(e,t).map((function(e){return e+"px"}))}))};var Pi=function(e){return Bi(e,"width")};var Li=function(e){return Bi(e,"height")};var Hi=function(e){return Oi(e,La,Ia)};var Ii=function(e){return Ti(e)?La(e):Fa(e)};var Fi=function(e){return zi(e,"rowspan",Ri)};var Vi=function(e){var t=Pi(e);return t.bind((function(e){return Ci(e,["fixed","relative","empty"])}))};var Ui=function(e,t,n){vr(e,"width",t+n)};var ji=function(e){return La(e)+"px"};var Wi=function(e){return Oi(e,La,Ia)+"%"};var qi=function(e){return Pi(e).exists((function(e){return Si.test(e)}))};var Gi=function(e){return Pi(e).exists((function(e){return ki.test(e)}))};var $i=function(e){return Pi(e).isNone()};var Ki=p(Si);var Xi=ln("col");var Yi=function(e){return Pi(e).getOrThunk((function(){return Ii(e)+"px"}))};var Ji=function(e){return Li(e).getOrThunk((function(){return Fi(e)+"px"}))};var Qi=function(e){return L(fo.justColumns(e),(function(e){return D.from(e.element)}))};var Zi=function(e){var t=ot().browser;var n=t.isChrome()||t.isFirefox();return Xi(e)?n:true};var eu=function(e,t,n,r,o,a){return e.filter(r).fold((function(){return a(Wa(n,t))}),(function(e){return o(e)}))};var tu=function(e,t,n,r){var o=Va(e);var a=fo.hasColumns(e)?Qi(e):o;var i=[D.some(bi.edge(t))].concat(L(bi.positions(o,t),(function(e){return e.map((function(e){return e.x}))})));var u=x(xr);return L(a,(function(e,t){return eu(e,t,i,u,(function(e){if(Zi(e)){return n(e)}else{var a=ir(o[t],b);return eu(a,t,i,u,(function(e){return r(D.some(La(e)))}),r)}}),r)}))};var nu=function(e){return e.map((function(e){return e+"px"})).getOr("")};var ru=function(e,t){return tu(e,t,Yi,nu)};var ou=function(e,t,n){return tu(e,t,Hi,(function(e){return e.fold((function(){return n.minCellWidth()}),(function(e){return e/n.pixelWidth()*100}))}))};var au=function(e,t,n){return tu(e,t,Ii,(function(e){return e.getOrThunk(n.minCellWidth)}))};var iu=function(e,t,n,r,o){var a=ja(e);var i=[D.some(n.edge(t))].concat(L(n.positions(a,t),(function(e){return e.map((function(e){return e.y}))})));return L(a,(function(e,t){return eu(e,t,i,x(Cr),r,o)}))};var uu=function(e,t,n){return iu(e,t,n,Fi,(function(e){return e.getOrThunk(Tr)}))};var cu=function(e,t,n){return iu(e,t,n,Ji,nu)};var fu=function(e,t){return function(){if(Nn(e)){return t(e)}else{return parseFloat(hr(e,"width").getOr("0"))}}};var su=function(e){var t=fu(e,La);var n=p(0);var r=function(t,n){return au(t,e,n)};return{width:t,pixelWidth:t,getWidths:r,getCellDelta:n,singleColumnWidth:p([0]),minCellWidth:n,setElementWidth:m,adjustTableWidth:m,isRelative:true,label:"none"}};var lu=function(e){var t=fu(e,(function(e){return parseFloat(Wi(e))}));var n=fu(e,La);var r=function(e){return e/n()*100};var o=function(e,t){return[100-e]};var a=function(){return kr()/n()*100};var i=function(n){var r=t();var o=n/100*r;var a=r+o;Ei(e,a)};var u=function(t,n){return ou(t,e,n)};return{width:t,pixelWidth:n,getWidths:u,getCellDelta:r,singleColumnWidth:o,minCellWidth:a,setElementWidth:Ei,adjustTableWidth:i,isRelative:true,label:"percent"}};var vu=function(e){var t=fu(e,La);var n=b;var r=function(e,t){var n=Math.max(kr(),e+t);return[n-e]};var o=function(n){var r=t()+n;_i(e,r)};var a=function(t,n){return au(t,e,n)};return{width:t,pixelWidth:t,getWidths:a,getCellDelta:n,singleColumnWidth:r,minCellWidth:kr,setElementWidth:_i,adjustTableWidth:o,isRelative:false,label:"pixel"}};var du=function(e,t){var n=Ki().exec(t);if(n!==null){return lu(e)}else{return vu(e)}};var mu=function(e){var t=Pi(e);return t.fold((function(){return su(e)}),(function(t){return du(e,t)}))};var gu={getTableSize:mu,pixelSize:vu,percentageSize:lu,noneSize:su};var hu=function(e,t,n,r,o,a){return{minRow:e,minCol:t,maxRow:n,maxCol:r,allCells:o,selectedCells:a}};var pu=function(e,t){var n=e.grid.columns;var r=e.grid.rows;var o=r;var a=n;var i=0;var u=0;var c=[];var f=[];Dt(e.access,(function(e){c.push(e);if(t(e)){f.push(e);var n=e.row;var r=n+e.rowspan-1;var s=e.column;var l=s+e.colspan-1;if(n<o){o=n}else if(r>i){i=r}if(s<a){a=s}else if(l>u){u=l}}}));return hu(o,a,i,u,c,f)};var bu=function(e,t,n){var r=e[n].element;var o=pt.fromTag("td");Eo(o,pt.fromTag("br"));var a=t?Eo:_o;a(r,o)};var yu=function(e,t,n,r){var o=t.grid.columns;var a=t.grid.rows;for(var i=0;i<a;i++){var u=false;for(var c=0;c<o;c++){if(!(i<n.minRow||i>n.maxRow||c<n.minCol||c>n.maxCol)){var f=fo.getAt(t,i,c).filter(r).isNone();if(f){bu(e,u,i)}else{u=true}}}}};var wu=function(e,t,n,r){Dt(n.columns,(function(e){if(e.column<t.minCol||e.column>t.maxCol){Bo(e.element)}}));var o=V(Or(e,"tr"),(function(e){return e.dom.childElementCount===0}));H(o,Bo);if(t.minCol===t.maxCol||t.minRow===t.maxRow){H(Or(e,"th,td"),(function(e){tr(e,"rowspan");tr(e,"colspan")}))}tr(e,Xr);tr(e,"data-snooker-col-series");var a=gu.getTableSize(e);a.adjustTableWidth(r)};var xu=function(e,t,n,r){if(r.minCol===0&&t.grid.columns===r.maxCol+1){return 0}var o=au(t,e,n);var a=j(o,(function(e,t){return e+t}),0);var i=j(o.slice(r.minCol,r.maxCol+1),(function(e,t){return e+t}),0);var u=i/a*n.pixelWidth();var c=u-n.pixelWidth();return n.getCellDelta(c)};var Cu=function(e,t){var n=function(e){return bt(e.element,t)};var r=xa(e);var o=Lr(r);var a=gu.getTableSize(e);var i=fo.generate(o);var u=pu(i,n);var c="th:not("+t+")"+",td:not("+t+")";var f=_r(r,"th,td",(function(e){return bt(e,c)}));H(f,Bo);yu(o,i,u,n);var s=fo.fromTable(e);var l=xu(e,s,a,u);wu(r,u,i,l);return r};var Su="";var ku=function(e){return nn(e)==="img"?1:Fo(e).fold((function(){return wn(e).length}),(function(e){return e.length}))};var Tu=function(e){return Fo(e).filter((function(e){return e.trim().length!==0||e.indexOf(Su)>-1})).isSome()};var Ou=["img","br"];var _u=function(e){var t=Tu(e);return t||z(Ou,nn(e))};var Eu=function(e){return Wn(e,_u)};var Du=function(e){return Au(e,_u)};var Au=function(e,t){var n=function(e){var r=wn(e);for(var o=r.length-1;o>=0;o--){var a=r[o];if(t(a)){return D.some(a)}var i=n(a);if(i.isSome()){return i}}return D.none()};return n(e)};var Nu={scope:["row","col"]};var Mu=function(e){return function(){var t=pt.fromTag("td",e.dom);Eo(t,pt.fromTag("br",e.dom));return t}};var Ru=function(e){return function(){return pt.fromTag("col",e.dom)}};var zu=function(e){return function(){return pt.fromTag("colgroup",e.dom)}};var Bu=function(e){return function(){return pt.fromTag("tr",e.dom)}};var Pu=function(e,t,n){var r=Sa(e,t);Dt(n,(function(e,t){if(e===null){tr(r,t)}else{Yn(r,t,e)}}));return r};var Lu=function(e){return e};var Hu=function(e,t,n){var r=Eu(e);return r.map((function(r){var o=n.join(",");var a=Ln(r,o,(function(t){return Ct(t,e)}));return U(a,(function(e,t){var n=wa(t);tr(n,"contenteditable");Eo(e,n);return n}),t)})).getOr(t)};var Iu=function(e,t){Dt(Nu,(function(n,r){return er(e,r).filter((function(e){return z(n,e)})).each((function(e){return Yn(t,r,e)}))}))};var Fu=function(e,t,n){var r=function(e,t){br(e.element,t);pr(t,"height");if(e.colspan!==1){pr(t,"width")}};var o=function(o){var a=pt.fromTag(nn(o.element),t.dom);var i=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]);var u=i.length>0?Hu(o.element,a,i):a;Eo(u,pt.fromTag("br"));r(o,a);Iu(o.element,a);e(o.element,a);return a};var a=function(n){var o=pt.fromTag(nn(n.element),t.dom);r(n,o);e(n.element,o);return o};return{col:a,colgroup:zu(t),row:Bu(t),cell:o,replace:Pu,colGap:Ru(t),gap:Mu(t)}};var Vu=function(e){return{col:Ru(e),colgroup:zu(e),row:Bu(e),cell:Mu(e),replace:Lu,colGap:Ru(e),gap:Mu(e)}};var Uu=function(e,t){var n=t||document;var r=n.createElement("div");r.innerHTML=e;return wn(pt.fromDom(r))};var ju=function(e){return L(e,pt.fromDom)};var Wu=function(e){return e.nodeName.toLowerCase()};var qu=function(e){return pt.fromDom(e.getBody())};var Gu=function(e){return e.getBoundingClientRect().width};var $u=function(e){return e.getBoundingClientRect().height};var Ku=function(e){return function(t){return Ct(t,qu(e))}};var Xu=function(e){return e?e.replace(/px$/,""):""};var Yu=function(e){return/^\d+(\.\d+)?$/.test(e)?e+"px":e};var Ju=function(e){tr(e,"data-mce-style");var t=function(e){return tr(e,"data-mce-style")};H(Ar(e),t);H(Nr(e),t);H(Rr(e),t)};var Qu=function(e,t){var n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return D.from(n).filter(Oe)};var Zu=function(e){return/^(\d+(\.\d+)?)%$/.test(e)};var ec=function(e){return/^(\d+(\.\d+)?)px$/.test(e)};var tc=function(e){return pt.fromDom(e.selection.getStart())};var nc=function(e){return pt.fromDom(e.selection.getEnd())};var rc=function(e){return da(e.get(),p([]),b,Q)};var oc=function(e){var t=function(e,t){return er(e,t).exists((function(e){return parseInt(e,10)>1}))};var n=function(e){return t(e,"rowspan")||t(e,"colspan")};var r=rc(e);return r.length>0&&X(r,n)?D.some(r):D.none()};var ac=function(e,t,n){return da(t.get(),D.none,(function(t){if(t.length<=1){return D.none()}else{return fa(e,n.firstSelectedSelector,n.lastSelectedSelector).map((function(e){return{bounds:e,cells:t}}))}}),D.none)};var ic="data-mce-selected";var uc="td["+ic+"],th["+ic+"]";var cc="["+ic+"]";var fc="data-mce-first-selected";var sc="td["+fc+"],th["+fc+"]";var lc="data-mce-last-selected";var vc="td["+lc+"],th["+lc+"]";var dc=cc;var mc={selected:ic,selectedSelector:uc,firstSelected:fc,firstSelectedSelector:sc,lastSelected:lc,lastSelectedSelector:vc};var gc=function(e){return{element:e,mergable:D.none(),unmergable:D.none(),selection:[e]}};var hc=function(e,t,n){return{element:n,mergable:ac(t,e,mc),unmergable:oc(e),selection:rc(e)}};var pc=function(e,t,n){return{element:e,clipboard:t,generators:n}};var bc=function(e,t,n,r){return{selection:rc(e),clipboard:n,generators:r}};var yc=function(e){return Mr(e).bind((function(e){return ca(e,mc.firstSelectedSelector)})).fold(p(e),(function(e){return e[0]}))};var wc=function(e){return function(t,n){var r=nn(t);var o=r==="col"||r==="colgroup"?yc(t):t;return Kn(o,e,n)}};var xc=wc("th,td,caption");var Cc=wc("th,td");var Sc=function(e){return rc(e)};var kc=function(e,t){var n=Cc(e);var r=n.bind((function(e){return Mr(e)})).map((function(e){return Rr(e)}));return ar(n,r,(function(e,n){return V(n,(function(n){return B(ju(n.dom.cells),(function(n){return Zn(n,t)==="1"||Ct(n,e)}))}))})).getOr([])};var Tc=function(e){return Mr(e[0]).map((function(e){var t=Cu(e,dc);Ju(t);return[t]}))};var Oc=function(e,t){return L(t,(function(t){return e.selection.serializer.serialize(t.dom,{})})).join("")};var _c=function(e){return L(e,(function(e){return e.dom.innerText})).join("")};var Ec=function(e,t,n){e.on("BeforeGetContent",(function(n){var r=function(t){n.preventDefault();Tc(t).each((function(t){n.content=n.format==="text"?_c(t):Oc(e,t)}))};if(n.selection===true){da(t.get(),m,r,m)}}));e.on("BeforeSetContent",(function(r){if(r.selection===true&&r.paste===true){var o=Sc(t);te(o).each((function(t){Mr(t).each((function(o){var a=V(Uu(r.content),(function(e){return nn(e)!=="meta"}));var i=ln("table");if(a.length===1&&i(a[0])){r.preventDefault();var u=pt.fromDom(e.getDoc());var c=Vu(u);var f=pc(t,a[0],c);n.pasteCells(o,f).each((function(){e.focus()}))}}))}))}}))};var Dc=la.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]);var Ac=oe({},Dc);var Nc=function(e,t){if(e.length===0){return Ac.none()}if(e.length===1){return Ac.only(0)}if(t===0){return Ac.left(0,1)}if(t===e.length-1){return Ac.right(t-1,t)}if(t>0&&t<e.length-1){return Ac.middle(t-1,t,t+1)}return Ac.none()};var Mc=function(e,t,n,r,o){var a=e.slice(0);var i=Nc(e,t);var u=p(L(a,p(0)));var c=function(e){return r.singleColumnWidth(a[e],n)};var f=function(e,t){return o.calcLeftEdgeDeltas(a,e,t,n,r.minCellWidth(),r.isRelative)};var s=function(e,t,i){return o.calcMiddleDeltas(a,e,t,i,n,r.minCellWidth(),r.isRelative)};var l=function(e,t){return o.calcRightEdgeDeltas(a,e,t,n,r.minCellWidth(),r.isRelative)};return i.fold(u,c,f,s,l)};var Rc=function(e,t,n){var r=0;for(var o=e;o<t;o++){r+=n[o]!==undefined?n[o]:0}return r};var zc=function(e,t){var n=fo.justCells(e);return L(n,(function(e){var n=Rc(e.column,e.column+e.colspan,t);return{element:e.element,width:n,colspan:e.colspan}}))};var Bc=function(e,t){var n=fo.justColumns(e);return L(n,(function(e,n){return{element:e.element,width:t[n],colspan:e.colspan}}))};var Pc=function(e,t){var n=fo.justCells(e);return L(n,(function(e){var n=Rc(e.row,e.row+e.rowspan,t);return{element:e.element,height:n,rowspan:e.rowspan}}))};var Lc=function(e,t){return L(e.all,(function(e,n){return{element:e.element,height:t[n]}}))};var Hc=function(e){return U(e,(function(e,t){return e+t}),0)};var Ic=function(e,t){if(fo.hasColumns(e)){return Bc(e,t)}else{return zc(e,t)}};var Fc=function(e,t,n){var r=Ic(e,t);H(r,(function(e){n.setElementWidth(e.element,e.width)}))};var Vc=function(e,t,n,r,o){var a=fo.fromTable(e);var i=o.getCellDelta(t);var u=o.getWidths(a,o);var c=n===a.grid.columns-1;var f=r.clampTableDelta(u,n,i,o.minCellWidth(),c);var s=Mc(u,n,f,o,r);var l=L(s,(function(e,t){return e+u[t]}));Fc(a,l,o);r.resizeTable(o.adjustTableWidth,f,c)};var Uc=function(e,t,n,r){var o=fo.fromTable(e);var a=uu(o,e,r);var i=L(a,(function(e,r){return n===r?Math.max(t+e,Tr()):e}));var u=Pc(o,i);var c=Lc(o,i);H(c,(function(e){Di(e.element,e.height)}));H(u,(function(e){Di(e.element,e.height)}));var f=Hc(i);Di(e,f)};var jc=function(e,t,n,r,o){var a=fo.generate(t);var i=r.getWidths(a,r);var u=r.pixelWidth();var c=o.calcRedestributedWidths(i,u,n.pixelDelta,r.isRelative),f=c.newSizes,s=c.delta;Fc(a,f,r);r.adjustTableWidth(s)};var Wc=function(e,t,n,r){var o=fo.generate(t);var a=r.getWidths(o,r);Fc(o,a,r)};var qc=function(e){return L(e,p(0))};var Gc=function(e,t,n,r,o){return o(e.slice(0,t)).concat(r).concat(o(e.slice(n)))};var $c=function(e){return function(t,n,r,o){if(!e(r)){return r}else{var a=Math.max(o,t[n]-Math.abs(r));var i=Math.abs(a-t[n]);return r>=0?i:-i}}};var Kc=$c((function(e){return e<0}));var Xc=$c(k);var Yc=function(){var e=function(e,t,n,r,o){var a=Kc(e,t,r,o);return Gc(e,t,n+1,[a,0],qc)};var t=function(e,t,n,r){var o=(100+n)/100;var a=Math.max(r,(e[t]+n)/o);return L(e,(function(e,n){var r=n===t?a:e/o;return r-e}))};var n=function(n,r,o,a,i,u){if(u){return t(n,r,a,i)}else{return e(n,r,o,a,i)}};var r=function(e,t,r,o,a,i,u){return n(e,r,o,a,i,u)};var o=function(e,t){return e(t)};var a=function(e,n,r,o,a,i){if(i){return t(e,r,o,a)}else{var u=Kc(e,r,o,a);return qc(e.slice(0,r)).concat([u])}};var i=function(e,t,n,r){if(r){var o=t+n;var a=o/t;var i=L(e,(function(e){return e/a}));return{delta:a*100-100,newSizes:i}}else{return{delta:n,newSizes:e}}};return{resizeTable:o,clampTableDelta:Kc,calcLeftEdgeDeltas:n,calcMiddleDeltas:r,calcRightEdgeDeltas:a,calcRedestributedWidths:i}};var Jc=function(){var e=function(e,t,n,r,o){var a=r>=0?n:t;var i=Xc(e,a,r,o);return Gc(e,t,n+1,[i,-i],qc)};var t=function(t,n,r,o,a,i){return e(t,r,o,a,i)};var n=function(e,t,n){if(n){e(t)}};var r=function(e,t,n,r,o,a){if(a){return qc(e)}else{var i=r/e.length;return L(e,p(i))}};var o=function(e,t,n,r,o){if(o){if(n>=0){return n}else{var a=j(e,(function(e,t){return e+t-r}),0);return Math.max(-a,n)}}else{return Kc(e,t,n,r)}};var a=function(e,t,n,r){return{delta:0,newSizes:e}};return{resizeTable:n,clampTableDelta:o,calcLeftEdgeDeltas:e,calcMiddleDeltas:t,calcRightEdgeDeltas:r,calcRedestributedWidths:a}};var Qc=function(e,t){var n=D.from(e.dom.documentElement).map(pt.fromDom).getOr(e);return{parent:p(n),view:p(e),origin:p(Qa(0,0)),isResizable:t}};var Zc=function(e,t,n){var r=function(){return ti(t)};return{parent:p(t),view:p(e),origin:r,isResizable:n}};var ef=function(e,t,n){return{parent:p(t),view:p(e),origin:p(Qa(0,0)),isResizable:n}};var tf={only:Qc,detached:Zc,body:ef};var nf=la.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]);var rf=function(e,t,n){var r=n.substring(0,n.length-e.length);var o=parseFloat(r);return r===o.toString()?t(o):nf.invalid(n)};var of=function(e){if(Se(e,"%")){return rf("%",nf.percent,e)}if(Se(e,"px")){return rf("px",nf.pixels,e)}return nf.invalid(e)};var af=oe(oe({},nf),{from:of});var uf=function(e,t){return L(e,(function(e){var n=af.from(e);return n.fold((function(){return e}),(function(e){var n=e/t*100;return n+"%"}),(function(e){return e+"%"}))}))};var cf=function(e,t,n){var r=n/t;return L(e,(function(e){var t=af.from(e);return t.fold((function(){return e}),(function(e){return e*r+"px"}),(function(e){return e/100*n+"px"}))}))};var ff=function(e,t){var n=e.fold((function(){return p("")}),(function(e){var n=e/t;return p(n+"px")}),(function(){var e=100/t;return p(e+"%")}));return P(t,n)};var sf=function(e,t,n){return e.fold((function(){return t}),(function(e){return cf(t,n,e)}),(function(e){return uf(t,n)}))};var lf=function(e,t,n){var r=af.from(n);var o=X(e,(function(e){return e==="0px"}))?ff(r,e.length):sf(r,e,t);return gf(o)};var vf=function(e,t){if(e.length===0){return t}return U(e,(function(e,t){return af.from(t).fold(p(0),b,b)+e}),0)};var df=function(e,t){var n=Math.floor(e);return{value:n+t,remainder:e-n}};var mf=function(e,t){return af.from(e).fold(p(e),(function(e){return e+t+"px"}),(function(e){return e+t+"%"}))};var gf=function(e){if(e.length===0){return e}var t=U(e,(function(e,t){var n=af.from(t).fold((function(){return{value:t,remainder:0}}),(function(e){return df(e,"px")}),(function(e){return{value:e+"%",remainder:0}}));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0});var n=t.output;return n.slice(0,n.length-1).concat([mf(n[n.length-1],Math.round(t.remainder))])};var hf=af.from;var pf=function(e,t,n){H(t,(function(t){var r=e.slice(t.column,t.colspan+t.column);var o=vf(r,kr());vr(t.element,"width",o+n)}))};var bf=function(e,t,n){H(t,(function(t,r){var o=vf([e[r]],kr());vr(t.element,"width",o+n)}))};var yf=function(e,t,n,r){H(n,(function(t){var n=e.slice(t.row,t.rowspan+t.row);var o=vf(n,Tr());vr(t.element,"height",o+r)}));H(t,(function(t,n){vr(t.element,"height",e[n])}))};var wf=function(e){return hf(e).fold(p("px"),p("px"),p("%"))};var xf=function(e,t,n){var r=fo.fromTable(e);var o=r.all;var a=fo.justCells(r);var i=fo.justColumns(r);t.each((function(t){var n=wf(t);var o=La(e);var u=ru(r,e);var c=lf(u,o,t);if(fo.hasColumns(r)){bf(c,i,n)}else{pf(c,a,n)}vr(e,"width",t)}));n.each((function(t){var n=wf(t);var i=Ka(e);var u=cu(r,e,mi);var c=lf(u,i,t);yf(c,o,a,n);vr(e,"height",t)}))};var Cf=qi;var Sf=Gi;var kf=$i;var Tf=function(e){var t=fo.fromTable(e);return t.grid};var Of=function(e){var t=[];var n=function(e){if(e===undefined){throw new Error("Event bind error: undefined handler")}t.push(e)};var r=function(e){t=V(t,(function(t){return t!==e}))};var o=function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}var o={};H(e,(function(e,t){o[e]=n[t]}));H(t,(function(e){e(o)}))};return{bind:n,unbind:r,trigger:o}};var _f=function(e){var t=At(e,(function(e){return{bind:e.bind,unbind:e.unbind}}));var n=At(e,(function(e){return e.trigger}));return{registry:t,trigger:n}};var Ef=function(e,t){var n=null;var r=function(){if(!u(n)){clearTimeout(n);n=null}};var o=function(){var o=[];for(var a=0;a<arguments.length;a++){o[a]=arguments[a]}r();n=setTimeout((function(){n=null;e.apply(null,o)}),t)};return{cancel:r,throttle:o}};var Df=function(e){return e.slice(0).sort()};var Af=function(e,t){throw new Error("All required keys ("+Df(e).join(", ")+") were not specified. Specified keys were: "+Df(t).join(", ")+".")};var Nf=function(e){throw new Error("Unsupported keys for object: "+Df(e).join(", "))};var Mf=function(e,t){if(!i(t)){throw new Error("The "+e+" fields must be an array. Was: "+t+".")}H(t,(function(t){if(!o(t)){throw new Error("The value "+t+" in the "+e+" fields was not a string.")}}))};var Rf=function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+Df(e).join(", ")+") were not.")};var zf=function(e){var t=Df(e);var n=q(t,(function(e,n){return n<t.length-1&&e===t[n+1]}));n.each((function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))};var Bf=function(e,t){return Pf(e,t,{validate:v,label:"function"})};var Pf=function(e,t,n){if(t.length===0){throw new Error("You must specify at least one required field.")}Mf("required",t);zf(t);return function(r){var o=_t(r);var a=X(t,(function(e){return z(o,e)}));if(!a){Af(t,o)}e(t,o);var i=V(t,(function(e){return!n.validate(r[e],e)}));if(i.length>0){Rf(i,n.label)}return r}};var Lf=function(e,t){var n=V(t,(function(t){return!z(e,t)}));if(n.length>0){Nf(n)}};var Hf=function(e){return Bf(Lf,e)};var If=Hf(["compare","extract","mutate","sink"]);var Ff=Hf(["element","start","stop","destroy"]);var Vf=Hf(["forceDrop","drop","move","delayDrop"]);var Uf=function(){var e=D.none();var t=function(){e=D.none()};var n=function(t,n){var r=e.map((function(e){return t.compare(e,n)}));e=D.some(n);return r};var r=function(e,t){var r=t.extract(e);r.each((function(e){var r=n(t,e);r.each((function(e){o.trigger.move(e)}))}))};var o=_f({move:Of(["info"])});return{onEvent:r,reset:t,events:o.registry}};var jf=function(){var e=_f({move:Of(["info"])});return{onEvent:m,reset:m,events:e.registry}};var Wf=function(){var e=jf();var t=Uf();var n=e;var r=function(){n.reset();n=t};var o=function(){n.reset();n=e};var a=function(e,t){n.onEvent(e,t)};var i=function(){return n===t};return{on:r,off:o,isOn:i,onEvent:a,events:t.events}};var qf=function(e,t,n){var r=false;var o=_f({start:Of([]),stop:Of([])});var a=Wf();var i=function(){d.stop();if(a.isOn()){a.off();o.trigger.stop()}};var u=Ef(i,200);var c=function(e){d.start(e);a.on();o.trigger.start()};var f=function(e){u.cancel();a.onEvent(e,t)};a.events.move.bind((function(n){t.mutate(e,n.info)}));var s=function(){r=true};var l=function(){r=false};var v=function(e){return function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}if(r){e.apply(null,t)}}};var d=t.sink(Vf({forceDrop:i,drop:v(i),move:v(f),delayDrop:v(u.throttle)}),n);var m=function(){d.destroy()};return{element:d.element,go:c,on:s,off:l,destroy:m,events:o.registry}};var Gf=function(e,t,n,r,o,a,i){return{target:e,x:t,y:n,stop:r,prevent:o,kill:a,raw:i}};var $f=function(e){var t=pt.fromDom(Dn(e).getOr(e.target));var n=function(){return e.stopPropagation()};var r=function(){return e.preventDefault()};var o=g(r,n);return Gf(t,e.clientX,e.clientY,n,r,o,e)};var Kf=function(e,t){return function(n){if(e(n)){t($f(n))}}};var Xf=function(e,t,n,r,o){var a=Kf(n,r);e.dom.addEventListener(t,a,o);return{unbind:w(Jf,e,t,a,o)}};var Yf=function(e,t,n,r){return Xf(e,t,n,r,false)};var Jf=function(e,t,n,r){e.dom.removeEventListener(t,n,r)};var Qf=k;var Zf=function(e,t,n){return Yf(e,t,Qf,n)};var es=$f;var ts=function(e,t){var n=Zn(e,t);return n===undefined||n===""?[]:n.split(" ")};var ns=function(e,t,n){var r=ts(e,t);var o=r.concat([n]);Yn(e,t,o.join(" "));return true};var rs=function(e,t,n){var r=V(ts(e,t),(function(e){return e!==n}));if(r.length>0){Yn(e,t,r.join(" "))}else{tr(e,t)}return false};var os=function(e){return e.dom.classList!==undefined};var as=function(e){return ts(e,"class")};var is=function(e,t){return ns(e,"class",t)};var us=function(e,t){return rs(e,"class",t)};var cs=function(e,t){if(os(e)){e.dom.classList.add(t)}else{is(e,t)}};var fs=function(e){var t=os(e)?e.dom.classList:as(e);if(t.length===0){tr(e,"class")}};var ss=function(e,t){if(os(e)){var n=e.dom.classList;n.remove(t)}else{us(e,t)}fs(e)};var ls=function(e,t){return os(e)&&e.dom.classList.contains(t)};var vs=function(e){var t=e.replace(/\./g,"-");var n=function(e){return t+"-"+e};return{resolve:n}};var ds=vs("ephox-dragster");var ms=ds.resolve;var gs=function(e){var t=oe({layerClass:ms("blocker")},e);var n=pt.fromTag("div");Yn(n,"role","presentation");dr(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"});cs(n,ms("blocker"));cs(n,t.layerClass);var r=p(n);var o=function(){Bo(n)};return{element:r,destroy:o}};var hs=function(e,t){return Qa(t.left-e.left,t.top-e.top)};var ps=function(e){return D.some(Qa(e.x,e.y))};var bs=function(e,t){e.mutate(t.left,t.top)};var ys=function(e,t){var n=gs(t);var r=Zf(n.element(),"mousedown",e.forceDrop);var o=Zf(n.element(),"mouseup",e.drop);var a=Zf(n.element(),"mousemove",e.move);var i=Zf(n.element(),"mouseout",e.delayDrop);var u=function(){n.destroy();o.unbind();a.unbind();i.unbind();r.unbind()};var c=function(e){Eo(e,n.element())};var f=function(){Bo(n.element())};return Ff({element:n.element,start:c,stop:f,destroy:u})};var ws=If({compare:hs,extract:ps,sink:ys,mutate:bs});var xs=function(e,t){if(t===void 0){t={}}var n=t.mode!==undefined?t.mode:ws;return qf(e,n,t)};var Cs=function(e){return Kn(e,"[contenteditable]")};var Ss=function(e,t){if(t===void 0){t=false}if(!ot().browser.isIE()&&Nn(e)){return e.dom.isContentEditable}else{return Cs(e).fold(p(t),(function(e){return ks(e)==="true"}))}};var ks=function(e){return e.dom.contentEditable};var Ts=vs("ephox-snooker");var Os=Ts.resolve;var _s=function(){var e=_f({drag:Of(["xDelta","yDelta"])});var t=function(t,n){e.trigger.drag(t,n)};return{mutate:t,events:e.registry}};var Es=function(){var e=_f({drag:Of(["xDelta","yDelta","target"])});var t=D.none();var n=_s();n.events.drag.bind((function(n){t.each((function(t){e.trigger.drag(n.xDelta,n.yDelta,t)}))}));var r=function(e){t=D.some(e)};var o=function(){return t};return{assign:r,get:o,mutate:n.mutate,events:e.registry}};var Ds=function(e,t,n,r,o){var a=pt.fromTag("div");dr(a,{position:"absolute",left:t-r/2+"px",top:n+"px",height:o+"px",width:r+"px"});Jn(a,{"data-column":e,role:"presentation"});return a};var As=function(e,t,n,r,o){var a=pt.fromTag("div");dr(a,{position:"absolute",left:t+"px",top:n-o/2+"px",height:o+"px",width:r+"px"});Jn(a,{"data-row":e,role:"presentation"});return a};var Ns=Os("resizer-bar");var Ms=Os("resizer-rows");var Rs=Os("resizer-cols");var zs=7;var Bs=function(e,t){return K(e.all,(function(e,n){return t(e.element)?[n]:[]}))};var Ps=function(e,t){var n=[];P(e.grid.columns,(function(r){var o=fo.getColumnAt(e,r).map((function(e){return e.element}));if(o.forall(t)){n.push(r)}}));return V(n,(function(n){var r=fo.filterItems(e,(function(e){return e.column===n}));return X(r,(function(e){return t(e.element)}))}))};var Ls=function(e){var t=In(e.parent(),"."+Ns);H(t,Bo)};var Hs=function(e,t,n){var r=e.origin();H(t,(function(t){t.each((function(t){var o=n(r,t);cs(o,Ns);Eo(e.parent(),o)}))}))};var Is=function(e,t,n,r){Hs(e,t,(function(e,t){var o=Ds(t.col,t.x-e.left,n.top-e.top,zs,r);cs(o,Rs);return o}))};var Fs=function(e,t,n,r){Hs(e,t,(function(e,t){var o=As(t.row,n.left-e.left,t.y-e.top,r,zs);cs(o,Ms);return o}))};var Vs=function(e,t,n,r,o){var a=ti(n);var i=t.isResizable;var u=r.length>0?mi.positions(r,n):[];var c=u.length>0?Bs(e,i):[];var f=V(u,(function(e,t){return B(c,(function(e){return t===e}))}));Fs(t,f,a,Ha(n));var s=o.length>0?bi.positions(o,n):[];var l=s.length>0?Ps(e,i):[];var v=V(s,(function(e,t){return B(l,(function(e){return t===e}))}));Is(t,v,a,Xa(n))};var Us=function(e,t){Ls(e);if(e.isResizable(t)){var n=fo.fromTable(t);var r=ja(n);var o=Va(n);Vs(n,e,t,r,o)}};var js=function(e,t){var n=In(e.parent(),"."+Ns);H(n,t)};var Ws=function(e){js(e,(function(e){vr(e,"display","none")}))};var qs=function(e){js(e,(function(e){vr(e,"display","block")}))};var Gs=function(e){return ls(e,Ms)};var $s=function(e){return ls(e,Rs)};var Ks=Os("resizer-bar-dragging");var Xs=function(e){var t=Es();var n=xs(t,{});var r=D.none();var o=function(e,t){return D.from(Zn(e,t))};t.events.drag.bind((function(e){o(e.target,"data-row").each((function(t){var n=Sr(e.target,"top");vr(e.target,"top",n+e.yDelta+"px")}));o(e.target,"data-column").each((function(t){var n=Sr(e.target,"left");vr(e.target,"left",n+e.xDelta+"px")}))}));var a=function(e,t){var n=Sr(e,t);var r=yr(e,"data-initial-"+t,0);return n-r};n.events.stop.bind((function(){t.get().each((function(t){r.each((function(n){o(t,"data-row").each((function(e){var r=a(t,"top");tr(t,"data-initial-top");d.trigger.adjustHeight(n,r,parseInt(e,10))}));o(t,"data-column").each((function(e){var r=a(t,"left");tr(t,"data-initial-left");d.trigger.adjustWidth(n,r,parseInt(e,10))}));Us(e,n)}))}))}));var i=function(r,o){d.trigger.startAdjust();t.assign(r);Yn(r,"data-initial-"+o,Sr(r,o));cs(r,Ks);vr(r,"opacity","0.2");n.go(e.parent())};var u=Zf(e.parent(),"mousedown",(function(e){if(Gs(e.target)){i(e.target,"top")}if($s(e.target)){i(e.target,"left")}}));var c=function(t){return Ct(t,e.view())};var f=function(e){return Kn(e,"table",c).filter(Ss)};var s=Zf(e.view(),"mouseover",(function(t){f(t.target).fold((function(){if(Nn(t.target)){Ls(e)}}),(function(t){r=D.some(t);Us(e,t)}))}));var l=function(){u.unbind();s.unbind();n.destroy();Ls(e)};var v=function(t){Us(e,t)};var d=_f({adjustHeight:Of(["table","delta","row"]),adjustWidth:Of(["table","delta","column"]),startAdjust:Of([])});return{destroy:l,refresh:v,on:n.on,off:n.off,hideBars:w(Ws,e),showBars:w(qs,e),events:d.registry}};var Ys=function(e,t,n){var r=mi;var o=bi;var a=Xs(e);var i=_f({beforeResize:Of(["table","type"]),afterResize:Of(["table","type"]),startDrag:Of([])});a.events.adjustHeight.bind((function(e){var t=e.table;i.trigger.beforeResize(t,"row");var n=r.delta(e.delta,t);Uc(t,n,e.row,r);i.trigger.afterResize(t,"row")}));a.events.startAdjust.bind((function(e){i.trigger.startDrag()}));a.events.adjustWidth.bind((function(e){var r=e.table;i.trigger.beforeResize(r,"col");var a=o.delta(e.delta,r);var u=n(r);Vc(r,a,e.column,t,u);i.trigger.afterResize(r,"col")}));return{on:a.on,off:a.off,hideBars:a.hideBars,showBars:a.showBars,destroy:a.destroy,events:i.registry}};var Js={create:Ys};var Qs=function(e,t){return e.fire("newrow",{node:t})};var Zs=function(e,t){return e.fire("newcell",{node:t})};var el=function(e,t,n,r,o){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:o})};var tl=function(e,t,n,r,o){e.fire("ObjectResized",{target:t,width:n,height:r,origin:o})};var nl=function(e,t,n,r,o){e.fire("TableSelectionChange",{cells:t,start:n,finish:r,otherCells:o})};var rl=function(e){e.fire("TableSelectionClear")};var ol=function(e,t,n){e.fire("TableModified",oe(oe({},n),{table:t}))};var al={structure:false,style:true};var il={structure:true,style:false};var ul={structure:true,style:true};var cl="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol";var fl={"border-collapse":"collapse",width:"100%"};var sl=P(5,(function(e){var t=e+1+"px";return{title:t,value:t}}));var ll=L(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(function(e){return{title:e,value:e.toLowerCase()}}));var vl=function(e){var t;if(Rl(e)){var n=e.dom;var r=(t=n.getParent(e.selection.getStart(),n.isBlock))!==null&&t!==void 0?t:e.getBody();var o=Ia(pt.fromDom(r));return oe(oe({},fl),{width:o+"px"})}else if(zl(e)){return zt(fl,(function(e,t){return t!=="width"}))}else{return fl}};var dl={border:"1"};var ml="preservetable";var gl=function(e){return e.getParam("table_sizing_mode","auto")};var hl=function(e){return e.getParam("table_responsive_width")};var pl=function(e){return e.getParam("table_border_widths",sl,"array")};var bl=function(e){return e.getParam("table_border_styles",ll,"array")};var yl=function(e){return e.getParam("table_default_attributes",dl,"object")};var wl=function(e){return e.getParam("table_default_styles",vl(e),"object")};var xl=function(e){return e.getParam("table_resize_bars",true,"boolean")};var Cl=function(e){return e.getParam("table_tab_navigation",true,"boolean")};var Sl=function(e){return e.getParam("table_cell_advtab",true,"boolean")};var kl=function(e){return e.getParam("table_row_advtab",true,"boolean")};var Tl=function(e){return e.getParam("table_advtab",true,"boolean")};var Ol=function(e){return e.getParam("table_appearance_options",true,"boolean")};var _l=function(e){return e.getParam("table_grid",true,"boolean")};var El=function(e){return e.getParam("table_style_by_css",false,"boolean")};var Dl=function(e){return e.getParam("table_cell_class_list",[],"array")};var Al=function(e){return e.getParam("table_row_class_list",[],"array")};var Nl=function(e){return e.getParam("table_class_list",[],"array")};var Ml=function(e){return gl(e)==="relative"||hl(e)===true};var Rl=function(e){return gl(e)==="fixed"||hl(e)===false};var zl=function(e){return gl(e)==="responsive"};var Bl=function(e){return e.getParam("table_toolbar",cl)};var Pl=function(e){return e.getParam("table_use_colgroups",false,"boolean")};var Ll=function(e){var t="section";var n=e.getParam("table_header_type",t,"string");var r=["section","cells","sectionCells","auto"];if(!z(r,n)){return t}else{return n}};var Hl=function(e){var t=["preservetable","resizetable"];var n=e.getParam("table_column_resizing",ml,"string");return q(t,(function(e){return e===n})).getOr(ml)};var Il=function(e){return Hl(e)==="preservetable"};var Fl=function(e){return Hl(e)==="resizetable"};var Vl=function(e){var t=e.getParam("table_clone_elements");if(o(t)){return D.some(t.split(/[ ,]/))}else if(Array.isArray(t)){return D.some(t)}else{return D.none()}};var Ul=function(e){var t=e.getParam("object_resizing",true);return o(t)?t==="table":t};var jl=function(e){return e.getParam("table_background_color_map",[],"array")};var Wl=function(e){return e.getParam("table_border_color_map",[],"array")};var ql=function(e,t){if(Ml(e)){return gu.percentageSize(t)}else if(Rl(e)){return gu.pixelSize(t)}else{return gu.getTableSize(t)}};var Gl=function(e){tr(e,"width")};var $l=function(e){var t=Wi(e);xf(e,D.some(t),D.none());Gl(e)};var Kl=function(e){var t=ji(e);xf(e,D.some(t),D.none());Gl(e)};var Xl=function(e){pr(e,"width");var t=Nr(e);var n=t.length>0?t:Ar(e);H(n,(function(e){pr(e,"width");Gl(e)}));Gl(e)};var Yl=$l;var Jl=Kl;var Ql=Xl;var Zl=function(e){var t=fo.fromTable(e);if(!fo.hasColumns(t)){H(Ar(e),(function(e){var t=mr(e,"width");vr(e,"width",t);tr(e,"width")}))}};var ev=function(){var e=pt.fromTag("div");dr(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"});Eo(Mn(),e);return e};var tv=function(e,t){return e.inline?tf.body(qu(e),ev(),t):tf.only(pt.fromDom(e.getDoc()),t)};var nv=function(e,t){if(e.inline){Bo(t.parent())}};var rv="bar-";var ov=function(e){return Zn(e,"data-mce-resize")!=="false"};var av=function(e){var t=D.none();var n=D.none();var r=D.none();var o;var a;var i=function(e){return e.nodeName==="TABLE"};var u=function(){return n};var c=function(){return r.getOr(tf.only(pt.fromDom(e.getBody()),ov))};var f=function(t){return ql(e,t)};var s=function(){return Il(e)?Jc():Yc()};var l=function(e){return Tf(e).columns};var v=function(t,n,r){var i=Se(n,"e");if(a===""){Yl(t)}if(r!==o&&a!==""){vr(t,"width",a);var u=s();var c=f(t);var v=Il(e)||i?l(t)-1:0;Vc(t,r-o,v,u,c)}else if(Zu(a)){var d=parseFloat(a.replace("%",""));var m=r*d/o;vr(t,"width",m+"%")}if(ec(a)){Zl(t)}};var d=function(){n.each((function(e){e.destroy()}));r.each((function(t){nv(e,t)}))};e.on("init",(function(){var o=tv(e,ov);r=D.some(o);if(Ul(e)&&xl(e)){var a=s();var i=Js.create(o,a,f);i.on();i.events.startDrag.bind((function(n){t=D.some(e.selection.getRng())}));i.events.beforeResize.bind((function(t){var n=t.table.dom;el(e,n,Gu(n),$u(n),rv+t.type)}));i.events.afterResize.bind((function(n){var r=n.table;var o=r.dom;Ju(r);t.each((function(t){e.selection.setRng(t);e.focus()}));tl(e,o,Gu(o),$u(o),rv+n.type);e.undoManager.add()}));n=D.some(i)}}));e.on("ObjectResizeStart",(function(t){var n=t.target;if(i(n)){var r=pt.fromDom(n);H(e.dom.select(".mce-clonedresizable"),(function(t){e.dom.addClass(t,"mce-"+Hl(e)+"-columns")}));if(!Sf(r)&&Rl(e)){Jl(r)}else if(!Cf(r)&&Ml(e)){Yl(r)}if(kf(r)&&Ce(t.origin,rv)){Yl(r)}o=t.width;a=zl(e)?"":Qu(e,n).getOr("")}}));e.on("ObjectResized",(function(t){var n=t.target;if(i(n)){var r=pt.fromDom(n);var o=t.origin;if(Ce(o,"corner-")){v(r,o,t.width)}Ju(r);ol(e,r.dom,al)}}));e.on("SwitchMode",(function(){u().each((function(t){if(e.mode.isReadOnly()){t.hideBars()}else{t.showBars()}}))}));return{lazyResize:u,lazyWire:c,destroy:d}};var iv=function(e,t){return{element:e,offset:t}};var uv=function(e,t,n){if(e.property().isText(t)&&e.property().getText(t).trim().length===0||e.property().isComment(t)){return n(t).bind((function(t){return uv(e,t,n).orThunk((function(){return D.some(t)}))}))}else{return D.none()}};var cv=function(e,t){if(e.property().isText(t)){return e.property().getText(t).length}var n=e.property().children(t);return n.length};var fv=function(e,t){var n=uv(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n)){return iv(n,cv(e,n))}var r=e.property().children(n);return r.length>0?fv(e,r[r.length-1]):iv(n,cv(e,n))};var sv=fv;var lv=jo();var vv=function(e){return sv(lv,e)};var dv=function(e,t){var n=wr(e,"colspan");if(n===1){var r=Vi(e);r.each((function(n){var r=n.value/2;Ui(e,r,n.unit);Ui(t,r,n.unit)}))}};var mv=ln("th");var gv=function(e){return X(e,(function(e){return mv(e.element)}))};var hv=function(e,t){if(e&&t){return"sectionCells"}else if(e){return"section"}else{return"cells"}};var pv=function(e){var t=e.section==="thead";var n=rr(bv(e.cells),"th");if(t||n){return{type:"header",subType:hv(t,n)}}else if(e.section==="tfoot"){return{type:"footer"}}else{return{type:"body"}}};var bv=function(e){var t=V(e,(function(e){return mv(e.element)}));if(t.length===0){return D.some("td")}else if(t.length===e.length){return D.some("th")}else{return D.none()}};var yv=function(e){var t=L(e,(function(e){return pv(e).type}));var n=z(t,"header");var r=z(t,"footer");if(!n&&!r){return D.some("body")}else{var o=z(t,"body");if(n&&!o&&!r){return D.some("header")}else if(!n&&!o&&r){return D.some("footer")}else{return D.none()}}};var wv=function(e){return re(e.all,(function(e){var t=pv(e);return t.type==="header"?D.from(t.subType):D.none()}))};var xv=function(e,t,n){return Jt(n(e.element,t),true,e.isLocked)};var Cv=function(e,t){return e.section!==t?Qt(e.element,e.cells,t,e.isNew):e};var Sv=function(){return{transformRow:Cv,transformCell:function(e,t,n){var r=n(e.element,t);var o=nn(r)!=="td"?ka(r,"td"):r;return Jt(o,e.isNew,e.isLocked)}}};var kv=function(){return{transformRow:Cv,transformCell:xv}};var Tv=function(){return{transformRow:function(e,t){var n=t==="thead"?"tbody":t;return Cv(e,n)},transformCell:xv}};var Ov=function(){return{transformRow:b,transformCell:xv}};var _v=function(e,t){var n=fo.fromTable(e);var r=wv(n).getOr(t);switch(r){case"section":return Sv();case"sectionCells":return kv();case"cells":return Tv()}};var Ev={getTableSectionType:_v,section:Sv,sectionCells:kv,cells:Tv,fallback:Ov};var Dv=function(e,t,n,r){if(n===r){tr(e,t)}else{Yn(e,t,n)}};var Av=function(e,t,n){ne(Hn(e,t)).fold((function(){return _o(e,n)}),(function(e){return Oo(e,n)}))};var Nv=function(e,t){var n=Gn(e,t).getOrThunk((function(){var n=pt.fromTag(t,vn(e).dom);if(t==="thead"){Av(e,"caption,colgroup",n)}else if(t==="colgroup"){Av(e,"caption",n)}else{Eo(e,n)}return n}));zo(n);return n};var Mv=function(e,t){var n=[];var r=[];var o=function(e){return L(e,(function(e){if(e.isNew){n.push(e.element)}var t=e.element;zo(t);H(e.cells,(function(e){if(e.isNew){r.push(e.element)}Dv(e.element,"colspan",e.colspan,1);Dv(e.element,"rowspan",e.rowspan,1);Eo(t,e.element)}));return t}))};var a=function(e){return K(e,(function(e){return L(e.cells,(function(e){Dv(e.element,"span",e.colspan,1);return e.element}))}))};var i=function(t,n){var r=Nv(e,n);var i=n==="colgroup"?a:o;var u=i(t);Ro(r,u)};var u=function(t){Gn(e,t).each(Bo)};var c=function(e,t){if(e.length>0){i(e,t)}else{u(t)}};var f=[];var s=[];var l=[];var v=[];H(t,(function(e){switch(e.section){case"thead":f.push(e);break;case"tbody":s.push(e);break;case"tfoot":l.push(e);break;case"colgroup":v.push(e);break}}));c(v,"colgroup");c(f,"thead");c(s,"tbody");c(l,"tfoot");return{newRows:n,newCells:r}};var Rv=function(e){return L(e,(function(e){var t=wa(e.element);H(e.cells,(function(e){var n=xa(e.element);Dv(n,"colspan",e.colspan,1);Dv(n,"rowspan",e.rowspan,1);Eo(t,n)}));return t}))};var zv=function(e,t){return L(e,(function(e){return Wr(e,t)}))};var Bv=function(e,t){return e[t]};var Pv=function(e,t){if(e.length===0){return 0}var n=e[0];var r=G(e,(function(e){return!t(n.element,e.element)}));return r.getOr(e.length)};var Lv=function(e,t,n,r){var o=Bv(e,t);var a=o.section==="colgroup";var i=Pv(o.cells.slice(n),r);var u=a?1:Pv(zv(e.slice(t),n),r);return{colspan:i,rowspan:u}};var Hv=function(e,t){var n=L(e,(function(e){return L(e.cells,S)}));var r=function(e,t,r,o){for(var a=e;a<e+r;a++){for(var i=t;i<t+o;i++){n[a][i]=true}}};return L(e,(function(o,a){var i=K(o.cells,(function(o,i){if(n[a][i]===false){var u=Lv(e,a,i,t);r(a,i,u.rowspan,u.colspan);return[$t(o.element,u.rowspan,u.colspan,o.isNew)]}else{return[]}}));return Yt(o.element,i,o.section,o.isNew)}))};var Iv=function(e,t,n){var r=[];H(e.colgroups,(function(o){var a=[];for(var i=0;i<e.grid.columns;i++){var u=fo.getColumnAt(e,i).map((function(e){return Jt(e.element,n,false)})).getOrThunk((function(){return Jt(t.colGap(),true,false)}));a.push(u)}r.push(Qt(o.element,a,"colgroup",n))}));for(var o=0;o<e.grid.rows;o++){var a=[];for(var i=0;i<e.grid.columns;i++){var u=fo.getAt(e,o,i).map((function(e){return Jt(e.element,n,e.isLocked)})).getOrThunk((function(){return Jt(t.gap(),true,false)}));a.push(u)}var c=e.all[o];var f=Qt(c.element,a,c.section,n);r.push(f)}return r};var Fv=function(e,t){return Iv(e,t,false)};var Vv=function(e){return Hv(e,Ct)};var Uv=function(e,t){return re(e.all,(function(e){return q(e.cells,(function(e){return Ct(t,e.element)}))}))};var jv=function(e,t,n){var r=L(t.selection,(function(t){return Dr(t).bind((function(t){return Uv(e,t)})).filter(n)}));var o=or(r);return cr(o.length>0,o)};var Wv=function(e,t,n,r,o){return function(a,i,u,c,f){var s=fo.fromTable(i);var l=D.from(f===null||f===void 0?void 0:f.section).getOrThunk(Ev.fallback);var v=t(s,u).map((function(t){var n=Fv(s,c);var r=e(n,t,Ct,o(c),l);var a=Jr(r.grid);var i=Vv(r.grid);return{info:t,grid:i,cursor:r.cursor,lockedColumns:a}}));return v.bind((function(e){var t=Mv(i,e.grid);var o=D.from(f===null||f===void 0?void 0:f.sizing).getOrThunk((function(){return gu.getTableSize(i)}));var u=D.from(f===null||f===void 0?void 0:f.resize).getOrThunk(Jc);n(i,e.grid,e.info,{sizing:o,resize:u,section:l});r(i);Us(a,i);tr(i,Xr);if(e.lockedColumns.length>0){Yn(i,Xr,e.lockedColumns.join(","))}return D.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))}};var qv=function(e,t){return Dr(t.element).bind((function(n){return Uv(e,n).map((function(e){var n=oe(oe({},e),{generators:t.generators,clipboard:t.clipboard});return n}))}))};var Gv=function(e,t){return jv(e,t,k).map((function(e){return{cells:e,generators:t.generators,clipboard:t.clipboard}}))};var $v=function(e,t){return t.mergable};var Kv=function(e,t){return t.unmergable};var Xv=function(e,t){return jv(e,t,k)};var Yv=function(e,t){return jv(e,t,(function(e){return!e.isLocked}))};var Jv=function(e,t){return Uv(e,t).exists((function(e){return!e.isLocked}))};var Qv=function(e,t){return X(t,(function(t){return Jv(e,t)}))};var Zv=function(e,t){return $v(e,t).filter((function(t){return Qv(e,t.cells)}))};var ed=function(e,t){return Kv(e,t).filter((function(t){return Qv(e,t)}))};var td=function(e,t,n,r){var o=$r(e).rows;if(o.length===0){return e}for(var a=t.startRow;a<=t.finishRow;a++){for(var i=t.startCol;i<=t.finishCol;i++){var u=o[a];var c=Wr(u,i).isLocked;Vr(u,i,Jt(r(),false,c))}}return e};var nd=function(e,t,n,r){var o=$r(e).rows;var a=true;for(var i=0;i<o.length;i++){for(var u=0;u<Gr(o[0]);u++){var c=o[i];var f=Wr(c,u);var s=f.element;var l=n(s,t);if(l===true&&a===false){Vr(c,u,Jt(r(),true,f.isLocked))}else if(l===true){a=false}}}return e};var rd=function(e,t){return j(e,(function(e,n){return B(e,(function(e){return t(e.element,n.element)}))?e:e.concat([n])}),[])};var od=function(e,t,n,r){if(t>0&&t<e[0].cells.length){H(e,(function(e){var o=e.cells[t-1];var a=e.cells[t];var i=n(a.element,o.element);if(i){Vr(e,t,Jt(r(),true,a.isLocked))}}))}return e};var ad=function(e,t,n,r){var o=$r(e).rows;if(t>0&&t<o.length){var a=o[t-1].cells;var i=rd(a,n);H(i,(function(e){var a=D.none();for(var i=t;i<o.length;i++){var u=function(t){var u=o[i];var c=Wr(u,t);var f=n(c.element,e.element);if(f){if(a.isNone()){a=D.some(r())}a.each((function(e){Vr(u,t,Jt(e,true,c.isLocked))}))}};for(var c=0;c<Gr(o[0]);c++){u(c)}}}))}return e};var id=function(e){var t=function(t){return id(e)};var n=function(t){return id(e)};var r=function(t){return id(t(e))};var o=function(t){return id(e)};var a=function(t){t(e)};var i=function(t){return t(e)};var u=function(t,n){return n(e)};var c=function(t){return t(e)};var f=function(t){return t(e)};var s=function(){return D.some(e)};return{isValue:k,isError:S,getOr:p(e),getOrThunk:p(e),getOrDie:p(e),or:t,orThunk:n,fold:u,map:r,mapError:o,each:a,bind:i,exists:c,forall:f,toOptional:s}};var ud=function(e){var t=function(e){return e()};var n=function(){return C(String(e))()};var r=b;var o=function(e){return e()};var a=function(t){return ud(e)};var i=function(t){return ud(t(e))};var u=function(t){return ud(e)};var c=function(t,n){return t(e)};return{isValue:S,isError:k,getOr:b,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:c,map:a,mapError:i,each:m,bind:u,exists:S,forall:k,toOptional:D.none}};var cd=function(e,t){return e.fold((function(){return ud(t)}),id)};var fd={value:id,error:ud,fromOption:cd};var sd=function(e,t,n){if(e.row>=t.length||e.column>Gr(t[0])){return fd.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column)}var r=t.slice(e.row);var o=r[0].cells.slice(e.column);var a=Gr(n[0]);var i=n.length;return fd.value({rowDelta:r.length-i,colDelta:o.length-a})};var ld=function(e,t){var n=Gr(e[0]);var r=Gr(t[0]);return{rowDelta:0,colDelta:n-r}};var vd=function(e,t){var n=e.length;var r=t.length;return{rowDelta:n-r,colDelta:0}};var dd=function(e,t,n,r){var o=t.section==="colgroup"?n.col:n.cell;return P(e,(function(e){return Jt(o(),true,r(e))}))};var md=function(e,t,n,r){var o=e[e.length-1];return e.concat(P(t,(function(){var e=o.section==="colgroup"?n.colgroup:n.row;var t=Kr(o,e,b);var a=dd(t.cells.length,t,n,(function(e){return It(r,e.toString())}));return Ur(t,a)})))};var gd=function(e,t,n,r){return L(e,(function(e){var o=dd(t,e,n,S);return Ir(e,r,o)}))};var hd=function(e,t,n){return L(e,(function(e){return j(n,(function(n,r){var o=dd(1,e,t,k)[0];return Fr(n,r,o)}),e)}))};var pd=function(e,t,n){var r=t.colDelta<0?gd:b;var o=t.rowDelta<0?md:b;var a=Jr(e);var i=Gr(e[0]);var u=B(a,(function(e){return e===i-1}));var c=r(e,Math.abs(t.colDelta),n,u?i-1:i);var f=Jr(c);return o(c,Math.abs(t.rowDelta),n,J(f,k))};var bd=function(e,t,n,r){var o=Wr(e[t],n);var a=w(r,o.element);var i=e[t];return e.length>1&&Gr(i)>1&&(n>0&&a(qr(i,n-1))||n<i.cells.length-1&&a(qr(i,n+1))||t>0&&a(qr(e[t-1],n))||t<e.length-1&&a(qr(e[t+1],n)))};var yd=function(e,t,n,r,o,a){var i=e.row;var u=e.column;var c=n.length;var f=Gr(n[0]);var s=i+c;var l=u+f+a.length;var v=J(a,k);for(var d=i;d<s;d++){var m=0;for(var g=u;g<l;g++){if(v[g]){m++;continue}if(bd(t,d,g,o)){nd(t,qr(t[d],g),o,r.cell)}var h=g-u-m;var p=Wr(n[d-i],h);var b=p.element;var y=r.replace(b);Vr(t[d],g,Jt(y,true,p.isLocked))}}return t};var wd=function(e,t,n){var r=Gr(t[0]);var o=$r(t).cols.length+e.row;var a=P(r-e.column,(function(t){return t+e.column}));var i=q(a,(function(e){return X(n,(function(t){return t!==e}))})).getOr(r-1);return{row:o,column:i}};var xd=function(e,t,n){return V(n,(function(n){return n>=e.column&&n<=Gr(t[0])+e.column}))};var Cd=function(e,t,n,r,o){var a=Jr(t);var i=wd(e,t,a);var u=$r(n).rows;var c=xd(i,u,a);var f=sd(i,t,u);return f.map((function(e){var n=oe(oe({},e),{colDelta:e.colDelta-c.length});var a=pd(t,n,r);var f=Jr(a);var s=xd(i,u,f);return yd(i,a,u,r,o,s)}))};var Sd=function(e,t,n,r,o){od(t,e,o,r.cell);var a=vd(n,t);var i=pd(n,a,r);var u=vd(t,i);var c=pd(t,u,r);return L(c,(function(t,n){return Ir(t,e,i[n].cells)}))};var kd=function(e,t,n,r,o){ad(t,e,o,r.cell);var a=Jr(t);var i=ld(t,n);var u=oe(oe({},i),{colDelta:i.colDelta-a.length});var c=pd(t,u,r);var f=$r(c),s=f.cols,l=f.rows;var v=Jr(c);var d=ld(n,t);var m=oe(oe({},d),{colDelta:d.colDelta+v.length});var g=hd(n,r,v);var h=pd(g,m,r);return s.concat(l.slice(0,e)).concat(h).concat(l.slice(e,l.length))};var Td=function(e,t,n,r){return Kr(e,(function(e){return r(e,n)}),t)};var Od=function(e,t,n,r,o){var a=$r(e),i=a.rows,u=a.cols;var c=i.slice(0,t);var f=i.slice(t);var s=Td(i[n],(function(e,n){var a=t>0&&t<i.length&&r(qr(i[t-1],n),qr(i[t],n));var u=a?Wr(i[t],n):Jt(o(e.element,r),true,e.isLocked);return u}),r,o);return u.concat(c).concat([s]).concat(f)};var _d=function(e,t,n,r,o,a,i){if(n==="colgroup"||!r){var u=Wr(e,o);return Jt(i(u.element,a),true,false)}else{return Wr(e,t)}};var Ed=function(e,t,n,r,o){return L(e,(function(e){var a=t>0&&t<Gr(e)&&r(qr(e,t-1),qr(e,t));var i=_d(e,t,e.section,a,n,r,o);return Fr(e,t,i)}))};var Dd=function(e,t){return K(e,(function(e){var n=e.cells;var r=U(t,(function(e,t){return t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e}),n);return r.length>0?[Qt(e.element,r,e.section,e.isNew)]:[]}))};var Ad=function(e,t,n){var r=$r(e),o=r.rows,a=r.cols;return a.concat(o.slice(0,t)).concat(o.slice(n+1))};var Nd=function(e,t,n,r){return qr(e[t],n)!==undefined&&(t>0&&r(qr(e[t-1],n),qr(e[t],n)))};var Md=function(e,t,n){return t>0&&n(qr(e,t-1),qr(e,t))};var Rd=function(e,t,n,r){return Nd(e,t,n,r)||Md(e[t],n,r)};var zd=function(e,t){var n=X(t,b)&&gv(e.cells);return n?k:function(e,n,r){var o=nn(e.element);return!(o==="th"&&t[r])}};var Bd=function(e,t){var n=X(t,b)&&gv(e);return n?k:function(e,n,r){var o=nn(e.element);return!(o==="th"&&t[n])}};var Pd=function(e,t,n,r){var o=function(e){return e==="row"?Cr(t):xr(t)};var a=function(e){return o(e)?e+"group":e};if(e){return mv(t)?a(n):null}else if(r&&mv(t)){var i=n==="row"?"col":"row";return a(i)}else{return null}};var Ld=function(e,t){return function(n,r,o){return D.some(Pd(e,n.element,"col",t[o]))}};var Hd=function(e,t){return function(n,r){return D.some(Pd(e,n.element,"row",t[r]))}};var Id=function(e,t,n){return Jt(n(e.element,t),true,e.isLocked)};var Fd=function(e,t,n,r,o,a,i){var u=function(e){return B(t,(function(t){return n(e.element,t.element)}))};return L(e,(function(e,t){return jr(e,(function(e,c){if(u(e)){var f=i(e,t,c)?o(e,n,r):e;a(f,t,c).each((function(e){Qn(f.element,{scope:D.from(e)})}));return f}else{return e}}))}))};var Vd=function(e,t,n){return K(e,(function(r,o){return Rd(e,o,t,n)?[]:[Wr(r,t)]}))};var Ud=function(e,t,n){var r=e[t];return K(r.cells,(function(r,o){return Rd(e,t,o,n)?[]:[r]}))};var jd=function(e,t,n,r,o){var a=$r(e).rows;var i=K(t,(function(e){return Vd(a,e,r)}));var u=L(e,(function(e){return gv(e.cells)}));var c=Bd(i,u);var f=Hd(n,u);return Fd(e,i,r,o,Id,f,c)};var Wd=function(e,t,n,r,o,a,i){var u=$r(e),c=u.cols,f=u.rows;var s=f[t[0]];var l=K(t,(function(e){return Ud(f,e,o)}));var v=L(s.cells,(function(e,t){return gv(Vd(f,t,o))}));var d=ae([],f,true);H(t,(function(e){d[e]=i.transformRow(f[e],n)}));var m=c.concat(d);var g=zd(s,v);var h=Ld(r,v);return Fd(m,l,o,a,i.transformCell,h,g)};var qd=function(e,t,n,r){var o=$r(e).rows;var a=L(t,(function(e){return Wr(o[e.row],e.column)}));return Fd(e,a,n,r,Id,D.none,k)};var Gd=function(e){var t=function(e,t){var n=B(e,(function(e){return e.column===t.column}));return n?e:e.concat([t])};return j(e,t,[]).sort((function(e,t){return e.column-t.column}))};var $d=ln("col");var Kd=ln("colgroup");var Xd=function(e){return nn(e)==="tr"||Kd(e)};var Yd=function(e){var t=yr(e,"colspan",1);var n=yr(e,"rowspan",1);return{element:e,colspan:t,rowspan:n}};var Jd=function(e,t){if(t===void 0){t=Yd}var n=function(t){return $d(t.element)?e.col(t):e.cell(t)};var r=function(t){return Kd(t.element)?e.colgroup(t):e.row(t)};var o=function(e){if(Xd(e)){return r({element:e})}else{var o=n(t(e));a=D.some({item:e,replacement:o});return o}};var a=D.none();var i=function(e,t){return a.fold((function(){return o(e)}),(function(n){return t(e,n.item)?n.replacement:o(e)}))};return{getOrInit:i}};var Qd=function(e){return function(t){var n=[];var r=function(e,t){return q(n,(function(n){return t(n.item,e)}))};var o=function(r){var o=e==="td"?{scope:null}:{};var a=t.replace(r,e,o);n.push({item:r,sub:a});return a};var a=function(e,t){if(Xd(e)||$d(e)){return e}else{return r(e,t).fold((function(){return o(e)}),(function(n){return t(e,n.item)?n.sub:o(e)}))}};return{replaceOrInit:a}}};var Zd=function(e){return er(e,"scope").map((function(e){return e.substr(0,3)}))};var em=function(e){var t=function(t){var n=Zd(t);n.each((function(e){return Yn(t,"scope",e)}));return function(){var r=e.cell({element:t,colspan:1,rowspan:1});pr(r,"width");pr(t,"width");n.each((function(e){return Yn(r,"scope",e)}));return r}};var n=function(e){var t=function(){var t=or(L(e,Zd));if(t.length===0){return D.none()}else{var n=t[0];var r=["row","col"];var o=B(t,(function(e){return e!==n&&z(r,e)}));return o?D.none():D.from(n)}};pr(e[0],"width");t().fold((function(){return tr(e[0],"scope")}),(function(t){return Yn(e[0],"scope",t+"group")}));return p(e[0])};return{unmerge:t,merge:n}};var tm={modification:Jd,transform:Qd,merging:em};var nm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];var rm=function(e,t){var n=e.property().name(t);return z(["ol","ul"],n)};var om=function(e,t){var n=e.property().name(t);return z(nm,n)};var am=function(e,t){return z(["br","img","hr","input"],e.property().name(t))};var im=jo();var um=function(e){return om(im,e)};var cm=function(e){return rm(im,e)};var fm=function(e){return am(im,e)};var sm=function(e){var t=function(e){return nn(e)==="br"};var n=function(e){return X(e,(function(e){return t(e)||cn(e)&&Io(e).trim().length===0}))};var r=function(e){return nn(e)==="li"||Vn(e,cm).isSome()};var o=function(e){return yn(e).map((function(e){if(um(e)){return true}if(fm(e)){return nn(e)==="img"?false:true}return false})).getOr(false)};var a=function(e){return Du(e).bind((function(n){var a=o(n);return gn(n).map((function(o){return a===true||r(o)||t(n)||um(o)&&!Ct(e,o)?[]:[pt.fromTag("br")]}))})).getOr([])};var i=function(){var t=K(e,(function(e){var t=wn(e);return n(t)?[]:t.concat(a(e))}));return t.length===0?[pt.fromTag("br")]:t};var u=i();zo(e[0]);Ro(e[0],u)};var lm=function(e){return Ss(e,true)};var vm=function(e){var t=Ar(e);if(t.length===0){Bo(e)}};var dm=function(e,t){return{grid:e,cursor:t}};var mm=function(e){return re(e,(function(e){return re(e.cells,(function(e){var t=e.element;return cr(lm(t),t)}))}))};var gm=function(e,t,n){var r,o;var a=$r(e).rows;return D.from((o=(r=a[t])===null||r===void 0?void 0:r.cells[n])===null||o===void 0?void 0:o.element).filter(lm).orThunk((function(){return mm(a)}))};var hm=function(e,t,n){var r=gm(e,t,n);return dm(e,r)};var pm=function(e){var t=function(e,t){var n=B(e,(function(e){return e.row===t.row}));return n?e:e.concat([t])};return j(e,t,[]).sort((function(e,t){return e.row-t.row}))};var bm=function(e,t,n,r){var o=t[0].row;var a=pm(t);var i=U(a,(function(e,t){var a=Od(e.grid,o,t.row+e.delta,n,r.getOrInit);return{grid:a,delta:e.delta+1}}),{grid:e,delta:0}).grid;return hm(i,o,t[0].column)};var ym=function(e,t,n,r){var o=pm(t);var a=o[o.length-1];var i=a.row+a.rowspan;var u=U(o,(function(e,t){return Od(e,i,t.row,n,r.getOrInit)}),e);return hm(u,i,t[0].column)};var wm=function(e,t,n,r){var o=t.details;var a=Gd(o);var i=a[0].column;var u=U(a,(function(e,t){var o=Ed(e.grid,i,t.column+e.delta,n,r.getOrInit);return{grid:o,delta:e.delta+1}}),{grid:e,delta:0}).grid;return hm(u,o[0].row,i)};var xm=function(e,t,n,r){var o=t.details;var a=o[o.length-1];var i=a.column+a.colspan;var u=Gd(o);var c=U(u,(function(e,t){return Ed(e,i,t.column,n,r.getOrInit)}),e);return hm(c,o[0].row,i)};var Cm=function(e,t,n,r){var o=Gd(t);var a=L(o,(function(e){return e.column}));var i=jd(e,a,true,n,r.replaceOrInit);return hm(i,t[0].row,t[0].column)};var Sm=function(e,t,n,r){var o=qd(e,t,n,r.replaceOrInit);return hm(o,t[0].row,t[0].column)};var km=function(e,t,n,r){var o=Gd(t);var a=L(o,(function(e){return e.column}));var i=jd(e,a,false,n,r.replaceOrInit);return hm(i,t[0].row,t[0].column)};var Tm=function(e,t,n,r){var o=qd(e,t,n,r.replaceOrInit);return hm(o,t[0].row,t[0].column)};var Om=function(e,t){return function(n,r,o,a,i){var u=pm(r);var c=L(u,(function(e){return e.row}));var f=Wd(n,c,e,t,o,a.replaceOrInit,i);return hm(f,r[0].row,r[0].column)}};var _m=Om("thead",true);var Em=Om("tbody",false);var Dm=Om("tfoot",false);var Am=function(e,t,n,r){var o=Gd(t.details);var a=Dd(e,L(o,(function(e){return e.column})));var i=a.length>0?a[0].cells.length-1:0;return hm(a,o[0].row,Math.min(o[0].column,i))};var Nm=function(e,t,n,r){var o=pm(t);var a=Ad(e,o[0].row,o[o.length-1].row);var i=a.length>0?a.length-1:0;return hm(a,Math.min(t[0].row,i),t[0].column)};var Mm=function(e,t,n,r){var o=t.cells;sm(o);var a=td(e,t.bounds,n,r.merge(o));return dm(a,D.from(o[0]))};var Rm=function(e,t,n,r){var o=function(e,t){return nd(e,t,n,r.unmerge(t))};var a=U(t,o,e);return dm(a,D.from(t[0]))};var zm=function(e,t,n,r){var o=function(e,t){var n=fo.fromTable(e);return Iv(n,t,true)};var a=o(t.clipboard,t.generators);var i=qt(t.row,t.column);var u=Cd(i,e,a,t.generators,n);return u.fold((function(){return dm(e,D.some(t.element))}),(function(e){return hm(e,t.row,t.column)}))};var Bm=function(e,t,n){var r=Hr(e,n.section);var o=fo.generate(r);return Iv(o,t,true)};var Pm=function(e,t,n,r){var o=$r(e).rows;var a=t.cells[0].column;var i=o[t.cells[0].row];var u=Bm(t.clipboard,t.generators,i);var c=Sd(a,e,u,t.generators,n);return hm(c,t.cells[0].row,t.cells[0].column)};var Lm=function(e,t,n,r){var o=$r(e).rows;var a=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan;var i=o[t.cells[0].row];var u=Bm(t.clipboard,t.generators,i);var c=Sd(a,e,u,t.generators,n);return hm(c,t.cells[0].row,t.cells[0].column)};var Hm=function(e,t,n,r){var o=$r(e).rows;var a=t.cells[0].row;var i=o[a];var u=Bm(t.clipboard,t.generators,i);var c=kd(a,e,u,t.generators,n);return hm(c,t.cells[0].row,t.cells[0].column)};var Im=function(e,t,n,r){var o=$r(e).rows;var a=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan;var i=o[t.cells[0].row];var u=Bm(t.clipboard,t.generators,i);var c=kd(a,e,u,t.generators,n);return hm(c,t.cells[0].row,t.cells[0].column)};var Fm=function(e,t){var n=fo.fromTable(e);var r=Xv(n,t);return r.bind((function(e){var t=e[e.length-1];var r=e[0].column;var o=t.column+t.colspan;var a=$(L(n.all,(function(e){return V(e.cells,(function(e){return e.column>=r&&e.column<o}))})));return bv(a)})).getOr("")};var Vm=function(e,t){var n=fo.fromTable(e);var r=Xv(n,t);return r.bind(bv).getOr("")};var Um=function(e,t){var n=fo.fromTable(e);var r=Xv(n,t);return r.bind((function(e){var t=e[e.length-1];var r=e[0].row;var o=t.row+t.rowspan;var a=n.all.slice(r,o);return yv(a)})).getOr("")};var jm=function(e,t,n,r){return Wc(e,t,n,r.sizing)};var Wm=function(e,t,n,r){return jc(e,t,n,r.sizing,r.resize)};var qm=function(e,t){return B(t,(function(e){return e.column===0&&e.isLocked}))};var Gm=function(e,t){return B(t,(function(t){return t.column+t.colspan>=e.grid.columns&&t.isLocked}))};var $m=function(e,t){var n=Va(e);var r=Gd(t);return j(r,(function(e,t){var r=n[t.column];var o=r.map(Ha).getOr(0);return e+o}),0)};var Km=function(e){return function(t,n){return Xv(t,n).filter((function(n){var r=e?qm:Gm;return!r(t,n)})).map((function(e){return{details:e,pixelDelta:$m(t,e)}}))}};var Xm=function(e,t){return Yv(e,t).map((function(t){return{details:t,pixelDelta:-$m(e,t)}}))};var Ym=function(e){return function(t,n){return Gv(t,n).filter((function(n){var r=e?qm:Gm;return!r(t,n.cells)}))}};var Jm=tm.transform("th");var Qm=tm.transform("td");var Zm=Wv(bm,Xv,m,m,tm.modification);var eg=Wv(ym,Xv,m,m,tm.modification);var tg=Wv(wm,Km(true),Wm,m,tm.modification);var ng=Wv(xm,Km(false),Wm,m,tm.modification);var rg=Wv(Am,Xm,Wm,vm,tm.modification);var og=Wv(Nm,Xv,m,vm,tm.modification);var ag=Wv(Cm,Yv,m,m,Jm);var ig=Wv(km,Yv,m,m,Qm);var ug=Wv(_m,Yv,m,m,Jm);var cg=Wv(Em,Yv,m,m,Qm);var fg=Wv(Dm,Yv,m,m,Qm);var sg=Wv(Sm,Yv,m,m,Jm);var lg=Wv(Tm,Yv,m,m,Qm);var vg=Wv(Mm,Zv,jm,m,tm.merging);var dg=Wv(Rm,ed,jm,m,tm.merging);var mg=Wv(zm,qv,jm,m,tm.modification);var gg=Wv(Pm,Ym(true),m,m,tm.modification);var hg=Wv(Lm,Ym(false),m,m,tm.modification);var pg=Wv(Hm,Gv,m,m,tm.modification);var bg=Wv(Im,Gv,m,m,tm.modification);var yg=Fm;var wg=Vm;var xg=Um;var Cg=function(e,t,n){var r=function(e){return nn(qu(e))==="table"};var o=function(t){return r(e)===false||Tf(t).rows>1};var a=function(t){return r(e)===false||Tf(t).columns>1};var i=Vl(e);var u=Fl(e)?m:dv;var c=function(t){switch(Ll(e)){case"section":return Ev.section();case"sectionCells":return Ev.sectionCells();case"cells":return Ev.cells();default:return Ev.getTableSectionType(t,"section")}};var f=function(n,r){return r.cursor.fold((function(){var r=Ar(n);return te(r).filter(Nn).map((function(r){t.clear(n);var o=e.dom.createRng();o.selectNode(r.dom);e.selection.setRng(o);Yn(r,"data-mce-selected","1");return o}))}),(function(r){var o=vv(r);var a=e.dom.createRng();a.setStart(o.element.dom,o.offset);a.setEnd(o.element.dom,o.offset);e.selection.setRng(a);t.clear(n);return D.some(a)}))};var s=function(t,n,r,o,a){return function(u,s,l){if(l===void 0){l=false}Ju(u);var v=o();var d=pt.fromDom(e.getDoc());var m=Fu(r,d,i);var g={sizing:ql(e,u),resize:Fl(e)?Yc():Jc(),section:c(u)};return n(u)?t(v,u,s,m,g).bind((function(t){H(t.newRows,(function(t){Qs(e,t.dom)}));H(t.newCells,(function(t){Zs(e,t.dom)}));var n=f(u,t);if(Nn(u)){Ju(u);if(!l){ol(e,u.dom,a)}}return n.map((function(e){return{rng:e,effect:a}}))})):D.none()}};var l=s(og,o,m,n,il);var v=s(rg,a,m,n,il);var d=s(Zm,k,m,n,il);var g=s(eg,k,m,n,il);var h=s(tg,k,u,n,il);var p=s(ng,k,u,n,il);var b=s(vg,k,m,n,il);var y=s(dg,k,m,n,il);var w=s(gg,k,m,n,il);var x=s(hg,k,m,n,il);var C=s(pg,k,m,n,il);var S=s(bg,k,m,n,il);var T=s(mg,k,m,n,ul);var O=s(sg,k,m,n,il);var _=s(lg,k,m,n,il);var E=s(ag,k,m,n,il);var A=s(ig,k,m,n,il);var N=s(ug,k,m,n,il);var M=s(cg,k,m,n,il);var R=s(fg,k,m,n,il);var z=wg;var B=yg;var P=xg;return{deleteRow:l,deleteColumn:v,insertRowsBefore:d,insertRowsAfter:g,insertColumnsBefore:h,insertColumnsAfter:p,mergeCells:b,unmergeCells:y,pasteColsBefore:w,pasteColsAfter:x,pasteRowsBefore:C,pasteRowsAfter:S,pasteCells:T,makeCellsHeader:O,unmakeCellsHeader:_,makeColumnsHeader:E,unmakeColumnsHeader:A,makeRowsHeader:N,makeRowsBody:M,makeRowsFooter:R,getTableRowType:P,getTableCellType:z,getTableColType:B}};var Sg={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:false};var kg=function(){return pt.fromTag("th")};var Tg=function(){return pt.fromTag("td")};var Og=function(){return pt.fromTag("col")};var _g=function(e,t,n,r){var o=pt.fromTag("tr");for(var a=0;a<e;a++){var i=r<t||a<n?kg():Tg();if(a<n){Yn(i,"scope","row")}if(r<t){Yn(i,"scope","col")}Eo(i,pt.fromTag("br"));Eo(o,i)}return o};var Eg=function(e){var t=pt.fromTag("colgroup");P(e,(function(){return Eo(t,Og())}));return t};var Dg=function(e,t,n,r){return P(e,(function(e){return _g(t,n,r,e)}))};var Ag=function(e,t,n,r,o,a){if(a===void 0){a=Sg}var i=pt.fromTag("table");var u=o!=="cells";dr(i,a.styles);Jn(i,a.attributes);if(a.colGroups){Eo(i,Eg(t))}var c=Math.min(e,n);if(u&&n>0){var f=pt.fromTag("thead");Eo(i,f);var s=o==="sectionCells"?c:0;var l=Dg(n,t,s,r);Ro(f,l)}var v=pt.fromTag("tbody");Eo(i,v);var d=u?e-c:e;var m=u?0:n;var g=Dg(d,t,m,r);Ro(v,g);return i};var Ng=function(e){return e.dom.innerHTML};var Mg=function(e){var t=pt.fromTag("div");var n=pt.fromDom(e.dom.cloneNode(true));Eo(t,n);return Ng(t)};var Rg=function(e,t){e.selection.select(t.dom,true);e.selection.collapse(true)};var zg=function(e,t){$n(t,"td,th").each(w(Rg,e))};var Bg=function(e,t){H(In(t,"tr"),(function(t){Qs(e,t.dom);H(In(t,"th,td"),(function(t){Zs(e,t.dom)}))}))};var Pg=function(e){return o(e)&&e.indexOf("%")!==-1};var Lg=function(e,t,n,r,o){var a=wl(e);var i={styles:a,attributes:yl(e),colGroups:Pl(e)};e.undoManager.ignore((function(){var a=Ag(n,t,o,r,Ll(e),i);Yn(a,"data-mce-id","__mce");var u=Mg(a);e.insertContent(u);e.addVisual()}));return $n(qu(e),'table[data-mce-id="__mce"]').map((function(t){if(Rl(e)){Jl(t)}else if(zl(e)){Ql(t)}else if(Ml(e)||Pg(a.width)){Yl(t)}Ju(t);tr(t,"data-mce-id");Bg(e,t);zg(e,t);return t.dom})).getOr(null)};var Hg=function(e,t,n,r,o){if(r===void 0){r={}}var a=function(e){return d(e)&&e>0};if(a(t)&&a(n)){var i=r.headerRows||0;var u=r.headerColumns||0;return Lg(e,n,t,u,i)}else{console.error(o);return null}};var Ig=function(e){return function(){return e().fold((function(){return[]}),(function(e){return L(e,(function(e){return e.dom}))}))}};var Fg=function(e){return function(t){var n=t.length>0?D.some(ju(t)):D.none();e(n)}};var Vg=function(e){return function(t,n,r){if(r===void 0){r={}}var o=Hg(e,n,t,r,"Invalid values for insertTable - rows and columns values are required to insert a table.");e.undoManager.add();return o}};var Ug=function(e,t,n,r){return{insertTable:Vg(e),setClipboardRows:Fg(t.setRows),getClipboardRows:Ig(t.getRows),setClipboardCols:Fg(t.setColumns),getClipboardCols:Ig(t.getColumns),resizeHandler:n,selectionTargets:r}};var jg=function(e,t,n){var r=yr(e,t,1);if(n===1||r<=1){tr(e,t)}else{Yn(e,t,Math.min(n,r))}};var Wg=function(e,t,n){if(fo.hasColumns(e)){var r=V(fo.justColumns(e),(function(e){return e.column>=t&&e.column<n}));var o=L(r,(function(e){var r=xa(e.element);jg(r,"span",n-t);return r}));var a=pt.fromTag("colgroup");Ro(a,o);return[a]}else{return[]}};var qg=function(e,t,n){return L(e.all,(function(e){var r=V(e.cells,(function(e){return e.column>=t&&e.column<n}));var o=L(r,(function(e){var r=xa(e.element);jg(r,"colspan",n-t);return r}));var a=pt.fromTag("tr");Ro(a,o);return a}))};var Gg=function(e,t){var n=fo.fromTable(e);var r=Yv(n,t);return r.map((function(e){var t=e[e.length-1];var r=e[0].column;var o=t.column+t.colspan;var a=Wg(n,r,o);var i=qg(n,r,o);return ae(ae([],a,true),i,true)}))};var $g=function(e,t,n){var r=fo.fromTable(e);var o=Xv(r,t);return o.bind((function(e){var t=Iv(r,n,false);var o=$r(t).rows;var a=o.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan);var i=K(a,(function(e){var t=V(e.cells,(function(e){return!e.isLocked}));return t.length>0?[oe(oe({},e),{cells:t})]:[]}));var u=Vv(i);return cr(u.length>0,u)})).map((function(e){return Rv(e)}))};var Kg=tinymce.util.Tools.resolve("tinymce.util.Tools");var Xg=function(e,t,n){var r=e.select("td,th",t);var o;var a=function(t,r){for(var o=0;o<r.length;o++){var a=e.getStyle(r[o],n);if(typeof t==="undefined"){t=a}if(t!==a){return""}}return t};return a(o,r)};var Yg=function(e,t,n){if(n){e.formatter.apply("align"+n,{},t)}};var Jg=function(e,t,n){if(n){e.formatter.apply("valign"+n,{},t)}};var Qg=function(e,t){Kg.each("left center right".split(" "),(function(n){e.formatter.remove("align"+n,{},t)}))};var Zg=function(e,t){Kg.each("top middle bottom".split(" "),(function(n){e.formatter.remove("valign"+n,{},t)}))};var eh=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}];var th=function(e){return{value:e}};var nh=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;var rh=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;var oh=function(e){return nh.test(e)||rh.test(e)};var ah=function(e){return we(e,"#").toUpperCase()};var ih=function(e){return oh(e)?D.some({value:ah(e)}):D.none()};var uh=function(e){var t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()};var ch=function(e){var t=uh(e.red)+uh(e.green)+uh(e.blue);return th(t)};var fh=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/;var sh=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/;var lh=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}};var vh=function(e,t,n,r){var o=parseInt(e,10);var a=parseInt(t,10);var i=parseInt(n,10);var u=parseFloat(r);return lh(o,a,i,u)};var dh=function(e){if(e==="transparent"){return D.some(lh(0,0,0,0))}var t=fh.exec(e);if(t!==null){return D.some(vh(t[1],t[2],t[3],"1"))}var n=sh.exec(e);if(n!==null){return D.some(vh(n[1],n[2],n[3],n[4]))}return D.none()};var mh=function(e){return ih(e).orThunk((function(){return dh(e).map(ch)})).getOrThunk((function(){var t=document.createElement("canvas");t.height=1;t.width=1;var n=t.getContext("2d");n.clearRect(0,0,t.width,t.height);n.fillStyle="#FFFFFF";n.fillStyle=e;n.fillRect(0,0,1,1);var r=n.getImageData(0,0,1,1).data;var o=r[0];var a=r[1];var i=r[2];var u=r[3];return ch(lh(o,a,i,u))}))};var gh=function(e){var t=e;var n=function(){return t};var r=function(e){t=e};return{get:n,set:r}};var hh=function(e){var t=gh(D.none());var n=function(){return t.get().each(e)};var r=function(){n();t.set(D.none())};var o=function(){return t.get().isSome()};var a=function(){return t.get()};var i=function(e){n();t.set(D.some(e))};return{clear:r,isSet:o,get:a,set:i}};var ph=function(){return hh((function(e){return e.unbind()}))};var bh=function(){var e=hh(m);var t=function(t){return e.get().each(t)};return oe(oe({},e),{on:t})};var yh=function(e,t,n,r){return function(o){var a=ph();var i=_e(r);var u=function(){var u=Sc(t);var c=function(t){return e.formatter.match(n,{value:r},t.dom,i)};if(i){o.setActive(!B(u,c));a.set(e.formatter.formatChanged(n,(function(e){return o.setActive(!e)}),true))}else{o.setActive(X(u,c));a.set(e.formatter.formatChanged(n,o.setActive,false,{value:r}))}};e.initialized?u():e.on("init",u);return a.clear}};var wh=function(e){return Ft(e,"menu")};var xh=function(e){return L(e,(function(e){var t=e.text||e.title;if(wh(e)){return{text:t,items:xh(e.menu)}}else{return{text:t,value:e.value}}}))};var Ch=function(e,t,n,r,o){return L(n,(function(n){var a=n.text||n.title;if(wh(n)){return{type:"nestedmenuitem",text:a,getSubmenuItems:function(){return Ch(e,t,n.menu,r,o)}}}else{return{text:a,type:"togglemenuitem",onAction:function(){return o(n.value)},onSetup:yh(e,t,r,n.value)}}}))};var Sh=function(e,t){return function(n){var r;e.execCommand("mceTableApplyCellStyle",false,(r={},r[t]=n,r))}};var kh=function(e){return K(e,(function(e){if(wh(e)){return[oe(oe({},e),{menu:kh(e.menu)})]}else{return Oe(e.value)?[e]:[]}}))};var Th=function(e,t,n,r,o){return function(a){return a(Ch(e,t,n,r,o))}};var Oh=function(e,t,n){var r=L(t,(function(e){return{text:e.title,value:"#"+mh(e.value).value,type:"choiceitem"}}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:r.length>0?r:undefined,allowCustomColors:false},onAction:function(t){var r;var o=t.value==="remove"?"":t.value;e.execCommand("mceTableApplyCellStyle",false,(r={},r[n]=o,r))}}]};var _h=function(e){return function(){var t=e.queryCommandValue("mceTableRowType");var n=t==="header"?"body":"header";e.execCommand("mceTableRowType",false,{type:n})}};var Eh=function(e){return function(){var t=e.queryCommandValue("mceTableColType");var n=t==="th"?"td":"th";e.execCommand("mceTableColType",false,{type:n})}};var Dh=function(e){var t=xh(Dl(e));if(t.length>0){return D.some({name:"class",type:"listbox",label:"Class",items:t})}return D.none()};var Ah=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:eh}];var Nh=function(e){return Ah.concat(Dh(e).toArray())};var Mh=function(e,t){var n=[{text:"Select...",value:""}];var r=[{name:"borderstyle",type:"listbox",label:"Border style",items:n.concat(xh(bl(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];var o={name:"borderwidth",type:"input",label:"Border width"};var a=t==="cell"?[o].concat(r):r;return{title:"Advanced",name:"advanced",items:a}};var Rh=function(e){return function(t,n){var r=t.dom;var o=function(t,o){if(!e||o){r.setAttrib(n,t,o)}};var a=function(t,o){if(!e||o){r.setStyle(n,t,o)}};var i=function(r,o){if(!e||o){if(o===""){t.formatter.remove(r,{value:null},n,true)}else{t.formatter.apply(r,{value:o},n)}}};return{setAttrib:o,setStyle:a,setFormat:i}}};var zh={normal:Rh(false),ifTruthy:Rh(true)};var Bh=function(e){return function(t){return Ce(t,"rgb")?e.toHex(t):t}};var Ph=function(e,t){var n=pt.fromDom(t);return{borderwidth:hr(n,"border-width").getOr(""),borderstyle:hr(n,"border-style").getOr(""),bordercolor:hr(n,"border-color").map(Bh(e)).getOr(""),backgroundcolor:hr(n,"background-color").map(Bh(e)).getOr("")}};var Lh=function(e){var t=e[0];var n=e.slice(1);H(n,(function(e){H(_t(t),(function(n){Dt(e,(function(e,r){var o=t[n];if(o!==""&&n===r){if(o!==e){t[n]=""}}}))}))}));return t};var Hh=function(e,t,n,r){return q(e,(function(e){return!f(n.formatter.matchNode(r,t+e))})).getOr("")};var Ih=w(Hh,["left","center","right"],"align");var Fh=w(Hh,["top","middle","bottom"],"valign");var Vh=function(e,t){var n=wl(e);var r=yl(e);var o=function(e){return{borderstyle:Ht(n,"border-style").getOr(""),bordercolor:Bh(e)(Ht(n,"border-color").getOr("")),backgroundcolor:Bh(e)(Ht(n,"background-color").getOr(""))}};var a={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:false,class:"",align:"",border:""};var i=function(){var t=n["border-width"];if(El(e)&&t){return{border:t}}return Ht(r,"border").fold((function(){return{}}),(function(e){return{border:e}}))};var u=t?o(e.dom):{};var c=function(){var e=Ht(n,"border-spacing").or(Ht(r,"cellspacing")).fold((function(){return{}}),(function(e){return{cellspacing:e}}));var t=Ht(n,"border-padding").or(Ht(r,"cellpadding")).fold((function(){return{}}),(function(e){return{cellpadding:e}}));return oe(oe({},e),t)};var f=oe(oe(oe(oe(oe(oe({},a),n),r),u),i()),c());return f};var Uh=function(e){return Mr(pt.fromDom(e)).map((function(t){var n={selection:ju(e.cells)};return xg(t,n)})).getOr("")};var jh=function(e,t,n){var r=function(t,n){var r=hr(pt.fromDom(n),"border-width");if(El(e)&&r.isSome()){return r.getOr("")}return t.getAttrib(n,"border")||Xg(e.dom,n,"border-width")||Xg(e.dom,n,"border")};var o=e.dom;var a=El(e)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing");var i=El(e)?Xg(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||Xg(o,t,"padding");return oe({width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:a,cellpadding:i,border:r(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:Ih(e,t)},n?Ph(o,t):{})};var Wh=function(e,t,n){var r=e.dom;return oe({height:r.getStyle(t,"height")||r.getAttrib(t,"height"),class:r.getAttrib(t,"class",""),type:Uh(t),align:Ih(e,t)},n?Ph(r,t):{})};var qh=function(e,t,n,r){var o=e.dom;var a=r.getOr(t);var i=function(e,t){return o.getStyle(e,t)||o.getAttrib(e,t)};return oe({width:i(a,"width"),height:i(t,"height"),scope:o.getAttrib(t,"scope"),celltype:Wu(t),class:o.getAttrib(t,"class",""),halign:Ih(e,t),valign:Fh(e,t)},n?Ph(o,t):{})};var Gh=function(e,t){var n=fo.fromTable(e);var r=fo.justCells(n);var o=V(r,(function(e){return B(t,(function(t){return Ct(e.element,t)}))}));return L(o,(function(e){return{element:e.element.dom,column:fo.getColumnAt(n,e.column).map((function(e){return e.element.dom}))}}))};var $h=function(e,t,n){e.setAttrib("scope",n.scope);e.setAttrib("class",n.class);e.setStyle("height",Yu(n.height));t.setStyle("width",Yu(n.width))};var Kh=function(e,t){e.setFormat("tablecellbackgroundcolor",t.backgroundcolor);e.setFormat("tablecellbordercolor",t.bordercolor);e.setFormat("tablecellborderstyle",t.borderstyle);e.setFormat("tablecellborderwidth",Yu(t.borderwidth))};var Xh=function(e,t,n){var r=t.length===1;H(t,(function(t){var o=t.element;var a=r?zh.normal(e,o):zh.ifTruthy(e,o);var i=t.column.map((function(t){return r?zh.normal(e,t):zh.ifTruthy(e,t)})).getOr(a);$h(a,i,n);if(Sl(e)){Kh(a,n)}if(r){Qg(e,o);Zg(e,o)}if(n.halign){Yg(e,o,n.halign)}if(n.valign){Jg(e,o,n.valign)}}))};var Yh=function(e,t){e.execCommand("mceTableCellType",false,{type:t.celltype,no_events:true})};var Jh=function(e,t,n,r){var o=zt(r,(function(e,t){return n[t]!==e}));if(Lt(o)>0&&t.length>=1){Mr(t[0]).each((function(n){var a=Gh(n,t);var i=Lt(zt(o,(function(e,t){return t!=="scope"&&t!=="celltype"})))>0;var u=It(o,"celltype");if(i||It(o,"scope")){Xh(e,a,r)}if(u){Yh(e,r)}ol(e,n.dom,{structure:u,style:i})}))}};var Qh=function(e,t,n,r){var o=r.getData();r.close();e.undoManager.transact((function(){Jh(e,t,n,o);e.focus()}))};var Zh=function(e,t){var n=Mr(t[0]).map((function(n){return L(Gh(n,t),(function(t){return qh(e,t.element,Sl(e),t.column)}))}));return Lh(n.getOrDie())};var ep=function(e,t){var n=Sc(t);if(n.length===0){return}var r=Zh(e,n);var o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Nh(e)},Mh(e,"cell")]};var a={type:"panel",items:[{type:"grid",columns:2,items:Nh(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Sl(e)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:r,onSubmit:w(Qh,e,n,r)})};var tp=function(e){var t=xh(Al(e));if(t.length>0){return D.some({name:"class",type:"listbox",label:"Class",items:t})}return D.none()};var np=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}];var rp=function(e){return np.concat(tp(e).toArray())};var op=function(e,t){e.setAttrib("class",t.class);e.setStyle("height",Yu(t.height))};var ap=function(e,t){e.setStyle("background-color",t.backgroundcolor);e.setStyle("border-color",t.bordercolor);e.setStyle("border-style",t.borderstyle)};var ip=function(e,t,n,r){var o=t.length===1;H(t,(function(t){var a=o?zh.normal(e,t):zh.ifTruthy(e,t);op(a,n);if(kl(e)){ap(a,n)}if(n.align!==r.align){Qg(e,t);Yg(e,t,n.align)}}))};var up=function(e,t){e.execCommand("mceTableRowType",false,{type:t.type,no_events:true})};var cp=function(e,t,n,r){var o=zt(r,(function(e,t){return n[t]!==e}));if(Lt(o)>0){var a=It(o,"type");var i=a?Lt(o)>1:true;if(i){ip(e,t,r,n)}if(a){up(e,r)}Mr(pt.fromDom(t[0])).each((function(t){return ol(e,t.dom,{structure:a,style:i})}))}};var fp=function(e,t,n,r){var o=r.getData();r.close();e.undoManager.transact((function(){cp(e,t,n,o);e.focus()}))};var sp=function(e){var t=kc(tc(e),mc.selected);if(t.length===0){return}var n=L(t,(function(t){return Wh(e,t.dom,kl(e))}));var r=Lh(n);var o={type:"tabpanel",tabs:[{title:"General",name:"general",items:rp(e)},Mh(e,"row")]};var a={type:"panel",items:[{type:"grid",columns:2,items:rp(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:kl(e)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:r,onSubmit:w(fp,e,L(t,(function(e){return e.dom})),r)})};var lp=function(e,t,n){var r=!n?[]:[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}];var o=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}];var a=Ol(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[];var i=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}];var u=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return r.concat(o).concat(a).concat(i).concat(u)};var vp=function(e,t,n,r){if(t.tagName==="TD"||t.tagName==="TH"){if(o(n)){e.setStyle(t,n,r)}else{e.setStyle(t,n)}}else{if(t.children){for(var a=0;a<t.children.length;a++){vp(e,t.children[a],n,r)}}}};var dp=function(e,t,n){var r=e.dom;var o={};var a={};o.class=n.class;a.height=Yu(n.height);if(r.getAttrib(t,"width")&&!El(e)){o.width=Xu(n.width)}else{a.width=Yu(n.width)}if(El(e)){a["border-width"]=Yu(n.border);a["border-spacing"]=Yu(n.cellspacing)}else{o.border=n.border;o.cellpadding=n.cellpadding;o.cellspacing=n.cellspacing}if(El(e)&&t.children){for(var i=0;i<t.children.length;i++){vp(r,t.children[i],{"border-width":Yu(n.border),padding:Yu(n.cellpadding)});if(Tl(e)){vp(r,t.children[i],{"border-color":n.bordercolor})}}}if(Tl(e)){a["background-color"]=n.backgroundcolor;a["border-color"]=n.bordercolor;a["border-style"]=n.borderstyle}o.style=r.serializeStyle(oe(oe({},wl(e)),a));r.setAttribs(t,oe(oe({},yl(e)),o))};var mp=function(e,t,n,r){var o=e.dom;var a=r.getData();var i=zt(a,(function(e,t){return n[t]!==e}));r.close();if(a.class===""){delete a.class}e.undoManager.transact((function(){if(!t){var n=parseInt(a.cols,10)||1;var r=parseInt(a.rows,10)||1;t=Lg(e,n,r,0,0)}if(Lt(i)>0){dp(e,t,a);var u=o.select("caption",t)[0];if(u&&!a.caption||!u&&a.caption){e.execCommand("mceTableToggleCaption")}if(a.align===""){Qg(e,t)}else{Yg(e,t,a.align)}}e.focus();e.addVisual();if(Lt(i)>0){var c=It(i,"caption");var f=c?Lt(i)>1:true;ol(e,t,{structure:c,style:f})}}))};var gp=function(e,t){var n=e.dom;var r;var o=Vh(e,Tl(e));if(t===false){r=n.getParent(e.selection.getStart(),"table",e.getBody());if(r){o=jh(e,r,Tl(e))}else{if(Tl(e)){o.borderstyle="";o.bordercolor="";o.backgroundcolor=""}}}else{o.cols="1";o.rows="1";if(Tl(e)){o.borderstyle="";o.bordercolor="";o.backgroundcolor=""}}var a=xh(Nl(e));if(a.length>0){if(o.class){o.class=o.class.replace(/\s*mce\-item\-table\s*/g,"")}}var i={type:"grid",columns:2,items:lp(e,a,t)};var u=function(){return{type:"panel",items:[i]}};var c=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[i]},Mh(e,"table")]}};var f=Tl(e)?c():u();e.windowManager.open({title:"Table Properties",size:"normal",body:f,onSubmit:w(mp,e,r,o),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:o})};var hp=function(e){return xc(tc(e),Ku(e))};var pp=function(e){return Cc(tc(e),Ku(e))};var bp=function(e,t,n,r,i){var u=Ku(e);var c=function(){return hp(e).each((function(t){Mr(t,u).filter(x(u)).each((function(t){var n=pt.fromText("");Oo(t,n);Bo(t);if(e.dom.isEmpty(e.getBody())){e.setContent("");e.selection.setCursorLocation()}else{var r=e.dom.createRng();r.setStart(n.dom,0);r.setEnd(n.dom,0);e.selection.setRng(r);e.nodeChanged()}}))}))};var f=function(t){return hp(e).each((function(n){var r=zl(e)||Rl(e)||Ml(e);if(!r){Mr(n,u).each((function(n){if(t==="relative"&&!Cf(n)){Yl(n)}else if(t==="fixed"&&!Sf(n)){Jl(n)}else if(t==="responsive"&&!kf(n)){Ql(n)}Ju(n);ol(e,n.dom,il)}))}}))};var s=function(e){return Mr(e,u)};var l=function(t){return pp(e).bind((function(e){return s(e).map((function(n){return t(n,e)}))}))};var v=function(t,n){l((function(t){e.formatter.toggle("tableclass",{value:n},t.dom);ol(e,t.dom,al)}))};var d=function(t,n){l((function(t){var o=Sc(r);var a=X(o,(function(t){return e.formatter.match("tablecellclass",{value:n},t.dom)}));var i=a?e.formatter.remove:e.formatter.apply;H(o,(function(e){return i("tablecellclass",{value:n},e.dom)}));ol(e,t.dom,al)}))};var g=function(){hp(e).each((function(t){Mr(t,u).each((function(n){Gn(n,"caption").fold((function(){var t=pt.fromTag("caption");Eo(t,pt.fromText("Caption"));Do(n,t,0);e.selection.setCursorLocation(t.dom,0)}),(function(r){if(ln("caption")(t)){xt("td",n).each((function(t){return e.selection.setCursorLocation(t.dom,0)}))}Bo(r)}));ol(e,n.dom,il)}))}))};var h=function(t){e.focus()};var p=function(e,t){if(t===void 0){t=false}return l((function(n,o){var a=hc(r,n,o);e(n,a,t).each(h)}))};var b=function(){return l((function(t,n){var o=hc(r,t,n);var a=Fu(m,pt.fromDom(e.getDoc()),D.none());return $g(t,o,a)}))};var y=function(){return l((function(e,t){var n=hc(r,e,t);return Gg(e,n)}))};var C=function(t,n){return n().each((function(n){var o=L(n,(function(e){return xa(e)}));l((function(n,a){var i=Vu(pt.fromDom(e.getDoc()));var u=bc(r,a,o,i);t(n,u).each(h)}))}))};var S=function(e){return function(t,n){return Ht(n,"type").each((function(t){p(e(t),n.no_events)}))}};Dt({mceTableSplitCells:function(){return p(t.unmergeCells)},mceTableMergeCells:function(){return p(t.mergeCells)},mceTableInsertRowBefore:function(){return p(t.insertRowsBefore)},mceTableInsertRowAfter:function(){return p(t.insertRowsAfter)},mceTableInsertColBefore:function(){return p(t.insertColumnsBefore)},mceTableInsertColAfter:function(){return p(t.insertColumnsAfter)},mceTableDeleteCol:function(){return p(t.deleteColumn)},mceTableDeleteRow:function(){return p(t.deleteRow)},mceTableCutCol:function(){return y().each((function(e){i.setColumns(e);p(t.deleteColumn)}))},mceTableCutRow:function(){return b().each((function(e){i.setRows(e);p(t.deleteRow)}))},mceTableCopyCol:function(){return y().each((function(e){return i.setColumns(e)}))},mceTableCopyRow:function(){return b().each((function(e){return i.setRows(e)}))},mceTablePasteColBefore:function(){return C(t.pasteColsBefore,i.getColumns)},mceTablePasteColAfter:function(){return C(t.pasteColsAfter,i.getColumns)},mceTablePasteRowBefore:function(){return C(t.pasteRowsBefore,i.getRows)},mceTablePasteRowAfter:function(){return C(t.pasteRowsAfter,i.getRows)},mceTableDelete:c,mceTableCellToggleClass:d,mceTableToggleClass:v,mceTableToggleCaption:g,mceTableSizingMode:function(e,t){return f(t)},mceTableCellType:S((function(e){return e==="th"?t.makeCellsHeader:t.unmakeCellsHeader})),mceTableColType:S((function(e){return e==="th"?t.makeColumnsHeader:t.unmakeColumnsHeader})),mceTableRowType:S((function(e){switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},(function(t,n){return e.addCommand(n,t)}));Dt({mceTableProps:w(gp,e,false),mceTableRowProps:w(sp,e),mceTableCellProps:w(ep,e,r)},(function(t,n){return e.addCommand(n,(function(){return t()}))}));e.addCommand("mceInsertTable",(function(t,n){if(a(n)&&_t(n).length>0){Hg(e,n.rows,n.columns,n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table.")}else{gp(e,true)}}));e.addCommand("mceTableApplyCellStyle",(function(t,n){var i=function(e){return"tablecell"+e.toLowerCase().replace("-","")};if(!a(n)){return}var u=Sc(r);if(u.length===0){return}var c=zt(n,(function(t,n){return e.formatter.has(i(n))&&o(t)}));if(Vt(c)){return}Dt(c,(function(t,n){H(u,(function(r){zh.normal(e,r.dom).setFormat(i(n),t)}))}));s(u[0]).each((function(t){return ol(e,t.dom,al)}))}))};var yp=function(e,t,n){var r=Ku(e);var o=function(t){return Cc(tc(e)).bind((function(e){return Mr(e,r).map((function(r){var o=hc(n,r,e);return t(r,o)}))})).getOr("")};Dt({mceTableRowType:function(){return o(t.getTableRowType)},mceTableCellType:function(){return o(t.getTableCellType)},mceTableColType:function(){return o(t.getTableColType)}},(function(t,n){return e.addQueryValueHandler(n,t)}))};var wp=function(){var e=bh();var t=bh();return{getRows:e.get,setRows:function(n){n.fold(e.clear,e.set);t.clear()},clearRows:e.clear,getColumns:t.get,setColumns:function(n){n.fold(t.clear,t.set);e.clear()},clearColumns:t.clear}};var xp={remove_similar:true,inherit:false};var Cp=oe({selector:"td,th"},xp);var Sp={tablecellbackgroundcolor:oe({styles:{backgroundColor:"%value"}},Cp),tablecellverticalalign:oe({styles:{"vertical-align":"%value"}},Cp),tablecellbordercolor:oe({styles:{borderColor:"%value"}},Cp),tablecellclass:oe({classes:["%value"]},Cp),tableclass:oe({selector:"table",classes:["%value"]},xp),tablecellborderstyle:oe({styles:{borderStyle:"%value"}},Cp),tablecellborderwidth:oe({styles:{borderWidth:"%value"}},Cp)};var kp=function(e){e.formatter.register(Sp)};var Tp=la.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]);var Op=function(e){if(e===void 0){e=undefined}return Tp.none(e)};var _p=oe(oe({},Tp),{none:Op});var Ep=function(e,t,n,r,o){if(o===void 0){o=k}var a=r===1;if(!a&&n<=0){return _p.first(e[0])}else if(a&&n>=e.length-1){return _p.last(e[e.length-1])}else{var i=n+r;var u=e[i];return o(u)?_p.middle(t,u):Ep(e,t,i,r,o)}};var Dp=function(e,t){return Mr(e,t).bind((function(t){var n=Ar(t);var r=G(n,(function(t){return Ct(e,t)}));return r.map((function(e){return{index:e,all:n}}))}))};var Ap=function(e,t,n){var r=Dp(e,n);return r.fold((function(){return _p.none(e)}),(function(n){return Ep(n.all,e,n.index,1,t)}))};var Np=function(e,t,n){var r=Dp(e,n);return r.fold((function(){return _p.none()}),(function(n){return Ep(n.all,e,n.index,-1,t)}))};var Mp=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}};var Rp={create:Mp};var zp=la.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);var Bp=function(e,t,n,r){return e.fold(t,n,r)};var Pp=function(e){return e.fold(b,b,b)};var Lp=zp.before;var Hp=zp.on;var Ip=zp.after;var Fp={before:Lp,on:Hp,after:Ip,cata:Bp,getStart:Pp};var Vp=la.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]);var Up=function(e){return Vp.exact(e.start,e.soffset,e.finish,e.foffset)};var jp=function(e){return e.match({domRange:function(e){return pt.fromDom(e.startContainer)},relative:function(e,t){return Fp.getStart(e)},exact:function(e,t,n,r){return e}})};var Wp=Vp.domRange;var qp=Vp.relative;var Gp=Vp.exact;var $p=function(e){var t=jp(e);return mn(t)};var Kp=Rp.create;var Xp={domRange:Wp,relative:qp,exact:Gp,exactFromRange:Up,getWin:$p,range:Kp};var Yp=function(e,t){var n=e.document.createRange();n.selectNode(t.dom);return n};var Jp=function(e,t){var n=e.document.createRange();Qp(n,t);return n};var Qp=function(e,t){return e.selectNodeContents(t.dom)};var Zp=function(e,t){t.fold((function(t){e.setStartBefore(t.dom)}),(function(t,n){e.setStart(t.dom,n)}),(function(t){e.setStartAfter(t.dom)}))};var eb=function(e,t){t.fold((function(t){e.setEndBefore(t.dom)}),(function(t,n){e.setEnd(t.dom,n)}),(function(t){e.setEndAfter(t.dom)}))};var tb=function(e,t,n){var r=e.document.createRange();Zp(r,t);eb(r,n);return r};var nb=function(e,t,n,r,o){var a=e.document.createRange();a.setStart(t.dom,n);a.setEnd(r.dom,o);return a};var rb=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}};var ob=function(e){var t=e.getClientRects();var n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?D.some(n).map(rb):D.none()};var ab=la.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);var ib=function(e,t,n){return t(pt.fromDom(n.startContainer),n.startOffset,pt.fromDom(n.endContainer),n.endOffset)};var ub=function(e,t){return t.match({domRange:function(e){return{ltr:p(e),rtl:D.none}},relative:function(t,n){return{ltr:ie((function(){return tb(e,t,n)})),rtl:ie((function(){return D.some(tb(e,n,t))}))}},exact:function(t,n,r,o){return{ltr:ie((function(){return nb(e,t,n,r,o)})),rtl:ie((function(){return D.some(nb(e,r,o,t,n))}))}}})};var cb=function(e,t){var n=t.ltr();if(n.collapsed){var r=t.rtl().filter((function(e){return e.collapsed===false}));return r.map((function(e){return ab.rtl(pt.fromDom(e.endContainer),e.endOffset,pt.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return ib(e,ab.ltr,n)}))}else{return ib(e,ab.ltr,n)}};var fb=function(e,t){var n=ub(e,t);return cb(e,n)};var sb=function(e,t){var n=fb(e,t);return n.match({ltr:function(t,n,r,o){var a=e.document.createRange();a.setStart(t.dom,n);a.setEnd(r.dom,o);return a},rtl:function(t,n,r,o){var a=e.document.createRange();a.setStart(r.dom,o);a.setEnd(t.dom,n);return a}})};ab.ltr;ab.rtl;var lb=function(e,t,n,r,o){if(o===0){return 0}else if(t===r){return o-1}var a=r;for(var i=1;i<o;i++){var u=e(i);var c=Math.abs(t-u.left);if(n<=u.bottom){if(n<u.top||c>a){return i-1}else{a=c}}}return 0};var vb=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom};var db=function(e,t,n,r,o){var a=function(n){var r=e.dom.createRange();r.setStart(t.dom,n);r.collapse(true);return r};var i=function(e){var t=a(e);return t.getBoundingClientRect()};var u=Io(t).length;var c=lb(i,n,r,o.right,u);return a(c)};var mb=function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom);var a=o.getClientRects();var i=re(a,(function(e){return vb(e,n,r)?D.some(e):D.none()}));return i.map((function(o){return db(e,t,n,r,o)}))};var gb=function(e,t,n,r){var o=e.dom.createRange();var a=wn(t);return re(a,(function(t){o.selectNode(t.dom);return vb(o.getBoundingClientRect(),n,r)?hb(e,t,n,r):D.none()}))};var hb=function(e,t,n,r){return cn(t)?mb(e,t,n,r):gb(e,t,n,r)};var pb=function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom);var a=o.getBoundingClientRect();var i=Math.max(a.left,Math.min(a.right,n));var u=Math.max(a.top,Math.min(a.bottom,r));return hb(e,t,i,u)};var bb=true;var yb=false;var wb=function(e,t){return t-e.left<e.right-t?bb:yb};var xb=function(e,t,n){var r=e.dom.createRange();r.selectNode(t.dom);r.collapse(n);return r};var Cb=function(e,t,n){var r=e.dom.createRange();r.selectNode(t.dom);var o=r.getBoundingClientRect();var a=wb(o,n);var i=a===bb?Eu:Du;return i(t).map((function(t){return xb(e,t,a)}))};var Sb=function(e,t,n){var r=t.dom.getBoundingClientRect();var o=wb(r,n);return D.some(xb(e,t,o))};var kb=function(e,t,n){var r=wn(t).length===0?Sb:Cb;return r(e,t,n)};var Tb=function(e,t,n){var r,o;return D.from((o=(r=e.dom).caretPositionFromPoint)===null||o===void 0?void 0:o.call(r,t,n)).bind((function(t){if(t.offsetNode===null){return D.none()}var n=e.dom.createRange();n.setStart(t.offsetNode,t.offset);n.collapse();return D.some(n)}))};var Ob=function(e,t,n){var r,o;return D.from((o=(r=e.dom).caretRangeFromPoint)===null||o===void 0?void 0:o.call(r,t,n))};var _b=function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom);var a=o.getBoundingClientRect();var i=Math.max(a.left,Math.min(a.right,n));var u=Math.max(a.top,Math.min(a.bottom,r));return pb(e,t,i,u)};var Eb=function(e,t,n){return pt.fromPoint(e,t,n).bind((function(r){var o=function(){return kb(e,r,t)};return wn(r).length===0?o():_b(e,r,t,n).orThunk(o)}))};var Db=function(){if(document.caretPositionFromPoint){return Tb}else if(document.caretRangeFromPoint){return Ob}else{return Eb}}();var Ab=function(e,t,n){var r=pt.fromDom(e.document);return Db(r,t,n).map((function(e){return Rp.create(pt.fromDom(e.startContainer),e.startOffset,pt.fromDom(e.endContainer),e.endOffset)}))};var Nb=function(e,t){var n=nn(e);if("input"===n){return Fp.after(e)}else if(!z(["br","img"],n)){return Fp.on(e,t)}else{return t===0?Fp.before(e):Fp.after(e)}};var Mb=function(e,t){var n=e.fold(Fp.before,Nb,Fp.after);var r=t.fold(Fp.before,Nb,Fp.after);return Xp.relative(n,r)};var Rb=function(e,t,n,r){var o=Nb(e,t);var a=Nb(n,r);return Xp.relative(o,a)};var zb=function(e){return e.match({domRange:function(e){var t=pt.fromDom(e.startContainer);var n=pt.fromDom(e.endContainer);return Rb(t,e.startOffset,n,e.endOffset)},relative:Mb,exact:Rb})};var Bb=function(e,t,n,r){var o=vn(e);var a=o.dom.createRange();a.setStart(e.dom,t);a.setEnd(n.dom,r);return a};var Pb=function(e,t,n,r){var o=Bb(e,t,n,r);var a=Ct(e,n)&&t===r;return o.collapsed&&!a};var Lb=function(e){return D.from(e.getSelection())};var Hb=function(e,t){Lb(e).each((function(e){e.removeAllRanges();e.addRange(t)}))};var Ib=function(e,t,n,r,o){var a=nb(e,t,n,r,o);Hb(e,a)};var Fb=function(e,t,n,r,o,a){t.collapse(n.dom,r);t.extend(o.dom,a)};var Vb=function(e,t){return fb(e,t).match({ltr:function(t,n,r,o){Ib(e,t,n,r,o)},rtl:function(t,n,r,o){Lb(e).each((function(a){if(a.setBaseAndExtent){a.setBaseAndExtent(t.dom,n,r.dom,o)}else if(a.extend){try{Fb(e,a,t,n,r,o)}catch(a){Ib(e,r,o,t,n)}}else{Ib(e,r,o,t,n)}}))}})};var Ub=function(e,t,n,r,o){var a=Rb(t,n,r,o);Vb(e,a)};var jb=function(e,t,n){var r=Mb(t,n);Vb(e,r)};var Wb=function(e){var t=Xp.getWin(e).dom;var n=function(e,n,r,o){return nb(t,e,n,r,o)};var r=zb(e);return fb(t,r).match({ltr:n,rtl:n})};var qb=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0);var n=e.getRangeAt(e.rangeCount-1);return D.some(Rp.create(pt.fromDom(t.startContainer),t.startOffset,pt.fromDom(n.endContainer),n.endOffset))}else{return D.none()}};var Gb=function(e){if(e.anchorNode===null||e.focusNode===null){return qb(e)}else{var t=pt.fromDom(e.anchorNode);var n=pt.fromDom(e.focusNode);return Pb(t,e.anchorOffset,n,e.focusOffset)?D.some(Rp.create(t,e.anchorOffset,n,e.focusOffset)):qb(e)}};var $b=function(e,t,n){if(n===void 0){n=true}var r=n?Jp:Yp;var o=r(e,t);Hb(e,o)};var Kb=function(e){return Lb(e).filter((function(e){return e.rangeCount>0})).bind(Gb)};var Xb=function(e){return Kb(e).map((function(e){return Xp.exact(e.start,e.soffset,e.finish,e.foffset)}))};var Yb=function(e,t){var n=sb(e,t);return ob(n)};var Jb=function(e,t,n){return Ab(e,t,n)};var Qb=function(e){Lb(e).each((function(e){return e.removeAllRanges()}))};var Zb=tinymce.util.Tools.resolve("tinymce.util.VK");var ey=function(e,t,n){return ry(e,t,Ap(n,Ss))};var ty=function(e,t,n){return ry(e,t,Np(n,Ss))};var ny=function(e,t){var n=Xp.exact(t,0,t,0);return Wb(n)};var ry=function(e,t,n){return n.fold(D.none,D.none,(function(t,n){return Eu(n).map((function(t){return ny(e,t)}))}),(function(n){e.execCommand("mceTableInsertRowAfter");return ey(e,t,n)}))};var oy=["table","li","dl"];var ay=function(e,t,n){if(e.keyCode===Zb.TAB){var r=qu(t);var o=function(e){var t=nn(e);return Ct(e,r)||z(oy,t)};var a=t.selection.getRng();var i=pt.fromDom(e.shiftKey?a.startContainer:a.endContainer);Dr(i,o).each((function(r){e.preventDefault();Mr(r,o).each(n.clear);t.selection.collapse(e.shiftKey);var a=e.shiftKey?ty:ey;var i=a(t,o,r);i.each((function(e){t.selection.setRng(e)}))}))}};var iy=function(e,t){return{selection:e,kill:t}};var uy={create:iy};var cy=function(e,t,n,r){return{start:Fp.on(e,t),finish:Fp.on(n,r)}};var fy={create:cy};var sy=function(e,t){var n=sb(e,t);return Rp.create(pt.fromDom(n.startContainer),n.startOffset,pt.fromDom(n.endContainer),n.endOffset)};var ly=fy.create;var vy=function(e,t,n,r,o,a,i){if(!(Ct(n,o)&&r===a)){return Kn(n,"td,th",t).bind((function(n){return Kn(o,"td,th",t).bind((function(r){return dy(e,t,n,r,i)}))}))}else{return D.none()}};var dy=function(e,t,n,r,o){if(!Ct(n,r)){return na(n,r,t).bind((function(t){var r=t.boxes.getOr([]);if(r.length>1){o(e,r,t.start,t.finish);return D.some(uy.create(D.some(ly(n,0,n,ku(n))),true))}else{return D.none()}}))}else{return D.none()}};var my=function(e,t,n,r,o){var a=function(e){o.clearBeforeUpdate(n);o.selectRange(n,e.boxes,e.start,e.finish);return e.boxes};return ua(r,e,t,o.firstSelectedSelector,o.lastSelectedSelector).map(a)};var gy=function(e,t){return{item:e,mode:t}};var hy=function(e,t,n,r){if(r===void 0){r=py}return e.property().parent(t).map((function(e){return gy(e,r)}))};var py=function(e,t,n,r){if(r===void 0){r=by}return n.sibling(e,t).map((function(e){return gy(e,r)}))};var by=function(e,t,n,r){if(r===void 0){r=by}var o=e.property().children(t);var a=n.first(o);return a.map((function(e){return gy(e,r)}))};var yy=[{current:hy,next:py,fallback:D.none()},{current:py,next:by,fallback:D.some(hy)},{current:by,next:by,fallback:D.some(py)}];var wy=function(e,t,n,r,o){if(o===void 0){o=yy}var a=q(o,(function(e){return e.current===n}));return a.bind((function(n){return n.current(e,t,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return wy(e,t,n,r)}))}))}))};var xy=function(){var e=function(e,t){return e.query().prevSibling(t)};var t=function(e){return e.length>0?D.some(e[e.length-1]):D.none()};return{sibling:e,first:t}};var Cy=function(){var e=function(e,t){return e.query().nextSibling(t)};var t=function(e){return e.length>0?D.some(e[0]):D.none()};return{sibling:e,first:t}};var Sy={left:xy,right:Cy};var ky=function(e,t,n,r,o,a){var i=wy(e,t,r,o);return i.bind((function(t){if(a(t.item)){return D.none()}else{return n(t.item)?D.some(t.item):ky(e,t.item,n,t.mode,o,a)}}))};var Ty=function(e,t,n,r){return ky(e,t,n,py,Sy.left(),r)};var Oy=function(e,t,n,r){return ky(e,t,n,py,Sy.right(),r)};var _y=function(e){return function(t){return e.property().children(t).length===0}};var Ey=function(e,t,n){return Ay(e,t,_y(e),n)};var Dy=function(e,t,n){return Ny(e,t,_y(e),n)};var Ay=Ty;var Ny=Oy;var My=jo();var Ry=function(e,t){return Ey(My,e,t)};var zy=function(e,t){return Dy(My,e,t)};var By=function(e,t,n){return Ay(My,e,t,n)};var Py=function(e,t,n){return Ny(My,e,t,n)};var Ly=function(e,t,n){return Vn(e,t,n).isSome()};var Hy=la.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]);var Iy=function(e,t,n){var r=e.getRect(t);var o=e.getRect(n);return o.right>r.left&&o.left<r.right};var Fy=function(e){return Kn(e,"tr")};var Vy=function(e,t,n,r,o,a,i){return Kn(r,"td,th",i).bind((function(n){return Kn(t,"td,th",i).map((function(t){if(!Ct(n,t)){return Zo(Fy,[n,t]).fold((function(){return Iy(e,t,n)?Hy.success():a(t)}),(function(e){return a(t)}))}else{return Ct(r,n)&&ku(n)===o?a(t):Hy.none("in same cell")}}))})).getOr(Hy.none("default"))};var Uy=function(e,t,n,r,o){return e.fold(t,n,r,o)};var jy=oe(oe({},Hy),{verify:Vy,cata:Uy});var Wy=function(e,t,n,r){return{parent:e,children:t,element:n,index:r}};var qy=function(e){return gn(e).bind((function(t){var n=wn(t);return Gy(n,e).map((function(r){return Wy(t,n,e,r)}))}))};var Gy=function(e,t){return G(e,w(Ct,t))};var $y=function(e){return nn(e)==="br"};var Ky=function(e,t,n){return t(e,n).bind((function(e){return cn(e)&&Io(e).trim().length===0?Ky(e,t,n):D.some(e)}))};var Xy=function(e,t,n){return n.traverse(t).orThunk((function(){return Ky(t,n.gather,e)})).map(n.relative)};var Yy=function(e,t){return xn(e,t).filter($y).orThunk((function(){return xn(e,t-1).filter($y)}))};var Jy=function(e,t,n,r){return Yy(t,n).bind((function(t){return r.traverse(t).fold((function(){return Ky(t,r.gather,e).map(r.relative)}),(function(e){return qy(e).map((function(e){return Fp.on(e.parent,e.index)}))}))}))};var Qy=function(e,t,n,r){var o=$y(t)?Xy(e,t,r):Jy(e,t,n,r);return o.map((function(e){return{start:e,finish:e}}))};var Zy=function(e){return jy.cata(e,(function(e){return D.none()}),(function(){return D.none()}),(function(e){return D.some(iv(e,0))}),(function(e){return D.some(iv(e,ku(e)))}))};var ew=function(e,t){return{left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}};var tw=function(e,t){return{left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}};var nw=function(e,t,n){return{left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}};var rw=function(e){return e.top};var ow=function(e){return e.bottom};var aw=function(e,t,n){if(n>=0&&n<ku(t)){return e.getRangedRect(t,n,t,n+1)}else if(n>0){return e.getRangedRect(t,n-1,t,n)}return D.none()};var iw=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}};var uw=function(e,t){return D.some(e.getRect(t))};var cw=function(e,t,n){if(un(t)){return uw(e,t).map(iw)}else if(cn(t)){return aw(e,t,n).map(iw)}else{return D.none()}};var fw=function(e,t){if(un(t)){return uw(e,t).map(iw)}else if(cn(t)){return e.getRangedRect(t,0,t,ku(t)).map(iw)}else{return D.none()}};var sw=5;var lw=100;var vw=la.generate([{none:[]},{retry:["caret"]}]);var dw=function(e,t){return e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right};var mw=function(e,t,n){return Un(t,um).fold(S,(function(t){return fw(e,t).exists((function(e){return dw(n,e)}))}))};var gw=function(e,t,n,r,o){var a=ew(o,sw);if(Math.abs(n.bottom-r.bottom)<1){return vw.retry(a)}else if(n.top>o.bottom){return vw.retry(a)}else if(n.top===o.bottom){return vw.retry(ew(o,1))}else{return mw(e,t,o)?vw.retry(nw(a,sw,0)):vw.none()}};var hw=function(e,t,n,r,o){var a=tw(o,sw);if(Math.abs(n.top-r.top)<1){return vw.retry(a)}else if(n.bottom<o.top){return vw.retry(a)}else if(n.bottom===o.top){return vw.retry(tw(o,1))}else{return mw(e,t,o)?vw.retry(nw(a,sw,0)):vw.none()}};var pw={point:rw,adjuster:hw,move:tw,gather:Ry};var bw={point:ow,adjuster:gw,move:ew,gather:zy};var yw=function(e,t,n){return e.elementFromPoint(t,n).filter((function(e){return nn(e)==="table"})).isSome()};var ww=function(e,t,n,r,o){return xw(e,t,n,t.move(r,sw),o)};var xw=function(e,t,n,r,o){if(o===0){return D.some(r)}if(yw(e,r.left,t.point(r))){return ww(e,t,n,r,o-1)}return e.situsFromPoint(r.left,t.point(r)).bind((function(a){return a.start.fold(D.none,(function(a){return fw(e,a).bind((function(i){return t.adjuster(e,a,i,n,r).fold(D.none,(function(r){return xw(e,t,n,r,o-1)}))})).orThunk((function(){return D.some(r)}))}),D.none)}))};var Cw=function(e,t){return e.situsFromPoint(t.left,t.bottom+sw)};var Sw=function(e,t){return e.situsFromPoint(t.left,t.top-sw)};var kw=function(e,t,n){if(e.point(t)>n.getInnerHeight()){return D.some(e.point(t)-n.getInnerHeight())}else if(e.point(t)<0){return D.some(-e.point(t))}else{return D.none()}};var Tw=function(e,t,n){var r=e.move(n,sw);var o=xw(t,e,n,r,lw).getOr(r);return kw(e,o,t).fold((function(){return t.situsFromPoint(o.left,e.point(o))}),(function(n){t.scrollBy(0,n);return t.situsFromPoint(o.left,e.point(o)-n)}))};var Ow={tryUp:w(Tw,pw),tryDown:w(Tw,bw),ieTryUp:Sw,ieTryDown:Cw,getJumpSize:p(sw)};var _w=20;var Ew=function(e,t,n){return e.getSelection().bind((function(r){return Qy(t,r.finish,r.foffset,n).fold((function(){return D.some(iv(r.finish,r.foffset))}),(function(o){var a=e.fromSitus(o);var i=jy.verify(e,r.finish,r.foffset,a.finish,a.foffset,n.failure,t);return Zy(i)}))}))};var Dw=function(e,t,n,r,o,a){if(a===0){return D.none()}return Mw(e,t,n,r,o).bind((function(i){var u=e.fromSitus(i);var c=jy.verify(e,n,r,u.finish,u.foffset,o.failure,t);return jy.cata(c,(function(){return D.none()}),(function(){return D.some(i)}),(function(i){if(Ct(n,i)&&r===0){return Aw(e,n,r,tw,o)}else{return Dw(e,t,i,0,o,a-1)}}),(function(i){if(Ct(n,i)&&r===ku(i)){return Aw(e,n,r,ew,o)}else{return Dw(e,t,i,ku(i),o,a-1)}}))}))};var Aw=function(e,t,n,r,o){return cw(e,t,n).bind((function(t){return Nw(e,o,r(t,Ow.getJumpSize()))}))};var Nw=function(e,t,n){var r=ot().browser;if(r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()){return t.otherRetry(e,n)}else if(r.isIE()){return t.ieRetry(e,n)}else{return D.none()}};var Mw=function(e,t,n,r,o){return cw(e,n,r).bind((function(t){return Nw(e,o,t)}))};var Rw=function(e,t,n){return Ew(e,t,n).bind((function(r){return Dw(e,t,r.element,r.offset,n,_w).map(e.fromSitus)}))};var zw=function(e,t){return Ly(e,(function(e){return gn(e).exists((function(e){return Ct(e,t)}))}))};var Bw=function(e,t,n,r,o){return Kn(r,"td,th",t).bind((function(r){return Kn(r,"table",t).bind((function(a){if(!zw(o,a)){return D.none()}return Rw(e,t,n).bind((function(e){return Kn(e.finish,"td,th",t).map((function(t){return{start:r,finish:t,range:e}}))}))}))}))};var Pw=function(e,t,n,r,o,a){if(ot().browser.isIE()){return D.none()}else{return a(r,t).orThunk((function(){return Bw(e,t,n,r,o).map((function(e){var t=e.range;return uy.create(D.some(ly(t.start,t.soffset,t.finish,t.foffset)),true)}))}))}};var Lw=function(e,t){return Kn(e,"tr",t).bind((function(e){return Kn(e,"table",t).bind((function(n){var r=In(n,"tr");if(Ct(e,r[0])){return By(n,(function(e){return Du(e).isSome()}),t).map((function(e){var t=ku(e);return uy.create(D.some(ly(e,t,e,t)),true)}))}else{return D.none()}}))}))};var Hw=function(e,t){return Kn(e,"tr",t).bind((function(e){return Kn(e,"table",t).bind((function(n){var r=In(n,"tr");if(Ct(e,r[r.length-1])){return Py(n,(function(e){return Eu(e).isSome()}),t).map((function(e){return uy.create(D.some(ly(e,0,e,0)),true)}))}else{return D.none()}}))}))};var Iw=function(e,t,n,r,o,a,i){return Bw(e,n,r,o,a).bind((function(e){return dy(t,n,e.start,e.finish,i)}))};var Fw=function(e,t){return Kn(e,"td,th",t)};var Vw=function(e,t,n,r){var o=bh();var a=o.clear;var i=function(a){o.on((function(o){r.clearBeforeUpdate(t);Fw(a.target,n).each((function(i){na(o,i,n).each((function(n){var o=n.boxes.getOr([]);if(o.length===1){var u=o[0];var c=ks(u)==="false";var f=rr(Cs(a.target),u,Ct);if(c&&f){r.selectRange(t,o,u,u);e.selectContents(u)}}else if(o.length>1){r.selectRange(t,o,n.start,n.finish);e.selectContents(i)}}))}))}))};var u=function(e){r.clear(t);Fw(e.target,n).each(o.set)};var c=function(e){i(e)};var f=function(e){i(e);a()};return{clearstate:a,mousedown:u,mouseover:c,mouseup:f}};var Uw={traverse:yn,gather:zy,relative:Fp.before,otherRetry:Ow.tryDown,ieRetry:Ow.ieTryDown,failure:jy.failedDown};var jw={traverse:bn,gather:Ry,relative:Fp.before,otherRetry:Ow.tryUp,ieRetry:Ow.ieTryUp,failure:jy.failedUp};var Ww=function(e){return function(t){return t===e}};var qw=Ww(38);var Gw=Ww(40);var $w=function(e){return e>=37&&e<=40};var Kw={isBackward:Ww(37),isForward:Ww(39)};var Xw={isBackward:Ww(39),isForward:Ww(37)};var Yw=function(e){var t=e!==undefined?e.dom:document;var n=t.body.scrollLeft||t.documentElement.scrollLeft;var r=t.body.scrollTop||t.documentElement.scrollTop;return Qa(n,r)};var Jw=function(e,t,n){var r=n!==undefined?n.dom:document;var o=r.defaultView;if(o){o.scrollBy(e,t)}};var Qw=function(e){var t=function(t,n){return pt.fromPoint(pt.fromDom(e.document),t,n)};var n=function(e){return e.dom.getBoundingClientRect()};var r=function(t,n,r,o){var a=Xp.exact(t,n,r,o);return Yb(e,a)};var o=function(){return Xb(e).map((function(t){return sy(e,t)}))};var a=function(t){var n=Xp.relative(t.start,t.finish);return sy(e,n)};var i=function(t,n){return Jb(e,t,n).map((function(e){return fy.create(e.start,e.soffset,e.finish,e.foffset)}))};var u=function(){Qb(e)};var c=function(t){if(t===void 0){t=false}Xb(e).each((function(n){return n.fold((function(e){return e.collapse(t)}),(function(n,r){var o=t?n:r;jb(e,o,o)}),(function(n,r,o,a){var i=t?n:o;var u=t?r:a;Ub(e,i,u,i,u)}))}))};var f=function(t){$b(e,t,false)};var s=function(t){$b(e,t)};var l=function(t){Ub(e,t.start,t.soffset,t.finish,t.foffset)};var v=function(t,n){jb(e,t,n)};var d=function(){return e.innerHeight};var m=function(){var t=Yw(pt.fromDom(e.document));return t.top};var g=function(t,n){Jw(t,n,pt.fromDom(e.document))};return{elementFromPoint:t,getRect:n,getRangedRect:r,getSelection:o,fromSitus:a,situsFromPoint:i,clearSelection:u,collapseSelection:c,setSelection:l,setRelativeSelection:v,selectNode:f,selectContents:s,getInnerHeight:d,getScrollY:m,scrollBy:g}};var Zw=function(e,t){return{rows:e,cols:t}};var ex=function(e,t,n,r){var o=Qw(e);var a=Vw(o,t,n,r);return{clearstate:a.clearstate,mousedown:a.mousedown,mouseover:a.mouseover,mouseup:a.mouseup}};var tx=function(e,t,n,r){var o=Qw(e);var a=function(){r.clear(t);return D.none()};var i=function(e,i,u,c,f,s){var l=e.raw;var v=l.which;var d=l.shiftKey===true;var m=ra(t,r.selectedSelector).fold((function(){if($w(v)&&!d){r.clearBeforeUpdate(t)}if(Gw(v)&&d){return w(Iw,o,t,n,Uw,c,i,r.selectRange)}else if(qw(v)&&d){return w(Iw,o,t,n,jw,c,i,r.selectRange)}else if(Gw(v)){return w(Pw,o,n,Uw,c,i,Hw)}else if(qw(v)){return w(Pw,o,n,jw,c,i,Lw)}else{return D.none}}),(function(e){var n=function(n){return function(){var a=re(n,(function(n){return my(n.rows,n.cols,t,e,r)}));return a.fold((function(){return aa(t,r.firstSelectedSelector,r.lastSelectedSelector).map((function(e){var n=Gw(v)||s.isForward(v)?Fp.after:Fp.before;o.setRelativeSelection(Fp.on(e.first,0),n(e.table));r.clear(t);return uy.create(D.none(),true)}))}),(function(e){return D.some(uy.create(D.none(),true))}))}};if(Gw(v)&&d){return n([Zw(+1,0)])}else if(qw(v)&&d){return n([Zw(-1,0)])}else if(s.isBackward(v)&&d){return n([Zw(0,-1),Zw(-1,0)])}else if(s.isForward(v)&&d){return n([Zw(0,+1),Zw(+1,0)])}else if($w(v)&&!d){return a}else{return D.none}}));return m()};var u=function(e,o,a,i,u){return ra(t,r.selectedSelector).fold((function(){var c=e.raw;var f=c.which;var s=c.shiftKey===true;if(!s){return D.none()}if($w(f)){return vy(t,n,o,a,i,u,r.selectRange)}else{return D.none()}}),D.none)};return{keydown:i,keyup:u}};var nx=function(e,t,n,r){var o=Qw(e);return function(e,a){r.clearBeforeUpdate(t);na(e,a,n).each((function(e){var n=e.boxes.getOr([]);r.selectRange(t,n,e.start,e.finish);o.selectContents(a);o.collapseSelection()}))}};var rx=function(e,t){H(t,(function(t){ss(e,t)}))};var ox=function(e){return function(t){cs(t,e)}};var ax=function(e){return function(t){rx(t,e)}};var ix=function(e){var t=ox(e.selected);var n=ax([e.selected,e.lastSelected,e.firstSelected]);var r=function(t){var r=In(t,e.selectedSelector);H(r,n)};var o=function(n,o,a,i){r(n);H(o,t);cs(a,e.firstSelected);cs(i,e.lastSelected)};return{clearBeforeUpdate:r,clear:r,selectRange:o,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}};var ux=function(e,t,n){var r=function(t){tr(t,e.selected);tr(t,e.firstSelected);tr(t,e.lastSelected)};var o=function(t){Yn(t,e.selected,"1")};var a=function(e){i(e);n()};var i=function(t){var n=In(t,e.selectedSelector+","+e.firstSelectedSelector+","+e.lastSelectedSelector);H(n,r)};var u=function(n,r,i,u){a(n);H(r,o);Yn(i,e.firstSelected,"1");Yn(u,e.lastSelected,"1");t(r,i,u)};return{clearBeforeUpdate:i,clear:a,selectRange:u,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}};var cx={byClass:ix,byAttr:ux};var fx=function(e,t){var n=e.slice(0,t[t.length-1].row+1);var r=Vv(n);return K(r,(function(e){var n=e.cells.slice(0,t[t.length-1].column+1);return L(n,(function(e){return e.element}))}))};var sx=function(e,t){var n=e.slice(t[0].row+t[0].rowspan-1,e.length);var r=Vv(n);return K(r,(function(e){var n=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return L(n,(function(e){return e.element}))}))};var lx=function(e,t,n){var r=fo.fromTable(e);var o=Xv(r,t);return o.map((function(e){var t=Iv(r,n,false);var o=fx(t,e);var a=sx(t,e);return{upOrLeftCells:o,downOrRightCells:a}}))};var vx=tinymce.util.Tools.resolve("tinymce.Env");var dx=function(e){return ls(pt.fromDom(e.target),"ephox-snooker-resizer-bar")===false};function mx(e,t,n){var r=function(t,r,o){n.targets().each((function(n){var a=Mr(r);a.each((function(a){var i=Vl(e);var u=Fu(m,pt.fromDom(e.getDoc()),i);var c=lx(a,n,u);nl(e,t,r,o,c)}))}))};var o=function(){return rl(e)};var a=cx.byAttr(mc,r,o);e.on("init",(function(n){var r=e.getWin();var o=qu(e);var i=Ku(e);var u=function(){var t=e.selection;var n=pt.fromDom(t.getStart());var r=pt.fromDom(t.getEnd());var i=Zo(Mr,[n,r]);i.fold((function(){return a.clear(o)}),m)};var c=ex(r,o,i,a);var f=tx(r,o,i,a);var s=nx(r,o,i,a);var l=function(e){return e.raw.shiftKey===true};e.on("TableSelectorChange",(function(e){return s(e.start,e.finish)}));var v=function(t,n){if(!l(t)){return}if(n.kill){t.kill()}n.selection.each((function(t){var n=Xp.relative(t.start,t.finish);var o=sb(r,n);e.selection.setRng(o)}))};var d=function(t){var n=es(t);if(n.raw.shiftKey&&$w(n.raw.which)){var r=e.selection.getRng();var o=pt.fromDom(r.startContainer);var a=pt.fromDom(r.endContainer);f.keyup(n,o,r.startOffset,a,r.endOffset).each((function(e){v(n,e)}))}};var g=function(n){var r=es(n);t().each((function(e){return e.hideBars()}));var o=e.selection.getRng();var a=pt.fromDom(o.startContainer);var i=pt.fromDom(o.endContainer);var u=qa(Kw,Xw)(pt.fromDom(e.selection.getStart()));f.keydown(r,a,o.startOffset,i,o.endOffset,u).each((function(e){v(r,e)}));t().each((function(e){return e.showBars()}))};var h=function(e){return e.button===0};var p=function(e){if(e.buttons===undefined){return true}if(vx.browser.isEdge()&&e.buttons===0){return true}return(e.buttons&1)!==0};var b=function(e){c.clearstate()};var y=function(e){if(h(e)&&dx(e)){c.mousedown(es(e))}};var w=function(e){if(p(e)&&dx(e)){c.mouseover(es(e))}};var x=function(e){if(h(e)&&dx(e)){c.mouseup(es(e))}};var C=function(){var e=gh(pt.fromDom(o));var t=gh(0);var n=function(n){var r=pt.fromDom(n.target);if(nn(r)==="td"||nn(r)==="th"){var o=e.get();var a=t.get();if(Ct(o,r)&&n.timeStamp-a<300){n.preventDefault();s(r,r)}}e.set(r);t.set(n.timeStamp)};return{touchEnd:n}};var S=C();e.on("dragstart",b);e.on("mousedown",y);e.on("mouseover",w);e.on("mouseup",x);e.on("touchend",S.touchEnd);e.on("keyup",d);e.on("keydown",g);e.on("NodeChange",u)}));return{clear:a.clear}}var gx=function(e,t){return Gn(e,t).isSome()};var hx=function(e,t){var n=gh(D.none());var r=gh([]);var o=D.none();var a=ln("caption");var i=function(e){return o.forall((function(t){return!t[e]}))};var u=function(){return xc(tc(e),Ku(e))};var c=function(){return xc(nc(e),Ku(e))};var f=function(){return u().bind((function(e){return ur(ar(Mr(e),c().bind(Mr),(function(n,r){if(Ct(n,r)){if(a(e)){return D.some(gc(e))}else{return D.some(hc(t,n,e))}}return D.none()})))}))};var s=function(e){var t=Mr(e.element);return t.map((function(t){var n=fo.fromTable(t);var r=Xv(n,e).getOr([]);var o=j(r,(function(e,t){if(t.isLocked){e.onAny=true;if(t.column===0){e.onFirst=true}else if(t.column+t.colspan>=n.grid.columns){e.onLast=true}}return e}),{onAny:false,onFirst:false,onLast:false});return{mergeable:Zv(n,e).isSome(),unmergeable:ed(n,e).isSome(),locked:o}}))};var l=function(){n.set(ie(f)());o=n.get().bind(s);H(r.get(),(function(e){return e()}))};var v=function(e){e();r.set(r.get().concat([e]));return function(){r.set(V(r.get(),(function(t){return t!==e})))}};var d=function(e,t){return v((function(){return n.get().fold((function(){e.setDisabled(true)}),(function(n){e.setDisabled(t(n))}))}))};var m=function(e,t,r){return v((function(){return n.get().fold((function(){e.setDisabled(true);e.setActive(false)}),(function(n){e.setDisabled(t(n));e.setActive(r(n))}))}))};var g=function(e){return o.exists((function(t){return t.locked[e]}))};var h=function(e){return d(e,(function(e){return false}))};var p=function(e){return d(e,(function(e){return a(e.element)}))};var b=function(e){return function(t){return d(t,(function(t){return a(t.element)||g(e)}))}};var y=function(e){return function(t){return d(t,(function(t){return a(t.element)||e().isNone()}))}};var w=function(e,t){return function(n){return d(n,(function(n){return a(n.element)||e().isNone()||g(t)}))}};var x=function(e){return d(e,(function(e){return i("mergeable")}))};var C=function(e){return d(e,(function(e){return i("unmergeable")}))};var k=function(t){return m(t,S,(function(t){var n=Mr(t.element,Ku(e));return n.exists((function(e){return gx(e,"caption")}))}))};var T=function(t,n){return function(r){return m(r,(function(e){return a(e.element)}),(function(){return e.queryCommandValue(t)===n}))}};var O=T("mceTableRowType","header");var _=T("mceTableColType","th");e.on("NodeChange ExecCommand TableSelectorChange",l);return{onSetupTable:h,onSetupCellOrRow:p,onSetupColumn:b,onSetupPasteable:y,onSetupPasteableColumn:w,onSetupMergeable:x,onSetupUnmergeable:C,resetTargets:l,onSetupTableWithCaption:k,onSetupTableRowHeaders:O,onSetupTableColumnHeaders:_,targets:n.get}};var px=function(e,t,n,r){e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable | cell row column | advtablesort | tableprops deletetable")}});var o=function(t){return function(){return e.execCommand(t)}};e.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:o("mceTableProps"),icon:"table",onSetup:n.onSetupTable});e.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:o("mceTableDelete"),icon:"table-delete-table",onSetup:n.onSetupTable});e.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:o("mceTableCellProps"),icon:"table-cell-properties",onSetup:n.onSetupCellOrRow});e.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:o("mceTableMergeCells"),icon:"table-merge-cells",onSetup:n.onSetupMergeable});e.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:o("mceTableSplitCells"),icon:"table-split-cells",onSetup:n.onSetupUnmergeable});e.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:o("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:n.onSetupCellOrRow});e.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:o("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:n.onSetupCellOrRow});e.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:o("mceTableDeleteRow"),icon:"table-delete-row",onSetup:n.onSetupCellOrRow});e.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:o("mceTableRowProps"),icon:"table-row-properties",onSetup:n.onSetupCellOrRow});e.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:o("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:n.onSetupColumn("onFirst")});e.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:o("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:n.onSetupColumn("onLast")});e.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:o("mceTableDeleteCol"),icon:"table-delete-column",onSetup:n.onSetupColumn("onAny")});e.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:o("mceTableCutRow"),onSetup:n.onSetupCellOrRow});e.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:o("mceTableCopyRow"),onSetup:n.onSetupCellOrRow});e.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:o("mceTablePasteRowBefore"),onSetup:n.onSetupPasteable(r.getRows)});e.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:o("mceTablePasteRowAfter"),onSetup:n.onSetupPasteable(r.getRows)});e.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:o("mceTableCutCol"),onSetup:n.onSetupColumn("onAny")});e.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:o("mceTableCopyCol"),onSetup:n.onSetupColumn("onAny")});e.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:o("mceTablePasteColBefore"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onFirst")});e.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:o("mceTablePasteColAfter"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onLast")});e.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:o("mceInsertTable"),icon:"table"});var a=kh(Nl(e));if(a.length!==0){e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Th(e,t,a,"tableclass",(function(t){return e.execCommand("mceTableToggleClass",false,t)})),onSetup:n.onSetupTable})}var i=kh(Dl(e));if(i.length!==0){e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Th(e,t,i,"tablecellclass",(function(t){return e.execCommand("mceTableCellToggleClass",false,t)})),onSetup:n.onSetupCellOrRow})}e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Th(e,t,eh,"tablecellverticalalign",Sh(e,"vertical-align")),onSetup:n.onSetupCellOrRow});e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Th(e,t,pl(e),"tablecellborderwidth",Sh(e,"border-width")),onSetup:n.onSetupCellOrRow});e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Th(e,t,bl(e),"tablecellborderstyle",Sh(e,"border-style")),onSetup:n.onSetupCellOrRow});e.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:o("mceTableToggleCaption"),icon:"table-caption",onSetup:n.onSetupTableWithCaption});e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(t){return t(Oh(e,jl(e),"background-color"))},onSetup:n.onSetupCellOrRow});e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(t){return t(Oh(e,Wl(e),"border-color"))},onSetup:n.onSetupCellOrRow});e.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:_h(e),onSetup:n.onSetupTableRowHeaders});e.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:Eh(e),onSetup:n.onSetupTableColumnHeaders})};var bx=function(e){var t=function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)};var n=Bl(e);if(n.length>0){e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})}};var yx=function(e,t,n,r){var o=function(t){return function(){return e.execCommand(t)}};var a=function(t){e.execCommand("mceInsertTable",false,{rows:t.numRows,columns:t.numColumns})};var i={text:"Table properties",onSetup:n.onSetupTable,onAction:o("mceTableProps")};var u={text:"Delete table",icon:"table-delete-table",onSetup:n.onSetupTable,onAction:o("mceTableDelete")};e.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:o("mceTableInsertRowBefore"),onSetup:n.onSetupCellOrRow});e.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:o("mceTableInsertRowAfter"),onSetup:n.onSetupCellOrRow});e.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:o("mceTableDeleteRow"),onSetup:n.onSetupCellOrRow});e.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:o("mceTableRowProps"),onSetup:n.onSetupCellOrRow});e.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:o("mceTableCutRow"),onSetup:n.onSetupCellOrRow});e.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:o("mceTableCopyRow"),onSetup:n.onSetupCellOrRow});e.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:o("mceTablePasteRowBefore"),onSetup:n.onSetupPasteable(r.getRows)});e.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:o("mceTablePasteRowAfter"),onSetup:n.onSetupPasteable(r.getRows)});var c={type:"nestedmenuitem",text:"Row",getSubmenuItems:p("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};e.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:o("mceTableInsertColBefore"),onSetup:n.onSetupColumn("onFirst")});e.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:o("mceTableInsertColAfter"),onSetup:n.onSetupColumn("onLast")});e.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:o("mceTableDeleteCol"),onSetup:n.onSetupColumn("onAny")});e.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:o("mceTableCutCol"),onSetup:n.onSetupColumn("onAny")});e.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:o("mceTableCopyCol"),onSetup:n.onSetupColumn("onAny")});e.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:o("mceTablePasteColBefore"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onFirst")});e.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:o("mceTablePasteColAfter"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onLast")});var f={type:"nestedmenuitem",text:"Column",getSubmenuItems:p("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};e.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:o("mceTableCellProps"),onSetup:n.onSetupCellOrRow});e.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:o("mceTableMergeCells"),onSetup:n.onSetupMergeable});e.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:o("mceTableSplitCells"),onSetup:n.onSetupUnmergeable});var s={type:"nestedmenuitem",text:"Cell",getSubmenuItems:p("tablecellprops tablemergecells tablesplitcells")};if(_l(e)===false){e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:o("mceInsertTable")})}else{e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:a}]}})}e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:o("mceInsertTable")});e.ui.registry.addMenuItem("tableprops",i);e.ui.registry.addMenuItem("deletetable",u);e.ui.registry.addNestedMenuItem("row",c);e.ui.registry.addNestedMenuItem("column",f);e.ui.registry.addNestedMenuItem("cell",s);e.ui.registry.addContextMenu("table",{update:function(){n.resetTargets();return n.targets().fold(p(""),(function(e){if(nn(e.element)==="caption"){return"tableprops deletetable"}else{return"cell row column | advtablesort | tableprops deletetable"}}))}});var l=kh(Nl(e));if(l.length!==0){e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return Ch(e,t,l,"tableclass",(function(t){return e.execCommand("mceTableToggleClass",false,t)}))},onSetup:n.onSetupTable})}var v=kh(Dl(e));if(v.length!==0){e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return Ch(e,t,v,"tablecellclass",(function(t){return e.execCommand("mceTableCellToggleClass",false,t)}))},onSetup:n.onSetupCellOrRow})}e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return Ch(e,t,eh,"tablecellverticalalign",Sh(e,"vertical-align"))},onSetup:n.onSetupCellOrRow});e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return Ch(e,t,pl(e),"tablecellborderwidth",Sh(e,"border-width"))},onSetup:n.onSetupCellOrRow});e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return Ch(e,t,bl(e),"tablecellborderstyle",Sh(e,"border-style"))},onSetup:n.onSetupCellOrRow});e.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:o("mceTableToggleCaption"),onSetup:n.onSetupTableWithCaption});e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return Oh(e,jl(e),"background-color")},onSetup:n.onSetupCellOrRow});e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return Oh(e,Wl(e),"border-color")},onSetup:n.onSetupCellOrRow});e.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:_h(e),onSetup:n.onSetupTableRowHeaders});e.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:Eh(e),onSetup:n.onSetupTableColumnHeaders})};var wx=function(e){var t=pa((function(){return qu(e)}),(function(){return Cc(tc(e),Ku(e))}),mc.selectedSelector);var n=hx(e,t);var r=av(e);var o=mx(e,r.lazyResize,n);var a=Cg(e,o,r.lazyWire);var i=wp();bp(e,a,o,t,i);yp(e,a,t);Ec(e,t,a);yx(e,t,n,i);px(e,t,n,i);bx(e);e.on("PreInit",(function(){e.serializer.addTempAttr(mc.firstSelected);e.serializer.addTempAttr(mc.lastSelected);kp(e)}));if(Cl(e)){e.on("keydown",(function(t){ay(t,e,o)}))}e.on("remove",(function(){r.destroy()}));return Ug(e,i,r,n)};function xx(){ba.add("table",wx)}xx()})()},585:(e,t,n)=>{n(586)},586:()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");function t(){e.add("textcolor",(function(){}))}t()})()},560:(e,t,n)=>{(function(){"use strict";var e=function(e){var t=typeof e;if(e===null){return"null"}else if(t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")){return"array"}else if(t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")){return"string"}else{return t}};var t=function(t){return function(n){return e(n)===t}};var r=function(e){return function(t){return typeof t===e}};var o=function(e){return function(t){return e===t}};var a=t("string");var i=t("object");var u=t("array");var c=o(null);var f=r("boolean");var s=o(undefined);var l=function(e){return e===null||e===undefined};var v=function(e){return!l(e)};var d=r("function");var m=r("number");var g=function(e,t){if(u(e)){for(var n=0,r=e.length;n<r;++n){if(!t(e[n])){return false}}return true}return false};var h=function(){};var p=function(e){return function(){return e()}};var b=function(e,t){return function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}return e(t.apply(null,n))}};var y=function(e,t){return function(n){return e(t(n))}};var w=function(e){return function(){return e}};var x=function(e){return e};var C=function(e,t){return e===t};function S(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}return function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}var o=t.concat(n);return e.apply(null,o)}}var k=function(e){return function(t){return!e(t)}};var T=function(e){return function(){throw new Error(e)}};var O=w(false);var _=w(true);var E=tinymce.util.Tools.resolve("tinymce.ThemeManager");var D=function(){D=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))t[a]=n[a]}return t};return D.apply(this,arguments)};function A(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n}function N(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++){if(a||!(r in t)){if(!a)a=Array.prototype.slice.call(t,0,r);a[r]=t[r]}}return e.concat(a||Array.prototype.slice.call(t))}var M=function(){return R};var R=function(){var e=function(e){return e()};var t=x;var n={fold:function(e,t){return e()},isSome:O,isNone:_,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:w(null),getOrUndefined:w(undefined),or:t,orThunk:e,map:M,each:h,bind:M,exists:O,forall:_,filter:function(){return M()},toArray:function(){return[]},toString:w("none()")};return n}();var z=function(e){var t=w(e);var n=function(){return o};var r=function(t){return t(e)};var o={fold:function(t,n){return n(e)},isSome:_,isNone:O,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return z(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:R},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o};var B=function(e){return e===null||e===undefined?R:z(e)};var P={some:z,none:M,from:B};var L=Array.prototype.slice;var H=Array.prototype.indexOf;var I=Array.prototype.push;var F=function(e,t){return H.call(e,t)};var V=function(e,t){var n=F(e,t);return n===-1?P.none():P.some(n)};var U=function(e,t){return F(e,t)>-1};var j=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n)){return true}}return false};var W=function(e,t){var n=[];for(var r=0;r<e;r++){n.push(t(r))}return n};var q=function(e,t){var n=[];for(var r=0;r<e.length;r+=t){var o=L.call(e,r,r+t);n.push(o)}return n};var G=function(e,t){var n=e.length;var r=new Array(n);for(var o=0;o<n;o++){var a=e[o];r[o]=t(a,o)}return r};var $=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}};var K=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}};var X=function(e,t){var n=[];var r=[];for(var o=0,a=e.length;o<a;o++){var i=e[o];var u=t(i,o)?n:r;u.push(i)}return{pass:n,fail:r}};var Y=function(e,t){var n=[];for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t(a,r)){n.push(a)}}return n};var J=function(e,t,n){K(e,(function(e,r){n=t(n,e,r)}));return n};var Q=function(e,t,n){$(e,(function(e,r){n=t(n,e,r)}));return n};var Z=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t(a,r)){return P.some(a)}else if(n(a,r)){break}}return P.none()};var ee=function(e,t){return Z(e,t,O)};var te=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n)){return P.some(n)}}return P.none()};var ne=function(e){var t=[];for(var n=0,r=e.length;n<r;++n){if(!u(e[n])){throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)}I.apply(t,e[n])}return t};var re=function(e,t){return ne(G(e,t))};var oe=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(t(o,n)!==true){return false}}return true};var ae=function(e){var t=L.call(e,0);t.reverse();return t};var ie=function(e,t){return Y(e,(function(e){return!U(t,e)}))};var ue=function(e,t){var n={};for(var r=0,o=e.length;r<o;r++){var a=e[r];n[String(a)]=t(a,r)}return n};var ce=function(e){return[e]};var fe=function(e,t){var n=L.call(e,0);n.sort(t);return n};var se=function(e,t){return t>=0&&t<e.length?P.some(e[t]):P.none()};var le=function(e){return se(e,0)};var ve=function(e){return se(e,e.length-1)};var de=d(Array.from)?Array.from:function(e){return L.call(e)};var me=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome()){return r}}return P.none()};var ge=Object.keys;var he=Object.hasOwnProperty;var pe=function(e,t){var n=ge(e);for(var r=0,o=n.length;r<o;r++){var a=n[r];var i=e[a];t(i,a)}};var be=function(e,t){return ye(e,(function(e,n){return{k:n,v:t(e,n)}}))};var ye=function(e,t){var n={};pe(e,(function(e,r){var o=t(e,r);n[o.k]=o.v}));return n};var we=function(e){return function(t,n){e[n]=t}};var xe=function(e,t,n,r){var o={};pe(e,(function(e,o){(t(e,o)?n:r)(e,o)}));return o};var Ce=function(e,t){var n={};xe(e,t,we(n),h);return n};var Se=function(e,t){var n=[];pe(e,(function(e,r){n.push(t(e,r))}));return n};var ke=function(e,t){var n=ge(e);for(var r=0,o=n.length;r<o;r++){var a=n[r];var i=e[a];if(t(i,a,e)){return P.some(i)}}return P.none()};var Te=function(e){return Se(e,x)};var Oe=function(e,t){return _e(e,t)?P.from(e[t]):P.none()};var _e=function(e,t){return he.call(e,t)};var Ee=function(e,t){return _e(e,t)&&e[t]!==undefined&&e[t]!==null};var De=function(e,t,n){if(n===void 0){n=C}return e.exists((function(e){return n(e,t)}))};var Ae=function(e,t,n){if(n===void 0){n=C}return Re(e,t,n).getOr(e.isNone()&&t.isNone())};var Ne=function(e){var t=[];var n=function(e){t.push(e)};for(var r=0;r<e.length;r++){e[r].each(n)}return t};var Me=function(e){var t=[];for(var n=0;n<e.length;n++){var r=e[n];if(r.isSome()){t.push(r.getOrDie())}else{return P.none()}}return P.some(t)};var Re=function(e,t,n){return e.isSome()&&t.isSome()?P.some(n(e.getOrDie(),t.getOrDie())):P.none()};var ze=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?P.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):P.none()};var Be=function(e,t){return e!==undefined&&e!==null?P.some(t(e)):P.none()};var Pe=function(e,t){return e?P.some(t):P.none()};var Le=function(e,t){return e+t};var He=function(e,t){return e.substring(t)};var Ie=function(e,t,n){return t===""||e.length>=t.length&&e.substr(n,n+t.length)===t};var Fe=function(e,t){return je(e,t)?He(e,t.length):e};var Ve=function(e,t){return We(e,t)?e:Le(e,t)};var Ue=function(e,t){return e.indexOf(t)!==-1};var je=function(e,t){return Ie(e,t,0)};var We=function(e,t){return Ie(e,t,e.length-t.length)};var qe=function(e){return function(t){return t.replace(e,"")}};var Ge=qe(/^\s+|\s+$/g);var $e=function(e){return e.length>0};var Ke=function(e){return!$e(e)};var Xe=function(e){return e.style!==undefined&&d(e.style.getPropertyValue)};var Ye=function(e,t){var n=t||document;var r=n.createElement("div");r.innerHTML=e;if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",e);throw new Error("HTML must have a single root node")}return Ze(r.childNodes[0])};var Je=function(e,t){var n=t||document;var r=n.createElement(e);return Ze(r)};var Qe=function(e,t){var n=t||document;var r=n.createTextNode(e);return Ze(r)};var Ze=function(e){if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};var et=function(e,t,n){return P.from(e.dom.elementFromPoint(t,n)).map(Ze)};var tt={fromHtml:Ye,fromTag:Je,fromText:Qe,fromDom:Ze,fromPoint:et};typeof window!=="undefined"?window:Function("return this;")();var nt=9;var rt=11;var ot=1;var at=3;var it=function(e){var t=e.dom.nodeName;return t.toLowerCase()};var ut=function(e){return e.dom.nodeType};var ct=function(e){return function(t){return ut(t)===e}};var ft=ct(ot);var st=ct(at);var lt=ct(nt);var vt=ct(rt);var dt=function(e){var t=false;var n;return function(){var r=[];for(var o=0;o<arguments.length;o++){r[o]=arguments[o]}if(!t){t=true;n=e.apply(null,r)}return n}};var mt=function(e,t,n,r){var o=e.isiOS()&&/ipad/i.test(n)===true;var a=e.isiOS()&&!o;var i=e.isiOS()||e.isAndroid();var u=i||r("(pointer:coarse)");var c=o||!a&&i&&r("(min-device-width:768px)");var f=a||i&&!c;var s=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===false;var l=!f&&!c&&!s;return{isiPad:w(o),isiPhone:w(a),isTablet:w(c),isPhone:w(f),isTouch:w(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:w(s),isDesktop:w(l)}};var gt=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t)){return r}}return undefined};var ht=function(e,t){var n=gt(e,t);if(!n){return{major:0,minor:0}}var r=function(e){return Number(t.replace(n,"$"+e))};return yt(r(1),r(2))};var pt=function(e,t){var n=String(t).toLowerCase();if(e.length===0){return bt()}return ht(e,n)};var bt=function(){return yt(0,0)};var yt=function(e,t){return{major:e,minor:t}};var wt={nu:yt,detect:pt,unknown:bt};var xt=function(e,t){return me(t.brands,(function(t){var n=t.brand.toLowerCase();return ee(e,(function(e){var t;return n===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:wt.nu(parseInt(t.version,10),0)}}))}))};var Ct=function(e,t){var n=String(t).toLowerCase();return ee(e,(function(e){return e.search(n)}))};var St=function(e,t){return Ct(e,t).map((function(e){var n=wt.detect(e.versionRegexes,t);return{current:e.name,version:n}}))};var kt=function(e,t){return Ct(e,t).map((function(e){var n=wt.detect(e.versionRegexes,t);return{current:e.name,version:n}}))};var Tt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;var Ot=function(e){return function(t){return Ue(t,e)}};var _t=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Ue(e,"edge/")&&Ue(e,"chrome")&&Ue(e,"safari")&&Ue(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Tt],search:function(e){return Ue(e,"chrome")&&!Ue(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Ue(e,"msie")||Ue(e,"trident")}},{name:"Opera",versionRegexes:[Tt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ot("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ot("firefox")},{name:"Safari",versionRegexes:[Tt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Ue(e,"safari")||Ue(e,"mobile/"))&&Ue(e,"applewebkit")}}];var Et=[{name:"Windows",search:Ot("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Ue(e,"iphone")||Ue(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ot("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ot("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ot("linux"),versionRegexes:[]},{name:"Solaris",search:Ot("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ot("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ot("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];var Dt={browsers:w(_t),oses:w(Et)};var At="Edge";var Nt="Chrome";var Mt="IE";var Rt="Opera";var zt="Firefox";var Bt="Safari";var Pt=function(){return Lt({current:undefined,version:wt.unknown()})};var Lt=function(e){var t=e.current;var n=e.version;var r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(At),isChrome:r(Nt),isIE:r(Mt),isOpera:r(Rt),isFirefox:r(zt),isSafari:r(Bt)}};var Ht={unknown:Pt,nu:Lt,edge:w(At),chrome:w(Nt),ie:w(Mt),opera:w(Rt),firefox:w(zt),safari:w(Bt)};var It="Windows";var Ft="iOS";var Vt="Android";var Ut="Linux";var jt="OSX";var Wt="Solaris";var qt="FreeBSD";var Gt="ChromeOS";var $t=function(){return Kt({current:undefined,version:wt.unknown()})};var Kt=function(e){var t=e.current;var n=e.version;var r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(It),isiOS:r(Ft),isAndroid:r(Vt),isOSX:r(jt),isLinux:r(Ut),isSolaris:r(Wt),isFreeBSD:r(qt),isChromeOS:r(Gt)}};var Xt={unknown:$t,nu:Kt,windows:w(It),ios:w(Ft),android:w(Vt),linux:w(Ut),osx:w(jt),solaris:w(Wt),freebsd:w(qt),chromeos:w(Gt)};var Yt=function(e,t,n){var r=Dt.browsers();var o=Dt.oses();var a=t.bind((function(e){return xt(r,e)})).orThunk((function(){return St(r,e)})).fold(Ht.unknown,Ht.nu);var i=kt(o,e).fold(Xt.unknown,Xt.nu);var u=mt(i,a,e,n);return{browser:a,os:i,deviceType:u}};var Jt={detect:Yt};var Qt=function(e){return window.matchMedia(e).matches};var Zt=dt((function(){return Jt.detect(navigator.userAgent,P.from(navigator.userAgentData),Qt)}));var en=function(){return Zt()};var tn=function(e,t,n){return(e.compareDocumentPosition(t)&n)!==0};var nn=function(e,t){return tn(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)};var rn=function(e,t){var n=e.dom;if(n.nodeType!==ot){return false}else{var r=n;if(r.matches!==undefined){return r.matches(t)}else if(r.msMatchesSelector!==undefined){return r.msMatchesSelector(t)}else if(r.webkitMatchesSelector!==undefined){return r.webkitMatchesSelector(t)}else if(r.mozMatchesSelector!==undefined){return r.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};var on=function(e){return e.nodeType!==ot&&e.nodeType!==nt&&e.nodeType!==rt||e.childElementCount===0};var an=function(e,t){var n=t===undefined?document:t.dom;return on(n)?[]:G(n.querySelectorAll(e),tt.fromDom)};var un=function(e,t){var n=t===undefined?document:t.dom;return on(n)?P.none():P.from(n.querySelector(e)).map(tt.fromDom)};var cn=function(e,t){return e.dom===t.dom};var fn=function(e,t){var n=e.dom;var r=t.dom;return n===r?false:n.contains(r)};var sn=function(e,t){return nn(e.dom,t.dom)};var ln=function(e,t){return en().browser.isIE()?sn(e,t):fn(e,t)};var vn=function(e){return tt.fromDom(e.dom.ownerDocument)};var dn=function(e){return lt(e)?e:vn(e)};var mn=function(e){return tt.fromDom(dn(e).dom.documentElement)};var gn=function(e){return tt.fromDom(dn(e).dom.defaultView)};var hn=function(e){return P.from(e.dom.parentNode).map(tt.fromDom)};var pn=function(e){return hn(e)};var bn=function(e){return P.from(e.dom.offsetParent).map(tt.fromDom)};var yn=function(e){return P.from(e.dom.nextSibling).map(tt.fromDom)};var wn=function(e){return G(e.dom.childNodes,tt.fromDom)};var xn=function(e,t){var n=e.dom.childNodes;return P.from(n[t]).map(tt.fromDom)};var Cn=function(e){return xn(e,0)};var Sn=function(e,t){return{element:e,offset:t}};var kn=function(e,t){var n=wn(e);return n.length>0&&t<n.length?Sn(n[t],0):Sn(e,t)};var Tn=function(e){return vt(e)&&v(e.dom.host)};var On=d(Element.prototype.attachShadow)&&d(Node.prototype.getRootNode);var _n=w(On);var En=On?function(e){return tt.fromDom(e.dom.getRootNode())}:dn;var Dn=function(e){return Tn(e)?e:tt.fromDom(dn(e).dom.body)};var An=function(e){return Nn(e).isSome()};var Nn=function(e){var t=En(e);return Tn(t)?P.some(t):P.none()};var Mn=function(e){return tt.fromDom(e.dom.host)};var Rn=function(e){if(_n()&&v(e.target)){var t=tt.fromDom(e.target);if(ft(t)&&zn(t)){if(e.composed&&e.composedPath){var n=e.composedPath();if(n){return le(n)}}}}return P.from(e.target)};var zn=function(e){return v(e.dom.shadowRoot)};var Bn=function(e){var t=st(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}var n=t.ownerDocument;return Nn(tt.fromDom(t)).fold((function(){return n.body.contains(t)}),y(Bn,Mn))};var Pn=function(){return Ln(tt.fromDom(document))};var Ln=function(e){var t=e.dom.body;if(t===null||t===undefined){throw new Error("Body is not available yet")}return tt.fromDom(t)};var Hn=function(e,t,n){if(a(n)||f(n)||m(n)){e.setAttribute(t,n+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e);throw new Error("Attribute value was not simple")}};var In=function(e,t,n){Hn(e.dom,t,n)};var Fn=function(e,t){var n=e.dom;pe(t,(function(e,t){Hn(n,t,e)}))};var Vn=function(e,t){var n=e.dom.getAttribute(t);return n===null?undefined:n};var Un=function(e,t){return P.from(Vn(e,t))};var jn=function(e,t){var n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):false};var Wn=function(e,t){e.dom.removeAttribute(t)};var qn=function(e,t,n){if(!a(n)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e);throw new Error("CSS value must be a string: "+n)}if(Xe(e)){e.style.setProperty(t,n)}};var Gn=function(e,t){if(Xe(e)){e.style.removeProperty(t)}};var $n=function(e,t,n){var r=e.dom;qn(r,t,n)};var Kn=function(e,t){var n=e.dom;pe(t,(function(e,t){qn(n,t,e)}))};var Xn=function(e,t){var n=e.dom;pe(t,(function(e,t){e.fold((function(){Gn(n,t)}),(function(e){qn(n,t,e)}))}))};var Yn=function(e,t){var n=e.dom;var r=window.getComputedStyle(n);var o=r.getPropertyValue(t);return o===""&&!Bn(e)?Jn(n,t):o};var Jn=function(e,t){return Xe(e)?e.style.getPropertyValue(t):""};var Qn=function(e,t){var n=e.dom;var r=Jn(n,t);return P.from(r).filter((function(e){return e.length>0}))};var Zn=function(e){var t={};var n=e.dom;if(Xe(n)){for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}}return t};var er=function(e,t,n){var r=tt.fromTag(e);$n(r,t,n);var o=Qn(r,t);return o.isSome()};var tr=function(e,t){var n=e.dom;Gn(n,t);if(De(Un(e,"style").map(Ge),"")){Wn(e,"style")}};var nr=function(e){return e.dom.offsetWidth};var rr=function(e,t){var n=function(t,n){if(!m(n)&&!n.match(/^[0-9]+$/)){throw new Error(e+".set accepts only positive integer values. Value was "+n)}var r=t.dom;if(Xe(r)){r.style[e]=n+"px"}};var r=function(n){var r=t(n);if(r<=0||r===null){var o=Yn(n,e);return parseFloat(o)||0}return r};var o=r;var a=function(e,t){return Q(t,(function(t,n){var r=Yn(e,n);var o=r===undefined?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)};var i=function(e,t,n){var r=a(e,n);var o=t>r?t-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:a,max:i}};var or=rr("height",(function(e){var t=e.dom;return Bn(e)?t.getBoundingClientRect().height:t.offsetHeight}));var ar=function(e){return or.get(e)};var ir=function(e){return or.getOuter(e)};var ur=function(e,t){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"];var r=or.max(e,t,n);$n(e,"max-height",r+"px")};var cr=function(e,t){var n=function(n,r){return cr(e+n,t+r)};return{left:e,top:t,translate:n}};var fr=cr;var sr=function(e){var t=e.getBoundingClientRect();return fr(t.left,t.top)};var lr=function(e,t){if(e!==undefined){return e}else{return t!==undefined?t:0}};var vr=function(e){var t=e.dom.ownerDocument;var n=t.body;var r=t.defaultView;var o=t.documentElement;if(n===e.dom){return fr(n.offsetLeft,n.offsetTop)}var a=lr(r===null||r===void 0?void 0:r.pageYOffset,o.scrollTop);var i=lr(r===null||r===void 0?void 0:r.pageXOffset,o.scrollLeft);var u=lr(o.clientTop,n.clientTop);var c=lr(o.clientLeft,n.clientLeft);return dr(e).translate(i-c,a-u)};var dr=function(e){var t=e.dom;var n=t.ownerDocument;var r=n.body;if(r===t){return fr(r.offsetLeft,r.offsetTop)}if(!Bn(e)){return fr(0,0)}return sr(t)};var mr=rr("width",(function(e){return e.dom.offsetWidth}));var gr=function(e,t){return mr.set(e,t)};var hr=function(e){return mr.get(e)};var pr=function(e){return mr.getOuter(e)};var br=function(e,t){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"];var r=mr.max(e,t,n);$n(e,"max-width",r+"px")};var yr=function(e,t,n,r,o,a,i){return{target:e,x:t,y:n,stop:r,prevent:o,kill:a,raw:i}};var wr=function(e){var t=tt.fromDom(Rn(e).getOr(e.target));var n=function(){return e.stopPropagation()};var r=function(){return e.preventDefault()};var o=b(r,n);return yr(t,e.clientX,e.clientY,n,r,o,e)};var xr=function(e,t){return function(n){if(e(n)){t(wr(n))}}};var Cr=function(e,t,n,r,o){var a=xr(n,r);e.dom.addEventListener(t,a,o);return{unbind:S(Tr,e,t,a,o)}};var Sr=function(e,t,n,r){return Cr(e,t,n,r,false)};var kr=function(e,t,n,r){return Cr(e,t,n,r,true)};var Tr=function(e,t,n,r){e.dom.removeEventListener(t,n,r)};var Or=function(e,t){var n=hn(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))};var _r=function(e,t){var n=yn(e);n.fold((function(){var n=hn(e);n.each((function(e){Dr(e,t)}))}),(function(e){Or(e,t)}))};var Er=function(e,t){var n=Cn(e);n.fold((function(){Dr(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))};var Dr=function(e,t){e.dom.appendChild(t.dom)};var Ar=function(e,t,n){xn(e,n).fold((function(){Dr(e,t)}),(function(e){Or(e,t)}))};var Nr=function(e,t){$(t,(function(t){Or(e,t)}))};var Mr=function(e,t){$(t,(function(t){Dr(e,t)}))};var Rr=function(e){e.dom.textContent="";$(wn(e),(function(e){zr(e)}))};var zr=function(e){var t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};var Br=function(e){var t=wn(e);if(t.length>0){Nr(e,t)}zr(e)};var Pr=function(e){var t=e!==undefined?e.dom:document;var n=t.body.scrollLeft||t.documentElement.scrollLeft;var r=t.body.scrollTop||t.documentElement.scrollTop;return fr(n,r)};var Lr=function(e,t,n){var r=n!==undefined?n.dom:document;var o=r.defaultView;if(o){o.scrollTo(e,t)}};var Hr=function(e){var t=e===undefined?window:e;if(en().browser.isFirefox()){return P.none()}else{return P.from(t["visualViewport"])}};var Ir=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}};var Fr=function(e){var t=e===undefined?window:e;var n=t.document;var r=Pr(tt.fromDom(n));return Hr(t).fold((function(){var e=t.document.documentElement;var n=e.clientWidth;var o=e.clientHeight;return Ir(r.left,r.top,n,o)}),(function(e){return Ir(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))};var Vr=function(e,t){var n=e.view(t);return n.fold(w([]),(function(t){var n=e.owner(t);var r=Vr(e,n);return[t].concat(r)}))};var Ur=function(e,t){var n=t.owner(e);var r=Vr(t,n);return P.some(r)};var jr=function(e){var t;var n=e.dom===document?P.none():P.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return n.map(tt.fromDom)};var Wr=function(e){return vn(e)};var qr=Object.freeze({__proto__:null,view:jr,owner:Wr});var Gr=function(e){var t=tt.fromDom(document);var n=Pr(t);var r=Ur(e,qr);return r.fold(S(vr,e),(function(t){var r=dr(e);var o=J(t,(function(e,t){var n=dr(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return fr(o.left+r.left+n.left,o.top+r.top+n.top)}))};var $r=function(e,t,n){return{point:e,width:t,height:n}};var Kr=function(e,t,n,r){return{x:e,y:t,width:n,height:r}};var Xr=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}};var Yr=function(e){var t=vr(e);var n=pr(e);var r=ir(e);return Xr(t.left,t.top,n,r)};var Jr=function(e){var t=Gr(e);var n=pr(e);var r=ir(e);return Xr(t.left,t.top,n,r)};var Qr=function(){return Fr(window)};var Zr=function(e){var t=function(t){return Zr(e)};var n=function(t){return Zr(e)};var r=function(t){return Zr(t(e))};var o=function(t){return Zr(e)};var a=function(t){t(e)};var i=function(t){return t(e)};var u=function(t,n){return n(e)};var c=function(t){return t(e)};var f=function(t){return t(e)};var s=function(){return P.some(e)};return{isValue:_,isError:O,getOr:w(e),getOrThunk:w(e),getOrDie:w(e),or:t,orThunk:n,fold:u,map:r,mapError:o,each:a,bind:i,exists:c,forall:f,toOptional:s}};var eo=function(e){var t=function(e){return e()};var n=function(){return T(String(e))()};var r=x;var o=function(e){return e()};var a=function(t){return eo(e)};var i=function(t){return eo(t(e))};var u=function(t){return eo(e)};var c=function(t,n){return t(e)};return{isValue:O,isError:_,getOr:x,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:c,map:a,mapError:i,each:h,bind:u,exists:O,forall:_,toOptional:P.none}};var to=function(e,t){return e.fold((function(){return eo(t)}),Zr)};var no={value:Zr,error:eo,fromOption:to};var ro;(function(e){e[e["Error"]=0]="Error";e[e["Value"]=1]="Value"})(ro||(ro={}));var oo=function(e,t,n){return e.stype===ro.Error?t(e.serror):n(e.svalue)};var ao=function(e){var t=[];var n=[];$(e,(function(e){oo(e,(function(e){return n.push(e)}),(function(e){return t.push(e)}))}));return{values:t,errors:n}};var io=function(e,t){if(e.stype===ro.Error){return{stype:ro.Error,serror:t(e.serror)}}else{return e}};var uo=function(e,t){if(e.stype===ro.Value){return{stype:ro.Value,svalue:t(e.svalue)}}else{return e}};var co=function(e,t){if(e.stype===ro.Value){return t(e.svalue)}else{return e}};var fo=function(e,t){if(e.stype===ro.Error){return t(e.serror)}else{return e}};var so=function(e){return{stype:ro.Value,svalue:e}};var lo=function(e){return{stype:ro.Error,serror:e}};var vo=function(e){return oo(e,no.error,no.value)};var mo=function(e){return e.fold(lo,so)};var go={fromResult:mo,toResult:vo,svalue:so,partition:ao,serror:lo,bind:co,bindError:fo,map:uo,mapError:io,fold:oo};var ho=function(e,t,n,r){return{tag:"field",key:e,newKey:t,presence:n,prop:r}};var po=function(e,t){return{tag:"custom",newKey:e,instantiator:t}};var bo=function(e,t,n){switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}};var yo=function(e,t){return t};var wo=function(e,t){var n=i(e)&&i(t);return n?Co(e,t):t};var xo=function(e){return function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}if(t.length===0){throw new Error("Can't merge zero objects")}var r={};for(var o=0;o<t.length;o++){var a=t[o];for(var i in a){if(_e(a,i)){r[i]=e(r[i],a[i])}}}return r}};var Co=xo(wo);var So=xo(yo);var ko=function(){return{tag:"required",process:{}}};var To=function(e){return{tag:"defaultedThunk",process:e}};var Oo=function(e){return To(w(e))};var _o=function(){return{tag:"option",process:{}}};var Eo=function(e){return{tag:"mergeWithThunk",process:e}};var Do=function(e){return Eo(w(e))};var Ao=function(e,t){return e.length>0?go.svalue(Co(t,So.apply(undefined,e))):go.svalue(t)};var No=function(e){return b(go.serror,ne)(e)};var Mo=function(e,t){var n=go.partition(e);return n.errors.length>0?No(n.errors):Ao(n.values,t)};var Ro=function(e){var t=go.partition(e);return t.errors.length>0?No(t.errors):go.svalue(t.values)};var zo={consolidateObj:Mo,consolidateArr:Ro};var Bo=function(e){return i(e)&&ge(e).length>100?" removed due to size":JSON.stringify(e,null,2)};var Po=function(e){var t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:w("... (only showing first ten failures)")}]):e;return G(t,(function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()}))};var Lo=function(e,t){return go.serror([{path:e,getErrorInfo:t}])};var Ho=function(e,t,n){return Lo(e,(function(){return'Could not find valid *required* value for "'+t+'" in '+Bo(n)}))};var Io=function(e,t){return Lo(e,(function(){return'Choice schema did not contain choice key: "'+t+'"'}))};var Fo=function(e,t,n){return Lo(e,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+Bo(t)}))};var Vo=function(e,t){return Lo(e,(function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"}))};var Uo=function(e,t){return Lo(e,w(t))};var jo=function(e){var t=function(t,n){return go.bindError(e(n),(function(e){return Uo(t,e)}))};var n=w("val");return{extract:t,toString:n}};var Wo=jo(go.svalue);var qo=function(e,t,n,r){return Oe(t,n).fold((function(){return Ho(e,n,t)}),r)};var Go=function(e,t,n,r){var o=Oe(e,t).getOrThunk((function(){return n(e)}));return r(o)};var $o=function(e,t,n){return n(Oe(e,t))};var Ko=function(e,t,n,r){var o=Oe(e,t).map((function(t){return t===true?n(e):t}));return r(o)};var Xo=function(e,t,n,r,o){var a=function(e){return o.extract(t.concat([r]),e)};var i=function(e){return e.fold((function(){return go.svalue(P.none())}),(function(e){var n=o.extract(t.concat([r]),e);return go.map(n,P.some)}))};switch(e.tag){case"required":return qo(t,n,r,a);case"defaultedThunk":return Go(n,r,e.process,a);case"option":return $o(n,r,i);case"defaultedOptionThunk":return Ko(n,r,e.process,i);case"mergeWithThunk":{return Go(n,r,w({}),(function(t){var r=Co(e.process(n),t);return a(r)}))}}};var Yo=function(e,t,n){var r={};var o=[];for(var a=0,i=n;a<i.length;a++){var u=i[a];bo(u,(function(n,a,i,u){var c=Xo(i,e,t,n,u);go.fold(c,(function(e){o.push.apply(o,e)}),(function(e){r[a]=e}))}),(function(e,n){r[e]=n(t)}))}return o.length>0?go.serror(o):go.svalue(r)};var Jo=function(e){var t=function(t,n){return e().extract(t,n)};var n=function(){return e().toString()};return{extract:t,toString:n}};var Qo=function(e){return ge(Ce(e,v))};var Zo=function(e){var t=ea(e);var n=J(e,(function(e,t){return bo(t,(function(t){var n;return Co(e,(n={},n[t]=true,n))}),w(e))}),{});var r=function(e,r){var o=f(r)?[]:Qo(r);var a=Y(o,(function(e){return!Ee(n,e)}));return a.length===0?t.extract(e,r):Vo(e,a)};return{extract:r,toString:t.toString}};var ea=function(e){var t=function(t,n){return Yo(t,n,e)};var n=function(){var t=G(e,(function(e){return bo(e,(function(e,t,n,r){return e+" -> "+r.toString()}),(function(e,t){return"state("+e+")"}))}));return"obj{\n"+t.join("\n")+"}"};return{extract:t,toString:n}};var ta=function(e){var t=function(t,n){var r=G(n,(function(n,r){return e.extract(t.concat(["["+r+"]"]),n)}));return zo.consolidateArr(r)};var n=function(){return"array("+e.toString()+")"};return{extract:t,toString:n}};var na=function(e){var t=function(t,n){var r=[];for(var o=0,a=e;o<a.length;o++){var i=a[o];var u=i.extract(t,n);if(u.stype===ro.Value){return u}r.push(u)}return zo.consolidateArr(r)};var n=function(){return"oneOf("+G(e,(function(e){return e.toString()})).join(", ")+")"};return{extract:t,toString:n}};var ra=function(e,t){var n=function(t,n){return ta(jo(e)).extract(t,n)};var r=function(e,r){var o=ge(r);var a=n(e,o);return go.bind(a,(function(n){var o=G(n,(function(e){return ho(e,e,ko(),t)}));return ea(o).extract(e,r)}))};var o=function(){return"setOf("+t.toString()+")"};return{extract:r,toString:o}};var oa=function(e,t){var n=dt(t);var r=function(e,t){return n().extract(e,t)};var o=function(){return n().toString()};return{extract:r,toString:o}};var aa=b(ta,ea);var ia=w(Wo);var ua=function(e,t){return jo((function(n){var r=typeof n;return e(n)?go.svalue(n):go.serror("Expected type: "+t+" but got: "+r)}))};var ca=ua(m,"number");var fa=ua(a,"string");var sa=ua(f,"boolean");var la=ua(d,"function");var va=function(e){if(Object(e)!==e){return true}switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return true;case"Array":case"Object":return Object.keys(e).every((function(t){return va(e[t])}));default:return false}};var da=jo((function(e){if(va(e)){return go.svalue(e)}else{return go.serror("Expected value to be acceptable for sending via postMessage")}}));var ma=function(e,t,n,r){var o=Oe(n,r);return o.fold((function(){return Fo(e,n,r)}),(function(n){return n.extract(e.concat(["branch: "+r]),t)}))};var ga=function(e,t){var n=function(n,r){var o=Oe(r,e);return o.fold((function(){return Io(n,e)}),(function(e){return ma(n,r,t,e)}))};var r=function(){return"chooseOn("+e+"). Possible values: "+ge(t)};return{extract:n,toString:r}};var ha=function(){return ta(Wo)};var pa=function(e){return jo((function(t){return e(t).fold(go.serror,go.svalue)}))};var ba=function(e,t){return ra((function(t){return go.fromResult(e(t))}),t)};var ya=function(e,t,n){var r=t.extract([e],n);return go.mapError(r,(function(e){return{input:n,errors:e}}))};var wa=function(e,t,n){return go.toResult(ya(e,t,n))};var xa=function(e){return e.fold((function(e){throw new Error(Sa(e))}),x)};var Ca=function(e,t,n){return xa(wa(e,t,n))};var Sa=function(e){return"Errors: \n"+Po(e.errors).join("\n")+"\n\nInput object: "+Bo(e.input)};var ka=function(e,t){return ga(e,be(t,ea))};var Ta=function(e,t){return oa(e,t)};var Oa=ho;var _a=po;var Ea=function(e){return pa((function(t){return U(e,t)?no.value(t):no.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')}))};var Da=function(e){return Oa(e,e,ko(),ia())};var Aa=function(e,t){return Oa(e,e,ko(),t)};var Na=function(e){return Aa(e,ca)};var Ma=function(e){return Aa(e,fa)};var Ra=function(e,t){return Oa(e,e,ko(),Ea(t))};var za=function(e){return Aa(e,sa)};var Ba=function(e){return Aa(e,la)};var Pa=function(e,t){return Oa(e,e,_o(),jo((function(n){return go.serror("The field: "+e+" is forbidden. "+t)})))};var La=function(e,t){return Oa(e,e,ko(),ea(t))};var Ha=function(e,t){return Oa(e,e,ko(),aa(t))};var Ia=function(e,t){return Oa(e,e,ko(),ta(t))};var Fa=function(e){return Oa(e,e,_o(),ia())};var Va=function(e,t){return Oa(e,e,_o(),t)};var Ua=function(e){return Va(e,ca)};var ja=function(e){return Va(e,fa)};var Wa=function(e){return Va(e,la)};var qa=function(e,t){return Va(e,ta(t))};var Ga=function(e,t){return Va(e,ea(t))};var $a=function(e,t){return Va(e,Zo(t))};var Ka=function(e,t){return Oa(e,e,Oo(t),ia())};var Xa=function(e,t,n){return Oa(e,e,Oo(t),n)};var Ya=function(e,t){return Xa(e,t,ca)};var Ja=function(e,t){return Xa(e,t,fa)};var Qa=function(e,t,n){return Xa(e,t,Ea(n))};var Za=function(e,t){return Xa(e,t,sa)};var ei=function(e,t){return Xa(e,t,la)};var ti=function(e,t){return Xa(e,t,da)};var ni=function(e,t,n){return Xa(e,t,ta(n))};var ri=function(e,t,n){return Xa(e,t,ea(n))};var oi=function(e){var t=e;var n=function(){return t};var r=function(e){t=e};return{get:n,set:r}};var ai=function(e){if(!u(e)){throw new Error("cases must be an array")}if(e.length===0){throw new Error("there must be at least one case")}var t=[];var n={};$(e,(function(r,o){var a=ge(r);if(a.length!==1){throw new Error("one and only one name per case")}var i=a[0];var c=r[i];if(n[i]!==undefined){throw new Error("duplicate key detected:"+i)}else if(i==="cata"){throw new Error("cannot have a case named cata (sorry)")}else if(!u(c)){throw new Error("case arguments must be an array")}t.push(i);n[i]=function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}var a=n.length;if(a!==c.length){throw new Error("Wrong number of arguments to case "+i+". Expected "+c.length+" ("+c+"), got "+a)}var u=function(e){var r=ge(e);if(t.length!==r.length){throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","))}var o=oe(t,(function(e){return U(r,e)}));if(!o){throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "))}return e[i].apply(null,n)};return{fold:function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}if(t.length!==e.length){throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)}var a=t[o];return a.apply(null,n)},match:u,log:function(e){console.log(e,{constructors:t,constructor:i,params:n})}}}}));return n};var ii={generate:ai};ii.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var ui=function(e){var t=[];var n=[];$(e,(function(e){e.fold((function(e){t.push(e)}),(function(e){n.push(e)}))}));return{errors:t,values:n}};var ci=function(e,t){var n={};pe(e,(function(e,r){if(!U(t,r)){n[r]=e}}));return n};var fi=function(e,t){var n;return n={},n[e]=t,n};var si=function(e){var t={};$(e,(function(e){t[e.key]=e.value}));return t};var li=function(e,t){return ci(e,t)};var vi=function(e,t){return fi(e,t)};var di=function(e){return si(e)};var mi=function(e,t){return e.length===0?no.value(t):no.value(Co(t,So.apply(undefined,e)))};var gi=function(e){return no.error(ne(e))};var hi=function(e,t){var n=ui(e);return n.errors.length>0?gi(n.errors):mi(n.values,t)};var pi=function(e){return d(e)?e:O};var bi=function(e,t,n){var r=e.dom;var o=pi(n);while(r.parentNode){r=r.parentNode;var a=tt.fromDom(r);var i=t(a);if(i.isSome()){return i}else if(o(a)){break}}return P.none()};var yi=function(e,t,n){var r=t(e);var o=pi(n);return r.orThunk((function(){return o(e)?P.none():bi(e,t,o)}))};var wi=function(e,t){return cn(e.element,t.event.target)};var xi={can:_,abort:O,run:h};var Ci=function(e){if(!Ee(e,"can")&&!Ee(e,"abort")&&!Ee(e,"run")){throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!")}return D(D({},xi),e)};var Si=function(e,t){return function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}return Q(e,(function(e,r){return e&&t(r).apply(undefined,n)}),true)}};var ki=function(e,t){return function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}return Q(e,(function(e,r){return e||t(r).apply(undefined,n)}),false)}};var Ti=function(e){return d(e)?{can:_,abort:O,run:e}:e};var Oi=function(e){var t=Si(e,(function(e){return e.can}));var n=ki(e,(function(e){return e.abort}));var r=function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}$(e,(function(e){e.run.apply(undefined,t)}))};return{can:t,abort:n,run:r}};var _i=w;var Ei=_i("touchstart");var Di=_i("touchmove");var Ai=_i("touchend");var Ni=_i("touchcancel");var Mi=_i("mousedown");var Ri=_i("mousemove");var zi=_i("mouseout");var Bi=_i("mouseup");var Pi=_i("mouseover");var Li=_i("focusin");var Hi=_i("focusout");var Ii=_i("keydown");var Fi=_i("keyup");var Vi=_i("input");var Ui=_i("change");var ji=_i("click");var Wi=_i("transitioncancel");var qi=_i("transitionend");var Gi=_i("transitionstart");var $i=_i("selectstart");var Ki=function(e){return w("alloy."+e)};var Xi={tap:Ki("tap")};var Yi=Ki("focus");var Ji=Ki("blur.post");var Qi=Ki("paste.post");var Zi=Ki("receive");var eu=Ki("execute");var tu=Ki("focus.item");var nu=Xi.tap;var ru=Ki("longpress");var ou=Ki("sandbox.close");var au=Ki("typeahead.cancel");var iu=Ki("system.init");var uu=Ki("system.touchmove");var cu=Ki("system.touchend");var fu=Ki("system.scroll");var su=Ki("system.resize");var lu=Ki("system.attached");var vu=Ki("system.detached");var du=Ki("system.dismissRequested");var mu=Ki("system.repositionRequested");var gu=Ki("focusmanager.shifted");var hu=Ki("slotcontainer.visibility");var pu=Ki("change.tab");var bu=Ki("dismiss.tab");var yu=Ki("highlight");var wu=Ki("dehighlight");var xu=function(e,t){Tu(e,e.element,t,{})};var Cu=function(e,t,n){Tu(e,e.element,t,n)};var Su=function(e){xu(e,eu())};var ku=function(e,t,n){Tu(e,t,n,{})};var Tu=function(e,t,n,r){var o=D({target:t},r);e.getSystem().triggerEvent(n,t,o)};var Ou=function(e,t,n,r){e.getSystem().triggerEvent(n,t,r.event)};var _u=function(e){return di(e)};var Eu=function(e,t){return{key:e,value:Ci({abort:t})}};var Du=function(e,t){return{key:e,value:Ci({can:t})}};var Au=function(e){return{key:e,value:Ci({run:function(e,t){t.event.prevent()}})}};var Nu=function(e,t){return{key:e,value:Ci({run:t})}};var Mu=function(e,t,n){return{key:e,value:Ci({run:function(e,r){t.apply(undefined,[e,r].concat(n))}})}};var Ru=function(e){return function(t){return Nu(e,t)}};var zu=function(e){return function(t){return{key:e,value:Ci({run:function(e,n){if(wi(e,n)){t(e,n)}}})}}};var Bu=function(e,t){return Nu(e,(function(n,r){n.getSystem().getByUid(t).each((function(t){Ou(t,t.element,e,r)}))}))};var Pu=function(e,t,n){var r=t.partUids[n];return Bu(e,r)};var Lu=function(e,t){return Nu(e,(function(e,n){var r=n.event;var o=e.getSystem().getByDom(r.target).getOrThunk((function(){var t=yi(r.target,(function(t){return e.getSystem().getByDom(t).toOptional()}),O);return t.getOr(e)}));t(e,o,n)}))};var Hu=function(e){return Nu(e,(function(e,t){t.cut()}))};var Iu=function(e){return Nu(e,(function(e,t){t.stop()}))};var Fu=function(e,t){return zu(e)(t)};var Vu=zu(lu());var Uu=zu(vu());var ju=zu(iu());var Wu=Ru(eu());var qu=function(e,t){var n=t||document;var r=n.createElement("div");r.innerHTML=e;return wn(tt.fromDom(r))};var Gu=function(e){return e.dom.innerHTML};var $u=function(e,t){var n=vn(e);var r=n.dom;var o=tt.fromDom(r.createDocumentFragment());var a=qu(t,r);Mr(o,a);Rr(e);Dr(e,o)};var Ku=function(e){var t=tt.fromTag("div");var n=tt.fromDom(e.dom.cloneNode(true));Dr(t,n);return Gu(t)};var Xu=function(e,t){return tt.fromDom(e.dom.cloneNode(t))};var Yu=function(e){return Xu(e,false)};var Ju=function(e){if(Tn(e)){return"#shadow-root"}else{var t=Yu(e);return Ku(t)}};var Qu=function(e){return Ju(e)};var Zu=function(e,t,n){return cn(t,e.element)&&!cn(t,n)};var ec=_u([Du(Yi(),(function(e,t){var n=t.event;var r=n.originator;var o=n.target;if(Zu(e,r,o)){console.warn(Yi()+" did not get interpreted by the desired target. "+"\nOriginator: "+Qu(r)+"\nTarget: "+Qu(o)+"\nCheck the "+Yi()+" event handlers");return false}else{return true}}))]);var tc=Object.freeze({__proto__:null,events:ec});var nc=0;var rc=function(e){var t=new Date;var n=t.getTime();var r=Math.floor(Math.random()*1e9);nc++;return e+"_"+r+nc+String(n)};var oc=w("alloy-id-");var ac=w("data-alloy-id");var ic=oc();var uc=ac();var cc=function(e,t){var n=rc(ic+e);fc(t,n);return n};var fc=function(e,t){Object.defineProperty(e.dom,uc,{value:t,writable:true})};var sc=function(e){var t=ft(e)?e.dom[uc]:null;return P.from(t)};var lc=function(e){return rc(e)};var vc=x;var dc=function(e){var t=function(t){return"The component must be in a context to execute: "+t+(e?"\n"+Qu(e().element)+" is not in context.":"")};var n=function(e){return function(){throw new Error(t(e))}};var r=function(e){return function(){console.warn(t(e))}};return{debugInfo:w("fake"),triggerEvent:r("triggerEvent"),triggerFocus:r("triggerFocus"),triggerEscape:r("triggerEscape"),broadcast:r("broadcast"),broadcastOn:r("broadcastOn"),broadcastEvent:r("broadcastEvent"),build:n("build"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:O}};var mc=dc();var gc=function(e,t,n){var r=n.toString();var o=r.indexOf(")")+1;var a=r.indexOf("(");var i=r.substring(a+1,o-1).split(/,\s*/);e.toFunctionAnnotation=function(){return{name:t,parameters:hc(i.slice(0,1).concat(i.slice(3)))}};return e};var hc=function(e){return G(e,(function(e){return We(e,"/*")?e.substring(0,e.length-"/*".length):e}))};var pc=function(e,t){var n=e.toString();var r=n.indexOf(")")+1;var o=n.indexOf("(");var a=n.substring(o+1,r-1).split(/,\s*/);e.toFunctionAnnotation=function(){return{name:t,parameters:hc(a)}};return e};var bc=function(e,t){var n=t.toString();var r=n.indexOf(")")+1;var o=n.indexOf("(");var a=n.substring(o+1,r-1).split(/,\s*/);e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:hc(a.slice(1))}};return e};var yc=rc("alloy-premade");var wc=function(e){return vi(yc,e)};var xc=function(e){return Oe(e,yc)};var Cc=function(e){return bc((function(t){var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}return e.apply(void 0,N([t.getApis(),t],n,false))}),e)};var Sc={init:function(){return kc({readState:w("No State required")})}};var kc=function(e){return e};var Tc=function(e,t){var n=G(t,(function(e){return Ga(e.name(),[Da("config"),Ka("state",Sc)])}));var r=wa("component.behaviours",ea(n),e.behaviours).fold((function(t){throw new Error(Sa(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),x);return{list:t,data:be(r,(function(e){var t=e.map((function(e){return{config:e.config,state:e.state.init(e.config)}}));return w(t)}))}};var Oc=function(e){return e.list};var _c=function(e){return e.data};var Ec=function(e,t){var n={};pe(e,(function(e,r){pe(e,(function(e,o){var a=Oe(n,o).getOr([]);n[o]=a.concat([t(r,e)])}))}));return n};var Dc=function(e){return{classes:s(e.classes)?[]:e.classes,attributes:s(e.attributes)?{}:e.attributes,styles:s(e.styles)?{}:e.styles}};var Ac=function(e,t){return D(D({},e),{attributes:D(D({},e.attributes),t.attributes),styles:D(D({},e.styles),t.styles),classes:e.classes.concat(t.classes)})};var Nc=function(e,t,n,r){var o=D({},t);$(n,(function(t){o[t.name()]=t.exhibit(e,r)}));var a=Ec(o,(function(e,t){return{name:e,modification:t}}));var i=function(e){return J(e,(function(e,t){return D(D({},t.modification),e)}),{})};var u=J(a.classes,(function(e,t){return t.modification.concat(e)}),[]);var c=i(a.attributes);var f=i(a.styles);return Dc({classes:u,attributes:c,styles:f})};var Mc=function(e,t,n,r){try{var o=fe(n,(function(n,o){var a=n[t];var i=o[t];var u=r.indexOf(a);var c=r.indexOf(i);if(u===-1){throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2))}if(c===-1){throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2))}if(u<c){return-1}else if(c<u){return 1}else{return 0}}));return no.value(o)}catch(e){return no.error([e])}};var Rc=function(e,t){return{handler:e,purpose:t}};var zc=function(e,t){return{cHandler:e,purpose:t}};var Bc=function(e,t){return zc(S.apply(undefined,[e.handler].concat(t)),e.purpose)};var Pc=function(e){return e.cHandler};var Lc=function(e,t){return{name:e,handler:t}};var Hc=function(e,t){var n={};$(e,(function(e){n[e.name()]=e.handlers(t)}));return n};var Ic=function(e,t,n){var r=D(D({},n),Hc(t,e));return Ec(r,Lc)};var Fc=function(e,t,n,r){var o=Ic(e,n,r);return Wc(o,t)};var Vc=function(e){var t=Ti(e);return function(e,n){var r=[];for(var o=2;o<arguments.length;o++){r[o-2]=arguments[o]}var a=[e,n].concat(r);if(t.abort.apply(undefined,a)){n.stop()}else if(t.can.apply(undefined,a)){t.run.apply(undefined,a)}}};var Uc=function(e,t){return no.error(["The event ("+e+") has more than one behaviour that listens to it.\nWhen this occurs, you must "+'specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that '+"can trigger it are: "+JSON.stringify(G(t,(function(e){return e.name})),null,2)])};var jc=function(e,t,n){var r=t[n];if(!r){return Uc(n,e)}else{return Mc("Event: "+n,"name",e,r).map((function(e){var t=G(e,(function(e){return e.handler}));return Oi(t)}))}};var Wc=function(e,t){var n=Se(e,(function(e,n){var r=e.length===1?no.value(e[0].handler):jc(e,t,n);return r.map((function(r){var o=Vc(r);var a=e.length>1?Y(t[n],(function(t){return j(e,(function(e){return e.name===t}))})).join(" > "):e[0].name;return vi(n,Rc(o,a))}))}));return hi(n,{})};var qc;var Gc="alloy.base.behaviour";var $c=ea([Oa("dom","dom",ko(),ea([Da("tag"),Ka("styles",{}),Ka("classes",[]),Ka("attributes",{}),Fa("value"),Fa("innerHtml")])),Da("components"),Da("uid"),Ka("events",{}),Ka("apis",{}),Oa("eventOrder","eventOrder",Do((qc={},qc[eu()]=["disabling",Gc,"toggling","typeaheadevents"],qc[Yi()]=[Gc,"focusing","keying"],qc[iu()]=[Gc,"disabling","toggling","representing"],qc[Vi()]=[Gc,"representing","streaming","invalidating"],qc[vu()]=[Gc,"representing","item-events","tooltipping"],qc[Mi()]=["focusing",Gc,"item-type-events"],qc[Ei()]=["focusing",Gc,"item-type-events"],qc[Pi()]=["item-type-events","tooltipping"],qc[Zi()]=["receiving","reflecting","tooltipping"],qc)),ia()),Fa("domModification")]);var Kc=function(e){return wa("custom.definition",$c,e)};var Xc=function(e){return D(D({},e.dom),{uid:e.uid,domChildren:G(e.components,(function(e){return e.element}))})};var Yc=function(e){return e.domModification.fold((function(){return Dc({})}),Dc)};var Jc=function(e){return e.events};var Qc=function(e,t){var n=Vn(e,t);return n===undefined||n===""?[]:n.split(" ")};var Zc=function(e,t,n){var r=Qc(e,t);var o=r.concat([n]);In(e,t,o.join(" "));return true};var ef=function(e,t,n){var r=Y(Qc(e,t),(function(e){return e!==n}));if(r.length>0){In(e,t,r.join(" "))}else{Wn(e,t)}return false};var tf=function(e){return e.dom.classList!==undefined};var nf=function(e){return Qc(e,"class")};var rf=function(e,t){return Zc(e,"class",t)};var of=function(e,t){return ef(e,"class",t)};var af=function(e,t){if(tf(e)){e.dom.classList.add(t)}else{rf(e,t)}};var uf=function(e){var t=tf(e)?e.dom.classList:nf(e);if(t.length===0){Wn(e,"class")}};var cf=function(e,t){if(tf(e)){var n=e.dom.classList;n.remove(t)}else{of(e,t)}uf(e)};var ff=function(e,t){return tf(e)&&e.dom.classList.contains(t)};var sf=function(e,t){$(t,(function(t){af(e,t)}))};var lf=function(e,t){$(t,(function(t){cf(e,t)}))};var vf=function(e,t){return oe(t,(function(t){return ff(e,t)}))};var df=function(e){return e.dom.value};var mf=function(e,t){if(t===undefined){throw new Error("Value.set was undefined")}e.dom.value=t};var gf=function(e){var t=tt.fromTag(e.tag);Fn(t,e.attributes);sf(t,e.classes);Kn(t,e.styles);e.innerHtml.each((function(e){return $u(t,e)}));var n=e.domChildren;Mr(t,n);e.value.each((function(e){mf(t,e)}));if(!e.uid){debugger}fc(t,e.uid);return t};var hf=function(e){var t=Oe(e,"behaviours").getOr({});return re(ge(t),(function(e){var n=t[e];return v(n)?[n.me]:[]}))};var pf=function(e,t){return Tc(e,t)};var bf=function(e){var t=hf(e);return pf(e,t)};var yf=function(e,t,n){var r=Xc(e);var o=Yc(e);var a={"alloy.base.modification":o};var i=t.length>0?Nc(n,a,t,r):o;return Ac(r,i)};var wf=function(e,t,n){var r={"alloy.base.behaviour":Jc(e)};return Fc(n,e.eventOrder,t,r).getOrDie()};var xf=function(e){var t=function(){return y};var n=oi(mc);var r=xa(Kc(e));var o=bf(e);var a=Oc(o);var i=_c(o);var u=yf(r,a,i);var c=gf(u);var f=wf(r,a,i);var s=oi(r.components);var l=function(e){n.set(e)};var v=function(){n.set(dc(t))};var m=function(){var e=wn(c);var t=re(e,(function(e){return n.get().getByDom(e).fold((function(){return[]}),ce)}));s.set(t)};var g=function(t){var n=i;var r=d(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))};return r()};var h=function(e){return d(i[e.name()])};var p=function(){return r.apis};var b=function(e){return i[e]().map((function(e){return e.state.readState()})).getOr("not enabled")};var y={uid:e.uid,getSystem:n.get,config:g,hasConfigured:h,spec:e,readState:b,getApis:p,connect:l,disconnect:v,element:c,syncComponents:m,components:s.get,events:f};return y};var Cf=function(e){var t=Oe(e,"components").getOr([]);return G(t,Ef)};var Sf=function(e){var t=vc(e),n=t.events,r=A(t,["events"]);var o=Cf(r);var a=D(D({},r),{events:D(D({},tc),n),components:o});return no.value(xf(a))};var kf=function(e){var t=tt.fromText(e);return Tf({element:t})};var Tf=function(e){var t=Ca("external.component",Zo([Da("element"),Fa("uid")]),e);var n=oi(dc());var r=function(e){n.set(e)};var o=function(){n.set(dc((function(){return i})))};var a=t.uid.getOrThunk((function(){return lc("external")}));fc(t.element,a);var i={uid:a,getSystem:n.get,config:P.none,hasConfigured:O,connect:r,disconnect:o,getApis:function(){return{}},element:t.element,spec:e,readState:w("No state"),syncComponents:h,components:w([]),events:{}};return wc(i)};var Of=lc;var _f=function(e){return _e(e,"uid")};var Ef=function(e){return xc(e).getOrThunk((function(){var t=_f(e)?e:D({uid:Of("")},e);return Sf(t).getOrDie()}))};var Df=wc;function Af(e,t,n,r,o){if(e(n,r)){return P.some(n)}else if(d(o)&&o(n)){return P.none()}else{return t(n,r,o)}}var Nf=function(e,t,n){var r=e.dom;var o=d(n)?n:O;while(r.parentNode){r=r.parentNode;var a=tt.fromDom(r);if(t(a)){return P.some(a)}else if(o(a)){break}}return P.none()};var Mf=function(e,t,n){var r=function(e,t){return t(e)};return Af(r,Nf,e,t,n)};var Rf=function(e,t){var n=function(e){return t(tt.fromDom(e))};var r=ee(e.dom.childNodes,n);return r.map(tt.fromDom)};var zf=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=tt.fromDom(e.childNodes[r]);if(t(o)){return P.some(o)}var a=n(e.childNodes[r]);if(a.isSome()){return a}}return P.none()};return n(e.dom)};var Bf=function(e,t,n){return Mf(e,t,n).isSome()};var Pf=function(e,t,n){return Nf(e,(function(e){return rn(e,t)}),n)};var Lf=function(e,t){return Rf(e,(function(e){return rn(e,t)}))};var Hf=function(e,t){return un(t,e)};var If=function(e,t,n){var r=function(e,t){return rn(e,t)};return Af(r,Pf,e,t,n)};var Ff=function(e){var t=Mf(e,(function(e){if(!ft(e)){return false}var t=Vn(e,"id");return t!==undefined&&t.indexOf("aria-owns")>-1}));return t.bind((function(e){var t=Vn(e,"id");var n=En(e);return Hf(n,'[aria-owns="'+t+'"]')}))};var Vf=function(){var e=rc("aria-owns");var t=function(t){In(t,"aria-owns",e)};var n=function(e){Wn(e,"aria-owns")};return{id:e,link:t,unlink:n}};var Uf=function(e,t){return Ff(t).exists((function(t){return jf(e,t)}))};var jf=function(e,t){return Bf(t,(function(t){return cn(t,e.element)}),O)||Uf(e,t)};var Wf="unknown";var qf;(function(e){e[e["STOP"]=0]="STOP";e[e["NORMAL"]=1]="NORMAL";e[e["LOGGING"]=2]="LOGGING"})(qf||(qf={}));var Gf=oi({});var $f=function(e,t){var n=[];var r=(new Date).getTime();return{logEventCut:function(e,t,r){n.push({outcome:"cut",target:t,purpose:r})},logEventStopped:function(e,t,r){n.push({outcome:"stopped",target:t,purpose:r})},logNoParent:function(e,t,r){n.push({outcome:"no-parent",target:t,purpose:r})},logEventNoHandlers:function(e,t){n.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,r){n.push({outcome:"response",purpose:r,target:t})},write:function(){var o=(new Date).getTime();if(U(["mousemove","mouseover","mouseout",iu()],e)){return}console.log(e,{event:e,time:o-r,target:t.dom,sequence:G(n,(function(e){if(!U(["cut","stopped","response"],e.outcome)){return e.outcome}else{return"{"+e.purpose+"} "+e.outcome+" at ("+Qu(e.target)+")"}}))})}}};var Kf=function(e,t,n){var r=Oe(Gf.get(),e).orThunk((function(){var t=ge(Gf.get());return me(t,(function(t){return e.indexOf(t)>-1?P.some(Gf.get()[t]):P.none()}))})).getOr(qf.NORMAL);switch(r){case qf.NORMAL:return n(Zf());case qf.LOGGING:{var o=$f(e,t);var a=n(o);o.write();return a}case qf.STOP:return true}};var Xf=["alloy/data/Fields","alloy/debugging/Debugging"];var Yf=function(){var e=new Error;if(e.stack!==undefined){var t=e.stack.split("\n");return ee(t,(function(e){return e.indexOf("alloy")>0&&!j(Xf,(function(t){return e.indexOf(t)>-1}))})).getOr(Wf)}else{return Wf}};var Jf={logEventCut:h,logEventStopped:h,logNoParent:h,logEventNoHandlers:h,logEventResponse:h,write:h};var Qf=function(e,t,n){return Kf(e,t,n)};var Zf=w(Jf);var es=w([Da("menu"),Da("selectedMenu")]);var ts=w([Da("item"),Da("selectedItem")]);w(ea(ts().concat(es())));var ns=w(ea(ts()));var rs=La("initSize",[Da("numColumns"),Da("numRows")]);var os=function(){return Aa("markers",ns())};var as=function(){return La("markers",[Da("backgroundMenu")].concat(es()).concat(ts()))};var is=function(e){return La("markers",G(e,Da))};var us=function(e,t,n){Yf();return Oa(t,t,n,pa((function(e){return no.value((function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}return e.apply(undefined,t)}))})))};var cs=function(e){return us("onHandler",e,Oo(h))};var fs=function(e){return us("onKeyboardHandler",e,Oo(P.none))};var ss=function(e){return us("onHandler",e,ko())};var ls=function(e){return us("onKeyboardHandler",e,ko())};var vs=function(e,t){return _a(e,w(t))};var ds=function(e){return _a(e,x)};var ms=w(rs);var gs=function(e,t,n,r,o,a,i,u){if(u===void 0){u=false}return{x:e,y:t,bubble:n,direction:r,placement:o,restriction:a,label:i+"-"+o,alwaysFit:u}};var hs=ii.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]);var ps=function(e,t,n,r,o,a,i,u,c){return e.fold(t,n,r,o,a,i,u,c)};var bs=function(e,t,n,r){return e.fold(t,t,r,r,t,r,n,n)};var ys=function(e,t,n,r){return e.fold(t,r,t,r,n,n,t,r)};var ws=hs.southeast;var xs=hs.southwest;var Cs=hs.northeast;var Ss=hs.northwest;var ks=hs.south;var Ts=hs.north;var Os=hs.east;var _s=hs.west;var Es=function(e,t,n,r){var o=e+t;if(o>r){return n}else if(o<n){return r}else{return o}};var Ds=function(e,t,n){return Math.min(Math.max(e,t),n)};var As=function(e,t){switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}};var Ns=function(e,t){return ue(["left","right","top","bottom"],(function(n){return Oe(t,n).map((function(t){return As(e,t)}))}))};var Ms=function(e,t,n){var r=function(r,o){return t[r].map((function(t){var a=r==="top"||r==="bottom";var i=a?n.top:n.left;var u=r==="left"||r==="top"?Math.max:Math.min;var c=u(t,o)+i;return a?Ds(c,e.y,e.bottom):Ds(c,e.x,e.right)})).getOr(o)};var o=r("left",e.x);var a=r("top",e.y);var i=r("right",e.right);var u=r("bottom",e.bottom);return Xr(o,a,i-o,u-a)};var Rs="layout";var zs=function(e){return e.x};var Bs=function(e,t){return e.x+e.width/2-t.width/2};var Ps=function(e,t){return e.x+e.width-t.width};var Ls=function(e,t){return e.y-t.height};var Hs=function(e){return e.y+e.height};var Is=function(e,t){return e.y+e.height/2-t.height/2};var Fs=function(e){return e.x+e.width};var Vs=function(e,t){return e.x-t.width};var Us=function(e,t,n){return gs(zs(e),Hs(e),n.southeast(),ws(),"southeast",Ns(e,{left:1,top:3}),Rs)};var js=function(e,t,n){return gs(Ps(e,t),Hs(e),n.southwest(),xs(),"southwest",Ns(e,{right:0,top:3}),Rs)};var Ws=function(e,t,n){return gs(zs(e),Ls(e,t),n.northeast(),Cs(),"northeast",Ns(e,{left:1,bottom:2}),Rs)};var qs=function(e,t,n){return gs(Ps(e,t),Ls(e,t),n.northwest(),Ss(),"northwest",Ns(e,{right:0,bottom:2}),Rs)};var Gs=function(e,t,n){return gs(Bs(e,t),Ls(e,t),n.north(),Ts(),"north",Ns(e,{bottom:2}),Rs)};var $s=function(e,t,n){return gs(Bs(e,t),Hs(e),n.south(),ks(),"south",Ns(e,{top:3}),Rs)};var Ks=function(e,t,n){return gs(Fs(e),Is(e,t),n.east(),Os(),"east",Ns(e,{left:0}),Rs)};var Xs=function(e,t,n){return gs(Vs(e,t),Is(e,t),n.west(),_s(),"west",Ns(e,{right:1}),Rs)};var Ys=function(){return[Us,js,Ws,qs,$s,Gs,Ks,Xs]};var Js=function(){return[js,Us,qs,Ws,$s,Gs,Ks,Xs]};var Qs=function(){return[Ws,qs,Us,js,Gs,$s]};var Zs=function(){return[qs,Ws,js,Us,Gs,$s]};var el=function(){return[Us,js,Ws,qs,$s,Gs]};var tl=function(){return[js,Us,qs,Ws,$s,Gs]};var nl=function(e,t){return t.universal?e:Y(e,(function(e){return U(t.channels,e)}))};var rl=function(e){return _u([Nu(Zi(),(function(t,n){var r=e.channels;var o=ge(r);var a=n;var i=nl(o,a);$(i,(function(e){var n=r[e];var o=n.schema;var i=Ca("channel["+e+"] data\nReceiver: "+Qu(t.element),o,a.data);n.onReceive(t,i)}))}))])};var ol=Object.freeze({__proto__:null,events:rl});var al=[Aa("channels",ba(no.value,Zo([ss("onReceive"),Ka("schema",ia())])))];var il=function(e,t,n){return Wu((function(r){n(r,e,t)}))};var ul=function(e,t,n){return ju((function(r,o){n(r,e,t)}))};var cl=function(e,t,n,r,o,a){var i=Zo(e);var u=Ga(t,[$a("config",e)]);return vl(i,u,t,n,r,o,a)};var fl=function(e,t,n,r,o,a){var i=e;var u=Ga(t,[Va("config",e)]);return vl(i,u,t,n,r,o,a)};var sl=function(e,t,n){var r=function(r){var o=[];for(var a=1;a<arguments.length;a++){o[a-1]=arguments[a]}var i=[r].concat(o);return r.config({name:w(e)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(function(e){var n=Array.prototype.slice.call(i,1);return t.apply(undefined,[r,e.config,e.state].concat(n))}))};return gc(r,n,t)};var ll=function(e){return{key:e,value:undefined}};var vl=function(e,t,n,r,o,a,i){var u=function(e){return Ee(e,n)?e[n]():P.none()};var c=be(o,(function(e,t){return sl(n,e,t)}));var f=be(a,(function(e,t){return pc(e,t)}));var s=D(D(D({},f),c),{revoke:S(ll,n),config:function(t){var r=Ca(n+"-config",e,t);return{key:n,value:{config:r,me:s,configAsRaw:dt((function(){return Ca(n+"-config",e,t)})),initialConfig:t,state:i}}},schema:w(t),exhibit:function(e,t){return Re(u(e),Oe(r,"exhibit"),(function(e,n){return n(t,e.config,e.state)})).getOrThunk((function(){return Dc({})}))},name:w(n),handlers:function(e){return u(e).map((function(e){var t=Oe(r,"events").getOr((function(){return{}}));return t(e.config,e.state)})).getOr({})}});return s};var dl=function(e){return di(e)};var ml=Zo([Da("fields"),Da("name"),Ka("active",{}),Ka("apis",{}),Ka("state",Sc),Ka("extra",{})]);var gl=function(e){var t=Ca("Creating behaviour: "+e.name,ml,e);return cl(t.fields,t.name,t.active,t.apis,t.extra,t.state)};var hl=Zo([Da("branchKey"),Da("branches"),Da("name"),Ka("active",{}),Ka("apis",{}),Ka("state",Sc),Ka("extra",{})]);var pl=function(e){var t=Ca("Creating behaviour: "+e.name,hl,e);return fl(ka(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)};var bl=w(undefined);var yl=gl({fields:al,name:"receiving",active:ol});var wl=function(e,t){return Dc({classes:[],styles:t.useFixed()?{}:{position:"relative"}})};var xl=Object.freeze({__proto__:null,exhibit:wl});var Cl=function(){return tt.fromDom(document)};var Sl=function(e){return e.dom.focus()};var kl=function(e){return e.dom.blur()};var Tl=function(e){var t=En(e).dom;return e.dom===t.activeElement};var Ol=function(e){if(e===void 0){e=Cl()}return P.from(e.dom.activeElement).map(tt.fromDom)};var _l=function(e){return Ol(En(e)).filter((function(t){return e.dom.contains(t.dom)}))};var El=function(e,t){var n=En(t);var r=Ol(n).bind((function(e){var n=function(t){return cn(e,t)};return n(t)?P.some(t):zf(t,n)}));var o=e(t);r.each((function(e){Ol(n).filter((function(t){return cn(t,e)})).fold((function(){Sl(e)}),h)}));return o};var Dl=function(e,t,n,r,o){var a=function(e){return e+"px"};return{position:e,left:t.map(a),top:n.map(a),right:r.map(a),bottom:o.map(a)}};var Al=function(e){return D(D({},e),{position:P.some(e.position)})};var Nl=function(e,t){Xn(e,Al(t))};var Ml=ii.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]);var Rl=function(e,t,n,r,o,a){var i=t.rect;var u=i.x-n;var c=i.y-r;var f=i.width;var s=i.height;var l=o-(u+f);var v=a-(c+s);var d=P.some(u);var m=P.some(c);var g=P.some(l);var h=P.some(v);var p=P.none();return ps(t.direction,(function(){return Dl(e,d,m,p,p)}),(function(){return Dl(e,p,m,g,p)}),(function(){return Dl(e,d,p,p,h)}),(function(){return Dl(e,p,p,g,h)}),(function(){return Dl(e,d,m,p,p)}),(function(){return Dl(e,d,p,p,h)}),(function(){return Dl(e,d,m,p,p)}),(function(){return Dl(e,p,m,g,p)}))};var zl=function(e,t){return e.fold((function(){var e=t.rect;return Dl("absolute",P.some(e.x),P.some(e.y),P.none(),P.none())}),(function(e,n,r,o){return Rl("absolute",t,e,n,r,o)}),(function(e,n,r,o){return Rl("fixed",t,e,n,r,o)}))};var Bl=function(e,t){var n=S(Gr,t);var r=e.fold(n,n,(function(){var e=Pr();return Gr(t).translate(-e.left,-e.top)}));var o=pr(t);var a=ir(t);return Xr(r.left,r.top,o,a)};var Pl=function(e,t){return t.fold((function(){return e.fold(Qr,Qr,Xr)}),(function(t){return e.fold(t,t,(function(){var n=t();var r=Ll(e,n.x,n.y);return Xr(r.left,r.top,n.width,n.height)}))}))};var Ll=function(e,t,n){var r=fr(t,n);var o=function(){var e=Pr();return r.translate(-e.left,-e.top)};return e.fold(w(r),w(r),o)};var Hl=function(e,t,n,r){return e.fold(t,n,r)};Ml.none;var Il=Ml.relative;var Fl=Ml.fixed;var Vl=function(e,t){return{anchorBox:e,origin:t}};var Ul=function(e,t){return Vl(e,t)};var jl="data-alloy-placement";var Wl=function(e,t){In(e,jl,t)};var ql=function(e){return Un(e,jl)};var Gl=function(e){return Wn(e,jl)};var $l=ii.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]);var Kl=function(e,t){var n=t.x,r=t.y,o=t.right,a=t.bottom;var i=e.x,u=e.y,c=e.right,f=e.bottom,s=e.width,l=e.height;var v=i>=n&&i<=o;var d=u>=r&&u<=a;var m=v&&d;var g=c<=o&&c>=n;var h=f<=a&&f>=r;var p=g&&h;var b=Math.min(s,i>=n?o-i:c-n);var y=Math.min(l,u>=r?a-u:f-r);return{originInBounds:m,sizeInBounds:p,visibleW:b,visibleH:y}};var Xl=function(e,t){var n=t.x,r=t.y,o=t.right,a=t.bottom;var i=e.x,u=e.y,c=e.width,f=e.height;var s=Math.max(n,o-c);var l=Math.max(r,a-f);var v=Ds(i,n,s);var d=Ds(u,r,l);var m=Math.min(v+c,o)-v;var g=Math.min(d+f,a)-d;return Xr(v,d,m,g)};var Yl=function(e,t,n){var r=w(t.bottom-n.y);var o=w(n.bottom-t.y);var a=bs(e,o,o,r);var i=w(t.right-n.x);var u=w(n.right-t.x);var c=ys(e,u,u,i);return{maxWidth:c,maxHeight:a}};var Jl=function(e,t,n,r){var o=e.bubble;var a=o.offset;var i=Ms(r,e.restriction,a);var u=e.x+a.left;var c=e.y+a.top;var f=Xr(u,c,t,n);var s=Kl(f,i),l=s.originInBounds,v=s.sizeInBounds,d=s.visibleW,m=s.visibleH;var g=l&&v;var h=g?f:Xl(f,i);var p=h.width>0&&h.height>0;var b=Yl(e.direction,h,r),y=b.maxWidth,w=b.maxHeight;var x={rect:h,maxHeight:w,maxWidth:y,direction:e.direction,placement:e.placement,classes:{on:o.classesOn,off:o.classesOff},layout:e.label,testY:c};return g||e.alwaysFit?$l.fit(x):$l.nofit(x,d,m,p)};var Ql=function(e,t,n,r,o,a){var i=r.width;var u=r.height;var c=function(t,c,f,s,l){var v=t(n,r,o,e,a);var d=Jl(v,i,u,a);return d.fold(w(d),(function(e,t,n,r){var o=l===r?n>s||t>f:!l&&r;return o?d:$l.nofit(c,f,s,l)}))};var f=Q(t,(function(e,t){var n=S(c,t);return e.fold(w(e),n)}),$l.nofit({rect:n,maxHeight:r.height,maxWidth:r.width,direction:ws(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,false));return f.fold(x,x)};var Zl=function(e){var t=oi(P.none());var n=function(){return t.get().each(e)};var r=function(){n();t.set(P.none())};var o=function(){return t.get().isSome()};var a=function(){return t.get()};var i=function(e){n();t.set(P.some(e))};return{clear:r,isSet:o,get:a,set:i}};var ev=function(){return Zl((function(e){return e.destroy()}))};var tv=function(){return Zl((function(e){return e.unbind()}))};var nv=function(){var e=ev();var t=function(t){return e.get().each(t)};return D(D({},e),{run:t})};var rv=function(){var e=Zl(h);var t=function(t){return e.get().each(t)};return D(D({},e),{on:t})};var ov=_;var av=function(e,t,n){return Sr(e,t,ov,n)};var iv=function(e,t,n){return kr(e,t,ov,n)};var uv=wr;var cv=["top","bottom","right","left"];var fv="data-alloy-transition-timer";var sv=function(e,t){return vf(e,t.classes)};var lv=function(e,t,n){return n.exists((function(n){var r=e.mode;return r==="all"?true:n[r]!==t[r]}))};var vv=function(e,t){var n=function(e){return parseFloat(e).toFixed(3)};return ke(t,(function(t,r){var o=e[r].map(n);var a=t.map(n);return!Ae(o,a)})).isSome()};var dv=function(e){var t=function(t){var n=Yn(e,t);var r=a(n)?n.split(/\s*,\s*/):[];return Y(r,$e)};var n=function(e){if(a(e)&&/^[\d.]+/.test(e)){var t=parseFloat(e);return We(e,"ms")?t:t*1e3}else{return 0}};var r=t("transition-delay");var o=t("transition-duration");return Q(o,(function(e,t,o){var a=n(r[o])+n(t);return Math.max(e,a)}),0)};var mv=function(e,t){var n=tv();var r=tv();var o;var a=function(t){var n;var r=(n=t.raw.pseudoElement)!==null&&n!==void 0?n:"";return cn(t.target,e)&&Ke(r)&&U(cv,t.raw.propertyName)};var i=function(i){if(l(i)||a(i)){n.clear();r.clear();var u=i===null||i===void 0?void 0:i.raw.type;if(l(u)||u===qi()){clearTimeout(o);Wn(e,fv);lf(e,t.classes)}}};var u=function(){n.set(av(e,qi(),i));r.set(av(e,Wi(),i))};if("ontransitionstart"in e.dom){var c=av(e,Gi(),(function(e){if(a(e)){c.unbind();u()}}))}else{u()}var f=dv(e);requestAnimationFrame((function(){o=setTimeout(i,f+17);In(e,fv,o)}))};var gv=function(e,t){sf(e,t.classes);Un(e,fv).each((function(t){clearTimeout(parseInt(t,10));Wn(e,fv)}));mv(e,t)};var hv=function(e,t,n,r,o,a){var i=lv(r,o,a);if(i||sv(e,r)){$n(e,"position",n.position);var u=Bl(t,e);var c=zl(t,D(D({},o),{rect:u}));var f=ue(cv,(function(e){return c[e]}));if(vv(n,f)){Xn(e,f);if(i){gv(e,r)}nr(e)}}else{lf(e,r.classes)}};var pv=function(e){return{width:pr(e),height:ir(e)}};var bv=function(e,t,n,r){tr(t,"max-height");tr(t,"max-width");var o=pv(t);return Ql(t,r.preference,e,o,n,r.bounds)};var yv=function(e,t){var n=t.classes;lf(e,n.off);sf(e,n.on)};var wv=function(e,t,n){var r=n.maxHeightFunction;r(e,t.maxHeight)};var xv=function(e,t,n){var r=n.maxWidthFunction;r(e,t.maxWidth)};var Cv=function(e,t,n){var r=zl(n.origin,t);n.transition.each((function(o){hv(e,n.origin,r,o,t,n.lastPlacement)}));Nl(e,r)};var Sv=function(e,t){Wl(e,t.placement)};var kv=function(e,t){ur(e,Math.floor(t))};var Tv=w((function(e,t){kv(e,t);Kn(e,{"overflow-x":"hidden","overflow-y":"auto"})}));var Ov=w((function(e,t){kv(e,t)}));var _v=function(e,t,n){return e[t]===undefined?n:e[t]};var Ev=function(e,t,n,r,o,a,i,u){var c=_v(i,"maxHeightFunction",Tv());var f=_v(i,"maxWidthFunction",h);var s=e.anchorBox;var l=e.origin;var v={bounds:Pl(l,a),origin:l,preference:r,maxHeightFunction:c,maxWidthFunction:f,lastPlacement:o,transition:u};return Dv(s,t,n,v)};var Dv=function(e,t,n,r){var o=bv(e,t,n,r);Cv(t,o,r);Sv(t,o);yv(t,o);wv(t,o,r);xv(t,o,r);return{layout:o.layout,placement:o.placement}};var Av=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"];var Nv=function(e,t,n,r){if(r===void 0){r=1}var o=e*r;var a=t*r;var i=function(e){return Oe(n,e).getOr([])};var u=function(e,t,n){var r=ie(Av,n);return{offset:fr(e,t),classesOn:re(n,i),classesOff:re(r,i)}};return{southeast:function(){return u(-e,t,["top","alignLeft"])},southwest:function(){return u(e,t,["top","alignRight"])},south:function(){return u(-e/2,t,["top","alignCentre"])},northeast:function(){return u(-e,-t,["bottom","alignLeft"])},northwest:function(){return u(e,-t,["bottom","alignRight"])},north:function(){return u(-e/2,-t,["bottom","alignCentre"])},east:function(){return u(e,-t/2,["valignCentre","left"])},west:function(){return u(-e,-t/2,["valignCentre","right"])},insetNortheast:function(){return u(o,a,["top","alignLeft","inset"])},insetNorthwest:function(){return u(-o,a,["top","alignRight","inset"])},insetNorth:function(){return u(-o/2,a,["top","alignCentre","inset"])},insetSoutheast:function(){return u(o,-a,["bottom","alignLeft","inset"])},insetSouthwest:function(){return u(-o,-a,["bottom","alignRight","inset"])},insetSouth:function(){return u(-o/2,-a,["bottom","alignCentre","inset"])},insetEast:function(){return u(-o,-a/2,["valignCentre","right","inset"])},insetWest:function(){return u(o,-a/2,["valignCentre","left","inset"])}}};var Mv=function(){return Nv(0,0,{})};var Rv=x;var zv=function(e,t){return function(n){return Bv(n)==="rtl"?t:e}};var Bv=function(e){return Yn(e,"direction")==="rtl"?"rtl":"ltr"};var Pv;(function(e){e["TopToBottom"]="toptobottom";e["BottomToTop"]="bottomtotop"})(Pv||(Pv={}));var Lv="data-alloy-vertical-dir";var Hv=function(e){return Bf(e,(function(e){return ft(e)&&Vn(e,"data-alloy-vertical-dir")===Pv.BottomToTop}))};var Iv=function(){return Ga("layouts",[Da("onLtr"),Da("onRtl"),Fa("onBottomLtr"),Fa("onBottomRtl")])};var Fv=function(e,t,n,r,o,a,i){var u=i.map(Hv).getOr(false);var c=t.layouts.map((function(t){return t.onLtr(e)}));var f=t.layouts.map((function(t){return t.onRtl(e)}));var s=u?t.layouts.bind((function(t){return t.onBottomLtr.map((function(t){return t(e)}))})).or(c).getOr(o):c.getOr(n);var l=u?t.layouts.bind((function(t){return t.onBottomRtl.map((function(t){return t(e)}))})).or(f).getOr(a):f.getOr(r);var v=zv(s,l);return v(e)};var Vv=function(e,t,n){var r=t.hotspot;var o=Bl(n,r.element);var a=Fv(e.element,t,el(),tl(),Qs(),Zs(),P.some(t.hotspot.element));return P.some(Rv({anchorBox:o,bubble:t.bubble.getOr(Mv()),overrides:t.overrides,layouts:a,placer:P.none()}))};var Uv=[Da("hotspot"),Fa("bubble"),Ka("overrides",{}),Iv(),vs("placement",Vv)];var jv=function(e,t,n){var r=Ll(n,t.x,t.y);var o=Xr(r.left,r.top,t.width,t.height);var a=Fv(e.element,t,Ys(),Js(),Ys(),Js(),P.none());return P.some(Rv({anchorBox:o,bubble:t.bubble,overrides:t.overrides,layouts:a,placer:P.none()}))};var Wv=[Da("x"),Da("y"),Ka("height",0),Ka("width",0),Ka("bubble",Mv()),Ka("overrides",{}),Iv(),vs("placement",jv)];var qv=ii.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]);var Gv=function(e){return e.fold(x,(function(e,t,n){return e.translate(-t,-n)}))};var $v=function(e){return e.fold(x,x)};var Kv=function(e){return Q(e,(function(e,t){return e.translate(t.left,t.top)}),fr(0,0))};var Xv=function(e){var t=G(e,Gv);return Kv(t)};var Yv=function(e){var t=G(e,$v);return Kv(t)};var Jv=qv.screen;var Qv=qv.absolute;var Zv=function(e,t,n){var r=gn(n.root).dom;var o=function(t){var n=vn(t);var r=vn(e.element);return cn(n,r)};return P.from(r.frameElement).map(tt.fromDom).filter(o).map(vr)};var ed=function(e,t,n){var r=vn(e.element);var o=Pr(r);var a=Zv(e,t,n).getOr(o);return Qv(a,o.left,o.top)};var td=function(e,t,n,r){var o=Jv(fr(e,t));return P.some($r(o,n,r))};var nd=function(e,t,n,r,o){return e.map((function(e){var a=[t,e.point];var i=Hl(r,(function(){return Yv(a)}),(function(){return Yv(a)}),(function(){return Xv(a)}));var u=Kr(i.left,i.top,e.width,e.height);var c=n.showAbove?Qs():el();var f=n.showAbove?Zs():tl();var s=Fv(o,n,c,f,c,f,P.none());return Rv({anchorBox:u,bubble:n.bubble.getOr(Mv()),overrides:n.overrides,layouts:s,placer:P.none()})}))};var rd=function(e,t,n){var r=ed(e,n,t);return t.node.filter(Bn).bind((function(o){var a=o.dom.getBoundingClientRect();var i=td(a.left,a.top,a.width,a.height);var u=t.node.getOr(e.element);return nd(i,r,t,n,u)}))};var od=[Da("node"),Da("root"),Fa("bubble"),Iv(),Ka("overrides",{}),Ka("showAbove",false),vs("placement",rd)];var ad="\ufeff";var id="";var ud=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}};var cd={create:ud};var fd=ii.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);var sd=function(e,t,n,r){return e.fold(t,n,r)};var ld=function(e){return e.fold(x,x,x)};var vd=fd.before;var dd=fd.on;var md=fd.after;var gd={before:vd,on:dd,after:md,cata:sd,getStart:ld};var hd=ii.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]);var pd=function(e){return hd.exact(e.start,e.soffset,e.finish,e.foffset)};var bd=function(e){return e.match({domRange:function(e){return tt.fromDom(e.startContainer)},relative:function(e,t){return gd.getStart(e)},exact:function(e,t,n,r){return e}})};var yd=hd.domRange;var wd=hd.relative;var xd=hd.exact;var Cd=function(e){var t=bd(e);return gn(t)};var Sd=cd.create;var kd={domRange:yd,relative:wd,exact:xd,exactFromRange:pd,getWin:Cd,range:Sd};var Td=function(e,t){t.fold((function(t){e.setStartBefore(t.dom)}),(function(t,n){e.setStart(t.dom,n)}),(function(t){e.setStartAfter(t.dom)}))};var Od=function(e,t){t.fold((function(t){e.setEndBefore(t.dom)}),(function(t,n){e.setEnd(t.dom,n)}),(function(t){e.setEndAfter(t.dom)}))};var _d=function(e,t,n){var r=e.document.createRange();Td(r,t);Od(r,n);return r};var Ed=function(e,t,n,r,o){var a=e.document.createRange();a.setStart(t.dom,n);a.setEnd(r.dom,o);return a};var Dd=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}};var Ad=function(e){var t=e.getClientRects();var n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?P.some(n).map(Dd):P.none()};var Nd=function(e){var t=e.getBoundingClientRect();return t.width>0||t.height>0?P.some(t).map(Dd):P.none()};var Md=ii.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);var Rd=function(e,t,n){return t(tt.fromDom(n.startContainer),n.startOffset,tt.fromDom(n.endContainer),n.endOffset)};var zd=function(e,t){return t.match({domRange:function(e){return{ltr:w(e),rtl:P.none}},relative:function(t,n){return{ltr:dt((function(){return _d(e,t,n)})),rtl:dt((function(){return P.some(_d(e,n,t))}))}},exact:function(t,n,r,o){return{ltr:dt((function(){return Ed(e,t,n,r,o)})),rtl:dt((function(){return P.some(Ed(e,r,o,t,n))}))}}})};var Bd=function(e,t){var n=t.ltr();if(n.collapsed){var r=t.rtl().filter((function(e){return e.collapsed===false}));return r.map((function(e){return Md.rtl(tt.fromDom(e.endContainer),e.endOffset,tt.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Rd(e,Md.ltr,n)}))}else{return Rd(e,Md.ltr,n)}};var Pd=function(e,t){var n=zd(e,t);return Bd(e,n)};var Ld=function(e,t){var n=Pd(e,t);return n.match({ltr:function(t,n,r,o){var a=e.document.createRange();a.setStart(t.dom,n);a.setEnd(r.dom,o);return a},rtl:function(t,n,r,o){var a=e.document.createRange();a.setStart(r.dom,o);a.setEnd(t.dom,n);return a}})};Md.ltr;Md.rtl;var Hd=function(e,t){var n=function(n){if(!e(n)){throw new Error("Can only get "+t+" value of a "+t+" node")}return r(n).getOr("")};var r=function(t){return e(t)?P.from(t.dom.nodeValue):P.none()};var o=function(n,r){if(!e(n)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}n.dom.nodeValue=r};return{get:n,getOption:r,set:o}};var Id=Hd(st,"text");var Fd=function(e){return Id.get(e)};var Vd=function(e){return Id.getOption(e)};var Ud=function(e){return it(e)==="img"?1:Vd(e).fold((function(){return wn(e).length}),(function(e){return e.length}))};var jd=function(e){return Vd(e).filter((function(e){return e.trim().length!==0||e.indexOf(id)>-1})).isSome()};var Wd=["img","br"];var qd=function(e){var t=jd(e);return t||U(Wd,it(e))};var Gd=function(e){return $d(e,qd)};var $d=function(e,t){var n=function(e){var r=wn(e);for(var o=r.length-1;o>=0;o--){var a=r[o];if(t(a)){return P.some(a)}var i=n(a);if(i.isSome()){return i}}return P.none()};return n(e)};var Kd=function(e,t){return an(t,e)};var Xd=function(e,t,n,r){var o=vn(e);var a=o.dom.createRange();a.setStart(e.dom,t);a.setEnd(n.dom,r);return a};var Yd=function(e,t,n,r){var o=Xd(e,t,n,r);var a=cn(e,n)&&t===r;return o.collapsed&&!a};var Jd=function(e){return P.from(e.getSelection())};var Qd=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0);var n=e.getRangeAt(e.rangeCount-1);return P.some(cd.create(tt.fromDom(t.startContainer),t.startOffset,tt.fromDom(n.endContainer),n.endOffset))}else{return P.none()}};var Zd=function(e){if(e.anchorNode===null||e.focusNode===null){return Qd(e)}else{var t=tt.fromDom(e.anchorNode);var n=tt.fromDom(e.focusNode);return Yd(t,e.anchorOffset,n,e.focusOffset)?P.some(cd.create(t,e.anchorOffset,n,e.focusOffset)):Qd(e)}};var em=function(e){return Jd(e).filter((function(e){return e.rangeCount>0})).bind(Zd)};var tm=function(e,t){var n=Ld(e,t);return Ad(n)};var nm=function(e,t){var n=Ld(e,t);return Nd(n)};var rm=function(e,t){return{element:e,offset:t}};var om=function(e,t){var n=wn(e);if(n.length===0){return rm(e,t)}else if(t<n.length){return rm(n[t],0)}else{var r=n[n.length-1];var o=st(r)?Fd(r).length:wn(r).length;return rm(r,o)}};var am=function(e,t){return st(e)?rm(e,t):om(e,t)};var im=function(e,t){var n=t.getSelection.getOrThunk((function(){return function(){return em(e)}}));return n().map((function(e){var t=am(e.start,e.soffset);var n=am(e.finish,e.foffset);return kd.range(t.element,t.offset,n.element,n.offset)}))};var um=function(e,t,n){var r=gn(t.root).dom;var o=ed(e,n,t);var a=im(r,t).bind((function(e){var t=nm(r,kd.exactFromRange(e)).orThunk((function(){var t=tt.fromText(ad);Or(e.start,t);var n=tm(r,kd.exact(t,0,t,1));zr(t);return n}));return t.bind((function(e){return td(e.left,e.top,e.width,e.height)}))}));var i=im(r,t).bind((function(e){return ft(e.start)?P.some(e.start):pn(e.start)}));var u=i.getOr(e.element);return nd(a,o,t,n,u)};var cm=[Fa("getSelection"),Da("root"),Fa("bubble"),Iv(),Ka("overrides",{}),Ka("showAbove",false),vs("placement",um)];var fm="link-layout";var sm=function(e){return e.x+e.width};var lm=function(e,t){return e.x-t.width};var vm=function(e,t){return e.y-t.height+e.height};var dm=function(e){return e.y};var mm=function(e,t,n){return gs(sm(e),dm(e),n.southeast(),ws(),"southeast",Ns(e,{left:0,top:2}),fm)};var gm=function(e,t,n){return gs(lm(e,t),dm(e),n.southwest(),xs(),"southwest",Ns(e,{right:1,top:2}),fm)};var hm=function(e,t,n){return gs(sm(e),vm(e,t),n.northeast(),Cs(),"northeast",Ns(e,{left:0,bottom:3}),fm)};var pm=function(e,t,n){return gs(lm(e,t),vm(e,t),n.northwest(),Ss(),"northwest",Ns(e,{right:1,bottom:3}),fm)};var bm=function(){return[mm,gm,hm,pm]};var ym=function(){return[gm,mm,pm,hm]};var wm=function(e,t,n){var r=Bl(n,t.item.element);var o=Fv(e.element,t,bm(),ym(),bm(),ym(),P.none());return P.some(Rv({anchorBox:r,bubble:Mv(),overrides:t.overrides,layouts:o,placer:P.none()}))};var xm=[Da("item"),Iv(),Ka("overrides",{}),vs("placement",wm)];var Cm=ka("type",{selection:cm,node:od,hotspot:Uv,submenu:xm,makeshift:Wv});var Sm=[Ia("classes",fa),Qa("mode","all",["all","layout","placement"])];var km=[Ka("useFixed",O),Fa("getBounds")];var Tm=[Aa("anchor",Cm),Ga("transition",Sm)];var Om=function(){var e=document.documentElement;return Fl(0,0,e.clientWidth,e.clientHeight)};var _m=function(e){var t=vr(e.element);var n=e.element.dom.getBoundingClientRect();return Il(t.left,t.top,n.width,n.height)};var Em=function(e,t,n,r,o,a,i){var u=Ul(n.anchorBox,t);return Ev(u,o.element,n.bubble,n.layouts,a,r,n.overrides,i)};var Dm=function(e,t,n,r,o){Am(e,t,n,r,o,P.none())};var Am=function(e,t,n,r,o,a){var i=a.map(Yr);return Nm(e,t,n,r,o,i)};var Nm=function(e,t,n,r,o,a){var i=Ca("placement.info",ea(Tm),o);var u=i.anchor;var c=r.element;var f=n.get(r.uid);El((function(){$n(c,"position","fixed");var o=Qn(c,"visibility");$n(c,"visibility","hidden");var s=t.useFixed()?Om():_m(e);var l=u.placement;var v=a.map(w).or(t.getBounds);l(e,u,s).each((function(t){var o=t.placer.getOr(Em);var a=o(e,s,t,v,r,f,i.transition);n.set(r.uid,a)}));o.fold((function(){tr(c,"visibility")}),(function(e){$n(c,"visibility",e)}));if(Qn(c,"left").isNone()&&Qn(c,"top").isNone()&&Qn(c,"right").isNone()&&Qn(c,"bottom").isNone()&&De(Qn(c,"position"),"fixed")){tr(c,"position")}}),c)};var Mm=function(e,t,n){return t.useFixed()?"fixed":"absolute"};var Rm=function(e,t,n,r){var o=r.element;$(["position","left","right","top","bottom"],(function(e){return tr(o,e)}));Gl(o);n.clear(r.uid)};var zm=Object.freeze({__proto__:null,position:Dm,positionWithin:Am,positionWithinBounds:Nm,getMode:Mm,reset:Rm});var Bm=function(){var e={};var t=function(t,n){e[t]=n};var n=function(t){return Oe(e,t)};var r=function(t){if(v(t)){delete e[t]}else{e={}}};return kc({readState:function(){return e},clear:r,set:t,get:n})};var Pm=Object.freeze({__proto__:null,init:Bm});var Lm=gl({fields:km,name:"positioning",active:xl,apis:zm,state:Pm});var Hm=function(e){xu(e,vu());var t=e.components();$(t,Hm)};var Im=function(e){var t=e.components();$(t,Im);xu(e,lu())};var Fm=function(e,t){Dr(e.element,t.element)};var Vm=function(e){$(e.components(),(function(e){return zr(e.element)}));Rr(e.element);e.syncComponents()};var Um=function(e,t){var n=e.components();Vm(e);var r=ie(n,t);$(r,(function(t){Hm(t);e.getSystem().removeFromWorld(t)}));$(t,(function(t){if(!t.getSystem().isConnected()){e.getSystem().addToWorld(t);Fm(e,t);if(Bn(e.element)){Im(t)}}else{Fm(e,t)}e.syncComponents()}))};var jm=function(e,t){Wm(e,t,Dr)};var Wm=function(e,t,n){e.getSystem().addToWorld(t);n(e.element,t.element);if(Bn(e.element)){Im(t)}e.syncComponents()};var qm=function(e){Hm(e);zr(e.element);e.getSystem().removeFromWorld(e)};var Gm=function(e){var t=hn(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}));qm(e);t.each((function(e){e.syncComponents()}))};var $m=function(e){var t=e.components();$(t,qm);Rr(e.element);e.syncComponents()};var Km=function(e,t){Ym(e,t,Dr)};var Xm=function(e,t){Ym(e,t,_r)};var Ym=function(e,t,n){n(e,t.element);var r=wn(t.element);$(r,(function(e){t.getByDom(e).each(Im)}))};var Jm=function(e){var t=wn(e.element);$(t,(function(t){e.getByDom(t).each(Hm)}));zr(e.element)};var Qm=function(e,t,n,r){n.get().each((function(t){$m(e)}));var o=t.getAttachPoint(e);jm(o,e);var a=e.getSystem().build(r);jm(e,a);n.set(a);return a};var Zm=function(e,t,n,r){var o=Qm(e,t,n,r);t.onOpen(e,o);return o};var eg=function(e,t,n,r){return n.get().map((function(){return Qm(e,t,n,r)}))};var tg=function(e,t,n,r,o){cg(e,t);Zm(e,t,n,r);o();sg(e,t)};var ng=function(e,t,n){n.get().each((function(r){$m(e);Gm(e);t.onClose(e,r);n.clear()}))};var rg=function(e,t,n){return n.isOpen()};var og=function(e,t,n,r){return rg(e,t,n)&&n.get().exists((function(n){return t.isPartOf(e,n,r)}))};var ag=function(e,t,n){return n.get()};var ig=function(e,t,n,r){Qn(e.element,t).fold((function(){Wn(e.element,n)}),(function(t){In(e.element,n,t)}));$n(e.element,t,r)};var ug=function(e,t,n){Un(e.element,n).fold((function(){return tr(e.element,t)}),(function(n){return $n(e.element,t,n)}))};var cg=function(e,t,n){var r=t.getAttachPoint(e);$n(e.element,"position",Lm.getMode(r));ig(e,"visibility",t.cloakVisibilityAttr,"hidden")};var fg=function(e){return j(["top","left","right","bottom"],(function(t){return Qn(e,t).isSome()}))};var sg=function(e,t,n){if(!fg(e.element)){tr(e.element,"position")}ug(e,"visibility",t.cloakVisibilityAttr)};var lg=Object.freeze({__proto__:null,cloak:cg,decloak:sg,open:Zm,openWhileCloaked:tg,close:ng,isOpen:rg,isPartOf:og,getState:ag,setContent:eg});var vg=function(e,t){return _u([Nu(ou(),(function(n,r){ng(n,e,t)}))])};var dg=Object.freeze({__proto__:null,events:vg});var mg=[cs("onOpen"),cs("onClose"),Da("isPartOf"),Da("getAttachPoint"),Ka("cloakVisibilityAttr","data-precloak-visibility")];var gg=function(){var e=rv();var t=w("not-implemented");return kc({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})};var hg=Object.freeze({__proto__:null,init:gg});var pg=gl({fields:mg,name:"sandboxing",active:dg,apis:lg,state:hg});var bg=w("dismiss.popups");var yg=w("reposition.popups");var wg=w("mouse.released");var xg=Zo([Ka("isExtraPart",O),Ga("fireEventInstead",[Ka("event",du())])]);var Cg=function(e){var t;var n=Ca("Dismissal",xg,e);return t={},t[bg()]={schema:Zo([Da("target")]),onReceive:function(e,t){if(pg.isOpen(e)){var r=pg.isPartOf(e,t.target)||n.isExtraPart(e,t.target);if(!r){n.fireEventInstead.fold((function(){return pg.close(e)}),(function(t){return xu(e,t.event)}))}}}},t};var Sg=Zo([Ga("fireEventInstead",[Ka("event",mu())]),Ba("doReposition")]);var kg=function(e){var t;var n=Ca("Reposition",Sg,e);return t={},t[yg()]={onReceive:function(e){if(pg.isOpen(e)){n.fireEventInstead.fold((function(){return n.doReposition(e)}),(function(t){return xu(e,t.event)}))}}},t};var Tg=function(e,t,n){t.store.manager.onLoad(e,t,n)};var Og=function(e,t,n){t.store.manager.onUnload(e,t,n)};var _g=function(e,t,n,r){t.store.manager.setValue(e,t,n,r)};var Eg=function(e,t,n){return t.store.manager.getValue(e,t,n)};var Dg=function(e,t,n){return n};var Ag=Object.freeze({__proto__:null,onLoad:Tg,onUnload:Og,setValue:_g,getValue:Eg,getState:Dg});var Ng=function(e,t){var n=e.resetOnDom?[Vu((function(n,r){Tg(n,e,t)})),Uu((function(n,r){Og(n,e,t)}))]:[ul(e,t,Tg)];return _u(n)};var Mg=Object.freeze({__proto__:null,events:Ng});var Rg=function(){var e=oi(null);var t=function(){return{mode:"memory",value:e.get()}};var n=function(){return e.get()===null};var r=function(){e.set(null)};return kc({set:e.set,get:e.get,isNotSet:n,clear:r,readState:t})};var zg=function(){var e=h;return kc({readState:e})};var Bg=function(){var e=oi({});var t=oi({});var n=function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}};var r=function(){e.set({});t.set({})};var o=function(n){return Oe(e.get(),n).orThunk((function(){return Oe(t.get(),n)}))};var a=function(n){var r=e.get();var o=t.get();var a={};var i={};$(n,(function(e){a[e.value]=e;Oe(e,"meta").each((function(t){Oe(t,"text").each((function(t){i[t]=e}))}))}));e.set(D(D({},r),a));t.set(D(D({},o),i))};return kc({readState:n,lookup:o,update:a,clear:r})};var Pg=function(e){return e.store.manager.state(e)};var Lg=Object.freeze({__proto__:null,memory:Rg,dataset:Bg,manual:zg,init:Pg});var Hg=function(e,t,n,r){var o=t.store;n.update([r]);o.setValue(e,r);t.onSetValue(e,r)};var Ig=function(e,t,n){var r=t.store;var o=r.getDataKey(e);return n.lookup(o).getOrThunk((function(){return r.getFallbackEntry(o)}))};var Fg=function(e,t,n){var r=t.store;r.initialValue.each((function(r){Hg(e,t,n,r)}))};var Vg=function(e,t,n){n.clear()};var Ug=[Fa("initialValue"),Da("getFallbackEntry"),Da("getDataKey"),Da("setValue"),vs("manager",{setValue:Hg,getValue:Ig,onLoad:Fg,onUnload:Vg,state:Bg})];var jg=function(e,t,n){return t.store.getValue(e)};var Wg=function(e,t,n,r){t.store.setValue(e,r);t.onSetValue(e,r)};var qg=function(e,t,n){t.store.initialValue.each((function(n){t.store.setValue(e,n)}))};var Gg=[Da("getValue"),Ka("setValue",h),Fa("initialValue"),vs("manager",{setValue:Wg,getValue:jg,onLoad:qg,onUnload:h,state:Sc.init})];var $g=function(e,t,n,r){n.set(r);t.onSetValue(e,r)};var Kg=function(e,t,n){return n.get()};var Xg=function(e,t,n){t.store.initialValue.each((function(e){if(n.isNotSet()){n.set(e)}}))};var Yg=function(e,t,n){n.clear()};var Jg=[Fa("initialValue"),vs("manager",{setValue:$g,getValue:Kg,onLoad:Xg,onUnload:Yg,state:Rg})];var Qg=[Xa("store",{mode:"memory"},ka("mode",{memory:Jg,manual:Gg,dataset:Ug})),cs("onSetValue"),Ka("resetOnDom",false)];var Zg=gl({fields:Qg,name:"representing",active:Mg,apis:Ag,extra:{setValueFrom:function(e,t){var n=Zg.getValue(t);Zg.setValue(e,n)}},state:Lg});var eh=function(e,t){return ri(e,{},G(t,(function(t){return Pa(t.name(),"Cannot configure "+t.name()+" for "+e)})).concat([_a("dump",x)]))};var th=function(e){return e.dump};var nh=function(e,t){return D(D({},dl(t)),e.dump)};var rh={field:eh,augment:nh,get:th};var oh="placeholder";var ah=ii.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]);var ih=function(e){return _e(e,"uiType")};var uh=function(e,t,n,r){if(e.exists((function(e){return e!==n.owner}))){return ah.single(true,w(n))}return Oe(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+ge(r)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(e){return e.replace()}))};var ch=function(e,t,n,r){if(ih(n)&&n.uiType===oh){return uh(e,t,n,r)}else{return ah.single(false,w(n))}};var fh=function(e,t,n,r){var o=ch(e,t,n,r);return o.fold((function(o,a){var i=ih(n)?a(t,n.config,n.validated):a(t);var u=Oe(i,"components").getOr([]);var c=re(u,(function(n){return fh(e,t,n,r)}));return[D(D({},i),{components:c})]}),(function(e,r){if(ih(n)){var o=r(t,n.config,n.validated);var a=n.validated.preprocess.getOr(x);return a(o)}else{return r(t)}}))};var sh=function(e,t,n,r){return re(n,(function(n){return fh(e,t,n,r)}))};var lh=function(e,t){var n=false;var r=function(){return n};var o=function(){if(n){throw new Error("Trying to use the same placeholder more than once: "+e)}n=true;return t};var a=function(){return t.fold((function(e,t){return e}),(function(e,t){return e}))};return{name:w(e),required:a,used:r,replace:o}};var vh=function(e,t,n,r){var o=be(r,(function(e,t){return lh(t,e)}));var a=sh(e,t,n,o);pe(o,(function(n){if(n.used()===false&&n.required()){throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))}}));return a};var dh=ah.single;var mh=ah.multiple;var gh=w(oh);var hh=ii.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]);var ph=Ka("factory",{sketch:x});var bh=Ka("schema",[]);var yh=Da("name");var wh=Oa("pname","pname",To((function(e){return"<alloy."+rc(e.name)+">"})),ia());var xh=_a("schema",(function(){return[Fa("preprocess")]}));var Ch=Ka("defaults",w({}));var Sh=Ka("overrides",w({}));var kh=ea([ph,bh,yh,wh,Ch,Sh]);var Th=ea([ph,bh,yh,Ch,Sh]);var Oh=ea([ph,bh,yh,wh,Ch,Sh]);var _h=ea([ph,xh,yh,Da("unit"),wh,Ch,Sh]);var Eh=function(e){return e.fold(P.some,P.none,P.some,P.some)};var Dh=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)};var Ah=function(e){return e.fold(x,x,x,x)};var Nh=function(e,t){return function(n){var r=Ca("Converting part type",t,n);return e(r)}};var Mh=Nh(hh.required,kh);var Rh=Nh(hh.external,Th);var zh=Nh(hh.optional,Oh);var Bh=Nh(hh.group,_h);var Ph=w("entirety");var Lh=Object.freeze({__proto__:null,required:Mh,external:Rh,optional:zh,group:Bh,asNamedPart:Eh,name:Dh,asCommon:Ah,original:Ph});var Hh=function(e,t,n,r){return Co(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r))};var Ih=function(e,t,n){var r={};var o={};$(n,(function(e){e.fold((function(e){r[e.pname]=dh(true,(function(t,n,r){return e.factory.sketch(Hh(t,e,n,r))}))}),(function(e){var n=t.parts[e.name];o[e.name]=w(e.factory.sketch(Hh(t,e,n[Ph()]),n))}),(function(e){r[e.pname]=dh(false,(function(t,n,r){return e.factory.sketch(Hh(t,e,n,r))}))}),(function(e){r[e.pname]=mh(true,(function(t,n,r){var o=t[e.name];return G(o,(function(n){return e.factory.sketch(Co(e.defaults(t,n,r),n,e.overrides(t,n)))}))}))}))}));return{internals:w(r),externals:w(o)}};var Fh=function(e,t){var n={};$(t,(function(t){Eh(t).each((function(t){var r=Vh(e,t.pname);n[t.name]=function(n){var o=Ca("Part: "+t.name+" in "+e,ea(t.schema),n);return D(D({},r),{config:n,validated:o})}}))}));return n};var Vh=function(e,t){return{uiType:gh(),owner:e,name:t}};var Uh=function(e,t,n){return{uiType:gh(),owner:e,name:t,config:n,validated:{}}};var jh=function(e){return re(e,(function(e){return e.fold(P.none,P.some,P.none,P.none).map((function(e){return La(e.name,e.schema.concat([ds(Ph())]))})).toArray()}))};var Wh=function(e){return G(e,Dh)};var qh=function(e,t,n){return Ih(e,t,n)};var Gh=function(e,t,n){return vh(P.some(e),t,t.components,n)};var $h=function(e,t,n){var r=t.partUids[n];return e.getSystem().getByUid(r).toOptional()};var Kh=function(e,t,n){return $h(e,t,n).getOrDie("Could not find part: "+n)};var Xh=function(e,t,n){var r={};var o=t.partUids;var a=e.getSystem();$(n,(function(e){r[e]=w(a.getByUid(o[e]))}));return r};var Yh=function(e,t){var n=e.getSystem();return be(t.partUids,(function(e,t){return w(n.getByUid(e))}))};var Jh=function(e){return ge(e.partUids)};var Qh=function(e,t,n){var r={};var o=t.partUids;var a=e.getSystem();$(n,(function(e){r[e]=w(a.getByUid(o[e]).getOrDie())}));return r};var Zh=function(e,t){var n=Wh(t);return di(G(n,(function(t){return{key:t,value:e+"-"+t}})))};var ep=function(e){return Oa("partUids","partUids",Eo((function(t){return Zh(t.uid,e)})),ia())};var tp=Object.freeze({__proto__:null,generate:Fh,generateOne:Uh,schemas:jh,names:Wh,substitutes:qh,components:Gh,defaultUids:Zh,defaultUidsSchema:ep,getAllParts:Yh,getAllPartNames:Jh,getPart:$h,getPartOrDie:Kh,getParts:Xh,getPartsOrDie:Qh});var np=function(e,t){var n=e.length>0?[La("parts",e)]:[];return n.concat([Da("uid"),Ka("dom",{}),Ka("components",[]),ds("originalSpec"),Ka("debug.sketcher",{})]).concat(t)};var rp=function(e,t,n,r,o){var a=np(r,o);return Ca(e+" [SpecSchema]",Zo(a.concat(t)),n)};var op=function(e,t,n,r){var o=up(r);var a=rp(e,t,o,[],[]);return n(a,o)};var ap=function(e,t,n,r,o){var a=up(o);var i=jh(n);var u=ep(n);var c=rp(e,t,a,i,[u]);var f=qh(e,c,n);var s=Gh(e,c,f.internals());return r(c,s,a,f.externals())};var ip=function(e){return _e(e,"uid")};var up=function(e){return ip(e)?e:D(D({},e),{uid:lc("uid")})};var cp=function(e){return e.uid!==undefined};var fp=Zo([Da("name"),Da("factory"),Da("configFields"),Ka("apis",{}),Ka("extraApis",{})]);var sp=Zo([Da("name"),Da("factory"),Da("configFields"),Da("partFields"),Ka("apis",{}),Ka("extraApis",{})]);var lp=function(e){var t=Ca("Sketcher for "+e.name,fp,e);var n=function(e){return op(t.name,t.configFields,t.factory,e)};var r=be(t.apis,Cc);var o=be(t.extraApis,(function(e,t){return pc(e,t)}));return D(D({name:t.name,configFields:t.configFields,sketch:n},r),o)};var vp=function(e){var t=Ca("Sketcher for "+e.name,sp,e);var n=function(e){return ap(t.name,t.configFields,t.partFields,t.factory,e)};var r=Fh(t.name,t.partFields);var o=be(t.apis,Cc);var a=be(t.extraApis,(function(e,t){return pc(e,t)}));return D(D({name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:n,parts:r},o),a)};var dp=function(e){return it(e)==="input"&&Vn(e,"type")!=="radio"||it(e)==="textarea"};var mp=function(e,t,n){return t.find(e)};var gp=Object.freeze({__proto__:null,getCurrent:mp});var hp=[Da("find")];var pp=gl({fields:hp,name:"composing",apis:gp});var bp=["input","button","textarea","select"];var yp=function(e,t,n){var r=t.disabled()?_p:Ep;r(e,t)};var wp=function(e,t){return t.useNative===true&&U(bp,it(e.element))};var xp=function(e){return jn(e.element,"disabled")};var Cp=function(e){In(e.element,"disabled","disabled")};var Sp=function(e){Wn(e.element,"disabled")};var kp=function(e){return Vn(e.element,"aria-disabled")==="true"};var Tp=function(e){In(e.element,"aria-disabled","true")};var Op=function(e){In(e.element,"aria-disabled","false")};var _p=function(e,t,n){t.disableClass.each((function(t){af(e.element,t)}));var r=wp(e,t)?Cp:Tp;r(e);t.onDisabled(e)};var Ep=function(e,t,n){t.disableClass.each((function(t){cf(e.element,t)}));var r=wp(e,t)?Sp:Op;r(e);t.onEnabled(e)};var Dp=function(e,t){return wp(e,t)?xp(e):kp(e)};var Ap=function(e,t,n,r){var o=r?_p:Ep;o(e,t)};var Np=Object.freeze({__proto__:null,enable:Ep,disable:_p,isDisabled:Dp,onLoad:yp,set:Ap});var Mp=function(e,t){return Dc({classes:t.disabled()?t.disableClass.toArray():[]})};var Rp=function(e,t){return _u([Eu(eu(),(function(t,n){return Dp(t,e)})),ul(e,t,yp)])};var zp=Object.freeze({__proto__:null,exhibit:Mp,events:Rp});var Bp=[ei("disabled",O),Ka("useNative",true),Fa("disableClass"),cs("onDisabled"),cs("onEnabled")];var Pp=gl({fields:Bp,name:"disabling",active:zp,apis:Np});var Lp=function(e,t,n,r){var o=Kd(e.element,"."+t.highlightClass);$(o,(function(n){if(!j(r,(function(e){return e.element===n}))){cf(n,t.highlightClass);e.getSystem().getByDom(n).each((function(n){t.onDehighlight(e,n);xu(n,wu())}))}}))};var Hp=function(e,t,n){return Lp(e,t,n,[])};var Ip=function(e,t,n,r){if(qp(e,t,n,r)){cf(r.element,t.highlightClass);t.onDehighlight(e,r);xu(r,wu())}};var Fp=function(e,t,n,r){Lp(e,t,n,[r]);if(!qp(e,t,n,r)){af(r.element,t.highlightClass);t.onHighlight(e,r);xu(r,yu())}};var Vp=function(e,t,n){Kp(e,t).each((function(r){Fp(e,t,n,r)}))};var Up=function(e,t,n){Xp(e,t).each((function(r){Fp(e,t,n,r)}))};var jp=function(e,t,n,r){$p(e,t,n,r).fold((function(e){throw e}),(function(r){Fp(e,t,n,r)}))};var Wp=function(e,t,n,r){var o=Zp(e,t);var a=ee(o,r);a.each((function(r){Fp(e,t,n,r)}))};var qp=function(e,t,n,r){return ff(r.element,t.highlightClass)};var Gp=function(e,t,n){return Hf(e.element,"."+t.highlightClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))};var $p=function(e,t,n,r){var o=Kd(e.element,"."+t.itemClass);return P.from(o[r]).fold((function(){return no.error(new Error("No element found with index "+r))}),e.getSystem().getByDom)};var Kp=function(e,t,n){return Hf(e.element,"."+t.itemClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))};var Xp=function(e,t,n){var r=Kd(e.element,"."+t.itemClass);var o=r.length>0?P.some(r[r.length-1]):P.none();return o.bind((function(t){return e.getSystem().getByDom(t).toOptional()}))};var Yp=function(e,t,n,r){var o=Kd(e.element,"."+t.itemClass);var a=te(o,(function(e){return ff(e,t.highlightClass)}));return a.bind((function(t){var n=Es(t,r,0,o.length-1);return e.getSystem().getByDom(o[n]).toOptional()}))};var Jp=function(e,t,n){return Yp(e,t,n,-1)};var Qp=function(e,t,n){return Yp(e,t,n,+1)};var Zp=function(e,t,n){var r=Kd(e.element,"."+t.itemClass);return Ne(G(r,(function(t){return e.getSystem().getByDom(t).toOptional()})))};var eb=Object.freeze({__proto__:null,dehighlightAll:Hp,dehighlight:Ip,highlight:Fp,highlightFirst:Vp,highlightLast:Up,highlightAt:jp,highlightBy:Wp,isHighlighted:qp,getHighlighted:Gp,getFirst:Kp,getLast:Xp,getPrevious:Jp,getNext:Qp,getCandidates:Zp});var tb=[Da("highlightClass"),Da("itemClass"),cs("onHighlight"),cs("onDehighlight")];var nb=gl({fields:tb,name:"highlighting",apis:eb});var rb=[8];var ob=[9];var ab=[13];var ib=[27];var ub=[32];var cb=[37];var fb=[38];var sb=[39];var lb=[40];var vb=function(e,t,n){var r=ae(e.slice(0,t));var o=ae(e.slice(t+1));return ee(r.concat(o),n)};var db=function(e,t,n){var r=ae(e.slice(0,t));return ee(r,n)};var mb=function(e,t,n){var r=e.slice(0,t);var o=e.slice(t+1);return ee(o.concat(r),n)};var gb=function(e,t,n){var r=e.slice(t+1);return ee(r,n)};var hb=function(e){return function(t){var n=t.raw;return U(e,n.which)}};var pb=function(e){return function(t){return oe(e,(function(e){return e(t)}))}};var bb=function(e){var t=e.raw;return t.shiftKey===true};var yb=function(e){var t=e.raw;return t.ctrlKey===true};var wb=k(bb);var xb=function(e,t){return{matches:e,classification:t}};var Cb=function(e,t){var n=ee(e,(function(e){return e.matches(t)}));return n.map((function(e){return e.classification}))};var Sb=function(e,t,n){var r=t.exists((function(e){return n.exists((function(t){return cn(t,e)}))}));if(!r){Cu(e,gu(),{prevFocus:t,newFocus:n})}};var kb=function(){var e=function(e){return _l(e.element)};var t=function(t,n){var r=e(t);t.getSystem().triggerFocus(n,t.element);var o=e(t);Sb(t,r,o)};return{get:e,set:t}};var Tb=function(){var e=function(e){return nb.getHighlighted(e).map((function(e){return e.element}))};var t=function(t,n){var r=e(t);t.getSystem().getByDom(n).fold(h,(function(e){nb.highlight(t,e)}));var o=e(t);Sb(t,r,o)};return{get:e,set:t}};var Ob;(function(e){e["OnFocusMode"]="onFocus";e["OnEnterOrSpaceMode"]="onEnterOrSpace";e["OnApiMode"]="onApi"})(Ob||(Ob={}));var _b=function(e,t,n,r,o){var a=function(){return e.concat([Ka("focusManager",kb()),Xa("focusInside","onFocus",pa((function(e){return U(["onFocus","onEnterOrSpace","onApi"],e)?no.value(e):no.error("Invalid value for focusInside")}))),vs("handler",c),vs("state",t),vs("sendFocusIn",o)])};var i=function(e,t,n,r,o){var a=n(e,t,r,o);return Cb(a,t.event).bind((function(n){return n(e,t,r,o)}))};var u=function(e,t){var a=e.focusInside!==Ob.OnFocusMode?P.none():o(e).map((function(n){return Nu(Yi(),(function(r,o){n(r,e,t);o.stop()}))}));var u=function(n,r){var a=hb(ub.concat(ab))(r.event);if(e.focusInside===Ob.OnEnterOrSpaceMode&&a&&wi(n,r)){o(e).each((function(o){o(n,e,t);r.stop()}))}};var c=[Nu(Ii(),(function(r,o){i(r,o,n,e,t).fold((function(){u(r,o)}),(function(e){o.stop()}))})),Nu(Fi(),(function(n,o){i(n,o,r,e,t).each((function(e){o.stop()}))}))];return _u(a.toArray().concat(c))};var c={schema:a,processKey:i,toEvents:u};return c};var Eb=function(e){var t=[Fa("onEscape"),Fa("onEnter"),Ka("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ka("firstTabstop",0),Ka("useTabstopAt",_),Fa("visibilitySelector")].concat([e]);var n=function(e,t){var n=e.visibilitySelector.bind((function(e){return If(t,e)})).getOr(t);return ar(n)>0};var r=function(e,t){var r=Kd(e.element,t.selector);var o=Y(r,(function(e){return n(t,e)}));return P.from(o[t.firstTabstop])};var o=function(e,t){return t.focusManager.get(e).bind((function(e){return If(e,t.selector)}))};var a=function(e,t){return n(e,t)&&e.useTabstopAt(t)};var i=function(e,t,n){r(e,t).each((function(n){t.focusManager.set(e,n)}))};var u=function(e,t,n,r,o){return o(t,n,(function(e){return a(r,e)})).fold((function(){return r.cyclic?P.some(true):P.none()}),(function(t){r.focusManager.set(e,t);return P.some(true)}))};var c=function(e,t,n,r){var a=Kd(e.element,n.selector);return o(e,n).bind((function(t){var o=te(a,S(cn,t));return o.bind((function(t){return u(e,a,t,n,r)}))}))};var f=function(e,t,n){var r=n.cyclic?vb:db;return c(e,t,n,r)};var s=function(e,t,n){var r=n.cyclic?mb:gb;return c(e,t,n,r)};var l=function(e,t,n){return n.onEnter.bind((function(n){return n(e,t)}))};var v=function(e,t,n){return n.onEscape.bind((function(n){return n(e,t)}))};var d=w([xb(pb([bb,hb(ob)]),f),xb(hb(ob),s),xb(hb(ib),v),xb(pb([wb,hb(ab)]),l)]);var m=w([]);return _b(t,Sc.init,d,m,(function(){return P.some(i)}))};var Db=Eb(_a("cyclic",O));var Ab=Eb(_a("cyclic",_));var Nb=function(e,t,n){ku(e,n,eu());return P.some(true)};var Mb=function(e,t,n){var r=dp(n)&&hb(ub)(t.event);return r?P.none():Nb(e,t,n)};var Rb=function(e,t){return P.some(true)};var zb=[Ka("execute",Mb),Ka("useSpace",false),Ka("useEnter",true),Ka("useControlEnter",false),Ka("useDown",false)];var Bb=function(e,t,n){return n.execute(e,t,e.element)};var Pb=function(e,t,n,r){var o=n.useSpace&&!dp(e.element)?ub:[];var a=n.useEnter?ab:[];var i=n.useDown?lb:[];var u=o.concat(a).concat(i);return[xb(hb(u),Bb)].concat(n.useControlEnter?[xb(pb([yb,hb(ab)]),Bb)]:[])};var Lb=function(e,t,n,r){return n.useSpace&&!dp(e.element)?[xb(hb(ub),Rb)]:[]};var Hb=_b(zb,Sc.init,Pb,Lb,(function(){return P.none()}));var Ib=function(){var e=rv();var t=function(t,n){e.set({numRows:t,numColumns:n})};var n=function(){return e.get().map((function(e){return e.numRows}))};var r=function(){return e.get().map((function(e){return e.numColumns}))};return kc({readState:function(){return e.get().map((function(e){return{numRows:String(e.numRows),numColumns:String(e.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:t,getNumRows:n,getNumColumns:r})};var Fb=function(e){return e.state(e)};var Vb=Object.freeze({__proto__:null,flatgrid:Ib,init:Fb});var Ub=function(e){return function(t,n,r,o){var a=e(t.element);return Gb(a,t,n,r,o)}};var jb=function(e,t){var n=zv(e,t);return Ub(n)};var Wb=function(e,t){var n=zv(t,e);return Ub(n)};var qb=function(e){return function(t,n,r,o){return Gb(e,t,n,r,o)}};var Gb=function(e,t,n,r,o){var a=r.focusManager.get(t).bind((function(n){return e(t.element,n,r,o)}));return a.map((function(e){r.focusManager.set(t,e);return true}))};var $b=qb;var Kb=qb;var Xb=qb;var Yb=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0};var Jb=function(e){return!Yb(e.dom)};var Qb=function(e,t){return te(e,t).map((function(t){return{index:t,candidates:e}}))};var Zb=function(e,t,n){var r=function(e){return cn(e,t)};var o=Kd(e,n);var a=Y(o,Jb);return Qb(a,r)};var ey=function(e,t){return te(e,(function(e){return cn(t,e)}))};var ty=function(e,t,n,r){var o=Math.floor(t/n);var a=t%n;return r(o,a).bind((function(t){var r=t.row*n+t.column;return r>=0&&r<e.length?P.some(e[r]):P.none()}))};var ny=function(e,t,n,r,o){return ty(e,t,r,(function(t,a){var i=t===n-1;var u=i?e.length-t*r:r;var c=Es(a,o,0,u-1);return P.some({row:t,column:c})}))};var ry=function(e,t,n,r,o){return ty(e,t,r,(function(t,a){var i=Es(t,o,0,n-1);var u=i===n-1;var c=u?e.length-i*r:r;var f=Ds(a,0,c-1);return P.some({row:i,column:f})}))};var oy=function(e,t,n,r){return ny(e,t,n,r,+1)};var ay=function(e,t,n,r){return ny(e,t,n,r,-1)};var iy=function(e,t,n,r){return ry(e,t,n,r,-1)};var uy=function(e,t,n,r){return ry(e,t,n,r,+1)};var cy=[Da("selector"),Ka("execute",Mb),fs("onEscape"),Ka("captureTab",false),ms()];var fy=function(e,t,n){Hf(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))};var sy=function(e,t){return t.focusManager.get(e).bind((function(e){return If(e,t.selector)}))};var ly=function(e,t,n,r){return sy(e,n).bind((function(r){return n.execute(e,t,r)}))};var vy=function(e){return function(t,n,r,o){return Zb(t,n,r.selector).bind((function(t){return e(t.candidates,t.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}};var dy=function(e,t,n){return n.captureTab?P.some(true):P.none()};var my=function(e,t,n){return n.onEscape(e,t)};var gy=vy(ay);var hy=vy(oy);var py=vy(iy);var by=vy(uy);var yy=w([xb(hb(cb),jb(gy,hy)),xb(hb(sb),Wb(gy,hy)),xb(hb(fb),$b(py)),xb(hb(lb),Kb(by)),xb(pb([bb,hb(ob)]),dy),xb(pb([wb,hb(ob)]),dy),xb(hb(ib),my),xb(hb(ub.concat(ab)),ly)]);var wy=w([xb(hb(ub),Rb)]);var xy=_b(cy,Ib,yy,wy,(function(){return P.some(fy)}));var Cy=function(e,t,n,r){var o=function(e){return it(e)==="button"&&Vn(e,"disabled")==="disabled"};var a=function(e,t,n){var i=Es(t,r,0,n.length-1);if(i===e){return P.none()}else{return o(n[i])?a(e,i,n):P.from(n[i])}};return Zb(e,n,t).bind((function(e){var t=e.index;var n=e.candidates;return a(t,t,n)}))};var Sy=[Da("selector"),Ka("getInitial",P.none),Ka("execute",Mb),fs("onEscape"),Ka("executeOnMove",false),Ka("allowVertical",true)];var ky=function(e,t){return t.focusManager.get(e).bind((function(e){return If(e,t.selector)}))};var Ty=function(e,t,n){return ky(e,n).bind((function(r){return n.execute(e,t,r)}))};var Oy=function(e,t,n){t.getInitial(e).orThunk((function(){return Hf(e.element,t.selector)})).each((function(n){t.focusManager.set(e,n)}))};var _y=function(e,t,n){return Cy(e,n.selector,t,-1)};var Ey=function(e,t,n){return Cy(e,n.selector,t,+1)};var Dy=function(e){return function(t,n,r,o){return e(t,n,r,o).bind((function(){return r.executeOnMove?Ty(t,n,r):P.some(true)}))}};var Ay=function(e,t,n){return n.onEscape(e,t)};var Ny=function(e,t,n,r){var o=cb.concat(n.allowVertical?fb:[]);var a=sb.concat(n.allowVertical?lb:[]);return[xb(hb(o),Dy(jb(_y,Ey))),xb(hb(a),Dy(Wb(_y,Ey))),xb(hb(ab),Ty),xb(hb(ub),Ty),xb(hb(ib),Ay)]};var My=w([xb(hb(ub),Rb)]);var Ry=_b(Sy,Sc.init,Ny,My,(function(){return P.some(Oy)}));var zy=function(e,t,n){return P.from(e[t]).bind((function(e){return P.from(e[n]).map((function(e){return{rowIndex:t,columnIndex:n,cell:e}}))}))};var By=function(e,t,n,r){var o=e[t];var a=o.length;var i=Es(n,r,0,a-1);return zy(e,t,i)};var Py=function(e,t,n,r){var o=Es(n,r,0,e.length-1);var a=e[o].length;var i=Ds(t,0,a-1);return zy(e,o,i)};var Ly=function(e,t,n,r){var o=e[t];var a=o.length;var i=Ds(n+r,0,a-1);return zy(e,t,i)};var Hy=function(e,t,n,r){var o=Ds(n+r,0,e.length-1);var a=e[o].length;var i=Ds(t,0,a-1);return zy(e,o,i)};var Iy=function(e,t,n){return By(e,t,n,+1)};var Fy=function(e,t,n){return By(e,t,n,-1)};var Vy=function(e,t,n){return Py(e,n,t,-1)};var Uy=function(e,t,n){return Py(e,n,t,+1)};var jy=function(e,t,n){return Ly(e,t,n,-1)};var Wy=function(e,t,n){return Ly(e,t,n,+1)};var qy=function(e,t,n){return Hy(e,n,t,-1)};var Gy=function(e,t,n){return Hy(e,n,t,+1)};var $y=[La("selectors",[Da("row"),Da("cell")]),Ka("cycles",true),Ka("previousSelector",P.none),Ka("execute",Mb)];var Ky=function(e,t,n){var r=t.previousSelector(e).orThunk((function(){var n=t.selectors;return Hf(e.element,n.cell)}));r.each((function(n){t.focusManager.set(e,n)}))};var Xy=function(e,t,n){return _l(e.element).bind((function(r){return n.execute(e,t,r)}))};var Yy=function(e,t){return G(e,(function(e){return Kd(e,t.selectors.cell)}))};var Jy=function(e,t){return function(n,r,o){var a=o.cycles?e:t;return If(r,o.selectors.row).bind((function(e){var t=Kd(e,o.selectors.cell);return ey(t,r).bind((function(t){var r=Kd(n,o.selectors.row);return ey(r,e).bind((function(e){var n=Yy(r,o);return a(n,e,t).map((function(e){return e.cell}))}))}))}))}};var Qy=Jy(Fy,jy);var Zy=Jy(Iy,Wy);var ew=Jy(Vy,qy);var tw=Jy(Uy,Gy);var nw=w([xb(hb(cb),jb(Qy,Zy)),xb(hb(sb),Wb(Qy,Zy)),xb(hb(fb),$b(ew)),xb(hb(lb),Kb(tw)),xb(hb(ub.concat(ab)),Xy)]);var rw=w([xb(hb(ub),Rb)]);var ow=_b($y,Sc.init,nw,rw,(function(){return P.some(Ky)}));var aw=[Da("selector"),Ka("execute",Mb),Ka("moveOnTab",false)];var iw=function(e,t,n){return n.focusManager.get(e).bind((function(r){return n.execute(e,t,r)}))};var uw=function(e,t,n){Hf(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))};var cw=function(e,t,n){return Cy(e,n.selector,t,-1)};var fw=function(e,t,n){return Cy(e,n.selector,t,+1)};var sw=function(e,t,n,r){return n.moveOnTab?Xb(cw)(e,t,n,r):P.none()};var lw=function(e,t,n,r){return n.moveOnTab?Xb(fw)(e,t,n,r):P.none()};var vw=w([xb(hb(fb),Xb(cw)),xb(hb(lb),Xb(fw)),xb(pb([bb,hb(ob)]),sw),xb(pb([wb,hb(ob)]),lw),xb(hb(ab),iw),xb(hb(ub),iw)]);var dw=w([xb(hb(ub),Rb)]);var mw=_b(aw,Sc.init,vw,dw,(function(){return P.some(uw)}));var gw=[fs("onSpace"),fs("onEnter"),fs("onShiftEnter"),fs("onLeft"),fs("onRight"),fs("onTab"),fs("onShiftTab"),fs("onUp"),fs("onDown"),fs("onEscape"),Ka("stopSpaceKeyup",false),Fa("focusIn")];var hw=function(e,t,n){return[xb(hb(ub),n.onSpace),xb(pb([wb,hb(ab)]),n.onEnter),xb(pb([bb,hb(ab)]),n.onShiftEnter),xb(pb([bb,hb(ob)]),n.onShiftTab),xb(pb([wb,hb(ob)]),n.onTab),xb(hb(fb),n.onUp),xb(hb(lb),n.onDown),xb(hb(cb),n.onLeft),xb(hb(sb),n.onRight),xb(hb(ub),n.onSpace),xb(hb(ib),n.onEscape)]};var pw=function(e,t,n){return n.stopSpaceKeyup?[xb(hb(ub),Rb)]:[]};var bw=_b(gw,Sc.init,hw,pw,(function(e){return e.focusIn}));var yw=Db.schema();var ww=Ab.schema();var xw=Ry.schema();var Cw=xy.schema();var Sw=ow.schema();var kw=Hb.schema();var Tw=mw.schema();var Ow=bw.schema();var _w=Object.freeze({__proto__:null,acyclic:yw,cyclic:ww,flow:xw,flatgrid:Cw,matrix:Sw,execution:kw,menu:Tw,special:Ow});var Ew=function(e){return Ee(e,"setGridSize")};var Dw=pl({branchKey:"mode",branches:_w,name:"keying",active:{events:function(e,t){var n=e.handler;return n.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold((function(){e.getSystem().triggerFocus(e.element,e.element)}),(function(r){r(e,t,n)}))},setGridSize:function(e,t,n,r,o){if(!Ew(n)){console.error("Layout does not support setGridSize")}else{n.setGridSize(r,o)}}},state:Vb});var Aw=function(e,t,n,r){El((function(){var t=G(r,e.getSystem().build);Um(e,t)}),e.element)};var Nw=function(e,t,n,r){var o=e.getSystem().build(r);Wm(e,o,n)};var Mw=function(e,t,n,r){Nw(e,t,Dr,r)};var Rw=function(e,t,n,r){Nw(e,t,Er,r)};var zw=function(e,t,n,r){var o=Bw(e);var a=ee(o,(function(e){return cn(r.element,e.element)}));a.each(Gm)};var Bw=function(e,t){return e.components()};var Pw=function(e,t,n,r,o){var a=Bw(e);return P.from(a[r]).map((function(a){zw(e,t,n,a);o.each((function(n){Nw(e,t,(function(e,t){Ar(e,t,r)}),n)}));return a}))};var Lw=function(e,t,n,r,o){var a=Bw(e);return te(a,r).bind((function(r){return Pw(e,t,n,r,o)}))};var Hw=Object.freeze({__proto__:null,append:Mw,prepend:Rw,remove:zw,replaceAt:Pw,replaceBy:Lw,set:Aw,contents:Bw});var Iw=gl({fields:[],name:"replacing",apis:Hw});var Fw=function(e,t){var n=_u(t);return gl({fields:[Da("enabled")],name:e,active:{events:w(n)}})};var Vw=function(e,t){var n=Fw(e,t);return{key:e,value:{config:{},me:n,configAsRaw:w({}),initialConfig:{},state:Sc}}};var Uw=function(e,t){if(!t.ignore){Sl(e.element);t.onFocus(e)}};var jw=function(e,t){if(!t.ignore){kl(e.element)}};var Ww=function(e){return Tl(e.element)};var qw=Object.freeze({__proto__:null,focus:Uw,blur:jw,isFocused:Ww});var Gw=function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return Dc(n)};var $w=function(e){return _u([Nu(Yi(),(function(t,n){Uw(t,e);n.stop()}))].concat(e.stopMousedown?[Nu(Mi(),(function(e,t){t.event.prevent()}))]:[]))};var Kw=Object.freeze({__proto__:null,exhibit:Gw,events:$w});var Xw=[cs("onFocus"),Ka("stopMousedown",false),Ka("ignore",false)];var Yw=gl({fields:Xw,name:"focusing",active:Kw,apis:qw});var Jw=function(e){var t=function(){var t=oi(e);var n=function(){return t.get()};var r=function(e){return t.set(e)};var o=function(){return t.set(e)};var a=function(){return t.get()};return{get:n,set:r,clear:o,readState:a}};return{init:t}};var Qw=function(e,t,n){var r=t.aria;r.update(e,r,n.get())};var Zw=function(e,t,n){t.toggleClass.each((function(t){if(n.get()){af(e.element,t)}else{cf(e.element,t)}}))};var ex=function(e,t,n){rx(e,t,n,!n.get())};var tx=function(e,t,n){n.set(true);Zw(e,t,n);Qw(e,t,n)};var nx=function(e,t,n){n.set(false);Zw(e,t,n);Qw(e,t,n)};var rx=function(e,t,n,r){var o=r?tx:nx;o(e,t,n)};var ox=function(e,t,n){return n.get()};var ax=function(e,t,n){rx(e,t,n,t.selected)};var ix=Object.freeze({__proto__:null,onLoad:ax,toggle:ex,isOn:ox,on:tx,off:nx,set:rx});var ux=function(){return Dc({})};var cx=function(e,t){var n=il(e,t,ex);var r=ul(e,t,ax);return _u(ne([e.toggleOnExecute?[n]:[],[r]]))};var fx=Object.freeze({__proto__:null,exhibit:ux,events:cx});var sx=function(e,t,n){In(e.element,"aria-pressed",n);if(t.syncWithExpanded){dx(e,t,n)}};var lx=function(e,t,n){In(e.element,"aria-selected",n)};var vx=function(e,t,n){In(e.element,"aria-checked",n)};var dx=function(e,t,n){In(e.element,"aria-expanded",n)};var mx=[Ka("selected",false),Fa("toggleClass"),Ka("toggleOnExecute",true),Xa("aria",{mode:"none"},ka("mode",{pressed:[Ka("syncWithExpanded",false),vs("update",sx)],checked:[vs("update",vx)],expanded:[vs("update",dx)],selected:[vs("update",lx)],none:[vs("update",h)]}))];var gx=gl({fields:mx,name:"toggling",active:fx,apis:ix,state:Jw(false)});var hx=function(){var e=function(e,t){t.stop();Su(e)};return[Nu(ji(),e),Nu(nu(),e),Hu(Ei()),Hu(Mi())]};var px=function(e){var t=function(e){return Wu((function(t,n){e(t);n.stop()}))};return _u(ne([e.map(t).toArray(),hx()]))};var bx="alloy.item-hover";var yx="alloy.item-focus";var wx=function(e){if(_l(e.element).isNone()||Yw.isFocused(e)){if(!Yw.isFocused(e)){Yw.focus(e)}Cu(e,bx,{item:e})}};var xx=function(e){Cu(e,yx,{item:e})};var Cx=w(bx);var Sx=w(yx);var kx=function(e){return{dom:e.dom,domModification:D(D({},e.domModification),{attributes:D(D(D({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":false}:{})}),behaviours:rh.augment(e.itemBehaviours,[e.toggling.fold(gx.revoke,(function(e){return gx.config(D({aria:{mode:"checked"}},e))})),Yw.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){xx(e)}}),Dw.config({mode:"execution"}),Zg.config({store:{mode:"memory",initialValue:e.data}}),Vw("item-type-events",N(N([],hx(),true),[Nu(Pi(),wx),Nu(tu(),Yw.focus)],false))]),components:e.components,eventOrder:e.eventOrder}};var Tx=[Da("data"),Da("components"),Da("dom"),Ka("hasSubmenu",false),Fa("toggling"),rh.field("itemBehaviours",[gx,Yw,Dw,Zg]),Ka("ignoreFocus",false),Ka("domModification",{}),vs("builder",kx),Ka("eventOrder",{})];var Ox=function(e){return{dom:e.dom,components:e.components,events:_u([Iu(tu())])}};var _x=[Da("dom"),Da("components"),vs("builder",Ox)];var Ex=w("item-widget");var Dx=w([Mh({name:"widget",overrides:function(e){return{behaviours:dl([Zg.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:h}})])}}})]);var Ax=function(e){var t=qh(Ex(),e,Dx());var n=Gh(Ex(),e,t.internals());var r=function(t){return $h(t,e,"widget").map((function(e){Dw.focusIn(e);return e}))};var o=function(t,n){return dp(n.event.target)?P.none():function(){if(e.autofocus){n.setSource(t.element);return P.none()}else{return P.none()}}()};return{dom:e.dom,components:n,domModification:e.domModification,events:_u([Wu((function(e,t){r(e).each((function(e){t.stop()}))})),Nu(Pi(),wx),Nu(tu(),(function(t,n){if(e.autofocus){r(t)}else{Yw.focus(t)}}))]),behaviours:rh.augment(e.widgetBehaviours,[Zg.config({store:{mode:"memory",initialValue:e.data}}),Yw.config({ignore:e.ignoreFocus,onFocus:function(e){xx(e)}}),Dw.config({mode:"special",focusIn:e.autofocus?function(e){r(e)}:bl(),onLeft:o,onRight:o,onEscape:function(t,n){if(!Yw.isFocused(t)&&!e.autofocus){Yw.focus(t);return P.some(true)}else if(e.autofocus){n.setSource(t.element);return P.none()}else{return P.none()}}})])}};var Nx=[Da("uid"),Da("data"),Da("components"),Da("dom"),Ka("autofocus",false),Ka("ignoreFocus",false),rh.field("widgetBehaviours",[Zg,Yw,Dw]),Ka("domModification",{}),ep(Dx()),vs("builder",Ax)];var Mx=ka("type",{widget:Nx,item:Tx,separator:_x});var Rx=function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}};var zx=function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}};var Bx=function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}};var Px=w([Bh({factory:{sketch:function(e){var t=Ca("menu.spec item",Mx,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return _e(t,"uid")?t:D(D({},t),{uid:lc("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]);var Lx=w([Da("value"),Da("items"),Da("dom"),Da("components"),Ka("eventOrder",{}),eh("menuBehaviours",[nb,Zg,pp,Dw]),Xa("movement",{mode:"menu",moveOnTab:true},ka("mode",{grid:[ms(),vs("config",Rx)],matrix:[vs("config",zx),Da("rowSelector")],menu:[Ka("moveOnTab",true),vs("config",Bx)]})),os(),Ka("fakeFocus",false),Ka("focusManager",kb()),cs("onHighlight")]);var Hx=w("alloy.menu-focus");var Ix=function(e,t,n,r){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:nh(e.menuBehaviours,[nb.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),Zg.config({store:{mode:"memory",initialValue:e.value}}),pp.config({find:P.some}),Dw.config(e.movement.config(e,e.movement))]),events:_u([Nu(Sx(),(function(e,t){var n=t.event;e.getSystem().getByDom(n.target).each((function(n){nb.highlight(e,n);t.stop();Cu(e,Hx(),{menu:e,item:n})}))})),Nu(Cx(),(function(e,t){var n=t.event.item;nb.highlight(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}};var Fx=vp({name:"Menu",configFields:Lx(),partFields:Px(),factory:Ix});var Vx=function(e){return ye(e,(function(e,t){return{k:e,v:t}}))};var Ux=function(e,t,n,r){return Oe(n,r).bind((function(r){return Oe(e,r).bind((function(r){var o=Ux(e,t,n,r);return P.some([r].concat(o))}))})).getOr([])};var jx=function(e,t){var n={};pe(e,(function(e,t){$(e,(function(e){n[e]=t}))}));var r=t;var o=Vx(t);var a=be(o,(function(e,t){return[t].concat(Ux(n,r,o,t))}));return be(n,(function(e){return Oe(a,e).getOr([e])}))};var Wx=function(){var e=oi({});var t=oi({});var n=oi({});var r=rv();var o=oi({});var a=function(){e.set({});t.set({});n.set({});r.clear()};var i=function(){return r.get().isNone()};var u=function(e,n){var r;t.set(D(D({},t.get()),(r={},r[e]={type:"prepared",menu:n},r)))};var c=function(a,i,u,c){r.set(a);e.set(u);t.set(i);o.set(c);var f=jx(c,u);n.set(f)};var f=function(t){return ke(e.get(),(function(e,n){return e===t}))};var s=function(e,t,n){return g(e).bind((function(r){return f(e).bind((function(e){return t(e).map((function(e){return{triggeredMenu:r,triggeringItem:e,triggeringPath:n}}))}))}))};var l=function(e,t){var o=Y(p(e).toArray(),(function(e){return g(e).isSome()}));return Oe(n.get(),e).bind((function(e){var n=ae(o.concat(e));var a=re(n,(function(e,o){return s(e,t,n.slice(0,o+1)).fold((function(){return De(r.get(),e)?[]:[P.none()]}),(function(e){return[P.some(e)]}))}));return Me(a)}))};var v=function(t){return Oe(e.get(),t).map((function(e){var r=Oe(n.get(),t).getOr([]);return[e].concat(r)}))};var d=function(e){return Oe(n.get(),e).bind((function(e){return e.length>1?P.some(e.slice(1)):P.none()}))};var m=function(e){return Oe(n.get(),e)};var g=function(e){return h(e).bind(qx)};var h=function(e){return Oe(t.get(),e)};var p=function(t){return Oe(e.get(),t)};var b=function(e){var t=o.get();return ie(ge(t),e)};var y=function(){return r.get().bind(g)};var w=function(){return t.get()};return{setMenuBuilt:u,setContents:c,expand:v,refresh:m,collapse:d,lookupMenu:h,lookupItem:p,otherMenus:b,getPrimary:y,getMenus:w,clear:a,isClear:i,getTriggeringPath:l}};var qx=function(e){return e.type==="prepared"?P.some(e.menu):P.none()};var Gx={init:Wx,extractPreparedMenu:qx};var $x=function(e,t){var n=rv();var r=function(t,n,r){return be(r,(function(r,o){var a=function(){return Fx.sketch(D(D({},r),{value:o,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?Tb():kb()}))};return o===n?{type:"prepared",menu:t.getSystem().build(a())}:{type:"notbuilt",nbMenu:a}}))};var o=Gx.init();var a=function(t){var n=r(t,e.data.primary,e.data.menus);var a=c();o.setContents(e.data.primary,n,e.data.expansions,a);return o.getPrimary()};var i=function(e){return Zg.getValue(e).value};var u=function(e,t,n){return me(t,(function(e){if(!e.getSystem().isConnected()){return P.none()}var t=nb.getCandidates(e);return ee(t,(function(e){return i(e)===n}))}))};var c=function(t){return be(e.data.menus,(function(e,t){return re(e.items,(function(e){return e.type==="separator"?[]:[e.data.value]}))}))};var f=function(e,t){nb.highlight(e,t);nb.getHighlighted(t).orThunk((function(){return nb.getFirst(t)})).each((function(t){ku(e,t.element,tu())}))};var s=function(e,t){return Ne(G(t,(function(t){return e.lookupMenu(t).bind((function(e){return e.type==="prepared"?P.some(e.menu):P.none()}))})))};var l=function(t,n,r){var o=s(n,n.otherMenus(r));$(o,(function(n){lf(n.element,[e.markers.backgroundMenu]);if(!e.stayInDom){Iw.remove(t,n)}}))};var v=function(t){return n.get().getOrThunk((function(){var r={};var o=Kd(t.element,"."+e.markers.item);var a=Y(o,(function(e){return Vn(e,"aria-haspopup")==="true"}));$(a,(function(e){t.getSystem().getByDom(e).each((function(e){var t=i(e);r[t]=e}))}));n.set(r);return r}))};var d=function(e,t){var n=v(e);pe(n,(function(e,n){var r=U(t,n);In(e.element,"aria-expanded",r)}))};var m=function(t,n,r){return P.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if(o.type==="notbuilt"){return P.none()}else{var a=o.menu;var i=s(n,r.slice(1));$(i,(function(t){af(t.element,e.markers.backgroundMenu)}));if(!Bn(a.element)){Iw.append(t,Df(a))}lf(a.element,[e.markers.backgroundMenu]);f(t,a);l(t,n,r);return P.some(a)}}))}))};var g;(function(e){e[e["HighlightSubmenu"]=0]="HighlightSubmenu";e[e["HighlightParent"]=1]="HighlightParent"})(g||(g={}));var p=function(e,t,n){if(n.type==="notbuilt"){var r=e.getSystem().build(n.nbMenu());o.setMenuBuilt(t,r);return r}else{return n.menu}};var b=function(t,n,r){if(r===void 0){r=g.HighlightSubmenu}if(n.hasConfigured(Pp)&&Pp.isDisabled(n)){return P.some(n)}else{var a=i(n);return o.expand(a).bind((function(a){d(t,a);return P.from(a[0]).bind((function(i){return o.lookupMenu(i).bind((function(u){var c=p(t,i,u);if(!Bn(c.element)){Iw.append(t,Df(c))}e.onOpenSubmenu(t,n,c,ae(a));if(r===g.HighlightSubmenu){nb.highlightFirst(c);return m(t,o,a)}else{nb.dehighlightAll(c);return P.some(n)}}))}))}))}};var y=function(t,n){var r=i(n);return o.collapse(r).bind((function(r){d(t,r);return m(t,o,r).map((function(r){e.onCollapseMenu(t,n,r);return r}))}))};var w=function(e,t){var n=i(t);return o.refresh(n).bind((function(t){d(e,t);return m(e,o,t)}))};var x=function(e,t){return dp(t.element)?P.none():b(e,t,g.HighlightSubmenu)};var C=function(e,t){return dp(t.element)?P.none():y(e,t)};var S=function(t,n){return y(t,n).orThunk((function(){return e.onEscape(t,n).map((function(){return t}))}))};var k=function(t){return function(n,r){return If(r.getSource(),"."+e.markers.item).bind((function(e){return n.getSystem().getByDom(e).toOptional().bind((function(e){return t(n,e).map(_)}))}))}};var T=_u([Nu(Hx(),(function(e,t){var n=t.event.item;o.lookupItem(i(n)).each((function(){var n=t.event.menu;nb.highlight(e,n);var r=i(t.event.item);o.refresh(r).each((function(t){return l(e,o,t)}))}))})),Wu((function(t,n){var r=n.event.target;t.getSystem().getByDom(r).each((function(n){var r=i(n);if(r.indexOf("collapse-item")===0){y(t,n)}b(t,n,g.HighlightSubmenu).fold((function(){e.onExecute(t,n)}),h)}))})),Vu((function(t,n){a(t).each((function(n){Iw.append(t,Df(n));e.onOpenMenu(t,n);if(e.highlightImmediately){f(t,n)}}))}))].concat(e.navigateOnHover?[Nu(Cx(),(function(t,n){var r=n.event.item;w(t,r);b(t,r,g.HighlightParent);e.onHover(t,r)}))]:[]));var O=function(e){return nb.getHighlighted(e).bind(nb.getHighlighted)};var E=function(e){O(e).each((function(t){y(e,t)}))};var A=function(e){o.getPrimary().each((function(t){f(e,t)}))};var N=function(e){return P.from(e.components()[0]).filter((function(e){return Vn(e.element,"role")==="menu"}))};var M=function(t){var n=o.getPrimary().bind((function(e){return O(t).bind((function(e){var n=i(e);var r=Te(o.getMenus());var a=Ne(G(r,Gx.extractPreparedMenu));return o.getTriggeringPath(n,(function(e){return u(t,a,e)}))})).map((function(t){return{primary:e,triggeringPath:t}}))}));n.fold((function(){N(t).each((function(n){e.onRepositionMenu(t,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath;e.onRepositionMenu(t,r,o)}))};var R={collapseMenu:E,highlightPrimary:A,repositionMenus:M};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:nh(e.tmenuBehaviours,[Dw.config({mode:"special",onRight:k(x),onLeft:k(C),onEscape:k(S),focusIn:function(e,t){o.getPrimary().each((function(t){ku(e,t.element,tu())}))}}),nb.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),pp.config({find:function(e){return nb.getHighlighted(e)}}),Iw.config({})]),eventOrder:e.eventOrder,apis:R,events:T}};var Kx=w("collapse-item");var Xx=function(e,t,n){return{primary:e,menus:t,expansions:n}};var Yx=function(e,t){return{primary:e,menus:vi(e,t),expansions:{}}};var Jx=function(e){return{value:rc(Kx()),meta:{text:e}}};var Qx=lp({name:"TieredMenu",configFields:[ls("onExecute"),ls("onEscape"),ss("onOpenMenu"),ss("onOpenSubmenu"),cs("onRepositionMenu"),cs("onCollapseMenu"),Ka("highlightImmediately",true),La("data",[Da("primary"),Da("menus"),Da("expansions")]),Ka("fakeFocus",false),cs("onHighlight"),cs("onHover"),as(),Da("dom"),Ka("navigateOnHover",true),Ka("stayInDom",false),eh("tmenuBehaviours",[Dw,nb,pp,Iw]),Ka("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:$x,extraApis:{tieredData:Xx,singleData:Yx,collapseItem:Jx}});var Zx=function(e,t,n,r,o){var a=function(){return e.lazySink(t)};var i=r.type==="horizontal"?{layouts:{onLtr:function(){return el()},onRtl:function(){return tl()}}}:{};var u=function(e){return e.length===2};var c=function(e){return u(e)?i:{}};return Qx.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){pg.close(t);e.onEscape.map((function(e){return e(t)}));return P.some(true)},onExecute:function(){return P.some(true)},onOpenMenu:function(e,t){Lm.positionWithinBounds(a().getOrDie(),t,n,o())},onOpenSubmenu:function(e,t,n,r){var o=a().getOrDie();Lm.position(o,n,{anchor:D({type:"submenu",item:t},c(r))})},onRepositionMenu:function(e,t,r){var i=a().getOrDie();Lm.positionWithinBounds(i,t,n,o());$(r,(function(e){var t=c(e.triggeringPath);Lm.position(i,e.triggeredMenu,{anchor:D({type:"submenu",item:e.triggeringItem},t)})}))}})};var eC=function(e,t){var n=function(t,n){var r=e.getRelated(t);return r.exists((function(e){return jf(e,n)}))};var r=function(e,t){pg.setContent(e,t)};var o=function(e,t,n){a(e,t,n,P.none())};var a=function(e,t,n,r){i(e,t,n,(function(){return r.map((function(e){return Yr(e)}))}))};var i=function(t,n,r,o){var a=e.lazySink(t).getOrDie();pg.openWhileCloaked(t,n,(function(){return Lm.positionWithinBounds(a,t,r,o())}));Zg.setValue(t,P.some({mode:"position",config:r,getBounds:o}))};var u=function(e,t,n){c(e,t,n,P.none)};var c=function(t,n,r,o){var a=Zx(e,t,n,r,o);pg.open(t,a);Zg.setValue(t,P.some({mode:"menu",menu:a}))};var f=function(e){if(pg.isOpen(e)){Zg.setValue(e,P.none());pg.close(e)}};var s=function(e){return pg.getState(e)};var l=function(t){if(pg.isOpen(t)){Zg.getValue(t).each((function(n){switch(n.mode){case"menu":pg.getState(t).each(Qx.repositionMenus);break;case"position":var r=e.lazySink(t).getOrDie();Lm.positionWithinBounds(r,t,n.config,n.getBounds());break}}))}};var v={setContent:r,showAt:o,showWithin:a,showWithinBounds:i,showMenuAt:u,showMenuWithinBounds:c,hide:f,getContent:s,reposition:l,isOpen:pg.isOpen};return{uid:e.uid,dom:e.dom,behaviours:nh(e.inlineBehaviours,[pg.config({isPartOf:function(e,t,r){return jf(t,r)||n(e,r)},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),Zg.config({store:{mode:"memory",initialValue:P.none()}}),yl.config({channels:D(D({},Cg(D({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),kg(D(D({},e.fireRepositionEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})),{doReposition:l})))})]),eventOrder:e.eventOrder,apis:v}};var tC=lp({name:"InlineView",configFields:[Da("lazySink"),cs("onShow"),cs("onHide"),Wa("onEscape"),eh("inlineBehaviours",[pg,Zg,yl]),Ga("fireDismissalEventInstead",[Ka("event",du())]),Ga("fireRepositionEventInstead",[Ka("event",mu())]),Ka("getRelated",P.none),Ka("isExtraPart",O),Ka("eventOrder",P.none)],factory:eC,apis:{showAt:function(e,t,n,r){e.showAt(t,n,r)},showWithin:function(e,t,n,r,o){e.showWithin(t,n,r,o)},showWithinBounds:function(e,t,n,r,o){e.showWithinBounds(t,n,r,o)},showMenuAt:function(e,t,n,r){e.showMenuAt(t,n,r)},showMenuWithinBounds:function(e,t,n,r,o){e.showMenuWithinBounds(t,n,r,o)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}});var nC="layout-inset";var rC=function(e){return e.x};var oC=function(e,t){return e.x+e.width/2-t.width/2};var aC=function(e,t){return e.x+e.width-t.width};var iC=function(e){return e.y};var uC=function(e,t){return e.y+e.height-t.height};var cC=function(e,t){return e.y+e.height/2-t.height/2};var fC=function(e,t,n){return gs(aC(e,t),uC(e,t),n.insetSouthwest(),Ss(),"southwest",Ns(e,{right:0,bottom:3}),nC)};var sC=function(e,t,n){return gs(rC(e),uC(e,t),n.insetSoutheast(),Cs(),"southeast",Ns(e,{left:1,bottom:3}),nC)};var lC=function(e,t,n){return gs(aC(e,t),iC(e),n.insetNorthwest(),xs(),"northwest",Ns(e,{right:0,top:2}),nC)};var vC=function(e,t,n){return gs(rC(e),iC(e),n.insetNortheast(),ws(),"northeast",Ns(e,{left:1,top:2}),nC)};var dC=function(e,t,n){return gs(oC(e,t),iC(e),n.insetNorth(),ks(),"north",Ns(e,{top:2}),nC)};var mC=function(e,t,n){return gs(oC(e,t),uC(e,t),n.insetSouth(),Ts(),"south",Ns(e,{bottom:3}),nC)};var gC=function(e,t,n){return gs(aC(e,t),cC(e,t),n.insetEast(),_s(),"east",Ns(e,{right:0}),nC)};var hC=function(e,t,n){return gs(rC(e),cC(e,t),n.insetWest(),Os(),"west",Ns(e,{left:1}),nC)};var pC=function(e){switch(e){case"north":return dC;case"northeast":return vC;case"northwest":return lC;case"south":return mC;case"southeast":return sC;case"southwest":return fC;case"east":return gC;case"west":return hC}};var bC=function(e,t,n,r,o){var a=ql(r).map(pC).getOr(dC);return a(e,t,n,r,o)};var yC=function(e){switch(e){case"north":return mC;case"northeast":return sC;case"northwest":return fC;case"south":return dC;case"southeast":return vC;case"southwest":return lC;case"east":return hC;case"west":return gC}};var wC=function(e,t,n,r,o){var a=ql(r).map(yC).getOr(dC);return a(e,t,n,r,o)};var xC=tinymce.util.Tools.resolve("tinymce.util.Delay");var CC=function(e){var t=px(e.action);var n=e.dom.tag;var r=function(t){return Oe(e.dom,"attributes").bind((function(e){return Oe(e,t)}))};var o=function(){if(n==="button"){var e=r("type").getOr("button");var t=r("role").map((function(e){return{role:e}})).getOr({});return D({type:e},t)}else{var o=r("role").getOr("button");return{role:o}}};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:rh.augment(e.buttonBehaviours,[Yw.config({}),Dw.config({mode:"execution",useSpace:true,useEnter:true})]),domModification:{attributes:o()},eventOrder:e.eventOrder}};var SC=lp({name:"Button",factory:CC,configFields:[Ka("uid",undefined),Da("dom"),Ka("components",[]),rh.field("buttonBehaviours",[Yw,Dw]),Fa("action"),Fa("role"),Ka("eventOrder",{})]});var kC=function(e){var t=cp(e)&&Ee(e,"uid")?e.uid:lc("memento");var n=function(e){return e.getSystem().getByUid(t).getOrDie()};var r=function(e){return e.getSystem().getByUid(t).toOptional()};var o=function(){return D(D({},e),{uid:t})};return{get:n,getOpt:r,asSpec:o}};var TC=tinymce.util.Tools.resolve("tinymce.util.I18n");var OC={indent:true,outdent:true,"table-insert-column-after":true,"table-insert-column-before":true,"paste-column-after":true,"paste-column-before":true,"unordered-list":true,"list-bull-circle":true,"list-bull-default":true,"list-bull-square":true};var _C="temporary-placeholder";var EC=function(e){return function(){return Oe(e,_C).getOr("!not found!")}};var DC=function(e,t){var n=e.toLowerCase();if(TC.isRtl()){var r=Ve(n,"-rtl");return _e(t,r)?r:n}else{return n}};var AC=function(e,t){return Oe(t,DC(e,t))};var NC=function(e,t){var n=t();return AC(e,n).getOrThunk(EC(n))};var MC=function(e,t,n){var r=t();return AC(e,r).or(n).getOrThunk(EC(r))};var RC=function(e){return TC.isRtl()?_e(OC,e):false};var zC=function(){return Vw("add-focusable",[Vu((function(e){Lf(e.element,"svg").each((function(e){return In(e,"focusable","false")}))}))])};var BC=function(e,t,n,r){var o,a;var i=RC(t)?["tox-icon--flip"]:[];var u=Oe(n,DC(t,n)).or(r).getOrThunk(EC(n));return{dom:{tag:e.tag,attributes:(o=e.attributes)!==null&&o!==void 0?o:{},classes:e.classes.concat(i),innerHtml:u},behaviours:dl(N(N([],(a=e.behaviours)!==null&&a!==void 0?a:[],true),[zC()],false))}};var PC=function(e,t,n,r){if(r===void 0){r=P.none()}return BC(t,e,n(),r)};var LC=function(e,t,n){var r=n();var o=ee(e,(function(e){return _e(r,DC(e,r))}));return BC(t,o.getOr(_C),r,P.none())};var HC={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"};var IC=function(e){var t=kC({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:dl([Iw.config({})])});var n=function(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}};var r=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}};var o=kC({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:dl([Iw.config({})])});var a=function(e,t){if(e.getSystem().isConnected()){o.getOpt(e).each((function(e){Iw.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},r(t)])}))}};var i=function(e,n){if(e.getSystem().isConnected()){var r=t.get(e);Iw.set(r,[kf(n)])}};var u={updateProgress:a,updateText:i};var c=ne([e.icon.toArray(),e.level.toArray(),e.level.bind((function(e){return P.from(HC[e])})).toArray()]);var f=kC(SC.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[PC("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:function(t){e.onAction(t)}}));var s=LC(c,{tag:"div",classes:["tox-notification__icon"]},e.iconProvider);var l={dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:dl([Iw.config({})])};var v=[s,l];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]})).getOr(["tox-notification","tox-notification--in"])},behaviours:dl([Yw.config({}),Vw("notification-events",[Nu(Li(),(function(e){f.getOpt(e).each(Yw.focus)}))])]),components:v.concat(e.progress?[o.asSpec()]:[]).concat(!e.closeButton?[]:[f.asSpec()]),apis:u}};var FC=lp({name:"Notification",factory:IC,configFields:[Fa("level"),Da("progress"),Da("icon"),Da("onAction"),Da("text"),Da("iconProvider"),Da("translationProvider"),Za("closeButton",true)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}});function VC(e,t,n){var r=t.backstage.shared;var o=function(e){switch(e){case"bc-bc":return mC;case"tc-tc":return dC;case"tc-bc":return Gs;case"bc-tc":default:return $s}};var a=function(e){if(e.length>0){$(e,(function(t,n){if(n===0){t.moveRel(null,"banner")}else{t.moveRel(e[n-1].getEl(),"bc-tc")}}))}};var i=function(t,a){var i=!t.closeButton&&t.timeout&&(t.timeout>0||t.timeout<0);var u=function(){a();tC.hide(f)};var c=Ef(FC.sketch({text:t.text,level:U(["success","error","warning","warn","info"],t.type)?t.type:undefined,progress:t.progressBar===true,icon:P.from(t.icon),closeButton:!i,onAction:u,iconProvider:r.providers.icons,translationProvider:r.providers.translate}));var f=Ef(tC.sketch(D({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:r.getSink,fireDismissalEventInstead:{}},r.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));n.add(f);if(t.timeout>0){xC.setTimeout((function(){u()}),t.timeout)}var s=function(){var t=Yr(tt.fromDom(e.getContentAreaContainer()));var n=Qr();var r=Ds(n.x,t.x,t.right);var o=Ds(n.y,t.y,t.bottom);var a=Math.max(t.right,n.right);var i=Math.max(t.bottom,n.bottom);return P.some(Xr(r,o,a-r,i-o))};return{close:u,moveTo:function(e,t){tC.showAt(f,Df(c),{anchor:{type:"makeshift",x:e,y:t}})},moveRel:function(e,t){var n=Df(c);var a={maxHeightFunction:Ov()};if(t!=="banner"&&v(e)){var i=o(t);var u={type:"node",root:Pn(),node:P.some(tt.fromDom(e)),overrides:a,layouts:{onRtl:function(){return[i]},onLtr:function(){return[i]}}};tC.showWithinBounds(f,n,{anchor:u},s)}else{var l=D(D({},r.anchors.banner()),{overrides:a});tC.showWithinBounds(f,n,{anchor:l},s)}},text:function(e){FC.updateText(c,e)},settings:t,getEl:function(){return c.element.dom},progressBar:{value:function(e){FC.updateProgress(c,e)}}}};var u=function(e){e.close()};var c=function(e){return e.settings};return{open:i,close:u,reposition:a,getArgs:c}}var UC=function(e,t){var n=null;var r=function(){if(!c(n)){clearTimeout(n);n=null}};var o=function(){var r=[];for(var o=0;o<arguments.length;o++){r[o]=arguments[o]}if(c(n)){n=setTimeout((function(){n=null;e.apply(null,r)}),t)}};return{cancel:r,throttle:o}};var jC=function(e,t){var n=null;var r=function(){if(!c(n)){clearTimeout(n);n=null}};var o=function(){var o=[];for(var a=0;a<arguments.length;a++){o[a]=arguments[a]}r();n=setTimeout((function(){n=null;e.apply(null,o)}),t)};return{cancel:r,throttle:o}};var WC=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");var qC=function(e,t){return e.isBlock(t)||U(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false"};var GC=function(e,t,n,r,o){var a=WC(e,(function(t){return qC(e,t)}));return P.from(a.backwards(t,n,r,o))};var $C="[data-mce-autocompleter]";var KC=function(e,t){return XC(tt.fromDom(e.selection.getNode())).getOrThunk((function(){var n=tt.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Dr(n,tt.fromDom(t.extractContents()));t.insertNode(n.dom);hn(n).each((function(e){return e.dom.normalize()}));Gd(n).map((function(t){e.selection.setCursorLocation(t.dom,Ud(t))}));return n}))};var XC=function(e){return If(e,$C)};var YC=function(e){return e.collapsed&&e.startContainer.nodeType===3};var JC=function(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")};var QC=function(e){return e!==""&&" \f\n\r\t\v".indexOf(e)!==-1};var ZC=function(e,t){return e.substring(t.length)};var eS=function(e,t,n){var r;for(r=t-1;r>=0;r--){var o=e.charAt(r);if(QC(o)){return P.none()}if(o===n){break}}return P.some(r)};var tS=function(e,t,n,r){if(r===void 0){r=0}if(!YC(t)){return P.none()}var o=function(e,t,r){return eS(r,t,n).getOr(t)};var a=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return GC(e,t.startContainer,t.startOffset,o,a).bind((function(e){var o=t.cloneRange();o.setStart(e.container,e.offset);o.setEnd(t.endContainer,t.endOffset);if(o.collapsed){return P.none()}var a=JC(o);var i=a.lastIndexOf(n);if(i!==0||ZC(a,n).length<r){return P.none()}else{return P.some({text:ZC(a,n),range:o,triggerChar:n})}}))};var nS=function(e,t,n,r){if(r===void 0){r=0}return XC(tt.fromDom(t.startContainer)).fold((function(){return tS(e,t,n,r)}),(function(t){var r=e.createRng();r.selectNode(t.dom);var o=JC(r);return P.some({range:r,text:ZC(o,n),triggerChar:n})}))};var rS=function(e,t){t.on("keypress compositionend",e.onKeypress.throttle);t.on("remove",e.onKeypress.cancel);var n=function(e,t){Cu(e,Ii(),{raw:t})};t.on("keydown",(function(t){var r=function(){return e.getView().bind(nb.getHighlighted)};if(t.which===8){e.onKeypress.throttle(t)}if(e.isActive()){if(t.which===27){e.cancelIfNecessary()}if(e.isMenuOpen()){if(t.which===13){r().each(Su);t.preventDefault()}else if(t.which===40){r().fold((function(){e.getView().each(nb.highlightFirst)}),(function(e){n(e,t)}));t.preventDefault();t.stopImmediatePropagation()}else if(t.which===37||t.which===38||t.which===39){r().each((function(e){n(e,t);t.preventDefault();t.stopImmediatePropagation()}))}}else{if(t.which===13||t.which===38||t.which===40){e.cancelIfNecessary()}}}}));t.on("NodeChange",(function(t){if(e.isActive()&&!e.isProcessingAction()&&XC(tt.fromDom(t.element)).isNone()){e.cancelIfNecessary()}}))};var oS={setup:rS};var aS=tinymce.util.Tools.resolve("tinymce.util.Promise");var iS=function(e,t){return{container:e,offset:t}};var uS=function(e){return e.nodeType===at};var cS=function(e){return e.nodeType===ot};var fS=function(e){if(uS(e)){return iS(e,e.data.length)}else{var t=e.childNodes;return t.length>0?fS(t[t.length-1]):iS(e,t.length)}};var sS=function(e,t){var n=e.childNodes;if(n.length>0&&t<n.length){return sS(n[t],0)}else if(n.length>0&&cS(e)&&n.length===t){return fS(n[n.length-1])}else{return iS(e,t)}};var lS=function(e,t){return GC(e,t.container,t.offset,(function(e,t){return t===0?-1:t}),e.getRoot()).filter((function(e){var t=e.container.data.charAt(e.offset-1);return!QC(t)})).isSome()};var vS=function(e){return function(t){var n=sS(t.startContainer,t.startOffset);return!lS(e,n)}};var dS=function(e,t,n){return me(n.triggerChars,(function(n){return nS(e,t,n)}))};var mS=function(e,t){var n=t();var r=e.selection.getRng();return dS(e.dom,r,n).bind((function(n){return gS(e,t,n)}))};var gS=function(e,t,n,r){if(r===void 0){r={}}var o=t();var a=e.selection.getRng();var i=a.startContainer.nodeValue;var u=Y(o.lookupByChar(n.triggerChar),(function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk((function(){return vS(e.dom)}))(n.range,i,n.text)}));if(u.length===0){return P.none()}var c=aS.all(G(u,(function(e){var t=e.fetch(n.text,e.maxResults,r);return t.then((function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}}))})));return P.some({lookupData:c,context:n})};var hS=ea([Ma("type"),ja("text")]);var pS=function(e){return wa("separatormenuitem",hS,e)};var bS=ea([Ka("type","autocompleteitem"),Ka("active",false),Ka("disabled",false),Ka("meta",{}),Ma("value"),ja("text"),ja("icon")]);var yS=ea([Ma("type"),Ma("ch"),Ya("minChars",1),Ka("columns",1),Ya("maxResults",10),Wa("matches"),Ba("fetch"),Ba("onAction"),ni("highlightOn",[],fa)]);var wS=function(e){return wa("Autocompleter.Separator",hS,e)};var xS=function(e){return wa("Autocompleter.Item",bS,e)};var CS=function(e){return wa("Autocompleter",yS,e)};var SS=[Za("disabled",false),ja("tooltip"),ja("icon"),ja("text"),ei("onSetup",(function(){return h}))];var kS=ea([Ma("type"),Ba("onAction")].concat(SS));var TS=function(e){return wa("toolbarbutton",kS,e)};var OS=[Za("active",false)].concat(SS);var _S=ea(OS.concat([Ma("type"),Ba("onAction")]));var ES=function(e){return wa("ToggleButton",_S,e)};var DS=[ei("predicate",O),Qa("scope","node",["node","editor"]),Qa("position","selection",["node","selection","line"])];var AS=SS.concat([Ka("type","contextformbutton"),Ka("primary",false),Ba("onAction"),_a("original",x)]);var NS=OS.concat([Ka("type","contextformbutton"),Ka("primary",false),Ba("onAction"),_a("original",x)]);var MS=SS.concat([Ka("type","contextformbutton")]);var RS=OS.concat([Ka("type","contextformtogglebutton")]);var zS=ka("type",{contextformbutton:AS,contextformtogglebutton:NS});var BS=ea([Ka("type","contextform"),ei("initValue",w("")),ja("label"),Ia("commands",zS),Va("launch",ka("type",{contextformbutton:MS,contextformtogglebutton:RS}))].concat(DS));var PS=function(e){return wa("ContextForm",BS,e)};var LS=ea([Ka("type","contexttoolbar"),Ma("items")].concat(DS));var HS=function(e){return wa("ContextToolbar",LS,e)};var IS=function(e){var t={};$(e,(function(e){t[e]={}}));return ge(t)};var FS=function(e){var t=e.ui.registry.getAll().popups;var n=be(t,(function(e){return CS(e).fold((function(e){throw new Error(Sa(e))}),x)}));var r=IS(Se(n,(function(e){return e.ch})));var o=Te(n);var a=function(e){return Y(o,(function(t){return t.ch===e}))};return{dataset:n,triggerChars:r,lookupByChar:a}};var VS;(function(e){e[e["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE";e[e["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(VS||(VS={}));var US=VS;var jS="tox-menu-nav__js";var WS="tox-collection__item";var qS="tox-swatch";var GS={normal:jS,color:qS};var $S="tox-collection__item--enabled";var KS="tox-collection__group-heading";var XS="tox-collection__item-icon";var YS="tox-collection__item-label";var JS="tox-collection__item-accessory";var QS="tox-collection__item-caret";var ZS="tox-collection__item-checkmark";var ek="tox-collection__item--active";var tk="tox-collection__item-container";var nk="tox-collection__item-container--column";var rk="tox-collection__item-container--row";var ok="tox-collection__item-container--align-right";var ak="tox-collection__item-container--align-left";var ik="tox-collection__item-container--valign-top";var uk="tox-collection__item-container--valign-middle";var ck="tox-collection__item-container--valign-bottom";var fk=function(e){return Oe(GS,e).getOr(jS)};var sk=function(e){if(e==="color"){return"tox-swatches"}else{return"tox-menu"}};var lk=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:sk(e),tieredMenu:"tox-tiered-menu"}};var vk=function(e){var t=lk(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:fk(e)}};var dk=function(e,t,n){var r=lk(n);return{tag:"div",classes:ne([[r.menu,"tox-menu-"+t+"-column"],e?[r.hasIcons]:[]])}};var mk=[Fx.parts.items({})];var gk=function(e,t,n){var r=lk(n);var o={tag:"div",classes:ne([[r.tieredMenu]])};return{dom:o,markers:vk(n)}};var hk=function(e,t){return function(n){var r=q(n,t);return G(r,(function(t){return{dom:e,components:t}}))}};var pk=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Fx.parts.items({preprocess:e!=="auto"?hk({tag:"div",classes:["tox-swatches__row"]},e):x})]}]}};var bk=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Fx.parts.items({preprocess:hk({tag:"div",classes:["tox-collection__group"]},e)})]}};var yk=function(e,t){var n=[];var r=[];$(e,(function(e,o){if(t(e,o)){if(r.length>0){n.push(r)}r=[];if(_e(e.dom,"innerHtml")){r.push(e)}}else{r.push(e)}}));if(r.length>0){n.push(r)}return G(n,(function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}}))};var wk=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Fx.parts.items({preprocess:function(n){if(e!=="auto"&&e>1){return hk({tag:"div",classes:["tox-collection__group"]},e)(n)}else{return yk(n,(function(e,n){return t[n].type==="separator"}))}}})]}};var xk=function(e,t){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Fx.parts.items({preprocess:function(t){return yk(t,(function(t,n){return e[n].type==="separator"}))}})]}};var Ck=function(e){return j(e,(function(e){return"icon"in e&&e.icon!==undefined}))};var Sk=function(e){console.error(Sa(e));console.log(e);return P.none()};var kk=function(e,t,n,r,o){var a=xk(n);return{value:e,dom:a.dom,components:a.components,items:n}};var Tk=function(e,t,n,r,o){if(o==="color"){var a=pk(r);return{value:e,dom:a.dom,components:a.components,items:n}}if(o==="normal"&&r==="auto"){var a=wk(r,n);return{value:e,dom:a.dom,components:a.components,items:n}}if(o==="normal"&&r===1){var a=wk(1,n);return{value:e,dom:a.dom,components:a.components,items:n}}if(o==="normal"){var a=wk(r,n);return{value:e,dom:a.dom,components:a.components,items:n}}if(o==="listpreview"&&r!=="auto"){var a=bk(r);return{value:e,dom:a.dom,components:a.components,items:n}}return{value:e,dom:dk(t,r,o),components:mk,items:n}};var Ok=[Ma("type"),Ma("src"),ja("alt"),ni("classes",[],fa)];var _k=ea(Ok);var Ek=[Ma("type"),Ma("text"),ja("name"),ni("classes",["tox-collection__item-label"],fa)];var Dk=ea(Ek);var Ak=Jo((function(){return ga("type",{cardimage:_k,cardtext:Dk,cardcontainer:Nk})}));var Nk=ea([Ma("type"),Ja("direction","horizontal"),Ja("align","left"),Ja("valign","middle"),Ia("items",Ak)]);var Mk=[Za("disabled",false),ja("text"),ja("shortcut"),Oa("value","value",To((function(){return rc("menuitem-value")})),ia()),Ka("meta",{})];var Rk=ea([Ma("type"),ja("label"),Ia("items",Ak),ei("onSetup",(function(){return h})),ei("onAction",h)].concat(Mk));var zk=function(e){return wa("cardmenuitem",Rk,e)};var Bk=ea([Ma("type"),Za("active",false),ja("icon")].concat(Mk));var Pk=function(e){return wa("choicemenuitem",Bk,e)};var Lk=[Ma("type"),Ma("fancytype"),ei("onAction",h)];var Hk=[Ka("initData",{})].concat(Lk);var Ik=[ri("initData",{},[Za("allowCustomColors",true),qa("colors",ia())])].concat(Lk);var Fk=ka("fancytype",{inserttable:Hk,colorswatch:Ik});var Vk=function(e){return wa("fancymenuitem",Fk,e)};var Uk=ea([Ma("type"),ei("onSetup",(function(){return h})),ei("onAction",h),ja("icon")].concat(Mk));var jk=function(e){return wa("menuitem",Uk,e)};var Wk=ea([Ma("type"),Ba("getSubmenuItems"),ei("onSetup",(function(){return h})),ja("icon")].concat(Mk));var qk=function(e){return wa("nestedmenuitem",Wk,e)};var Gk=ea([Ma("type"),ja("icon"),Za("active",false),ei("onSetup",(function(){return h})),Ba("onAction")].concat(Mk));var $k=function(e){return wa("togglemenuitem",Gk,e)};var Kk=function(e,t,n){var r=Kd(e.element,"."+n);if(r.length>0){var o=te(r,(function(e){var n=e.dom.getBoundingClientRect().top;var o=r[0].dom.getBoundingClientRect().top;return Math.abs(n-o)>t})).getOr(r.length);return P.some({numColumns:o,numRows:Math.ceil(r.length/o)})}else{return P.none()}};var Xk=function(e,t){return dl([Vw(e,t)])};var Yk=function(e){return Xk(rc("unnamed-events"),e)};var Jk={namedEvents:Xk,unnamedEvents:Yk};var Qk=rc("tooltip.exclusive");var Zk=rc("tooltip.show");var eT=rc("tooltip.hide");var tT=function(e,t,n){e.getSystem().broadcastOn([Qk],{})};var nT=function(e,t,n,r){n.getTooltip().each((function(e){if(e.getSystem().isConnected()){Iw.set(e,r)}}))};var rT=Object.freeze({__proto__:null,hideAllExclusive:tT,setComponents:nT});var oT=function(e,t){var n=function(n){t.getTooltip().each((function(r){Gm(r);e.onHide(n,r);t.clearTooltip()}));t.clearTimer()};var r=function(n){if(!t.isShowing()){tT(n);var r=e.lazySink(n).getOrDie();var o=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:_u(e.mode==="normal"?[Nu(Pi(),(function(e){xu(n,Zk)})),Nu(zi(),(function(e){xu(n,eT)}))]:[]),behaviours:dl([Iw.config({})])});t.setTooltip(o);jm(r,o);e.onShow(n,o);Lm.position(r,o,{anchor:e.anchor(n)})}};return _u(ne([[Nu(Zk,(function(n){t.resetTimer((function(){r(n)}),e.delay)})),Nu(eT,(function(r){t.resetTimer((function(){n(r)}),e.delay)})),Nu(Zi(),(function(e,t){var r=t;if(!r.universal){if(U(r.channels,Qk)){n(e)}}})),Uu((function(e){n(e)}))],e.mode==="normal"?[Nu(Li(),(function(e){xu(e,Zk)})),Nu(Ji(),(function(e){xu(e,eT)})),Nu(Pi(),(function(e){xu(e,Zk)})),Nu(zi(),(function(e){xu(e,eT)}))]:[Nu(yu(),(function(e,t){xu(e,Zk)})),Nu(wu(),(function(e){xu(e,eT)}))]]))};var aT=Object.freeze({__proto__:null,events:oT});var iT=[Da("lazySink"),Da("tooltipDom"),Ka("exclusive",true),Ka("tooltipComponents",[]),Ka("delay",300),Qa("mode","normal",["normal","follow-highlight"]),Ka("anchor",(function(e){return{type:"hotspot",hotspot:e,layouts:{onLtr:w([$s,Gs,Us,Ws,js,qs]),onRtl:w([$s,Gs,Us,Ws,js,qs])}}})),cs("onHide"),cs("onShow")];var uT=function(){var e=rv();var t=rv();var n=function(){e.on(clearTimeout)};var r=function(t,r){n();e.set(setTimeout(t,r))};var o=w("not-implemented");return kc({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:n,resetTimer:r,readState:o})};var cT=Object.freeze({__proto__:null,init:uT});var fT=gl({fields:iT,name:"tooltipping",active:aT,state:cT,apis:rT});var sT=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};var lT=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var vT=tinymce.util.Tools.resolve("tinymce.EditorManager");var dT=function(e){var t=e.getParam("skin");var n=e.getParam("skin_url");if(t!==false){var r=t?t:"oxide";if(n){n=e.documentBaseURI.toAbsolute(n)}else{n=vT.baseURL+"/skins/ui/"+r}}return n};var mT=function(e){return e.getParam("readonly",false,"boolean")};var gT=function(e){return e.getParam("skin")===false};var hT=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))};var pT=function(e){return e.getParam("width",lT.DOM.getStyle(e.getElement(),"width"))};var bT=function(e){return P.from(e.getParam("min_width")).filter(m)};var yT=function(e){return P.from(e.getParam("min_height")).filter(m)};var wT=function(e){return P.from(e.getParam("max_width")).filter(m)};var xT=function(e){return P.from(e.getParam("max_height")).filter(m)};var CT=function(e){return P.from(e.getParam("style_formats")).filter(u)};var ST=function(e){return e.getParam("style_formats_merge",false,"boolean")};var kT=function(e){return e.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")};var TT=function(e){return e.getParam("content_langs",undefined,"array")};var OT=function(e){return e.getParam("removed_menuitems","")};var _T=function(e){return e.getParam("menubar",true,"boolean")!==false};var ET=function(e){var t=e.getParam("toolbar",true);var n=t===true;var r=a(t);var o=u(t)&&t.length>0;return!AT(e)&&(o||r||n)};var DT=function(e){var t=W(9,(function(t){return e.getParam("toolbar"+(t+1),false,"string")}));var n=Y(t,(function(e){return typeof e==="string"}));return n.length>0?P.some(n):P.none()};var AT=function(e){return DT(e).fold((function(){var t=e.getParam("toolbar",[],"string[]");return t.length>0}),_)};var NT;(function(e){e["default"]="wrap";e["floating"]="floating";e["sliding"]="sliding";e["scrolling"]="scrolling"})(NT||(NT={}));var MT=function(e){return e.getParam("toolbar_mode","","string")};var RT;(function(e){e["auto"]="auto";e["top"]="top";e["bottom"]="bottom"})(RT||(RT={}));var zT=function(e){return e.getParam("toolbar_groups",{},"object")};var BT=function(e){return e.getParam("toolbar_location",RT.auto,"string")};var PT=function(e){return BT(e)===RT.bottom};var LT=function(e){return e.getParam("fixed_toolbar_container","","string")};var HT=function(e){return e.getParam("fixed_toolbar_container_target")};var IT=function(e){return e.getParam("toolbar_persist",false,"boolean")};var FT=function(e){if(!e.inline){return P.none()}var t=LT(e);if(t.length>0){return Hf(Pn(),t)}var n=HT(e);if(v(n)){return P.some(tt.fromDom(n))}return P.none()};var VT=function(e){return e.inline&&FT(e).isSome()};var UT=function(e){var t=FT(e);return t.getOrThunk((function(){return Dn(En(tt.fromDom(e.getElement())))}))};var jT=function(e){return e.inline&&!_T(e)&&!ET(e)&&!AT(e)};var WT=function(e){var t=e.getParam("toolbar_sticky",false,"boolean");return(t||e.inline)&&!VT(e)&&!jT(e)};var qT=function(e){return e.getParam("toolbar_sticky_offset",0,"number")};var GT=function(e){return e.getParam("draggable_modal",false,"boolean")};var $T=function(e){var t=e.getParam("menu");if(t){return be(t,(function(e){return D(D({},e),{items:e.items})}))}else{return{}}};var KT=function(e){return e.getParam("menubar")};var XT=function(e){return e.getParam("toolbar",true)};var YT=function(e){return e.getParam("file_picker_callback")};var JT=function(e){return e.getParam("file_picker_types")};var QT=function(e){return e.getParam("file_browser_callback_types")};var ZT=function(e){return e.getParam("typeahead_urls")===false};var eO=function(e){return e.getParam("anchor_top","#top")};var tO=function(e){return e.getParam("anchor_bottom","#bottom")};var nO=function(e){var t=e.getParam("file_picker_validator_handler",undefined,"function");if(t===undefined){return e.getParam("filepicker_validator_handler",undefined,"function")}else{return t}};var rO="silver.readonly";var oO=ea([za("readonly")]);var aO=function(e,t){var n=e.outerContainer;var r=n.element;if(t){e.mothership.broadcastOn([bg()],{target:r});e.uiMothership.broadcastOn([bg()],{target:r})}e.mothership.broadcastOn([rO],{readonly:t});e.uiMothership.broadcastOn([rO],{readonly:t})};var iO=function(e,t){e.on("init",(function(){if(e.mode.isReadOnly()){aO(t,true)}}));e.on("SwitchMode",(function(){return aO(t,e.mode.isReadOnly())}));if(mT(e)){e.setMode("readonly")}};var uO=function(){var e;return yl.config({channels:(e={},e[rO]={schema:oO,onReceive:function(e,t){Pp.set(e,t.readonly)}},e)})};var cO=function(e){return Pp.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})};var fO=function(e){return Pp.config({disabled:e})};var sO=function(e){return Pp.config({disabled:e,disableClass:"tox-tbtn--disabled"})};var lO=function(e){return Pp.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:false})};var vO={item:cO,button:fO,splitButton:sO,toolbarButton:lO};var dO=function(e,t){var n=e.getApi(t);return function(e){e(n)}};var mO=function(e,t){return Vu((function(n){var r=dO(e,n);r((function(n){var r=e.onSetup(n);if(d(r)){t.set(r)}}))}))};var gO=function(e,t){return Uu((function(n){return dO(e,n)(t.get())}))};var hO;var pO=function(e,t){return Wu((function(n,r){dO(e,n)(e.onAction);if(!e.triggersSubmenu&&t===US.CLOSE_ON_EXECUTE){xu(n,ou());r.stop()}}))};var bO=(hO={},hO[eu()]=["disabling","alloy.base.behaviour","toggling","item-events"],hO);var yO=Ne;var wO=function(e,t,n,r){var o=oi(h);return{type:"item",dom:t.dom,components:yO(t.optComponents),data:e.data,eventOrder:bO,hasSubmenu:e.triggersSubmenu,itemBehaviours:dl([Vw("item-events",[pO(e,n),mO(e,o),gO(e,o)]),vO.item((function(){return e.disabled||r.isDisabled()})),uO(),Iw.config({})].concat(e.itemBehaviours))}};var xO=function(e){return{value:e.value,meta:D({text:e.text.getOr("")},e.meta)}};var CO=tinymce.util.Tools.resolve("tinymce.Env");var SO=function(e){var t={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"};var n={meta:"Ctrl",access:"Shift+Alt"};var r=CO.mac?t:n;var o=e.split("+");var a=G(o,(function(e){var t=e.toLowerCase().trim();return _e(r,t)?r[t]:e}));return CO.mac?a.join(""):a.join("+")};var kO=function(e,t,n){if(n===void 0){n=[XS]}return PC(e,{tag:"div",classes:n},t)};var TO=function(e){return{dom:{tag:"div",classes:[YS]},components:[kf(TC.translate(e))]}};var OO=function(e,t){return{dom:{tag:"div",classes:t,innerHtml:e}}};var _O=function(e,t){return{dom:{tag:"div",classes:[YS]},components:[{dom:{tag:e.tag,styles:e.styles},components:[kf(TC.translate(t))]}]}};var EO=function(e){return{dom:{tag:"div",classes:[JS],innerHtml:SO(e)}}};var DO=function(e){return kO("checkmark",e,[ZS])};var AO=function(e){return kO("chevron-right",e,[QS])};var NO=function(e){return kO("chevron-down",e,[QS])};var MO=function(e,t){var n=e.direction==="vertical"?nk:rk;var r=e.align==="left"?ak:ok;var o=function(){switch(e.valign){case"top":return ik;case"middle":return uk;case"bottom":return ck}};return{dom:{tag:"div",classes:[tk,n,r,o()]},components:t}};var RO=function(e,t,n){return{dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}};var zO=function(e,t,n){var r="custom";var o="remove";var a=e.ariaLabel;var i=e.value;var u=e.iconContent.map((function(e){return MC(e,t.icons,n)}));var c=function(){var e=qS;var n=u.getOr("");var c=a.map((function(e){return{title:t.translate(e)}})).getOr({});var f={tag:"div",attributes:c,classes:[e]};if(i===r){return D(D({},f),{tag:"button",classes:N(N([],f.classes,true),["tox-swatches__picker-btn"],false),innerHtml:n})}else if(i===o){return D(D({},f),{classes:N(N([],f.classes,true),["tox-swatch--remove"],false),innerHtml:n})}else{return D(D({},f),{attributes:D(D({},f.attributes),{"data-mce-color":i}),styles:{"background-color":i}})}};return{dom:c(),optComponents:[]}};var BO=function(e){var t=e.map((function(e){return{attributes:{title:TC.translate(e)}}})).getOr({});return D({tag:"div",classes:[jS,WS]},t)};var PO=function(e,t,n,r){var o={tag:"div",classes:[XS]};var a=function(e){return PC(e,o,t.icons,r)};var i=function(){return P.some({dom:o})};var u=n?e.iconContent.map(a).orThunk(i):P.none();var c=e.checkMark;var f=P.from(e.meta).fold((function(){return TO}),(function(e){return _e(e,"style")?S(_O,e.style):TO}));var s=e.htmlContent.fold((function(){return e.textContent.map(f)}),(function(e){return P.some(OO(e,[YS]))}));var l={dom:BO(e.ariaLabel),optComponents:[u,s,e.shortcutContent.map(EO),c,e.caret]};return l};var LO=function(e,t,n,r){if(r===void 0){r=P.none()}if(e.presets==="color"){return zO(e,t,r)}else{return PO(e,t,n,r)}};var HO=function(e,t){return Oe(e,"tooltipWorker").map((function(e){return[fT.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{type:"submenu",item:e,overrides:{maxHeightFunction:Ov}}},mode:"follow-highlight",onShow:function(t,n){e((function(e){fT.setComponents(t,[Tf({element:tt.fromDom(e)})])}))}})]})).getOr([])};var IO=function(e){return lT.DOM.encode(e)};var FO=function(e,t){var n=TC.translate(e);var r=IO(n);if(t.length>0){var o=new RegExp(sT(t),"gi");return r.replace(o,(function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"}))}else{return r}};var VO=function(e,t,n,r,o,a,i,u){if(u===void 0){u=true}var c=LO({presets:r,textContent:P.none(),htmlContent:n?e.text.map((function(e){return FO(e,t)})):P.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:e.value},i.providers,u,e.icon);return wO({data:xO(e),disabled:e.disabled,getApi:w({}),onAction:function(t){return o(e.value,e.meta)},onSetup:w(h),triggersSubmenu:false,itemBehaviours:HO(e.meta,i)},c,a,i.providers)};var UO=function(e,t){return G(e,(function(e){switch(e.type){case"cardcontainer":return MO(e,UO(e.items,t));case"cardimage":return RO(e.src,e.classes,e.alt);case"cardtext":var n=e.name.exists((function(e){return U(t.cardText.highlightOn,e)}));var r=n?P.from(t.cardText.matchText).getOr(""):"";return OO(FO(e.text,r),e.classes)}}))};var jO=function(e,t,n,r){var o=function(e){return{isDisabled:function(){return Pp.isDisabled(e)},setDisabled:function(t){Pp.set(e,t);$(Kd(e.element,"*"),(function(n){e.getSystem().getByDom(n).each((function(e){if(e.hasConfigured(Pp)){Pp.set(e,t)}}))}))}}};var a={dom:BO(e.label),optComponents:[P.some({dom:{tag:"div",classes:[tk,rk]},components:UO(e.items,r)})]};return wO({data:xO(D({text:P.none()},e)),disabled:e.disabled,getApi:o,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:false,itemBehaviours:P.from(r.itemBehaviours).getOr([])},a,t,n.providers)};var WO=function(e,t,n,r,o,a,i,u){if(u===void 0){u=true}var c=function(e){return{setActive:function(t){gx.set(e,t)},isActive:function(){return gx.isOn(e)},isDisabled:function(){return Pp.isDisabled(e)},setDisabled:function(t){return Pp.set(e,t)}}};var f=LO({presets:n,textContent:t?e.text:P.none(),htmlContent:P.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:P.none(),checkMark:t?P.some(DO(i.icons)):P.none(),caret:P.none(),value:e.value},i,u);return Co(wO({data:xO(e),disabled:e.disabled,getApi:c,onAction:function(t){return r(e.value)},onSetup:function(e){e.setActive(o);return h},triggersSubmenu:false,itemBehaviours:[]},f,a,i),{toggling:{toggleClass:$S,toggleOnExecute:false,selected:e.active}})};var qO=Fh(Ex(),Dx());var GO=function(e){return{value:e}};var $O=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;var KO=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;var XO=function(e){return $O.test(e)||KO.test(e)};var YO=function(e){return Fe(e,"#").toUpperCase()};var JO=function(e){return XO(e)?P.some({value:YO(e)}):P.none()};var QO=function(e){var t=e.value.replace($O,(function(e,t,n,r){return t+t+n+n+r+r}));return{value:t}};var ZO=function(e){var t=QO(e);var n=KO.exec(t.value);return n===null?["FFFFFF","FF","FF","FF"]:n};var e_=function(e){var t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()};var t_=function(e){var t=e_(e.red)+e_(e.green)+e_(e.blue);return GO(t)};var n_=Math.min;var r_=Math.max;var o_=Math.round;var a_=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/;var i_=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/;var u_=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}};var c_=function(e){var t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255};var f_=function(e){var t;var n;var r;var o=(e.hue||0)%360;var a=e.saturation/100;var i=e.value/100;a=r_(0,n_(a,1));i=r_(0,n_(i,1));if(a===0){t=n=r=o_(255*i);return u_(t,n,r,1)}var u=o/60;var c=i*a;var f=c*(1-Math.abs(u%2-1));var s=i-c;switch(Math.floor(u)){case 0:t=c;n=f;r=0;break;case 1:t=f;n=c;r=0;break;case 2:t=0;n=c;r=f;break;case 3:t=0;n=f;r=c;break;case 4:t=f;n=0;r=c;break;case 5:t=c;n=0;r=f;break;default:t=n=r=0}t=o_(255*(t+s));n=o_(255*(n+s));r=o_(255*(r+s));return u_(t,n,r,1)};var s_=function(e){var t=ZO(e);var n=parseInt(t[1],16);var r=parseInt(t[2],16);var o=parseInt(t[3],16);return u_(n,r,o,1)};var l_=function(e,t,n,r){var o=parseInt(e,10);var a=parseInt(t,10);var i=parseInt(n,10);var u=parseFloat(r);return u_(o,a,i,u)};var v_=function(e){if(e==="transparent"){return P.some(u_(0,0,0,0))}var t=a_.exec(e);if(t!==null){return P.some(l_(t[1],t[2],t[3],"1"))}var n=i_.exec(e);if(n!==null){return P.some(l_(n[1],n[2],n[3],n[4]))}return P.none()};var d_=function(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"};var m_=u_(255,0,0,1);var g_=function(e){return e.fire("SkinLoaded")};var h_=function(e,t){return e.fire("SkinLoadError",t)};var p_=function(e){return e.fire("ResizeEditor")};var b_=function(e,t){return e.fire("ResizeContent",t)};var y_=function(e,t){return e.fire("ScrollContent",t)};var w_=function(e,t){return e.fire("TextColorChange",t)};var x_=function(e,t,n){return{hue:e,saturation:t,value:n}};var C_=function(e){var t=0;var n=0;var r=0;var o=e.red/255;var a=e.green/255;var i=e.blue/255;var u=Math.min(o,Math.min(a,i));var c=Math.max(o,Math.max(a,i));if(u===c){r=u;return x_(0,0,r*100)}var f=o===u?a-i:i===u?o-a:i-o;t=o===u?3:i===u?1:5;t=60*(t-f/(c-u));n=(c-u)/c;r=c;return x_(Math.round(t),Math.round(n*100),Math.round(r*100))};var S_=function(e){return C_(s_(e))};var k_=function(e){return t_(f_(e))};var T_=function(e){return JO(e).orThunk((function(){return v_(e).map(t_)})).getOrThunk((function(){var t=document.createElement("canvas");t.height=1;t.width=1;var n=t.getContext("2d");n.clearRect(0,0,t.width,t.height);n.fillStyle="#FFFFFF";n.fillStyle=e;n.fillRect(0,0,1,1);var r=n.getImageData(0,0,1,1).data;var o=r[0];var a=r[1];var i=r[2];var u=r[3];return t_(u_(o,a,i,u))}))};var O_=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");var __="tinymce-custom-colors";function E_(e){if(e===void 0){e=10}var t=O_.getItem(__);var n=a(t)?JSON.parse(t):[];var r=function(t){var n=e-t.length;return n<0?t.slice(0,e):t};var o=r(n);var i=function(t){V(o,t).each(u);o.unshift(t);if(o.length>e){o.pop()}O_.setItem(__,JSON.stringify(o))};var u=function(e){o.splice(e,1)};var c=function(){return o.slice(0)};return{add:i,state:c}}var D_="choiceitem";var A_=[{type:D_,text:"Light Green",value:"#BFEDD2"},{type:D_,text:"Light Yellow",value:"#FBEEB8"},{type:D_,text:"Light Red",value:"#F8CAC6"},{type:D_,text:"Light Purple",value:"#ECCAFA"},{type:D_,text:"Light Blue",value:"#C2E0F4"},{type:D_,text:"Green",value:"#2DC26B"},{type:D_,text:"Yellow",value:"#F1C40F"},{type:D_,text:"Red",value:"#E03E2D"},{type:D_,text:"Purple",value:"#B96AD9"},{type:D_,text:"Blue",value:"#3598DB"},{type:D_,text:"Dark Turquoise",value:"#169179"},{type:D_,text:"Orange",value:"#E67E23"},{type:D_,text:"Dark Red",value:"#BA372A"},{type:D_,text:"Dark Purple",value:"#843FA1"},{type:D_,text:"Dark Blue",value:"#236FA1"},{type:D_,text:"Light Gray",value:"#ECF0F1"},{type:D_,text:"Medium Gray",value:"#CED4D9"},{type:D_,text:"Gray",value:"#95A5A6"},{type:D_,text:"Dark Gray",value:"#7E8C8D"},{type:D_,text:"Navy Blue",value:"#34495E"},{type:D_,text:"Black",value:"#000000"},{type:D_,text:"White",value:"#ffffff"}];var N_=E_(10);var M_=function(e){var t=[];for(var n=0;n<e.length;n+=2){t.push({text:e[n+1],value:"#"+T_(e[n]).value,type:"choiceitem"})}return t};var R_=function(e,t){return e.getParam("color_cols",t,"number")};var z_=function(e){return e.getParam("custom_colors")!==false};var B_=function(e){return e.getParam("color_map")};var P_=function(e){var t=B_(e);return t!==undefined?M_(t):A_};var L_=function(){return G(N_.state(),(function(e){return{type:D_,text:e,value:e}}))};var H_=function(e){N_.add(e)};var I_="#000000";var F_=function(e,t){var n;e.dom.getParents(e.selection.getStart(),(function(e){var r;if(r=e.style[t==="forecolor"?"color":"background-color"]){n=n?n:r}}));return P.from(n)};var V_=function(e,t,n){e.undoManager.transact((function(){e.focus();e.formatter.apply(t,{value:n});e.nodeChanged()}))};var U_=function(e,t){e.undoManager.transact((function(){e.focus();e.formatter.remove(t,{value:null},null,true);e.nodeChanged()}))};var j_=function(e){e.addCommand("mceApplyTextcolor",(function(t,n){V_(e,t,n)}));e.addCommand("mceRemoveTextcolor",(function(t){U_(e,t)}))};var W_=function(e){return Math.max(5,Math.ceil(Math.sqrt(e)))};var q_=function(e){var t=P_(e);var n=W_(t.length);return R_(e,n)};var G_=function(e){var t="choiceitem";var n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};var r={type:t,text:"Custom color",icon:"color-picker",value:"custom"};return e?[n,r]:[n]};var $_=function(e,t,n,r){if(n==="custom"){var o=Z_(e);o((function(n){n.each((function(n){H_(n);e.execCommand("mceApplyTextcolor",t,n);r(n)}))}),I_)}else if(n==="remove"){r("");e.execCommand("mceRemoveTextcolor",t)}else{r(n);e.execCommand("mceApplyTextcolor",t,n)}};var K_=function(e,t){return e.concat(L_().concat(G_(t)))};var X_=function(e,t){return function(n){n(K_(e,t))}};var Y_=function(e,t,n){var r=t==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(r,n)};var J_=function(e,t,n,r,o){e.ui.registry.addSplitButton(t,{tooltip:r,presets:"color",icon:t==="forecolor"?"text-color":"highlight-bg-color",select:function(t){var r=F_(e,n);return r.bind((function(e){return v_(e).map((function(e){var n=t_(e).value;return Ue(t.toLowerCase(),n)}))})).getOr(false)},columns:q_(e),fetch:X_(P_(e),z_(e)),onAction:function(t){$_(e,n,o.get(),h)},onItemAction:function(r,a){$_(e,n,a,(function(n){o.set(n);w_(e,{name:t,color:n})}))},onSetup:function(n){Y_(n,t,o.get());var r=function(e){if(e.name===t){Y_(n,e.name,e.color)}};e.on("TextColorChange",r);return function(){e.off("TextColorChange",r)}}})};var Q_=function(e,t,n,r){e.ui.registry.addNestedMenuItem(t,{text:r,icon:t==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(t){$_(e,n,t.value,h)}}]}})};var Z_=function(e){return function(t,n){var r=false;var o=function(n){var o=n.getData();var a=o.colorpicker;if(r){t(P.from(a));n.close()}else{e.windowManager.alert(e.translate(["Invalid hex color code: {0}",a]))}};var a=function(e,t){if(t.name==="hex-valid"){r=t.value}};var i={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:i,onAction:a,onSubmit:o,onClose:h,onCancel:function(){t(P.none())}})}};var eE=function(e){j_(e);var t=oi(I_);var n=oi(I_);J_(e,"forecolor","forecolor","Text color",t);J_(e,"backcolor","hilitecolor","Background color",n);Q_(e,"forecolor","forecolor","Text color");Q_(e,"backcolor","hilitecolor","Background color")};var tE=function(e,t,n,r,o,a,i,u){var c=Ck(t);var f=o!=="color"?"normal":"color";var s=nE(t,n,r,f,a,i,u);return Tk(e,c,s,r,o)};var nE=function(e,t,n,r,o,a,i){return Ne(G(e,(function(u){if(u.type==="choiceitem"){return Pk(u).fold(Sk,(function(c){return P.some(WO(c,n===1,r,t,a(u.value),o,i,Ck(e)))}))}else{return P.none()}})))};var rE=function(e,t){var n=vk(t);if(e===1){return{mode:"menu",moveOnTab:true}}else if(e==="auto"){return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}}else{var r=t==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+r}}};var oE=function(e,t){if(e===1){return{mode:"menu",moveOnTab:false,selector:".tox-collection__item"}}else if(e==="auto"){return{mode:"flatgrid",selector:"."+"tox-collection__item",initSize:{numColumns:1,numRows:1}}}else{return{mode:"matrix",selectors:{row:t==="color"?".tox-swatches__row":".tox-collection__group",cell:t==="color"?"."+qS:"."+WS}}}};var aE=function(e,t){var n=iE(e,t);var r=t.colorinput.getColorCols();var o="color";var a=tE(rc("menu-value"),n,(function(t){e.onAction({value:t})}),r,o,US.CLOSE_ON_EXECUTE,O,t.shared.providers);var i=D(D({},a),{markers:vk(o),movement:rE(r,o)});return{type:"widget",data:{value:rc("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[qO.widget(Fx.sketch(i))]}};var iE=function(e,t){var n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((function(){return K_(t.colorinput.getColors(),n)}),(function(e){return e.concat(G_(n))}))};var uE=rc("cell-over");var cE=rc("cell-execute");var fE=function(e,t,n){var r;var o=function(n){return Cu(n,uE,{row:e,col:t})};var a=function(n){return Cu(n,cE,{row:e,col:t})};var i=function(e,t){t.stop();a(e)};return Ef({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:dl([Vw("insert-table-picker-cell",[Nu(Pi(),Yw.focus),Nu(eu(),a),Nu(ji(),i),Nu(nu(),i)]),gx.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:false}),Yw.config({onFocus:o})])})};var sE=function(e,t,n){var r=[];for(var o=0;o<t;o++){var a=[];for(var i=0;i<n;i++){a.push(fE(o,i,e))}r.push(a)}return r};var lE=function(e,t,n,r,o){for(var a=0;a<r;a++){for(var i=0;i<o;i++){gx.set(e[a][i],a<=t&&i<=n)}}};var vE=function(e){return re(e,(function(e){return G(e,Df)}))};var dE=function(e,t){return kf(t+"x"+e)};var mE=function(e){var t=10;var n=10;var r=rc("size-label");var o=sE(r,t,n);var a=dE(0,0);var i=kC({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:r}},components:[a],behaviours:dl([Iw.config({})])});return{type:"widget",data:{value:rc("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[qO.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:vE(o).concat(i.asSpec()),behaviours:dl([Vw("insert-table-picker",[Vu((function(e){Iw.set(i.get(e),[a])})),Lu(uE,(function(e,r,a){var u=a.event,c=u.row,f=u.col;lE(o,c,f,t,n);Iw.set(i.get(e),[dE(c+1,f+1)])})),Lu(cE,(function(t,n,r){var o=r.event,a=o.row,i=o.col;e.onAction({numRows:a+1,numColumns:i+1});xu(t,ou())}))]),Dw.config({initSize:{numRows:t,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}};var gE={inserttable:mE,colorswatch:aE};var hE=function(e,t){return Oe(gE,e.fancytype).map((function(n){return n(e,t)}))};var pE=function(e,t,n,r,o){if(r===void 0){r=true}if(o===void 0){o=false}var a=o?NO(n.icons):AO(n.icons);var i=function(e){return{isDisabled:function(){return Pp.isDisabled(e)},setDisabled:function(t){return Pp.set(e,t)}}};var u=LO({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:P.none(),ariaLabel:e.text,caret:P.some(a),checkMark:P.none(),shortcutContent:e.shortcut},n,r);return wO({data:xO(e),getApi:i,disabled:e.disabled,onAction:h,onSetup:e.onSetup,triggersSubmenu:true,itemBehaviours:[]},u,t,n)};var bE=function(e,t,n,r){if(r===void 0){r=true}var o=function(e){return{isDisabled:function(){return Pp.isDisabled(e)},setDisabled:function(t){return Pp.set(e,t)}}};var a=LO({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:P.none(),ariaLabel:e.text,caret:P.none(),checkMark:P.none(),shortcutContent:e.shortcut},n,r);return wO({data:xO(e),getApi:o,disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:false,itemBehaviours:[]},a,t,n)};var yE=function(e){var t=e.text.fold((function(){return{}}),(function(e){return{innerHtml:e}}));return{type:"separator",dom:D({tag:"div",classes:[WS,KS]},t),components:[]}};var wE=function(e,t,n,r){if(r===void 0){r=true}var o=function(e){return{setActive:function(t){gx.set(e,t)},isActive:function(){return gx.isOn(e)},isDisabled:function(){return Pp.isDisabled(e)},setDisabled:function(t){return Pp.set(e,t)}}};var a=LO({iconContent:e.icon,textContent:e.text,htmlContent:P.none(),ariaLabel:e.text,checkMark:P.some(DO(n.icons)),caret:P.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,r);return Co(wO({data:xO(e),disabled:e.disabled,getApi:o,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:false,itemBehaviours:[]},a,t,n),{toggling:{toggleClass:$S,toggleOnExecute:false,selected:e.active}})};var xE=VO;var CE=yE;var SE=bE;var kE=pE;var TE=wE;var OE=hE;var _E=jO;var EE;(function(e){e[e["ContentFocus"]=0]="ContentFocus";e[e["UiFocus"]=1]="UiFocus"})(EE||(EE={}));var DE=function(e,t,n,r,o){var a=n.shared.providers;var i=function(e){return!o?e:D(D({},e),{shortcut:P.none(),icon:e.text.isSome()?P.none():e.icon})};switch(e.type){case"menuitem":return jk(e).fold(Sk,(function(e){return P.some(SE(i(e),t,a,r))}));case"nestedmenuitem":return qk(e).fold(Sk,(function(e){return P.some(kE(i(e),t,a,r,o))}));case"togglemenuitem":return $k(e).fold(Sk,(function(e){return P.some(TE(i(e),t,a,r))}));case"separator":return pS(e).fold(Sk,(function(e){return P.some(CE(e))}));case"fancymenuitem":return Vk(e).fold(Sk,(function(e){return OE(i(e),n)}));default:{console.error("Unknown item in general menu",e);return P.none()}}};var AE=function(e,t,n,r,o,a,i){var u=r===1;var c=!u||Ck(e);return Ne(G(e,(function(e){switch(e.type){case"separator":return wS(e).fold(Sk,(function(e){return P.some(CE(e))}));case"cardmenuitem":return zk(e).fold(Sk,(function(e){return P.some(_E(D(D({},e),{onAction:function(t){e.onAction(t);n(e.value,e.meta)}}),o,a,{itemBehaviours:HO(e.meta,a),cardText:{matchText:t,highlightOn:i}}))}));case"autocompleteitem":default:return xS(e).fold(Sk,(function(e){return P.some(xE(e,t,u,"normal",n,o,a,c))}))}})))};var NE=function(e,t,n,r,o){var a=Ck(t);var i=Ne(G(t,(function(e){var t=function(e){return o?!_e(e,"text"):a};var i=function(e){return DE(e,n,r,t(e),o)};if(e.type==="nestedmenuitem"&&e.getSubmenuItems().length<=0){return i(D(D({},e),{disabled:true}))}else{return i(e)}})));var u=o?kk:Tk;return u(e,a,i,1,"normal")};var ME=function(e){return Qx.singleData(e.value,e)};var RE=function(e,t,n,r){var o=n===EE.ContentFocus?Tb():kb();var a=rE(t,r);var i=vk(r);return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:i.selectedItem,item:i.item},movement:a,fakeFocus:n===EE.ContentFocus,focusManager:o,menuBehaviours:Jk.unnamedEvents(t!=="auto"?[]:[Vu((function(e,t){Kk(e,4,i.item).each((function(t){var n=t.numColumns,r=t.numRows;Dw.setGridSize(e,r,n)}))}))])}};var zE=function(e,t){var n=rv();var r=oi(false);var o=Ef(tC.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:dl([Vw("dismissAutocompleter",[Nu(du(),(function(){return c()}))])]),lazySink:t.getSink}));var a=function(){return tC.isOpen(o)};var i=function(){return n.get().isSome()};var u=function(){if(i()){tC.hide(o)}};var c=function(){if(i()){var t=n.get().map((function(e){return e.element}));XC(t.getOr(tt.fromDom(e.selection.getNode()))).each(Br);u();n.clear();r.set(false)}};var f=dt((function(){return FS(e)}));var s=function(n,o){var a=me(o,(function(e){return P.from(e.columns)})).getOr(1);return re(o,(function(o){var i=o.items;return AE(i,o.matchText,(function(t,a){var i=e.selection.getRng();nS(e.dom,i,n).fold((function(){return console.error("Lost context. Cursor probably moved")}),(function(e){var n=e.range;var i={hide:function(){c()},reload:function(e){u();m(e)}};r.set(true);o.onAction(i,n,t,a);r.set(false)}))}),a,US.BUBBLE_TO_SANDBOX,t,o.highlightOn)}))};var l=function(t){if(!i()){var o=KC(e,t.range);n.set({triggerChar:t.triggerChar,element:o,matchLength:t.text.length});r.set(false)}};var v=function(t,n,r,a){t.matchLength=n.text.length;var i=me(r,(function(e){return P.from(e.columns)})).getOr(1);tC.showAt(o,Fx.sketch(RE(Tk("autocompleter-value",true,a,i,"normal"),i,EE.ContentFocus,"normal")),{anchor:{type:"node",root:tt.fromDom(e.getBody()),node:P.from(t.element)}});tC.getContent(o).each(nb.highlightFirst)};var d=function(t){return n.get().map((function(n){return nS(e.dom,e.selection.getRng(),n.triggerChar).bind((function(n){return gS(e,f,n,t)}))})).getOrThunk((function(){return mS(e,f)}))};var m=function(e){d(e).fold(c,(function(e){l(e.context);e.lookupData.then((function(t){n.get().map((function(n){var r=e.context;if(n.triggerChar===r.triggerChar){var o=s(r.triggerChar,t);if(o.length>0){v(n,r,t,o)}else if(r.text.length-n.matchLength>=10){c()}else{u()}}}))}))}))};var g=jC((function(e){if(e.which===27){return}m()}),50);var h={onKeypress:g,cancelIfNecessary:c,isMenuOpen:a,isActive:i,isProcessingAction:r.get,getView:function(){return tC.getContent(o)}};if(e.hasPlugin("rtc")===false){oS.setup(h,e)}};var BE={register:zE};var PE=function(e,t,n){return If(e,t,n).isSome()};var LE=function(e,t){var n=null;var r=function(){var r=[];for(var o=0;o<arguments.length;o++){r[o]=arguments[o]}n=setTimeout((function(){e.apply(null,r);n=null}),t)};var o=function(){if(n!==null){clearTimeout(n);n=null}};return{cancel:o,schedule:r}};var HE=5;var IE=400;var FE=function(e){var t=e.raw;if(t.touches===undefined||t.touches.length!==1){return P.none()}return P.some(t.touches[0])};var VE=function(e,t){var n=Math.abs(e.clientX-t.x);var r=Math.abs(e.clientY-t.y);return n>HE||r>HE};var UE=function(e){var t=rv();var n=oi(false);var r=LE((function(t){e.triggerEvent(ru(),t);n.set(true)}),IE);var o=function(e){FE(e).each((function(o){r.cancel();var a={x:o.clientX,y:o.clientY,target:e.target};r.schedule(e);n.set(false);t.set(a)}));return P.none()};var a=function(e){r.cancel();FE(e).each((function(e){t.on((function(n){if(VE(e,n)){t.clear()}}))}));return P.none()};var i=function(o){r.cancel();var a=function(e){return cn(e.target,o.target)};return t.get().filter(a).map((function(t){if(n.get()){o.prevent();return false}else{return e.triggerEvent(nu(),o)}}))};var u=di([{key:Ei(),value:o},{key:Di(),value:a},{key:Ai(),value:i}]);var c=function(e,t){return Oe(u,t).bind((function(t){return t(e)}))};return{fireIfReady:c}};var jE=function(e){var t=e.raw;return t.which===rb[0]&&!U(["input","textarea"],it(e.target))&&!PE(e.target,'[contenteditable="true"]')};var WE=function(){return en().browser.isFirefox()};var qE=function(e,t){if(WE()){return iv(e,"focus",t)}else{return av(e,"focusin",t)}};var GE=function(e,t){if(WE()){return iv(e,"blur",t)}else{return av(e,"focusout",t)}};var $E=function(e,t){var n=D({stopBackspace:true},t);var r=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"];var o=UE(n);var a=G(r.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(t){return av(e,t,(function(e){o.fireIfReady(e,t).each((function(t){if(t){e.kill()}}));var r=n.triggerEvent(t,e);if(r){e.kill()}}))}));var i=rv();var u=av(e,"paste",(function(e){o.fireIfReady(e,"paste").each((function(t){if(t){e.kill()}}));var t=n.triggerEvent("paste",e);if(t){e.kill()}i.set(setTimeout((function(){n.triggerEvent(Qi(),e)}),0))}));var c=av(e,"keydown",(function(e){var t=n.triggerEvent("keydown",e);if(t){e.kill()}else if(n.stopBackspace&&jE(e)){e.prevent()}}));var f=qE(e,(function(e){var t=n.triggerEvent("focusin",e);if(t){e.kill()}}));var s=rv();var l=GE(e,(function(e){var t=n.triggerEvent("focusout",e);if(t){e.kill()}s.set(setTimeout((function(){n.triggerEvent(Ji(),e)}),0))}));var v=function(){$(a,(function(e){e.unbind()}));c.unbind();f.unbind();l.unbind();u.unbind();i.on(clearTimeout);s.on(clearTimeout)};return{unbind:v}};var KE=function(e,t){var n=Oe(e,"target").getOr(t);return oi(n)};var XE=function(e,t){var n=oi(false);var r=oi(false);var o=function(){n.set(true)};var a=function(){r.set(true)};return{stop:o,cut:a,isStopped:n.get,isCut:r.get,event:e,setSource:t.set,getSource:t.get}};var YE=function(e){var t=oi(false);var n=function(){t.set(true)};return{stop:n,cut:h,isStopped:t.get,isCut:O,event:e,setSource:T("Cannot set source of a broadcasted event"),getSource:T("Cannot get source of a broadcasted event")}};var JE=ii.generate([{stopped:[]},{resume:["element"]},{complete:[]}]);var QE=function(e,t,n,r,o,a){var i=e(t,r);var u=XE(n,o);return i.fold((function(){a.logEventNoHandlers(t,r);return JE.complete()}),(function(e){var n=e.descHandler;var r=Pc(n);r(u);if(u.isStopped()){a.logEventStopped(t,e.element,n.purpose);return JE.stopped()}else if(u.isCut()){a.logEventCut(t,e.element,n.purpose);return JE.complete()}else{return hn(e.element).fold((function(){a.logNoParent(t,e.element,n.purpose);return JE.complete()}),(function(r){a.logEventResponse(t,e.element,n.purpose);return JE.resume(r)}))}}))};var ZE=function(e,t,n,r,o,a){return QE(e,t,n,r,o,a).fold(_,(function(r){return ZE(e,t,n,r,o,a)}),O)};var eD=function(e,t,n,r,o){var a=KE(n,r);return QE(e,t,n,r,a,o)};var tD=function(e,t,n){var r=YE(t);$(e,(function(e){var t=e.descHandler;var n=Pc(t);n(r)}));return r.isStopped()};var nD=function(e,t,n,r){return rD(e,t,n,n.target,r)};var rD=function(e,t,n,r,o){var a=KE(n,r);return ZE(e,t,n,r,a,o)};var oD=function(e,t){return{element:e,descHandler:t}};var aD=function(e,t){return{id:e,descHandler:t}};var iD=function(){var e={};var t=function(t,n,r){pe(r,(function(r,o){var a=e[o]!==undefined?e[o]:{};a[n]=Bc(r,t);e[o]=a}))};var n=function(e,t){return sc(t).bind((function(t){return Oe(e,t)})).map((function(e){return oD(t,e)}))};var r=function(t){return Oe(e,t).map((function(e){return Se(e,(function(e,t){return aD(t,e)}))})).getOr([])};var o=function(t,r,o){return Oe(e,r).bind((function(e){return yi(o,(function(t){return n(e,t)}),t)}))};var a=function(t){pe(e,(function(e,n){if(_e(e,t)){delete e[t]}}))};return{registerId:t,unregisterId:a,filterByType:r,find:o}};var uD=function(){var e=iD();var t={};var n=function(e){var t=e.element;return sc(t).getOrThunk((function(){return cc("uid-",e.element)}))};var r=function(e,n){var r=t[n];if(r===e){a(e)}else{throw new Error('The tagId "'+n+'" is already used by: '+Qu(r.element)+"\nCannot use it for: "+Qu(e.element)+"\n"+"The conflicting element is"+(Bn(r.element)?" ":" not ")+"already in the DOM")}};var o=function(o){var a=n(o);if(Ee(t,a)){r(o,a)}var i=[o];e.registerId(i,a,o.events);t[a]=o};var a=function(n){sc(n.element).each((function(n){delete t[n];e.unregisterId(n)}))};var i=function(t){return e.filterByType(t)};var u=function(t,n,r){return e.find(t,n,r)};var c=function(e){return Oe(t,e)};return{find:u,filter:i,register:o,unregister:a,getById:c}};var cD=function(e){var t=e.dom,n=t.attributes,r=A(t,["attributes"]);return{uid:e.uid,dom:D({tag:"div",attributes:D({role:"presentation"},n)},r),components:e.components,behaviours:th(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}};var fD=lp({name:"Container",factory:cD,configFields:[Ka("components",[]),eh("containerBehaviours",[]),Ka("events",{}),Ka("domModification",{}),Ka("eventOrder",{})]});var sD=function(e){var t=function(t){return hn(e.element).fold(_,(function(e){return cn(t,e)}))};var n=uD();var r=function(e,r){return n.find(t,e,r)};var o=$E(e.element,{triggerEvent:function(e,t){return Qf(e,t.target,(function(n){return nD(r,e,t,n)}))}});var a={debugInfo:w("real"),triggerEvent:function(e,t,n){Qf(e,t,(function(o){return rD(r,e,n,t,o)}))},triggerFocus:function(e,t){sc(e).fold((function(){Sl(e)}),(function(n){Qf(Yi(),e,(function(n){eD(r,Yi(),{originator:t,kill:h,prevent:h,target:e},e,n);return false}))}))},triggerEscape:function(e,t){a.triggerEvent("keydown",e.element,t.event)},getByUid:function(e){return g(e)},getByDom:function(e){return p(e)},build:Ef,addToGui:function(e){c(e)},removeFromGui:function(e){f(e)},addToWorld:function(e){i(e)},removeFromWorld:function(e){u(e)},broadcast:function(e){v(e)},broadcastOn:function(e,t){d(e,t)},broadcastEvent:function(e,t){m(e,t)},isConnected:_};var i=function(e){e.connect(a);if(!st(e.element)){n.register(e);$(e.components(),i);a.triggerEvent(iu(),e.element,{target:e.element})}};var u=function(e){if(!st(e.element)){$(e.components(),u);n.unregister(e)}e.disconnect()};var c=function(t){jm(e,t)};var f=function(e){Gm(e)};var s=function(){o.unbind();zr(e.element)};var l=function(e){var t=n.filter(Zi());$(t,(function(t){var n=t.descHandler;var r=Pc(n);r(e)}))};var v=function(e){l({universal:true,data:e})};var d=function(e,t){l({universal:false,channels:e,data:t})};var m=function(e,t){var r=n.filter(e);return tD(r,t)};var g=function(e){return n.getById(e).fold((function(){return no.error(new Error('Could not find component with uid: "'+e+'" in system.'))}),no.value)};var p=function(e){var t=sc(e).getOr("not found");return g(t)};i(e);return{root:e,element:e.element,destroy:s,add:c,remove:f,getByUid:g,getByDom:p,addToWorld:i,removeFromWorld:u,broadcast:v,broadcastOn:d,broadcastEvent:m}};var lD=function(e,t){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:G(e.items,t.interpreter)}};var vD=w([Ka("prefix","form-field"),eh("fieldBehaviours",[pp,Zg])]);var dD=w([zh({schema:[Da("dom")],name:"label"}),zh({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[Da("text")],name:"aria-descriptor"}),Mh({factory:{sketch:function(e){var t=li(e,["factory"]);return e.factory.sketch(t)}},schema:[Da("factory")],name:"field"})]);var mD=function(e,t,n,r){var o=nh(e.fieldBehaviours,[pp.config({find:function(t){return $h(t,e,"field")}}),Zg.config({store:{mode:"manual",getValue:function(e){return pp.getCurrent(e).bind(Zg.getValue)},setValue:function(e,t){pp.getCurrent(e).each((function(e){Zg.setValue(e,t)}))}}})]);var a=_u([Vu((function(t,n){var r=Xh(t,e,["label","field","aria-descriptor"]);r.field().each((function(t){var n=rc(e.prefix);r.label().each((function(e){In(e.element,"for",n);In(t.element,"id",n)}));r["aria-descriptor"]().each((function(n){var r=rc(e.prefix);In(n.element,"id",r);In(t.element,"aria-describedby",r)}))}))}))]);var i={getField:function(t){return $h(t,e,"field")},getLabel:function(t){return $h(t,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:a,apis:i}};var gD=vp({name:"FormField",configFields:vD(),partFields:dD(),factory:mD,apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}});var hD=function(e,t){return Dc({attributes:di([{key:t.tabAttr,value:"true"}])})};var pD=Object.freeze({__proto__:null,exhibit:hD});var bD=[Ka("tabAttr","data-alloy-tabstop")];var yD=gl({fields:bD,name:"tabstopping",active:pD});var wD=tinymce.util.Tools.resolve("tinymce.html.Entities");var xD=function(e,t,n,r){var o=SD(e,t,n,r);return gD.sketch(o)};var CD=function(e,t){return xD(e,t,[],[])};var SD=function(e,t,n,r){return{dom:TD(n),components:e.toArray().concat([t]),fieldBehaviours:dl(r)}};var kD=function(){return TD([])};var TD=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}};var OD=function(e,t){return gD.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})};var _D=rc("form-component-change");var ED=rc("form-close");var DD=rc("form-cancel");var AD=rc("form-action");var ND=rc("form-submit");var MD=rc("form-block");var RD=rc("form-unblock");var zD=rc("form-tabchange");var BD=rc("form-resize");var PD=function(e,t){var n;var r=e.label.map((function(e){return OD(e,t)}));var o=function(e){return function(t,n){If(n.event.target,"[data-collection-item-value]").each((function(r){e(t,n,r,Vn(r,"data-collection-item-value"))}))}};var a=function(n,r){var o=G(r,(function(n){var r=TC.translate(n.text);var o=e.columns===1?'<div class="tox-collection__item-label">'+r+"</div>":"";var a='<div class="tox-collection__item-icon">'+n.icon+"</div>";var i={_:" "," - ":" ","-":" "};var u=r.replace(/\_| \- |\-/g,(function(e){return i[e]}));var c=t.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+c+'" tabindex="-1" data-collection-item-value="'+wD.encodeAllRaw(n.value)+'" title="'+u+'" aria-label="'+u+'">'+a+o+"</div>"}));var a=e.columns!=="auto"&&e.columns>1?q(o,e.columns):[o];var i=G(a,(function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"}));$u(n.element,i.join(""))};var i=o((function(n,r,o,a){r.stop();if(!t.isDisabled()){Cu(n,AD,{name:e.name,value:a})}}));var u=[Nu(Pi(),o((function(e,t,n){Sl(n)}))),Nu(ji(),i),Nu(nu(),i),Nu(Li(),o((function(e,t,n){Hf(e.element,"."+ek).each((function(e){cf(e,ek)}));af(n,ek)}))),Nu(Hi(),o((function(e){Hf(e.element,"."+ek).each((function(e){cf(e,ek)}))}))),Wu(o((function(t,n,r,o){Cu(t,AD,{name:e.name,value:o})})))];var c=function(e,t){return G(Kd(e.element,".tox-collection__item"),t)};var f=gD.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(e.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:x},behaviours:dl([Pp.config({disabled:t.isDisabled,onDisabled:function(e){c(e,(function(e){af(e,"tox-collection__item--state-disabled");In(e,"aria-disabled",true)}))},onEnabled:function(e){c(e,(function(e){cf(e,"tox-collection__item--state-disabled");Wn(e,"aria-disabled")}))}}),uO(),Iw.config({}),Zg.config({store:{mode:"memory",initialValue:[]},onSetValue:function(t,n){a(t,n);if(e.columns==="auto"){Kk(t,5,"tox-collection__item").each((function(e){var n=e.numRows,r=e.numColumns;Dw.setGridSize(t,n,r)}))}xu(t,BD)}}),yD.config({}),Dw.config(oE(e.columns,"normal")),Vw("collection-events",u)]),eventOrder:(n={},n[eu()]=["disabling","alloy.base.behaviour","collection-events"],n)});var s=["tox-form__group--collection"];return xD(r,f,s,[])};var LD=w([Fa("data"),Ka("inputAttributes",{}),Ka("inputStyles",{}),Ka("tag","input"),Ka("inputClasses",[]),cs("onSetValue"),Ka("styles",{}),Ka("eventOrder",{}),eh("inputBehaviours",[Zg,Yw]),Ka("selectOnFocus",true)]);var HD=function(e){return dl([Yw.config({onFocus:!e.selectOnFocus?h:function(e){var t=e.element;var n=df(t);t.dom.setSelectionRange(0,n.length)}})])};var ID=function(e){return D(D({},HD(e)),nh(e.inputBehaviours,[Zg.config({store:D(D({mode:"manual"},e.data.map((function(e){return{initialValue:e}})).getOr({})),{getValue:function(e){return df(e.element)},setValue:function(e,t){var n=df(e.element);if(n!==t){mf(e.element,t)}}}),onSetValue:e.onSetValue})]))};var FD=function(e){return{tag:e.tag,attributes:D({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}};var VD=function(e,t){return{uid:e.uid,dom:FD(e),components:[],behaviours:ID(e),eventOrder:e.eventOrder}};var UD=lp({name:"Input",configFields:LD(),factory:VD});var jD={},WD={exports:jD};(function(e,t,r,o){(function(n,o){typeof t==="object"&&typeof r!=="undefined"?r.exports=o():typeof e==="function"&&e.amd?e(o):(n=typeof globalThis!=="undefined"?globalThis:n||self,n.EphoxContactWrapper=o())})(this,(function(){var e=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof n.g!=="undefined"?n.g:typeof self!=="undefined"?self:{};var t={exports:{}};(function(t){(function(e){var n=setTimeout;function r(){}function o(e,t){return function(){e.apply(t,arguments)}}function a(e){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");if(typeof e!=="function")throw new TypeError("not a function");this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];l(e,this)}function i(e,t){while(e._state===3){e=e._value}if(e._state===0){e._deferreds.push(t);return}e._handled=true;a._immediateFn((function(){var n=e._state===1?t.onFulfilled:t.onRejected;if(n===null){(e._state===1?u:c)(t.promise,e._value);return}var r;try{r=n(e._value)}catch(e){c(t.promise,e);return}u(t.promise,r)}))}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t==="object"||typeof t==="function")){var n=t.then;if(t instanceof a){e._state=3;e._value=t;f(e);return}else if(typeof n==="function"){l(o(n,t),e);return}}e._state=1;e._value=t;f(e)}catch(t){c(e,t)}}function c(e,t){e._state=2;e._value=t;f(e)}function f(e){if(e._state===2&&e._deferreds.length===0){a._immediateFn((function(){if(!e._handled){a._unhandledRejectionFn(e._value)}}))}for(var t=0,n=e._deferreds.length;t<n;t++){i(e,e._deferreds[t])}e._deferreds=null}function s(e,t,n){this.onFulfilled=typeof e==="function"?e:null;this.onRejected=typeof t==="function"?t:null;this.promise=n}function l(e,t){var n=false;try{e((function(e){if(n)return;n=true;u(t,e)}),(function(e){if(n)return;n=true;c(t,e)}))}catch(e){if(n)return;n=true;c(t,e)}}a.prototype["catch"]=function(e){return this.then(null,e)};a.prototype.then=function(e,t){var n=new this.constructor(r);i(this,new s(e,t,n));return n};a.all=function(e){var t=Array.prototype.slice.call(e);return new a((function(e,n){if(t.length===0)return e([]);var r=t.length;function o(a,i){try{if(i&&(typeof i==="object"||typeof i==="function")){var u=i.then;if(typeof u==="function"){u.call(i,(function(e){o(a,e)}),n);return}}t[a]=i;if(--r===0){e(t)}}catch(e){n(e)}}for(var a=0;a<t.length;a++){o(a,t[a])}}))};a.resolve=function(e){if(e&&typeof e==="object"&&e.constructor===a){return e}return new a((function(t){t(e)}))};a.reject=function(e){return new a((function(t,n){n(e)}))};a.race=function(e){return new a((function(t,n){for(var r=0,o=e.length;r<o;r++){e[r].then(t,n)}}))};a._immediateFn=typeof setImmediate==="function"?function(e){setImmediate(e)}:function(e){n(e,0)};a._unhandledRejectionFn=function e(t){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",t)}};a._setImmediateFn=function e(t){a._immediateFn=t};a._setUnhandledRejectionFn=function e(t){a._unhandledRejectionFn=t};if(t.exports){t.exports=a}else if(!e.Promise){e.Promise=a}})(e)})(t);var r=t.exports;var o=function(){if(typeof window!=="undefined"){return window}else{return Function("return this;")()}}();var a={boltExport:o.Promise||r};return a}))})(undefined,jD,WD);var qD=WD.exports.boltExport;var GD=function(e){var t=P.none();var n=[];var r=function(e){return GD((function(t){o((function(n){t(e(n))}))}))};var o=function(e){if(i()){c(e)}else{n.push(e)}};var a=function(e){if(!i()){t=P.some(e);u(n);n=[]}};var i=function(){return t.isSome()};var u=function(e){$(e,c)};var c=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))};e(a);return{get:o,map:r,isReady:i}};var $D=function(e){return GD((function(t){t(e)}))};var KD={nu:GD,pure:$D};var XD=function(e){setTimeout((function(){throw e}),0)};var YD=function(e){var t=function(t){e().then(t,XD)};var n=function(t){return YD((function(){return e().then(t)}))};var r=function(t){return YD((function(){return e().then((function(e){return t(e).toPromise()}))}))};var o=function(t){return YD((function(){return e().then((function(){return t.toPromise()}))}))};var a=function(){return KD.nu(t)};var i=function(){var t=null;return YD((function(){if(t===null){t=e()}return t}))};var u=e;return{map:n,bind:r,anonBind:o,toLazy:a,toCached:i,toPromise:u,get:t}};var JD=function(e){return YD((function(){return new qD(e)}))};var QD=function(e){return YD((function(){return qD.resolve(e)}))};var ZD={nu:JD,pure:QD};var eA=["input","textarea"];var tA=function(e){var t=it(e);return U(eA,t)};var nA=function(e,t){var n=t.getRoot(e).getOr(e.element);cf(n,t.invalidClass);t.notify.each((function(t){if(tA(e.element)){In(e.element,"aria-invalid",false)}t.getContainer(e).each((function(e){$u(e,t.validHtml)}));t.onValid(e)}))};var rA=function(e,t,n,r){var o=t.getRoot(e).getOr(e.element);af(o,t.invalidClass);t.notify.each((function(t){if(tA(e.element)){In(e.element,"aria-invalid",true)}t.getContainer(e).each((function(e){$u(e,r)}));t.onInvalid(e,r)}))};var oA=function(e,t,n){return t.validator.fold((function(){return ZD.pure(no.value(true))}),(function(t){return t.validate(e)}))};var aA=function(e,t,n){t.notify.each((function(t){t.onValidate(e)}));return oA(e,t).map((function(r){if(e.getSystem().isConnected()){return r.fold((function(r){rA(e,t,n,r);return no.error(r)}),(function(n){nA(e,t);return no.value(n)}))}else{return no.error("No longer in system")}}))};var iA=function(e,t){var n=t.getRoot(e).getOr(e.element);return ff(n,t.invalidClass)};var uA=Object.freeze({__proto__:null,markValid:nA,markInvalid:rA,query:oA,run:aA,isInvalid:iA});var cA=function(e,t){return e.validator.map((function(n){return _u([Nu(n.onEvent,(function(n){aA(n,e,t).get(x)}))].concat(n.validateOnLoad?[Vu((function(n){aA(n,e,t).get(h)}))]:[]))})).getOr({})};var fA=Object.freeze({__proto__:null,events:cA});var sA=[Da("invalidClass"),Ka("getRoot",P.none),Ga("notify",[Ka("aria","alert"),Ka("getContainer",P.none),Ka("validHtml",""),cs("onValid"),cs("onInvalid"),cs("onValidate")]),Ga("validator",[Da("validate"),Ka("onEvent","input"),Ka("validateOnLoad",true)])];var lA=gl({fields:sA,name:"invalidating",active:fA,apis:uA,extra:{validation:function(e){return function(t){var n=Zg.getValue(t);return ZD.pure(e(n))}}}});var vA=function(e,t,n,r){return n.getOrCreate(e,t,r)};var dA=Object.freeze({__proto__:null,getCoupled:vA});var mA=[Aa("others",ba(no.value,ia()))];var gA=function(){var e={};var t=function(t,n,r){var o=ge(n.others);if(!o){throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))}else{return Oe(e,r).getOrThunk((function(){var o=Oe(n.others,r).getOrDie("No information found for coupled component: "+r);var a=o(t);var i=t.getSystem().build(a);e[r]=i;return i}))}};var n=w({});return kc({readState:n,getOrCreate:t})};var hA=Object.freeze({__proto__:null,init:gA});var pA=gl({fields:mA,name:"coupling",apis:dA,state:hA});var bA=w("sink");var yA=w(zh({name:bA(),overrides:w({dom:{tag:"div"},behaviours:dl([Lm.config({useFixed:_})]),events:_u([Hu(Ii()),Hu(Mi()),Hu(ji())])})}));var wA;(function(e){e[e["HighlightFirst"]=0]="HighlightFirst";e[e["HighlightNone"]=1]="HighlightNone"})(wA||(wA={}));var xA=function(e,t){var n=e.getHotspot(t).getOr(t);var r="hotspot";var o=e.getAnchorOverrides();return e.layouts.fold((function(){return{type:r,hotspot:n,overrides:o}}),(function(e){return{type:r,hotspot:n,overrides:o,layouts:e}}))};var CA=function(e,t,n){var r=e.fetch;return r(n).map(t)};var SA=function(e,t,n,r,o,a,i){var u=CA(e,t,r);var c=EA(r,e);return u.map((function(e){return e.bind((function(e){return P.from(Qx.sketch(D(D({},a.menu()),{uid:lc(""),data:e,highlightImmediately:i===wA.HighlightFirst,onOpenMenu:function(e,t){var r=c().getOrDie();Lm.position(r,t,{anchor:n});pg.decloak(o)},onOpenSubmenu:function(e,t,n){var r=c().getOrDie();Lm.position(r,n,{anchor:{type:"submenu",item:t}});pg.decloak(o)},onRepositionMenu:function(e,t,r){var o=c().getOrDie();Lm.position(o,t,{anchor:n});$(r,(function(e){Lm.position(o,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:function(){Yw.focus(r);pg.close(o);return P.some(true)}})))}))}))};var kA=function(e,t,n,r,o,a,i){var u=xA(e,n);var c=SA(e,t,u,n,r,o,i);return c.map((function(e){e.fold((function(){if(pg.isOpen(r)){pg.close(r)}}),(function(e){pg.cloak(r);pg.open(r,e);a(r)}));return r}))};var TA=function(e,t,n,r,o,a,i){pg.close(r);return ZD.pure(r)};var OA=function(e,t,n,r,o,a){var i=pA.getCoupled(n,"sandbox");var u=pg.isOpen(i);var c=u?TA:kA;return c(e,t,n,i,r,o,a)};var _A=function(e,t,n){var r=pp.getCurrent(t).getOr(t);var o=hr(e.element);if(n){$n(r.element,"min-width",o+"px")}else{gr(r.element,o)}};var EA=function(e,t){return e.getSystem().getByUid(t.uid+"-"+bA()).map((function(e){return function(){return no.value(e)}})).getOrThunk((function(){return t.lazySink.fold((function(){return function(){return no.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(t){return function(){return t(e)}}))}))};var DA=function(e){pg.getState(e).each((function(e){Qx.repositionMenus(e)}))};var AA=function(e,t,n){var r=Vf();var o=function(o,a){var i=xA(e,t);r.link(t.element);if(e.matchWidth){_A(i.hotspot,a,e.useMinWidth)}e.onOpen(i,o,a);if(n!==undefined&&n.onOpen!==undefined){n.onOpen(o,a)}};var a=function(e,o){r.unlink(t.element);if(n!==undefined&&n.onClose!==undefined){n.onClose(e,o)}};var i=EA(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:rh.augment(e.sandboxBehaviours,[Zg.config({store:{mode:"memory",initialValue:t}}),pg.config({onOpen:o,onClose:a,isPartOf:function(e,n,r){return jf(n,r)||jf(t,r)},getAttachPoint:function(){return i().getOrDie()}}),pp.config({find:function(e){return pg.getState(e).bind((function(e){return pp.getCurrent(e)}))}}),yl.config({channels:D(D({},Cg({isExtraPart:O})),kg({doReposition:DA}))})])}};var NA=function(e){var t=pA.getCoupled(e,"sandbox");DA(t)};var MA=function(){return[Ka("sandboxClasses",[]),rh.field("sandboxBehaviours",[pp,yl,pg,Zg])]};var RA=w([Da("dom"),Da("fetch"),cs("onOpen"),fs("onExecute"),Ka("getHotspot",P.some),Ka("getAnchorOverrides",w({})),Iv(),eh("dropdownBehaviours",[gx,pA,Dw,Yw]),Da("toggleClass"),Ka("eventOrder",{}),Fa("lazySink"),Ka("matchWidth",false),Ka("useMinWidth",false),Fa("role")].concat(MA()));var zA=w([Rh({schema:[as()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),yA()]);var BA=function(e,t,n,r){var o;var a=function(t){return Oe(e.dom,"attributes").bind((function(e){return Oe(e,t)}))};var i=function(e){pg.getState(e).each((function(e){Qx.highlightPrimary(e)}))};var u=function(t){var n=i;OA(e,x,t,r,n,wA.HighlightFirst).get(h)};var c={expand:function(t){if(!gx.isOn(t)){OA(e,x,t,r,h,wA.HighlightNone).get(h)}},open:function(t){if(!gx.isOn(t)){OA(e,x,t,r,h,wA.HighlightFirst).get(h)}},isOpen:gx.isOn,close:function(t){if(gx.isOn(t)){OA(e,x,t,r,h,wA.HighlightFirst).get(h)}},repositionMenus:function(e){if(gx.isOn(e)){NA(e)}}};var f=function(e,t){Su(e);return P.some(true)};return{uid:e.uid,dom:e.dom,components:t,behaviours:nh(e.dropdownBehaviours,[gx.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),pA.config({others:{sandbox:function(t){return AA(e,t,{onOpen:function(){return gx.on(t)},onClose:function(){return gx.off(t)}})}}}),Dw.config({mode:"special",onSpace:f,onEnter:f,onDown:function(e,t){if(PA.isOpen(e)){var n=pA.getCoupled(e,"sandbox");i(n)}else{PA.open(e)}return P.some(true)},onEscape:function(e,t){if(PA.isOpen(e)){PA.close(e);return P.some(true)}else{return P.none()}}}),Yw.config({})]),events:px(P.some(u)),eventOrder:D(D({},e.eventOrder),(o={},o[eu()]=["disabling","toggling","alloy.base.behaviour"],o)),apis:c,domModification:{attributes:D(D({"aria-haspopup":"true"},e.role.fold((function(){return{}}),(function(e){return{role:e}}))),e.dom.tag==="button"?{type:a("type").getOr("button")}:{})}}};var PA=vp({name:"Dropdown",configFields:RA(),partFields:zA(),factory:BA,apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}});var LA=function(){return Dc({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})};var HA=function(){return _u([Eu($i(),_)])};var IA=Object.freeze({__proto__:null,events:HA,exhibit:LA});var FA=gl({fields:[],name:"unselecting",active:IA});var VA=function(e,t){return PA.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:dl([vO.button(t.providers.isDisabled),uO(),FA.config({}),yD.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(n){return ZD.nu((function(t){return e.fetch(t)})).map((function(r){return P.from(ME(Co(tE(rc("menu-value"),r,(function(t){e.onItemAction(n,t)}),e.columns,e.presets,US.CLOSE_ON_EXECUTE,O,t.providers),{movement:rE(e.columns,e.presets)})))}))},parts:{menu:gk(false,1,e.presets)}})};var UA=rc("color-input-change");var jA=rc("color-swatch-change");var WA=rc("color-picker-cancel");var qA=function(e,t,n){var r=gD.parts.field({factory:UD,inputClasses:["tox-textfield"],onSetValue:function(e){return lA.run(e).get(h)},inputBehaviours:dl([Pp.config({disabled:t.providers.isDisabled}),uO(),yD.config({}),lA.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return hn(e.element)},notify:{onValid:function(e){var t=Zg.getValue(e);Cu(e,UA,{color:t})}},validator:{validateOnLoad:false,validate:function(e){var t=Zg.getValue(e);if(t.length===0){return ZD.pure(no.value(true))}else{var n=tt.fromTag("span");$n(n,"background-color",t);var r=Qn(n,"background-color").fold((function(){return no.error("blah")}),(function(e){return no.value(t)}));return ZD.pure(r)}}}})]),selectOnFocus:false});var o=e.label.map((function(e){return OD(e,t.providers)}));var a=function(e,t){Cu(e,jA,{value:t})};var i=function(e,t){u.getOpt(e).each((function(e){if(t==="custom"){n.colorPicker((function(t){t.fold((function(){return xu(e,WA)}),(function(t){a(e,t);H_(t)}))}),"#ffffff")}else if(t==="remove"){a(e,"")}else{a(e,t)}}))};var u=kC(VA({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[js,Us,$s]},onLtr:function(){return[Us,js,$s]}},components:[],fetch:X_(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:i},t));return gD.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,u.asSpec()]}]),fieldBehaviours:dl([Vw("form-field-events",[Nu(UA,(function(t,n){u.getOpt(t).each((function(e){$n(e.element,"background-color",n.event.color)}));Cu(t,_D,{name:e.name})})),Nu(jA,(function(e,t){gD.getField(e).each((function(n){Zg.setValue(n,t.event.value);pp.getCurrent(e).each(Yw.focus)}))})),Nu(WA,(function(e,t){gD.getField(e).each((function(t){pp.getCurrent(e).each(Yw.focus)}))}))])])})};var GA=zh({schema:[Da("dom")],name:"label"});var $A=function(e){return zh({name:""+e+"-edge",overrides:function(t){var n=t.model.manager.edgeActions[e];return n.fold((function(){return{}}),(function(e){return{events:_u([Mu(Ei(),(function(t,n,r){return e(t,r)}),[t]),Mu(Mi(),(function(t,n,r){return e(t,r)}),[t]),Mu(Ri(),(function(t,n,r){if(r.mouseIsDown.get()){e(t,r)}}),[t])])}}))}})};var KA=$A("top-left");var XA=$A("top");var YA=$A("top-right");var JA=$A("right");var QA=$A("bottom-right");var ZA=$A("bottom");var eN=$A("bottom-left");var tN=$A("left");var nN=Mh({name:"thumb",defaults:w({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:_u([Pu(Ei(),e,"spectrum"),Pu(Di(),e,"spectrum"),Pu(Ai(),e,"spectrum"),Pu(Mi(),e,"spectrum"),Pu(Ri(),e,"spectrum"),Pu(Bi(),e,"spectrum")])}}});var rN=Mh({schema:[_a("mouseIsDown",(function(){return oi(false)}))],name:"spectrum",overrides:function(e){var t=e.model;var n=t.manager;var r=function(t,r){return n.getValueFromEvent(r).map((function(r){return n.setValueFrom(t,e,r)}))};return{behaviours:dl([Dw.config({mode:"special",onLeft:function(t){return n.onLeft(t,e)},onRight:function(t){return n.onRight(t,e)},onUp:function(t){return n.onUp(t,e)},onDown:function(t){return n.onDown(t,e)}}),Yw.config({})]),events:_u([Nu(Ei(),r),Nu(Di(),r),Nu(Mi(),r),Nu(Ri(),(function(t,n){if(e.mouseIsDown.get()){r(t,n)}}))])}}});var oN=[GA,tN,JA,XA,ZA,KA,YA,eN,QA,nN,rN];var aN="slider.change.value";var iN=w(aN);var uN=function(e){return e.type.indexOf("touch")!==-1};var cN=function(e){var t=e.event.raw;if(uN(t)){var n=t;return n.touches!==undefined&&n.touches.length===1?P.some(n.touches[0]).map((function(e){return fr(e.clientX,e.clientY)})):P.none()}else{var r=t;return r.clientX!==undefined?P.some(r).map((function(e){return fr(e.clientX,e.clientY)})):P.none()}};var fN="top",sN="right",lN="bottom",vN="left";var dN=function(e){return e.model.minX};var mN=function(e){return e.model.minY};var gN=function(e){return e.model.minX-1};var hN=function(e){return e.model.minY-1};var pN=function(e){return e.model.maxX};var bN=function(e){return e.model.maxY};var yN=function(e){return e.model.maxX+1};var wN=function(e){return e.model.maxY+1};var xN=function(e,t,n){return t(e)-n(e)};var CN=function(e){return xN(e,pN,dN)};var SN=function(e){return xN(e,bN,mN)};var kN=function(e){return CN(e)/2};var TN=function(e){return SN(e)/2};var ON=function(e){return e.stepSize};var _N=function(e){return e.snapToGrid};var EN=function(e){return e.snapStart};var DN=function(e){return e.rounded};var AN=function(e,t){return e[t+"-edge"]!==undefined};var NN=function(e){return AN(e,vN)};var MN=function(e){return AN(e,sN)};var RN=function(e){return AN(e,fN)};var zN=function(e){return AN(e,lN)};var BN=function(e){return e.model.value.get()};var PN=function(e){return{x:e}};var LN=function(e){return{y:e}};var HN=function(e,t){return{x:e,y:t}};var IN=function(e,t){Cu(e,iN(),{value:t})};var FN=function(e,t){IN(e,HN(gN(t),hN(t)))};var VN=function(e,t){IN(e,LN(hN(t)))};var UN=function(e,t){IN(e,HN(kN(t),hN(t)))};var jN=function(e,t){IN(e,HN(yN(t),hN(t)))};var WN=function(e,t){IN(e,PN(yN(t)))};var qN=function(e,t){IN(e,HN(yN(t),TN(t)))};var GN=function(e,t){IN(e,HN(yN(t),wN(t)))};var $N=function(e,t){IN(e,LN(wN(t)))};var KN=function(e,t){IN(e,HN(kN(t),wN(t)))};var XN=function(e,t){IN(e,HN(gN(t),wN(t)))};var YN=function(e,t){IN(e,PN(gN(t)))};var JN=function(e,t){IN(e,HN(gN(t),TN(t)))};var QN=function(e,t,n,r){if(e<t){return e}else if(e>n){return n}else if(e===t){return t-1}else{return Math.max(t,e-r)}};var ZN=function(e,t,n,r){if(e>n){return e}else if(e<t){return t}else if(e===n){return n+1}else{return Math.min(n,e+r)}};var eM=function(e,t,n){return Math.max(t,Math.min(n,e))};var tM=function(e,t,n,r,o){return o.fold((function(){var o=e-t;var a=Math.round(o/r)*r;return eM(t+a,t-1,n+1)}),(function(t){var o=(e-t)%r;var a=Math.round(o/r);var i=Math.floor((e-t)/r);var u=Math.floor((n-t)/r);var c=Math.min(u,i+a);var f=t+c*r;return Math.max(t,f)}))};var nM=function(e,t,n){return Math.min(n,Math.max(e,t))-t};var rM=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,a=e.step,i=e.snap,u=e.snapStart,c=e.rounded,f=e.hasMinEdge,s=e.hasMaxEdge,l=e.minBound,v=e.maxBound,d=e.screenRange;var m=f?t-1:t;var g=s?n+1:n;if(o<l){return m}else if(o>v){return g}else{var h=nM(o,l,v);var p=eM(h/d*r+t,m,g);if(i&&p>=t&&p<=n){return tM(p,t,n,a,u)}else if(c){return Math.round(p)}else{return p}}};var oM=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,a=e.hasMinEdge,i=e.hasMaxEdge,u=e.maxBound,c=e.maxOffset,f=e.centerMinEdge,s=e.centerMaxEdge;if(o<t){return a?0:f}else if(o>n){return i?u:s}else{return(o-t)/r*c}};var aM="top",iM="right",uM="bottom",cM="left",fM="width",sM="height";var lM=function(e){return e.element.dom.getBoundingClientRect()};var vM=function(e,t){return e[t]};var dM=function(e){var t=lM(e);return vM(t,cM)};var mM=function(e){var t=lM(e);return vM(t,iM)};var gM=function(e){var t=lM(e);return vM(t,aM)};var hM=function(e){var t=lM(e);return vM(t,uM)};var pM=function(e){var t=lM(e);return vM(t,fM)};var bM=function(e){var t=lM(e);return vM(t,sM)};var yM=function(e,t,n){return(e+t)/2-n};var wM=function(e,t){var n=lM(e);var r=lM(t);var o=vM(n,cM);var a=vM(n,iM);var i=vM(r,cM);return yM(o,a,i)};var xM=function(e,t){var n=lM(e);var r=lM(t);var o=vM(n,aM);var a=vM(n,uM);var i=vM(r,aM);return yM(o,a,i)};var CM=function(e,t){Cu(e,iN(),{value:t})};var SM=function(e){return{x:e}};var kM=function(e,t,n){var r={min:dN(t),max:pN(t),range:CN(t),value:n,step:ON(t),snap:_N(t),snapStart:EN(t),rounded:DN(t),hasMinEdge:NN(t),hasMaxEdge:MN(t),minBound:dM(e),maxBound:mM(e),screenRange:pM(e)};return rM(r)};var TM=function(e,t,n){var r=kM(e,t,n);var o=SM(r);CM(e,o);return r};var OM=function(e,t){var n=dN(t);CM(e,SM(n))};var _M=function(e,t){var n=pN(t);CM(e,SM(n))};var EM=function(e,t,n){var r=e>0?ZN:QN;var o=r(BN(n).x,dN(n),pN(n),ON(n));CM(t,SM(o));return P.some(o)};var DM=function(e){return function(t,n){return EM(e,t,n).map(_)}};var AM=function(e){var t=cN(e);return t.map((function(e){return e.left}))};var NM=function(e,t,n,r,o){var a=0;var i=pM(e);var u=r.bind((function(t){return P.some(wM(t,e))})).getOr(a);var c=o.bind((function(t){return P.some(wM(t,e))})).getOr(i);var f={min:dN(t),max:pN(t),range:CN(t),value:n,hasMinEdge:NN(t),hasMaxEdge:MN(t),minBound:dM(e),minOffset:a,maxBound:mM(e),maxOffset:i,centerMinEdge:u,centerMaxEdge:c};return oM(f)};var MM=function(e,t,n,r,o,a){var i=NM(t,a,n,r,o);return dM(t)-dM(e)+i};var RM=function(e,t,n,r){var o=BN(n);var a=MM(e,r.getSpectrum(e),o.x,r.getLeftEdge(e),r.getRightEdge(e),n);var i=hr(t.element)/2;$n(t.element,"left",a-i+"px")};var zM=DM(-1);var BM=DM(1);var PM=P.none;var LM=P.none;var HM={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some(WN),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some(YN)};var IM=Object.freeze({__proto__:null,setValueFrom:TM,setToMin:OM,setToMax:_M,findValueOfOffset:kM,getValueFromEvent:AM,findPositionOfValue:MM,setPositionFromValue:RM,onLeft:zM,onRight:BM,onUp:PM,onDown:LM,edgeActions:HM});var FM=function(e,t){Cu(e,iN(),{value:t})};var VM=function(e){return{y:e}};var UM=function(e,t,n){var r={min:mN(t),max:bN(t),range:SN(t),value:n,step:ON(t),snap:_N(t),snapStart:EN(t),rounded:DN(t),hasMinEdge:RN(t),hasMaxEdge:zN(t),minBound:gM(e),maxBound:hM(e),screenRange:bM(e)};return rM(r)};var jM=function(e,t,n){var r=UM(e,t,n);var o=VM(r);FM(e,o);return r};var WM=function(e,t){var n=mN(t);FM(e,VM(n))};var qM=function(e,t){var n=bN(t);FM(e,VM(n))};var GM=function(e,t,n){var r=e>0?ZN:QN;var o=r(BN(n).y,mN(n),bN(n),ON(n));FM(t,VM(o));return P.some(o)};var $M=function(e){return function(t,n){return GM(e,t,n).map(_)}};var KM=function(e){var t=cN(e);return t.map((function(e){return e.top}))};var XM=function(e,t,n,r,o){var a=0;var i=bM(e);var u=r.bind((function(t){return P.some(xM(t,e))})).getOr(a);var c=o.bind((function(t){return P.some(xM(t,e))})).getOr(i);var f={min:mN(t),max:bN(t),range:SN(t),value:n,hasMinEdge:RN(t),hasMaxEdge:zN(t),minBound:gM(e),minOffset:a,maxBound:hM(e),maxOffset:i,centerMinEdge:u,centerMaxEdge:c};return oM(f)};var YM=function(e,t,n,r,o,a){var i=XM(t,a,n,r,o);return gM(t)-gM(e)+i};var JM=function(e,t,n,r){var o=BN(n);var a=YM(e,r.getSpectrum(e),o.y,r.getTopEdge(e),r.getBottomEdge(e),n);var i=ar(t.element)/2;$n(t.element,"top",a-i+"px")};var QM=P.none;var ZM=P.none;var eR=$M(-1);var tR=$M(1);var nR={"top-left":P.none(),top:P.some(VN),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some($N),"bottom-left":P.none(),left:P.none()};var rR=Object.freeze({__proto__:null,setValueFrom:jM,setToMin:WM,setToMax:qM,findValueOfOffset:UM,getValueFromEvent:KM,findPositionOfValue:YM,setPositionFromValue:JM,onLeft:QM,onRight:ZM,onUp:eR,onDown:tR,edgeActions:nR});var oR=function(e,t){Cu(e,iN(),{value:t})};var aR=function(e,t){return{x:e,y:t}};var iR=function(e,t,n){var r=kM(e,t,n.left);var o=UM(e,t,n.top);var a=aR(r,o);oR(e,a);return a};var uR=function(e,t,n,r){var o=e>0?ZN:QN;var a=t?BN(r).x:o(BN(r).x,dN(r),pN(r),ON(r));var i=!t?BN(r).y:o(BN(r).y,mN(r),bN(r),ON(r));oR(n,aR(a,i));return P.some(a)};var cR=function(e,t){return function(n,r){return uR(e,t,n,r).map(_)}};var fR=function(e,t){var n=dN(t);var r=mN(t);oR(e,aR(n,r))};var sR=function(e,t){var n=pN(t);var r=bN(t);oR(e,aR(n,r))};var lR=function(e){return cN(e)};var vR=function(e,t,n,r){var o=BN(n);var a=MM(e,r.getSpectrum(e),o.x,r.getLeftEdge(e),r.getRightEdge(e),n);var i=YM(e,r.getSpectrum(e),o.y,r.getTopEdge(e),r.getBottomEdge(e),n);var u=hr(t.element)/2;var c=ar(t.element)/2;$n(t.element,"left",a-u+"px");$n(t.element,"top",i-c+"px")};var dR=cR(-1,false);var mR=cR(1,false);var gR=cR(-1,true);var hR=cR(1,true);var pR={"top-left":P.some(FN),top:P.some(UN),"top-right":P.some(jN),right:P.some(qN),"bottom-right":P.some(GN),bottom:P.some(KN),"bottom-left":P.some(XN),left:P.some(JN)};var bR=Object.freeze({__proto__:null,setValueFrom:iR,setToMin:fR,setToMax:sR,getValueFromEvent:lR,setPositionFromValue:vR,onLeft:dR,onRight:mR,onUp:gR,onDown:hR,edgeActions:pR});var yR=[Ka("stepSize",1),Ka("onChange",h),Ka("onChoose",h),Ka("onInit",h),Ka("onDragStart",h),Ka("onDragEnd",h),Ka("snapToGrid",false),Ka("rounded",true),Fa("snapStart"),Aa("model",ka("mode",{x:[Ka("minX",0),Ka("maxX",100),_a("value",(function(e){return oi(e.mode.minX)})),Da("getInitialValue"),vs("manager",IM)],y:[Ka("minY",0),Ka("maxY",100),_a("value",(function(e){return oi(e.mode.minY)})),Da("getInitialValue"),vs("manager",rR)],xy:[Ka("minX",0),Ka("maxX",100),Ka("minY",0),Ka("maxY",100),_a("value",(function(e){return oi({x:e.mode.minX,y:e.mode.minY})})),Da("getInitialValue"),vs("manager",bR)]})),eh("sliderBehaviours",[Dw,Zg]),_a("mouseIsDown",(function(){return oi(false)}))];var wR=function(e,t,n,r){var o;var a=function(t){return Kh(t,e,"thumb")};var i=function(t){return Kh(t,e,"spectrum")};var u=function(t){return $h(t,e,"left-edge")};var c=function(t){return $h(t,e,"right-edge")};var f=function(t){return $h(t,e,"top-edge")};var s=function(t){return $h(t,e,"bottom-edge")};var l=e.model;var v=l.manager;var d=function(t,n){v.setPositionFromValue(t,n,e,{getLeftEdge:u,getRightEdge:c,getTopEdge:f,getBottomEdge:s,getSpectrum:i})};var m=function(e,t){l.value.set(t);var n=a(e);d(e,n)};var g=function(t,n){m(t,n);var r=a(t);e.onChange(t,r,n);return P.some(true)};var h=function(t){v.setToMin(t,e)};var p=function(t){v.setToMax(t,e)};var b=function(t){var n=function(){$h(t,e,"thumb").each((function(n){var r=l.value.get();e.onChoose(t,n,r)}))};var r=e.mouseIsDown.get();e.mouseIsDown.set(false);if(r){n()}};var y=function(t,n){n.stop();e.mouseIsDown.set(true);e.onDragStart(t,a(t))};var w=function(t,n){n.stop();e.onDragEnd(t,a(t));b(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:nh(e.sliderBehaviours,[Dw.config({mode:"special",focusIn:function(t){return $h(t,e,"spectrum").map(Dw.focusIn).map(_)}}),Zg.config({store:{mode:"manual",getValue:function(e){return l.value.get()}}}),yl.config({channels:(o={},o[wg()]={onReceive:b},o)})]),events:_u([Nu(iN(),(function(e,t){g(e,t.event.value)})),Vu((function(t,n){var r=l.getInitialValue();l.value.set(r);var o=a(t);d(t,o);var u=i(t);e.onInit(t,o,u,l.value.get())})),Nu(Ei(),y),Nu(Ai(),w),Nu(Mi(),y),Nu(Bi(),w)]),apis:{resetToMin:h,resetToMax:p,setValue:m,refresh:d},domModification:{styles:{position:"relative"}}}};var xR=vp({name:"Slider",configFields:yR,partFields:oN,factory:wR,apis:{setValue:function(e,t,n){e.setValue(t,n)},resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}});var CR=rc("rgb-hex-update");var SR=rc("slider-update");var kR=rc("palette-update");var TR=function(e,t){var n=xR.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}});var r=xR.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return xR.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:false,model:{mode:"y",getInitialValue:w({y:0})},components:[n,r],sliderBehaviours:dl([Yw.config({})]),onChange:function(e,t,n){Cu(e,SR,{value:n})}})};var OR="form";var _R=[eh("formBehaviours",[Zg])];var ER=function(e){return"<alloy.field."+e+">"};var DR=function(e){var t=function(){var e=[];var t=function(t,n){e.push(t);return Uh(OR,ER(t),n)};return{field:t,record:w(e)}}();var n=e(t);var r=t.record();var o=G(r,(function(e){return Mh({name:e,pname:ER(e)})}));return ap(OR,_R,o,NR,n)};var AR=function(e,t){return e.fold((function(){return no.error(t)}),no.value)};var NR=function(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:nh(e.formBehaviours,[Zg.config({store:{mode:"manual",getValue:function(t){var n=Yh(t,e);return be(n,(function(e,t){return e().bind((function(e){var n=pp.getCurrent(e);return AR(n,new Error("Cannot find a current component to extract the value from for form part '"+t+"': "+Qu(e.element)))})).map(Zg.getValue)}))},setValue:function(t,n){pe(n,(function(n,r){$h(t,e,r).each((function(e){pp.getCurrent(e).each((function(e){Zg.setValue(e,n)}))}))}))}}})]),apis:{getField:function(t,n){return $h(t,e,n).bind(pp.getCurrent)}}}};var MR={getField:Cc((function(e,t,n){return e.getField(t,n)})),sketch:DR};var RR=rc("valid-input");var zR=rc("invalid-input");var BR=rc("validating-input");var PR="colorcustom.rgb.";var LR=function(e,t,n,r){var o=function(n,r){return lA.config({invalidClass:t("invalid"),notify:{onValidate:function(e){Cu(e,BR,{type:n})},onValid:function(e){Cu(e,RR,{type:n,value:Zg.getValue(e)})},onInvalid:function(e){Cu(e,zR,{type:n,value:Zg.getValue(e)})}},validator:{validate:function(t){var n=Zg.getValue(t);var o=r(n)?no.value(true):no.error(e("aria.input.invalid"));return ZD.pure(o)},validateOnLoad:false}})};var a=function(n,r,a,i,u){var c=e(PR+"range");var f=gD.parts.label({dom:{tag:"label",innerHtml:a,attributes:{"aria-label":i}}});var s=gD.parts.field({data:u,factory:UD,inputAttributes:D({type:"text"},r==="hex"?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:dl([o(r,n),yD.config({})]),onSetValue:function(e){if(lA.isInvalid(e)){var t=lA.run(e);t.get(h)}}});var l=[f,s];var v=r!=="hex"?[gD.parts["aria-descriptor"]({text:c})]:[];var d=l.concat(v);return{dom:{tag:"div",attributes:{role:"presentation"}},components:d}};var i=function(e,t){var n=t_(t);MR.getField(e,"hex").each((function(t){if(!Yw.isFocused(t)){Zg.setValue(e,{hex:n.value})}}));return n};var u=function(e,t){var n=t.red;var r=t.green;var o=t.blue;Zg.setValue(e,{red:n,green:r,blue:o})};var c=kC({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}});var f=function(e,t){c.getOpt(e).each((function(e){$n(e.element,"background-color","#"+t.value)}))};var s=function(){var o={red:oi(P.some(255)),green:oi(P.some(255)),blue:oi(P.some(255)),hex:oi(P.some("ffffff"))};var s=function(e,t){var n=s_(t);u(e,n);m(n)};var l=function(e){return o[e].get()};var v=function(e,t){o[e].set(t)};var d=function(){return l("red").bind((function(e){return l("green").bind((function(t){return l("blue").map((function(n){return u_(e,t,n,1)}))}))}))};var m=function(e){var t=e.red;var n=e.green;var r=e.blue;v("red",P.some(t));v("green",P.some(n));v("blue",P.some(r))};var g=function(e,t){var n=t.event;if(n.type!=="hex"){v(n.type,P.none())}else{r(e)}};var h=function(e,t){n(e);var r=GO(t);v("hex",P.some(t));var o=s_(r);u(e,o);m(o);Cu(e,CR,{hex:r});f(e,r)};var p=function(e,t,n){var r=parseInt(n,10);v(t,P.some(r));d().each((function(t){var n=i(e,t);Cu(e,CR,{hex:n});f(e,n)}))};var b=function(e){return e.type==="hex"};var y=function(e,t){var n=t.event;if(b(n)){h(e,n.value)}else{p(e,n.type,n.value)}};var w=function(t){return{label:e(PR+t+".label"),description:e(PR+t+".description")}};var x=w("red");var C=w("green");var S=w("blue");var k=w("hex");return Co(MR.sketch((function(n){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",gD.sketch(a(c_,"red",x.label,x.description,255))),n.field("green",gD.sketch(a(c_,"green",C.label,C.description,255))),n.field("blue",gD.sketch(a(c_,"blue",S.label,S.description,255))),n.field("hex",gD.sketch(a(XO,"hex",k.label,k.description,"ffffff"))),c.asSpec()],formBehaviours:dl([lA.config({invalidClass:t("form-invalid")}),Vw("rgb-form-events",[Nu(RR,y),Nu(zR,g),Nu(BR,g)])])}})),{apis:{updateHex:function(e,t){Zg.setValue(e,{hex:t.value});s(e,t);f(e,t)}}})};var l=lp({factory:s,name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}});return l};var HR=function(e,t){var n=xR.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}});var r=xR.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}});var o=function(e,t){var n=e.width,r=e.height;var o=e.getContext("2d");if(o===null){return}o.fillStyle=t;o.fillRect(0,0,n,r);var a=o.createLinearGradient(0,0,n,0);a.addColorStop(0,"rgba(255,255,255,1)");a.addColorStop(1,"rgba(255,255,255,0)");o.fillStyle=a;o.fillRect(0,0,n,r);var i=o.createLinearGradient(0,0,0,r);i.addColorStop(0,"rgba(0,0,0,0)");i.addColorStop(1,"rgba(0,0,0,1)");o.fillStyle=i;o.fillRect(0,0,n,r)};var a=function(e,t){var n=e.components()[0].element.dom;var r=x_(t,100,100);var a=f_(r);o(n,d_(a))};var i=function(e,t){var n=C_(s_(t));xR.setValue(e,{x:n.saturation,y:100-n.value})};var u=function(e){var a=w({x:0,y:0});var i=function(e,t,n){Cu(e,kR,{value:n})};var u=function(e,t,n,r){o(n.element.dom,d_(m_))};var c=dl([pp.config({find:P.some}),Yw.config({})]);return xR.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:a},rounded:false,components:[n,r],onChange:i,onInit:u,sliderBehaviours:c})};var c=lp({factory:u,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(e,t,n){a(t,n)},setThumb:function(e,t,n){i(t,n)}},extraApis:{}});return c};var IR=function(e,t){var n=function(n){var r=LR(e,t,n.onValidHex,n.onInvalidHex);var o=HR(e,t);var a=function(e){return(100-e)/100*360};var i=function(e){return 100-e/360*100};var u={paletteRgba:oi(m_),paletteHue:oi(0)};var c=kC(TR(e,t));var f=kC(o.sketch({}));var s=kC(r.sketch({}));var l=function(e,t,n){f.getOpt(e).each((function(e){o.setHue(e,n)}))};var v=function(e,t){s.getOpt(e).each((function(e){r.updateHex(e,t)}))};var d=function(e,t,n){c.getOpt(e).each((function(e){xR.setValue(e,{y:i(n)})}))};var m=function(e,t){f.getOpt(e).each((function(e){o.setThumb(e,t)}))};var g=function(e,t){var n=s_(e);u.paletteRgba.set(n);u.paletteHue.set(t)};var h=function(e,t,n,r){g(t,n);$(r,(function(r){r(e,t,n)}))};var p=function(){var e=[v];return function(t,n){var r=n.event.value;var o=u.paletteHue.get();var a=x_(o,r.x,100-r.y);var i=k_(a);h(t,i,o,e)}};var b=function(){var e=[l,v];return function(t,n){var r=a(n.event.value.y);var o=u.paletteRgba.get();var i=C_(o);var c=x_(r,i.saturation,i.value);var f=k_(c);h(t,f,r,e)}};var y=function(){var e=[l,d,m];return function(t,n){var r=n.event.hex;var o=S_(r);h(t,r,o.hue,e)}};return{uid:n.uid,dom:n.dom,components:[f.asSpec(),c.asSpec(),s.asSpec()],behaviours:dl([Vw("colour-picker-events",[Nu(CR,y()),Nu(kR,p()),Nu(SR,b())]),pp.config({find:function(e){return s.getOpt(e)}}),Dw.config({mode:"acyclic"})])}};var r=lp({name:"ColourPicker",configFields:[Da("dom"),Ka("onValidHex",h),Ka("onInvalidHex",h)],factory:n});return r};var FR=function(){return pp.config({find:P.some})};var VR=function(e){return pp.config({find:e.getOpt})};var UR=function(e){return pp.config({find:function(t){return xn(t.element,e).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}})};var jR={self:FR,memento:VR,childAt:UR};var WR={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var qR=function(e){return WR[e]};var GR=function(e){return qR(e)};var $R=function(e){var t=function(e){return"tox-"+e};var n=IR(GR,t);var r=function(e){Cu(e,AD,{name:"hex-valid",value:true})};var o=function(e){Cu(e,AD,{name:"hex-valid",value:false})};var a=kC(n.sketch({dom:{tag:"div",classes:[t("color-picker-container")],attributes:{role:"presentation"}},onValidHex:r,onInvalidHex:o}));return{dom:{tag:"div"},components:[a.asSpec()],behaviours:dl([Zg.config({store:{mode:"manual",getValue:function(e){var t=a.get(e);var n=pp.getCurrent(t);var r=n.bind((function(e){var t=Zg.getValue(e);return t.hex}));return r.map((function(e){return"#"+e})).getOr("")},setValue:function(e,t){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;var r=n.exec(t);var o=a.get(e);var i=pp.getCurrent(o);i.fold((function(){console.log("Can not find form")}),(function(e){Zg.setValue(e,{hex:P.from(r[1]).getOr("")});MR.getField(e,"hex").each((function(e){xu(e,Vi())}))}))}}}),jR.self()])}};var KR=tinymce.util.Tools.resolve("tinymce.Resource");var XR=function(e){return _e(e,"init")};var YR=function(e){var t=rv();var n=kC({dom:{tag:e.tag}});var r=rv();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:dl([Vw("custom-editor-events",[Vu((function(o){n.getOpt(o).each((function(n){(XR(e)?e.init(n.element.dom):KR.load(e.scriptId,e.scriptUrl).then((function(t){return t(n.element.dom,e.settings)}))).then((function(e){r.on((function(t){e.setValue(t)}));r.clear();t.set(e)}))}))}))]),Zg.config({store:{mode:"manual",getValue:function(){return t.get().fold((function(){return r.get().getOr("")}),(function(e){return e.getValue()}))},setValue:function(e,n){t.get().fold((function(){r.set(n)}),(function(e){return e.setValue(n)}))}}}),jR.self()]),components:[n.asSpec()]}};var JR=tinymce.util.Tools.resolve("tinymce.util.Tools");var QR=ea([Ka("preprocess",x),Ka("postprocess",x)]);var ZR=function(e,t){var n=Ca("RepresentingConfigs.memento processors",QR,t);return Zg.config({store:{mode:"manual",getValue:function(t){var r=e.get(t);var o=Zg.getValue(r);return n.postprocess(o)},setValue:function(t,r){var o=n.preprocess(r);var a=e.get(t);Zg.setValue(a,o)}}})};var ez=function(e,t,n){return Zg.config(Co({store:{mode:"manual",getValue:t,setValue:n}},e.map((function(e){return{store:{initialValue:e}}})).getOr({})))};var tz=function(e,t,n){return ez(e,(function(e){return t(e.element)}),(function(e,t){return n(e.element,t)}))};var nz=function(e){return tz(e,df,mf)};var rz=function(e){return tz(e,Gu,$u)};var oz=function(e){return Zg.config({store:{mode:"memory",initialValue:e}})};var az={memento:ZR,withElement:tz,withComp:ez,domValue:nz,domHtml:rz,memory:oz};var iz="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";var uz=function(e,t){var n=JR.explode(t.getSetting("images_file_types",iz,"string"));var r=function(e){return j(n,(function(t){return We(e.name.toLowerCase(),"."+t.toLowerCase())}))};return Y(de(e),r)};var cz=function(e,t){var n=function(e,t){t.stop()};var r=function(e){return function(t,n){$(e,(function(e){e(t,n)}))}};var o=function(e,t){if(!Pp.isDisabled(e)){var n=t.event.raw;i(e,n.dataTransfer.files)}};var a=function(e,t){var n=t.event.raw.target;i(e,n.files)};var i=function(n,r){Zg.setValue(n,uz(r,t));Cu(n,_D,{name:e.name})};var u=kC({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:dl([Vw("input-file-events",[Hu(ji()),Hu(nu())])])});var c=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:dl([az.memory([]),jR.self(),Pp.config({}),gx.config({toggleClass:"dragenter",toggleOnExecute:false}),Vw("dropzone-events",[Nu("dragenter",r([n,gx.toggle])),Nu("dragleave",r([n,gx.toggle])),Nu("dragover",n),Nu("drop",r([n,o])),Nu(Ui(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},SC.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(e){var t=u.get(e);t.element.dom.click()},buttonBehaviours:dl([yD.config({}),vO.button(t.isDisabled),uO()])})]}]}};var f=e.label.map((function(e){return OD(e,t)}));var s=gD.parts.field({factory:{sketch:c}});return xD(f,s,["tox-form__group--stretched"],[])};var fz=function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:G(e.items,t.interpreter)}};var sz=rc("alloy-fake-before-tabstop");var lz=rc("alloy-fake-after-tabstop");var vz=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:dl([Yw.config({ignore:true}),yD.config({})])}};var dz=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[vz([sz]),e,vz([lz])],behaviours:dl([jR.childAt(1)])}};var mz=function(e,t){Cu(e,Ii(),{raw:{which:9,shiftKey:t}})};var gz=function(e,t){var n=t.element;if(ff(n,sz)){mz(e,true)}else if(ff(n,lz)){mz(e,false)}};var hz=function(e){return PE(e,["."+sz,"."+lz].join(","),O)};var pz=!(en().browser.isIE()||en().browser.isEdge());var bz=function(e){var t=oi("");return{getValue:function(e){return t.get()},setValue:function(n,r){if(!e){In(n.element,"src","javascript:''");var o=n.element.dom.contentWindow.document;o.open();o.write(r);o.close()}else{In(n.element,"srcdoc",r)}t.set(r)}}};var yz=function(e,t){var n=pz&&e.sandboxed;var r=D(D({},e.label.map((function(e){return{title:e}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{});var o=bz(n);var a=e.label.map((function(e){return OD(e,t)}));var i=function(e){return dz({uid:e.uid,dom:{tag:"iframe",attributes:r},behaviours:dl([yD.config({}),Yw.config({}),az.withComp(P.none(),o.getValue,o.setValue)])})};var u=gD.parts.field({factory:{sketch:i}});return xD(a,u,["tox-form__group--stretched"],[])};var wz=function(e,t){return Sz(document.createElement("canvas"),e,t)};var xz=function(e){var t=wz(e.width,e.height);var n=Cz(t);n.drawImage(e,0,0);return t};var Cz=function(e){return e.getContext("2d")};var Sz=function(e,t,n){e.width=t;e.height=n;return e};var kz=function(e){return e.naturalWidth||e.width};var Tz=function(e){return e.naturalHeight||e.height};var Oz=function(e){return new qD((function(t,n){var r=URL.createObjectURL(e);var o=new Image;var a=function(){o.removeEventListener("load",i);o.removeEventListener("error",u)};var i=function(){a();t(o)};var u=function(){a();n("Unable to load data of type "+e.type+": "+r)};o.addEventListener("load",i);o.addEventListener("error",u);o.src=r;if(o.complete){setTimeout(i,0)}}))};var _z=function(e){var t=e.split(",");var n=/data:([^;]+)/.exec(t[0]);if(!n){return P.none()}var r=n[1];var o=t[1];var a=1024;var i=atob(o);var u=i.length;var c=Math.ceil(u/a);var f=new Array(c);for(var s=0;s<c;++s){var l=s*a;var v=Math.min(l+a,u);var d=new Array(v-l);for(var m=l,g=0;m<v;++g,++m){d[g]=i[m].charCodeAt(0)}f[s]=new Uint8Array(d)}return P.some(new Blob(f,{type:r}))};var Ez=function(e){return new qD((function(t,n){_z(e).fold((function(){n("uri is not base64: "+e)}),t)}))};var Dz=function(e,t,n){t=t||"image/png";if(d(HTMLCanvasElement.prototype.toBlob)){return new qD((function(r,o){e.toBlob((function(e){if(e){r(e)}else{o()}}),t,n)}))}else{return Ez(e.toDataURL(t,n))}};var Az=function(e,t,n){t=t||"image/png";return e.toDataURL(t,n)};var Nz=function(e){return Oz(e).then((function(e){Rz(e);var t=wz(kz(e),Tz(e));var n=Cz(t);n.drawImage(e,0,0);return t}))};var Mz=function(e){return new qD((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)};n.readAsDataURL(e)}))};var Rz=function(e){URL.revokeObjectURL(e.src)};var zz=function(e,t,n){var r=t.type;var o=w(r);var a=function(){return qD.resolve(t)};var i=w(n);var u=function(){return n.split(",")[1]};var c=function(t,n){return e.then((function(e){return Dz(e,t,n)}))};var f=function(t,n){return e.then((function(e){return Az(e,t,n)}))};var s=function(e,t){return f(e,t).then((function(e){return e.split(",")[1]}))};var l=function(){return e.then(xz)};return{getType:o,toBlob:a,toDataURL:i,toBase64:u,toAdjustedBlob:c,toAdjustedDataURL:f,toAdjustedBase64:s,toCanvas:l}};var Bz=function(e){return Mz(e).then((function(t){return zz(Nz(e),e,t)}))};var Pz=function(e,t){return Dz(e,t).then((function(t){return zz(qD.resolve(e),t,e.toDataURL())}))};var Lz=function(e){return Bz(e)};var Hz=function(e,t,n){var r=typeof e==="string"?parseFloat(e):e;if(r>n){r=n}else if(r<t){r=t}return r};var Iz=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]};var Fz=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];var Vz=function(e,t){var n=[];var r=new Array(25);var o;for(var a=0;a<5;a++){for(var i=0;i<5;i++){n[i]=t[i+a*5]}for(var i=0;i<5;i++){o=0;for(var u=0;u<5;u++){o+=e[i+u*5]*n[u]}r[i+a*5]=o}}return r};var Uz=function(e,t){var n;t=Hz(t,-1,1);t*=100;if(t<0){n=127+t/100*127}else{n=t%1;if(n===0){n=Fz[t]}else{n=Fz[Math.floor(t)]*(1-n)+Fz[Math.floor(t)+1]*n}n=n*127+127}return Vz(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])};var jz=function(e,t){t=Hz(255*t,-255,255);return Vz(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])};var Wz=function(e,t,n,r){t=Hz(t,0,2);n=Hz(n,0,2);r=Hz(r,0,2);return Vz(e,[t,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])};var qz=function(e,t){return e.toCanvas().then((function(n){return Gz(n,e.getType(),t)}))};var Gz=function(e,t,n){var r=Cz(e);var o=function(e,t){var n,r,o,a;var i=e.data,u=t[0],c=t[1],f=t[2],s=t[3],l=t[4],v=t[5],d=t[6],m=t[7],g=t[8],h=t[9],p=t[10],b=t[11],y=t[12],w=t[13],x=t[14],C=t[15],S=t[16],k=t[17],T=t[18],O=t[19];for(var _=0;_<i.length;_+=4){n=i[_];r=i[_+1];o=i[_+2];a=i[_+3];i[_]=n*u+r*c+o*f+a*s+l;i[_+1]=n*v+r*d+o*m+a*g+h;i[_+2]=n*p+r*b+o*y+a*w+x;i[_+3]=n*C+r*S+o*k+a*T+O}return e};var a=o(r.getImageData(0,0,e.width,e.height),n);r.putImageData(a,0,0);return Pz(e,t)};var $z=function(e,t){return e.toCanvas().then((function(n){return Kz(n,e.getType(),t)}))};var Kz=function(e,t,n){var r=Cz(e);var o=function(e,t,n){var r=function(e,t,n){if(e>n){e=n}else if(e<t){e=t}return e};var o=Math.round(Math.sqrt(n.length));var a=Math.floor(o/2);var i=e.data;var u=t.data;var c=e.width;var f=e.height;for(var s=0;s<f;s++){for(var l=0;l<c;l++){var v=0;var d=0;var m=0;for(var g=0;g<o;g++){for(var h=0;h<o;h++){var p=r(l+h-a,0,c-1);var b=r(s+g-a,0,f-1);var y=(b*c+p)*4;var w=n[g*o+h];v+=i[y]*w;d+=i[y+1]*w;m+=i[y+2]*w}}var x=(s*c+l)*4;u[x]=r(v,0,255);u[x+1]=r(d,0,255);u[x+2]=r(m,0,255)}}return t};var a=r.getImageData(0,0,e.width,e.height);var i=r.getImageData(0,0,e.width,e.height);i=o(a,i,n);r.putImageData(i,0,0);return Pz(e,t)};var Xz=function(e){var t=function(t,n,r){var o=Cz(t);var a=new Array(256);var i=function(e,t){var n=e.data;for(var r=0;r<n.length;r+=4){n[r]=t[n[r]];n[r+1]=t[n[r+1]];n[r+2]=t[n[r+2]]}return e};for(var u=0;u<a.length;u++){a[u]=e(u,r)}var c=i(o.getImageData(0,0,t.width,t.height),a);o.putImageData(c,0,0);return Pz(t,n)};return function(e,n){return e.toCanvas().then((function(r){return t(r,e.getType(),n)}))}};var Yz=function(e){return function(t,n){return qz(t,e(Iz(),n))}};var Jz=function(e){return function(t){return qz(t,e)}};var Qz=function(e){return function(t){return $z(t,e)}};var Zz=Jz([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]);var eB=Yz(jz);var tB=Yz(Uz);var nB=function(e,t,n,r){return qz(e,Wz(Iz(),t,n,r))};var rB=Qz([0,-1,0,-1,5,-1,0,-1,0]);var oB=Xz((function(e,t){return Math.pow(e/255,1-t)*255}));var aB=function(e,t,n){var r=kz(e);var o=Tz(e);var a=t/r;var i=n/o;var u=false;if(a<.5||a>2){a=a<.5?.5:2;u=true}if(i<.5||i>2){i=i<.5?.5:2;u=true}var c=iB(e,a,i);return!u?c:c.then((function(e){return aB(e,t,n)}))};var iB=function(e,t,n){return new qD((function(r){var o=kz(e);var a=Tz(e);var i=Math.floor(o*t);var u=Math.floor(a*n);var c=wz(i,u);var f=Cz(c);f.drawImage(e,0,0,o,a,0,0,i,u);r(c)}))};var uB=function(e,t){if(t===void 0){t=2}var n=Math.pow(10,t);var r=Math.round(e*n);return Math.ceil(r/n)};var cB=function(e,t){return e.toCanvas().then((function(n){return fB(n,e.getType(),t)}))};var fB=function(e,t,n){var r=n<0?360+n:n;var o=r*Math.PI/180;var a=e.width;var i=e.height;var u=Math.sin(o);var c=Math.cos(o);var f=uB(Math.abs(a*c)+Math.abs(i*u));var s=uB(Math.abs(a*u)+Math.abs(i*c));var l=wz(f,s);var v=Cz(l);v.translate(f/2,s/2);v.rotate(o);v.drawImage(e,-a/2,-i/2);return Pz(l,t)};var sB=function(e,t){return e.toCanvas().then((function(n){return lB(n,e.getType(),t)}))};var lB=function(e,t,n){var r=wz(e.width,e.height);var o=Cz(r);if(n==="v"){o.scale(1,-1);o.drawImage(e,0,-r.height)}else{o.scale(-1,1);o.drawImage(e,-r.width,0)}return Pz(r,t)};var vB=function(e,t,n,r,o){return e.toCanvas().then((function(a){return dB(a,e.getType(),t,n,r,o)}))};var dB=function(e,t,n,r,o,a){var i=wz(o,a);var u=Cz(i);u.drawImage(e,-n,-r);return Pz(i,t)};var mB=function(e,t,n){return e.toCanvas().then((function(r){return aB(r,t,n).then((function(t){return Pz(t,e.getType())}))}))};var gB=function(e){return Zz(e)};var hB=function(e){return rB(e)};var pB=function(e,t){return oB(e,t)};var bB=function(e,t,n,r){return nB(e,t,n,r)};var yB=function(e,t){return eB(e,t)};var wB=function(e,t){return tB(e,t)};var xB=function(e,t){return sB(e,t)};var CB=function(e,t,n,r,o){return vB(e,t,n,r,o)};var SB=function(e,t,n){return mB(e,t,n)};var kB=function(e,t){return cB(e,t)};var TB=function(e,t,n){return PC(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},t)};var OB=function(e,t){return TB(e,t,[])};var _B=function(e,t){return TB(e,t,[Iw.config({})])};var EB=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:dl([Iw.config({})])}};var DB;var AB=rc("toolbar.button.execute");var NB=function(e){return Wu((function(t,n){dO(e,t)((function(n){Cu(t,AB,{buttonApi:n});e.onAction(n)}))}))};var MB=(DB={},DB[eu()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],DB);var RB=rc("update-menu-text");var zB=rc("update-menu-icon");var BB=function(e,t,n){var r=oi(h);var o=e.text.map((function(e){return kC(EB(e,t,n.providers))}));var a=e.icon.map((function(e){return kC(_B(e,n.providers.icons))}));var i=function(e,t){var n=Zg.getValue(e);Yw.focus(n);Cu(n,"keydown",{raw:t.event.raw});PA.close(n);return P.some(true)};var u=e.role.fold((function(){return{}}),(function(e){return{role:e}}));var c=e.tooltip.fold((function(){return{}}),(function(e){var t=n.providers.translate(e);return{title:t,"aria-label":t}}));var f=PC("chevron-down",{tag:"div",classes:[t+"__select-chevron"]},n.providers.icons);var s=kC(PA.sketch(D(D(D({},e.uid?{uid:e.uid}:{}),u),{dom:{tag:"button",classes:[t,t+"--select"].concat(G(e.classes,(function(e){return t+"--"+e}))),attributes:D({},c)},components:yO([a.map((function(e){return e.asSpec()})),o.map((function(e){return e.asSpec()})),P.some(f)]),matchWidth:true,useMinWidth:true,dropdownBehaviours:dl(N(N([],e.dropdownBehaviours,true),[vO.button((function(){return e.disabled||n.providers.isDisabled()})),uO(),FA.config({}),Iw.config({}),Vw("dropdown-events",[mO(e,r),gO(e,r)]),Vw("menubutton-update-display-text",[Nu(RB,(function(e,t){o.bind((function(t){return t.getOpt(e)})).each((function(e){Iw.set(e,[kf(n.providers.translate(t.event.text))])}))})),Nu(zB,(function(e,t){a.bind((function(t){return t.getOpt(e)})).each((function(e){Iw.set(e,[_B(t.event.icon,n.providers.icons)])}))}))])],false)),eventOrder:Co(MB,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:dl([Dw.config({mode:"special",onLeft:i,onRight:i})]),lazySink:n.getSink,toggleClass:t+"--active",parts:{menu:gk(false,e.columns,e.presets)},fetch:function(t){return ZD.nu(S(e.fetch,t))}})));return s.asSpec()};var PB=function(e){return a(e)};var LB=function(e){return e.type==="separator"};var HB=function(e){return _e(e,"getSubmenuItems")};var IB={type:"separator"};var FB=function(e,t){var n=Q(e,(function(e,n){if(PB(n)){if(n===""){return e}else if(n==="|"){return e.length>0&&!LB(e[e.length-1])?e.concat([IB]):e}else if(_e(t,n.toLowerCase())){return e.concat([t[n.toLowerCase()]])}else{return e}}else{return e.concat([n])}}),[]);if(n.length>0&&LB(n[n.length-1])){n.pop()}return n};var VB=function(e,t){var n=e.getSubmenuItems();var r=WB(n,t);var o=Co(r.menus,vi(e.value,r.items));var a=Co(r.expansions,vi(e.value,e.value));return{item:e,menus:o,expansions:a}};var UB=function(e,t){return HB(e)?VB(e,t):{item:e,menus:{},expansions:{}}};var jB=function(e){if(LB(e)){return e}else{var t=Oe(e,"value").getOrThunk((function(){return rc("generated-menu-item")}));return Co({value:t},e)}};var WB=function(e,t){var n=FB(a(e)?e.split(" "):e,t);return J(n,(function(e,n){var r=jB(n);var o=UB(r,t);return{menus:Co(e.menus,o.menus),items:[o.item].concat(e.items),expansions:Co(e.expansions,o.expansions)}}),{menus:{},expansions:{},items:[]})};var qB=function(e,t,n,r){var o=rc("primary-menu");var a=WB(e,n.shared.providers.menuItems());if(a.items.length===0){return P.none()}var i=NE(o,a.items,t,n,r);var u=be(a.menus,(function(e,r){return NE(r,e,t,n,false)}));var c=Co(u,vi(o,i));return P.from(Qx.tieredData(o,c,a.expansions))};var GB=function(e){return{isDisabled:function(){return Pp.isDisabled(e)},setDisabled:function(t){return Pp.set(e,t)},setActive:function(t){var n=e.element;if(t){af(n,"tox-tbtn--enabled");In(n,"aria-pressed",true)}else{cf(n,"tox-tbtn--enabled");Wn(n,"aria-pressed")}},isActive:function(){return ff(e.element,"tox-tbtn--enabled")}}};var $B=function(e,t,n,r){return BB({text:e.text,icon:e.icon,tooltip:e.tooltip,role:r,fetch:function(t,r){e.fetch((function(e){r(qB(e,US.CLOSE_ON_EXECUTE,n,false))}))},onSetup:e.onSetup,getApi:GB,columns:1,presets:"normal",classes:[],dropdownBehaviours:[yD.config({})]},t,n.shared)};var KB=function(e,t,n){var r=function(e){return function(r){var o=!r.isActive();r.setActive(o);e.storage.set(o);n.shared.getSink().each((function(n){t().getOpt(n).each((function(t){Sl(t.element);Cu(t,AD,{name:e.name,value:e.storage.get()})}))}))}};var o=function(e){return function(t){t.setActive(e.storage.get())}};return function(t){t(G(e,(function(e){var t=e.text.fold((function(){return{}}),(function(e){return{text:e}}));return D(D({type:e.type,active:false},t),{onAction:r(e),onSetup:o(e)})})))}};var XB=function(e,t,n,r,o,a){if(n===void 0){n=[]}var i=t.fold((function(){return{}}),(function(e){return{action:e}}));var u=D({buttonBehaviours:dl([vO.button((function(){return e.disabled||a.isDisabled()})),uO(),yD.config({}),Vw("button press",[Au("click"),Au("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},i);var c=Co(u,{dom:r});return Co(c,{components:o})};var YB=function(e,t,n,r){if(r===void 0){r=[]}var o=e.tooltip.map((function(e){return{"aria-label":n.translate(e),title:n.translate(e)}})).getOr({});var a={tag:"button",classes:["tox-tbtn"],attributes:o};var i=e.icon.map((function(e){return OB(e,n.icons)}));var u=yO([i]);return XB(e,t,r,a,u,n)};var JB=function(e,t,n,r){if(r===void 0){r=[]}var o=YB(e,P.some(t),n,r);return SC.sketch(o)};var QB=function(e,t,n,r,o){if(r===void 0){r=[]}if(o===void 0){o=[]}var a=n.translate(e.text);var i=e.icon?e.icon.map((function(e){return OB(e,n.icons)})):P.none();var u=i.isSome()?yO([i]):[];var c=i.isSome()?{}:{innerHtml:a};var f=N(N(N(N([],!e.primary&&!e.borderless?["tox-button","tox-button--secondary"]:["tox-button"],true),i.isSome()?["tox-button--icon"]:[],true),e.borderless?["tox-button--naked"]:[],true),o,true);var s=D(D({tag:"button",classes:f},c),{attributes:{title:a}});return XB(e,t,r,s,u,n)};var ZB=function(e,t,n,r,o){if(r===void 0){r=[]}if(o===void 0){o=[]}var a=QB(e,P.some(t),n,r,o);return SC.sketch(a)};var eP=function(e,t){return function(n){if(t==="custom"){Cu(n,AD,{name:e,value:{}})}else if(t==="submit"){xu(n,ND)}else if(t==="cancel"){xu(n,DD)}else{console.error("Unknown button type: ",t)}}};var tP=function(e,t){return t==="menu"};var nP=function(e,t){return t==="custom"||t==="cancel"||t==="submit"};var rP=function(e,t,n){if(tP(e,t)){var r=function(){return i};var o=e;var a=D(D({},e),{onSetup:function(t){t.setDisabled(e.disabled);return h},fetch:KB(o.items,r,n)});var i=kC($B(a,"tox-tbtn",n,P.none()));return i.asSpec()}else if(nP(e,t)){var u=eP(e.name,t);var c=D(D({},e),{borderless:false});return ZB(c,u,n.shared.providers,[])}else{console.error("Unknown footer button type: ",t)}};var oP=function(e,t){var n=eP(e.name,"custom");return CD(P.none(),gD.parts.field(D({factory:SC},QB(e,P.some(n),t,[az.memory(""),jR.self()]))))};var aP=w([Ka("field1Name","field1"),Ka("field2Name","field2"),ss("onLockedChange"),is(["lockClass"]),Ka("locked",false),rh.field("coupledFieldBehaviours",[pp,Zg])]);var iP=function(e,t,n){return $h(e,t,n).bind(pp.getCurrent)};var uP=function(e,t){return Mh({factory:gD,name:e,overrides:function(e){return{fieldBehaviours:dl([Vw("coupled-input-behaviour",[Nu(Vi(),(function(n){iP(n,e,t).each((function(t){$h(n,e,"lock").each((function(r){if(gx.isOn(r)){e.onLockedChange(n,t,r)}}))}))}))])])}}})};var cP=w([uP("field1","field2"),uP("field2","field1"),Mh({factory:SC,schema:[Da("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:dl([gx.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]);var fP=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:rh.augment(e.coupledFieldBehaviours,[pp.config({find:P.some}),Zg.config({store:{mode:"manual",getValue:function(t){var n;var r=Qh(t,e,["field1","field2"]);return n={},n[e.field1Name]=Zg.getValue(r.field1()),n[e.field2Name]=Zg.getValue(r.field2()),n},setValue:function(t,n){var r=Qh(t,e,["field1","field2"]);if(Ee(n,e.field1Name)){Zg.setValue(r.field1(),n[e.field1Name])}if(Ee(n,e.field2Name)){Zg.setValue(r.field2(),n[e.field2Name])}}}})]),apis:{getField1:function(t){return $h(t,e,"field1")},getField2:function(t){return $h(t,e,"field2")},getLock:function(t){return $h(t,e,"lock")}}}};var sP=vp({name:"FormCoupledInputs",configFields:aP(),partFields:cP(),factory:fP,apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}});var lP=function(e){var t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};var n=function(e){return e in t?t[e]:1};var r=e.value.toFixed(n(e.unit));if(r.indexOf(".")!==-1){r=r.replace(/\.?0*$/,"")}return r+e.unit};var vP=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/;var n=t.exec(e);if(n!==null){var r=parseFloat(n[1]);var o=n[2];return no.value({value:r,unit:o})}else{return no.error(e)}};var dP=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1};var r=function(e){return _e(n,e)};if(e.unit===t){return P.some(e.value)}else if(r(e.unit)&&r(t)){if(n[e.unit]===n[t]){return P.some(e.value)}else{return P.some(e.value/n[e.unit]*n[t])}}else{return P.none()}};var mP=function(e){return P.none()};var gP=function(e,t){return function(n){return dP(n,t).map((function(n){return{value:n*e,unit:t}}))}};var hP=function(e,t){var n=vP(e).toOptional();var r=vP(t).toOptional();return Re(n,r,(function(e,t){return dP(e,t.unit).map((function(e){return t.value/e})).map((function(e){return gP(e,t.unit)})).getOr(mP)})).getOr(mP)};var pP=function(e,t){var n=mP;var r=rc("ratio-event");var o=function(e){return PC(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons)};var a=sP.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[o("lock"),o("unlock")],buttonBehaviours:dl([Pp.config({disabled:function(){return e.disabled||t.isDisabled()}}),uO(),yD.config({})])});var i=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}};var u=function(n){return gD.parts.field({factory:UD,inputClasses:["tox-textfield"],inputBehaviours:dl([Pp.config({disabled:function(){return e.disabled||t.isDisabled()}}),uO(),yD.config({}),Vw("size-input-events",[Nu(Li(),(function(e,t){Cu(e,r,{isField1:n})})),Nu(Ui(),(function(t,n){Cu(t,_D,{name:e.name})}))])]),selectOnFocus:false})};var c=function(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}};var f=sP.parts.field1(i([gD.parts.label(c("Width")),u(true)]));var s=sP.parts.field2(i([gD.parts.label(c("Height")),u(false)]));return sP.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[f,s,i([c("&nbsp;"),a])]}],field1Name:"width",field2Name:"height",locked:true,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,r){vP(Zg.getValue(e)).each((function(e){n(e).each((function(e){Zg.setValue(t,lP(e))}))}))},coupledFieldBehaviours:dl([Pp.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){sP.getField1(e).bind(gD.getField).each(Pp.disable);sP.getField2(e).bind(gD.getField).each(Pp.disable);sP.getLock(e).each(Pp.disable)},onEnabled:function(e){sP.getField1(e).bind(gD.getField).each(Pp.enable);sP.getField2(e).bind(gD.getField).each(Pp.enable);sP.getLock(e).each(Pp.enable)}}),uO(),Vw("size-input-events2",[Nu(r,(function(e,t){var r=t.event.isField1;var o=r?sP.getField1(e):sP.getField2(e);var a=r?sP.getField2(e):sP.getField1(e);var i=o.map(Zg.getValue).getOr("");var u=a.map(Zg.getValue).getOr("");n=hP(i,u)}))])])})};var bP=w(rc("undo"));var yP=w(rc("redo"));var wP=w(rc("zoom"));var xP=w(rc("back"));var CP=w(rc("apply"));var SP=w(rc("swap"));var kP=w(rc("transform"));var TP=w(rc("temp-transform"));var OP=w(rc("transform-apply"));var _P={undo:bP,redo:yP,zoom:wP,back:xP,apply:CP,swap:SP,transform:kP,tempTransform:TP,transformApply:OP};var EP=w("save-state");var DP=w("disable");var AP=w("enable");var NP={formActionEvent:AD,saveState:EP,disable:DP,enable:AP};var MP=function(e,t){var n=function(e,n,r,o){return kC(ZB({name:e,text:e,disabled:r,primary:o,icon:P.none(),borderless:false},n,t))};var r=function(e,n,r,o){return kC(JB({name:e,icon:P.some(e),tooltip:P.some(n),disabled:o,primary:false,borderless:false},r,t))};var o=function(e,t){e.map((function(e){var n=e.get(t);if(n.hasConfigured(Pp)){Pp.disable(n)}}))};var a=function(e,t){e.map((function(e){var n=e.get(t);if(n.hasConfigured(Pp)){Pp.enable(n)}}))};var i={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]};var u=h;var c=function(e,t,n){Cu(e,t,n)};var f=function(e){return xu(e,NP.disable())};var s=function(e){return xu(e,NP.enable())};var l=function(e,t){f(e);c(e,_P.transform(),{transform:t});s(e)};var v=function(e,t){f(e);c(e,_P.tempTransform(),{transform:t});s(e)};var d=function(e){return function(){ie.getOpt(e).each((function(e){Iw.set(e,[oe])}))}};var m=function(e,t){f(e);c(e,_P.transformApply(),{transform:t,swap:d(e)});s(e)};var g=function(){return n("Back",(function(e){return c(e,_P.back(),{swap:d(e)})}),false,false)};var p=function(){return kC({dom:{tag:"div",classes:["tox-spacer"]},behaviours:dl([Pp.config({})])})};var b=function(){return n("Apply",(function(e){return c(e,_P.apply(),{swap:d(e)})}),true,true)};var y=function(){return function(t){var n=e.getRect();return CB(t,n.x,n.y,n.w,n.h)}};var x=[g(),p(),n("Apply",(function(t){var n=y();m(t,n);e.hideCrop()}),false,true)];var C=fD.sketch({dom:i,components:x.map((function(e){return e.asSpec()})),containerBehaviours:dl([Vw("image-tools-crop-buttons-events",[Nu(NP.disable(),(function(e,t){o(x,e)})),Nu(NP.enable(),(function(e,t){a(x,e)}))])])});var S=kC(pP({name:"size",label:P.none(),constrain:true,disabled:false},t));var k=function(e,t){return function(n){return SB(n,e,t)}};var T=[g(),p(),S,p(),n("Apply",(function(e){S.getOpt(e).each((function(t){var n=Zg.getValue(t);var r=parseInt(n.width,10);var o=parseInt(n.height,10);var a=k(r,o);m(e,a)}))}),false,true)];var O=fD.sketch({dom:i,components:T.map((function(e){return e.asSpec()})),containerBehaviours:dl([Vw("image-tools-resize-buttons-events",[Nu(NP.disable(),(function(e,t){o(T,e)})),Nu(NP.enable(),(function(e,t){a(T,e)}))])])});var _=function(e,t){return function(n){return e(n,t)}};var E=_(xB,"h");var D=_(xB,"v");var A=_(kB,-90);var N=_(kB,90);var M=function(e,t){v(e,t)};var R=[g(),p(),r("flip-horizontally","Flip horizontally",(function(e){M(e,E)}),false),r("flip-vertically","Flip vertically",(function(e){M(e,D)}),false),r("rotate-left","Rotate counterclockwise",(function(e){M(e,A)}),false),r("rotate-right","Rotate clockwise",(function(e){M(e,N)}),false),p(),b()];var z=fD.sketch({dom:i,components:R.map((function(e){return e.asSpec()})),containerBehaviours:dl([Vw("image-tools-fliprotate-buttons-events",[Nu(NP.disable(),(function(e,t){o(R,e)})),Nu(NP.enable(),(function(e,t){a(R,e)}))])])});var B=function(e,n,r,o,a){var i=xR.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}});var u=xR.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}});var c=xR.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return kC(xR.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:a,getInitialValue:w({x:o})},components:[i,u,c],sliderBehaviours:dl([Yw.config({})]),onChoose:n}))};var L=function(e,t,n,r,o){var a=function(e,n,r){var o=_(t,r.x/100);l(e,o)};return B(e,a,n,r,o)};var H=function(e,t,n,r,o){return[g(),L(e,t,n,r,o),b()]};var I=function(e,t,n,r,u){var c=H(e,t,n,r,u);return fD.sketch({dom:i,components:c.map((function(e){return e.asSpec()})),containerBehaviours:dl([Vw("image-tools-filter-panel-buttons-events",[Nu(NP.disable(),(function(e,t){o(c,e)})),Nu(NP.enable(),(function(e,t){a(c,e)}))])])})};var F=[g(),p(),b()];var V=fD.sketch({dom:i,components:F.map((function(e){return e.asSpec()}))});var U=I("Brightness",yB,-100,0,100);var j=I("Contrast",wB,-100,0,100);var W=I("Gamma",pB,-100,0,100);var q=function(e,t,n){return function(r){return bB(r,e,t,n)}};var G=function(e){var t=function(e,t,n){var r=$.getOpt(e);var o=X.getOpt(e);var a=K.getOpt(e);r.each((function(t){o.each((function(n){a.each((function(r){var o=Zg.getValue(t).x/100;var a=Zg.getValue(r).x/100;var i=Zg.getValue(n).x/100;var u=q(o,a,i);l(e,u)}))}))}))};return B(e,t,0,100,200)};var $=G("R");var K=G("G");var X=G("B");var Y=[g(),$,K,X,b()];var J=fD.sketch({dom:i,components:Y.map((function(e){return e.asSpec()}))});var Q=function(e,t,n){return function(r){var o=function(){ie.getOpt(r).each((function(t){Iw.set(t,[e]);n(t)}))};c(r,_P.swap(),{transform:t,swap:o})}};var Z=function(t){e.showCrop()};var ee=function(t){S.getOpt(t).each((function(t){var n=e.getMeasurements();var r=n.width;var o=n.height;Zg.setValue(t,{width:r,height:o})}))};var te=P.some(hB);var ne=P.some(gB);var re=[r("crop","Crop",Q(C,P.none(),Z),false),r("resize","Resize",Q(O,P.none(),ee),false),r("orientation","Orientation",Q(z,P.none(),u),false),r("brightness","Brightness",Q(U,P.none(),u),false),r("sharpen","Sharpen",Q(V,te,u),false),r("contrast","Contrast",Q(j,P.none(),u),false),r("color-levels","Color levels",Q(J,P.none(),u),false),r("gamma","Gamma",Q(W,P.none(),u),false),r("invert","Invert",Q(V,ne,u),false)];var oe=fD.sketch({dom:i,components:re.map((function(e){return e.asSpec()}))});var ae=fD.sketch({dom:{tag:"div"},components:[oe],containerBehaviours:dl([Iw.config({})])});var ie=kC(ae);var ue=function(e){return ie.getOpt(e).map((function(e){var t=e.components()[0];return t.components()[t.components().length-1]}))};return{memContainer:ie,getApplyButton:ue}};var RP=tinymce.util.Tools.resolve("tinymce.geom.Rect");var zP=tinymce.util.Tools.resolve("tinymce.util.Observable");var BP=tinymce.util.Tools.resolve("tinymce.util.VK");var PP=function(e){var t=Math.max;var n=e.documentElement;var r=e.body;var o=t(n.scrollWidth,r.scrollWidth);var a=t(n.clientWidth,r.clientWidth);var i=t(n.offsetWidth,r.offsetWidth);var u=t(n.scrollHeight,r.scrollHeight);var c=t(n.clientHeight,r.clientHeight);var f=t(n.offsetHeight,r.offsetHeight);return{width:o<i?a:o,height:u<f?c:u}};var LP=function(e){return v(e.changedTouches)};var HP=function(e){if(LP(e)){var t="screenX screenY pageX pageY clientX clientY".split(" ");for(var n=0;n<t.length;n++){e[t[n]]=e.changedTouches[0][t[n]]}}};function IP(e,t){var n,r,o;var a;var i=[];var u=[];var c=(n=t.document)!==null&&n!==void 0?n:document;var f=(r=t.root)!==null&&r!==void 0?r:c;var s=tt.fromDom(c);var l;var d;var m;var g=tt.fromDom(f.getElementById((o=t.handle)!==null&&o!==void 0?o:e));var h=function(e){var n=e.raw;var r=PP(c);HP(n);e.prevent();l=n.button;d=n.screenX;m=n.screenY;var o=Yn(g,"cursor");a=tt.fromTag("div",c);Kn(a,{position:"absolute",top:"0",left:"0",width:r.width+"px",height:r.height+"px","z-index":2147483647+"",opacity:"0.0001",cursor:o});Dr(Ln(s),a);u.push(av(s,"mousemove",p),av(s,"touchmove",p),av(s,"mouseup",b),av(s,"touchend",b));t.start(n)};var p=function(e){var n=e.raw;HP(n);if(n.button!==l){return b(e)}n.deltaX=n.screenX-d;n.deltaY=n.screenY-m;e.prevent();t.drag(n)};var b=function(e){HP(e.raw);$(u,(function(e){return e.unbind()}));u=[];zr(a);if(t.stop){t.stop(e.raw)}};var y=function(){$(u.concat(i),(function(e){return e.unbind()}));u=[];i=[];if(v(a)){zr(a)}};i.push(av(g,"mousedown",h),av(g,"touchstart",h));return{destroy:y}}var FP=0;var VP=function(e,t,n,r,o){var a;var i=[];var u="tox-";var c=u+"crid-"+FP++;var f=tt.fromDom(r);var s=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}];var l=["top","right","bottom","left"];var v=function(e,t){return{x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}};var d=function(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}};var m=function(){return d(n,e)};var g=function(t,r,o,a){var i=r.x+o*t.deltaX;var u=r.y+a*t.deltaY;var c=Math.max(20,r.w+o*t.deltaW);var f=Math.max(20,r.h+a*t.deltaH);var s=e=RP.clamp({x:i,y:u,w:c,h:f},n,t.name==="move");s=d(n,s);k.fire("updateRect",{rect:s});x(s)};var h=function(){var t=function(t){var n;return IP(c,{document:r.ownerDocument,root:En(f).dom,handle:c+"-"+t.name,start:function(){n=e},drag:function(e){g(t,n,e.deltaX,e.deltaY)}})};var n=tt.fromTag("div");Fn(n,{id:c,class:u+"croprect-container",role:"grid","aria-dropeffect":"execute"});Dr(f,n);$(l,(function(e){Hf(f,"#"+c).each((function(t){var n=tt.fromTag("div");Fn(n,{id:c+"-"+e,class:u+"croprect-block","data-mce-bogus":"all"});$n(n,"display","none");Dr(t,n)}))}));$(s,(function(e){Hf(f,"#"+c).each((function(t){var n=tt.fromTag("div");Fn(n,{id:c+"-"+e.name,"aria-label":e.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:e.label});sf(n,[u+"croprect-handle",u+"croprect-handle-"+e.name]);$n(n,"display","none");Dr(t,n)}))}));a=G(s,t);b(e);var v=function(e){In(e.target,"aria-grabbed",e.raw.type==="focus"?"true":"false")};var d=function(t){var n;$(s,(function(e){if(Vn(t.target,"id")===c+"-"+e.name){n=e;return false}}));var r=function(e,t,r,o,a){e.stopPropagation();e.preventDefault();g(n,r,o,a)};switch(t.raw.keyCode){case BP.LEFT:r(t,n,e,-10,0);break;case BP.RIGHT:r(t,n,e,10,0);break;case BP.UP:r(t,n,e,0,-10);break;case BP.DOWN:r(t,n,e,0,10);break;case BP.ENTER:case BP.SPACEBAR:t.prevent();o();break}};i.push(av(f,"focusin",v),av(f,"focusout",v),av(f,"keydown",d))};var p=function(e){var t=N(N([],G(s,(function(e){return"#"+c+"-"+e.name})),true),G(l,(function(e){return"#"+c+"-"+e})),true).join(",");var n=Kd(f,t);if(e){$(n,(function(e){return tr(e,"display")}))}else{$(n,(function(e){return $n(e,"display","none")}))}};var b=function(e){var n=function(e,t){Hf(f,"#"+c+"-"+e).each((function(e){Kn(e,{left:t.x+"px",top:t.y+"px",width:Math.max(0,t.w)+"px",height:Math.max(0,t.h)+"px"})}))};$(s,(function(t){Hf(f,"#"+c+"-"+t.name).each((function(n){Kn(n,{left:e.w*t.xMul+e.x+"px",top:e.h*t.yMul+e.y+"px"})}))}));n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y});n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h});n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y});n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h});n("move",e)};var y=function(t){e=t;b(e)};var w=function(n){t=n;b(e)};var x=function(e){y(v(n,e))};var C=function(t){n=t;b(e)};var S=function(){$(a,(function(e){return e.destroy()}));a=[];$(i,(function(e){return e.unbind()}));i=[]};h();var k=D(D({},zP),{toggleVisibility:p,setClampRect:C,setRect:y,getInnerRect:m,setInnerRect:x,setViewPortRect:w,destroy:S});return k};var UP={create:VP};var jP=function(e){return new aS((function(t){var n=function(){e.removeEventListener("load",n);t(e)};if(e.complete){t(e)}else{e.addEventListener("load",n)}}))};var WP=function(e){var t=kC({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}});var n=oi(1);var r=nv();var o=oi({x:0,y:0,w:1,h:1});var a=oi({x:0,y:0,w:1,h:1});var i=function(e,a){m.getOpt(e).each((function(e){var i=n.get();var u=hr(e.element);var c=ar(e.element);var f=a.dom.naturalWidth*i;var s=a.dom.naturalHeight*i;var l=Math.max(0,u/2-f/2);var v=Math.max(0,c/2-s/2);var d={left:l.toString()+"px",top:v.toString()+"px",width:f.toString()+"px",height:s.toString()+"px",position:"absolute"};Kn(a,d);t.getOpt(e).each((function(e){Kn(e.element,d)}));r.run((function(e){var t=o.get();e.setRect({x:t.x*i+l,y:t.y*i+v,w:t.w*i,h:t.h*i});e.setClampRect({x:l,y:v,w:f,h:s});e.setViewPortRect({x:0,y:0,w:u,h:c})}))}))};var u=function(e,t){m.getOpt(e).each((function(e){var r=hr(e.element);var o=ar(e.element);var a=t.dom.naturalWidth;var i=t.dom.naturalHeight;var u=Math.min(r/a,o/i);if(u>=1){n.set(1)}else{n.set(u)}}))};var c=function(e,t){var n=tt.fromTag("img");In(n,"src",t);return jP(n.dom).then((function(){if(e.getSystem().isConnected()){m.getOpt(e).map((function(e){var t=Tf({element:n});Iw.replaceAt(e,1,P.some(t));var r=a.get();var c={x:0,y:0,w:n.dom.naturalWidth,h:n.dom.naturalHeight};a.set(c);var f=RP.inflate(c,-20,-20);o.set(f);if(r.w!==c.w||r.h!==c.h){u(e,n)}i(e,n)}))}}))};var f=function(e,t){var r=n.get();var o=t>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(o);m.getOpt(e).each((function(e){var t=e.components()[1].element;i(e,t)}))};var s=function(){r.run((function(e){e.toggleVisibility(true)}))};var l=function(){r.run((function(e){e.toggleVisibility(false)}))};var v=function(){return o.get()};var d=fD.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[t.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:dl([Vw("image-panel-crop-events",[Vu((function(e){m.getOpt(e).each((function(e){var t=e.element.dom;var a=UP.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t,h);a.toggleVisibility(false);a.on("updateRect",(function(e){var t=e.rect;var r=n.get();var a={x:Math.round(t.x/r),y:Math.round(t.y/r),w:Math.round(t.w/r),h:Math.round(t.h/r)};o.set(a)}));r.set(a)}))})),Uu((function(){r.clear()}))])])}],containerBehaviours:dl([Iw.config({}),Vw("image-panel-events",[Vu((function(t){c(t,e)}))])])});var m=kC(d);var g=function(){var e=a.get();return{width:e.w,height:e.h}};return{memContainer:m,updateSrc:c,zoom:f,showCrop:s,hideCrop:l,getRect:v,getMeasurements:g}};var qP=function(e,t,n,r,o){return JB({name:e,icon:P.some(t),disabled:n,tooltip:P.some(e),primary:false,borderless:false},r,o)};var GP=function(e,t){if(t){Pp.enable(e)}else{Pp.disable(e)}};var $P=function(e){var t=function(e,t,o){n.getOpt(e).each((function(e){GP(e,t)}));r.getOpt(e).each((function(e){GP(e,o)}))};var n=kC(qP("Undo","undo",true,(function(e){Cu(e,_P.undo(),{direction:1})}),e));var r=kC(qP("Redo","redo",true,(function(e){Cu(e,_P.redo(),{direction:1})}),e));var o=fD.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),r.asSpec(),qP("Zoom in","zoom-in",false,(function(e){Cu(e,_P.zoom(),{direction:1})}),e),qP("Zoom out","zoom-out",false,(function(e){Cu(e,_P.zoom(),{direction:-1})}),e)]});return{container:o,updateButtonUndoStates:t}};function KP(){var e=[];var t=-1;var n=function(n){var r=e.splice(++t);e.push(n);return{state:n,removed:r}};var r=function(){if(a()){return e[--t]}};var o=function(){if(i()){return e[++t]}};var a=function(){return t>0};var i=function(){return t!==-1&&t<e.length-1};return{data:e,add:n,undo:r,redo:o,canUndo:a,canRedo:i}}var XP=function(e){var t=oi(e);var n=rv();var r=KP();r.add(e);var o=function(){return t.get()};var a=function(e){t.set(e)};var i=function(){return n.get().getOrThunk(t.get)};var u=function(e){var t=c(e);l();n.set(t);return t.url};var c=function(e){return{blob:e,url:URL.createObjectURL(e)}};var f=function(e){URL.revokeObjectURL(e.url)};var s=function(e){JR.each(e,f)};var l=function(){n.on(f);n.clear()};var v=function(e){var t=c(e);a(t);var n=r.add(t).removed;s(n);return t.url};var d=function(e){var t=c(e);n.set(t);return t.url};var m=function(e){return n.get().fold(h,(function(t){v(t.blob);e()}))};var g=function(){var e=r.undo();a(e);return e.url};var p=function(){var e=r.redo();a(e);return e.url};var b=function(){var e=r.canUndo();var t=r.canRedo();return{undoEnabled:e,redoEnabled:t}};return{getBlobState:o,setBlobState:a,addBlobState:v,getTempState:i,updateTempState:u,addTempState:d,applyTempState:m,destroyTempState:l,undo:g,redo:p,getHistoryStates:b}};var YP=function(e,t){var n=XP(e.currentState);var r=function(e,t){var n=t.event.direction;k.zoom(e,n)};var o=function(e){var t=n.getHistoryStates();T.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled);Cu(e,NP.formActionEvent,{name:NP.saveState(),value:t.undoEnabled})};var a=function(e){T.updateButtonUndoStates(e,false,false)};var i=function(e,t){var r=n.undo();l(e,r).then((function(t){s(e);o(e)}))};var u=function(e,t){var r=n.redo();l(e,r).then((function(t){s(e);o(e)}))};var c=function(e){return e.toBlob()};var f=function(e){Cu(e,NP.formActionEvent,{name:NP.disable(),value:{}})};var s=function(e){O.getApplyButton(e).each((function(e){Pp.enable(e)}));Cu(e,NP.formActionEvent,{name:NP.enable(),value:{}})};var l=function(e,t){f(e);return k.updateSrc(e,t)};var v=function(e,t,n,r,a){f(e);Lz(t).then(n).then(c).then(r).then((function(t){return l(e,t)})).then((function(){o(e);a();s(e)})).catch((function(t){console.log(t);if(e.getSystem().isConnected()){s(e)}}))};var d=function(e,t,r){var o=n.getBlobState().blob;var a=function(e){return n.updateTempState(e)};v(e,o,t,a,r)};var m=function(e,t){var r=n.getTempState().blob;var o=function(e){return n.addTempState(e)};v(e,r,t,o,h)};var g=function(e,t,r){var o=n.getBlobState().blob;var a=function(t){var r=n.addBlobState(t);b(e);return r};v(e,o,t,a,r)};var p=function(e,t){var r=function(){b(e);var n=t.event.swap;n()};n.applyTempState(r)};var b=function(e){var t=n.getBlobState().url;n.destroyTempState();o(e);return t};var y=function(e){var t=b(e);l(e,t).then((function(t){s(e)}))};var w=function(e,t){y(e);var n=t.event.swap;n();k.hideCrop()};var x=function(e,t){return d(e,t.event.transform,h)};var C=function(e,t){return m(e,t.event.transform)};var S=function(e,t){return g(e,t.event.transform,t.event.swap)};var k=WP(e.currentState.url);var T=$P(t);var O=MP(k,t);var _=function(e,t){a(e);var n=t.event.transform;var r=t.event.swap;n.fold((function(){r()}),(function(t){d(e,t,r)}))};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[O.memContainer.asSpec(),k.memContainer.asSpec(),T.container],behaviours:dl([Zg.config({store:{mode:"manual",getValue:function(){return n.getBlobState()}}}),Vw("image-tools-events",[Nu(_P.undo(),i),Nu(_P.redo(),u),Nu(_P.zoom(),r),Nu(_P.back(),w),Nu(_P.apply(),p),Nu(_P.transform(),x),Nu(_P.tempTransform(),C),Nu(_P.transformApply(),S),Nu(_P.swap(),_)]),jR.self()])}};var JP=function(e,t){var n={dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}};var r=G(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(r),behaviours:dl([jR.self(),Iw.config({}),az.domHtml(P.none()),Dw.config({mode:"acyclic"})])}};var QP=function(e){return!_e(e,"items")};var ZP="data-value";var eL=function(e,t,n,r){return G(n,(function(n){if(!QP(n)){return{type:"nestedmenuitem",text:n.text,getSubmenuItems:function(){return eL(e,t,n.items,r)}}}else{return{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===r,onAction:function(){Zg.setValue(e,n.value);Cu(e,_D,{name:t});Yw.focus(e)}}}}))};var tL=function(e,t){return me(e,(function(e){if(!QP(e)){return tL(e.items,t)}else{return Pe(e.value===t,e)}}))};var nL=function(e,t){var n=t.shared.providers;var r=le(e.items).filter(QP);var o=e.label.map((function(e){return OD(e,n)}));var a=gD.parts.field({dom:{},factory:{sketch:function(n){return BB({uid:n.uid,text:r.map((function(e){return e.text})),icon:P.none(),tooltip:e.label,role:P.none(),fetch:function(n,r){var o=eL(n,e.name,e.items,Zg.getValue(n));r(qB(o,US.CLOSE_ON_EXECUTE,t,false))},onSetup:w(h),getApi:w({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[yD.config({}),Zg.config({store:{mode:"manual",initialValue:r.map((function(e){return e.value})).getOr(""),getValue:function(e){return Vn(e.element,ZP)},setValue:function(t,n){tL(e.items,n).each((function(e){In(t.element,ZP,e.value);Cu(t,RB,{text:e.text})}))}}})]},"tox-listbox",t.shared)}}});var i={dom:{tag:"div",classes:["tox-listboxfield"]},components:[a]};return gD.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ne([o.toArray(),[i]]),fieldBehaviours:dl([Pp.config({disabled:w(e.disabled),onDisabled:function(e){gD.getField(e).each(Pp.disable)},onEnabled:function(e){gD.getField(e).each(Pp.enable)}})])})};var rL=function(e,t){return{dom:{tag:"div",classes:e.classes},components:G(e.items,t.shared.interpreter)}};var oL=function(e,t){var n=G(e.options,(function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}}));var r=e.data.map((function(e){return vi("initialValue",e)})).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:nh(e.selectBehaviours,[Yw.config({}),Zg.config({store:D({mode:"manual",getValue:function(e){return df(e.element)},setValue:function(t,n){var r=ee(e.options,(function(e){return e.value===n}));if(r.isSome()){mf(t.element,n)}}},r)})])}};var aL=lp({name:"HtmlSelect",configFields:[Da("options"),eh("selectBehaviours",[Yw,Zg]),Ka("selectClasses",[]),Ka("selectAttributes",{}),Fa("data")],factory:oL});var iL=function(e,t){var n=G(e.items,(function(e){return{text:t.translate(e.text),value:e.value}}));var r=e.label.map((function(e){return OD(e,t)}));var o=gD.parts.field({dom:{},selectAttributes:{size:e.size},options:n,factory:aL,selectBehaviours:dl([Pp.config({disabled:function(){return e.disabled||t.isDisabled()}}),yD.config({}),Vw("selectbox-change",[Nu(Ui(),(function(t,n){Cu(t,_D,{name:e.name})}))])])});var a=e.size>1?P.none():P.some(PC("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons));var i={dom:{tag:"div",classes:["tox-selectfield"]},components:ne([[o],a.toArray()])};return gD.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ne([r.toArray(),[i]]),fieldBehaviours:dl([Pp.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){gD.getField(e).each(Pp.disable)},onEnabled:function(e){gD.getField(e).each(Pp.enable)}}),uO()])})};var uL=function(e,t){var n=function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}};var r=function(e){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:G(e,n)}]}};var o=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}};var a=function(e){return{dom:{tag:"tr"},components:G(e,o)}};var i=function(e){return{dom:{tag:"tbody"},components:G(e,a)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[r(e.header),i(e.cells)],behaviours:dl([yD.config({}),Yw.config({})])}};var cL=function(e,t){var n=e.label.map((function(e){return OD(e,t)}));var r=[Pp.config({disabled:function(){return e.disabled||t.isDisabled()}}),uO(),Dw.config({mode:"execution",useEnter:e.multiline!==true,useControlEnter:e.multiline===true,execute:function(e){xu(e,ND);return P.some(true)}}),Vw("textfield-change",[Nu(Vi(),(function(t,n){Cu(t,_D,{name:e.name})})),Nu(Qi(),(function(t,n){Cu(t,_D,{name:e.name})}))]),yD.config({})];var o=e.validation.map((function(e){return lA.config({getRoot:function(e){return hn(e.element)},invalidClass:"tox-invalid",validator:{validate:function(t){var n=Zg.getValue(t);var r=e.validator(n);return ZD.pure(r===true?no.value(n):no.error(r))},validateOnLoad:e.validateOnLoad}})})).toArray();var a=e.placeholder.fold(w({}),(function(e){return{placeholder:t.translate(e)}}));var i=e.inputMode.fold(w({}),(function(e){return{inputmode:e}}));var u=D(D({},a),i);var c=gD.parts.field({tag:e.multiline===true?"textarea":"input",inputAttributes:u,inputClasses:[e.classname],inputBehaviours:dl(ne([r,o])),selectOnFocus:false,factory:UD});var f=e.flex?["tox-form__group--stretched"]:[];var s=f.concat(e.maximized?["tox-form-group--maximize"]:[]);var l=[Pp.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){gD.getField(e).each(Pp.disable)},onEnabled:function(e){gD.getField(e).each(Pp.enable)}}),uO()];return xD(n,c,s,l)};var fL=function(e,t){return cL({name:e.name,multiline:false,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:false,disabled:e.disabled,classname:"tox-textfield",validation:P.none(),maximized:e.maximized},t)};var sL=function(e,t){return cL({name:e.name,multiline:true,label:e.label,inputMode:P.none(),placeholder:e.placeholder,flex:true,disabled:e.disabled,classname:"tox-textarea",validation:P.none(),maximized:e.maximized},t)};var lL=function(e,t){var n=e.stream.streams;var r=n.setup(e,t);return _u([Nu(e.event,r),Uu((function(){return t.cancel()}))].concat(e.cancelEvent.map((function(e){return[Nu(e,(function(){return t.cancel()}))]})).getOr([])))};var vL=Object.freeze({__proto__:null,events:lL});var dL=function(e){var t=oi(null);var n=function(){return{timer:t.get()!==null?"set":"unset"}};var r=function(e){t.set(e)};var o=function(){var e=t.get();if(e!==null){e.cancel()}};return kc({readState:n,setTimer:r,cancel:o})};var mL=function(e){return e.stream.streams.state(e)};var gL=Object.freeze({__proto__:null,throttle:dL,init:mL});var hL=function(e,t){var n=e.stream;var r=jC(e.onStream,n.delay);t.setTimer(r);return function(e,t){r.throttle(e,t);if(n.stopEvent){t.stop()}}};var pL=[Aa("stream",ka("mode",{throttle:[Da("delay"),Ka("stopEvent",true),vs("streams",{setup:hL,state:dL})]})),Ka("event","input"),Fa("cancelEvent"),ss("onStream")];var bL=gl({fields:pL,name:"streaming",active:vL,state:gL});var yL=function(e,t,n){var r=Zg.getValue(n);Zg.setValue(t,r);xL(t)};var wL=function(e,t){var n=e.element;var r=df(n);var o=n.dom;if(Vn(n,"type")!=="number"){t(o,r)}};var xL=function(e){wL(e,(function(e,t){return e.setSelectionRange(t.length,t.length)}))};var CL=function(e,t){wL(e,(function(e,n){return e.setSelectionRange(t,n.length)}))};var SL=function(e,t,n){if(!e.selectsOver){return P.none()}else{var r=Zg.getValue(t);var o=e.getDisplayText(r);var a=Zg.getValue(n);var i=e.getDisplayText(a);return i.indexOf(o)===0?P.some((function(){yL(e,t,n);CL(t,o.length)})):P.none()}};var kL=w("alloy.typeahead.itemexecute");var TL=function(e,t,n,r){var o=function(t,n,o){e.previewing.set(false);var a=pA.getCoupled(t,"sandbox");if(pg.isOpen(a)){pp.getCurrent(a).each((function(e){nb.getHighlighted(e).fold((function(){o(e)}),(function(){Ou(a,e.element,"keydown",n)}))}))}else{var u=function(e){pp.getCurrent(e).each(o)};kA(e,i(t),t,a,r,u,wA.HighlightFirst).get(h)}};var a=HD(e);var i=function(e){return function(t){return t.map((function(t){var n=Te(t.menus);var r=re(n,(function(e){return Y(e.items,(function(e){return e.type==="item"}))}));var o=Zg.getState(e);o.update(G(r,(function(e){return e.data})));return t}))}};var u=[Yw.config({}),Zg.config({onSetValue:e.onSetValue,store:D({mode:"dataset",getDataKey:function(e){return df(e.element)},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){mf(t.element,e.model.getDisplayText(n))}},e.initialData.map((function(e){return vi("initialValue",e)})).getOr({}))}),bL.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:false},onStream:function(t,n){var o=pA.getCoupled(t,"sandbox");var a=Yw.isFocused(t);if(a){if(df(t.element).length>=e.minChars){var u=pp.getCurrent(o).bind((function(e){return nb.getHighlighted(e).map(Zg.getValue)}));e.previewing.set(true);var c=function(t){pp.getCurrent(o).each((function(t){u.fold((function(){if(e.model.selectsOver){nb.highlightFirst(t)}}),(function(e){nb.highlightBy(t,(function(t){var n=Zg.getValue(t);return n.value===e.value}));nb.getHighlighted(t).orThunk((function(){nb.highlightFirst(t);return P.none()}))}))}))};kA(e,i(t),t,o,r,c,wA.HighlightFirst).get(h)}}},cancelEvent:au()}),Dw.config({mode:"special",onDown:function(e,t){o(e,t,nb.highlightFirst);return P.some(true)},onEscape:function(e){var t=pA.getCoupled(e,"sandbox");if(pg.isOpen(t)){pg.close(t);return P.some(true)}return P.none()},onUp:function(e,t){o(e,t,nb.highlightLast);return P.some(true)},onEnter:function(t){var n=pA.getCoupled(t,"sandbox");var r=pg.isOpen(n);if(r&&!e.previewing.get()){return pp.getCurrent(n).bind((function(e){return nb.getHighlighted(e)})).map((function(e){Cu(t,kL(),{item:e});return true}))}else{var o=Zg.getValue(t);xu(t,au());e.onExecute(n,t,o);if(r){pg.close(n)}return P.some(true)}}}),gx.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),pA.config({others:{sandbox:function(t){return AA(e,t,{onOpen:function(){return gx.on(t)},onClose:function(){return gx.off(t)}})}}}),Vw("typeaheadevents",[Wu((function(t){var n=h;OA(e,i(t),t,r,n,wA.HighlightFirst).get(h)})),Nu(kL(),(function(t,n){var r=pA.getCoupled(t,"sandbox");yL(e.model,t,n.event.item);xu(t,au());e.onItemExecute(t,r,n.event.item,Zg.getValue(t));pg.close(r);xL(t)}))].concat(e.dismissOnBlur?[Nu(Ji(),(function(e){var t=pA.getCoupled(e,"sandbox");if(_l(t.element).isNone()){pg.close(t)}}))]:[]))];return{uid:e.uid,dom:FD(Co(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:D(D({},a),nh(e.typeaheadBehaviours,u)),eventOrder:e.eventOrder}};var OL=w([Fa("lazySink"),Da("fetch"),Ka("minChars",5),Ka("responseTime",1e3),cs("onOpen"),Ka("getHotspot",P.some),Ka("getAnchorOverrides",w({})),Ka("layouts",P.none()),Ka("eventOrder",{}),ri("model",{},[Ka("getDisplayText",(function(e){return e.meta!==undefined&&e.meta.text!==undefined?e.meta.text:e.value})),Ka("selectsOver",true),Ka("populateFromBrowse",true)]),cs("onSetValue"),fs("onExecute"),cs("onItemExecute"),Ka("inputClasses",[]),Ka("inputAttributes",{}),Ka("inputStyles",{}),Ka("matchWidth",true),Ka("useMinWidth",false),Ka("dismissOnBlur",true),is(["openClass"]),Fa("initialData"),eh("typeaheadBehaviours",[Yw,Zg,bL,Dw,gx,pA]),_a("previewing",(function(){return oi(true)}))].concat(LD()).concat(MA()));var _L=w([Rh({schema:[as()],name:"menu",overrides:function(e){return{fakeFocus:true,onHighlight:function(t,n){if(!e.previewing.get()){t.getSystem().getByUid(e.uid).each((function(t){if(e.model.populateFromBrowse){yL(e.model,t,n)}}))}else{t.getSystem().getByUid(e.uid).each((function(r){SL(e.model,r,n).fold((function(){return nb.dehighlight(t,n)}),(function(e){return e()}))}))}e.previewing.set(false)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOptional().map((function(e){Cu(e,kL(),{item:n});return true}))},onHover:function(t,n){e.previewing.set(false);t.getSystem().getByUid(e.uid).each((function(t){if(e.model.populateFromBrowse){yL(e.model,t,n)}}))}}}})]);var EL=vp({name:"Typeahead",configFields:OL(),partFields:_L(),factory:TL});var DL=function(e){var t=function(){return DL(e.toCached())};var n=function(t){return DL(e.bind((function(e){return e.fold((function(e){return ZD.pure(no.error(e))}),(function(e){return t(e)}))})))};var r=function(t){return DL(e.map((function(e){return e.bind(t)})))};var o=function(t){return DL(e.map((function(e){return e.map(t)})))};var a=function(t){return DL(e.map((function(e){return e.mapError(t)})))};var i=function(t,n){return e.map((function(e){return e.fold(t,n)}))};var u=function(t,n){return DL(ZD.nu((function(r){var o=false;var a=setTimeout((function(){o=true;r(no.error(n()))}),t);e.get((function(e){if(!o){clearTimeout(a);r(e)}}))})))};return D(D({},e),{toCached:t,bindFuture:n,bindResult:r,mapResult:o,mapError:a,foldResult:i,withTimeout:u})};var AL=function(e){return DL(ZD.nu(e))};var NL=function(e){return DL(ZD.pure(no.value(e)))};var ML=function(e){return DL(ZD.pure(no.error(e)))};var RL=function(e){return DL(ZD.pure(e))};var zL=function(e){return DL(e.map(no.value))};var BL=function(e){return AL((function(t){e.then((function(e){t(no.value(e))}),(function(e){t(no.error(e))}))}))};var PL={nu:AL,wrap:DL,pure:NL,value:NL,error:ML,fromResult:RL,fromFuture:zL,fromPromise:BL};var LL={type:"separator"};var HL=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:h}};var IL=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:undefined},onAction:h}};var FL=function(e){return G(e,HL)};var VL=function(e,t){return Y(t,(function(t){return t.type===e}))};var UL=function(e,t){return FL(VL(e,t))};var jL=function(e){return UL("header",e.targets)};var WL=function(e){return UL("anchor",e.targets)};var qL=function(e){return P.from(e.anchorTop).map((function(e){return IL("<top>",e)})).toArray()};var GL=function(e){return P.from(e.anchorBottom).map((function(e){return IL("<bottom>",e)})).toArray()};var $L=function(e){return G(e,(function(e){return IL(e,e)}))};var KL=function(e){return Q(e,(function(e,t){var n=e.length===0||t.length===0;return n?e.concat(t):e.concat(LL,t)}),[])};var XL=function(e,t){var n=e.toLowerCase();return Y(t,(function(e){var t=e.meta!==undefined&&e.meta.text!==undefined?e.meta.text:e.text;return Ue(t.toLowerCase(),n)||Ue(e.value.toLowerCase(),n)}))};var YL=function(e,t,n){var r=Zg.getValue(t);var o=r.meta.text!==undefined?r.meta.text:r.value;var a=n.getLinkInformation();return a.fold((function(){return[]}),(function(t){var r=XL(o,$L(n.getHistory(e)));return e==="file"?KL([r,XL(o,jL(t)),XL(o,ne([qL(t),WL(t),GL(t)]))]):r}))};var JL=rc("aria-invalid");var QL=function(e,t,n){var r;var o=t.shared.providers;var a=function(t){var r=Zg.getValue(t);n.addToHistory(r.value,e.filetype)};var i=gD.parts.field({factory:EL,dismissOnBlur:true,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":JL,type:"url"},minChars:0,responseTime:0,fetch:function(r){var o=YL(e.filetype,r,n);var a=qB(o,US.BUBBLE_TO_SANDBOX,t,false);return ZD.pure(a)},getHotspot:function(e){return d.getOpt(e)},onSetValue:function(e,t){if(e.hasConfigured(lA)){lA.run(e).get(h)}},typeaheadBehaviours:dl(ne([n.getValidationHandler().map((function(t){return lA.config({getRoot:function(e){return hn(e.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){f.getOpt(e).each((function(e){In(e.element,"title",o.translate(t))}))}},validator:{validate:function(n){var r=Zg.getValue(n);return PL.nu((function(n){t({type:e.filetype,url:r.value},(function(e){if(e.status==="invalid"){var t=no.error(e.message);n(t)}else{var r=no.value(e.message);n(r)}}))}))},validateOnLoad:false}})})).toArray(),[Pp.config({disabled:function(){return e.disabled||o.isDisabled()}}),yD.config({}),Vw("urlinput-events",ne([e.filetype==="file"?[Nu(Vi(),(function(t){Cu(t,_D,{name:e.name})}))]:[],[Nu(Ui(),(function(t){Cu(t,_D,{name:e.name});a(t)})),Nu(Qi(),(function(t){Cu(t,_D,{name:e.name});a(t)}))]]))]])),eventOrder:(r={},r[Vi()]=["streaming","urlinput-events","invalidating"],r),model:{getDisplayText:function(e){return e.value},selectsOver:false,populateFromBrowse:false},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:gk(false,1,"normal")},onExecute:function(e,t,n){Cu(t,ND,{})},onItemExecute:function(t,n,r,o){a(t);Cu(t,_D,{name:e.name})}});var u=e.label.map((function(e){return OD(e,o)}));var c=function(e,t,n,r){if(n===void 0){n=e}if(r===void 0){r=e}return PC(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:D({title:o.translate(r),"aria-live":"polite"},t.fold((function(){return{}}),(function(e){return{id:e}})))},o.icons)};var f=kC(c("invalid",P.some(JL),"warning"));var s=kC({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[f.asSpec()]});var l=n.getUrlPicker(e.filetype);var v=rc("browser.url.event");var d=kC({dom:{tag:"div",classes:["tox-control-wrap"]},components:[i,s.asSpec()],behaviours:dl([Pp.config({disabled:function(){return e.disabled||o.isDisabled()}})])});var m=kC(ZB({name:e.name,icon:P.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:false,borderless:true},(function(e){return xu(e,v)}),o,[],["tox-browse-url"]));var g=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:ne([[d.asSpec()],l.map((function(){return m.asSpec()})).toArray()])}};var p=function(t){pp.getCurrent(t).each((function(n){var r=Zg.getValue(n);var o=D({fieldname:e.name},r);l.each((function(r){r(o).get((function(r){Zg.setValue(n,r);Cu(t,_D,{name:e.name})}))}))}))};return gD.sketch({dom:kD(),components:u.toArray().concat([g()]),fieldBehaviours:dl([Pp.config({disabled:function(){return e.disabled||o.isDisabled()},onDisabled:function(e){gD.getField(e).each(Pp.disable);m.getOpt(e).each(Pp.disable)},onEnabled:function(e){gD.getField(e).each(Pp.enable);m.getOpt(e).each(Pp.enable)}}),uO(),Vw("url-input-events",[Nu(v,p)])])})};var ZL=function(e,t){return fD.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+e.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[SC.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:NC(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:function(t){Cu(t,AD,{name:"alert-banner",value:e.url})},buttonBehaviours:dl([zC()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})};var eH=function(e,t){var n=Zg.config({store:{mode:"manual",getValue:function(e){var t=e.element.dom;return t.checked},setValue:function(e,t){var n=e.element.dom;n.checked=t}}});var r=function(e){e.element.dom.click();return P.some(true)};var o=gD.parts.field({factory:{sketch:x},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:dl([jR.self(),Pp.config({disabled:function(){return e.disabled||t.isDisabled()}}),yD.config({}),Yw.config({}),n,Dw.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:true}),Vw("checkbox-events",[Nu(Ui(),(function(t,n){Cu(t,_D,{name:e.name})}))])])});var a=gD.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:dl([FA.config({})])});var i=function(e){var n=e==="checked"?"selected":"unselected";return PC(n,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons)};var u=kC({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[i("checked"),i("unchecked")]});return gD.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,u.asSpec(),a],fieldBehaviours:dl([Pp.config({disabled:function(){return e.disabled||t.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(e){gD.getField(e).each(Pp.disable)},onEnabled:function(e){gD.getField(e).each(Pp.enable)}}),uO()])})};var tH=function(e){if(e.presets==="presentation"){return fD.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}})}else{return fD.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:dl([yD.config({}),Yw.config({})])})}};var nH=function(e){return function(t,n,r){return Oe(n,"name").fold((function(){return e(n,r)}),(function(o){return t.field(o,e(n,r))}))}};var rH=function(e){return function(t,n,r){var o=Co(n,{source:"dynamic"});return nH(e)(t,o,r)}};var oH={bar:nH((function(e,t){return lD(e,t.shared)})),collection:nH((function(e,t){return PD(e,t.shared.providers)})),alertbanner:nH((function(e,t){return ZL(e,t.shared.providers)})),input:nH((function(e,t){return fL(e,t.shared.providers)})),textarea:nH((function(e,t){return sL(e,t.shared.providers)})),label:nH((function(e,t){return JP(e,t.shared)})),iframe:rH((function(e,t){return yz(e,t.shared.providers)})),button:nH((function(e,t){return oP(e,t.shared.providers)})),checkbox:nH((function(e,t){return eH(e,t.shared.providers)})),colorinput:nH((function(e,t){return qA(e,t.shared,t.colorinput)})),colorpicker:nH($R),dropzone:nH((function(e,t){return cz(e,t.shared.providers)})),grid:nH((function(e,t){return fz(e,t.shared)})),listbox:nH((function(e,t){return nL(e,t)})),selectbox:nH((function(e,t){return iL(e,t.shared.providers)})),sizeinput:nH((function(e,t){return pP(e,t.shared.providers)})),urlinput:nH((function(e,t){return QL(e,t,t.urlinput)})),customeditor:nH(YR),htmlpanel:nH(tH),imagetools:nH((function(e,t){return YP(e,t.shared.providers)})),table:nH((function(e,t){return uL(e,t.shared.providers)})),panel:nH((function(e,t){return rL(e,t)}))};var aH={field:function(e,t){return t}};var iH=function(e,t,n){var r=Co(n,{shared:{interpreter:function(t){return uH(e,t,r)}}});return uH(e,t,r)};var uH=function(e,t,n){return Oe(oH,t.type).fold((function(){console.error('Unknown factory type "'+t.type+'", defaulting to container: ',t);return t}),(function(r){return r(e,t,n)}))};var cH=function(e,t){var n=aH;return uH(n,e,t)};var fH={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]};var sH=function(e,t,n){var r=12;var o={maxHeightFunction:Ov()};var a=function(){return{type:"node",root:Dn(e()),node:P.from(e()),bubble:Nv(r,r,fH),layouts:{onRtl:function(){return[vC]},onLtr:function(){return[lC]}},overrides:o}};var i=function(){return{type:"hotspot",hotspot:t(),bubble:Nv(-r,r,fH),layouts:{onRtl:function(){return[Us]},onLtr:function(){return[js]}},overrides:o}};return function(){return n()?a():i()}};var lH=function(e,t,n){var r=function(){return{type:"node",root:Dn(e()),node:P.from(e()),layouts:{onRtl:function(){return[dC]},onLtr:function(){return[dC]}}}};var o=function(){return{type:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[$s]},onLtr:function(){return[$s]}}}};return function(){return n()?r():o()}};var vH=function(e,t){return function(){return{type:"selection",root:t(),getSelection:function(){var t=e.selection.getRng();return P.some(kd.range(tt.fromDom(t.startContainer),t.startOffset,tt.fromDom(t.endContainer),t.endOffset))}}}};var dH=function(e){return function(t){return{type:"node",root:e(),node:t}}};var mH=function(e,t,n){var r=VT(e);var o=function(){return tt.fromDom(e.getBody())};var a=function(){return tt.fromDom(e.getContentAreaContainer())};var i=function(){return r||!n()};return{inlineDialog:sH(a,t,i),banner:lH(a,t,i),cursor:vH(e,o),node:dH(o)}};var gH=function(e){return function(t,n){var r=Z_(e);r(t,n)}};var hH=function(e){return function(){return z_(e)}};var pH=function(e){return function(){return P_(e)}};var bH=function(e){return function(){return q_(e)}};var yH=function(e){return{colorPicker:gH(e),hasCustomColors:hH(e),getColors:pH(e),getColorCols:bH(e)}};var wH=function(e){return function(){return GT(e)}};var xH=function(e){return{isDraggableModal:wH(e)}};var CH=function(e){var t=oi(PT(e)?"bottom":"top");return{isPositionedAtTop:function(){return t.get()==="top"},getDockingMode:t.get,setDockingMode:t.set}};var SH=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}];var kH=function(e){return _e(e,"items")};var TH=function(e){return _e(e,"block")};var OH=function(e){return _e(e,"inline")};var _H=function(e){return _e(e,"selector")};var EH=function(e){return Q(e,(function(e,t){if(kH(t)){var n=EH(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}else if(OH(t)||TH(t)||_H(t)){var r=a(t.name)?t.name:t.title.toLowerCase();var o="custom-"+r;return{customFormats:e.customFormats.concat([{name:o,format:t}]),formats:e.formats.concat([{title:t.title,format:o,icon:t.icon}])}}else{return D(D({},e),{formats:e.formats.concat(t)})}}),{customFormats:[],formats:[]})};var DH=function(e,t){var n=EH(t);var r=function(t){$(t,(function(t){if(!e.formatter.has(t.name)){e.formatter.register(t.name,t.format)}}))};if(e.formatter){r(n.customFormats)}else{e.on("init",(function(){r(n.customFormats)}))}return n.formats};var AH=function(e){return CT(e).map((function(t){var n=DH(e,t);return ST(e)?SH.concat(n):n})).getOr(SH)};var NH=function(e,t,n){var r={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return Co(e,r)};var MH=function(e,t,n,r){var o=function(e){return NH(e,n,r)};var i=function(e){var t={type:"submenu"};return Co(e,t)};var u=function(t){var o=a(t.name)?t.name:rc(t.title);var i="custom-"+o;var u={type:"formatter",format:i,isSelected:n(i),getStylePreview:r(i)};var c=Co(t,u);e.formatter.register(o,c);return c};var c=function(e){return G(e,(function(e){var t=ge(e);if(Ee(e,"items")){var n=c(e.items);return Co(i(e),{getStyleItems:w(n)})}else if(Ee(e,"format")){return o(e)}else if(t.length===1&&U(t,"title")){return Co(e,{type:"separator"})}else{return u(e)}}))};return c(t)};var RH=function(e){var t=function(t){return function(){return e.formatter.match(t)}};var n=function(t){return function(){var n=e.formatter.get(t);return n!==undefined?P.some({tag:n.length>0?n[0].inline||n[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):P.none()}};var r=function(e){var t=e.items;return t!==undefined&&t.length>0?re(t,r):[e.format]};var o=oi([]);var a=oi([]);var i=oi([]);var u=oi([]);var c=oi(false);e.on("PreInit",(function(i){var u=AH(e);var c=MH(e,u,t,n);o.set(c);a.set(re(c,r))}));e.on("addStyleModifications",(function(o){var a=MH(e,o.items,t,n);i.set(a);c.set(o.replace);u.set(re(a,r))}));var f=function(){var e=c.get()?[]:o.get();var t=i.get();return e.concat(t)};var s=function(){var e=c.get()?[]:a.get();var t=u.get();return e.concat(t)};return{getData:f,getFlattenedKeys:s}};var zH=function(e){return v(e)&&e.nodeType===1};var BH=JR.trim;var PH=function(e){return function(t){if(zH(t)){if(t.contentEditable===e){return true}if(t.getAttribute("data-mce-contenteditable")===e){return true}}return false}};var LH=PH("true");var HH=PH("false");var IH=function(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}};var FH=function(e){while(e=e.parentNode){var t=e.contentEditable;if(t&&t!=="inherit"){return LH(e)}}return false};var VH=function(e,t){return G(Kd(tt.fromDom(t),e),(function(e){return e.dom}))};var UH=function(e){return e.innerText||e.textContent};var jH=function(e){return e.id?e.id:rc("h")};var WH=function(e){return e&&e.nodeName==="A"&&(e.id||e.name)!==undefined};var qH=function(e){return WH(e)&&$H(e)};var GH=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)};var $H=function(e){return FH(e)&&!HH(e)};var KH=function(e){return GH(e)&&$H(e)};var XH=function(e){return GH(e)?parseInt(e.nodeName.substr(1),10):0};var YH=function(e){var t=jH(e);var n=function(){e.id=t};return IH("header",UH(e),"#"+t,XH(e),n)};var JH=function(e){var t=e.id||e.name;var n=UH(e);return IH("anchor",n?n:"#"+t,"#"+t,0,h)};var QH=function(e){return G(Y(e,KH),YH)};var ZH=function(e){return G(Y(e,qH),JH)};var eI=function(e){var t=VH("h1,h2,h3,h4,h5,h6,a:not([href])",e);return t};var tI=function(e){return BH(e.title).length>0};var nI=function(e){var t=eI(e);return Y(QH(t).concat(ZH(t)),tI)};var rI={find:nI};var oI="tinymce-url-history";var aI=5;var iI=function(e){return a(e)&&/^https?/.test(e)};var uI=function(e){return u(e)&&e.length<=aI&&oe(e,iI)};var cI=function(e){return i(e)&&ke(e,(function(e){return!uI(e)})).isNone()};var fI=function(){var e=O_.getItem(oI);if(e===null){return{}}var t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError){console.log("Local storage "+oI+" was not valid JSON",e);return{}}throw e}if(!cI(t)){console.log("Local storage "+oI+" was not valid format",t);return{}}return t};var sI=function(e){if(!cI(e)){throw new Error("Bad format for history:\n"+JSON.stringify(e))}O_.setItem(oI,JSON.stringify(e))};var lI=function(e){var t=fI();return Oe(t,e).getOr([])};var vI=function(e,t){if(!iI(e)){return}var n=fI();var r=Oe(n,t).getOr([]);var o=Y(r,(function(t){return t!==e}));n[t]=[e].concat(o).slice(0,aI);sI(n)};var dI=function(e){return!!e};var mI=function(e){return be(JR.makeMap(e,/[, ]/),dI)};var gI=function(e){return P.from(YT(e)).filter(d)};var hI=function(e){var t=P.some(JT(e)).filter(dI);var n=P.some(QT(e)).filter(dI);var r=t.or(n).map(mI);return gI(e).fold(O,(function(e){return r.fold(_,(function(e){return ge(e).length>0?e:false}))}))};var pI=function(e,t){var n=hI(e);if(f(n)){return n?gI(e):P.none()}else{return n[t]?gI(e):P.none()}};var bI=function(e,t){return pI(e,t).map((function(n){return function(r){return ZD.nu((function(o){var u=function(e,t){if(!a(e)){throw new Error("Expected value to be string")}if(t!==undefined&&!i(t)){throw new Error("Expected meta to be a object")}var n={value:e,meta:t};o(n)};var c=D({filetype:t,fieldname:r.fieldname},P.from(r.meta).getOr({}));n.call(e,u,r.value,c)}))}}))};var yI=function(e){return P.from(e).filter(a).getOrUndefined()};var wI=function(e){if(ZT(e)){return P.none()}return P.some({targets:rI.find(e.getBody()),anchorTop:yI(eO(e)),anchorBottom:yI(tO(e))})};var xI=function(e){return P.from(nO(e))};var CI=function(e){return{getHistory:lI,addToHistory:vI,getLinkInformation:function(){return wI(e)},getValidationHandler:function(){return xI(e)},getUrlPicker:function(t){return bI(e,t)}}};var SI=function(e,t,n){var r=oi(false);var o=CH(t);var a={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:TC.translate,isDisabled:function(){return t.mode.isReadOnly()||t.ui.isDisabled()},getSetting:t.getParam.bind(t)},interpreter:function(e){return cH(e,a)},anchors:mH(t,n,o.isPositionedAtTop),header:o,getSink:function(){return no.value(e)}},urlinput:CI(t),styleselect:RH(t),colorinput:yH(t),dialog:xH(t),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(e){return r.set(e)}};return a};var kI=function(e,t,n){var r=function(e,r){$([t,n],(function(t){t.broadcastEvent(e,r)}))};var o=function(e,r){$([t,n],(function(t){t.broadcastOn([e],r)}))};var a=function(e){return o(bg(),{target:e.target})};var i=Cl();var u=av(i,"touchstart",a);var c=av(i,"touchmove",(function(e){return r(uu(),e)}));var f=av(i,"touchend",(function(e){return r(cu(),e)}));var s=av(i,"mousedown",a);var l=av(i,"mouseup",(function(e){if(e.raw.button===0){o(wg(),{target:e.target})}}));var v=function(e){return o(bg(),{target:tt.fromDom(e.target)})};var d=function(e){if(e.button===0){o(wg(),{target:tt.fromDom(e.target)})}};var m=function(){$(e.editorManager.get(),(function(t){if(e!==t){t.fire("DismissPopups",{relatedTarget:e})}}))};var g=function(e){return r(fu(),uv(e))};var h=function(e){o(yg(),{});r(su(),uv(e))};var p=function(){return o(yg(),{})};var b=function(t){if(t.state){o(bg(),{target:tt.fromDom(e.getContainer())})}};var y=function(e){o(bg(),{target:tt.fromDom(e.relatedTarget.getContainer())})};e.on("PostRender",(function(){e.on("click",v);e.on("tap",v);e.on("mouseup",d);e.on("mousedown",m);e.on("ScrollWindow",g);e.on("ResizeWindow",h);e.on("ResizeEditor",p);e.on("AfterProgressState",b);e.on("DismissPopups",y)}));e.on("remove",(function(){e.off("click",v);e.off("tap",v);e.off("mouseup",d);e.off("mousedown",m);e.off("ScrollWindow",g);e.off("ResizeWindow",h);e.off("ResizeEditor",p);e.off("AfterProgressState",b);e.off("DismissPopups",y);s.unbind();u.unbind();c.unbind();f.unbind();l.unbind()}));e.on("detach",(function(){Jm(t);Jm(n);t.destroy();n.destroy()}))};var TI=tp;var OI=Lh;var _I=w([Ka("shell",false),Da("makeItem"),Ka("setupItem",h),rh.field("listBehaviours",[Iw])]);var EI=function(){return{behaviours:dl([Iw.config({})])}};var DI=zh({name:"items",overrides:EI});var AI=w([DI]);var NI=w("CustomList");var MI=function(e,t,n,r){var o=function(t,n){i(t).fold((function(){console.error("Custom List was defined to not be a shell, but no item container was specified in components");throw new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(r){var o=Iw.contents(r);var a=n.length;var i=a-o.length;var u=i>0?W(i,(function(){return e.makeItem()})):[];var c=o.slice(a);$(c,(function(e){return Iw.remove(r,e)}));$(u,(function(e){return Iw.append(r,e)}));var f=Iw.contents(r);$(f,(function(r,o){e.setupItem(t,r,n[o],o)}))}))};var a=e.shell?{behaviours:[Iw.config({})],components:[]}:{behaviours:[],components:t};var i=function(t){return e.shell?P.some(t):$h(t,e,"items")};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:nh(e.listBehaviours,a.behaviours),apis:{setItems:o}}};var RI=vp({name:NI(),configFields:_I(),partFields:AI(),factory:MI,apis:{setItems:function(e,t,n){e.setItems(t,n)}}});var zI=w([Da("dom"),Ka("shell",true),eh("toolbarBehaviours",[Iw])]);var BI=function(){return{behaviours:dl([Iw.config({})])}};var PI=w([zh({name:"groups",overrides:BI})]);var LI=function(e,t,n,r){var o=function(e,t){a(e).fold((function(){console.error("Toolbar was defined to not be a shell, but no groups container was specified in components");throw new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(e){Iw.set(e,t)}))};var a=function(t){return e.shell?P.some(t):$h(t,e,"groups")};var i=e.shell?{behaviours:[Iw.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:i.components,behaviours:nh(e.toolbarBehaviours,i.behaviours),apis:{setGroups:o},domModification:{attributes:{role:"group"}}}};var HI=vp({name:"Toolbar",configFields:zI(),partFields:PI(),factory:LI,apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}});var II=h;var FI=O;var VI=w([]);var UI=Object.freeze({__proto__:null,setup:II,isDocked:FI,getBehaviours:VI});var jI=function(e){var t=De(Qn(e,"position"),"fixed");var n=t?P.none():bn(e);return n.orThunk((function(){var t=tt.fromTag("span");return hn(e).bind((function(e){Dr(e,t);var n=bn(t);zr(t);return n}))}))};var WI=function(e){return jI(e).map(vr).getOrThunk((function(){return fr(0,0)}))};var qI=ii.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]);var GI=function(e,t){var n=e.element;af(n,t.transitionClass);cf(n,t.fadeOutClass);af(n,t.fadeInClass);t.onShow(e)};var $I=function(e,t){var n=e.element;af(n,t.transitionClass);cf(n,t.fadeInClass);af(n,t.fadeOutClass);t.onHide(e)};var KI=function(e,t){return e.y<t.bottom&&e.bottom>t.y};var XI=function(e,t){return e.y>=t.y};var YI=function(e,t){return e.bottom<=t.bottom};var JI=function(e,t,n){return oe(e,(function(e){switch(e){case"bottom":return YI(t,n);case"top":return XI(t,n)}}))};var QI=function(e,t){return t.getInitialPos().map((function(t){return Xr(t.bounds.x,t.bounds.y,hr(e),ar(e))}))};var ZI=function(e,t,n){n.setInitialPos({style:Zn(e),position:Yn(e,"position")||"static",bounds:t})};var eF=function(e,t,n){return n.getInitialPos().bind((function(r){n.clearInitialPos();switch(r.position){case"static":return P.some(qI.static());case"absolute":var o=jI(e).map(Yr).getOrThunk((function(){return Yr(Pn())}));return P.some(qI.absolute(Dl("absolute",Oe(r.style,"left").map((function(e){return t.x-o.x})),Oe(r.style,"top").map((function(e){return t.y-o.y})),Oe(r.style,"right").map((function(e){return o.right-t.right})),Oe(r.style,"bottom").map((function(e){return o.bottom-t.bottom})))));default:return P.none()}}))};var tF=function(e,t,n){return QI(e,n).filter((function(e){return JI(n.getModes(),e,t)})).bind((function(t){return eF(e,t,n)}))};var nF=function(e,t,n){var r=Yr(e);if(!JI(n.getModes(),r,t)){ZI(e,r,n);var o=Qr();var a=r.x-o.x;var i=t.y-o.y;var u=o.bottom-t.bottom;var c=r.y<=t.y;return P.some(qI.fixed(Dl("fixed",P.some(a),c?P.some(i):P.none(),P.none(),!c?P.some(u):P.none())))}else{return P.none()}};var rF=function(e,t,n){var r=e.element;var o=De(Qn(r,"position"),"fixed");return o?tF(r,t,n):nF(r,t,n)};var oF=function(e,t){var n=e.element;return QI(n,t).bind((function(e){return eF(n,e,t)}))};var aF=function(e,t,n){n.setDocked(false);$(["left","right","top","bottom","position"],(function(t){return tr(e.element,t)}));t.onUndocked(e)};var iF=function(e,t,n,r){var o=r.position==="fixed";n.setDocked(o);Nl(e.element,r);var a=o?t.onDocked:t.onUndocked;a(e)};var uF=function(e,t,n,r,o){if(o===void 0){o=false}t.contextual.each((function(t){t.lazyContext(e).each((function(a){var i=KI(a,r);if(i!==n.isVisible()){n.setVisible(i);if(o&&!i){sf(e.element,[t.fadeOutClass]);t.onHide(e)}else{var u=i?GI:$I;u(e,t)}}}))}))};var cF=function(e,t,n){var r=t.lazyViewport(e);var o=n.isDocked();if(o){uF(e,t,n,r)}rF(e,r,n).each((function(o){o.fold((function(){return aF(e,t,n)}),(function(r){return iF(e,t,n,r)}),(function(o){uF(e,t,n,r,true);iF(e,t,n,o)}))}))};var fF=function(e,t,n){var r=e.element;n.setDocked(false);oF(e,n).each((function(r){r.fold((function(){return aF(e,t,n)}),(function(r){return iF(e,t,n,r)}),h)}));n.setVisible(true);t.contextual.each((function(t){lf(r,[t.fadeInClass,t.fadeOutClass,t.transitionClass]);t.onShow(e)}));sF(e,t,n)};var sF=function(e,t,n){if(e.getSystem().isConnected()){cF(e,t,n)}};var lF=function(e,t,n){if(n.isDocked()){fF(e,t,n)}};var vF=function(e,t,n){return n.isDocked()};var dF=function(e,t,n,r){return n.setModes(r)};var mF=function(e,t,n){return n.getModes()};var gF=Object.freeze({__proto__:null,refresh:sF,reset:lF,isDocked:vF,getModes:mF,setModes:dF});var hF=function(e,t){return _u([Fu(qi(),(function(n,r){e.contextual.each((function(e){if(ff(n.element,e.transitionClass)){lf(n.element,[e.transitionClass,e.fadeInClass]);var o=t.isVisible()?e.onShown:e.onHidden;o(n)}r.stop()}))})),Nu(fu(),(function(n,r){sF(n,e,t)})),Nu(su(),(function(n,r){lF(n,e,t)}))])};var pF=Object.freeze({__proto__:null,events:hF});var bF=[Ga("contextual",[Ma("fadeInClass"),Ma("fadeOutClass"),Ma("transitionClass"),Ba("lazyContext"),cs("onShow"),cs("onShown"),cs("onHide"),cs("onHidden")]),ei("lazyViewport",Qr),ni("modes",["top","bottom"],fa),cs("onDocked"),cs("onUndocked")];var yF=function(e){var t=oi(false);var n=oi(true);var r=rv();var o=oi(e.modes);var a=function(){return"docked:  "+t.get()+", visible: "+n.get()+", modes: "+o.get().join(",")};return kc({isDocked:t.get,setDocked:t.set,getInitialPos:r.get,setInitialPos:r.set,clearInitialPos:r.clear,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:a})};var wF=Object.freeze({__proto__:null,init:yF});var xF=gl({fields:bF,name:"docking",active:pF,apis:gF,state:wF});var CF=w(rc("toolbar-height-change"));var SF={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"};var kF="tox-tinymce--toolbar-sticky-on";var TF="tox-tinymce--toolbar-sticky-off";var OF=function(e,t){var n=vn(t);var r=n.dom.defaultView.innerHeight;var o=Pr(n);var a=tt.fromDom(e.elm);var i=Jr(a);var u=ar(a);var c=i.y;var f=c+u;var s=vr(t);var l=ar(t);var v=s.top;var d=v+l;var m=Math.abs(v-o.top)<2;var g=Math.abs(d-(o.top+r))<2;if(m&&c<d){Lr(o.left,c-l,n)}else if(g&&f>v){var h=c-r+u+l;Lr(o.left,h,n)}};var _F=function(e,t){return U(xF.getModes(e),t)};var EF=function(e){var t=function(e){return ir(e)+(parseInt(Yn(e,"margin-top"),10)||0)+(parseInt(Yn(e,"margin-bottom"),10)||0)};var n=e.element;hn(n).each((function(r){var o="padding-"+xF.getModes(e)[0];if(xF.isDocked(e)){var a=hr(r);$n(n,"width",a+"px");$n(r,o,t(n)+"px")}else{tr(n,"width");tr(r,o)}}))};var DF=function(e,t){if(t){cf(e,SF.fadeOutClass);sf(e,[SF.transitionClass,SF.fadeInClass])}else{cf(e,SF.fadeInClass);sf(e,[SF.fadeOutClass,SF.transitionClass])}};var AF=function(e,t){var n=tt.fromDom(e.getContainer());if(t){af(n,kF);cf(n,TF)}else{af(n,TF);cf(n,kF)}};var NF=function(e,t){var n=vn(t);Ol(n).filter((function(e){return!cn(t,e)})).filter((function(t){return cn(t,tt.fromDom(n.dom.body))||ln(e,t)})).each((function(){return Sl(t)}))};var MF=function(e,t){return _l(e).orThunk((function(){return t().toOptional().bind((function(e){return _l(e.element)}))}))};var RF=function(e,t,n){if(!e.inline){if(!t.header.isPositionedAtTop()){e.on("ResizeEditor",(function(){n().each(xF.reset)}))}e.on("ResizeWindow ResizeEditor",(function(){n().each(EF)}));e.on("SkinLoaded",(function(){n().each((function(e){xF.isDocked(e)?xF.reset(e):xF.refresh(e)}))}));e.on("FullscreenStateChanged",(function(){n().each(xF.reset)}))}e.on("AfterScrollIntoView",(function(e){n().each((function(t){xF.refresh(t);var n=t.element;if(Jb(n)){OF(e,n)}}))}));e.on("PostRender",(function(){AF(e,false)}))};var zF=function(e){return e().map(xF.isDocked).getOr(false)};var BF=function(){var e;return[yl.config({channels:(e={},e[CF()]={onReceive:EF},e)})]};var PF=function(e,t){var n=rv();var r=t.getSink;var o=function(e){r().each((function(t){return e(t.element)}))};var a=function(t){if(!e.inline){EF(t)}AF(e,xF.isDocked(t));t.getSystem().broadcastOn([yg()],{});r().each((function(e){return e.getSystem().broadcastOn([yg()],{})}))};var i=e.inline?[]:BF();return N([Yw.config({}),xF.config({contextual:D({lazyContext:function(t){var n=ir(t.element);var r=e.inline?e.getContentAreaContainer():e.getContainer();var o=Yr(tt.fromDom(r));var a=o.height-n;var i=o.y+(_F(t,"top")?0:n);return P.some(Xr(o.x,i,o.width,a))},onShow:function(){o((function(e){return DF(e,true)}))},onShown:function(e){o((function(e){return lf(e,[SF.transitionClass,SF.fadeInClass])}));n.get().each((function(t){NF(e.element,t);n.clear()}))},onHide:function(e){MF(e.element,r).fold(n.clear,n.set);o((function(e){return DF(e,false)}))},onHidden:function(){o((function(e){return lf(e,[SF.transitionClass])}))}},SF),lazyViewport:function(t){var n=Qr();var r=qT(e);var o=n.y+(_F(t,"top")?r:0);var a=n.height-(_F(t,"bottom")?r:0);return Xr(n.x,o,n.width,a)},modes:[t.header.getDockingMode()],onDocked:a,onUndocked:a})],i,true)};var LF=Object.freeze({__proto__:null,setup:RF,isDocked:zF,getBehaviours:PF});var HF=function(e){var t=e.editor;var n=e.sticky?PF:VI;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:dl(n(t,e.sharedBackstage))}};var IF=ea([Ma("type"),Aa("items",na([aa([Ma("name"),Ia("items",fa)]),fa]))].concat(SS));var FF=function(e){return wa("GroupToolbarButton",IF,e)};var VF=[ja("text"),ja("tooltip"),ja("icon"),Ba("fetch"),ei("onSetup",(function(){return h}))];var UF=ea(N([Ma("type")],VF,true));var jF=function(e){return wa("menubutton",UF,e)};var WF=ea([Ma("type"),ja("tooltip"),ja("icon"),ja("text"),Wa("select"),Ba("fetch"),ei("onSetup",(function(){return h})),Qa("presets","normal",["normal","color","listpreview"]),Ka("columns",1),Ba("onAction"),Ba("onItemAction")]);var qF=function(e){return wa("SplitButton",WF,e)};var GF=function(e,t){var n=function(e,n){var r=G(n,(function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}};var r=jF(n).mapError((function(e){return Sa(e)})).getOrDie();return $B(r,"tox-mbtn",t.backstage,P.some("menuitem"))}));Iw.set(e,r)};var r={focus:Dw.focusIn,setMenus:n};return{uid:e.uid,dom:e.dom,components:[],behaviours:dl([Iw.config({}),Vw("menubar-events",[Vu((function(t){e.onSetup(t)})),Nu(Pi(),(function(e,t){Hf(e.element,"."+"tox-mbtn--active").each((function(n){If(t.event.target,"."+"tox-mbtn").each((function(t){if(!cn(n,t)){e.getSystem().getByDom(n).each((function(n){e.getSystem().getByDom(t).each((function(e){PA.expand(e);PA.close(n);Yw.focus(e)}))}))}}))}))})),Nu(gu(),(function(e,t){t.event.prevFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(n){t.event.newFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(e){if(PA.isOpen(n)){PA.expand(e);PA.close(n)}}))}))}))]),Dw.config({mode:"flow",selector:"."+"tox-mbtn",onEscape:function(t){e.onEscape(t);return P.some(true)}}),yD.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}};var $F=lp({factory:GF,name:"silver.Menubar",configFields:[Da("dom"),Da("uid"),Da("onEscape"),Da("backstage"),Ka("onSetup",h)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}});var KF=function(e,t){return t.getAnimationRoot.fold((function(){return e.element}),(function(t){return t(e)}))};var XF=function(e){return e.dimension.property};var YF=function(e,t){return e.dimension.getDimension(t)};var JF=function(e,t){var n=KF(e,t);lf(n,[t.shrinkingClass,t.growingClass])};var QF=function(e,t){cf(e.element,t.openClass);af(e.element,t.closedClass);$n(e.element,XF(t),"0px");nr(e.element)};var ZF=function(e,t){cf(e.element,t.closedClass);af(e.element,t.openClass);tr(e.element,XF(t))};var eV=function(e,t,n,r){n.setCollapsed();$n(e.element,XF(t),YF(t,e.element));nr(e.element);JF(e,t);QF(e,t);t.onStartShrink(e);t.onShrunk(e)};var tV=function(e,t,n,r){var o=r.getOrThunk((function(){return YF(t,e.element)}));n.setCollapsed();$n(e.element,XF(t),o);nr(e.element);var a=KF(e,t);cf(a,t.growingClass);af(a,t.shrinkingClass);QF(e,t);t.onStartShrink(e)};var nV=function(e,t,n){var r=YF(t,e.element);var o=r==="0px"?eV:tV;o(e,t,n,P.some(r))};var rV=function(e,t,n){var r=KF(e,t);var o=ff(r,t.shrinkingClass);var a=YF(t,e.element);ZF(e,t);var i=YF(t,e.element);var u=function(){$n(e.element,XF(t),a);nr(e.element)};var c=function(){QF(e,t)};var f=o?u:c;f();cf(r,t.shrinkingClass);af(r,t.growingClass);ZF(e,t);$n(e.element,XF(t),i);n.setExpanded();t.onStartGrow(e)};var oV=function(e,t,n){if(n.isExpanded()){tr(e.element,XF(t));var r=YF(t,e.element);$n(e.element,XF(t),r)}};var aV=function(e,t,n){if(!n.isExpanded()){rV(e,t,n)}};var iV=function(e,t,n){if(n.isExpanded()){nV(e,t,n)}};var uV=function(e,t,n){if(n.isExpanded()){eV(e,t,n)}};var cV=function(e,t,n){return n.isExpanded()};var fV=function(e,t,n){return n.isCollapsed()};var sV=function(e,t,n){var r=KF(e,t);return ff(r,t.growingClass)===true};var lV=function(e,t,n){var r=KF(e,t);return ff(r,t.shrinkingClass)===true};var vV=function(e,t,n){return sV(e,t)||lV(e,t)};var dV=function(e,t,n){var r=n.isExpanded()?nV:rV;r(e,t,n)};var mV=Object.freeze({__proto__:null,refresh:oV,grow:aV,shrink:iV,immediateShrink:uV,hasGrown:cV,hasShrunk:fV,isGrowing:sV,isShrinking:lV,isTransitioning:vV,toggleGrow:dV,disableTransitions:JF});var gV=function(e,t,n){var r=t.expanded;return r?Dc({classes:[t.openClass],styles:{}}):Dc({classes:[t.closedClass],styles:vi(t.dimension.property,"0px")})};var hV=function(e,t){return _u([Fu(qi(),(function(n,r){var o=r.event.raw;if(o.propertyName===e.dimension.property){JF(n,e);if(t.isExpanded()){tr(n.element,e.dimension.property)}var a=t.isExpanded()?e.onGrown:e.onShrunk;a(n)}}))])};var pV=Object.freeze({__proto__:null,exhibit:gV,events:hV});var bV=[Da("closedClass"),Da("openClass"),Da("shrinkingClass"),Da("growingClass"),Fa("getAnimationRoot"),cs("onShrunk"),cs("onStartShrink"),cs("onGrown"),cs("onStartGrow"),Ka("expanded",false),Aa("dimension",ka("property",{width:[vs("property","width"),vs("getDimension",(function(e){return hr(e)+"px"}))],height:[vs("property","height"),vs("getDimension",(function(e){return ar(e)+"px"}))]}))];var yV=function(e){var t=oi(e.expanded);var n=function(){return"expanded: "+t.get()};return kc({isExpanded:function(){return t.get()===true},isCollapsed:function(){return t.get()===false},setCollapsed:S(t.set,false),setExpanded:S(t.set,true),readState:n})};var wV=Object.freeze({__proto__:null,init:yV});var xV=gl({fields:bV,name:"sliding",active:pV,apis:mV,state:wV});var CV="container";var SV=[eh("slotBehaviours",[])];var kV=function(e){return"<alloy.field."+e+">"};var TV=function(e){var t=function(){var e=[];var t=function(t,n){e.push(t);return Uh(CV,kV(t),n)};return{slot:t,record:w(e)}}();var n=e(t);var r=t.record();var o=G(r,(function(e){return Mh({name:e,pname:kV(e)})}));return ap(CV,SV,o,OV,n)};var OV=function(e,t){var n=function(t){return Jh(e)};var r=function(t,n){return $h(t,e,n)};var o=function(t,n){return function(r,o){return $h(r,e,o).map((function(e){return t(e,o)})).getOr(n)}};var a=function(e){return function(t,n){$(n,(function(n){return e(t,n)}))}};var i=function(e,t){return Vn(e.element,"aria-hidden")!=="true"};var u=function(e,t){if(!i(e)){var n=e.element;tr(n,"display");Wn(n,"aria-hidden");Cu(e,hu(),{name:t,visible:true})}};var c=function(e,t){if(i(e)){var n=e.element;$n(n,"display","none");In(n,"aria-hidden","true");Cu(e,hu(),{name:t,visible:false})}};var f=o(i,false);var s=o(c);var l=a(s);var v=function(e){return l(e,n())};var d=o(u);var m={getSlotNames:n,getSlot:r,isShowing:f,hideSlot:s,hideAllSlots:v,showSlot:d};return{uid:e.uid,dom:e.dom,components:t,behaviours:th(e.slotBehaviours),apis:m}};var _V=be({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},(function(e){return Cc(e)}));var EV=D(D({},_V),{sketch:TV});var DV=ea([ja("icon"),ja("tooltip"),ei("onShow",h),ei("onHide",h),ei("onSetup",(function(){return h}))]);var AV=function(e){return wa("sidebar",DV,e)};var NV=function(e){var t=e.ui.registry.getAll().sidebars;$(ge(t),(function(n){var r=t[n];var o=function(){return De(P.from(e.queryCommandValue("ToggleSidebar")),n)};e.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",false,n);t.setActive(o())},onSetup:function(t){var n=function(){return t.setActive(o())};e.on("ToggleSidebar",n);return function(){e.off("ToggleSidebar",n)}}})}))};var MV=function(e){return{element:function(){return e.element.dom}}};var RV=function(e,t){var n=G(ge(t),(function(e){var n=t[e];var r=xa(AV(n));return{name:e,getApi:MV,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}));return G(n,(function(t){var r=oi(h);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Jk.unnamedEvents([mO(t,r),gO(t,r),Nu(hu(),(function(e,t){var r=t.event;var o=ee(n,(function(e){return e.name===r.name}));o.each((function(t){var n=r.visible?t.onShow:t.onHide;n(t.getApi(e))}))}))])})}))};var zV=function(e){return EV.sketch((function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:RV(t,e),slotBehaviours:Jk.unnamedEvents([Vu((function(e){return EV.hideAllSlots(e)}))])}}))};var BV=function(e,t){var n=pp.getCurrent(e);n.each((function(e){return Iw.set(e,[zV(t)])}))};var PV=function(e,t){var n=pp.getCurrent(e);n.each((function(e){var n=pp.getCurrent(e);n.each((function(n){if(xV.hasGrown(e)){if(EV.isShowing(n,t)){xV.shrink(e)}else{EV.hideAllSlots(n);EV.showSlot(n,t)}}else{EV.hideAllSlots(n);EV.showSlot(n,t);xV.grow(e)}}))}))};var LV=function(e){var t=pp.getCurrent(e);return t.bind((function(e){var t=xV.isGrowing(e)||xV.hasGrown(e);if(t){var n=pp.getCurrent(e);return n.bind((function(e){return ee(EV.getSlotNames(e),(function(t){return EV.isShowing(e,t)}))}))}else{return P.none()}}))};var HV=rc("FixSizeEvent");var IV=rc("AutoSizeEvent");var FV=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:dl([yD.config({}),Yw.config({}),xV.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){var t=pp.getCurrent(e);t.each(EV.hideAllSlots);xu(e,IV)},onGrown:function(e){xu(e,IV)},onStartGrow:function(e){Cu(e,HV,{width:Qn(e.element,"width").getOr("")})},onStartShrink:function(e){Cu(e,HV,{width:hr(e.element)+"px"})}}),Iw.config({}),pp.config({find:function(e){var t=Iw.contents(e);return le(t)}})])}],behaviours:dl([jR.childAt(0),Vw("sidebar-sliding-events",[Nu(HV,(function(e,t){$n(e.element,"width",t.event.width)})),Nu(IV,(function(e,t){tr(e.element,"width")}))])])}};var VV=function(e,t,n,r){In(e.element,"aria-busy",true);var o=t.getRoot(e).getOr(e);var a=dl([Dw.config({mode:"special",onTab:function(){return P.some(true)},onShiftTab:function(){return P.some(true)}}),Yw.config({})]);var i=r(o,a);var u=o.getSystem().build(i);Iw.append(o,Df(u));if(u.hasConfigured(Dw)&&t.focus){Dw.focusIn(u)}if(!n.isBlocked()){t.onBlock(e)}n.blockWith((function(){return Iw.remove(o,u)}))};var UV=function(e,t,n){Wn(e.element,"aria-busy");if(n.isBlocked()){t.onUnblock(e)}n.clear()};var jV=Object.freeze({__proto__:null,block:VV,unblock:UV});var WV=[ei("getRoot",P.none),Za("focus",true),cs("onBlock"),cs("onUnblock")];var qV=function(){var e=ev();var t=function(t){e.set({destroy:t})};return kc({readState:e.isSet,blockWith:t,clear:e.clear,isBlocked:e.isSet})};var GV=Object.freeze({__proto__:null,init:qV});var $V=gl({fields:WV,name:"blocking",apis:jV,state:GV});var KV=function(e){var t=e.dom.attributes!==undefined?e.dom.attributes:[];return Q(t,(function(e,t){var n;if(t.name==="class"){return e}else{return D(D({},e),(n={},n[t.name]=t.value,n))}}),{})};var XV=function(e){return Array.prototype.slice.call(e.dom.classList,0)};var YV=function(e){var t=tt.fromHtml(e);var n=wn(t);var r=KV(t);var o=XV(t);var a=n.length===0?{}:{innerHtml:Gu(t)};return D({tag:it(t),classes:o,attributes:r},a)};var JV=function(e){return function(t,n){return{dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:YV('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}};var QV=function(e){return pp.getCurrent(e).each((function(e){return Sl(e.element)}))};var ZV=function(e,t){var n="tabindex";var r="data-mce-"+n;P.from(e.iframeElement).map(tt.fromDom).each((function(e){if(t){Un(e,n).each((function(t){return In(e,r,t)}));In(e,n,-1)}else{Wn(e,n);Un(e,r).each((function(t){In(e,n,t);Wn(e,r)}))}}))};var eU=function(e,t,n,r){var o=t.element;ZV(e,n);if(n){$V.block(t,JV(r));tr(o,"display");Wn(o,"aria-hidden");if(e.hasFocus()){QV(t)}}else{var a=pp.getCurrent(t).exists((function(e){return Tl(e.element)}));$V.unblock(t);$n(o,"display","none");In(o,"aria-hidden","true");if(a){e.focus()}}};var tU=function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:dl([Iw.config({}),$V.config({focus:false}),pp.config({find:function(e){return le(e.components())}})]),components:[]}};var nU=function(e){return e.type==="focusin"};var rU=function(e){if(nU(e)){var t=e.composed?le(e.composedPath()):P.from(e.target);return t.map(tt.fromDom).filter(ft).exists((function(e){return ff(e,"mce-pastebin")}))}else{return false}};var oU=function(e,t,n){var r=oi(false);var o=rv();var a=function(n){if(r.get()&&!rU(n)){n.preventDefault();QV(t());e.editorManager.setActive(e)}};if(!e.inline){e.on("PreInit",(function(){e.dom.bind(e.getWin(),"focusin",a);e.on("BeforeExecCommand",(function(e){if(e.command.toLowerCase()==="mcefocus"&&e.value!==true){a(e)}}))}))}var i=function(o){if(o!==r.get()){r.set(o);eU(e,t(),o,n.providers);e.fire("AfterProgressState",{state:o})}};e.on("ProgressState",(function(t){o.on(xC.clearTimeout);if(m(t.time)){var n=xC.setEditorTimeout(e,(function(){return i(t.state)}),t.time);o.set(n)}else{i(t.state);o.clear()}}))};var aU=function(e,t){var n={len:0,list:[]};var r=Q(e,(function(e,n){var r=t(n,e.len);return r.fold(w(e),(function(t){return{len:t.finish,list:e.list.concat([t])}}))}),n);return r.list};var iU=function(e,t,n){return{within:e,extra:t,withinWidth:n}};var uU=function(e,t,n){var r=aU(e,(function(e,t){var r=n(e);return P.some({element:e,start:t,finish:t+r,width:r})}));var o=Y(r,(function(e){return e.finish<=t}));var a=J(o,(function(e,t){return e+t.width}),0);var i=r.slice(o.length);return{within:o,extra:i,withinWidth:a}};var cU=function(e){return G(e,(function(e){return e.element}))};var fU=function(e,t,n){var r=cU(e.concat(t));return iU(r,[],n)};var sU=function(e,t,n,r){var o=cU(e).concat([n]);return iU(o,cU(t),r)};var lU=function(e,t,n){return iU(cU(e),[],n)};var vU=function(e,t,n){var r=uU(t,e,n);return r.extra.length===0?P.some(r):P.none()};var dU=function(e,t,n,r){var o=vU(e,t,n).getOrThunk((function(){return uU(t,e-n(r),n)}));var a=o.within;var i=o.extra;var u=o.withinWidth;if(i.length===1&&i[0].width<=n(r)){return fU(a,i,u)}else if(i.length>=1){return sU(a,i,r,u)}else{return lU(a,i,u)}};var mU=function(e,t){var n=G(t,(function(e){return Df(e)}));HI.setGroups(e,n)};var gU=function(e){return me(e,(function(e){return _l(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}))};var hU=function(e,t,n){var r=t.builtGroups.get();if(r.length===0){return}var o=Kh(e,t,"primary");var a=pA.getCoupled(e,"overflowGroup");$n(o.element,"visibility","hidden");var i=r.concat([a]);var u=gU(i);n([]);mU(o,i);var c=hr(o.element);var f=dU(c,t.builtGroups.get(),(function(e){return hr(e.element)}),a);if(f.extra.length===0){Iw.remove(o,a);n([])}else{mU(o,f.within);n(f.extra)}tr(o.element,"visibility");nr(o.element);u.each(Yw.focus)};var pU=w([eh("splitToolbarBehaviours",[pA]),_a("builtGroups",(function(){return oi([])}))]);var bU=w([is(["overflowToggledClass"]),Wa("getOverflowBounds"),Da("lazySink"),_a("overflowGroups",(function(){return oi([])}))].concat(pU()));var yU=w([Mh({factory:HI,schema:zI(),name:"primary"}),Rh({schema:zI(),name:"overflow"}),Rh({name:"overflow-button"}),Rh({name:"overflow-group"})]);var wU=w((function(e,t){br(e,Math.floor(t))}));var xU=w([is(["toggledClass"]),Da("lazySink"),Ba("fetch"),Wa("getBounds"),Ga("fireDismissalEventInstead",[Ka("event",du())]),Iv()]);var CU=w([Rh({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:dl([gx.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:false})])}}}),Rh({factory:HI,schema:zI(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:dl([Dw.config({mode:"cyclic",onEscape:function(t){$h(t,e,"button").each(Yw.focus);return P.none()}})])}}})]);var SU=function(e,t){var n=pA.getCoupled(e,"toolbarSandbox");if(pg.isOpen(n)){pg.close(n)}else{pg.open(n,t.toolbar())}};var kU=function(e,t,n,r){var o=n.getBounds.map((function(e){return e()}));var a=n.lazySink(e).getOrDie();Lm.positionWithinBounds(a,t,{anchor:{type:"hotspot",hotspot:e,layouts:r,overrides:{maxWidthFunction:wU()}}},o)};var TU=function(e,t,n,r,o){HI.setGroups(t,o);kU(e,t,n,r);gx.on(e)};var OU=function(e,t,n){var r=Vf();var o=function(o,a){n.fetch().get((function(o){TU(e,a,n,t.layouts,o);r.link(e.element);Dw.focusIn(a)}))};var a=function(){gx.off(e);Yw.focus(e);r.unlink(e.element)};return{dom:{tag:"div",attributes:{id:r.id}},behaviours:dl([Dw.config({mode:"special",onEscape:function(e){pg.close(e);return P.some(true)}}),pg.config({onOpen:o,onClose:a,isPartOf:function(t,n,r){return jf(n,r)||jf(e,r)},getAttachPoint:function(){return n.lazySink(e).getOrDie()}}),yl.config({channels:D(D({},Cg(D({isExtraPart:O},n.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),kg({doReposition:function(){pg.getState(pA.getCoupled(e,"toolbarSandbox")).each((function(r){kU(e,r,n,t.layouts)}))}}))})])}};var _U=function(e,t,n,r){return D(D({},SC.sketch(D(D({},r.button()),{action:function(e){SU(e,r)},buttonBehaviours:rh.augment({dump:r.button().buttonBehaviours},[pA.config({others:{toolbarSandbox:function(t){return OU(t,n,e)}}})])}))),{apis:{setGroups:function(t,r){pg.getState(pA.getCoupled(t,"toolbarSandbox")).each((function(o){TU(t,o,e,n.layouts,r)}))},reposition:function(t){pg.getState(pA.getCoupled(t,"toolbarSandbox")).each((function(r){kU(t,r,e,n.layouts)}))},toggle:function(e){SU(e,r)},getToolbar:function(e){return pg.getState(pA.getCoupled(e,"toolbarSandbox"))},isOpen:function(e){return pg.isOpen(pA.getCoupled(e,"toolbarSandbox"))}}})};var EU=vp({name:"FloatingToolbarButton",factory:_U,configFields:xU(),partFields:CU(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)},isOpen:function(e,t){return e.isOpen(t)}}});var DU=w([Da("items"),is(["itemSelector"]),eh("tgroupBehaviours",[Dw])]);var AU=w([Bh({name:"items",unit:"item"})]);var NU=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:nh(e.tgroupBehaviours,[Dw.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}};var MU=vp({name:"ToolbarGroup",configFields:DU(),partFields:AU(),factory:NU});var RU=function(e){return G(e,(function(e){return Df(e)}))};var zU=function(e,t,n){hU(e,n,(function(r){n.overflowGroups.set(r);t.getOpt(e).each((function(e){EU.setGroups(e,RU(r))}))}))};var BU=function(e,t,n,r){var o=kC(EU.sketch({fetch:function(){return ZD.nu((function(t){t(RU(e.overflowGroups.get()))}))},layouts:{onLtr:function(){return[js,Us]},onRtl:function(){return[Us,js]},onBottomLtr:function(){return[qs,Ws]},onBottomRtl:function(){return[Ws,qs]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:nh(e.splitToolbarBehaviours,[pA.config({others:{overflowGroup:function(){return MU.sketch(D(D({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(t,n){e.builtGroups.set(G(n,t.getSystem().build));zU(t,o,e)},refresh:function(t){return zU(t,o,e)},toggle:function(e){o.getOpt(e).each((function(e){EU.toggle(e)}))},isOpen:function(e){return o.getOpt(e).map(EU.isOpen).getOr(false)},reposition:function(e){o.getOpt(e).each((function(e){EU.reposition(e)}))},getOverflow:function(e){return o.getOpt(e).bind(EU.getToolbar)}},domModification:{attributes:{role:"group"}}}};var PU=vp({name:"SplitFloatingToolbar",configFields:bU(),partFields:yU(),factory:BU,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)},getOverflow:function(e,t){return e.getOverflow(t)}}});var LU=w([is(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),cs("onOpened"),cs("onClosed")].concat(pU()));var HU=w([Mh({factory:HI,schema:zI(),name:"primary"}),Mh({factory:HI,schema:zI(),name:"overflow",overrides:function(e){return{toolbarBehaviours:dl([xV.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){$h(t,e,"overflow-button").each((function(e){gx.off(e);Yw.focus(e)}));e.onClosed(t)},onGrown:function(t){Dw.focusIn(t);e.onOpened(t)},onStartGrow:function(t){$h(t,e,"overflow-button").each(gx.on)}}),Dw.config({mode:"acyclic",onEscape:function(t){$h(t,e,"overflow-button").each(Yw.focus);return P.some(true)}})])}}}),Rh({name:"overflow-button",overrides:function(e){return{buttonBehaviours:dl([gx.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:false})])}}}),Rh({name:"overflow-group"})]);var IU=function(e,t){return $h(e,t,"overflow").map(xV.hasGrown).getOr(false)};var FU=function(e,t){$h(e,t,"overflow-button").bind((function(){return $h(e,t,"overflow")})).each((function(n){VU(e,t);xV.toggleGrow(n)}))};var VU=function(e,t){$h(e,t,"overflow").each((function(n){hU(e,t,(function(e){var t=G(e,(function(e){return Df(e)}));HI.setGroups(n,t)}));$h(e,t,"overflow-button").each((function(e){if(xV.hasGrown(n)){gx.on(e)}}));xV.refresh(n)}))};var UU=function(e,t,n,r){var o="alloy.toolbar.toggle";var a=function(t,n){var r=G(n,t.getSystem().build);e.builtGroups.set(r)};return{uid:e.uid,dom:e.dom,components:t,behaviours:nh(e.splitToolbarBehaviours,[pA.config({others:{overflowGroup:function(e){return MU.sketch(D(D({},r["overflow-group"]()),{items:[SC.sketch(D(D({},r["overflow-button"]()),{action:function(t){xu(e,o)}}))]}))}}}),Vw("toolbar-toggle-events",[Nu(o,(function(t){FU(t,e)}))])]),apis:{setGroups:function(t,n){a(t,n);VU(t,e)},refresh:function(t){return VU(t,e)},toggle:function(t){return FU(t,e)},isOpen:function(t){return IU(t,e)}},domModification:{attributes:{role:"group"}}}};var jU=vp({name:"SplitSlidingToolbar",configFields:LU(),partFields:HU(),factory:UU,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)}}});var WU=function(e){var t=e.title.fold((function(){return{}}),(function(e){return{attributes:{title:e}}}));return{dom:D({tag:"div",classes:["tox-toolbar__group"]},t),components:[MU.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), "+".tox-split-button:not([disabled]), "+".tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:dl([yD.config({}),Yw.config({})])}};var qU=function(e){return MU.sketch(WU(e))};var GU=function(e,t){var n=Vu((function(t){var n=G(e.initGroups,qU);HI.setGroups(t,n)}));return dl([vO.toolbarButton(e.providers.isDisabled),uO(),Dw.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Vw("toolbar-events",[n])])};var $U=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":WU({title:P.none(),items:[]}),"overflow-button":YB({name:"more",icon:P.some("more-drawer"),disabled:false,tooltip:P.some("More..."),primary:false,borderless:false},P.none(),e.providers)},splitToolbarBehaviours:GU(e,t)}};var KU=function(e){var t=$U(e);var n=4;var r=PU.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return PU.sketch(D(D({},t),{lazySink:e.getSink,getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element;var r=Jr(t);var o=mn(t);var a=Jr(o);var i=Math.max(o.dom.scrollHeight,a.height);return Xr(r.x+n,a.y,r.width-n*2,i)},parts:D(D({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))};var XU=function(e){var t=jU.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});var n=jU.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}});var r=$U(e);return jU.sketch(D(D({},r),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([CF()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([CF()],{type:"closed"})}}))};var YU=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return HI.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===NT.scrolling?["tox-toolbar--scrolling"]:[])},components:[HI.parts.groups({})],toolbarBehaviours:GU(e,t)})};var JU=function(e,t,n){var r={getSocket:function(t){return TI.getPart(t,e,"socket")},setSidebar:function(t,n){TI.getPart(t,e,"sidebar").each((function(e){return BV(e,n)}))},toggleSidebar:function(t,n){TI.getPart(t,e,"sidebar").each((function(e){return PV(e,n)}))},whichSidebar:function(t){return TI.getPart(t,e,"sidebar").bind(LV).getOrNull()},getHeader:function(t){return TI.getPart(t,e,"header")},getToolbar:function(t){return TI.getPart(t,e,"toolbar")},setToolbar:function(t,n){TI.getPart(t,e,"toolbar").each((function(e){e.getApis().setGroups(e,n)}))},setToolbars:function(t,n){TI.getPart(t,e,"multiple-toolbar").each((function(e){RI.setItems(e,n)}))},refreshToolbar:function(t){var n=TI.getPart(t,e,"toolbar");n.each((function(e){return e.getApis().refresh(e)}))},toggleToolbarDrawer:function(t){TI.getPart(t,e,"toolbar").each((function(e){Be(e.getApis().toggle,(function(t){return t(e)}))}))},isToolbarDrawerToggled:function(t){return TI.getPart(t,e,"toolbar").bind((function(e){return P.from(e.getApis().isOpen).map((function(t){return t(e)}))})).getOr(false)},getThrobber:function(t){return TI.getPart(t,e,"throbber")},focusToolbar:function(t){var n=TI.getPart(t,e,"toolbar").orThunk((function(){return TI.getPart(t,e,"multiple-toolbar")}));n.each((function(e){Dw.focusIn(e)}))},setMenubar:function(t,n){TI.getPart(t,e,"menubar").each((function(e){$F.setMenus(e,n)}))},focusMenubar:function(t){TI.getPart(t,e,"menubar").each((function(e){$F.focus(e)}))}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}};var QU=OI.optional({factory:$F,name:"menubar",schema:[Da("backstage")]});var ZU=function(e){if(e.type===NT.sliding){return XU}else if(e.type===NT.floating){return KU}else{return YU}};var ej=OI.optional({factory:{sketch:function(e){return RI.sketch({uid:e.uid,dom:e.dom,listBehaviours:dl([Dw.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return YU({type:e.type,uid:rc("multiple-toolbar-item"),cyclicKeying:false,initGroups:[],providers:e.providers,onEscape:function(){e.onEscape();return P.some(true)}})},setupItem:function(e,t,n,r){HI.setGroups(t,n)},shell:true})}},name:"multiple-toolbar",schema:[Da("dom"),Da("onEscape")]});var tj=OI.optional({factory:{sketch:function(e){var t=ZU(e);var n={type:e.type,uid:e.uid,onEscape:function(){e.onEscape();return P.some(true)},cyclicKeying:false,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes};return t(n)}},name:"toolbar",schema:[Da("dom"),Da("onEscape"),Da("getSink")]});var nj=OI.optional({factory:{sketch:HF},name:"header",schema:[Da("dom")]});var rj=OI.optional({name:"socket",schema:[Da("dom")]});var oj=OI.optional({factory:{sketch:FV},name:"sidebar",schema:[Da("dom")]});var aj=OI.optional({factory:{sketch:tU},name:"throbber",schema:[Da("dom")]});var ij=vp({name:"OuterContainer",factory:JU,configFields:[Da("dom"),Da("behaviours")],partFields:[nj,QU,tj,ej,rj,oj,aj],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var r=G(n,(function(e){return qU(e)}));e.setToolbar(t,r)},setToolbars:function(e,t,n){var r=G(n,(function(e){return G(e,qU)}));e.setToolbars(t,r)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},toggleToolbarDrawer:function(e,t){e.toggleToolbarDrawer(t)},isToolbarDrawerToggled:function(e,t){return e.isToolbarDrawerToggled(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}});var uj="file edit view insert format tools table help";var cj={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}};var fj=function(e,t,n){var r=OT(n).split(/[ ,]/);return{text:e.title,getItems:function(){return re(e.items,(function(e){var n=e.toLowerCase();if(n.trim().length===0){return[]}else if(j(r,(function(e){return e===n}))){return[]}else if(n==="separator"||n==="|"){return[{type:"separator"}]}else if(t.menuItems[n]){return[t.menuItems[n]]}else{return[]}}))}}};var sj=function(e){if(typeof e==="string"){return e.split(" ")}return e};var lj=function(e,t){var n=D(D({},cj),t.menus);var r=ge(t.menus).length>0;var o=t.menubar===undefined||t.menubar===true?sj(uj):sj(t.menubar===false?"":t.menubar);var a=Y(o,(function(e){var n=_e(cj,e);if(r){return n||Oe(t.menus,e).exists((function(e){return _e(e,"items")}))}else{return n}}));var i=G(a,(function(r){var o=n[r];return fj({title:o.title,items:sj(o.items)},t,e)}));return Y(i,(function(e){var t=function(e){return e.type!=="separator"};return e.getItems().length>0&&j(e.getItems(),t)}))};var vj=function(e){var t=function(){e._skinLoaded=true;g_(e)};return function(){if(e.initialized){t()}else{e.on("init",t)}}};var dj=function(e,t){return function(){return h_(e,{message:t})}};var mj=function(e,t,n){return new aS((function(r,o){n.load(t,r,o);e.on("remove",(function(){return n.unload(t)}))}))};var gj=function(e,t){var n=t+"/skin.min.css";return mj(e,n,e.ui.styleSheetLoader)};var hj=function(e,t){var n=An(tt.fromDom(e.getElement()));if(n){var r=t+"/skin.shadowdom.min.css";return mj(e,r,lT.DOM.styleSheetLoader)}else{return aS.resolve()}};var pj=function(e,t){var n=dT(t);if(n){t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css")}if(gT(t)===false&&a(n)){aS.all([gj(t,n),hj(t,n)]).then(vj(t),dj(t,"Skin could not be loaded"))}else{vj(t)()}};var bj=S(pj,false);var yj=S(pj,true);var wj=function(e,t){return function(n){var r=tv();var o=function(){n.setActive(e.formatter.match(t));var o=e.formatter.formatChanged(t,n.setActive);r.set(o)};e.initialized?o():e.once("init",o);return function(){e.off("init",o);r.clear()}}};var xj=function(e,t,n){return function(r){var o=function(){return n(r)};var a=function(){n(r);e.on(t,o)};e.initialized?a():e.once("init",a);return function(){e.off("init",a);e.off(t,o)}}};var Cj=function(e){return function(t){return function(){e.undoManager.transact((function(){e.focus();e.execCommand("mceToggleFormat",false,t.format)}))}}};var Sj=function(e,t){return function(){return e.execCommand(t)}};var kj=function(e,t,n){var r=function(e,r,a,i){var u=t.shared.providers.translate(e.title);if(e.type==="separator"){return P.some({type:"separator",text:u})}else if(e.type==="submenu"){var c=re(e.getStyleItems(),(function(e){return o(e,r,i)}));if(r===0&&c.length<=0){return P.none()}else{return P.some({type:"nestedmenuitem",text:u,disabled:c.length<=0,getSubmenuItems:function(){return re(e.getStyleItems(),(function(e){return o(e,r,i)}))}})}}else{return P.some(D({type:"togglemenuitem",text:u,icon:e.icon,active:e.isSelected(i),disabled:a,onAction:n.onAction(e)},e.getStylePreview().fold((function(){return{}}),(function(e){return{meta:{style:e}}}))))}};var o=function(e,t,o){var a=e.type==="formatter"&&n.isInvalid(e);if(t===0){return a?[]:r(e,t,false,o).toArray()}else{return r(e,t,a,o).toArray()}};var a=function(e){var t=n.getCurrentValue();var r=n.shouldHide?0:1;return re(e,(function(e){return o(e,r,t)}))};var i=function(e,t){return function(n,r){var o=t();var i=a(o);var u=qB(i,US.CLOSE_ON_EXECUTE,e,false);r(u)}};return{validateItems:a,getFetch:i}};var Tj=function(e,t,n){var r=n.dataset;var o=r.type==="basic"?function(){return G(r.data,(function(e){return NH(e,n.isSelectedFor,n.getPreviewFor)}))}:r.getData;return{items:kj(e,t,n),getStyleItems:o}};var Oj=function(e,t,n){var r=Tj(e,t,n),o=r.items,a=r.getStyleItems;var i=function(e){return{getComponent:w(e)}};var u=xj(e,"NodeChange",(function(e){var t=e.getComponent();n.updateText(t)}));return BB({text:n.icon.isSome()?P.none():n.text,icon:n.icon,tooltip:P.from(n.tooltip),role:P.none(),fetch:o.getFetch(t,a),onSetup:u,getApi:i,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};var _j=function(e){return G(e,(function(e){var t=e,n=e;var r=e.split("=");if(r.length>1){t=r[0];n=r[1]}return{title:t,format:n}}))};var Ej=function(e){return{type:"basic",data:e}};var Dj;(function(e){e[e["SemiColon"]=0]="SemiColon";e[e["Space"]=1]="Space"})(Dj||(Dj={}));var Aj=function(e,t){if(t===Dj.SemiColon){return e.replace(/;$/,"").split(";")}else{return e.split(" ")}};var Nj=function(e,t,n,r){var o=e.getParam(t,n,"string");var a=_j(Aj(o,r));return{type:"basic",data:a}};var Mj=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}];var Rj=function(e){var t=function(){return ee(Mj,(function(t){return e.formatter.match(t.format)}))};var n=function(t){return function(){return e.formatter.match(t)}};var r=function(e){return P.none};var o=function(e){var n=t();var r=n.fold(w("left"),(function(e){return e.title.toLowerCase()}));Cu(e,zB,{icon:"align-"+r})};var a=Ej(Mj);var i=function(t){return function(){return ee(Mj,(function(e){return e.format===t.format})).each((function(t){return e.execCommand(t.command)}))}};return{tooltip:"Align",text:P.none(),icon:P.some("align-left"),isSelectedFor:n,getCurrentValue:P.none,getPreviewFor:r,onAction:i,updateText:o,dataset:a,shouldHide:false,isInvalid:function(t){return!e.formatter.canApply(t.format)}}};var zj=function(e,t){return Oj(e,t,Rj(e))};var Bj=function(e,t){var n=Tj(e,t,Rj(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})};var Pj="Andale Mono=andale mono,monospace;"+"Arial=arial,helvetica,sans-serif;"+"Arial Black=arial black,sans-serif;"+"Book Antiqua=book antiqua,palatino,serif;"+"Comic Sans MS=comic sans ms,sans-serif;"+"Courier New=courier new,courier,monospace;"+"Georgia=georgia,palatino,serif;"+"Helvetica=helvetica,arial,sans-serif;"+"Impact=impact,sans-serif;"+"Symbol=symbol;"+"Tahoma=tahoma,arial,helvetica,sans-serif;"+"Terminal=terminal,monaco,monospace;"+"Times New Roman=times new roman,times,serif;"+"Trebuchet MS=trebuchet ms,geneva,sans-serif;"+"Verdana=verdana,geneva,sans-serif;"+"Webdings=webdings;"+"Wingdings=wingdings,zapf dingbats";var Lj=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"];var Hj=function(e){var t=e.split(/\s*,\s*/);return G(t,(function(e){return e.replace(/^['"]+|['"]+$/g,"")}))};var Ij=function(e){var t=function(){var t=Hj(e.toLowerCase());return oe(Lj,(function(e){return t.indexOf(e.toLowerCase())>-1}))};return e.indexOf("-apple-system")===0&&t()};var Fj=function(e){var t="System Font";var n=function(){var n=function(e){return e?Hj(e)[0]:""};var r=e.queryCommandValue("FontName");var o=c.data;var a=r?r.toLowerCase():"";var i=ee(o,(function(e){var t=e.format;return t.toLowerCase()===a||n(t).toLowerCase()===n(a).toLowerCase()})).orThunk((function(){return Pe(Ij(a),{title:t,format:a})}));return{matchOpt:i,font:r}};var r=function(e){return function(t){return t.exists((function(t){return t.format===e}))}};var o=function(){var e=n().matchOpt;return e};var a=function(e){return function(){return P.some({tag:"div",styles:e.indexOf("dings")===-1?{"font-family":e}:{}})}};var i=function(t){return function(){e.undoManager.transact((function(){e.focus();e.execCommand("FontName",false,t.format)}))}};var u=function(e){var t=n(),r=t.matchOpt,o=t.font;var a=r.fold(w(o),(function(e){return e.title}));Cu(e,RB,{text:a})};var c=Nj(e,"font_formats",Pj,Dj.SemiColon);return{tooltip:"Fonts",text:P.some(t),icon:P.none(),isSelectedFor:r,getCurrentValue:o,getPreviewFor:a,onAction:i,updateText:u,dataset:c,shouldHide:false,isInvalid:O}};var Vj=function(e,t){return Oj(e,t,Fj(e))};var Uj=function(e,t){var n=Tj(e,t,Fj(e));e.ui.registry.addNestedMenuItem("fontformats",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})};var jj="8pt 10pt 12pt 14pt 18pt 24pt 36pt";var Wj={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"};var qj={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"};var Gj=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n};var $j=function(e,t){if(/[0-9.]+px$/.test(e)){return Gj(parseInt(e,10)*72/96,t||0)+"pt"}else{return Oe(qj,e).getOr(e)}};var Kj=function(e){return Oe(Wj,e).getOr("")};var Xj=function(e){var t=function(){var t=P.none();var n=u.data;var r=e.queryCommandValue("FontSize");if(r){var o=function(e){var o=$j(r,e);var a=Kj(o);t=ee(n,(function(e){return e.format===r||e.format===o||e.format===a}))};for(var a=3;t.isNone()&&a>=0;a--){o(a)}}return{matchOpt:t,size:r}};var n=function(e){return function(t){return t.exists((function(t){return t.format===e}))}};var r=function(){var e=t().matchOpt;return e};var o=w(P.none);var a=function(t){return function(){e.undoManager.transact((function(){e.focus();e.execCommand("FontSize",false,t.format)}))}};var i=function(e){var n=t(),r=n.matchOpt,o=n.size;var a=r.fold(w(o),(function(e){return e.title}));Cu(e,RB,{text:a})};var u=Nj(e,"fontsize_formats",jj,Dj.Space);return{tooltip:"Font sizes",text:P.some("12pt"),icon:P.none(),isSelectedFor:n,getPreviewFor:o,getCurrentValue:r,onAction:a,updateText:i,dataset:u,shouldHide:false,isInvalid:O}};var Yj=function(e,t){return Oj(e,t,Xj(e))};var Jj=function(e,t){var n=Tj(e,t,Xj(e));e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})};var Qj=function(e,t){var n=t();var r=G(n,(function(e){return e.format}));return P.from(e.formatter.closest(r)).bind((function(e){return ee(n,(function(t){return t.format===e}))})).orThunk((function(){return Pe(e.formatter.match("p"),{title:"Paragraph",format:"p"})}))};var Zj="Paragraph=p;"+"Heading 1=h1;"+"Heading 2=h2;"+"Heading 3=h3;"+"Heading 4=h4;"+"Heading 5=h5;"+"Heading 6=h6;"+"Preformatted=pre";var eW=function(e){var t="Paragraph";var n=function(t){return function(){return e.formatter.match(t)}};var r=function(t){return function(){var n=e.formatter.get(t);return P.some({tag:n.length>0?n[0].inline||n[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}};var o=function(n){var r=Qj(e,(function(){return a.data}));var o=r.fold(w(t),(function(e){return e.title}));Cu(n,RB,{text:o})};var a=Nj(e,"block_formats",Zj,Dj.SemiColon);return{tooltip:"Blocks",text:P.some(t),icon:P.none(),isSelectedFor:n,getCurrentValue:P.none,getPreviewFor:r,onAction:Cj(e),updateText:o,dataset:a,shouldHide:false,isInvalid:function(t){return!e.formatter.canApply(t.format)}}};var tW=function(e,t){return Oj(e,t,eW(e))};var nW=function(e,t){var n=Tj(e,t,eW(e));e.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})};var rW=function(e,t){var n="Paragraph";var r=function(t){return function(){return e.formatter.match(t)}};var o=function(t){return function(){var n=e.formatter.get(t);return n!==undefined?P.some({tag:n.length>0?n[0].inline||n[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):P.none()}};var a=function(t){var r=function(e){var t=e.items;return t!==undefined&&t.length>0?re(t,r):[{title:e.title,format:e.format}]};var o=re(AH(e),r);var a=Qj(e,w(o));var i=a.fold(w(n),(function(e){return e.title}));Cu(t,RB,{text:i})};return{tooltip:"Formats",text:P.some(n),icon:P.none(),isSelectedFor:r,getCurrentValue:P.none,getPreviewFor:o,onAction:Cj(e),updateText:a,shouldHide:e.getParam("style_formats_autohide",false,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}};var oW=function(e,t){var n=D({type:"advanced"},t.styleselect);return Oj(e,t,rW(e,n))};var aW=function(e,t){var n=D({type:"advanced"},t.styleselect);var r=Tj(e,t,rW(e,n));e.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})};var iW=function(e,t){var n=function(n,r){e.updateState.each((function(e){var o=e(n,r);t.set(o)}));e.renderComponents.each((function(e){var o=e(r,t.get());var a=G(o,n.getSystem().build);Um(n,a)}))};return _u([Nu(Zi(),(function(t,r){var o=r;if(!o.universal){var a=e.channel;if(U(o.channels,a)){n(t,o.data)}}})),Vu((function(t,r){e.initialData.each((function(e){n(t,e)}))}))])};var uW=Object.freeze({__proto__:null,events:iW});var cW=function(e,t,n){return n};var fW=Object.freeze({__proto__:null,getState:cW});var sW=[Da("channel"),Fa("renderComponents"),Fa("updateState"),Fa("initialData")];var lW=function(){var e=oi(P.none());var t=function(){return e.set(P.none())};var n=function(){return e.get().getOr("none")};return{readState:n,get:e.get,set:e.set,clear:t}};var vW=Object.freeze({__proto__:null,init:lW});var dW=gl({fields:sW,name:"reflecting",active:uW,apis:fW,state:vW});var mW=w([Da("toggleClass"),Da("fetch"),ss("onExecute"),Ka("getHotspot",P.some),Ka("getAnchorOverrides",w({})),Iv(),ss("onItemExecute"),Fa("lazySink"),Da("dom"),cs("onOpen"),eh("splitDropdownBehaviours",[pA,Dw,Yw]),Ka("matchWidth",false),Ka("useMinWidth",false),Ka("eventOrder",{}),Fa("role")].concat(MA()));var gW=Mh({factory:SC,schema:[Da("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:dl([Yw.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(Su)},buttonBehaviours:dl([gx.config({toggleOnExecute:false,toggleClass:e.toggleClass})])}}});var hW=Mh({factory:SC,schema:[Da("dom")],name:"button",defaults:function(){return{buttonBehaviours:dl([Yw.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each((function(n){e.onExecute(n,t)}))}}}});var pW=w([gW,hW,zh({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[Da("text")],name:"aria-descriptor"}),Rh({schema:[as()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each((function(r){e.onItemExecute(r,t,n)}))}}}}),yA()]);var bW=function(e,t,n,r){var o;var a=function(e){pp.getCurrent(e).each((function(e){nb.highlightFirst(e);Dw.focusIn(e)}))};var i=function(t){var n=a;OA(e,x,t,r,n,wA.HighlightFirst).get(h)};var u=function(e){i(e);return P.some(true)};var c=function(t){var n=Kh(t,e,"button");Su(n);return P.some(true)};var f=D(D({},_u([Vu((function(t,n){var r=$h(t,e,"aria-descriptor");r.each((function(e){var n=rc("aria");In(e.element,"id",n);In(t.element,"aria-describedby",n)}))}))])),px(P.some(i)));var s={repositionMenus:function(e){if(gx.isOn(e)){NA(e)}}};return{uid:e.uid,dom:e.dom,components:t,apis:s,eventOrder:D(D({},e.eventOrder),(o={},o[eu()]=["disabling","toggling","alloy.base.behaviour"],o)),events:f,behaviours:nh(e.splitDropdownBehaviours,[pA.config({others:{sandbox:function(t){var n=Kh(t,e,"arrow");var r={onOpen:function(){gx.on(n);gx.on(t)},onClose:function(){gx.off(n);gx.off(t)}};return AA(e,t,r)}}}),Dw.config({mode:"special",onSpace:c,onEnter:c,onDown:u}),Yw.config({}),gx.config({toggleOnExecute:false,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":true}}}};var yW=vp({name:"SplitDropdown",configFields:mW(),partFields:pW(),factory:bW,apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}});var wW=function(e){return{isDisabled:function(){return Pp.isDisabled(e)},setDisabled:function(t){return Pp.set(e,t)}}};var xW=function(e){return{setActive:function(t){gx.set(e,t)},isActive:function(){return gx.isOn(e)},isDisabled:function(){return Pp.isDisabled(e)},setDisabled:function(t){return Pp.set(e,t)}}};var CW=function(e,t){return e.map((function(e){return{"aria-label":t.translate(e),title:t.translate(e)}})).getOr({})};var SW=rc("focus-button");var kW=function(e,t,n,r,o,a){var i;return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:CW(n,a)},components:yO([e.map((function(e){return OB(e,a.icons)})),t.map((function(e){return EB(e,"tox-tbtn",a)}))]),eventOrder:(i={},i[Mi()]=["focusing","alloy.base.behaviour","common-button-display-events"],i),buttonBehaviours:dl([vO.toolbarButton(a.isDisabled),uO(),Vw("common-button-display-events",[Nu(Mi(),(function(e,t){t.event.prevent();xu(e,SW)}))])].concat(r.map((function(n){return dW.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return yO([e.icon.map((function(e){return OB(e,a.icons)})),e.text.map((function(e){return EB(e,"tox-tbtn",a)}))])}})})).toArray()).concat(o.getOr([])))}};var TW=function(e,t,n,r){var o=t.shared;return EU.sketch({lazySink:o.getSink,fetch:function(){return ZD.nu((function(t){t(G(n(e.items),qU))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:kW(e.icon,e.text,e.tooltip,P.none(),P.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})};var OW=function(e,t,n){var r=oi(h);var o=kW(e.icon,e.text,e.tooltip,P.none(),P.none(),n);return SC.sketch({dom:o.dom,components:o.components,eventOrder:MB,buttonBehaviours:dl([Vw("toolbar-button-events",[NB({onAction:e.onAction,getApi:t.getApi}),mO(t,r),gO(t,r)]),vO.toolbarButton((function(){return e.disabled||n.isDisabled()})),uO()].concat(t.toolbarButtonBehaviours))})};var _W=function(e,t){return EW(e,t,[])};var EW=function(e,t,n){return OW(e,{toolbarButtonBehaviours:[].concat(n.length>0?[Vw("toolbarButtonWith",n)]:[]),getApi:wW,onSetup:e.onSetup},t)};var DW=function(e,t){return AW(e,t,[])};var AW=function(e,t,n){return Co(OW(e,{toolbarButtonBehaviours:[Iw.config({}),gx.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:false})].concat(n.length>0?[Vw("toolbarToggleButtonWith",n)]:[]),getApi:xW,onSetup:e.onSetup},t))};var NW=function(e,t,n){return function(r){return ZD.nu((function(e){return t.fetch(e)})).map((function(o){return P.from(ME(Co(tE(rc("menu-value"),o,(function(n){t.onItemAction(e(r),n)}),t.columns,t.presets,US.CLOSE_ON_EXECUTE,t.select.getOr(O),n),{movement:rE(t.columns,t.presets),menuBehaviours:Jk.unnamedEvents(t.columns!=="auto"?[]:[Vu((function(e,n){Kk(e,4,fk(t.presets)).each((function(t){var n=t.numRows,r=t.numColumns;Dw.setGridSize(e,n,r)}))}))])})))}))}};var MW=function(e,t){var n;var r=rc("channel-update-split-dropdown-display");var o=function(e){return{isDisabled:function(){return Pp.isDisabled(e)},setDisabled:function(t){return Pp.set(e,t)},setIconFill:function(t,n){Hf(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){In(e,"fill",n)}))},setIconStroke:function(t,n){Hf(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){In(e,"stroke",n)}))},setActive:function(t){In(e.element,"aria-pressed",t);Hf(e.element,"span").each((function(n){e.getSystem().getByDom(n).each((function(e){return gx.set(e,t)}))}))},isActive:function(){return Hf(e.element,"span").exists((function(t){return e.getSystem().getByDom(t).exists(gx.isOn)}))}}};var a=oi(h);var i={getApi:o,onSetup:e.onSetup};return yW.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:D({"aria-pressed":false},CW(e.tooltip,t.providers))},onExecute:function(t){e.onAction(o(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:dl([vO.splitButton(t.providers.isDisabled),uO(),Vw("split-dropdown-events",[Nu(SW,Yw.focus),mO(i,a),gO(i,a)]),FA.config({})]),eventOrder:(n={},n[lu()]=["alloy.base.behaviour","split-dropdown-events"],n),toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:NW(o,e,t.providers),parts:{menu:gk(false,e.columns,e.presets)},components:[yW.parts.button(kW(e.icon,e.text,P.none(),P.some(r),P.some([gx.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:false})]),t.providers)),yW.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:NC("chevron-down",t.providers.icons)},buttonBehaviours:dl([vO.splitButton(t.providers.isDisabled),uO(),zC()])}),yW.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})};var RW=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}];var zW=function(e,t){return function(n,r,o){var a=e(n).mapError((function(e){return Sa(e)})).getOrDie();return t(a,r,o)}};var BW={button:zW(TS,(function(e,t){return _W(e,t.backstage.shared.providers)})),togglebutton:zW(ES,(function(e,t){return DW(e,t.backstage.shared.providers)})),menubutton:zW(jF,(function(e,t){return $B(e,"tox-tbtn",t.backstage,P.none())})),splitbutton:zW(qF,(function(e,t){return MW(e,t.backstage.shared)})),grouptoolbarbutton:zW(FF,(function(e,t,n){var r;var o=n.ui.registry.getAll().buttons;var a=function(e){return jW(n,{buttons:o,toolbar:e,allowToolbarGroups:false},t,P.none())};var i=(r={},r[Lv]=t.backstage.shared.header.isPositionedAtTop()?Pv.TopToBottom:Pv.BottomToTop,r);switch(MT(n)){case NT.floating:return TW(e,t.backstage,a,i);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(e,t){return oW(e,t.backstage)},fontsizeSelectButton:function(e,t){return Yj(e,t.backstage)},fontSelectButton:function(e,t){return Vj(e,t.backstage)},formatButton:function(e,t){return tW(e,t.backstage)},alignMenuButton:function(e,t){return zj(e,t.backstage)}};var PW=function(e,t,n){return Oe(BW,e.type).fold((function(){console.error("skipping button defined by",e);return P.none()}),(function(r){return P.some(r(e,t,n))}))};var LW={styleselect:BW.styleSelectButton,fontsizeselect:BW.fontsizeSelectButton,fontselect:BW.fontSelectButton,formatselect:BW.formatButton,align:BW.alignMenuButton};var HW=function(e){var t=G(RW,(function(t){var n=Y(t.items,(function(t){return _e(e,t)||_e(LW,t)}));return{name:t.name,items:n}}));return Y(t,(function(e){return e.items.length>0}))};var IW=function(e){var t=e.split("|");return G(t,(function(e){return{items:e.trim().split(" ")}}))};var FW=function(e){return g(e,(function(e){return _e(e,"name")&&_e(e,"items")}))};var VW=function(e){var t=e.toolbar;var n=e.buttons;if(t===false){return[]}else if(t===undefined||t===true){return HW(n)}else if(a(t)){return IW(t)}else if(FW(t)){return t}else{console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]");return[]}};var UW=function(e,t,n,r,o,a){return Oe(t,n.toLowerCase()).orThunk((function(){return a.bind((function(e){return me(e,(function(e){return Oe(t,e+n.toLowerCase())}))}))})).fold((function(){return Oe(LW,n.toLowerCase()).map((function(t){return t(e,o)})).orThunk((function(){return P.none()}))}),(function(t){if(t.type==="grouptoolbarbutton"&&!r){console.warn("Ignoring the '"+n+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.");return P.none()}else{return PW(t,o,e)}}))};var jW=function(e,t,n,r){var o=VW(t);var a=G(o,(function(o){var a=re(o.items,(function(o){return o.trim().length===0?[]:UW(e,t.buttons,o,t.allowToolbarGroups,n,r).toArray()}));return{title:P.from(e.translate(o.name)),items:a}}));return Y(a,(function(e){return e.items.length>0}))};var WW=function(e,t,n,r){var o=t.outerContainer;var i=n.toolbar;var u=n.buttons;if(g(i,a)){var c=i.map((function(t){var o={toolbar:t,buttons:u,allowToolbarGroups:n.allowToolbarGroups};return jW(e,o,{backstage:r},P.none())}));ij.setToolbars(o,c)}else{ij.setToolbar(o,jW(e,n,{backstage:r},P.none()))}};var qW=en();var GW=qW.os.isiOS()&&qW.os.version.major<=12;var $W=function(e,t){var n=e.dom;var r=e.getWin();var o=e.getDoc().documentElement;var a=oi(fr(r.innerWidth,r.innerHeight));var i=oi(fr(o.offsetWidth,o.offsetHeight));var u=function(){var t=a.get();if(t.left!==r.innerWidth||t.top!==r.innerHeight){a.set(fr(r.innerWidth,r.innerHeight));b_(e)}};var c=function(){var t=e.getDoc().documentElement;var n=i.get();if(n.left!==t.offsetWidth||n.top!==t.offsetHeight){i.set(fr(t.offsetWidth,t.offsetHeight));b_(e)}};var f=function(t){return y_(e,t)};n.bind(r,"resize",u);n.bind(r,"scroll",f);var s=iv(tt.fromDom(e.getBody()),"load",c);var l=t.uiMothership.element;e.on("hide",(function(){$n(l,"display","none")}));e.on("show",(function(){tr(l,"display")}));e.on("NodeChange",c);e.on("remove",(function(){s.unbind();n.unbind(r,"resize",u);n.unbind(r,"scroll",f);r=null}))};var KW=function(e,t,n,r,o){var a=oi(0);var i=t.outerContainer;bj(e);var u=tt.fromDom(o.targetNode);var c=Dn(En(u));Xm(u,t.mothership);Km(c,t.uiMothership);e.on("PostRender",(function(){WW(e,t,n,r);a.set(e.getWin().innerWidth);ij.setMenubar(i,lj(e,n));ij.setSidebar(i,n.sidebar);$W(e,t)}));var f=ij.getSocket(i).getOrDie("Could not find expected socket element");if(GW){Kn(f.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var s=UC((function(){e.fire("ScrollContent")}),20);var l=av(f.element,"scroll",s.throttle);e.on("remove",l.unbind)}iO(e,t);e.addCommand("ToggleSidebar",(function(t,n){ij.toggleSidebar(i,n);e.fire("ToggleSidebar")}));e.addQueryValueHandler("ToggleSidebar",(function(){return ij.whichSidebar(i)}));var v=MT(e);var d=function(){ij.refreshToolbar(t.outerContainer)};if(v===NT.sliding||v===NT.floating){e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var t=e.getWin().innerWidth;if(t!==a.get()){d();a.set(t)}}))}var m={enable:function(){aO(t,false)},disable:function(){aO(t,true)},isDisabled:function(){return Pp.isDisabled(i)}};return{iframeContainer:f.element.dom,editorContainer:i.element.dom,api:m}};var XW=Object.freeze({__proto__:null,render:KW});var YW=function(e){var t=/^[0-9\.]+(|px)$/i;if(t.test(""+e)){return P.some(parseInt(""+e,10))}return P.none()};var JW=function(e){return m(e)?e+"px":e};var QW=function(e,t,n){var r=t.filter((function(t){return e<t}));var o=n.filter((function(t){return e>t}));return r.or(o).getOr(e)};var ZW=function(e){var t=hT(e);var n=yT(e);var r=xT(e);return YW(t).map((function(e){return QW(e,n,r)}))};var eq=function(e){var t=ZW(e);return t.getOr(hT(e))};var tq=function(e){var t=pT(e);var n=bT(e);var r=wT(e);return YW(t).map((function(e){return QW(e,n,r)}))};var nq=function(e){var t=tq(e);return t.getOr(pT(e))};var rq=function(e,t,n,r,o){var a=n.uiMothership,i=n.outerContainer;var u=lT.DOM;var c=VT(e);var f=WT(e);var s=wT(e).or(tq(e));var l=r.shared.header;var v=l.isPositionedAtTop;var d=MT(e);var m=d===NT.sliding||d===NT.floating;var g=oi(false);var h=function(){return g.get()&&!e.removed};var p=function(e){return m?e.fold(w(0),(function(e){return e.components().length>1?ar(e.components()[1].element):0})):0};var b=function(n){switch(BT(e)){case RT.auto:var r=ij.getToolbar(i);var o=p(r);var a=ar(n.element)-o;var u=Yr(t);var c=u.y>a;if(c){return"top"}else{var f=mn(t);var s=Math.max(f.dom.scrollHeight,ar(f));var l=u.bottom<s-a;if(l){return"bottom"}else{var v=Qr();var d=v.bottom<u.bottom-a;return d?"bottom":"top"}}case RT.bottom:return"bottom";case RT.top:default:return"top"}};var y=function(e){var t=o.get();xF.setModes(t,[e]);l.setDockingMode(e);var n=v()?Pv.TopToBottom:Pv.BottomToTop;In(t.element,Lv,n)};var x=function(){var e=s.getOrThunk((function(){var e=YW(Yn(Pn(),"margin-left")).getOr(0);return hr(Pn())-vr(t).left+e}));$n(o.get().element,"max-width",e+"px")};var C=function(){var e=ij.getToolbar(i);var n=p(e);var r=Yr(t);var a=v()?Math.max(r.y-ar(o.get().element)+n,0):r.bottom;Kn(i.element,{position:"absolute",top:Math.round(a)+"px",left:Math.round(r.x)+"px"})};var S=function(){a.broadcastOn([yg()],{})};var k=function(e){if(e===void 0){e=false}if(!h()){return}if(!c){x()}if(m){ij.refreshToolbar(i)}if(!c){C()}if(f){var t=o.get();e?xF.reset(t):xF.refresh(t)}S()};var T=function(e){if(e===void 0){e=true}if(c||!f||!h()){return}var t=l.getDockingMode();var n=b(o.get());if(n!==t){y(n);if(e){k(true)}}};var O=function(){g.set(true);$n(i.element,"display","flex");u.addClass(e.getBody(),"mce-edit-focus");tr(a.element,"display");T(false);k()};var _=function(){g.set(false);if(n.outerContainer){$n(i.element,"display","none");u.removeClass(e.getBody(),"mce-edit-focus")}$n(a.element,"display","none")};return{isVisible:h,isPositionedAtTop:v,show:O,hide:_,update:k,updateMode:T,repositionPopups:S}};var oq=function(e,t){var n=Yr(e);return{pos:t?n.y:n.bottom,bounds:n}};var aq=function(e,t,n,r){var o=oi(oq(t,n.isPositionedAtTop()));var a=function(r){var a=oq(t,n.isPositionedAtTop()),i=a.pos,u=a.bounds;var c=o.get(),f=c.pos,s=c.bounds;var l=u.height!==s.height||u.width!==s.width;o.set({pos:i,bounds:u});if(l){b_(e,r)}if(n.isVisible()){if(f!==i){n.update(true)}else if(l){n.updateMode();n.repositionPopups()}}};if(!r){e.on("activate",n.show);e.on("deactivate",n.hide)}e.on("SkinLoaded ResizeWindow",(function(){return n.update(true)}));e.on("NodeChange keydown",(function(e){xC.requestAnimationFrame((function(){return a(e)}))}));e.on("ScrollWindow",(function(){return n.updateMode()}));var i=tv();i.set(iv(tt.fromDom(e.getBody()),"load",a));e.on("remove",(function(){i.clear()}))};var iq=function(e,t,n,r,o){var a=t.mothership,i=t.uiMothership,u=t.outerContainer;var c=oi(null);var f=tt.fromDom(o.targetNode);var s=rq(e,f,t,r,c);var l=IT(e);yj(e);var v=function(){if(c.get()){s.show();return}c.set(ij.getHeader(u).getOrDie());var o=UT(e);Km(o,a);Km(o,i);WW(e,t,n,r);ij.setMenubar(u,lj(e,n));s.show();aq(e,f,s,l);e.nodeChanged()};e.on("show",v);e.on("hide",s.hide);if(!l){e.on("focus",v);e.on("blur",s.hide)}e.on("init",(function(){if(e.hasFocus()||l){v()}}));iO(e,t);var d={show:function(){s.show()},hide:function(){s.hide()},enable:function(){aO(t,false)},disable:function(){aO(t,true)},isDisabled:function(){return Pp.isDisabled(u)}};return{editorContainer:u.element.dom,api:d}};var uq=Object.freeze({__proto__:null,render:iq});var cq="contexttoolbar-show";var fq="contexttoolbar-hide";var sq=function(e){return{hide:function(){return xu(e,ou())},getValue:function(){return Zg.getValue(e)}}};var lq=function(e,t){return Nu(AB,(function(n,r){var o=e.get(n);var a=sq(o);t.onAction(a,r.event.buttonApi)}))};var vq=function(e,t,n){var r=t.original;r.primary;var o=A(r,["primary"]);var a=xa(TS(D(D({},o),{type:"button",onAction:h})));return EW(a,n.backstage.shared.providers,[lq(e,t)])};var dq=function(e,t,n){var r=t.original;r.primary;var o=A(r,["primary"]);var a=xa(ES(D(D({},o),{type:"togglebutton",onAction:h})));return AW(a,n.backstage.shared.providers,[lq(e,t)])};var mq=function(e,t,n){var r={backstage:{shared:{providers:n}}};if(t.type==="contextformtogglebutton"){return dq(e,t,r)}else{return vq(e,t,r)}};var gq=function(e,t,n){var r=G(t,(function(t){return kC(mq(e,t,n))}));var o=function(){return G(r,(function(e){return e.asSpec()}))};var a=function(e){return me(t,(function(t,n){if(t.primary){return P.from(r[n]).bind((function(t){return t.getOpt(e)})).filter(k(Pp.isDisabled))}else{return P.none()}}))};return{asSpecs:o,findPrimary:a}};var hq=function(e,t){var n=e.label.fold((function(){return{}}),(function(e){return{"aria-label":e}}));var r=kC(UD.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:true,inputBehaviours:dl([Dw.config({mode:"special",onEnter:function(e){return o.findPrimary(e).map((function(e){Su(e);return true}))},onLeft:function(e,t){t.cut();return P.none()},onRight:function(e,t){t.cut();return P.none()}})])}));var o=gq(r,e.commands,t);return[{title:P.none(),items:[r.asSpec()]},{title:P.none(),items:o.asSpecs()}]};var pq=function(e,t,n){return YU({type:e,uid:rc("context-toolbar"),initGroups:hq(t,n),onEscape:P.none,cyclicKeying:true,providers:n})};var bq={renderContextForm:pq,buildInitGroups:hq};var yq=function(e,t,n){if(n===void 0){n=.01}return t.bottom-e.y>=n&&e.bottom-t.y>=n};var wq=function(e){var t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){var n=kn(tt.fromDom(e.startContainer),e.startOffset).element;var r=st(n)?hn(n):P.some(n);return r.filter(ft).map((function(e){return e.dom.getBoundingClientRect()})).getOr(t)}else{return t}};var xq=function(e){var t=e.selection.getRng();var n=wq(t);if(e.inline){var r=Pr();return Xr(r.left+n.left,r.top+n.top,n.width,n.height)}else{var o=Jr(tt.fromDom(e.getBody()));return Xr(o.x+n.left,o.y+n.top,n.width,n.height)}};var Cq=function(e,t){return t.filter(Bn).map(Jr).getOrThunk((function(){return xq(e)}))};var Sq=function(e,t,n){var r=Math.max(e.x+n,t.x);var o=Math.min(e.right-n,t.right);return{x:r,width:o-r}};var kq=function(e,t,n,r,o,a){var i=tt.fromDom(e.getContainer());var u=Hf(i,".tox-editor-header").getOr(i);var c=Yr(u);var f=c.y>=t.bottom;var s=r&&!f;if(e.inline&&s){return{y:Math.max(c.bottom+a,n.y),bottom:n.bottom}}if(e.inline&&!s){return{y:n.y,bottom:Math.min(c.y-a,n.bottom)}}var l=o==="line"?Yr(i):t;if(s){return{y:Math.max(c.bottom+a,n.y),bottom:Math.min(l.bottom-a,n.bottom)}}return{y:Math.max(l.y+a,n.y),bottom:Math.min(c.y-a,n.bottom)}};var Tq=function(e,t,n,r){if(r===void 0){r=0}var o=Fr(window);var a=Yr(tt.fromDom(e.getContentAreaContainer()));var i=_T(e)||ET(e)||AT(e);var u=Sq(a,o,r),c=u.x,f=u.width;if(e.inline&&!i){return Xr(c,o.y,f,o.height)}else{var s=t.header.isPositionedAtTop();var l=kq(e,a,o,s,n,r),v=l.y,d=l.bottom;return Xr(c,v,f,d-v)}};var Oq=12;var _q={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]};var Eq={maxHeightFunction:Ov(),maxWidthFunction:wU()};var Dq=function(e,t){var n=e.selection.getRng();var r=kn(tt.fromDom(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&cn(r.element,t)};var Aq=function(e,t,n){var r=Qn(e,"position");$n(e,"position",t);var o=n(e);r.each((function(t){return $n(e,"position",t)}));return o};var Nq=function(e){return e==="node"};var Mq=function(e,t,n,r,o){var a=xq(e);var i=r.lastElement().exists((function(e){return cn(n,e)}));if(Dq(e,n)){return i?bC:dC}else if(i){return Aq(t,r.getMode(),(function(){var e=yq(a,Yr(t));return e&&!r.isReposition()?wC:bC}))}else{var u=r.getMode()==="fixed"?o.y+Pr().top:o.y;var c=ar(t)+Oq;return u+c<=a.y?dC:mC}};var Rq=function(e,t,n,r){var o=function(t){return function(r,o,a,i,u){var c=Mq(e,i,t,n,u);var f=D(D({},r),{y:u.y,height:u.height});return D(D({},c(f,o,a,i,u)),{alwaysFit:true})}};var a=function(e){return Nq(r)?[o(e)]:[]};var i={onLtr:function(e){return[Gs,$s,Ws,Us,qs,js].concat(a(e))},onRtl:function(e){return[Gs,$s,qs,js,Ws,Us].concat(a(e))}};var u={onLtr:function(e){return[$s,Us,js,Ws,qs,Gs].concat(a(e))},onRtl:function(e){return[$s,js,Us,qs,Ws,Gs].concat(a(e))}};return t?u:i};var zq=function(e,t,n,r){if(t==="line"){return{bubble:Nv(Oq,0,_q),layouts:{onLtr:function(){return[Ks]},onRtl:function(){return[Xs]}},overrides:Eq}}else{return{bubble:Nv(0,Oq,_q,1/Oq),layouts:Rq(e,n,r,t),overrides:Eq}}};var Bq=function(e,t){var n=Y(t,(function(t){return t.predicate(e.dom)}));var r=X(n,(function(e){return e.type==="contexttoolbar"})),o=r.pass,a=r.fail;return{contextToolbars:o,contextForms:a}};var Pq=function(e){if(e.length<=1){return e}else{var t=function(t){return j(e,(function(e){return e.position===t}))};var n=function(t){return Y(e,(function(e){return e.position===t}))};var r=t("selection");var o=t("node");if(r||o){if(o&&r){var a=n("node");var i=G(n("selection"),(function(e){return D(D({},e),{position:"node"})}));return a.concat(i)}else{return r?n("selection"):n("node")}}else{return n("line")}}};var Lq=function(e){if(e.length<=1){return e}else{var t=function(t){return ee(e,(function(e){return e.position===t}))};var n=t("selection").orThunk((function(){return t("node")})).orThunk((function(){return t("line")})).map((function(e){return e.position}));return n.fold((function(){return[]}),(function(t){return Y(e,(function(e){return e.position===t}))}))}};var Hq=function(e,t,n){var r=Bq(e,t);if(r.contextForms.length>0){return P.some({elem:e,toolbars:[r.contextForms[0]]})}else{var o=Bq(e,n);if(o.contextForms.length>0){return P.some({elem:e,toolbars:[o.contextForms[0]]})}else if(r.contextToolbars.length>0||o.contextToolbars.length>0){var a=Pq(r.contextToolbars.concat(o.contextToolbars));return P.some({elem:e,toolbars:a})}else{return P.none()}}};var Iq=function(e,t,n){if(e(t)){return P.none()}else{return bi(t,(function(e){if(ft(e)){var t=Bq(e,n.inNodeScope),r=t.contextToolbars,o=t.contextForms;var a=o.length>0?o:Lq(r);return a.length>0?P.some({elem:e,toolbars:a}):P.none()}else{return P.none()}}),e)}};var Fq=function(e,t){var n=tt.fromDom(t.getBody());var r=function(e){return cn(e,n)};var o=function(e){return!r(e)&&!ln(n,e)};var a=tt.fromDom(t.selection.getNode());if(o(a)){return P.none()}return Hq(a,e.inNodeScope,e.inEditorScope).orThunk((function(){return Iq(r,a,e)}))};var Vq=function(e,t){var n={};var r=[];var o=[];var a={};var i={};var u=function(e,u){var c=xa(PS(u));n[e]=c;c.launch.map((function(n){a["form:"+e+""]=D(D({},u.launch),{type:n.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){t(c)}})}));if(c.scope==="editor"){o.push(c)}else{r.push(c)}i[e]=c};var c=function(e,t){HS(t).each((function(n){if(t.scope==="editor"){o.push(n)}else{r.push(n)}i[e]=n}))};var f=ge(e);$(f,(function(t){var n=e[t];if(n.type==="contextform"){u(t,n)}else if(n.type==="contexttoolbar"){c(t,n)}}));return{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:i,formNavigators:a}};var Uq=rc("forward-slide");var jq=rc("backward-slide");var Wq=rc("change-slide-event");var qq="tox-pop--resizing";var Gq=function(e){var t=oi([]);return tC.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){t.set([]);tC.getContent(e).each((function(e){tr(e.element,"visibility")}));cf(e.element,qq);tr(e.element,"width")},inlineBehaviours:dl([Vw("context-toolbar-events",[Fu(qi(),(function(e,t){if(t.event.raw.propertyName==="width"){cf(e.element,qq);tr(e.element,"width")}})),Nu(Wq,(function(e,t){var n=e.element;tr(n,"width");var r=hr(n);tC.setContent(e,t.event.contents);af(n,qq);var o=hr(n);$n(n,"width",r+"px");tC.getContent(e).each((function(e){t.event.focus.bind((function(e){Sl(e);return _l(n)})).orThunk((function(){Dw.focusIn(e);return Ol(En(n))}))}));xC.setTimeout((function(){$n(e.element,"width",o+"px")}),0)})),Nu(Uq,(function(e,n){tC.getContent(e).each((function(n){t.set(t.get().concat([{bar:n,focus:Ol(En(e.element))}]))}));Cu(e,Wq,{contents:n.event.forwardContents,focus:P.none()})})),Nu(jq,(function(e,n){ve(t.get()).each((function(n){t.set(t.get().slice(0,t.get().length-1));Cu(e,Wq,{contents:Df(n.bar),focus:n.focus})}))}))]),Dw.config({mode:"special",onEscape:function(n){return ve(t.get()).fold((function(){return e.onEscape()}),(function(e){xu(n,jq);return P.some(true)}))}})]),lazySink:function(){return no.value(e.sink)}})};var $q="tox-pop--transition";var Kq=function(e,t,n,r){var o=r.backstage;var a=o.shared;var i=en().deviceType.isTouch;var u=rv();var c=rv();var f=rv();var s=Ef(Gq({sink:n,onEscape:function(){e.focus();return P.some(true)}}));var l=function(){var t=f.get().getOr("node");var n=Nq(t)?1:0;return Tq(e,a,t,n)};var v=function(){return!e.removed&&!(i()&&o.isContextMenuOpen())};var d=function(e){return De(Re(e,u.get(),cn),true)};var m=function(){if(!v()){return true}else{var t=l();var n=De(f.get(),"node")?Cq(e,u.get()):xq(e);return t.height<=0||!yq(n,t)}};var g=function(){u.clear();c.clear();f.clear();tC.hide(s)};var p=function(){if(tC.isOpen(s)){var e=s.element;tr(e,"display");if(m()){$n(e,"display","none")}else{c.set(0);tC.reposition(s)}}};var b=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:dl([Dw.config({mode:"acyclic"}),Vw("pop-dialog-wrap-events",[Vu((function(t){e.shortcuts.add("ctrl+F9","focus statusbar",(function(){return Dw.focusIn(t)}))})),Uu((function(t){e.shortcuts.remove("ctrl+F9")}))])])}};var y=dt((function(){return Vq(t,(function(e){var t=C([e]);Cu(s,Uq,{forwardContents:b(t)})}))}));var w=function(t,n){return jW(e,{buttons:t,toolbar:n.items,allowToolbarGroups:false},r,P.some(["form:"]))};var x=function(e,t){return bq.buildInitGroups(e,t)};var C=function(t){var n=e.ui.registry.getAll().buttons;var r=y();var o=D(D({},n),r.formNavigators);var i=MT(e)===NT.scrolling?NT.scrolling:NT.default;var u=ne(G(t,(function(e){return e.type==="contexttoolbar"?w(o,e):x(e,a.providers)})));return YU({type:i,uid:rc("context-toolbar"),initGroups:u,onEscape:P.none,cyclicKeying:true,providers:a.providers})};var S=function(t,r){var o=t==="node"?a.anchors.node(r):a.anchors.cursor();var f=zq(e,t,i(),{lastElement:u.get,isReposition:function(){return De(c.get(),0)},getMode:function(){return Lm.getMode(n)}});return Co(o,f)};var k=function(e,t){T.cancel();if(!v()){return}var r=C(e);var o=e[0].position;var a=S(o,t);f.set(o);c.set(1);var i=s.element;tr(i,"display");if(!d(t)){cf(i,$q);Lm.reset(n,s)}tC.showWithinBounds(s,b(r),{anchor:a,transition:{classes:[$q],mode:"placement"}},(function(){return P.some(l())}));t.fold(u.clear,u.set);if(m()){$n(i,"display","none")}};var T=jC((function(){if(!e.hasFocus()||e.removed){return}if(ff(s.element,$q)){T.throttle()}else{var t=y();Fq(t,e).fold(g,(function(e){k(e.toolbars,P.some(e.elem))}))}}),17);e.on("init",(function(){e.on("remove",g);e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",p);e.on("click keyup focus SetContent",T.throttle);e.on(fq,g);e.on(cq,(function(t){var n=y();Oe(n.lookupTable,t.toolbarKey).each((function(n){k([n],Pe(t.target!==e,t.target));tC.getContent(s).each(Dw.focusIn)}))}));e.on("focusout",(function(t){xC.setEditorTimeout(e,(function(){if(_l(n.element).isNone()&&_l(s.element).isNone()){g()}}),0)}));e.on("SwitchMode",(function(){if(e.mode.isReadOnly()){g()}}));e.on("AfterProgressState",(function(t){if(t.state){g()}else if(e.hasFocus()){T.throttle()}}));e.on("NodeChange",(function(e){_l(s.element).fold(T.throttle,h)}))}))};var Xq=function(e){var t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];$(t,(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:Sj(e,t.cmd),onSetup:wj(e,t.name)})}));e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:Sj(e,"JustifyNone")})};var Yq={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]};var Jq=function(){var e="[0-9]+";var t="[+-]?"+e;var n="[eE]"+t;var r="\\.";var o=function(e){return"(?:"+e+")?"};var a=["Infinity",e+r+o(e)+o(n),r+e+o(n),e+o(n)].join("|");var i="[+-]?(?:"+a+")";return new RegExp("^("+i+")(.*)$")}();var Qq=function(e,t){return j(t,(function(t){return j(Yq[t],(function(t){return e===t}))}))};var Zq=function(e,t){var n=P.from(Jq.exec(e));return n.bind((function(e){var n=Number(e[1]);var r=e[2];if(Qq(r,t)){return P.some({value:n,unit:r})}else{return P.none()}}))};var eG=function(e,t){return Zq(e,t).map((function(e){var t=e.value,n=e.unit;return t+n}))};var tG=function(e,t){var n=function(){var n=t.getOptions(e);var r=t.getCurrent(e).map(t.hash);var o=rv();return G(n,(function(n){return{type:"togglemenuitem",text:t.display(n),onSetup:function(a){var i=function(e){if(e){o.on((function(e){return e.setActive(false)}));o.set(a)}a.setActive(e)};i(De(r,t.hash(n)));var u=t.watcher(e,n,i);return function(){o.clear();u()}},onAction:function(){return t.setCurrent(e,n)}}}))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:function(e){return e(n())},onSetup:t.onToolbarSetup});e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})};var nG={name:"lineheight",text:"Line height",icon:"line-height",getOptions:kT,hash:function(e){return eG(e,["fixed","relative","empty"]).getOr(e)},display:x,watcher:function(e,t,n){return e.formatter.formatChanged("lineheight",n,false,{value:t}).unbind},getCurrent:function(e){return P.from(e.queryCommandValue("LineHeight"))},setCurrent:function(e,t){return e.execCommand("LineHeight",false,t)}};var rG=function(e){var t=P.from(TT(e));return t.map((function(t){return{name:"language",text:"Language",icon:"language",getOptions:w(t),hash:function(e){return s(e.customCode)?e.code:e.code+"/"+e.customCode},display:function(e){return e.title},watcher:function(e,t,n){return e.formatter.formatChanged("lang",n,false,{value:t.code,customValue:t.customCode}).unbind},getCurrent:function(e){var t=tt.fromDom(e.selection.getNode());return yi(t,(function(e){return P.some(e).filter(ft).bind((function(e){var t=Un(e,"lang");return t.map((function(t){var n=Un(e,"data-mce-lang").getOrUndefined();return{code:t,customCode:n,title:""}}))}))}))},setCurrent:function(e,t){return e.execCommand("Lang",false,t)},onToolbarSetup:function(t){var n=tv();t.setActive(e.formatter.match("lang",{},undefined,true));n.set(e.formatter.formatChanged("lang",t.setActive,true));return n.clear}}}))};var oG=function(e){tG(e,nG);rG(e).each((function(t){return tG(e,t)}))};var aG=function(e,t){Bj(e,t);Uj(e,t);aW(e,t);nW(e,t);Jj(e,t)};var iG=function(e){return xj(e,"NodeChange",(function(t){t.setDisabled(!e.queryCommandState("outdent"))}))};var uG=function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:iG(e),onAction:Sj(e,"outdent")});e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:Sj(e,"indent")})};var cG=function(e){uG(e)};var fG=function(e,t){return function(){e.execCommand("mceToggleFormat",false,t)}};var sG=function(e){JR.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:wj(e,t.name),onAction:fG(e,t.name)})}));for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:wj(e,n),onAction:fG(e,n)})}};var lG=function(e){JR.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:Sj(e,t.action)})}))};var vG=function(e){JR.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:Sj(e,t.action),onSetup:wj(e,t.name)})}))};var dG=function(e){sG(e);lG(e);vG(e)};var mG=function(e){JR.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:Sj(e,t.action)})}));e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:fG(e,"code")})};var gG=function(e){dG(e);mG(e)};var hG=function(e,t){return xj(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(function(n){n.setDisabled(e.mode.isReadOnly()||!e.undoManager[t]())}))};var pG=function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:hG(e,"hasUndo"),onAction:Sj(e,"undo")});e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:hG(e,"hasRedo"),onAction:Sj(e,"redo")})};var bG=function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:true,onSetup:hG(e,"hasUndo"),onAction:Sj(e,"undo")});e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:true,onSetup:hG(e,"hasRedo"),onAction:Sj(e,"redo")})};var yG=function(e){pG(e);bG(e)};var wG=function(e){return xj(e,"VisualAid",(function(t){t.setActive(e.hasVisual)}))};var xG=function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:wG(e),onAction:Sj(e,"mceToggleVisualAid")})};var CG=function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Sj(e,"mceToggleVisualAid")})};var SG=function(e){CG(e);xG(e)};var kG=function(e,t){Xq(e);gG(e);aG(e,t);yG(e);eE(e);SG(e);cG(e);oG(e)};var TG=function(e,t){return{type:"makeshift",x:e,y:t}};var OG=function(e,t,n){return TG(e.x+t,e.y+n)};var _G=function(e){return e.type==="longpress"||e.type.indexOf("touch")===0};var EG=function(e){if(_G(e)){var t=e.touches[0];return TG(t.pageX,t.pageY)}else{return TG(e.pageX,e.pageY)}};var DG=function(e){if(_G(e)){var t=e.touches[0];return TG(t.clientX,t.clientY)}else{return TG(e.clientX,e.clientY)}};var AG=function(e,t){var n=lT.DOM.getPos(e);return OG(t,n.x,n.y)};var NG=function(e,t){if(t.type==="contextmenu"||t.type==="longpress"){if(e.inline){return EG(t)}else{return AG(e.getContentAreaContainer(),DG(t))}}else{return MG(e)}};var MG=function(e){return{type:"selection",root:tt.fromDom(e.selection.getNode())}};var RG=function(e){return{type:"node",node:P.some(tt.fromDom(e.selection.getNode())),root:tt.fromDom(e.getBody())}};var zG=function(e,t,n){switch(n){case"node":return RG(e);case"point":return NG(e,t);case"selection":return MG(e)}};var BG=function(e,t,n,r,o,a){var i=n();var u=zG(e,t,a);qB(i,US.CLOSE_ON_EXECUTE,r,false).map((function(e){t.preventDefault();tC.showMenuAt(o,{anchor:u},{menu:{markers:vk("normal")},data:e})}))};var PG={onLtr:function(){return[$s,Us,js,Ws,qs,Gs,dC,mC,vC,sC,lC,fC]},onRtl:function(){return[$s,js,Us,qs,Ws,Gs,dC,mC,lC,fC,vC,sC]}};var LG=12;var HG={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]};var IG=function(e,t){var n=e.selection;if(n.isCollapsed()||t.touches.length<1){return false}else{var r=t.touches[0];var o=n.getRng();var a=tm(e.getWin(),kd.domRange(o));return a.exists((function(e){return e.left<=r.clientX&&e.right>=r.clientX&&e.top<=r.clientY&&e.bottom>=r.clientY}))}};var FG=function(e){var t=e.selection.getRng();var n=function(){xC.setEditorTimeout(e,(function(){e.selection.setRng(t)}),10);a()};e.once("touchend",n);var r=function(e){e.preventDefault();e.stopImmediatePropagation()};e.on("mousedown",r,true);var o=function(){return a()};e.once("longpresscancel",o);var a=function(){e.off("touchend",n);e.off("longpresscancel",o);e.off("mousedown",r)}};var VG=function(e,t,n){var r=zG(e,t,n);var o=n==="point"?LG:0;return D({bubble:Nv(0,o,HG),layouts:PG,overrides:{maxWidthFunction:wU(),maxHeightFunction:Ov()}},r)};var UG=function(e,t,n,r,o,a,i){var u=VG(e,t,a);qB(n,US.CLOSE_ON_EXECUTE,r,true).map((function(n){t.preventDefault();tC.showMenuWithinBounds(o,{anchor:u},{menu:{markers:vk("normal"),highlightImmediately:i},data:n,type:"horizontal"},(function(){return P.some(Tq(e,r.shared,a==="node"?"node":"selection"))}));e.fire(fq)}))};var jG=function(e,t,n,r,o,a){var i=en();var u=i.os.isiOS();var c=i.os.isOSX();var f=i.os.isAndroid();var s=i.deviceType.isTouch();var l=function(){return!(f||u||c&&s)};var v=function(){var i=n();UG(e,t,i,r,o,a,l())};if((c||u)&&a!=="node"){var d=function(){FG(e);v()};if(IG(e,t)){d()}else{e.once("selectionchange",d);e.once("touchend",(function(){return e.off("selectionchange",d)}))}}else{v()}};var WG=function(e){return typeof e==="string"?e.split(/[ ,]/):e};var qG=function(e){return e.getParam("contextmenu_never_use_native",false,"boolean")};var GG=function(e,t,n){var r=e.ui.registry.getAll().contextMenus;return P.from(e.getParam(t)).map(WG).getOrThunk((function(){return Y(WG(n),(function(e){return _e(r,e)}))}))};var $G=function(e){return e.getParam("contextmenu")===false};var KG=function(e){return GG(e,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")};var XG=function(e){return e.getParam("contextmenu_avoid_overlap","","string")};var YG=function(e){return a(e)?e==="|":e.type==="separator"};var JG={type:"separator"};var QG=function(e){var t=function(e){return{text:e.text,icon:e.icon,disabled:e.disabled,shortcut:e.shortcut}};if(a(e)){return e}else{switch(e.type){case"separator":return JG;case"submenu":return D(D({type:"nestedmenuitem"},t(e)),{getSubmenuItems:function(){var t=e.getSubmenuItems();if(a(t)){return t}else{return G(t,QG)}}});default:return D(D({type:"menuitem"},t(e)),{onAction:p(e.onAction)})}}};var ZG=function(e,t){if(t.length===0){return e}var n=ve(e).filter((function(e){return!YG(e)}));var r=n.fold((function(){return[]}),(function(e){return[JG]}));return e.concat(r).concat(t).concat([JG])};var e$=function(e,t,n){var r=Q(t,(function(t,r){return Oe(e,r.toLowerCase()).map((function(e){var r=e.update(n);if(a(r)){return ZG(t,r.split(" "))}else if(r.length>0){var o=G(r,QG);return ZG(t,o)}else{return t}})).getOrThunk((function(){return t.concat([r])}))}),[]);if(r.length>0&&YG(r[r.length-1])){r.pop()}return r};var t$=function(e,t){return t.ctrlKey&&!qG(e)};var n$=function(e,t){return t.type!=="longpress"&&(t.button!==2||t.target===e.getBody()&&t.pointerType==="")};var r$=function(e,t){return n$(e,t)?e.selection.getStart(true):t.target};var o$=function(e,t){var n=XG(e);var r=n$(e,t)?"selection":"point";if($e(n)){var o=r$(e,t);var a=PE(tt.fromDom(o),n);return a?"node":r}else{return r}};var a$=function(e,t,n){var r=en();var o=r.deviceType.isTouch;var a=Ef(tC.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(true)},onHide:function(){return n.setContextMenuState(false)},fireDismissalEventInstead:{},inlineBehaviours:dl([Vw("dismissContextMenu",[Nu(du(),(function(t,n){pg.close(t);e.focus()}))])])}));var i=function(e){return tC.hide(a)};var u=function(t){if(qG(e)){t.preventDefault()}if(t$(e,t)||$G(e)){return}var r=o$(e,t);var i=function(){var n=r$(e,t);var r=e.ui.registry.getAll();var o=KG(e);return e$(r.contextMenus,o,n)};var u=o()?jG:BG;u(e,t,i,n,a,r)};e.on("init",(function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");e.on(t,i);e.on("longpress contextmenu",u)}))};var i$=ii.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]);var u$=function(e){return function(t){return t.translate(-e.left,-e.top)}};var c$=function(e){return function(t){return t.translate(e.left,e.top)}};var f$=function(e){return function(t,n){return Q(e,(function(e,t){return t(e)}),fr(t,n))}};var s$=function(e,t,n){return e.fold(f$([c$(n),u$(t)]),f$([u$(t)]),f$([]))};var l$=function(e,t,n){return e.fold(f$([c$(n)]),f$([]),f$([c$(t)]))};var v$=function(e,t,n){return e.fold(f$([]),f$([u$(n)]),f$([c$(t),u$(n)]))};var d$=function(e,t,n,r,o,a){var i=l$(e,o,a);var u=l$(t,o,a);return Math.abs(i.left-u.left)<=n&&Math.abs(i.top-u.top)<=r};var m$=function(e,t,n,r,o,a){var i=l$(e,o,a);var u=l$(t,o,a);var c=Math.abs(i.left-u.left);var f=Math.abs(i.top-u.top);return fr(c,f)};var g$=function(e,t,n){var r=e.fold((function(e,t){return{position:P.some("absolute"),left:P.some(e+"px"),top:P.some(t+"px")}}),(function(e,t){return{position:P.some("absolute"),left:P.some(e-n.left+"px"),top:P.some(t-n.top+"px")}}),(function(e,t){return{position:P.some("fixed"),left:P.some(e+"px"),top:P.some(t+"px")}}));return D({right:P.none(),bottom:P.none()},r)};var h$=function(e,t,n){return e.fold((function(e,r){return b$(e+t,r+n)}),(function(e,r){return y$(e+t,r+n)}),(function(e,r){return w$(e+t,r+n)}))};var p$=function(e,t,n,r){var o=function(e,o){return function(a,i){var u=e(t,n,r);return o(a.getOr(u.left),i.getOr(u.top))}};return e.fold(o(v$,b$),o(l$,y$),o(s$,w$))};var b$=i$.offset;var y$=i$.absolute;var w$=i$.fixed;var x$=function(e,t){var n=Vn(e,t);return s(n)?NaN:parseInt(n,10)};var C$=function(e,t){var n=e.element;var r=x$(n,t.leftAttr);var o=x$(n,t.topAttr);return isNaN(r)||isNaN(o)?P.none():P.some(fr(r,o))};var S$=function(e,t,n){var r=e.element;In(r,t.leftAttr,n.left+"px");In(r,t.topAttr,n.top+"px")};var k$=function(e,t){var n=e.element;Wn(n,t.leftAttr);Wn(n,t.topAttr)};var T$=function(e,t,n,r){return C$(e,t).fold((function(){return n}),(function(e){return w$(e.left+r.left,e.top+r.top)}))};var O$=function(e,t,n,r,o,a){var i=T$(e,t,n,r);var u=t.mustSnap?D$(e,t,i,o,a):A$(e,t,i,o,a);var c=s$(i,o,a);S$(e,t,c);return u.fold((function(){return{coord:w$(c.left,c.top),extra:P.none()}}),(function(e){return{coord:e.output,extra:e.extra}}))};var _$=function(e,t){k$(e,t)};var E$=function(e,t,n,r){return me(e,(function(e){var o=e.sensor;var a=d$(t,o,e.range.left,e.range.top,n,r);return a?P.some({output:p$(e.output,t,n,r),extra:e.extra}):P.none()}))};var D$=function(e,t,n,r,o){var a=t.getSnapPoints(e);var i=E$(a,n,r,o);return i.orThunk((function(){var e=Q(a,(function(e,t){var a=t.sensor;var i=m$(n,a,t.range.left,t.range.top,r,o);return e.deltas.fold((function(){return{deltas:P.some(i),snap:P.some(t)}}),(function(n){var r=(i.left+i.top)/2;var o=(n.left+n.top)/2;if(r<=o){return{deltas:P.some(i),snap:P.some(t)}}else{return e}}))}),{deltas:P.none(),snap:P.none()});return e.snap.map((function(e){return{output:p$(e.output,n,r,o),extra:e.extra}}))}))};var A$=function(e,t,n,r,o){var a=t.getSnapPoints(e);return E$(a,n,r,o)};var N$=function(e,t,n){return{coord:p$(e.output,e.output,t,n),extra:e.extra}};var M$=function(e,t,n,r){var o=t.getTarget(e.element);if(t.repositionTarget){var a=vn(e.element);var i=Pr(a);var u=WI(o);var c=N$(r,i,u);var f=g$(c.coord,i,u);Xn(o,f)}};var R$=Object.freeze({__proto__:null,snapTo:M$});var z$="data-initial-z-index";var B$=function(e){hn(e.element).filter(ft).each((function(e){Un(e,z$).fold((function(){return tr(e,"z-index")}),(function(t){return $n(e,"z-index",t)}));Wn(e,z$)}))};var P$=function(e){hn(e.element).filter(ft).each((function(t){Qn(t,"z-index").each((function(e){In(t,z$,e)}));$n(t,"z-index",Yn(e.element,"z-index"))}))};var L$=function(e,t){e.getSystem().addToGui(t);P$(t)};var H$=function(e){B$(e);e.getSystem().removeFromGui(e)};var I$=function(e,t,n){return e.getSystem().build(fD.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))};var F$=Ga("snaps",[Da("getSnapPoints"),cs("onSensor"),Da("leftAttr"),Da("topAttr"),Ka("lazyViewport",Qr),Ka("mustSnap",false)]);var V$=[Ka("useFixed",O),Da("blockerClass"),Ka("getTarget",x),Ka("onDrag",h),Ka("repositionTarget",true),Ka("onDrop",h),ei("getBounds",Qr),F$];var U$=function(e){return ze(Qn(e,"left"),Qn(e,"top"),Qn(e,"position"),(function(e,t,n){var r=n==="fixed"?w$:b$;return r(parseInt(e,10),parseInt(t,10))})).getOrThunk((function(){var t=vr(e);return y$(t.left,t.top)}))};var j$=function(e,t,n,r,o){var a=o.bounds;var i=l$(t,n,r);var u=Ds(i.left,a.x,a.x+a.width-o.width);var c=Ds(i.top,a.y,a.y+a.height-o.height);var f=y$(u,c);return t.fold((function(){var e=v$(f,n,r);return b$(e.left,e.top)}),w(f),(function(){var e=s$(f,n,r);return w$(e.left,e.top)}))};var W$=function(e,t,n,r,o,a,i){var u=t.fold((function(){var e=h$(n,a.left,a.top);var t=s$(e,r,o);return w$(t.left,t.top)}),(function(t){var i=O$(e,t,n,a,r,o);i.extra.each((function(n){t.onSensor(e,n)}));return i.coord}));return j$(e,u,r,o,i)};var q$=function(e,t,n,r){var o=t.getTarget(e.element);if(t.repositionTarget){var a=vn(e.element);var i=Pr(a);var u=WI(o);var c=U$(o);var f=W$(e,t.snaps,c,i,u,r,n);var s=g$(f,i,u);Xn(o,s)}t.onDrag(e,o,r)};var G$=function(e,t){return{bounds:e.getBounds(),height:ir(t.element),width:pr(t.element)}};var $$=function(e,t,n,r,o){var a=n.update(r,o);var i=n.getStartData().getOrThunk((function(){return G$(t,e)}));a.each((function(n){q$(e,t,i,n)}))};var K$=function(e,t,n,r){t.each(H$);n.snaps.each((function(t){_$(e,t)}));var o=n.getTarget(e.element);r.reset();n.onDrop(e,o)};var X$=function(e){return function(t,n){var r=function(e){n.setStartData(G$(t,e))};return _u(N([Nu(fu(),(function(e){n.getStartData().each((function(){return r(e)}))}))],e(t,n,r),true))}};var Y$=function(e){return _u([Nu(Mi(),e.forceDrop),Nu(Bi(),e.drop),Nu(Ri(),(function(t,n){e.move(n.event)})),Nu(zi(),e.delayDrop)])};var J$=function(e){return P.from(fr(e.x,e.y))};var Q$=function(e,t){return fr(t.left-e.left,t.top-e.top)};var Z$=Object.freeze({__proto__:null,getData:J$,getDelta:Q$});var eK=function(e,t,n){return[Nu(Mi(),(function(r,o){var a=o.event.raw;if(a.button!==0){return}o.stop();var i=function(){return K$(r,P.some(f),e,t)};var u=LE(i,200);var c={drop:i,delayDrop:u.schedule,forceDrop:i,move:function(n){u.cancel();$$(r,e,t,Z$,n)}};var f=I$(r,e.blockerClass,Y$(c));var s=function(){n(r);L$(r,f)};s()}))]};var tK=N(N([],V$,true),[vs("dragger",{handlers:X$(eK)})],false);var nK=function(e){return _u([Nu(Ei(),e.forceDrop),Nu(Ai(),e.drop),Nu(Ni(),e.drop),Nu(Di(),(function(t,n){e.move(n.event)}))])};var rK=function(e){var t=e[0];return P.some(fr(t.clientX,t.clientY))};var oK=function(e){var t=e.raw;var n=t.touches;return n.length===1?rK(n):P.none()};var aK=function(e,t){return fr(t.left-e.left,t.top-e.top)};var iK=Object.freeze({__proto__:null,getData:oK,getDelta:aK});var uK=function(e,t,n){var r=rv();var o=function(n){K$(n,r.get(),e,t);r.clear()};return[Nu(Ei(),(function(a,i){i.stop();var u=function(){return o(a)};var c={drop:u,delayDrop:h,forceDrop:u,move:function(n){$$(a,e,t,iK,n)}};var f=I$(a,e.blockerClass,nK(c));r.set(f);var s=function(){n(a);L$(a,f)};s()})),Nu(Di(),(function(n,r){r.stop();$$(n,e,t,iK,r.event)})),Nu(Ai(),(function(e,t){t.stop();o(e)})),Nu(Ni(),o)]};var cK=N(N([],V$,true),[vs("dragger",{handlers:X$(uK)})],false);var fK=function(e,t,n){return N(N([],eK(e,t,n),true),uK(e,t,n),true)};var sK=N(N([],V$,true),[vs("dragger",{handlers:X$(fK)})],false);var lK=tK;var vK=cK;var dK=sK;var mK=Object.freeze({__proto__:null,mouse:lK,touch:vK,mouseOrTouch:dK});var gK=function(){var e=P.none();var t=P.none();var n=function(){e=P.none();t=P.none()};var r=function(t,n){var r=e.map((function(e){return t.getDelta(e,n)}));e=P.some(n);return r};var o=function(e,t){return e.getData(t).bind((function(t){return r(e,t)}))};var a=function(e){t=P.some(e)};var i=function(){return t};var u=w({});return kc({readState:u,reset:n,update:o,getStartData:i,setStartData:a})};var hK=Object.freeze({__proto__:null,init:gK});var pK=pl({branchKey:"mode",branches:mK,name:"dragging",active:{events:function(e,t){var n=e.dragger;return n.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:P.from(e.extra)}}},state:hK,apis:R$});var bK=40;var yK=bK/2;var wK=function(e,t,n,r,o,a){return e.fold((function(){return pK.snap({sensor:y$(n-yK,r-yK),range:fr(o,a),output:y$(P.some(n),P.some(r)),extra:{td:t}})}),(function(e){var o=n-yK;var a=r-yK;var i=bK;var u=bK;var c=e.element.dom.getBoundingClientRect();return pK.snap({sensor:y$(o,a),range:fr(i,u),output:y$(P.some(n-c.width/2),P.some(r-c.height/2)),extra:{td:t}})}))};var xK=function(e,t,n){var r=function(e,t){return e.exists((function(e){return cn(e,t)}))};return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,o){var a=o.td;if(!r(t.get(),a)){t.set(a);n(a)}},mustSnap:true}};var CK=function(e){return kC(SC.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:dl([pK.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),FA.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))};var SK=function(e,t){var n=oi([]);var r=oi([]);var o=oi(false);var a=rv();var i=rv();var u=function(e){var n=Jr(e);return wK(d.getOpt(t),e,n.x,n.y,n.width,n.height)};var c=function(){return G(n.get(),(function(e){return u(e)}))};var f=function(e){var n=Jr(e);return wK(m.getOpt(t),e,n.right,n.bottom,n.width,n.height)};var s=function(){return G(r.get(),(function(e){return f(e)}))};var l=xK(c,a,(function(t){i.get().each((function(n){e.fire("TableSelectorChange",{start:t,finish:n})}))}));var v=xK(s,i,(function(t){a.get().each((function(n){e.fire("TableSelectorChange",{start:n,finish:t})}))}));var d=CK(l);var m=CK(v);var g=Ef(d.asSpec());var h=Ef(m.asSpec());var p=function(t,n,r,o){var a=n.dom.getBoundingClientRect();tr(t.element,"display");var i=gn(tt.fromDom(e.getBody())).dom.innerHeight;var u=r(a);var c=o(a,i);if(u||c){$n(t.element,"display","none")}};var b=function(e,t,n,r){var o=n(t);pK.snapTo(e,o);var a=function(e){return e[r]<0};var i=function(e,t){return e[r]>t};p(e,t,a,i)};var y=function(e){return b(g,e,u,"top")};var w=function(){return a.get().each(y)};var x=function(e){return b(h,e,f,"bottom")};var C=function(){return i.get().each(x)};if(en().deviceType.isTouch()){e.on("TableSelectionChange",(function(e){if(!o.get()){jm(t,g);jm(t,h);o.set(true)}a.set(e.start);i.set(e.finish);e.otherCells.each((function(t){n.set(t.upOrLeftCells);r.set(t.downOrRightCells);y(e.start);x(e.finish)}))}));e.on("ResizeEditor ResizeWindow ScrollContent",(function(){w();C()}));e.on("TableSelectionClear",(function(){if(o.get()){Gm(g);Gm(h);o.set(false)}a.clear();i.clear()}))}};var kK=function(e){if(e.nodeType===1){if(e.nodeName==="BR"||!!e.getAttribute("data-mce-bogus")){return true}if(e.getAttribute("data-mce-type")==="bookmark"){return true}}return false};var TK=function(e,t,n){if(!t.delimiter){t.delimiter=""}var r=function(r){var o=r||[];var a=G(o,(function(t,r){return SC.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:t.name},action:function(n){e.focus();e.selection.select(t.element);e.nodeChanged()},buttonBehaviours:dl([vO.button(n.isDisabled),uO()])})}));var i={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":true},innerHtml:" "+t.delimiter+" "}};return Q(a.slice(1),(function(e,t){var n=e;n.push(i);n.push(t);return n}),[a[0]])};var o=function(t){var n=[];var r=t.length;while(r-- >0){var o=t[r];if(o.nodeType===1&&!kK(o)){var a=e.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(!a.isDefaultPrevented()){n.push({name:a.name,element:o})}if(a.isPropagationStopped()){break}}}return n};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:dl([Dw.config({mode:"flow",selector:"div[role=button]"}),Pp.config({disabled:n.isDisabled}),uO(),yD.config({}),Iw.config({}),Vw("elementPathEvents",[Vu((function(t,n){e.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return Dw.focusIn(t)}));e.on("NodeChange",(function(e){var n=o(e.parents);if(n.length>0){Iw.set(t,r(n))}else{Iw.set(t,[])}}))}))])]),components:[]}};var OK;(function(e){e[e["None"]=0]="None";e[e["Both"]=1]="Both";e[e["Vertical"]=2]="Vertical"})(OK||(OK={}));var _K=function(e,t,n,r,o){var a={};a.height=QW(r+t.top,yT(e),xT(e));if(n===OK.Both){a.width=QW(o+t.left,bT(e),wT(e))}return a};var EK=function(e,t,n){var r=tt.fromDom(e.getContainer());var o=_K(e,t,n,ar(r),hr(r));pe(o,(function(e,t){return $n(r,t,JW(e))}));p_(e)};var DK=function(e){var t=!e.hasPlugin("autoresize");var n=e.getParam("resize",t);if(n===false){return OK.None}else if(n==="both"){return OK.Both}else{return OK.Vertical}};var AK=function(e,t,n,r){var o=20;var a=fr(n*o,r*o);EK(e,a,t);return P.some(true)};var NK=function(e,t){var n=DK(e);if(n===OK.None){return P.none()}return P.some(PC("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},behaviours:[pK.config({mode:"mouse",repositionTarget:false,onDrag:function(t,r,o){return EK(e,o,n)},blockerClass:"tox-blocker"}),Dw.config({mode:"special",onLeft:function(){return AK(e,n,-1,0)},onRight:function(){return AK(e,n,1,0)},onUp:function(){return AK(e,n,0,-1)},onDown:function(){return AK(e,n,0,1)}}),yD.config({}),Yw.config({})]},t.icons))};var MK=function(e,t){var n;var r=function(e,n,r){return Iw.set(e,[kf(t.translate(["{0} "+r,n[r]]))])};return SC.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:dl([vO.button(t.isDisabled),uO(),yD.config({}),Iw.config({}),Zg.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Vw("wordcount-events",[Wu((function(e){var t=Zg.getValue(e);var n=t.mode==="words"?"characters":"words";Zg.setValue(e,{mode:n,count:t.count});r(e,t.count,n)})),Vu((function(t){e.on("wordCountUpdate",(function(e){var n=Zg.getValue(t).mode;Zg.setValue(t,{mode:n,count:e.wordCount});r(t,e.wordCount,n)}))}))])]),eventOrder:(n={},n[eu()]=["disabling","alloy.base.behaviour","wordcount-events"],n)})};var RK=function(e,t){var n=function(){var e=TC.translate(["Powered by {0}","Tiny"]);var t='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+e+'">'+e+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:t}}};var r=function(){var r=[];if(e.getParam("elementpath",true,"boolean")){r.push(TK(e,{},t))}if(e.hasPlugin("wordcount")){r.push(MK(e,t))}if(e.getParam("branding",true,"boolean")){r.push(n())}if(r.length>0){return[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]}return[]};var o=function(){var n=r();var o=NK(e,t);return n.concat(o.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:o()}};var zK=function(e){var t;var n=e.inline;var r=n?uq:XW;var o=WT(e)?LF:UI;var a=P.none();var i=en();var u=i.browser.isIE();var c=u?["tox-platform-ie"]:[];var f=i.deviceType.isTouch();var s="tox-platform-touch";var l=f?[s]:[];var v=PT(e);var d=UT(e);var m=TC.isRtl()?{attributes:{dir:"rtl"}}:{};var g={attributes:(t={},t[Lv]=v?Pv.BottomToTop:Pv.TopToBottom,t)};var p=function(){return a.bind(ij.getHeader)};var b=function(){return o.isDocked(p)};var y=function(){$n(Q.element,"width",document.body.clientWidth+"px")};var w=function(){var e=cn(Pn(),d)&&Yn(d,"display")==="grid";var t={dom:D({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c).concat(l)},m),behaviours:dl([Lm.config({useFixed:function(){return b()}})])};var n={dom:{styles:{width:document.body.clientWidth+"px"}},events:_u([Nu(su(),y)])};return Co(t,e?n:{})};var x=Ef(w());var C=function(){return no.value(x)};var S=kC({dom:{tag:"div",classes:["tox-anchorbar"]}});var k=function(){return a.bind((function(e){return S.getOpt(e)})).getOrDie("Could not find a anchor bar element")};var T=function(){return a.bind((function(e){return ij.getToolbar(e)})).getOrDie("Could not find more toolbar element")};var O=function(){return a.bind((function(e){return ij.getThrobber(e)})).getOrDie("Could not find throbber element")};var _=SI(x,e,k);var E=ij.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:_,onEscape:function(){e.focus()}});var A=MT(e);var N=ij.parts.toolbar(D({dom:{tag:"div",classes:["tox-toolbar"]},getSink:C,providers:_.shared.providers,onEscape:function(){e.focus()},type:A,lazyToolbar:T,lazyHeader:function(){return p().getOrDie("Could not find header element")}},g));var M=ij.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:_.shared.providers,onEscape:function(){e.focus()},type:A});var R=ij.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}});var z=ij.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});var B=ij.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:_});var L=e.getParam("statusbar",true,"boolean");var H=L&&!n?P.some(RK(e,_.shared.providers)):P.none();var I={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[R,z]};var F=AT(e);var V=ET(e);var U=_T(e);var j=function(){if(F){return[M]}else if(V){return[N]}else{return[]}};var W=ij.parts.header({dom:D({tag:"div",classes:["tox-editor-header"]},g),components:ne([U?[E]:[],j(),VT(e)?[]:[S.asSpec()]]),sticky:WT(e),editor:e,sharedBackstage:_.shared});var q=ne([v?[]:[W],n?[]:[I],v?[W]:[]]);var G={dom:{tag:"div",classes:["tox-editor-container"]},components:q};var $=ne([[G],n?[]:H.toArray(),[B]]);var K=jT(e);var X=D(D({role:"application"},TC.isRtl()?{dir:"rtl"}:{}),K?{"aria-hidden":"true"}:{});var Y=Ef(ij.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(v?["tox-tinymce--toolbar-bottom"]:[]).concat(l).concat(c),styles:D({visibility:"hidden"},K?{opacity:"0",border:"0"}:{}),attributes:X},components:$,behaviours:dl([uO(),Pp.config({disableClass:"tox-tinymce--disabled"}),Dw.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));a=P.some(Y);e.shortcuts.add("alt+F9","focus menubar",(function(){ij.focusMenubar(Y)}));e.shortcuts.add("alt+F10","focus toolbar",(function(){ij.focusToolbar(Y)}));e.addCommand("ToggleToolbarDrawer",(function(){ij.toggleToolbarDrawer(Y)}));e.addQueryStateHandler("ToggleToolbarDrawer",(function(){return ij.isToolbarDrawerToggled(Y)}));var J=sD(Y);var Q=sD(x);kI(e,J,Q);var Z=function(){var e={broadcastAll:Q.broadcast,broadcastOn:Q.broadcastOn,register:h};return{channels:e}};var ee=function(){var t=JW(eq(e));var n=JW(nq(e));if(!e.inline){if(er("div","width",n)){$n(Y.element,"width",n)}if(er("div","height",t)){$n(Y.element,"height",t)}else{$n(Y.element,"height","200px")}}return t};var te=function(){o.setup(e,_.shared,p);kG(e,_);a$(e,C,_);NV(e);oU(e,O,_.shared);be(zT(e),(function(t,n){e.ui.registry.addGroupToolbarButton(n,t)}));var t=e.ui.registry.getAll(),n=t.buttons,a=t.menuItems,i=t.contextToolbars,u=t.sidebars;var c=DT(e);var f={menuItems:a,menus:$T(e),menubar:KT(e),toolbar:c.getOrThunk((function(){return XT(e)})),allowToolbarGroups:A===NT.floating,buttons:n,sidebar:u};Kq(e,i,x,{backstage:_});SK(e,x);var s=e.getElement();var l=ee();var v={mothership:J,uiMothership:Q,outerContainer:Y};var d={targetNode:s,height:l};return r.render(e,v,f,_,d)};return{mothership:J,uiMothership:Q,backstage:_,renderUI:te,getUi:Z}};var BK=function(e,t){var n=P.from(Vn(e,"id")).fold((function(){var e=rc("dialog-describe");In(t,"id",e);return e}),x);In(e,"aria-describedby",n)};var PK=function(e,t){var n=Un(e,"id").fold((function(){var e=rc("dialog-label");In(t,"id",e);return e}),x);In(e,"aria-labelledby",n)};var LK=w([Da("lazySink"),Fa("dragBlockClass"),ei("getBounds",Qr),Ka("useTabstopAt",_),Ka("eventOrder",{}),eh("modalBehaviours",[Dw]),fs("onExecute"),ls("onEscape")]);var HK={sketch:x};var IK=w([zh({name:"draghandle",overrides:function(e,t){return{behaviours:dl([pK.config({mode:"mouse",getTarget:function(e){return Pf(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),Mh({schema:[Da("dom")],name:"title"}),Mh({factory:HK,schema:[Da("dom")],name:"close"}),Mh({factory:HK,schema:[Da("dom")],name:"body"}),zh({factory:HK,schema:[Da("dom")],name:"footer"}),Rh({factory:{sketch:function(e,t){return D(D({},e),{dom:t.dom,components:t.components})}},schema:[Ka("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ka("components",[])],name:"blocker"})]);var FK=function(e,t,n,r){var o;var a=rv();var i=function(t){a.set(t);var n=e.lazySink(t).getOrDie();var o=r.blocker();var i=n.getSystem().build(D(D({},o),{components:o.components.concat([Df(t)]),behaviours:dl([Yw.config({}),Vw("dialog-blocker-events",[Fu(Li(),(function(){Dw.focusIn(t)}))])])}));jm(n,i);Dw.focusIn(t)};var u=function(e){a.clear();hn(e.element).each((function(t){e.getSystem().getByDom(t).each((function(e){Gm(e)}))}))};var c=function(t){return Kh(t,e,"body")};var f=function(t){return Kh(t,e,"footer")};var s=function(e,t){$V.block(e,t)};var l=function(e){$V.unblock(e)};var v=rc("modal-events");var d=D(D({},e.eventOrder),(o={},o[lu()]=[v].concat(e.eventOrder["alloy.system.attached"]||[]),o));return{uid:e.uid,dom:e.dom,components:t,apis:{show:i,hide:u,getBody:c,getFooter:f,setIdle:l,setBusy:s},eventOrder:d,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:nh(e.modalBehaviours,[Iw.config({}),Dw.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),$V.config({getRoot:a.get}),Vw(v,[Vu((function(t){PK(t.element,Kh(t,e,"title").element);BK(t.element,Kh(t,e,"body").element)}))])])}};var VK=vp({name:"ModalDialog",configFields:LK(),partFields:IK(),factory:FK,apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}});var UK=ea([Ma("type"),Ma("name")].concat(Mk));var jK=sa;var WK=[Oa("name","name",To((function(){return rc("button-name")})),fa),ja("icon"),Qa("align","end",["start","end"]),Za("primary",false),Za("disabled",false)];var qK=N(N([],WK,true),[Ma("text")],false);var GK=N([Ra("type",["submit","cancel","custom"])],qK,true);var $K=N([Ra("type",["menu"]),ja("text"),ja("tooltip"),ja("icon"),Ia("items",UK)],WK,true);var KK=ka("type",{submit:GK,cancel:GK,custom:GK,menu:$K});var XK=[Ma("type"),Ma("text"),Ra("level",["info","warn","error","success"]),Ma("icon"),Ka("url","")];var YK=ea(XK);var JK=function(e){return[Ma("type"),e]};var QK=[Ma("type"),Ma("text"),Za("disabled",false),Za("primary",false),Oa("name","name",To((function(){return rc("button-name")})),fa),ja("icon"),Za("borderless",false)];var ZK=ea(QK);var eX=[Ma("type"),Ma("name"),Ma("label"),Za("disabled",false)];var tX=ea(eX);var nX=sa;var rX=[Ma("type"),Ma("name")];var oX=rX.concat([ja("label")]);var aX=oX.concat([Ka("columns","auto")]);var iX=ea(aX);var uX=aa([Ma("value"),Ma("text"),Ma("icon")]);var cX=oX;var fX=ea(cX);var sX=fa;var lX=oX;var vX=ea(lX);var dX=fa;var mX=rX.concat([Ja("tag","textarea"),Ma("scriptId"),Ma("scriptUrl"),ti("settings",undefined)]);var gX=rX.concat([Ja("tag","textarea"),Ba("init")]);var hX=pa((function(e){return wa("customeditor.old",Zo(gX),e).orThunk((function(){return wa("customeditor.new",Zo(mX),e)}))}));var pX=fa;var bX=oX;var yX=ea(bX);var wX=ha();var xX=function(e){return[Ma("type"),Na("columns"),e]};var CX=[Ma("type"),Ma("html"),Qa("presets","presentation",["presentation","document"])];var SX=ea(CX);var kX=oX.concat([Za("sandboxed",true)]);var TX=ea(kX);var OX=fa;var _X=oX.concat([Aa("currentState",ea([Da("blob"),Ma("url")]))]);var EX=ea(_X);var DX=oX.concat([ja("inputMode"),ja("placeholder"),Za("maximized",false),Za("disabled",false)]);var AX=ea(DX);var NX=fa;var MX=function(e){return[Ma("type"),Ma("label"),e]};var RX=[Ma("text"),Ma("value")];var zX=[Ma("text"),Ia("items",Ta("items",(function(){return BX})))];var BX=na([ea(RX),ea(zX)]);var PX=oX.concat([Ia("items",BX),Za("disabled",false)]);var LX=ea(PX);var HX=fa;var IX=oX.concat([Ha("items",[Ma("text"),Ma("value")]),Ya("size",1),Za("disabled",false)]);var FX=ea(IX);var VX=fa;var UX=oX.concat([Za("constrain",true),Za("disabled",false)]);var jX=ea(UX);var WX=ea([Ma("width"),Ma("height")]);var qX=[Ma("type"),Ia("header",fa),Ia("cells",ta(fa))];var GX=ea(qX);var $X=oX.concat([ja("placeholder"),Za("maximized",false),Za("disabled",false)]);var KX=ea($X);var XX=fa;var YX=oX.concat([Qa("filetype","file",["image","media","file"]),Ka("disabled",false)]);var JX=ea(YX);var QX=ea([Ma("value"),Ka("meta",{})]);var ZX=function(e){return Oa("items","items",ko(),ta(pa((function(t){return wa("Checking item of "+e,eY,t).fold((function(e){return no.error(Sa(e))}),(function(e){return no.value(e)}))}))))};var eY=Jo((function(){return ga("type",{alertbanner:YK,bar:ea(JK(ZX("bar"))),button:ZK,checkbox:tX,colorinput:fX,colorpicker:vX,dropzone:yX,grid:ea(xX(ZX("grid"))),iframe:TX,input:AX,listbox:LX,selectbox:FX,sizeinput:jX,textarea:KX,urlinput:JX,customeditor:hX,htmlpanel:SX,imagetools:EX,collection:iX,label:ea(MX(ZX("label"))),table:GX,panel:nY})}));var tY=[Ma("type"),Ka("classes",[]),Ia("items",eY)];var nY=ea(tY);var rY=[Oa("name","name",To((function(){return rc("tab-name")})),fa),Ma("title"),Ia("items",eY)];var oY=[Ma("type"),Ha("tabs",rY)];var aY=ea(oY);var iY=qK;var uY=KK;var cY=ea([Ma("title"),Aa("body",ga("type",{panel:nY,tabpanel:aY})),Ja("size","normal"),Ia("buttons",uY),Ka("initialData",{}),ei("onAction",h),ei("onChange",h),ei("onSubmit",h),ei("onClose",h),ei("onCancel",h),Ka("onTabChange",h)]);var fY=function(e){return wa("dialog",cY,e)};var sY=ea(N([Ra("type",["cancel","custom"])],iY,true));var lY=ea([Ma("title"),Ma("url"),Ua("height"),Ua("width"),qa("buttons",sY),ei("onAction",h),ei("onCancel",h),ei("onClose",h),ei("onMessage",h)]);var vY=function(e){return wa("dialog",lY,e)};var dY=function(e){if(i(e)){return[e].concat(re(Te(e),dY))}else if(u(e)){return re(e,dY)}else{return[]}};var mY=function(e){return a(e.type)&&a(e.name)};var gY={checkbox:nX,colorinput:sX,colorpicker:dX,dropzone:wX,input:NX,iframe:OX,sizeinput:WX,selectbox:VX,listbox:HX,size:WX,textarea:XX,urlinput:QX,customeditor:pX,collection:uX,togglemenuitem:jK};var hY=function(e){return P.from(gY[e.type])};var pY=function(e){return Y(dY(e),mY)};var bY=function(e){var t=pY(e);var n=re(t,(function(e){return hY(e).fold((function(){return[]}),(function(t){return[Aa(e.name,t)]}))}));return ea(n)};var yY=function(e){var t=xa(fY(e));var n=bY(e);var r=e.initialData;return{internalDialog:t,dataValidator:n,initialData:r}};var wY={open:function(e,t){var n=yY(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){var n=xa(vY(t));return e(n)},redial:function(e){return yY(e)}};var xY=function(e){var t=[];var n={};pe(e,(function(e,r){e.fold((function(){t.push(r)}),(function(e){n[r]=e}))}));return t.length>0?no.error(t):no.value(n)};var CY=function(e,t){var n=kC(MR.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:G(e.items,(function(e){return iH(n,e,t)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:dl([Dw.config({mode:"acyclic",useTabstopAt:k(hz)}),jR.memento(n),az.memento(n,{postprocess:function(e){return xY(e).fold((function(e){console.error(e);return{}}),x)}})])}};var SY=function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:px(e.action),behaviours:nh(e.tabButtonBehaviours,[Yw.config({}),Dw.config({mode:"execution",useSpace:true,useEnter:true}),Zg.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}};var kY=lp({name:"TabButton",configFields:[Ka("uid",undefined),Da("value"),Oa("dom","dom",Eo((function(){return{attributes:{role:"tab",id:rc("aria"),"aria-selected":"false"}}})),ia()),Fa("action"),Ka("domModification",{}),eh("tabButtonBehaviours",[Yw,Dw,Zg]),Da("view")],factory:SY});var TY=w([Da("tabs"),Da("dom"),Ka("clickToDismiss",false),eh("tabbarBehaviours",[nb,Dw]),is(["tabClass","selectedClass"])]);var OY=Bh({factory:kY,name:"tabs",unit:"tab",overrides:function(e){var t=function(e,t){nb.dehighlight(e,t);Cu(e,bu(),{tabbar:e,button:t})};var n=function(e,t){nb.highlight(e,t);Cu(e,pu(),{tabbar:e,button:t})};return{action:function(r){var o=r.getSystem().getByUid(e.uid).getOrDie();var a=nb.isHighlighted(o,r);var i=function(){if(a&&e.clickToDismiss){return t}else if(!a){return n}else{return h}}();i(o,r)},domModification:{classes:[e.markers.tabClass]}}}});var _Y=w([OY]);var EY=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:nh(e.tabbarBehaviours,[nb.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){In(t.element,"aria-selected","true")},onDehighlight:function(e,t){In(t.element,"aria-selected","false")}}),Dw.config({mode:"flow",getInitial:function(e){return nb.getHighlighted(e).map((function(e){return e.element}))},selector:"."+e.markers.tabClass,executeOnMove:true})])}};var DY=vp({name:"Tabbar",configFields:TY(),partFields:_Y(),factory:EY});var AY=function(e,t){return{uid:e.uid,dom:e.dom,behaviours:nh(e.tabviewBehaviours,[Iw.config({})]),domModification:{attributes:{role:"tabpanel"}}}};var NY=lp({name:"Tabview",configFields:[eh("tabviewBehaviours",[Iw])],factory:AY});var MY=w([Ka("selectFirst",true),cs("onChangeTab"),cs("onDismissTab"),Ka("tabs",[]),eh("tabSectionBehaviours",[])]);var RY=Mh({factory:DY,schema:[Da("dom"),La("markers",[Da("tabClass"),Da("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}});var zY=Mh({factory:NY,name:"tabview"});var BY=w([RY,zY]);var PY=function(e,t,n,r){var o=function(t){var n=Zg.getValue(t);$h(t,e,"tabview").each((function(r){var o=ee(e.tabs,(function(e){return e.value===n}));o.each((function(n){var o=n.view();Un(t.element,"id").each((function(e){In(r.element,"aria-labelledby",e)}));Iw.set(r,o);e.onChangeTab(r,t,o)}))}))};var a=function(t,n){$h(t,e,"tabbar").each((function(e){n(e).each(Su)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:th(e.tabSectionBehaviours),events:_u(ne([e.selectFirst?[Vu((function(e,t){a(e,nb.getFirst)}))]:[],[Nu(pu(),(function(e,t){var n=t.event.button;o(n)})),Nu(bu(),(function(t,n){var r=n.event.button;e.onDismissTab(t,r)}))]])),apis:{getViewItems:function(t){return $h(t,e,"tabview").map((function(e){return Iw.contents(e)})).getOr([])},showTab:function(e,t){var n=function(e){var n=nb.getCandidates(e);var r=ee(n,(function(e){return Zg.getValue(e)===t}));return r.filter((function(t){return!nb.isHighlighted(e,t)}))};a(e,n)}}}};var LY=vp({name:"TabSection",configFields:MY(),partFields:BY(),factory:PY,apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}});var HY=function(e,t,n){return G(e,(function(r,o){Iw.set(n,e[o].view());var a=t.dom.getBoundingClientRect();Iw.set(n,[]);return a.height}))};var IY=function(e){return le(fe(e,(function(e,t){if(e>t){return-1}else if(e<t){return+1}else{return 0}})))};var FY=function(e,t,n){var r=mn(e).dom;var o=Pf(e,".tox-dialog-wrap").getOr(e);var a=Yn(o,"position")==="fixed";var i;if(a){i=Math.max(r.clientHeight,window.innerHeight)}else{i=Math.max(r.offsetHeight,r.scrollHeight)}var u=ar(t);var c=t.dom.offsetLeft>=n.dom.offsetLeft+hr(n);var f=c?Math.max(ar(n),u):u;var s=parseInt(Yn(e,"margin-top"),10)||0;var l=parseInt(Yn(e,"margin-bottom"),10)||0;var v=ar(e)+s+l;var d=v-f;return i-d};var VY=function(e,t){le(e).each((function(e){return LY.showTab(t,e.value)}))};var UY=function(e,t){$n(e,"height",t+"px");if(!en().browser.isIE()){$n(e,"flex-basis",t+"px")}else{tr(e,"flex-basis")}};var jY=function(e,t,n){Pf(e,'[role="dialog"]').each((function(e){Hf(e,'[role="tablist"]').each((function(r){n.get().map((function(n){$n(t,"height","0");$n(t,"flex-basis","0");return Math.min(n,FY(e,t,r))})).each((function(e){UY(t,e)}))}))}))};var WY=function(e){return Hf(e,'[role="tabpanel"]')};var qY=function(e){var t=function(){var t=rv();var n=[Vu((function(n){var r=n.element;WY(r).each((function(o){$n(o,"visibility","hidden");n.getSystem().getByDom(o).toOptional().each((function(n){var r=HY(e,o,n);var a=IY(r);a.fold(t.clear,t.set)}));jY(r,o,t);tr(o,"visibility");VY(e,n);xC.requestAnimationFrame((function(){jY(r,o,t)}))}))})),Nu(su(),(function(e){var n=e.element;WY(n).each((function(e){jY(n,e,t)}))})),Nu(BD,(function(e,n){var r=e.element;WY(r).each((function(e){var n=Ol(En(e));$n(e,"visibility","hidden");var o=Qn(e,"height").map((function(e){return parseInt(e,10)}));tr(e,"height");tr(e,"flex-basis");var a=e.dom.getBoundingClientRect().height;var i=o.forall((function(e){return a>e}));if(i){t.set(a);jY(r,e,t)}else{o.each((function(t){UY(e,t)}))}tr(e,"visibility");n.each(Sl)}))}))];var r=false;return{extraEvents:n,selectFirst:r}}();var n=function(){var e=[];var t=true;return{extraEvents:e,selectFirst:t}}();return{smartTabHeight:t,naiveTabHeight:n}};var GY="send-data-to-section";var $Y="send-data-to-view";var KY=function(e,t){var n=oi({});var r=function(e){var t=Zg.getValue(e);var r=xY(t).getOr({});var o=n.get();var a=Co(o,r);n.set(a)};var o=function(e){var t=n.get();Zg.setValue(e,t)};var a=oi(null);var i=G(e.tabs,(function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[MR.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:G(e.items,(function(e){return iH(n,e,t)})),formBehaviours:dl([Dw.config({mode:"acyclic",useTabstopAt:k(hz)}),Vw("TabView.form.events",[Vu(o),Uu(r)]),yl.config({channels:di([{key:GY,value:{onReceive:r}},{key:$Y,value:{onReceive:o}}])})])}}))]}}}));var u=qY(i).smartTabHeight;return LY.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var r=Zg.getValue(t);Cu(e,zD,{name:r,oldName:a.get()});a.set(r)},tabs:i,components:[LY.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[DY.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:dl([yD.config({})])}),LY.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:dl([Vw("tabpanel",u.extraEvents),Dw.config({mode:"acyclic"}),pp.config({find:function(e){return le(LY.getViewItems(e))}}),Zg.config({store:{mode:"manual",getValue:function(e){e.getSystem().broadcastOn([GY],{});return n.get()},setValue:function(e,t){n.set(t);e.getSystem().broadcastOn([$Y],{})}}})])})};var XY=rc("update-dialog");var YY=rc("update-title");var JY=rc("update-body");var QY=rc("update-footer");var ZY=rc("body-send-message");var eJ=function(e,t,n,r){var o=function(e){switch(e.body.type){case"tabpanel":{return[KY(e.body,n)]}default:{return[CY(e.body,n)]}}};var a=function(e,t){return P.some({isTabPanel:function(){return t.body.type==="tabpanel"}})};var i={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:D(D({},t.map((function(e){return{id:e}})).getOr({})),r?i:{})},components:[],behaviours:dl([jR.childAt(0),dW.config({channel:JY,updateState:a,renderComponents:o,initialData:e})])}};var tJ=function(e,t,n,r){return eJ(e,P.some(t),n,r)};var nJ=function(e,t){var n=eJ(e,P.none(),t,false);return VK.parts.body(n)};var rJ=function(e){var t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[dz({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:dl([yD.config({}),Yw.config({})])})]}],behaviours:dl([Dw.config({mode:"acyclic",useTabstopAt:k(hz)})])};return VK.parts.body(t)};function oJ(e){"@babel/helpers - typeof";return oJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oJ(e)}function aJ(e,t){aJ=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return aJ(e,t)}function iJ(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function uJ(e,t,n){if(iJ()){uJ=Reflect.construct}else{uJ=function e(t,n,r){var o=[null];o.push.apply(o,n);var a=Function.bind.apply(t,o);var i=new a;if(r)aJ(i,r.prototype);return i}}return uJ.apply(null,arguments)}function cJ(e){return fJ(e)||sJ(e)||lJ(e)||dJ()}function fJ(e){if(Array.isArray(e))return vJ(e)}function sJ(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lJ(e,t){if(!e)return;if(typeof e==="string")return vJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vJ(e,t)}function vJ(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dJ(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var mJ=Object.hasOwnProperty,gJ=Object.setPrototypeOf,hJ=Object.isFrozen,pJ=Object.getPrototypeOf,bJ=Object.getOwnPropertyDescriptor;var yJ=Object.freeze,wJ=Object.seal,xJ=Object.create;var CJ=typeof Reflect!=="undefined"&&Reflect,SJ=CJ.apply,kJ=CJ.construct;if(!SJ){SJ=function e(t,n,r){return t.apply(n,r)}}if(!yJ){yJ=function e(t){return t}}if(!wJ){wJ=function e(t){return t}}if(!kJ){kJ=function e(t,n){return uJ(t,cJ(n))}}var TJ=BJ(Array.prototype.forEach);var OJ=BJ(Array.prototype.pop);var _J=BJ(Array.prototype.push);var EJ=BJ(String.prototype.toLowerCase);var DJ=BJ(String.prototype.match);var AJ=BJ(String.prototype.replace);var NJ=BJ(String.prototype.indexOf);var MJ=BJ(String.prototype.trim);var RJ=BJ(RegExp.prototype.test);var zJ=PJ(TypeError);function BJ(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++){r[o-1]=arguments[o]}return SJ(e,t,r)}}function PJ(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}return kJ(e,n)}}function LJ(e,t){if(gJ){gJ(e,null)}var n=t.length;while(n--){var r=t[n];if(typeof r==="string"){var o=EJ(r);if(o!==r){if(!hJ(t)){t[n]=o}r=o}}e[r]=true}return e}function HJ(e){var t=xJ(null);var n;for(n in e){if(SJ(mJ,e,[n])){t[n]=e[n]}}return t}function IJ(e,t){while(e!==null){var n=bJ(e,t);if(n){if(n.get){return BJ(n.get)}if(typeof n.value==="function"){return BJ(n.value)}}e=pJ(e)}function r(e){console.warn("fallback value for",e);return null}return r}var FJ=yJ(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]);var VJ=yJ(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]);var UJ=yJ(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]);var jJ=yJ(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]);var WJ=yJ(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]);var qJ=yJ(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]);var GJ=yJ(["#text"]);var $J=yJ(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]);var KJ=yJ(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]);var XJ=yJ(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]);var YJ=yJ(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]);var JJ=wJ(/\{\{[\w\W]*|[\w\W]*\}\}/gm);var QJ=wJ(/<%[\w\W]*|[\w\W]*%>/gm);var ZJ=wJ(/^data-[\-\w.\u00B7-\uFFFF]/);var eQ=wJ(/^aria-[\-\w]+$/);var tQ=wJ(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i);var nQ=wJ(/^(?:\w+script|data):/i);var rQ=wJ(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g);var oQ=wJ(/^html$/i);var aQ=function e(){return typeof window==="undefined"?null:window};var iQ=function e(t,n){if(oJ(t)!=="object"||typeof t.createPolicy!=="function"){return null}var r=null;var o="data-tt-policy-suffix";if(n.currentScript&&n.currentScript.hasAttribute(o)){r=n.currentScript.getAttribute(o)}var a="dompurify"+(r?"#"+r:"");try{return t.createPolicy(a,{createHTML:function e(t){return t}})}catch(e){console.warn("TrustedTypes policy "+a+" could not be created.");return null}};function uQ(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:aQ();var t=function e(t){return uQ(t)};t.version="2.3.8";t.removed=[];if(!e||!e.document||e.document.nodeType!==9){t.isSupported=false;return t}var n=e.document;var r=e.document;var o=e.DocumentFragment,a=e.HTMLTemplateElement,i=e.Node,u=e.Element,c=e.NodeFilter,f=e.NamedNodeMap,s=f===void 0?e.NamedNodeMap||e.MozNamedAttrMap:f,l=e.HTMLFormElement,v=e.DOMParser,d=e.trustedTypes;var m=u.prototype;var g=IJ(m,"cloneNode");var h=IJ(m,"nextSibling");var p=IJ(m,"childNodes");var b=IJ(m,"parentNode");if(typeof a==="function"){var y=r.createElement("template");if(y.content&&y.content.ownerDocument){r=y.content.ownerDocument}}var w=iQ(d,n);var x=w?w.createHTML(""):"";var C=r,S=C.implementation,k=C.createNodeIterator,T=C.createDocumentFragment,O=C.getElementsByTagName;var _=n.importNode;var E={};try{E=HJ(r).documentMode?r.documentMode:{}}catch(e){}var D={};t.isSupported=typeof b==="function"&&S&&typeof S.createHTMLDocument!=="undefined"&&E!==9;var A=JJ,N=QJ,M=ZJ,R=eQ,z=nQ,B=rQ;var P=tQ;var L=null;var H=LJ({},[].concat(cJ(FJ),cJ(VJ),cJ(UJ),cJ(WJ),cJ(GJ)));var I=null;var F=LJ({},[].concat(cJ($J),cJ(KJ),cJ(XJ),cJ(YJ)));var V=Object.seal(Object.create(null,{tagNameCheck:{writable:true,configurable:false,enumerable:true,value:null},attributeNameCheck:{writable:true,configurable:false,enumerable:true,value:null},allowCustomizedBuiltInElements:{writable:true,configurable:false,enumerable:true,value:false}}));var U=null;var j=null;var W=true;var q=true;var G=false;var $=false;var K=false;var X=false;var Y=false;var J=false;var Q=false;var Z=false;var ee=true;var te=true;var ne=false;var re={};var oe=null;var ae=LJ({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);var ie=null;var ue=LJ({},["audio","video","img","source","image","track"]);var ce=null;var fe=LJ({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]);var se="http://www.w3.org/1998/Math/MathML";var le="http://www.w3.org/2000/svg";var ve="http://www.w3.org/1999/xhtml";var de=ve;var me=false;var ge;var he=["application/xhtml+xml","text/html"];var pe="text/html";var be;var ye=null;var we=r.createElement("form");var xe=function e(t){return t instanceof RegExp||t instanceof Function};var Ce=function e(t){if(ye&&ye===t){return}if(!t||oJ(t)!=="object"){t={}}t=HJ(t);L="ALLOWED_TAGS"in t?LJ({},t.ALLOWED_TAGS):H;I="ALLOWED_ATTR"in t?LJ({},t.ALLOWED_ATTR):F;ce="ADD_URI_SAFE_ATTR"in t?LJ(HJ(fe),t.ADD_URI_SAFE_ATTR):fe;ie="ADD_DATA_URI_TAGS"in t?LJ(HJ(ue),t.ADD_DATA_URI_TAGS):ue;oe="FORBID_CONTENTS"in t?LJ({},t.FORBID_CONTENTS):ae;U="FORBID_TAGS"in t?LJ({},t.FORBID_TAGS):{};j="FORBID_ATTR"in t?LJ({},t.FORBID_ATTR):{};re="USE_PROFILES"in t?t.USE_PROFILES:false;W=t.ALLOW_ARIA_ATTR!==false;q=t.ALLOW_DATA_ATTR!==false;G=t.ALLOW_UNKNOWN_PROTOCOLS||false;$=t.SAFE_FOR_TEMPLATES||false;K=t.WHOLE_DOCUMENT||false;J=t.RETURN_DOM||false;Q=t.RETURN_DOM_FRAGMENT||false;Z=t.RETURN_TRUSTED_TYPE||false;Y=t.FORCE_BODY||false;ee=t.SANITIZE_DOM!==false;te=t.KEEP_CONTENT!==false;ne=t.IN_PLACE||false;P=t.ALLOWED_URI_REGEXP||P;de=t.NAMESPACE||ve;if(t.CUSTOM_ELEMENT_HANDLING&&xe(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)){V.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck}if(t.CUSTOM_ELEMENT_HANDLING&&xe(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)){V.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck}if(t.CUSTOM_ELEMENT_HANDLING&&typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean"){V.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements}ge=he.indexOf(t.PARSER_MEDIA_TYPE)===-1?ge=pe:ge=t.PARSER_MEDIA_TYPE;be=ge==="application/xhtml+xml"?function(e){return e}:EJ;if($){q=false}if(Q){J=true}if(re){L=LJ({},cJ(GJ));I=[];if(re.html===true){LJ(L,FJ);LJ(I,$J)}if(re.svg===true){LJ(L,VJ);LJ(I,KJ);LJ(I,YJ)}if(re.svgFilters===true){LJ(L,UJ);LJ(I,KJ);LJ(I,YJ)}if(re.mathMl===true){LJ(L,WJ);LJ(I,XJ);LJ(I,YJ)}}if(t.ADD_TAGS){if(L===H){L=HJ(L)}LJ(L,t.ADD_TAGS)}if(t.ADD_ATTR){if(I===F){I=HJ(I)}LJ(I,t.ADD_ATTR)}if(t.ADD_URI_SAFE_ATTR){LJ(ce,t.ADD_URI_SAFE_ATTR)}if(t.FORBID_CONTENTS){if(oe===ae){oe=HJ(oe)}LJ(oe,t.FORBID_CONTENTS)}if(te){L["#text"]=true}if(K){LJ(L,["html","head","body"])}if(L.table){LJ(L,["tbody"]);delete U.tbody}if(yJ){yJ(t)}ye=t};var Se=LJ({},["mi","mo","mn","ms","mtext"]);var ke=LJ({},["foreignobject","desc","title","annotation-xml"]);var Te=LJ({},["title","style","font","a","script"]);var Oe=LJ({},VJ);LJ(Oe,UJ);LJ(Oe,jJ);var _e=LJ({},WJ);LJ(_e,qJ);var Ee=function e(t){var n=b(t);if(!n||!n.tagName){n={namespaceURI:ve,tagName:"template"}}var r=EJ(t.tagName);var o=EJ(n.tagName);if(t.namespaceURI===le){if(n.namespaceURI===ve){return r==="svg"}if(n.namespaceURI===se){return r==="svg"&&(o==="annotation-xml"||Se[o])}return Boolean(Oe[r])}if(t.namespaceURI===se){if(n.namespaceURI===ve){return r==="math"}if(n.namespaceURI===le){return r==="math"&&ke[o]}return Boolean(_e[r])}if(t.namespaceURI===ve){if(n.namespaceURI===le&&!ke[o]){return false}if(n.namespaceURI===se&&!Se[o]){return false}return!_e[r]&&(Te[r]||!Oe[r])}return false};var De=function e(n){_J(t.removed,{element:n});try{n.parentNode.removeChild(n)}catch(e){try{n.outerHTML=x}catch(e){n.remove()}}};var Ae=function e(n,r){try{_J(t.removed,{attribute:r.getAttributeNode(n),from:r})}catch(e){_J(t.removed,{attribute:null,from:r})}r.removeAttribute(n);if(n==="is"&&!I[n]){if(J||Q){try{De(r)}catch(e){}}else{try{r.setAttribute(n,"")}catch(e){}}}};var Ne=function e(t){var n;var o;if(Y){t="<remove></remove>"+t}else{var a=DJ(t,/^[\r\n\t ]+/);o=a&&a[0]}if(ge==="application/xhtml+xml"){t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>"}var i=w?w.createHTML(t):t;if(de===ve){try{n=(new v).parseFromString(i,ge)}catch(e){}}if(!n||!n.documentElement){n=S.createDocument(de,"template",null);try{n.documentElement.innerHTML=me?"":i}catch(e){}}var u=n.body||n.documentElement;if(t&&o){u.insertBefore(r.createTextNode(o),u.childNodes[0]||null)}if(de===ve){return O.call(n,K?"html":"body")[0]}return K?n.documentElement:u};var Me=function e(t){return k.call(t.ownerDocument||t,t,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,false)};var Re=function e(t){return t instanceof l&&(typeof t.nodeName!=="string"||typeof t.textContent!=="string"||typeof t.removeChild!=="function"||!(t.attributes instanceof s)||typeof t.removeAttribute!=="function"||typeof t.setAttribute!=="function"||typeof t.namespaceURI!=="string"||typeof t.insertBefore!=="function")};var ze=function e(t){return oJ(i)==="object"?t instanceof i:t&&oJ(t)==="object"&&typeof t.nodeType==="number"&&typeof t.nodeName==="string"};var Be=function e(n,r,o){if(!D[n]){return}TJ(D[n],(function(e){e.call(t,r,o,ye)}))};var Pe=function e(n){var r;Be("beforeSanitizeElements",n,null);if(Re(n)){De(n);return true}if(RJ(/[\u0080-\uFFFF]/,n.nodeName)){De(n);return true}var o=be(n.nodeName);Be("uponSanitizeElement",n,{tagName:o,allowedTags:L});if(n.hasChildNodes()&&!ze(n.firstElementChild)&&(!ze(n.content)||!ze(n.content.firstElementChild))&&RJ(/<[/\w]/g,n.innerHTML)&&RJ(/<[/\w]/g,n.textContent)){De(n);return true}if(o==="select"&&RJ(/<template/i,n.innerHTML)){De(n);return true}if(!L[o]||U[o]){if(!U[o]&&He(o)){if(V.tagNameCheck instanceof RegExp&&RJ(V.tagNameCheck,o))return false;if(V.tagNameCheck instanceof Function&&V.tagNameCheck(o))return false}if(te&&!oe[o]){var a=b(n)||n.parentNode;var i=p(n)||n.childNodes;if(i&&a){var c=i.length;for(var f=c-1;f>=0;--f){a.insertBefore(g(i[f],true),h(n))}}}De(n);return true}if(n instanceof u&&!Ee(n)){De(n);return true}if((o==="noscript"||o==="noembed")&&RJ(/<\/no(script|embed)/i,n.innerHTML)){De(n);return true}if($&&n.nodeType===3){r=n.textContent;r=AJ(r,A," ");r=AJ(r,N," ");if(n.textContent!==r){_J(t.removed,{element:n.cloneNode()});n.textContent=r}}Be("afterSanitizeElements",n,null);return false};var Le=function e(t,n,o){if(ee&&(n==="id"||n==="name")&&(o in r||o in we)){return false}if(q&&!j[n]&&RJ(M,n));else if(W&&RJ(R,n));else if(!I[n]||j[n]){if(He(t)&&(V.tagNameCheck instanceof RegExp&&RJ(V.tagNameCheck,t)||V.tagNameCheck instanceof Function&&V.tagNameCheck(t))&&(V.attributeNameCheck instanceof RegExp&&RJ(V.attributeNameCheck,n)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(n))||n==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&RJ(V.tagNameCheck,o)||V.tagNameCheck instanceof Function&&V.tagNameCheck(o)));else{return false}}else if(ce[n]);else if(RJ(P,AJ(o,B,"")));else if((n==="src"||n==="xlink:href"||n==="href")&&t!=="script"&&NJ(o,"data:")===0&&ie[t]);else if(G&&!RJ(z,AJ(o,B,"")));else if(!o);else{return false}return true};var He=function e(t){return t.indexOf("-")>0};var Ie=function e(n){var r;var o;var a;var i;Be("beforeSanitizeAttributes",n,null);var u=n.attributes;if(!u){return}var c={attrName:"",attrValue:"",keepAttr:true,allowedAttributes:I};i=u.length;while(i--){r=u[i];var f=r,s=f.name,l=f.namespaceURI;o=s==="value"?r.value:MJ(r.value);a=be(s);c.attrName=a;c.attrValue=o;c.keepAttr=true;c.forceKeepAttr=undefined;Be("uponSanitizeAttribute",n,c);o=c.attrValue;if(c.forceKeepAttr){continue}Ae(s,n);if(!c.keepAttr){continue}if(RJ(/\/>/i,o)){Ae(s,n);continue}if($){o=AJ(o,A," ");o=AJ(o,N," ")}var v=be(n.nodeName);if(!Le(v,a,o)){continue}try{if(l){n.setAttributeNS(l,s,o)}else{n.setAttribute(s,o)}OJ(t.removed)}catch(e){}}Be("afterSanitizeAttributes",n,null)};var Fe=function e(t){var n;var r=Me(t);Be("beforeSanitizeShadowDOM",t,null);while(n=r.nextNode()){Be("uponSanitizeShadowNode",n,null);if(Pe(n)){continue}if(n.content instanceof o){e(n.content)}Ie(n)}Be("afterSanitizeShadowDOM",t,null)};t.sanitize=function(r,a){var u;var c;var f;var s;var l;me=!r;if(me){r="\x3c!--\x3e"}if(typeof r!=="string"&&!ze(r)){if(typeof r.toString!=="function"){throw zJ("toString is not a function")}else{r=r.toString();if(typeof r!=="string"){throw zJ("dirty is not a string, aborting")}}}if(!t.isSupported){if(oJ(e.toStaticHTML)==="object"||typeof e.toStaticHTML==="function"){if(typeof r==="string"){return e.toStaticHTML(r)}if(ze(r)){return e.toStaticHTML(r.outerHTML)}}return r}if(!X){Ce(a)}t.removed=[];if(typeof r==="string"){ne=false}if(ne){if(r.nodeName){var v=be(r.nodeName);if(!L[v]||U[v]){throw zJ("root node is forbidden and cannot be sanitized in-place")}}}else if(r instanceof i){u=Ne("\x3c!----\x3e");c=u.ownerDocument.importNode(r,true);if(c.nodeType===1&&c.nodeName==="BODY"){u=c}else if(c.nodeName==="HTML"){u=c}else{u.appendChild(c)}}else{if(!J&&!$&&!K&&r.indexOf("<")===-1){return w&&Z?w.createHTML(r):r}u=Ne(r);if(!u){return J?null:Z?x:""}}if(u&&Y){De(u.firstChild)}var d=Me(ne?r:u);while(f=d.nextNode()){if(f.nodeType===3&&f===s){continue}if(Pe(f)){continue}if(f.content instanceof o){Fe(f.content)}Ie(f);s=f}s=null;if(ne){return r}if(J){if(Q){l=T.call(u.ownerDocument);while(u.firstChild){l.appendChild(u.firstChild)}}else{l=u}if(I.shadowroot){l=_.call(n,l,true)}return l}var m=K?u.outerHTML:u.innerHTML;if(K&&L["!doctype"]&&u.ownerDocument&&u.ownerDocument.doctype&&u.ownerDocument.doctype.name&&RJ(oQ,u.ownerDocument.doctype.name)){m="<!DOCTYPE "+u.ownerDocument.doctype.name+">\n"+m}if($){m=AJ(m,A," ");m=AJ(m,N," ")}return w&&Z?w.createHTML(m):m};t.setConfig=function(e){Ce(e);X=true};t.clearConfig=function(){ye=null;X=false};t.isValidAttribute=function(e,t,n){if(!ye){Ce({})}var r=be(e);var o=be(t);return Le(r,o,n)};t.addHook=function(e,t){if(typeof t!=="function"){return}D[e]=D[e]||[];_J(D[e],t)};t.removeHook=function(e){if(D[e]){return OJ(D[e])}};t.removeHooks=function(e){if(D[e]){D[e]=[]}};t.removeAllHooks=function(){D={}};return t}var cQ=uQ();var fQ=function(e){return cQ().sanitize(e)};var sQ=CO.deviceType.isTouch();var lQ=function(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}};var vQ=function(e,t){return VK.parts.close(SC.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:dl([yD.config({})])}))};var dQ=function(){return VK.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})};var mQ=function(e,t){return VK.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:YV("<p>"+fQ(t.translate(e))+"</p>")}]}]})};var gQ=function(e){return VK.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})};var hQ=function(e,t){return[fD.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),fD.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]};var pQ=function(e){var t;var n="tox-dialog";var r=n+"-wrap";var o=r+"__backdrop";var a=n+"__disable-scroll";return VK.sketch({lazySink:e.lazySink,onEscape:function(t){e.onEscape(t);return P.some(true)},useTabstopAt:function(e){return!hz(e)},dom:{tag:"div",classes:[n].concat(e.extraClasses),styles:D({position:"relative"},e.extraStyles)},components:N([e.header,e.body],e.footer.toArray(),true),parts:{blocker:{dom:YV('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:sQ?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:dl(N([Yw.config({}),Vw("dialog-events",e.dialogEvents.concat([Fu(Li(),(function(e,t){Dw.focusIn(e)}))])),Vw("scroll-lock",[Vu((function(){af(Pn(),a)})),Uu((function(){cf(Pn(),a)}))])],e.extraBehaviours,true)),eventOrder:D((t={},t[eu()]=["dialog-events"],t[lu()]=["scroll-lock","dialog-events","alloy.base.behaviour"],t[vu()]=["alloy.base.behaviour","dialog-events","scroll-lock"],t),e.eventOrder)})};var bQ=function(e){return SC.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[PC("close",{tag:"div",classes:["tox-icon"]},e.icons)],action:function(e){xu(e,DD)}})};var yQ=function(e,t,n){var r=function(e){return[kf(n.translate(e.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:D({},t.map((function(e){return{id:e}})).getOr({}))},components:r(e),behaviours:dl([dW.config({channel:YY,renderComponents:r})])}};var wQ=function(){return{dom:YV('<div class="tox-dialog__draghandle"></div>')}};var xQ=function(e,t,n){return fD.sketch({dom:YV('<div class="tox-dialog__header"></div>'),components:[yQ(e,P.some(t),n),wQ(),bQ(n)],containerBehaviours:dl([pK.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return If(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})};var CQ=function(e,t){var n=VK.parts.title(yQ(e,P.none(),t));var r=VK.parts.draghandle(wQ());var o=VK.parts.close(bQ(t));var a=[n].concat(e.draggable?[r]:[]).concat([o]);return fD.sketch({dom:YV('<div class="tox-dialog__header"></div>'),components:a})};var SQ=function(e,t){return CQ({title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},t.shared.providers)};var kQ=function(e,t,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:YV('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}};var TQ=function(e,t,n){return{onClose:function(){return n.closeWindow()},onBlock:function(n){VK.setBusy(e(),(function(e,r){return kQ(n.message,r,t)}))},onUnblock:function(){VK.setIdle(e())}}};var OQ=function(e,t,n,r){var o;var a=function(e,t){return P.some(t)};return Ef(pQ(D(D({},e),{lazySink:r.shared.getSink,extraBehaviours:N([dW.config({channel:XY,updateState:a,initialData:t}),az.memory({})],e.extraBehaviours,true),onEscape:function(e){xu(e,DD)},dialogEvents:n,eventOrder:(o={},o[Zi()]=[dW.name(),yl.name()],o[lu()]=["scroll-lock",dW.name(),"messages","dialog-events","alloy.base.behaviour"],o[vu()]=["alloy.base.behaviour","dialog-events","messages",dW.name(),"scroll-lock"],o)})))};var _Q=function(e){var t=function(e){var t=G(e.items,(function(e){var t=oi(false);return D(D({},e),{storage:t})}));return D(D({},e),{items:t})};return G(e,(function(e){if(e.type==="menu"){return t(e)}return e}))};var EQ=function(e){return Q(e,(function(e,t){if(t.type==="menu"){var n=t;return Q(n.items,(function(e,t){e[t.name]=t.storage;return e}),e)}return e}),{})};var DQ=function(e,t){return[Lu(Li(),gz),e(ED,(function(e,n){t.onClose();n.onClose()})),e(DD,(function(e,t,n,r){t.onCancel(e);xu(r,ED)})),Nu(RD,(function(e,n){return t.onUnblock()})),Nu(MD,(function(e,n){return t.onBlock(n.event)}))]};var AQ=function(e,t){var n=function(t,n){return Nu(t,(function(t,o){r(t,(function(r,a){n(e(),r,o.event,t)}))}))};var r=function(e,t){dW.getState(e).get().each((function(n){t(n,e)}))};return N(N([],DQ(n,t),true),[n(AD,(function(e,t,n){t.onAction(e,{name:n.name})}))],false)};var NQ=function(e,t,n){var r=function(t,n){return Nu(t,(function(t,r){o(t,(function(o,a){n(e(),o,r.event,t)}))}))};var o=function(e,t){dW.getState(e).get().each((function(n){t(n.internalDialog,e)}))};return N(N([],DQ(r,t),true),[r(ND,(function(e,t){return t.onSubmit(e)})),r(_D,(function(e,t,n){t.onChange(e,{name:n.name})})),r(AD,(function(e,t,r,o){var a=function(){return Dw.focusIn(o)};var i=function(e){return jn(e,"disabled")||Un(e,"aria-disabled").exists((function(e){return e==="true"}))};var u=En(o.element);var c=Ol(u);t.onAction(e,{name:r.name,value:r.value});Ol(u).fold(a,(function(e){if(i(e)){a()}else if(c.exists((function(t){return ln(e,t)&&i(t)}))){a()}else{n().toOptional().filter((function(t){return!ln(t.element,e)})).each(a)}}))})),r(zD,(function(e,t,n){t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),Uu((function(t){var n=e();Zg.setValue(t,n.getData())}))],false)};var MQ={initUrlDialog:AQ,initDialog:NQ};var RQ=function(e,t){return rP(e,e.type,t)};var zQ=function(e,t,n){return ee(t,(function(e){return e.name===n})).bind((function(t){return t.memento.getOpt(e)}))};var BQ=function(e,t){var n=t.map((function(e){return e.footerButtons})).getOr([]);var r=X(n,(function(e){return e.align==="start"}));var o=function(e,t){return fD.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:G(t,(function(e){return e.memento.asSpec()}))})};var a=o("start",r.pass);var i=o("end",r.fail);return[a,i]};var PQ=function(e,t){var n=function(e,n){var r=G(n.buttons,(function(e){var n=kC(RQ(e,t));return{name:e.name,align:e.align,memento:n}}));var o=function(e,t){return zQ(e,r,t)};return P.some({lookupByName:o,footerButtons:r})};return{dom:YV('<div class="tox-dialog__footer"></div>'),components:[],behaviours:dl([dW.config({channel:QY,initialData:e,updateState:n,renderComponents:BQ})])}};var LQ=function(e,t){return PQ(e,t)};var HQ=function(e,t){return VK.parts.footer(PQ(e,t))};var IQ=function(e,t){var n=e.getRoot();if(n.getSystem().isConnected()){var r=pp.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return MR.getField(r,t).fold((function(){var n=e.getFooter();var o=dW.getState(n);return o.get().bind((function(e){return e.lookupByName(r,t)}))}),(function(e){return P.some(e)}))}else{return P.none()}};var FQ=function(e,t){var n=e.getRoot();return dW.getState(n).get().map((function(e){return xa(wa("data",e.dataValidator,t))})).getOr(t)};var VQ=function(e,t,n){var r=function(t){var n=e.getRoot();if(n.getSystem().isConnected()){t(n)}};var o=function(){var t=e.getRoot();var r=t.getSystem().isConnected()?e.getFormWrapper():t;var o=Zg.getValue(r);var a=be(n,(function(e){return e.get()}));return D(D({},o),a)};var i=function(t){r((function(r){var o=g.getData();var a=D(D({},o),t);var i=FQ(e,a);var u=e.getFormWrapper();Zg.setValue(u,i);pe(n,(function(e,t){if(_e(a,t)){e.set(a[t])}}))}))};var u=function(t){IQ(e,t).each(Pp.disable)};var c=function(t){IQ(e,t).each(Pp.enable)};var f=function(t){IQ(e,t).each(Yw.focus)};var s=function(e){if(!a(e)){throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument")}r((function(t){Cu(t,MD,{message:e})}))};var l=function(){r((function(e){xu(e,RD)}))};var v=function(t){r((function(n){var r=e.getBody();var o=dW.getState(r);if(o.get().exists((function(e){return e.isTabPanel()}))){pp.getCurrent(r).each((function(e){LY.showTab(e,t)}))}}))};var d=function(e){r((function(n){var r=t(e);n.getSystem().broadcastOn([XY],r);n.getSystem().broadcastOn([YY],r.internalDialog);n.getSystem().broadcastOn([JY],r.internalDialog);n.getSystem().broadcastOn([QY],r.internalDialog);g.setData(r.initialData)}))};var m=function(){r((function(e){xu(e,ED)}))};var g={getData:o,setData:i,disable:u,enable:c,focus:f,block:s,unblock:l,showTab:v,redial:d,close:m};return g};var UQ=function(e){switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}};var jQ=function(e,t,n){var r=SQ(e.internalDialog.title,n);var o=nJ({body:e.internalDialog.body},n);var a=_Q(e.internalDialog.buttons);var i=EQ(a);var u=HQ({buttons:a},n);var c=MQ.initDialog((function(){return d}),TQ((function(){return l}),n.shared.providers,t),n.shared.getSink);var f=UQ(e.internalDialog.size);var s={header:r,body:o,footer:P.some(u),extraClasses:f,extraBehaviours:[],extraStyles:{}};var l=OQ(s,e,c,n);var v=function(){var e=function(){var e=VK.getBody(l);return pp.getCurrent(e).getOr(e)};return{getRoot:w(l),getBody:function(){return VK.getBody(l)},getFooter:function(){return VK.getFooter(l)},getFormWrapper:e}}();var d=VQ(v,t.redial,i);return{dialog:l,instanceApi:d}};var WQ=function(e,t,n,r){var o,a;var i=rc("dialog-label");var u=rc("dialog-content");var c=function(e,t){return P.some(t)};var f=kC(xQ({title:e.internalDialog.title,draggable:true},i,n.shared.providers));var s=kC(tJ({body:e.internalDialog.body},u,n,r));var l=_Q(e.internalDialog.buttons);var v=EQ(l);var d=kC(LQ({buttons:l},n));var m=MQ.initDialog((function(){return h}),{onBlock:function(e){$V.block(g,(function(t,r){return kQ(e.message,r,n.shared.providers)}))},onUnblock:function(){$V.unblock(g)},onClose:function(){return t.closeWindow()}},n.shared.getSink);var g=Ef({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=i,o["aria-describedby"]=u,o)},eventOrder:(a={},a[Zi()]=[dW.name(),yl.name()],a[eu()]=["execute-on-form"],a[lu()]=["reflecting","execute-on-form"],a),behaviours:dl([Dw.config({mode:"cyclic",onEscape:function(e){xu(e,ED);return P.some(true)},useTabstopAt:function(e){return!hz(e)&&(it(e)!=="button"||Vn(e,"disabled")!=="disabled")}}),dW.config({channel:XY,updateState:c,initialData:e}),Yw.config({}),Vw("execute-on-form",m.concat([Fu(Li(),(function(e,t){Dw.focusIn(e)}))])),$V.config({getRoot:function(){return P.some(g)}}),Iw.config({}),az.memory({})]),components:[f.asSpec(),s.asSpec(),d.asSpec()]});var h=VQ({getRoot:w(g),getFooter:function(){return d.get(g)},getBody:function(){return s.get(g)},getFormWrapper:function(){var e=s.get(g);return pp.getCurrent(e).getOr(e)}},t.redial,v);return{dialog:g,instanceApi:h}};var qQ=tinymce.util.Tools.resolve("tinymce.util.URI");var GQ=function(e){var t=function(t){if(e.getSystem().isConnected()){t(e)}};var n=function(e){if(!a(e)){throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument")}t((function(t){Cu(t,MD,{message:e})}))};var r=function(){t((function(e){xu(e,RD)}))};var o=function(){t((function(e){xu(e,ED)}))};var i=function(e){t((function(t){t.getSystem().broadcastOn([ZY],e)}))};return{block:n,unblock:r,close:o,sendMessage:i}};var $Q=["insertContent","setContent","execCommand","close","block","unblock"];var KQ=function(e){return i(e)&&$Q.indexOf(e.mceAction)!==-1};var XQ=function(e){return!KQ(e)&&i(e)&&_e(e,"mceAction")};var YQ=function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var r=f(n.ui)?n.ui:false;e.execCommand(n.cmd,r,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock();break}};var JQ=function(e,t,n,r){var o;var a=SQ(e.title,r);var i=rJ(e);var u=e.buttons.bind((function(e){if(e.length===0){return P.none()}else{return P.some(HQ({buttons:e},r))}}));var c=MQ.initUrlDialog((function(){return p}),TQ((function(){return h}),r.shared.providers,t));var f=D(D({},e.height.fold((function(){return{}}),(function(e){return{height:e+"px","max-height":e+"px"}}))),e.width.fold((function(){return{}}),(function(e){return{width:e+"px","max-width":e+"px"}})));var s=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[];var l=new qQ(e.url,{base_uri:new qQ(window.location.href)});var v=l.protocol+"://"+l.host+(l.port?":"+l.port:"");var d=tv();var m=[Vw("messages",[Vu((function(){var t=av(tt.fromDom(window),"message",(function(t){if(l.isSameOrigin(new qQ(t.raw.origin))){var r=t.raw.data;if(KQ(r)){YQ(n,p,r)}else if(XQ(r)){e.onMessage(p,r)}}}));d.set(t)})),Uu(d.clear)]),yl.config({channels:(o={},o[ZY]={onReceive:function(e,t){Hf(e.element,"iframe").each((function(e){var n=e.dom.contentWindow;n.postMessage(t,v)}))}},o)})];var g={header:a,body:i,footer:u,extraClasses:s,extraBehaviours:m,extraStyles:f};var h=OQ(g,e,c,r);var p=GQ(h);return{dialog:h,instanceApi:p}};var QQ=function(e){var t=e.backstage.shared;var n=function(n,r){var o=function(){VK.hide(c);r()};var a=kC(rP({name:"close-alert",text:"OK",primary:true,align:"end",disabled:false,icon:P.none()},"cancel",e.backstage));var i=dQ();var u=vQ(o,t.providers);var c=Ef(pQ({lazySink:function(){return t.getSink()},header:lQ(i,u),body:mQ(n,t.providers),footer:P.some(gQ(hQ([],[a.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Nu(DD,o)],eventOrder:{}}));VK.show(c);var f=a.get(c);Yw.focus(f)};return{open:n}};var ZQ=function(e){var t=e.backstage.shared;var n=function(n,r){var o=function(e){VK.hide(f);r(e)};var a=kC(rP({name:"yes",text:"Yes",primary:true,align:"end",disabled:false,icon:P.none()},"submit",e.backstage));var i=rP({name:"no",text:"No",primary:false,align:"end",disabled:false,icon:P.none()},"cancel",e.backstage);var u=dQ();var c=vQ((function(){return o(false)}),t.providers);var f=Ef(pQ({lazySink:function(){return t.getSink()},header:lQ(u,c),body:mQ(n,t.providers),footer:P.some(gQ(hQ([],[i,a.asSpec()]))),onEscape:function(){return o(false)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Nu(DD,(function(){return o(false)})),Nu(ND,(function(){return o(true)}))],eventOrder:{}}));VK.show(f);var s=a.get(f);Yw.focus(s)};return{open:n}};var eZ=function(e,t){return xa(wa("data",t,e))};var tZ=function(e){return PE(e,".tox-alert-dialog")||PE(e,".tox-confirm-dialog")};var nZ=function(e,t,n){if(t&&n){return[]}else{return[xF.config({contextual:{lazyContext:function(){return P.some(Yr(tt.fromDom(e.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]}};var rZ=function(e){var t=e.backstage;var n=e.editor;var r=WT(n);var o=QQ(e);var a=ZQ(e);var i=function(e,n,r){if(n!==undefined&&n.inline==="toolbar"){return s(e,t.shared.anchors.inlineDialog(),r,n.ariaAttrs)}else if(n!==undefined&&n.inline==="cursor"){return s(e,t.shared.anchors.cursor(),r,n.ariaAttrs)}else{return f(e,r)}};var u=function(e,t){return c(e,t)};var c=function(e,r){var o=function(e){var o=JQ(e,{closeWindow:function(){VK.hide(o.dialog);r(o.instanceApi)}},n,t);VK.show(o.dialog);return o.instanceApi};return wY.openUrl(o,e)};var f=function(e,n){var r=function(e,r,o){var a=r;var i={dataValidator:o,initialData:a,internalDialog:e};var u=jQ(i,{redial:wY.redial,closeWindow:function(){VK.hide(u.dialog);n(u.instanceApi)}},t);VK.show(u.dialog);u.instanceApi.setData(a);return u.instanceApi};return wY.open(r,e)};var s=function(e,o,a,i){var u=function(e,u,c){var f=eZ(u,c);var s=rv();var l=t.shared.header.isPositionedAtTop();var v={dataValidator:c,initialData:f,internalDialog:e};var d=function(){return s.on((function(e){tC.reposition(e);xF.refresh(e)}))};var m=WQ(v,{redial:wY.redial,closeWindow:function(){s.on(tC.hide);n.off("ResizeEditor",d);s.clear();a(m.instanceApi)}},t,i);var g=Ef(tC.sketch(D(D({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},l?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:dl(N([Vw("window-manager-inline-events",[Nu(du(),(function(e,t){xu(m.dialog,DD)}))])],nZ(n,r,l),true)),isExtraPart:function(e,t){return tZ(t)}})));s.set(g);tC.showWithin(g,Df(m.dialog),{anchor:o},P.some(Pn()));if(!r||!l){xF.refresh(g);n.on("ResizeEditor",d)}m.instanceApi.setData(f);Dw.focusIn(m.dialog);return m.instanceApi};return wY.open(u,e)};var l=function(e,t){a.open(e,(function(e){t(e)}))};var v=function(e,t){o.open(e,(function(){t()}))};var d=function(e){e.close()};return{open:i,openUrl:u,alert:v,close:d,confirm:l}};function oZ(){E.add("silver",(function(e){var t=zK(e),n=t.uiMothership,r=t.backstage,o=t.renderUI,a=t.getUi;BE.register(e,r.shared);var i=rZ({editor:e,backstage:r});return{renderUI:o,getWindowManagerImpl:w(i),getNotificationManagerImpl:function(){return VC(e,{backstage:r},n)},ui:a()}}))}oZ()})()},558:(e,t,n)=>{(function(){"use strict";var t=function(e){if(e===null){return"null"}if(e===undefined){return"undefined"}var t=typeof e;if(t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")){return"array"}if(t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")){return"string"}return t};var r=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1};var o=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)};var a=function(e,t){return i((function(n,r){return e.eq(t(n),t(r))}))};var i=function(e){return{eq:e}};var u=i((function(e,t){return e===t}));var c=u;var f=function(e){return i((function(t,n){if(t.length!==n.length){return false}var r=t.length;for(var o=0;o<r;o++){if(!e.eq(t[o],n[o])){return false}}return true}))};var s=function(e,t){return a(f(e),(function(e){return o(e,t)}))};var l=function(e){return i((function(t,n){var r=Object.keys(t);var o=Object.keys(n);if(!s(c).eq(r,o)){return false}var a=r.length;for(var i=0;i<a;i++){var u=r[i];if(!e.eq(t[u],n[u])){return false}}return true}))};var v=i((function(e,n){if(e===n){return true}var o=t(e);var a=t(n);if(o!==a){return false}if(r(o)){return e===n}else if(o==="array"){return f(v).eq(e,n)}else if(o==="object"){return l(v).eq(e,n)}return false}));var d=function(e){var t=typeof e;if(e===null){return"null"}else if(t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")){return"array"}else if(t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")){return"string"}else{return t}};var m=function(e){return function(t){return d(t)===e}};var g=function(e){return function(t){return typeof t===e}};var h=function(e){return function(t){return e===t}};var p=m("string");var b=m("object");var y=m("array");var w=h(null);var x=g("boolean");var C=h(undefined);var S=function(e){return e===null||e===undefined};var k=function(e){return!S(e)};var T=g("function");var O=g("number");var _=function(){};var E=function(e,t){return function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}return e(t.apply(null,n))}};var D=function(e,t){return function(n){return e(t(n))}};var A=function(e){return function(){return e}};var N=function(e){return e};var M=function(e,t){return e===t};function R(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}return function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}var o=t.concat(n);return e.apply(null,o)}}var z=function(e){return function(t){return!e(t)}};var B=function(e){return function(){throw new Error(e)}};var P=function(e){return e()};var L=function(e){e()};var H=A(false);var I=A(true);var F=function(){return V};var V=function(){var e=function(e){return e()};var t=N;var n={fold:function(e,t){return e()},isSome:H,isNone:I,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:A(null),getOrUndefined:A(undefined),or:t,orThunk:e,map:F,each:_,bind:F,exists:H,forall:I,filter:function(){return F()},toArray:function(){return[]},toString:A("none()")};return n}();var U=function(e){var t=A(e);var n=function(){return o};var r=function(t){return t(e)};var o={fold:function(t,n){return n(e)},isSome:I,isNone:H,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return U(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:V},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o};var j=function(e){return e===null||e===undefined?V:U(e)};var W={some:U,none:F,from:j};var q=Array.prototype.slice;var G=Array.prototype.indexOf;var $=Array.prototype.push;var K=function(e,t){return G.call(e,t)};var X=function(e,t){var n=K(e,t);return n===-1?W.none():W.some(n)};var Y=function(e,t){return K(e,t)>-1};var J=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n)){return true}}return false};var Q=function(e,t){var n=e.length;var r=new Array(n);for(var o=0;o<n;o++){var a=e[o];r[o]=t(a,o)}return r};var Z=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}};var ee=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}};var te=function(e,t){var n=[];var r=[];for(var o=0,a=e.length;o<a;o++){var i=e[o];var u=t(i,o)?n:r;u.push(i)}return{pass:n,fail:r}};var ne=function(e,t){var n=[];for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t(a,r)){n.push(a)}}return n};var re=function(e,t,n){ee(e,(function(e,r){n=t(n,e,r)}));return n};var oe=function(e,t,n){Z(e,(function(e,r){n=t(n,e,r)}));return n};var ae=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t(a,r)){return W.some(a)}else if(n(a,r)){break}}return W.none()};var ie=function(e,t){return ae(e,t,H)};var ue=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n)){return W.some(n)}}return W.none()};var ce=function(e){var t=[];for(var n=0,r=e.length;n<r;++n){if(!y(e[n])){throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)}$.apply(t,e[n])}return t};var fe=function(e,t){return ce(Q(e,t))};var se=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(t(o,n)!==true){return false}}return true};var le=function(e){var t=q.call(e,0);t.reverse();return t};var ve=function(e,t){return ne(e,(function(e){return!Y(t,e)}))};var de=function(e,t){var n={};for(var r=0,o=e.length;r<o;r++){var a=e[r];n[String(a)]=t(a,r)}return n};var me=function(e,t){var n=q.call(e,0);n.sort(t);return n};var ge=function(e,t){return t>=0&&t<e.length?W.some(e[t]):W.none()};var he=function(e){return ge(e,0)};var pe=function(e){return ge(e,e.length-1)};var be=T(Array.from)?Array.from:function(e){return q.call(e)};var ye=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome()){return r}}return W.none()};var we=Object.keys;var xe=Object.hasOwnProperty;var Ce=function(e,t){var n=we(e);for(var r=0,o=n.length;r<o;r++){var a=n[r];var i=e[a];t(i,a)}};var Se=function(e,t){return ke(e,(function(e,n){return{k:n,v:t(e,n)}}))};var ke=function(e,t){var n={};Ce(e,(function(e,r){var o=t(e,r);n[o.k]=o.v}));return n};var Te=function(e){return function(t,n){e[n]=t}};var Oe=function(e,t,n,r){var o={};Ce(e,(function(e,o){(t(e,o)?n:r)(e,o)}));return o};var _e=function(e,t){var n={};var r={};Oe(e,t,Te(n),Te(r));return{t:n,f:r}};var Ee=function(e,t){var n={};Oe(e,t,Te(n),_);return n};var De=function(e,t){var n=[];Ce(e,(function(e,r){n.push(t(e,r))}));return n};var Ae=function(e){return De(e,N)};var Ne=function(e,t){return Me(e,t)?W.from(e[t]):W.none()};var Me=function(e,t){return xe.call(e,t)};var Re=function(e,t){return Me(e,t)&&e[t]!==undefined&&e[t]!==null};var ze=function(e,t,n){if(n===void 0){n=v}return l(n).eq(e,t)};var Be=Array.isArray;var Pe=function(e){if(!Be(e)){var t=[];for(var n=0,r=e.length;n<r;n++){t[n]=e[n]}return t}else{return e}};var Le=function(e,t,n){var r,o;if(!e){return false}n=n||e;if(e.length!==undefined){for(r=0,o=e.length;r<o;r++){if(t.call(n,e[r],r,e)===false){return false}}}else{for(r in e){if(Me(e,r)){if(t.call(n,e[r],r,e)===false){return false}}}}return true};var He=function(e,t){var n=[];Le(e,(function(r,o){n.push(t(r,o,e))}));return n};var Ie=function(e,t){var n=[];Le(e,(function(r,o){if(!t||t(r,o,e)){n.push(r)}}));return n};var Fe=function(e,t){if(e){for(var n=0,r=e.length;n<r;n++){if(e[n]===t){return n}}}return-1};var Ve=function(e,t,n,r){var o=C(n)?e[0]:n;for(var a=0;a<e.length;a++){o=t.call(r,o,e[a],a)}return o};var Ue=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++){if(t.call(n,e[r],r,e)){return r}}return-1};var je=function(e){return e[e.length-1]};var We=function(){We=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))t[a]=n[a]}return t};return We.apply(this,arguments)};function qe(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n}function Ge(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++){if(a||!(r in t)){if(!a)a=Array.prototype.slice.call(t,0,r);a[r]=t[r]}}return e.concat(a||Array.prototype.slice.call(t))}var $e=function(e){var t=false;var n;return function(){var r=[];for(var o=0;o<arguments.length;o++){r[o]=arguments[o]}if(!t){t=true;n=e.apply(null,r)}return n}};var Ke=function(e,t,n,r){var o=e.isiOS()&&/ipad/i.test(n)===true;var a=e.isiOS()&&!o;var i=e.isiOS()||e.isAndroid();var u=i||r("(pointer:coarse)");var c=o||!a&&i&&r("(min-device-width:768px)");var f=a||i&&!c;var s=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===false;var l=!f&&!c&&!s;return{isiPad:A(o),isiPhone:A(a),isTablet:A(c),isPhone:A(f),isTouch:A(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:A(s),isDesktop:A(l)}};var Xe=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t)){return r}}return undefined};var Ye=function(e,t){var n=Xe(e,t);if(!n){return{major:0,minor:0}}var r=function(e){return Number(t.replace(n,"$"+e))};return Ze(r(1),r(2))};var Je=function(e,t){var n=String(t).toLowerCase();if(e.length===0){return Qe()}return Ye(e,n)};var Qe=function(){return Ze(0,0)};var Ze=function(e,t){return{major:e,minor:t}};var et={nu:Ze,detect:Je,unknown:Qe};var tt=function(e,t){return ye(t.brands,(function(t){var n=t.brand.toLowerCase();return ie(e,(function(e){var t;return n===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:et.nu(parseInt(t.version,10),0)}}))}))};var nt=function(e,t){var n=String(t).toLowerCase();return ie(e,(function(e){return e.search(n)}))};var rt=function(e,t){return nt(e,t).map((function(e){var n=et.detect(e.versionRegexes,t);return{current:e.name,version:n}}))};var ot=function(e,t){return nt(e,t).map((function(e){var n=et.detect(e.versionRegexes,t);return{current:e.name,version:n}}))};var at=function(e,t){return e.substring(t)};var it=function(e,t,n){return t===""||e.length>=t.length&&e.substr(n,n+t.length)===t};var ut=function(e,t){return ft(e,t)?at(e,t.length):e};var ct=function(e,t){return e.indexOf(t)!==-1};var ft=function(e,t){return it(e,t,0)};var st=function(e){return function(t){return t.replace(e,"")}};var lt=st(/^\s+|\s+$/g);var vt=st(/^\s+/g);var dt=st(/\s+$/g);var mt=function(e){return e.length>0};var gt=function(e){return!mt(e)};var ht=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;var pt=function(e){return function(t){return ct(t,e)}};var bt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ct(e,"edge/")&&ct(e,"chrome")&&ct(e,"safari")&&ct(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ht],search:function(e){return ct(e,"chrome")&&!ct(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ct(e,"msie")||ct(e,"trident")}},{name:"Opera",versionRegexes:[ht,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:pt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:pt("firefox")},{name:"Safari",versionRegexes:[ht,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ct(e,"safari")||ct(e,"mobile/"))&&ct(e,"applewebkit")}}];var yt=[{name:"Windows",search:pt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ct(e,"iphone")||ct(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:pt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:pt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:pt("linux"),versionRegexes:[]},{name:"Solaris",search:pt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:pt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:pt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];var wt={browsers:A(bt),oses:A(yt)};var xt="Edge";var Ct="Chrome";var St="IE";var kt="Opera";var Tt="Firefox";var Ot="Safari";var _t=function(){return Et({current:undefined,version:et.unknown()})};var Et=function(e){var t=e.current;var n=e.version;var r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(xt),isChrome:r(Ct),isIE:r(St),isOpera:r(kt),isFirefox:r(Tt),isSafari:r(Ot)}};var Dt={unknown:_t,nu:Et,edge:A(xt),chrome:A(Ct),ie:A(St),opera:A(kt),firefox:A(Tt),safari:A(Ot)};var At="Windows";var Nt="iOS";var Mt="Android";var Rt="Linux";var zt="OSX";var Bt="Solaris";var Pt="FreeBSD";var Lt="ChromeOS";var Ht=function(){return It({current:undefined,version:et.unknown()})};var It=function(e){var t=e.current;var n=e.version;var r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(At),isiOS:r(Nt),isAndroid:r(Mt),isOSX:r(zt),isLinux:r(Rt),isSolaris:r(Bt),isFreeBSD:r(Pt),isChromeOS:r(Lt)}};var Ft={unknown:Ht,nu:It,windows:A(At),ios:A(Nt),android:A(Mt),linux:A(Rt),osx:A(zt),solaris:A(Bt),freebsd:A(Pt),chromeos:A(Lt)};var Vt=function(e,t,n){var r=wt.browsers();var o=wt.oses();var a=t.bind((function(e){return tt(r,e)})).orThunk((function(){return rt(r,e)})).fold(Dt.unknown,Dt.nu);var i=ot(o,e).fold(Ft.unknown,Ft.nu);var u=Ke(i,a,e,n);return{browser:a,os:i,deviceType:u}};var Ut={detect:Vt};var jt=function(e){return window.matchMedia(e).matches};var Wt=$e((function(){return Ut.detect(navigator.userAgent,W.from(navigator.userAgentData),jt)}));var qt=function(){return Wt()};var Gt=navigator.userAgent;var $t=qt();var Kt=$t.browser;var Xt=$t.os;var Yt=$t.deviceType;var Jt=/WebKit/.test(Gt)&&!Kt.isEdge();var Qt="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL;var Zt=Gt.indexOf("Windows Phone")!==-1;var en={opera:Kt.isOpera(),webkit:Jt,ie:Kt.isIE()||Kt.isEdge()?Kt.version.major:false,gecko:Kt.isFirefox(),mac:Xt.isOSX()||Xt.isiOS(),iOS:Yt.isiPad()||Yt.isiPhone(),android:Xt.isAndroid(),contentEditable:true,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:true,range:window.getSelection&&"Range"in window,documentMode:Kt.isIE()?document.documentMode||7:10,fileApi:Qt,ceFalse:true,cacheSuffix:null,container:null,experimentalShadowDom:false,canHaveCSP:!Kt.isIE(),desktop:Yt.isDesktop(),windowsPhone:Zt,browser:{current:Kt.current,version:Kt.version,isChrome:Kt.isChrome,isEdge:Kt.isEdge,isFirefox:Kt.isFirefox,isIE:Kt.isIE,isOpera:Kt.isOpera,isSafari:Kt.isSafari},os:{current:Xt.current,version:Xt.version,isAndroid:Xt.isAndroid,isChromeOS:Xt.isChromeOS,isFreeBSD:Xt.isFreeBSD,isiOS:Xt.isiOS,isLinux:Xt.isLinux,isOSX:Xt.isOSX,isSolaris:Xt.isSolaris,isWindows:Xt.isWindows},deviceType:{isDesktop:Yt.isDesktop,isiPad:Yt.isiPad,isiPhone:Yt.isiPhone,isPhone:Yt.isPhone,isTablet:Yt.isTablet,isTouch:Yt.isTouch,isWebView:Yt.isWebView}};var tn=/^\s*|\s*$/g;var nn=function(e){return e===null||e===undefined?"":(""+e).replace(tn,"")};var rn=function(e,t){if(!t){return e!==undefined}if(t==="array"&&Be(e)){return true}return typeof e===t};var on=function(e,t,n){var r;e=e||[];t=t||",";if(typeof e==="string"){e=e.split(t)}n=n||{};r=e.length;while(r--){n[e[r]]={}}return n};var an=Me;var un=function(e,t,n){var r=this;var o,a,i,u=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var c=e[3].match(/(^|\.)(\w+)$/i)[2];var f=r.createNS(e[3].replace(/\.\w+$/,""),n);if(f[c]){return}if(e[2]==="static"){f[c]=t;if(this.onCreate){this.onCreate(e[2],e[3],f[c])}return}if(!t[c]){t[c]=function(){};u=1}f[c]=t[c];r.extend(f[c].prototype,t);if(e[5]){o=r.resolve(e[5]).prototype;a=e[5].match(/\.(\w+)$/i)[1];i=f[c];if(u){f[c]=function(){return o[a].apply(this,arguments)}}else{f[c]=function(){this.parent=o[a];return i.apply(this,arguments)}}f[c].prototype[c]=f[c];r.each(o,(function(e,t){f[c].prototype[t]=o[t]}));r.each(t,(function(e,t){if(o[t]){f[c].prototype[t]=function(){this.parent=o[t];return e.apply(this,arguments)}}else{if(t!==c){f[c].prototype[t]=e}}}))}r.each(t.static,(function(e,t){f[c][t]=e}))};var cn=function(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}for(var r=0;r<t.length;r++){var o=t[r];for(var a in o){if(Me(o,a)){var i=o[a];if(i!==undefined){e[a]=i}}}}return e};var fn=function(e,t,n,r){r=r||this;if(e){if(n){e=e[n]}Le(e,(function(e,o){if(t.call(r,e,o,n)===false){return false}fn(e,t,n,r)}))}};var sn=function(e,t){var n,r;t=t||window;e=e.split(".");for(n=0;n<e.length;n++){r=e[n];if(!t[r]){t[r]={}}t=t[r]}return t};var ln=function(e,t){var n,r;t=t||window;e=e.split(".");for(n=0,r=e.length;n<r;n++){t=t[e[n]];if(!t){break}}return t};var vn=function(e,t){if(!e||rn(e,"array")){return e}return He(e.split(t||","),nn)};var dn=function(e){var t=en.cacheSuffix;if(t){e+=(e.indexOf("?")===-1?"?":"&")+t}return e};var mn={trim:nn,isArray:Be,is:rn,toArray:Pe,makeMap:on,each:Le,map:He,grep:Ie,inArray:Fe,hasOwn:an,extend:cn,create:un,walk:fn,createNS:sn,resolve:ln,explode:vn,_addCacheSuffix:dn};var gn=function(e,t){var n=t||document;var r=n.createElement("div");r.innerHTML=e;if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",e);throw new Error("HTML must have a single root node")}return bn(r.childNodes[0])};var hn=function(e,t){var n=t||document;var r=n.createElement(e);return bn(r)};var pn=function(e,t){var n=t||document;var r=n.createTextNode(e);return bn(r)};var bn=function(e){if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};var yn=function(e,t,n){return W.from(e.dom.elementFromPoint(t,n)).map(bn)};var wn={fromHtml:gn,fromTag:hn,fromText:pn,fromDom:bn,fromPoint:yn};var xn=function(e,t){var n=[];var r=function(e){n.push(e);return t(e)};var o=t(e);do{o=o.bind(r)}while(o.isSome());return n};var Cn=function(e,t,n){return(e.compareDocumentPosition(t)&n)!==0};var Sn=function(e,t){return Cn(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)};var kn=8;var Tn=9;var On=11;var _n=1;var En=3;var Dn=function(e,t){var n=e.dom;if(n.nodeType!==_n){return false}else{var r=n;if(r.matches!==undefined){return r.matches(t)}else if(r.msMatchesSelector!==undefined){return r.msMatchesSelector(t)}else if(r.webkitMatchesSelector!==undefined){return r.webkitMatchesSelector(t)}else if(r.mozMatchesSelector!==undefined){return r.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};var An=function(e){return e.nodeType!==_n&&e.nodeType!==Tn&&e.nodeType!==On||e.childElementCount===0};var Nn=function(e,t){var n=t===undefined?document:t.dom;return An(n)?[]:Q(n.querySelectorAll(e),wn.fromDom)};var Mn=function(e,t){var n=t===undefined?document:t.dom;return An(n)?W.none():W.from(n.querySelector(e)).map(wn.fromDom)};var Rn=function(e,t){return e.dom===t.dom};var zn=function(e,t){var n=e.dom;var r=t.dom;return n===r?false:n.contains(r)};var Bn=function(e,t){return Sn(e.dom,t.dom)};var Pn=function(e,t){return qt().browser.isIE()?Bn(e,t):zn(e,t)};typeof window!=="undefined"?window:Function("return this;")();var Ln=function(e){var t=e.dom.nodeName;return t.toLowerCase()};var Hn=function(e){return e.dom.nodeType};var In=function(e){return function(t){return Hn(t)===e}};var Fn=function(e){return Hn(e)===kn||Ln(e)==="#comment"};var Vn=In(_n);var Un=In(En);var jn=In(Tn);var Wn=In(On);var qn=function(e){return function(t){return Vn(t)&&Ln(t)===e}};var Gn=function(e){return wn.fromDom(e.dom.ownerDocument)};var $n=function(e){return jn(e)?e:Gn(e)};var Kn=function(e){return wn.fromDom($n(e).dom.documentElement)};var Xn=function(e){return wn.fromDom($n(e).dom.defaultView)};var Yn=function(e){return W.from(e.dom.parentNode).map(wn.fromDom)};var Jn=function(e,t){var n=T(t)?t:H;var r=e.dom;var o=[];while(r.parentNode!==null&&r.parentNode!==undefined){var a=r.parentNode;var i=wn.fromDom(a);o.push(i);if(n(i)===true){break}else{r=a}}return o};var Qn=function(e){var t=function(t){return ne(t,(function(t){return!Rn(e,t)}))};return Yn(e).map(rr).map(t).getOr([])};var Zn=function(e){return W.from(e.dom.previousSibling).map(wn.fromDom)};var er=function(e){return W.from(e.dom.nextSibling).map(wn.fromDom)};var tr=function(e){return le(xn(e,Zn))};var nr=function(e){return xn(e,er)};var rr=function(e){return Q(e.dom.childNodes,wn.fromDom)};var or=function(e,t){var n=e.dom.childNodes;return W.from(n[t]).map(wn.fromDom)};var ar=function(e){return or(e,0)};var ir=function(e){return or(e,e.dom.childNodes.length-1)};var ur=function(e){return e.dom.childNodes.length};var cr=function(e){var t=e.dom.head;if(t===null||t===undefined){throw new Error("Head is not available yet")}return wn.fromDom(t)};var fr=function(e){return Wn(e)&&k(e.dom.host)};var sr=T(Element.prototype.attachShadow)&&T(Node.prototype.getRootNode);var lr=A(sr);var vr=sr?function(e){return wn.fromDom(e.dom.getRootNode())}:$n;var dr=function(e){return fr(e)?e:cr($n(e))};var mr=function(e){var t=vr(e);return fr(t)?W.some(t):W.none()};var gr=function(e){return wn.fromDom(e.dom.host)};var hr=function(e){if(lr()&&k(e.target)){var t=wn.fromDom(e.target);if(Vn(t)&&pr(t)){if(e.composed&&e.composedPath){var n=e.composedPath();if(n){return he(n)}}}}return W.from(e.target)};var pr=function(e){return k(e.dom.shadowRoot)};var br=function(e,t){var n=Yn(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))};var yr=function(e,t){var n=er(e);n.fold((function(){var n=Yn(e);n.each((function(e){xr(e,t)}))}),(function(e){br(e,t)}))};var wr=function(e,t){var n=ar(e);n.fold((function(){xr(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))};var xr=function(e,t){e.dom.appendChild(t.dom)};var Cr=function(e,t){br(e,t);xr(t,e)};var Sr=function(e,t){Z(t,(function(t){br(e,t)}))};var kr=function(e,t){Z(t,(function(t){xr(e,t)}))};var Tr=function(e){e.dom.textContent="";Z(rr(e),(function(e){Or(e)}))};var Or=function(e){var t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};var _r=function(e){var t=rr(e);if(t.length>0){Sr(e,t)}Or(e)};var Er=function(e){var t=Un(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}var n=t.ownerDocument;return mr(wn.fromDom(t)).fold((function(){return n.body.contains(t)}),D(Er,gr))};var Dr=function(e,t){var n=function(n,r){return Dr(e+n,t+r)};return{left:e,top:t,translate:n}};var Ar=Dr;var Nr=function(e){var t=e.getBoundingClientRect();return Ar(t.left,t.top)};var Mr=function(e,t){if(e!==undefined){return e}else{return t!==undefined?t:0}};var Rr=function(e){var t=e.dom.ownerDocument;var n=t.body;var r=t.defaultView;var o=t.documentElement;if(n===e.dom){return Ar(n.offsetLeft,n.offsetTop)}var a=Mr(r===null||r===void 0?void 0:r.pageYOffset,o.scrollTop);var i=Mr(r===null||r===void 0?void 0:r.pageXOffset,o.scrollLeft);var u=Mr(o.clientTop,n.clientTop);var c=Mr(o.clientLeft,n.clientLeft);return zr(e).translate(i-c,a-u)};var zr=function(e){var t=e.dom;var n=t.ownerDocument;var r=n.body;if(r===t){return Ar(r.offsetLeft,r.offsetTop)}if(!Er(e)){return Ar(0,0)}return Nr(t)};var Br=function(e){var t=e!==undefined?e.dom:document;var n=t.body.scrollLeft||t.documentElement.scrollLeft;var r=t.body.scrollTop||t.documentElement.scrollTop;return Ar(n,r)};var Pr=function(e,t,n){var r=n!==undefined?n.dom:document;var o=r.defaultView;if(o){o.scrollTo(e,t)}};var Lr=function(e,t){var n=qt().browser.isSafari();if(n&&T(e.dom.scrollIntoViewIfNeeded)){e.dom.scrollIntoViewIfNeeded(false)}else{e.dom.scrollIntoView(t)}};var Hr=function(e){var t=e===undefined?window:e;if(qt().browser.isFirefox()){return W.none()}else{return W.from(t["visualViewport"])}};var Ir=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}};var Fr=function(e){var t=e===undefined?window:e;var n=t.document;var r=Br(wn.fromDom(n));return Hr(t).fold((function(){var e=t.document.documentElement;var n=e.clientWidth;var o=e.clientHeight;return Ir(r.left,r.top,n,o)}),(function(e){return Ir(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))};var Vr=function(e){return function(t){return!!t&&t.nodeType===e}};var Ur=function(e){return!!e&&!Object.getPrototypeOf(e)};var jr=Vr(1);var Wr=function(e){var t=e.map((function(e){return e.toLowerCase()}));return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase();return Y(t,n)}return false}};var qr=function(e,t){var n=t.toLowerCase().split(" ");return function(t){if(jr(t)){for(var r=0;r<n.length;r++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);var a=o?o.getPropertyValue(e):null;if(a===n[r]){return true}}}return false}};var Gr=function(e){return function(t){return jr(t)&&t.hasAttribute(e)}};var $r=function(e,t){return function(n){return jr(n)&&n.getAttribute(e)===t}};var Kr=function(e){return jr(e)&&e.hasAttribute("data-mce-bogus")};var Xr=function(e){return jr(e)&&e.getAttribute("data-mce-bogus")==="all"};var Yr=function(e){return jr(e)&&e.tagName==="TABLE"};var Jr=function(e){return function(t){if(jr(t)){if(t.contentEditable===e){return true}if(t.getAttribute("data-mce-contenteditable")===e){return true}}return false}};var Qr=Wr(["textarea","input"]);var Zr=Vr(3);var eo=Vr(8);var to=Vr(9);var no=Vr(11);var ro=Wr(["br"]);var oo=Wr(["img"]);var ao=Jr("true");var io=Jr("false");var uo=Wr(["td","th"]);var co=Wr(["video","audio","object","embed"]);var fo=function(e,t,n){if(n===void 0){n=M}return e.exists((function(e){return n(e,t)}))};var so=function(e){var t=[];var n=function(e){t.push(e)};for(var r=0;r<e.length;r++){e[r].each(n)}return t};var lo=function(e,t,n){return e.isSome()&&t.isSome()?W.some(n(e.getOrDie(),t.getOrDie())):W.none()};var vo=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?W.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):W.none()};var mo=function(e,t){return e?W.some(t):W.none()};var go=function(e){return e.style!==undefined&&T(e.style.getPropertyValue)};var ho=function(e,t,n){if(p(n)||x(n)||O(n)){e.setAttribute(t,n+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e);throw new Error("Attribute value was not simple")}};var po=function(e,t,n){ho(e.dom,t,n)};var bo=function(e,t){var n=e.dom;Ce(t,(function(e,t){ho(n,t,e)}))};var yo=function(e,t){var n=e.dom.getAttribute(t);return n===null?undefined:n};var wo=function(e,t){return W.from(yo(e,t))};var xo=function(e,t){var n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):false};var Co=function(e,t){e.dom.removeAttribute(t)};var So=function(e){return oe(e.dom.attributes,(function(e,t){e[t.name]=t.value;return e}),{})};var ko=function(e,t,n){if(!p(n)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e);throw new Error("CSS value must be a string: "+n)}if(go(e)){e.style.setProperty(t,n)}};var To=function(e,t){var n=e.dom;Ce(t,(function(e,t){ko(n,t,e)}))};var Oo=function(e,t){var n=e.dom;var r=window.getComputedStyle(n);var o=r.getPropertyValue(t);return o===""&&!Er(e)?_o(n,t):o};var _o=function(e,t){return go(e)?e.style.getPropertyValue(t):""};var Eo=function(e,t){var n=e.dom;var r=_o(n,t);return W.from(r).filter((function(e){return e.length>0}))};var Do=function(e){var t={};var n=e.dom;if(go(n)){for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}}return t};var Ao=function(e){return e.dom.offsetWidth};var No=qt().browser;var Mo=function(e){return ie(e,Vn)};var Ro=function(e){if(No.isFirefox()&&Ln(e)==="table"){return Mo(rr(e)).filter((function(e){return Ln(e)==="caption"})).bind((function(e){return Mo(nr(e)).map((function(t){var n=t.dom.offsetTop;var r=e.dom.offsetTop;var o=e.dom.offsetHeight;return n<=r?-o:0}))})).getOr(0)}else{return 0}};var zo=function(e,t){return e.children&&Y(e.children,t)};var Bo=function(e,t,n){var r=0,o=0;var a=e.ownerDocument;n=n?n:e;if(t){if(n===e&&t.getBoundingClientRect&&Oo(wn.fromDom(e),"position")==="static"){var i=t.getBoundingClientRect();r=i.left+(a.documentElement.scrollLeft||e.scrollLeft)-a.documentElement.clientLeft;o=i.top+(a.documentElement.scrollTop||e.scrollTop)-a.documentElement.clientTop;return{x:r,y:o}}var u=t;while(u&&u!==n&&u.nodeType&&!zo(u,n)){var c=u;r+=c.offsetLeft||0;o+=c.offsetTop||0;u=c.offsetParent}u=t.parentNode;while(u&&u!==n&&u.nodeType&&!zo(u,n)){r-=u.scrollLeft||0;o-=u.scrollTop||0;u=u.parentNode}o+=Ro(wn.fromDom(t))}return{x:r,y:o}};var Po={},Lo={exports:Po};(function(e,t,r,o){(function(n,o){typeof t==="object"&&typeof r!=="undefined"?r.exports=o():typeof e==="function"&&e.amd?e(o):(n=typeof globalThis!=="undefined"?globalThis:n||self,n.EphoxContactWrapper=o())})(this,(function(){var e=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof n.g!=="undefined"?n.g:typeof self!=="undefined"?self:{};var t={exports:{}};(function(t){(function(e){var n=setTimeout;function r(){}function o(e,t){return function(){e.apply(t,arguments)}}function a(e){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");if(typeof e!=="function")throw new TypeError("not a function");this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];l(e,this)}function i(e,t){while(e._state===3){e=e._value}if(e._state===0){e._deferreds.push(t);return}e._handled=true;a._immediateFn((function(){var n=e._state===1?t.onFulfilled:t.onRejected;if(n===null){(e._state===1?u:c)(t.promise,e._value);return}var r;try{r=n(e._value)}catch(e){c(t.promise,e);return}u(t.promise,r)}))}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t==="object"||typeof t==="function")){var n=t.then;if(t instanceof a){e._state=3;e._value=t;f(e);return}else if(typeof n==="function"){l(o(n,t),e);return}}e._state=1;e._value=t;f(e)}catch(t){c(e,t)}}function c(e,t){e._state=2;e._value=t;f(e)}function f(e){if(e._state===2&&e._deferreds.length===0){a._immediateFn((function(){if(!e._handled){a._unhandledRejectionFn(e._value)}}))}for(var t=0,n=e._deferreds.length;t<n;t++){i(e,e._deferreds[t])}e._deferreds=null}function s(e,t,n){this.onFulfilled=typeof e==="function"?e:null;this.onRejected=typeof t==="function"?t:null;this.promise=n}function l(e,t){var n=false;try{e((function(e){if(n)return;n=true;u(t,e)}),(function(e){if(n)return;n=true;c(t,e)}))}catch(e){if(n)return;n=true;c(t,e)}}a.prototype["catch"]=function(e){return this.then(null,e)};a.prototype.then=function(e,t){var n=new this.constructor(r);i(this,new s(e,t,n));return n};a.all=function(e){var t=Array.prototype.slice.call(e);return new a((function(e,n){if(t.length===0)return e([]);var r=t.length;function o(a,i){try{if(i&&(typeof i==="object"||typeof i==="function")){var u=i.then;if(typeof u==="function"){u.call(i,(function(e){o(a,e)}),n);return}}t[a]=i;if(--r===0){e(t)}}catch(e){n(e)}}for(var a=0;a<t.length;a++){o(a,t[a])}}))};a.resolve=function(e){if(e&&typeof e==="object"&&e.constructor===a){return e}return new a((function(t){t(e)}))};a.reject=function(e){return new a((function(t,n){n(e)}))};a.race=function(e){return new a((function(t,n){for(var r=0,o=e.length;r<o;r++){e[r].then(t,n)}}))};a._immediateFn=typeof setImmediate==="function"?function(e){setImmediate(e)}:function(e){n(e,0)};a._unhandledRejectionFn=function e(t){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",t)}};a._setImmediateFn=function e(t){a._immediateFn=t};a._setUnhandledRejectionFn=function e(t){a._unhandledRejectionFn=t};if(t.exports){t.exports=a}else if(!e.Promise){e.Promise=a}})(e)})(t);var r=t.exports;var o=function(){if(typeof window!=="undefined"){return window}else{return Function("return this;")()}}();var a={boltExport:o.Promise||r};return a}))})(undefined,Po,Lo);var Ho=Lo.exports.boltExport;var Io=function(e){var t=W.none();var n=[];var r=function(e){return Io((function(t){o((function(n){t(e(n))}))}))};var o=function(e){if(i()){c(e)}else{n.push(e)}};var a=function(e){if(!i()){t=W.some(e);u(n);n=[]}};var i=function(){return t.isSome()};var u=function(e){Z(e,c)};var c=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))};e(a);return{get:o,map:r,isReady:i}};var Fo=function(e){return Io((function(t){t(e)}))};var Vo={nu:Io,pure:Fo};var Uo=function(e){setTimeout((function(){throw e}),0)};var jo=function(e){var t=function(t){e().then(t,Uo)};var n=function(t){return jo((function(){return e().then(t)}))};var r=function(t){return jo((function(){return e().then((function(e){return t(e).toPromise()}))}))};var o=function(t){return jo((function(){return e().then((function(){return t.toPromise()}))}))};var a=function(){return Vo.nu(t)};var i=function(){var t=null;return jo((function(){if(t===null){t=e()}return t}))};var u=e;return{map:n,bind:r,anonBind:o,toLazy:a,toCached:i,toPromise:u,get:t}};var Wo=function(e){return jo((function(){return new Ho(e)}))};var qo=function(e){return jo((function(){return Ho.resolve(e)}))};var Go={nu:Wo,pure:qo};var $o=function(e,t){return t((function(t){var n=[];var r=0;var o=function(o){return function(a){n[o]=a;r++;if(r>=e.length){t(n)}}};if(e.length===0){t([])}else{Z(e,(function(e,t){e.get(o(t))}))}}))};var Ko=function(e){return $o(e,Go.nu)};var Xo=function(e){var t=function(t){return Xo(e)};var n=function(t){return Xo(e)};var r=function(t){return Xo(t(e))};var o=function(t){return Xo(e)};var a=function(t){t(e)};var i=function(t){return t(e)};var u=function(t,n){return n(e)};var c=function(t){return t(e)};var f=function(t){return t(e)};var s=function(){return W.some(e)};return{isValue:I,isError:H,getOr:A(e),getOrThunk:A(e),getOrDie:A(e),or:t,orThunk:n,fold:u,map:r,mapError:o,each:a,bind:i,exists:c,forall:f,toOptional:s}};var Yo=function(e){var t=function(e){return e()};var n=function(){return B(String(e))()};var r=N;var o=function(e){return e()};var a=function(t){return Yo(e)};var i=function(t){return Yo(t(e))};var u=function(t){return Yo(e)};var c=function(t,n){return t(e)};return{isValue:H,isError:I,getOr:N,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:c,map:a,mapError:i,each:_,bind:u,exists:H,forall:I,toOptional:W.none}};var Jo=function(e,t){return e.fold((function(){return Yo(t)}),Xo)};var Qo={value:Xo,error:Yo,fromOption:Jo};var Zo=function(e){if(!y(e)){throw new Error("cases must be an array")}if(e.length===0){throw new Error("there must be at least one case")}var t=[];var n={};Z(e,(function(r,o){var a=we(r);if(a.length!==1){throw new Error("one and only one name per case")}var i=a[0];var u=r[i];if(n[i]!==undefined){throw new Error("duplicate key detected:"+i)}else if(i==="cata"){throw new Error("cannot have a case named cata (sorry)")}else if(!y(u)){throw new Error("case arguments must be an array")}t.push(i);n[i]=function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}var a=n.length;if(a!==u.length){throw new Error("Wrong number of arguments to case "+i+". Expected "+u.length+" ("+u+"), got "+a)}var c=function(e){var r=we(e);if(t.length!==r.length){throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","))}var o=se(t,(function(e){return Y(r,e)}));if(!o){throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "))}return e[i].apply(null,n)};return{fold:function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}if(t.length!==e.length){throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)}var a=t[o];return a.apply(null,n)},match:c,log:function(e){console.log(e,{constructors:t,constructor:i,params:n})}}}}));return n};var ea={generate:Zo};ea.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var ta=function(e){return e.fold(N,N)};function na(e,t,n,r,o){if(e(n,r)){return W.some(n)}else if(T(o)&&o(n)){return W.none()}else{return t(n,r,o)}}var ra=function(e,t,n){var r=e.dom;var o=T(n)?n:H;while(r.parentNode){r=r.parentNode;var a=wn.fromDom(r);if(t(a)){return W.some(a)}else if(o(a)){break}}return W.none()};var oa=function(e,t,n){var r=function(e,t){return t(e)};return na(r,ra,e,t,n)};var aa=function(e,t){var n=e.dom;if(!n.parentNode){return W.none()}return ia(wn.fromDom(n.parentNode),(function(n){return!Rn(e,n)&&t(n)}))};var ia=function(e,t){var n=function(e){return t(wn.fromDom(e))};var r=ie(e.dom.childNodes,n);return r.map(wn.fromDom)};var ua=function(e,t,n){return ra(e,(function(e){return Dn(e,t)}),n)};var ca=function(e,t){return Mn(t,e)};var fa=function(e,t,n){var r=function(e,t){return Dn(e,t)};return na(r,ua,e,t,n)};var sa=window.Promise?window.Promise:Ho;var la;var va=function(e,t){var n=window.requestAnimationFrame;var r=["ms","moz","webkit"];var o=function(e){window.setTimeout(e,0)};for(var a=0;a<r.length&&!n;a++){n=window[r[a]+"RequestAnimationFrame"]}if(!n){n=o}n(e,t)};var da=function(e,t){if(typeof t!=="number"){t=0}return setTimeout(e,t)};var ma=function(e,t){if(typeof t!=="number"){t=1}return setInterval(e,t)};var ga=function(e){return clearTimeout(e)};var ha=function(e){return clearInterval(e)};var pa=function(e,t){var n;var r=function(){var r=[];for(var o=0;o<arguments.length;o++){r[o]=arguments[o]}clearTimeout(n);n=da((function(){e.apply(this,r)}),t)};r.stop=function(){clearTimeout(n)};return r};var ba={requestAnimationFrame:function(e,t){if(la){la.then(e);return}la=new sa((function(e){if(!t){t=document.body}va(e,t)})).then(e)},setTimeout:da,setInterval:ma,setEditorTimeout:function(e,t,n){return da((function(){if(!e.removed){t()}}),n)},setEditorInterval:function(e,t,n){var r=ma((function(){if(!e.removed){t()}else{clearInterval(r)}}),n);return r},debounce:pa,throttle:pa,clearInterval:ha,clearTimeout:ga};var ya=function(e,t){if(t===void 0){t={}}var n=0;var r={};var o=wn.fromDom(e);var a=$n(o);var i=t.maxLoadTime||5e3;var u=function(e){t.referrerPolicy=e};var c=function(e){xr(dr(o),e)};var f=function(e){var t=dr(o);ca(t,"#"+e).each(Or)};var s=function(e){return Ne(r,e).getOrThunk((function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}}))};var l=function(n,o,u){var f;var l=mn._addCacheSuffix(n);var v=s(l);r[l]=v;v.count++;var d=function(e,t){var n=e.length;while(n--){e[n]()}v.status=t;v.passed=[];v.failed=[];if(f){f.onload=null;f.onerror=null;f=null}};var m=function(){return d(v.passed,2)};var g=function(){return d(v.failed,3)};var h=function(e,t){if(!e()){if(Date.now()-y<i){ba.setTimeout(t)}else{g()}}};var p=function(){h((function(){var t=e.styleSheets;var n=t.length;while(n--){var r=t[n];var o=r.ownerNode;if(o&&o.id===f.id){m();return true}}return false}),p)};if(o){v.passed.push(o)}if(u){v.failed.push(u)}if(v.status===1){return}if(v.status===2){m();return}if(v.status===3){g();return}v.status=1;var b=wn.fromTag("link",a.dom);bo(b,{rel:"stylesheet",type:"text/css",id:v.id});var y=Date.now();if(t.contentCssCors){po(b,"crossOrigin","anonymous")}if(t.referrerPolicy){po(b,"referrerpolicy",t.referrerPolicy)}f=b.dom;f.onload=p;f.onerror=g;c(b);po(b,"href",l)};var v=function(e){return Go.nu((function(t){l(e,E(t,A(Qo.value(e))),E(t,A(Qo.error(e))))}))};var d=function(e,t,n){Ko(Q(e,v)).get((function(e){var r=te(e,(function(e){return e.isValue()}));if(r.fail.length>0){n(r.fail.map(ta))}else{t(r.pass.map(ta))}}))};var m=function(e){var t=mn._addCacheSuffix(e);Ne(r,t).each((function(e){var n=--e.count;if(n===0){delete r[t];f(e.id)}}))};var g=function(e){Z(e,(function(e){m(e)}))};return{load:l,loadAll:d,unload:m,unloadAll:g,_setReferrerPolicy:u}};var wa=function(){var e=new WeakMap;var t=function(t,n){var r=vr(t);var o=r.dom;return W.from(e.get(o)).getOrThunk((function(){var t=ya(o,n);e.set(o,t);return t}))};return{forElement:t}};var xa=wa();var Ca=function(){function e(e,t){this.node=e;this.rootNode=t;this.current=this.current.bind(this);this.next=this.next.bind(this);this.prev=this.prev.bind(this);this.prev2=this.prev2.bind(this)}e.prototype.current=function(){return this.node};e.prototype.next=function(e){this.node=this.findSibling(this.node,"firstChild","nextSibling",e);return this.node};e.prototype.prev=function(e){this.node=this.findSibling(this.node,"lastChild","previousSibling",e);return this.node};e.prototype.prev2=function(e){this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e);return this.node};e.prototype.findSibling=function(e,t,n,r){var o,a;if(e){if(!r&&e[t]){return e[t]}if(e!==this.rootNode){o=e[n];if(o){return o}for(a=e.parentNode;a&&a!==this.rootNode;a=a.parentNode){o=a[n];if(o){return o}}}}};e.prototype.findPreviousNode=function(e,t,n,r){var o,a,i;if(e){o=e[n];if(this.rootNode&&o===this.rootNode){return}if(o){if(!r){for(i=o[t];i;i=i[t]){if(!i[t]){return i}}}return o}a=e.parentNode;if(a&&a!==this.rootNode){return a}}};return e}();var Sa=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"];var ka=["td","th"];var Ta=["thead","tbody","tfoot"];var Oa=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"];var _a=["h1","h2","h3","h4","h5","h6"];var Ea=["li","dd","dt"];var Da=["ul","ol","dl"];var Aa=["pre","script","textarea","style"];var Na=function(e){var t;return function(n){t=t?t:de(e,I);return Me(t,Ln(n))}};var Ma=Na(_a);var Ra=Na(Sa);var za=function(e){return Ln(e)==="table"};var Ba=function(e){return Vn(e)&&!Ra(e)};var Pa=function(e){return Vn(e)&&Ln(e)==="br"};var La=Na(Oa);var Ha=Na(Da);var Ia=Na(Ea);var Fa=Na(Ta);var Va=Na(ka);var Ua=Na(Aa);var ja=function(e,t,n){return ua(e,t,n).isSome()};var Wa="\ufeff";var qa="";var Ga=function(e){return e===Wa};var $a=function(e){return e.replace(/\uFEFF/g,"")};var Ka=Wa;var Xa=Ga;var Ya=$a;var Ja=jr;var Qa=Zr;var Za=function(e){if(Qa(e)){e=e.parentNode}return Ja(e)&&e.hasAttribute("data-mce-caret")};var ei=function(e){return Qa(e)&&Xa(e.data)};var ti=function(e){return Za(e)||ei(e)};var ni=function(e){return e.firstChild!==e.lastChild||!ro(e.firstChild)};var ri=function(e,t){var n=e.ownerDocument;var r=n.createTextNode(Ka);var o=e.parentNode;if(!t){var a=e.nextSibling;if(Qa(a)){if(ti(a)){return a}if(ci(a)){a.splitText(1);return a}}if(e.nextSibling){o.insertBefore(r,e.nextSibling)}else{o.appendChild(r)}}else{var a=e.previousSibling;if(Qa(a)){if(ti(a)){return a}if(fi(a)){return a.splitText(a.data.length-1)}}o.insertBefore(r,e)}return r};var oi=function(e){var t=e.container();if(!Zr(t)){return false}return t.data.charAt(e.offset())===Ka||e.isAtStart()&&ei(t.previousSibling)};var ai=function(e){var t=e.container();if(!Zr(t)){return false}return t.data.charAt(e.offset()-1)===Ka||e.isAtEnd()&&ei(t.nextSibling)};var ii=function(){var e=document.createElement("br");e.setAttribute("data-mce-bogus","1");return e};var ui=function(e,t,n){var r=t.ownerDocument;var o=r.createElement(e);o.setAttribute("data-mce-caret",n?"before":"after");o.setAttribute("data-mce-bogus","all");o.appendChild(ii());var a=t.parentNode;if(!n){if(t.nextSibling){a.insertBefore(o,t.nextSibling)}else{a.appendChild(o)}}else{a.insertBefore(o,t)}return o};var ci=function(e){return Qa(e)&&e.data[0]===Ka};var fi=function(e){return Qa(e)&&e.data[e.data.length-1]===Ka};var si=function(e){var t=e.getElementsByTagName("br");var n=t[t.length-1];if(Kr(n)){n.parentNode.removeChild(n)}};var li=function(e){if(e&&e.hasAttribute("data-mce-caret")){si(e);e.removeAttribute("data-mce-caret");e.removeAttribute("data-mce-bogus");e.removeAttribute("style");e.removeAttribute("_moz_abspos");return e}return null};var vi=function(e){return Za(e.startContainer)};var di=ao;var mi=io;var gi=ro;var hi=Zr;var pi=Wr(["script","style","textarea"]);var bi=Wr(["img","input","textarea","hr","iframe","video","audio","object","embed"]);var yi=Wr(["table"]);var wi=ti;var xi=function(e){if(wi(e)){return false}if(hi(e)){return!pi(e.parentNode)}return bi(e)||gi(e)||yi(e)||Si(e)};var Ci=function(e){return jr(e)&&e.getAttribute("unselectable")==="true"};var Si=function(e){return Ci(e)===false&&mi(e)};var ki=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Si(e)){return false}if(di(e)){return true}}return true};var Ti=function(e){if(!Si(e)){return false}return oe(be(e.getElementsByTagName("*")),(function(e,t){return e||di(t)}),false)!==true};var Oi=function(e){return bi(e)||Ti(e)};var _i=function(e,t){return xi(e)&&ki(e,t)};var Ei=/^[ \t\r\n]*$/;var Di=function(e){return Ei.test(e)};var Ai=function(e,t){var n=wn.fromDom(t);var r=wn.fromDom(e);return ja(r,"pre,code",R(Rn,n))};var Ni=function(e,t){return Zr(e)&&Di(e.data)&&Ai(e,t)===false};var Mi=function(e){return jr(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))};var Ri=function(e,t){return xi(e)&&Ni(e,t)===false||Mi(e)||zi(e)};var zi=Gr("data-mce-bookmark");var Bi=Gr("data-mce-bogus");var Pi=$r("data-mce-bogus","all");var Li=function(e,t){var n=0;if(Ri(e,e)){return false}else{var r=e.firstChild;if(!r){return true}var o=new Ca(r,e);do{if(t){if(Pi(r)){r=o.next(true);continue}if(Bi(r)){r=o.next();continue}}if(ro(r)){n++;r=o.next();continue}if(Ri(r,e)){return false}r=o.next()}while(r);return n<=1}};var Hi=function(e,t){if(t===void 0){t=true}return Li(e.dom,t)};var Ii=function(e){return e.nodeName.toLowerCase()==="span"};var Fi=function(e,t){return k(e)&&(Ri(e,t)||Ba(wn.fromDom(e)))};var Vi=function(e,t){var n=new Ca(e,t).prev(false);var r=new Ca(e,t).next(false);var o=C(n)||Fi(n,t);var a=C(r)||Fi(r,t);return o&&a};var Ui=function(e){return Ii(e)&&e.getAttribute("data-mce-type")==="bookmark"};var ji=function(e,t){return Zr(e)&&e.data.length>0&&Vi(e,t)};var Wi=function(e){return jr(e)?e.childNodes.length>0:false};var qi=function(e){return no(e)||to(e)};var Gi=function(e,t,n){var r=n||t;if(jr(t)&&Ui(t)){return t}var o=t.childNodes;for(var a=o.length-1;a>=0;a--){Gi(e,o[a],r)}if(jr(t)){var i=t.childNodes;if(i.length===1&&Ui(i[0])){t.parentNode.insertBefore(i[0],t)}}if(!qi(t)&&!Ri(t,r)&&!Wi(t)&&!ji(t,r)){e.remove(t)}return t};var $i=mn.makeMap;var Ki=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var Xi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var Yi=/[<>&\"\']/g;var Ji=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi;var Qi={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};var Zi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"};var eu={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var tu=function(e){var t=wn.fromTag("div").dom;t.innerHTML=e;return t.textContent||t.innerText||e};var nu=function(e,t){var n,r,o;var a={};if(e){e=e.split(",");t=t||10;for(n=0;n<e.length;n+=2){r=String.fromCharCode(parseInt(e[n],t));if(!Zi[r]){o="&"+e[n+1]+";";a[r]=o;a[o]=r}}return a}};var ru=nu("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,"+"5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,"+"5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,"+"5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,"+"68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,"+"6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,"+"6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,"+"75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,"+"7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,"+"7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,"+"sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,"+"st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,"+"t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,"+"tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,"+"u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,"+"81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,"+"8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,"+"8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,"+"8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,"+"8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,"+"nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,"+"rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,"+"Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,"+"80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,"+"811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var ou=function(e,t){return e.replace(t?Ki:Xi,(function(e){return Zi[e]||e}))};var au=function(e){return(""+e).replace(Yi,(function(e){return Zi[e]||e}))};var iu=function(e,t){return e.replace(t?Ki:Xi,(function(e){if(e.length>1){return"&#"+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+";"}return Zi[e]||"&#"+e.charCodeAt(0)+";"}))};var uu=function(e,t,n){n=n||ru;return e.replace(t?Ki:Xi,(function(e){return Zi[e]||n[e]||e}))};var cu=function(e,t){var n=nu(t)||ru;var r=function(e,t){return e.replace(t?Ki:Xi,(function(e){if(Zi[e]!==undefined){return Zi[e]}if(n[e]!==undefined){return n[e]}if(e.length>1){return"&#"+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+";"}return"&#"+e.charCodeAt(0)+";"}))};var o=function(e,t){return uu(e,t,n)};var a=$i(e.replace(/\+/g,","));if(a.named&&a.numeric){return r}if(a.named){if(t){return o}return uu}if(a.numeric){return iu}return ou};var fu=function(e){return e.replace(Ji,(function(e,t){if(t){if(t.charAt(0).toLowerCase()==="x"){t=parseInt(t.substr(1),16)}else{t=parseInt(t,10)}if(t>65535){t-=65536;return String.fromCharCode(55296+(t>>10),56320+(t&1023))}return Qi[t]||String.fromCharCode(t)}return eu[e]||ru[e]||tu(e)}))};var su={encodeRaw:ou,encodeAllRaw:au,encodeNumeric:iu,encodeNamed:uu,getEncodeFunc:cu,decode:fu};var lu={},vu={};var du=mn.makeMap,mu=mn.each,gu=mn.extend,hu=mn.explode,pu=mn.inArray;var bu=function(e,t){e=mn.trim(e);return e?e.split(t||" "):[]};var yu=function(e,t){var n=du(e," ",du(e.toUpperCase()," "));return gu(n,t)};var wu=function(e){return yu("td th li dt dd figcaption caption details summary",e.getTextBlockElements())};var xu=function(e){var t={};var n,r;var o,a,i,u;var c=function(e,r,o){var a,i,u;var c=function(e,t){var n={};var r,o;for(r=0,o=e.length;r<o;r++){n[e[r]]=t||{}}return n};o=o||[];r=r||"";if(typeof o==="string"){o=bu(o)}var f=bu(e);a=f.length;while(a--){i=bu([n,r].join(" "));u={attributes:c(i),attributesOrder:i,children:c(o,vu)};t[f[a]]=u}};var f=function(e,n){var r,o,a,i;var u=bu(e);r=u.length;var c=bu(n);while(r--){o=t[u[r]];for(a=0,i=c.length;a<i;a++){o.attributes[c[a]]={};o.attributesOrder.push(c[a])}}};if(lu[e]){return lu[e]}n="id accesskey class dir lang style tabindex title role";r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul";o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd "+"label map noscript object q s samp script select small span strong sub sup "+"textarea u var #text #comment";if(e!=="html4"){n+=" contenteditable contextmenu draggable dropzone "+"hidden spellcheck translate";r+=" article aside details dialog figure main header footer hgroup section nav";o+=" audio canvas command datalist mark meter output picture "+"progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){n+=" xml:lang";u="acronym applet basefont big font strike tt";o=[o,u].join(" ");mu(bu(u),(function(e){c(e,"",o)}));i="center dir isindex noframes";r=[r,i].join(" ");a=[r,o].join(" ");mu(bu(i),(function(e){c(e,"",a)}))}a=a||[r,o].join(" ");c("html","manifest","head body");c("head","","base command link meta noscript script style title");c("title hr noscript br");c("base","href target");c("link","href rel media hreflang type sizes hreflang");c("meta","name http-equiv content charset");c("style","media type scoped");c("script","src async defer type charset");c("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus "+"onhashchange onload onmessage onoffline ononline onpagehide onpageshow "+"onpopstate onresize onscroll onstorage onunload",a);c("address dt dd div caption","",a);c("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o);c("blockquote","cite",a);c("ol","reversed start type","li");c("ul","","li");c("li","value",a);c("dl","","dt dd");c("a","href target rel media hreflang type",o);c("q","cite",o);c("ins del","cite datetime",a);c("img","src sizes srcset alt usemap ismap width height");c("iframe","src name width height",a);c("embed","src type width height");c("object","data type typemustmatch name usemap form width height",[a,"param"].join(" "));c("param","name value");c("map","name",[a,"area"].join(" "));c("area","alt coords shape href target rel media hreflang type");c("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":""));c("colgroup","span","col");c("col","span");c("tbody thead tfoot","","tr");c("tr","","td th");c("td","colspan rowspan headers",a);c("th","colspan rowspan headers scope abbr",a);c("form","accept-charset action autocomplete enctype method name novalidate target",a);c("fieldset","disabled form name",[a,"legend"].join(" "));c("label","form for",o);c("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate "+"formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");c("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?a:o);c("select","disabled form multiple name required size","option optgroup");c("optgroup","disabled label","option");c("option","disabled label selected value");c("textarea","cols dirname disabled form maxlength name readonly required rows wrap");c("menu","type label",[a,"li"].join(" "));c("noscript","",a);if(e!=="html4"){c("wbr");c("ruby","",[o,"rt rp"].join(" "));c("figcaption","",a);c("mark rt rp summary bdi","",o);c("canvas","width height",a);c("video","src crossorigin poster preload autoplay mediagroup loop "+"muted controls width height buffered",[a,"track source"].join(" "));c("audio","src crossorigin preload autoplay mediagroup loop muted controls "+"buffered volume",[a,"track source"].join(" "));c("picture","","img source");c("source","src srcset type media sizes");c("track","kind src srclang label default");c("datalist","",[o,"option"].join(" "));c("article section nav aside main header footer","",a);c("hgroup","","h1 h2 h3 h4 h5 h6");c("figure","",[a,"figcaption"].join(" "));c("time","datetime",o);c("dialog","open",a);c("command","type label icon disabled checked radiogroup command");c("output","for form name",o);c("progress","value max",o);c("meter","value min max low high optimum",o);c("details","open",[a,"summary"].join(" "));c("keygen","autofocus challenge disabled form keytype name")}if(e!=="html5-strict"){f("script","language xml:space");f("style","xml:space");f("object","declare classid code codebase codetype archive standby align border hspace vspace");f("embed","align name hspace vspace");f("param","valuetype type");f("a","charset name rev shape coords");f("br","clear");f("applet","codebase archive code object alt name width height align hspace vspace");f("img","name longdesc align border hspace vspace");f("iframe","longdesc frameborder marginwidth marginheight scrolling align");f("font basefont","size color face");f("input","usemap align");f("select");f("textarea");f("h1 h2 h3 h4 h5 h6 div p legend caption","align");f("ul","type compact");f("li","type");f("ol dl menu dir","compact");f("pre","width xml:space");f("hr","align noshade size width");f("isindex","prompt");f("table","summary width frame rules cellspacing cellpadding align bgcolor");f("col","width align char charoff valign");f("colgroup","width align char charoff valign");f("thead","align char charoff valign");f("tr","align char charoff valign bgcolor");f("th","axis align char charoff valign nowrap bgcolor width height");f("form","accept");f("td","abbr axis scope align char charoff valign nowrap bgcolor width height");f("tfoot","align char charoff valign");f("tbody","align char charoff valign");f("area","nohref");f("body","background bgcolor text link vlink alink")}if(e!=="html4"){f("input button select textarea","autofocus");f("input textarea","placeholder");f("a","download");f("link script img","crossorigin");f("img","loading");f("iframe","sandbox seamless allowfullscreen loading")}mu(bu("a form meter progress dfn"),(function(e){if(t[e]){delete t[e].children[e]}}));delete t.caption.children.table;delete t.script;lu[e]=t;return t};var Cu=function(e,t){var n;if(e){n={};if(typeof e==="string"){e={"*":e}}mu(e,(function(e,r){n[r]=n[r.toUpperCase()]=t==="map"?du(e,/[, ]/):hu(e,/[, ]/)}))}return n};var Su=function(e){var t={};var n={};var r=[];var o={},a={};var i=function(t,n,r){var o=e[t];if(!o){o=lu[t];if(!o){o=yu(n,r);lu[t]=o}}else{o=du(o,/[, ]/,du(o.toUpperCase(),/[, ]/))}return o};e=e||{};var u=xu(e.schema);if(e.verify_html===false){e.valid_elements="*[*]"}var c=Cu(e.valid_styles);var f=Cu(e.invalid_styles,"map");var s=Cu(e.valid_classes,"map");var l=i("whitespace_elements","pre script noscript style textarea video audio iframe object code");var v=i("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");var d=i("short_ended_elements","area base basefont br col frame hr img input isindex link "+"meta param embed source wbr track");var m=i("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize "+"noshade nowrap readonly selected autoplay loop controls");var g="td th iframe video audio object script code";var h=i("non_empty_elements",g+" pre",d);var p=i("move_caret_before_on_enter_elements",g+" table",d);var b=i("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form "+"blockquote center dir fieldset header footer article section hgroup aside main nav figure");var y=i("block_elements","hr table tbody thead tfoot "+"th tr td li ol ul caption dl dt dd noscript menu isindex option "+"datalist select optgroup figcaption details summary",b);var w=i("text_inline_elements","span strong b em i font s strike u var cite "+"dfn code mark q sup sub samp");mu((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),(function(e){a[e]=new RegExp("</"+e+"[^>]*>","gi")}));var x=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")};var C=function(e){var n,o,a,i,u,c,f,s,l,v,d,m,g,h,p,b,y,w;var C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,S=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/;if(e){var T=bu(e,",");if(t["@"]){b=t["@"].attributes;y=t["@"].attributesOrder}for(n=0,o=T.length;n<o;n++){u=C.exec(T[n]);if(u){h=u[1];l=u[2];p=u[3];s=u[5];m={};g=[];c={attributes:m,attributesOrder:g};if(h==="#"){c.paddEmpty=true}if(h==="-"){c.removeEmpty=true}if(u[4]==="!"){c.removeEmptyAttrs=true}if(b){Ce(b,(function(e,t){m[t]=e}));g.push.apply(g,y)}if(s){s=bu(s,"|");for(a=0,i=s.length;a<i;a++){u=S.exec(s[a]);if(u){f={};d=u[1];v=u[2].replace(/[\\:]:/g,":");h=u[3];w=u[4];if(d==="!"){c.attributesRequired=c.attributesRequired||[];c.attributesRequired.push(v);f.required=true}if(d==="-"){delete m[v];g.splice(pu(g,v),1);continue}if(h){if(h==="="){c.attributesDefault=c.attributesDefault||[];c.attributesDefault.push({name:v,value:w});f.defaultValue=w}if(h===":"){c.attributesForced=c.attributesForced||[];c.attributesForced.push({name:v,value:w});f.forcedValue=w}if(h==="<"){f.validValues=du(w,"?")}}if(k.test(v)){c.attributePatterns=c.attributePatterns||[];f.pattern=x(v);c.attributePatterns.push(f)}else{if(!m[v]){g.push(v)}m[v]=f}}}}if(!b&&l==="@"){b=m;y=g}if(p){c.outputName=l;t[p]=c}if(k.test(l)){c.pattern=x(l);r.push(c)}else{t[l]=c}}}}};var S=function(e){t={};r=[];C(e);mu(u,(function(e,t){n[t]=e.children}))};var k=function(e){var r=/^(~)?(.+)$/;if(e){lu.text_block_elements=lu.block_elements=null;mu(bu(e,","),(function(e){var a=r.exec(e),i=a[1]==="~",u=i?"span":"div",c=a[2];n[c]=n[u];o[c]=u;if(!i){y[c.toUpperCase()]={};y[c]={}}if(!t[c]){var f=t[u];f=gu({},f);delete f.removeEmptyAttrs;delete f.removeEmpty;t[c]=f}mu(n,(function(e,t){if(e[u]){n[t]=e=gu({},n[t]);e[c]=e[u]}}))}))}};var T=function(t){var r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;lu[e.schema]=null;if(t){mu(bu(t,","),(function(e){var t=r.exec(e);var o,a;if(t){a=t[1];if(a){o=n[t[2]]}else{o=n[t[2]]={"#comment":{}}}o=n[t[2]];mu(bu(t[3],"|"),(function(e){if(a==="-"){delete o[e]}else{o[e]={}}}))}}))}};var O=function(e){var n=t[e],o;if(n){return n}o=r.length;while(o--){n=r[o];if(n.pattern.test(e)){return n}}};if(!e.valid_elements){mu(u,(function(e,r){t[r]={attributes:e.attributes,attributesOrder:e.attributesOrder};n[r]=e.children}));if(e.schema!=="html5"){mu(bu("strong/b em/i"),(function(e){var n=bu(e,"/");t[n[1]].outputName=n[0]}))}mu(w,(function(n,r){if(t[r]){if(e.padd_empty_block_inline_children){t[r].paddInEmptyBlock=true}t[r].removeEmpty=true}}));mu(bu("ol ul blockquote a table tbody"),(function(e){if(t[e]){t[e].removeEmpty=true}}));mu(bu("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){t[e].paddEmpty=true}));mu(bu("span"),(function(e){t[e].removeEmptyAttrs=true}))}else{S(e.valid_elements)}k(e.custom_elements);T(e.valid_children);C(e.extended_valid_elements);T("+ol[ul|ol],+ul[ul|ol]");mu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,n){if(t[n]){t[n].parentsRequired=bu(e)}}));if(e.invalid_elements){mu(hu(e.invalid_elements),(function(e){if(t[e]){delete t[e]}}))}if(!O("span")){C("span[!data-mce-type|*]")}var _=A(c);var E=A(f);var D=A(s);var N=A(m);var M=A(y);var R=A(b);var z=A(w);var B=A(d);var P=A(v);var L=A(h);var H=A(p);var I=A(l);var F=A(a);var V=function(e,t){var r=n[e.toLowerCase()];return!!(r&&r[t.toLowerCase()])};var U=function(e,t){var n,r;var o=O(e);if(o){if(t){if(o.attributes[t]){return true}n=o.attributePatterns;if(n){r=n.length;while(r--){if(n[r].pattern.test(e)){return true}}}}else{return true}}return false};var j=A(o);return{children:n,elements:t,getValidStyles:_,getValidClasses:D,getBlockElements:M,getInvalidStyles:E,getShortEndedElements:B,getTextBlockElements:R,getTextInlineElements:z,getBoolAttrs:N,getElementRule:O,getSelfClosingElements:P,getNonEmptyElements:L,getMoveCaretBeforeOnEnterElements:H,getWhiteSpaceElements:I,getSpecialElements:F,isValidChild:V,isValid:U,getCustomElements:j,addValidElements:C,setValidElements:S,addCustomElements:k,addValidChildren:T}};var ku=function(e,t,n,r){var o=function(e){e=parseInt(e,10).toString(16);return e.length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)};var Tu=function(e,t){var n=this;var r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi;var o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi;var a=/\s*([^:]+):\s*([^;]+);?/g;var i=/\s+$/;var u;var c={};var f;var s;var l=Wa;e=e||{};if(t){f=t.getValidStyles();s=t.getInvalidStyles()}var v=("\\\" \\' \\; \\: ; : "+l).split(" ");for(u=0;u<v.length;u++){c[v[u]]=l+u;c[l+u]=v[u]}return{toHex:function(e){return e.replace(r,ku)},parse:function(t){var f={};var s,v,d,m;var g=e.url_converter;var h=e.url_converter_scope||n;var p=function(e,t,n){var r=f[e+"-top"+t];if(!r){return}var o=f[e+"-right"+t];if(!o){return}var a=f[e+"-bottom"+t];if(!a){return}var i=f[e+"-left"+t];if(!i){return}var c=[r,o,a,i];u=c.length-1;while(u--){if(c[u]!==c[u+1]){break}}if(u>-1&&n){return}f[e+t]=u===-1?c[0]:c.join(" ");delete f[e+"-top"+t];delete f[e+"-right"+t];delete f[e+"-bottom"+t];delete f[e+"-left"+t]};var b=function(e){var t=f[e],n;if(!t){return}t=t.split(" ");n=t.length;while(n--){if(t[n]!==t[0]){return false}}f[e]=t[0];return true};var y=function(e,t,n,r){if(!b(t)){return}if(!b(n)){return}if(!b(r)){return}f[e]=f[t]+" "+f[n]+" "+f[r];delete f[t];delete f[n];delete f[r]};var w=function(e){m=true;return c[e]};var x=function(e,t){if(m){e=e.replace(/\uFEFF[0-9]/g,(function(e){return c[e]}))}if(!t){e=e.replace(/\\([\'\";:])/g,"$1")}return e};var C=function(e){return String.fromCharCode(parseInt(e.slice(1),16))};var S=function(e){return e.replace(/\\[0-9a-f]+/gi,C)};var k=function(t,n,r,o,a,i){a=a||i;if(a){a=x(a);return"'"+a.replace(/\'/g,"\\'")+"'"}n=x(n||r||o);if(!e.allow_script_urls){var u=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u)){return""}if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(u)){return""}}if(g){n=g.call(h,n,"style")}return"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){t=t.replace(/[\u0000-\u001F]/g,"");t=t.replace(/\\[\"\';:\uFEFF]/g,w).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,w)}));while(s=a.exec(t)){a.lastIndex=s.index+s[0].length;v=s[1].replace(i,"").toLowerCase();d=s[2].replace(i,"");if(v&&d){v=S(v);d=S(d);if(v.indexOf(l)!==-1||v.indexOf('"')!==-1){continue}if(!e.allow_script_urls&&(v==="behavior"||/expression\s*\(|\/\*|\*\//.test(d))){continue}if(v==="font-weight"&&d==="700"){d="bold"}else if(v==="color"||v==="background-color"){d=d.toLowerCase()}d=d.replace(r,ku);d=d.replace(o,k);f[v]=m?x(d,true):d}}p("border","",true);p("border","-width");p("border","-color");p("border","-style");p("padding","");p("margin","");y("border","border-width","border-style","border-color");if(f.border==="medium none"){delete f.border}if(f["border-image"]==="none"){delete f["border-image"]}}return f},serialize:function(e,t){var n="";var r=function(t){var r;var o=f[t];if(o){for(var a=0,i=o.length;a<i;a++){t=o[a];r=e[t];if(r){n+=(n.length>0?" ":"")+t+": "+r+";"}}}};var o=function(e,t){var n=s["*"];if(n&&n[e]){return false}n=s[t];return!(n&&n[e])};if(t&&f){r("*");r(t)}else{Ce(e,(function(e,r){if(e&&(!s||o(r,t))){n+=(n.length>0?" ":"")+r+": "+e+";"}}))}return n}}};var Ou={keyLocation:true,layerX:true,layerY:true,returnValue:true,webkitMovementX:true,webkitMovementY:true,keyIdentifier:true,mozPressure:true};var _u=function(e){return e instanceof Event||T(e.initEvent)};var Eu=function(e){return e.isDefaultPrevented===I||e.isDefaultPrevented===H};var Du=function(e){return S(e.preventDefault)||_u(e)};var Au=function(e,t){var n=t!==null&&t!==void 0?t:{};for(var r in e){if(!Me(Ou,r)){n[r]=e[r]}}if(k(n.composedPath)){n.composedPath=function(){return e.composedPath()}}return n};var Nu=function(e,t,n,r){var o;var a=Au(t,r);a.type=e;if(S(a.target)){a.target=(o=a.srcElement)!==null&&o!==void 0?o:n}if(Du(t)){a.preventDefault=function(){a.defaultPrevented=true;a.isDefaultPrevented=I;if(T(t.preventDefault)){t.preventDefault()}else if(_u(t)){t.returnValue=false}};a.stopPropagation=function(){a.cancelBubble=true;a.isPropagationStopped=I;if(T(t.stopPropagation)){t.stopPropagation()}else if(_u(t)){t.cancelBubble=true}};a.stopImmediatePropagation=function(){a.isImmediatePropagationStopped=I;a.stopPropagation()};if(!Eu(a)){a.isDefaultPrevented=a.defaultPrevented===true?I:H;a.isPropagationStopped=a.cancelBubble===true?I:H;a.isImmediatePropagationStopped=H}}return a};var Mu="mce-data-";var Ru=/^(?:mouse|contextmenu)|click/;var zu=function(e,t,n,r){if(e.addEventListener){e.addEventListener(t,n,r||false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}};var Bu=function(e,t,n,r){if(e.removeEventListener){e.removeEventListener(t,n,r||false)}else if(e.detachEvent){e.detachEvent("on"+t,n)}};var Pu=function(e){return k(e)&&Ru.test(e.type)};var Lu=function(e,t){var n=Nu(e.type,e,document,t);if(Pu(e)&&C(e.pageX)&&!C(e.clientX)){var r=n.target.ownerDocument||document;var o=r.documentElement;var a=r.body;var i=n;i.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0);i.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}if(C(n.metaKey)){n.metaKey=false}return n};var Hu=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded){t(o);return}var a=function(){return r.readyState==="complete"||r.readyState==="interactive"&&r.body};var i=function(){Bu(e,"DOMContentLoaded",i);Bu(e,"load",i);if(!n.domLoaded){n.domLoaded=true;t(o)}e=null};if(a()){i()}else{zu(e,"DOMContentLoaded",i)}if(!n.domLoaded){zu(e,"load",i)}};var Iu=function(){function e(){this.domLoaded=false;this.events={};this.count=1;this.expando=Mu+(+new Date).toString(32);this.hasMouseEnterLeave="onmouseenter"in document.documentElement;this.hasFocusIn="onfocusin"in document.documentElement;this.count=1}e.prototype.bind=function(e,t,n,r){var o=this;var a,i,u,c,f,s,l;var v=window;var d=function(e){o.executeHandlers(Lu(e||v.event),a)};if(!e||e.nodeType===3||e.nodeType===8){return}if(!e[o.expando]){a=o.count++;e[o.expando]=a;o.events[a]={}}else{a=e[o.expando]}r=r||e;var m=t.split(" ");u=m.length;while(u--){c=m[u];s=d;f=l=false;if(c==="DOMContentLoaded"){c="ready"}if(o.domLoaded&&c==="ready"&&e.readyState==="complete"){n.call(r,Lu({type:c}));continue}if(!o.hasMouseEnterLeave){f=o.mouseEnterLeave[c];if(f){s=function(e){var t=e.currentTarget;var n=e.relatedTarget;if(n&&t.contains){n=t.contains(n)}else{while(n&&n!==t){n=n.parentNode}}if(!n){e=Lu(e||v.event);e.type=e.type==="mouseout"?"mouseleave":"mouseenter";e.target=t;o.executeHandlers(e,a)}}}}if(!o.hasFocusIn&&(c==="focusin"||c==="focusout")){l=true;f=c==="focusin"?"focus":"blur";s=function(e){e=Lu(e||v.event);e.type=e.type==="focus"?"focusin":"focusout";o.executeHandlers(e,a)}}i=o.events[a][c];if(!i){o.events[a][c]=i=[{func:n,scope:r}];i.fakeName=f;i.capture=l;i.nativeHandler=s;if(c==="ready"){Hu(e,s,o)}else{zu(e,f||c,s,l)}}else{if(c==="ready"&&o.domLoaded){n(Lu({type:c}))}else{i.push({func:n,scope:r})}}}e=i=null;return n};e.prototype.unbind=function(e,t,n){var r,o,a,i,u;if(!e||e.nodeType===3||e.nodeType===8){return this}var c=e[this.expando];if(c){u=this.events[c];if(t){var f=t.split(" ");o=f.length;while(o--){i=f[o];r=u[i];if(r){if(n){a=r.length;while(a--){if(r[a].func===n){var s=r.nativeHandler;var l=r.fakeName,v=r.capture;r=r.slice(0,a).concat(r.slice(a+1));r.nativeHandler=s;r.fakeName=l;r.capture=v;u[i]=r}}}if(!n||r.length===0){delete u[i];Bu(e,r.fakeName||i,r.nativeHandler,r.capture)}}}}else{Ce(u,(function(t,n){Bu(e,t.fakeName||n,t.nativeHandler,t.capture)}));u={}}for(i in u){if(Me(u,i)){return this}}delete this.events[c];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this};e.prototype.fire=function(e,t,n){var r;if(!e||e.nodeType===3||e.nodeType===8){return this}var o=Lu({type:t,target:e},n);do{r=e[this.expando];if(r){this.executeHandlers(o,r)}e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this};e.prototype.clean=function(e){var t,n;if(!e||e.nodeType===3||e.nodeType===8){return this}if(e[this.expando]){this.unbind(e)}if(!e.getElementsByTagName){e=e.document}if(e&&e.getElementsByTagName){this.unbind(e);n=e.getElementsByTagName("*");t=n.length;while(t--){e=n[t];if(e[this.expando]){this.unbind(e)}}}return this};e.prototype.destroy=function(){this.events={}};e.prototype.cancel=function(e){if(e){e.preventDefault();e.stopImmediatePropagation()}return false};e.prototype.executeHandlers=function(e,t){var n=this.events[t];var r=n&&n[e.type];if(r){for(var o=0,a=r.length;o<a;o++){var i=r[o];if(i&&i.func.call(i.scope,e)===false){e.preventDefault()}if(e.isImmediatePropagationStopped()){return}}}};e.Event=new e;return e}();var Fu,Vu,Uu,ju,Wu,qu,Gu,$u,Ku,Xu,Yu,Ju,Qu,Zu,ec,tc,nc,rc,oc="sizzle"+-new Date,ac=window.document,ic=0,uc=0,cc=Uc(),fc=Uc(),sc=Uc(),lc=function(e,t){if(e===t){Xu=true}return 0},vc=typeof undefined,dc=1<<31,mc={}.hasOwnProperty,gc=[],hc=gc.pop,pc=gc.push,bc=gc.push,yc=gc.slice,wc=gc.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++){if(this[t]===e){return t}}return-1},xc="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Cc="[\\x20\\t\\r\\n\\f]",Sc="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",kc="\\["+Cc+"*("+Sc+")(?:"+Cc+"*([*^$|!~]?=)"+Cc+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Sc+"))|)"+Cc+"*\\]",Tc=":("+Sc+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+kc+")*)|"+".*"+")\\)|)",Oc=new RegExp("^"+Cc+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Cc+"+$","g"),_c=new RegExp("^"+Cc+"*,"+Cc+"*"),Ec=new RegExp("^"+Cc+"*([>+~]|"+Cc+")"+Cc+"*"),Dc=new RegExp("="+Cc+"*([^\\]'\"]*?)"+Cc+"*\\]","g"),Ac=new RegExp(Tc),Nc=new RegExp("^"+Sc+"$"),Mc={ID:new RegExp("^#("+Sc+")"),CLASS:new RegExp("^\\.("+Sc+")"),TAG:new RegExp("^("+Sc+"|[*])"),ATTR:new RegExp("^"+kc),PSEUDO:new RegExp("^"+Tc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Cc+"*(even|odd|(([+-]|)(\\d*)n|)"+Cc+"*(?:([+-]|)"+Cc+"*(\\d+)|))"+Cc+"*\\)|)","i"),bool:new RegExp("^(?:"+xc+")$","i"),needsContext:new RegExp("^"+Cc+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Cc+"*((?:-\\d)?\\d*)"+Cc+"*\\)|)(?=[^-]|$)","i")},Rc=/^(?:input|select|textarea|button)$/i,zc=/^h\d$/i,Bc=/^[^{]+\{\s*\[native \w/,Pc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Lc=/[+~]/,Hc=/'|\\/g,Ic=new RegExp("\\\\([\\da-f]{1,6}"+Cc+"?|("+Cc+")|.)","ig"),Fc=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{bc.apply(gc=yc.call(ac.childNodes),ac.childNodes);gc[ac.childNodes.length].nodeType}catch(e){bc={apply:gc.length?function(e,t){pc.apply(e,yc.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]){}e.length=n-1}}}var Vc=function(e,t,n,r){var o,a,i,u,c,f,s,l,v,d;if((t?t.ownerDocument||t:ac)!==Ju){Yu(t)}t=t||Ju;n=n||[];if(!e||typeof e!=="string"){return n}if((u=t.nodeType)!==1&&u!==9){return[]}if(Zu&&!r){if(o=Pc.exec(e)){if(i=o[1]){if(u===9){a=t.getElementById(i);if(a&&a.parentNode){if(a.id===i){n.push(a);return n}}else{return n}}else{if(t.ownerDocument&&(a=t.ownerDocument.getElementById(i))&&rc(t,a)&&a.id===i){n.push(a);return n}}}else if(o[2]){bc.apply(n,t.getElementsByTagName(e));return n}else if((i=o[3])&&Fu.getElementsByClassName){bc.apply(n,t.getElementsByClassName(i));return n}}if(Fu.qsa&&(!ec||!ec.test(e))){l=s=oc;v=t;d=u===9&&e;if(u===1&&t.nodeName.toLowerCase()!=="object"){f=Wu(e);if(s=t.getAttribute("id")){l=s.replace(Hc,"\\$&")}else{t.setAttribute("id",l)}l="[id='"+l+"'] ";c=f.length;while(c--){f[c]=l+Yc(f[c])}v=Lc.test(e)&&Kc(t.parentNode)||t;d=f.join(",")}if(d){try{bc.apply(n,v.querySelectorAll(d));return n}catch(e){}finally{if(!s){t.removeAttribute("id")}}}}}return Gu(e.replace(Oc,"$1"),t,n,r)};function Uc(){var e=[];function t(n,r){if(e.push(n+" ")>Vu.cacheLength){delete t[e.shift()]}return t[n+" "]=r}return t}function jc(e){e[oc]=true;return e}function Wc(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||dc)-(~e.sourceIndex||dc);if(r){return r}if(n){while(n=n.nextSibling){if(n===t){return-1}}}return e?1:-1}function qc(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function Gc(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function $c(e){return jc((function(t){t=+t;return jc((function(n,r){var o,a=e([],n.length,t),i=a.length;while(i--){if(n[o=a[i]]){n[o]=!(r[o]=n[o])}}}))}))}function Kc(e){return e&&typeof e.getElementsByTagName!==vc&&e}Fu=Vc.support={};ju=Vc.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":false};Yu=Vc.setDocument=function(e){var t,n=e?e.ownerDocument||e:ac,r=n.defaultView;function o(e){try{return e.top}catch(e){}return null}if(n===Ju||n.nodeType!==9||!n.documentElement){return Ju}Ju=n;Qu=n.documentElement;Zu=!ju(n);if(r&&r!==o(r)){if(r.addEventListener){r.addEventListener("unload",(function(){Yu()}),false)}else if(r.attachEvent){r.attachEvent("onunload",(function(){Yu()}))}}Fu.attributes=true;Fu.getElementsByTagName=true;Fu.getElementsByClassName=Bc.test(n.getElementsByClassName);Fu.getById=true;Vu.find.ID=function(e,t){if(typeof t.getElementById!==vc&&Zu){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}};Vu.filter.ID=function(e){var t=e.replace(Ic,Fc);return function(e){return e.getAttribute("id")===t}};Vu.find.TAG=Fu.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==vc){return t.getElementsByTagName(e)}}:function(e,t){var n,r=[],o=0,a=t.getElementsByTagName(e);if(e==="*"){while(n=a[o++]){if(n.nodeType===1){r.push(n)}}return r}return a};Vu.find.CLASS=Fu.getElementsByClassName&&function(e,t){if(Zu){return t.getElementsByClassName(e)}};tc=[];ec=[];Fu.disconnectedMatch=true;ec=ec.length&&new RegExp(ec.join("|"));tc=tc.length&&new RegExp(tc.join("|"));t=Bc.test(Qu.compareDocumentPosition);rc=t||Bc.test(Qu.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return true}}}return false};lc=t?function(e,t){if(e===t){Xu=true;return 0}var r=!e.compareDocumentPosition-!t.compareDocumentPosition;if(r){return r}r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1;if(r&1||!Fu.sortDetached&&t.compareDocumentPosition(e)===r){if(e===n||e.ownerDocument===ac&&rc(ac,e)){return-1}if(t===n||t.ownerDocument===ac&&rc(ac,t)){return 1}return Ku?wc.call(Ku,e)-wc.call(Ku,t):0}return r&4?-1:1}:function(e,t){if(e===t){Xu=true;return 0}var r,o=0,a=e.parentNode,i=t.parentNode,u=[e],c=[t];if(!a||!i){return e===n?-1:t===n?1:a?-1:i?1:Ku?wc.call(Ku,e)-wc.call(Ku,t):0}else if(a===i){return Wc(e,t)}r=e;while(r=r.parentNode){u.unshift(r)}r=t;while(r=r.parentNode){c.unshift(r)}while(u[o]===c[o]){o++}return o?Wc(u[o],c[o]):u[o]===ac?-1:c[o]===ac?1:0};return n};Vc.matches=function(e,t){return Vc(e,null,null,t)};Vc.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Ju){Yu(e)}t=t.replace(Dc,"='$1']");if(Fu.matchesSelector&&Zu&&(!tc||!tc.test(t))&&(!ec||!ec.test(t))){try{var n=nc.call(e,t);if(n||Fu.disconnectedMatch||e.document&&e.document.nodeType!==11){return n}}catch(e){}}return Vc(t,Ju,null,[e]).length>0};Vc.contains=function(e,t){if((e.ownerDocument||e)!==Ju){Yu(e)}return rc(e,t)};Vc.attr=function(e,t){if((e.ownerDocument||e)!==Ju){Yu(e)}var n=Vu.attrHandle[t.toLowerCase()],r=n&&mc.call(Vu.attrHandle,t.toLowerCase())?n(e,t,!Zu):undefined;return r!==undefined?r:Fu.attributes||!Zu?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null};Vc.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};Vc.uniqueSort=function(e){var t,n=[],r=0,o=0;Xu=!Fu.detectDuplicates;Ku=!Fu.sortStable&&e.slice(0);e.sort(lc);if(Xu){while(t=e[o++]){if(t===e[o]){r=n.push(o)}}while(r--){e.splice(n[r],1)}}Ku=null;return e};Uu=Vc.getText=function(e){var t,n="",r=0,o=e.nodeType;if(!o){while(t=e[r++]){n+=Uu(t)}}else if(o===1||o===9||o===11){if(typeof e.textContent==="string"){return e.textContent}else{for(e=e.firstChild;e;e=e.nextSibling){n+=Uu(e)}}}else if(o===3||o===4){return e.nodeValue}return n};Vu=Vc.selectors={cacheLength:50,createPseudo:jc,match:Mc,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(Ic,Fc);e[3]=(e[3]||e[4]||e[5]||"").replace(Ic,Fc);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){Vc.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+(e[7]+e[8]||e[3]==="odd")}else if(e[3]){Vc.error(e[0])}return e},PSEUDO:function(e){var t,n=!e[6]&&e[2];if(Mc.CHILD.test(e[0])){return null}if(e[3]){e[2]=e[4]||e[5]||""}else if(n&&Ac.test(n)&&(t=Wu(n,true))&&(t=n.indexOf(")",n.length-t)-n.length)){e[0]=e[0].slice(0,t);e[2]=n.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(Ic,Fc).toLowerCase();return e==="*"?function(){return true}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=cc[e+" "];return t||(t=new RegExp("(^|"+Cc+")"+e+"("+Cc+"|$)"))&&cc(e,(function(e){return t.test(typeof e.className==="string"&&e.className||typeof e.getAttribute!==vc&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=Vc.attr(r,e);if(o==null){return t==="!="}if(!t){return true}o+="";return t==="="?o===n:t==="!="?o!==n:t==="^="?n&&o.indexOf(n)===0:t==="*="?n&&o.indexOf(n)>-1:t==="$="?n&&o.slice(-n.length)===n:t==="~="?(" "+o+" ").indexOf(n)>-1:t==="|="?o===n||o.slice(0,n.length+1)===n+"-":false}},CHILD:function(e,t,n,r,o){var a=e.slice(0,3)!=="nth",i=e.slice(-4)!=="last",u=t==="of-type";return r===1&&o===0?function(e){return!!e.parentNode}:function(t,n,c){var f,s,l,v,d,m,g=a!==i?"nextSibling":"previousSibling",h=t.parentNode,p=u&&t.nodeName.toLowerCase(),b=!c&&!u;if(h){if(a){while(g){l=t;while(l=l[g]){if(u?l.nodeName.toLowerCase()===p:l.nodeType===1){return false}}m=g=e==="only"&&!m&&"nextSibling"}return true}m=[i?h.firstChild:h.lastChild];if(i&&b){s=h[oc]||(h[oc]={});f=s[e]||[];d=f[0]===ic&&f[1];v=f[0]===ic&&f[2];l=d&&h.childNodes[d];while(l=++d&&l&&l[g]||(v=d=0)||m.pop()){if(l.nodeType===1&&++v&&l===t){s[e]=[ic,d,v];break}}}else if(b&&(f=(t[oc]||(t[oc]={}))[e])&&f[0]===ic){v=f[1]}else{while(l=++d&&l&&l[g]||(v=d=0)||m.pop()){if((u?l.nodeName.toLowerCase()===p:l.nodeType===1)&&++v){if(b){(l[oc]||(l[oc]={}))[e]=[ic,v]}if(l===t){break}}}}v-=o;return v===r||v%r===0&&v/r>=0}}},PSEUDO:function(e,t){var n,r=Vu.pseudos[e]||Vu.setFilters[e.toLowerCase()]||Vc.error("unsupported pseudo: "+e);if(r[oc]){return r(t)}if(r.length>1){n=[e,e,"",t];return Vu.setFilters.hasOwnProperty(e.toLowerCase())?jc((function(e,n){var o,a=r(e,t),i=a.length;while(i--){o=wc.call(e,a[i]);e[o]=!(n[o]=a[i])}})):function(e){return r(e,0,n)}}return r}},pseudos:{not:jc((function(e){var t=[],n=[],r=qu(e.replace(Oc,"$1"));return r[oc]?jc((function(e,t,n,o){var a,i=r(e,null,o,[]),u=e.length;while(u--){if(a=i[u]){e[u]=!(t[u]=a)}}})):function(e,o,a){t[0]=e;r(t,null,a,n);t[0]=null;return!n.pop()}})),has:jc((function(e){return function(t){return Vc(e,t).length>0}})),contains:jc((function(e){e=e.replace(Ic,Fc);return function(t){return(t.textContent||t.innerText||Uu(t)).indexOf(e)>-1}})),lang:jc((function(e){if(!Nc.test(e||"")){Vc.error("unsupported lang: "+e)}e=e.replace(Ic,Fc).toLowerCase();return function(t){var n;do{if(n=Zu?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){n=n.toLowerCase();return n===e||n.indexOf(e+"-")===0}}while((t=t.parentNode)&&t.nodeType===1);return false}})),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===Qu},focus:function(e){return e===Ju.activeElement&&(!Ju.hasFocus||Ju.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return false}}return true},parent:function(e){return!Vu.pseudos.empty(e)},header:function(e){return zc.test(e.nodeName)},input:function(e){return Rc.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:$c((function(){return[0]})),last:$c((function(e,t){return[t-1]})),eq:$c((function(e,t,n){return[n<0?n+t:n]})),even:$c((function(e,t){var n=0;for(;n<t;n+=2){e.push(n)}return e})),odd:$c((function(e,t){var n=1;for(;n<t;n+=2){e.push(n)}return e})),lt:$c((function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;){e.push(r)}return e})),gt:$c((function(e,t,n){var r=n<0?n+t:n;for(;++r<t;){e.push(r)}return e}))}};Vu.pseudos.nth=Vu.pseudos.eq;Z(["radio","checkbox","file","password","image"],(function(e){Vu.pseudos[e]=qc(e)}));Z(["submit","reset"],(function(e){Vu.pseudos[e]=Gc(e)}));function Xc(){}Xc.prototype=Vu.filters=Vu.pseudos;Vu.setFilters=new Xc;Wu=Vc.tokenize=function(e,t){var n,r,o,a,i,u,c,f=fc[e+" "];if(f){return t?0:f.slice(0)}i=e;u=[];c=Vu.preFilter;while(i){if(!n||(r=_c.exec(i))){if(r){i=i.slice(r[0].length)||i}u.push(o=[])}n=false;if(r=Ec.exec(i)){n=r.shift();o.push({value:n,type:r[0].replace(Oc," ")});i=i.slice(n.length)}for(a in Vu.filter){if(!Vu.filter.hasOwnProperty(a)){continue}if((r=Mc[a].exec(i))&&(!c[a]||(r=c[a](r)))){n=r.shift();o.push({value:n,type:a,matches:r});i=i.slice(n.length)}}if(!n){break}}return t?i.length:i?Vc.error(e):fc(e,u).slice(0)};function Yc(e){var t=0,n=e.length,r="";for(;t<n;t++){r+=e[t].value}return r}function Jc(e,t,n){var r=t.dir,o=n&&r==="parentNode",a=uc++;return t.first?function(t,n,a){while(t=t[r]){if(t.nodeType===1||o){return e(t,n,a)}}}:function(t,n,i){var u,c,f=[ic,a];if(i){while(t=t[r]){if(t.nodeType===1||o){if(e(t,n,i)){return true}}}}else{while(t=t[r]){if(t.nodeType===1||o){c=t[oc]||(t[oc]={});if((u=c[r])&&u[0]===ic&&u[1]===a){return f[2]=u[2]}else{c[r]=f;if(f[2]=e(t,n,i)){return true}}}}}}}function Qc(e){return e.length>1?function(t,n,r){var o=e.length;while(o--){if(!e[o](t,n,r)){return false}}return true}:e[0]}function Zc(e,t,n){var r=0,o=t.length;for(;r<o;r++){Vc(e,t[r],n)}return n}function ef(e,t,n,r,o){var a,i=[],u=0,c=e.length,f=t!=null;for(;u<c;u++){if(a=e[u]){if(!n||n(a,r,o)){i.push(a);if(f){t.push(u)}}}}return i}function tf(e,t,n,r,o,a){if(r&&!r[oc]){r=tf(r)}if(o&&!o[oc]){o=tf(o,a)}return jc((function(a,i,u,c){var f,s,l,v=[],d=[],m=i.length,g=a||Zc(t||"*",u.nodeType?[u]:u,[]),h=e&&(a||!t)?ef(g,v,e,u,c):g,p=n?o||(a?e:m||r)?[]:i:h;if(n){n(h,p,u,c)}if(r){f=ef(p,d);r(f,[],u,c);s=f.length;while(s--){if(l=f[s]){p[d[s]]=!(h[d[s]]=l)}}}if(a){if(o||e){if(o){f=[];s=p.length;while(s--){if(l=p[s]){f.push(h[s]=l)}}o(null,p=[],f,c)}s=p.length;while(s--){if((l=p[s])&&(f=o?wc.call(a,l):v[s])>-1){a[f]=!(i[f]=l)}}}}else{p=ef(p===i?p.splice(m,p.length):p);if(o){o(null,i,p,c)}else{bc.apply(i,p)}}}))}function nf(e){var t,n,r,o=e.length,a=Vu.relative[e[0].type],i=a||Vu.relative[" "],u=a?1:0,c=Jc((function(e){return e===t}),i,true),f=Jc((function(e){return wc.call(t,e)>-1}),i,true),s=[function(e,n,r){var o=!a&&(r||n!==$u)||((t=n).nodeType?c(e,n,r):f(e,n,r));t=null;return o}];for(;u<o;u++){if(n=Vu.relative[e[u].type]){s=[Jc(Qc(s),n)]}else{n=Vu.filter[e[u].type].apply(null,e[u].matches);if(n[oc]){r=++u;for(;r<o;r++){if(Vu.relative[e[r].type]){break}}return tf(u>1&&Qc(s),u>1&&Yc(e.slice(0,u-1).concat({value:e[u-2].type===" "?"*":""})).replace(Oc,"$1"),n,u<r&&nf(e.slice(u,r)),r<o&&nf(e=e.slice(r)),r<o&&Yc(e))}s.push(n)}}return Qc(s)}function rf(e,t){var n=t.length>0,r=e.length>0,o=function(o,a,i,u,c){var f,s,l,v=0,d="0",m=o&&[],g=[],h=$u,p=o||r&&Vu.find.TAG("*",c),b=ic+=h==null?1:Math.random()||.1,y=p.length;if(c){$u=a!==Ju&&a}for(;d!==y&&(f=p[d])!=null;d++){if(r&&f){s=0;while(l=e[s++]){if(l(f,a,i)){u.push(f);break}}if(c){ic=b}}if(n){if(f=!l&&f){v--}if(o){m.push(f)}}}v+=d;if(n&&d!==v){s=0;while(l=t[s++]){l(m,g,a,i)}if(o){if(v>0){while(d--){if(!(m[d]||g[d])){g[d]=hc.call(u)}}}g=ef(g)}bc.apply(u,g);if(c&&!o&&g.length>0&&v+t.length>1){Vc.uniqueSort(u)}}if(c){ic=b;$u=h}return m};return n?jc(o):o}qu=Vc.compile=function(e,t){var n,r=[],o=[],a=sc[e+" "];if(!a){if(!t){t=Wu(e)}n=t.length;while(n--){a=nf(t[n]);if(a[oc]){r.push(a)}else{o.push(a)}}a=sc(e,rf(o,r));a.selector=e}return a};Gu=Vc.select=function(e,t,n,r){var o,a,i,u,c,f=typeof e==="function"&&e,s=!r&&Wu(e=f.selector||e);n=n||[];if(s.length===1){a=s[0]=s[0].slice(0);if(a.length>2&&(i=a[0]).type==="ID"&&Fu.getById&&t.nodeType===9&&Zu&&Vu.relative[a[1].type]){t=(Vu.find.ID(i.matches[0].replace(Ic,Fc),t)||[])[0];if(!t){return n}else if(f){t=t.parentNode}e=e.slice(a.shift().value.length)}o=Mc.needsContext.test(e)?0:a.length;while(o--){i=a[o];if(Vu.relative[u=i.type]){break}if(c=Vu.find[u]){if(r=c(i.matches[0].replace(Ic,Fc),Lc.test(a[0].type)&&Kc(t.parentNode)||t)){a.splice(o,1);e=r.length&&Yc(a);if(!e){bc.apply(n,r);return n}break}}}}(f||qu(e,s))(r,t,!Zu,n,Lc.test(e)&&Kc(t.parentNode)||t);return n};Fu.sortStable=oc.split("").sort(lc).join("")===oc;Fu.detectDuplicates=!!Xu;Yu();Fu.sortDetached=true;var of=document;var af=Array.prototype.push;var uf=Array.prototype.slice;var cf=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;var ff=Iu.Event;var sf=mn.makeMap("children,contents,next,prev");var lf=function(e){return typeof e!=="undefined"};var vf=function(e){return typeof e==="string"};var df=function(e){return e&&e===e.window};var mf=function(e,t){t=t||of;var n=t.createElement("div");var r=t.createDocumentFragment();n.innerHTML=e;var o;while(o=n.firstChild){r.appendChild(o)}return r};var gf=function(e,t,n,r){var o;if(vf(t)){t=mf(t,Af(e[0]))}else if(t.length&&!t.nodeType){t=zf.makeArray(t);if(r){for(o=t.length-1;o>=0;o--){gf(e,t[o],n,r)}}else{for(o=0;o<t.length;o++){gf(e,t[o],n,r)}}return e}if(t.nodeType){o=e.length;while(o--){n.call(e[o],t)}}return e};var hf=function(e,t){return e&&t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1};var pf=function(e,t,n){var r,o;t=zf(t)[0];e.each((function(){var e=this;if(!n||r!==e.parentNode){r=e.parentNode;o=t.cloneNode(false);e.parentNode.insertBefore(o,e);o.appendChild(e)}else{o.appendChild(e)}}));return e};var bf=mn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");var yf=mn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," ");var wf={for:"htmlFor",class:"className",readonly:"readOnly"};var xf={float:"cssFloat"};var Cf={},Sf={};var kf=function(e,t){return new zf.fn.init(e,t)};var Tf=function(e,t){var n;if(t.indexOf){return t.indexOf(e)}n=t.length;while(n--){if(t[n]===e){return n}}return-1};var Of=/^\s*|\s*$/g;var _f=function(e){return e===null||e===undefined?"":(""+e).replace(Of,"")};var Ef=function(e,t){var n,r,o,a;if(e){n=e.length;if(n===undefined){for(r in e){if(e.hasOwnProperty(r)){a=e[r];if(t.call(a,r,a)===false){break}}}}else{for(o=0;o<n;o++){a=e[o];if(t.call(a,o,a)===false){break}}}}return e};var Df=function(e,t){var n=[];Ef(e,(function(e,r){if(t(r,e)){n.push(r)}}));return n};var Af=function(e){if(!e){return of}if(e.nodeType===9){return e}return e.ownerDocument};kf.fn=kf.prototype={constructor:kf,selector:"",context:null,length:0,init:function(e,t){var n=this;var r,o;if(!e){return n}if(e.nodeType){n.context=n[0]=e;n.length=1;return n}if(t&&t.nodeType){n.context=t}else{if(t){return zf(e).attr(t)}n.context=t=document}if(vf(e)){n.selector=e;if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){r=[null,e,null]}else{r=cf.exec(e)}if(r){if(r[1]){o=mf(e,Af(t)).firstChild;while(o){af.call(n,o);o=o.nextSibling}}else{o=Af(t).getElementById(r[2]);if(!o){return n}if(o.id!==r[2]){return n.find(e)}n.length=1;n[0]=o}}else{return zf(t).find(e)}}else{this.add(e,false)}return n},toArray:function(){return mn.toArray(this)},add:function(e,t){var n=this;var r,o;if(vf(e)){return n.add(zf(e))}if(t!==false){r=zf.unique(n.toArray().concat(zf.makeArray(e)));n.length=r.length;for(o=0;o<r.length;o++){n[o]=r[o]}}else{af.apply(n,zf.makeArray(e))}return n},attr:function(e,t){var n=this;var r;if(typeof e==="object"){Ef(e,(function(e,t){n.attr(e,t)}))}else if(lf(t)){this.each((function(){var n;if(this.nodeType===1){n=Cf[e];if(n&&n.set){n.set(this,t);return}if(t===null){this.removeAttribute(e,2)}else{this.setAttribute(e,t,2)}}}))}else{if(n[0]&&n[0].nodeType===1){r=Cf[e];if(r&&r.get){return r.get(n[0],e)}if(yf[e]){return n.prop(e)?e:undefined}t=n[0].getAttribute(e,2);if(t===null){t=undefined}}return t}return n},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;e=wf[e]||e;if(typeof e==="object"){Ef(e,(function(e,t){n.prop(e,t)}))}else if(lf(t)){this.each((function(){if(this.nodeType===1){this[e]=t}}))}else{if(n[0]&&n[0].nodeType&&e in n[0]){return n[0][e]}return t}return n},css:function(e,t){var n=this;var r,o;var a=function(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))};var i=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))};if(typeof e==="object"){Ef(e,(function(e,t){n.css(e,t)}))}else{if(lf(t)){e=a(e);if(typeof t==="number"&&!bf[e]){t=t.toString()+"px"}n.each((function(){var n=this.style;o=Sf[e];if(o&&o.set){o.set(this,t);return}try{this.style[xf[e]||e]=t}catch(e){}if(t===null||t===""){if(n.removeProperty){n.removeProperty(i(e))}else{n.removeAttribute(e)}}}))}else{r=n[0];o=Sf[e];if(o&&o.get){return o.get(r)}if(r.ownerDocument.defaultView){try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(i(e))}catch(e){return undefined}}else if(r.currentStyle){return r.currentStyle[a(e)]}else{return""}}}return n},remove:function(){var e=this;var t,n=this.length;while(n--){t=e[n];ff.clean(t);if(t.parentNode){t.parentNode.removeChild(t)}}return this},empty:function(){var e=this;var t,n=this.length;while(n--){t=e[n];while(t.firstChild){t.removeChild(t.firstChild)}}return this},html:function(e){var t=this;var n;if(lf(e)){n=t.length;try{while(n--){t[n].innerHTML=e}}catch(r){zf(t[n]).empty().append(e)}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this;var n;if(lf(e)){n=t.length;while(n--){if("innerText"in t[n]){t[n].innerText=e}else{t[0].textContent=e}}return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return gf(this,arguments,(function(e){if(this.nodeType===1||this.host&&this.host.nodeType===1){this.appendChild(e)}}))},prepend:function(){return gf(this,arguments,(function(e){if(this.nodeType===1||this.host&&this.host.nodeType===1){this.insertBefore(e,this.firstChild)}}),true)},before:function(){var e=this;if(e[0]&&e[0].parentNode){return gf(e,arguments,(function(e){this.parentNode.insertBefore(e,this)}))}return e},after:function(){var e=this;if(e[0]&&e[0].parentNode){return gf(e,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),true)}return e},appendTo:function(e){zf(e).append(this);return this},prependTo:function(e){zf(e).prepend(this);return this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return pf(this,e)},wrapAll:function(e){return pf(this,e,true)},wrapInner:function(e){this.each((function(){zf(this).contents().wrapAll(e)}));return this},unwrap:function(){return this.parent().each((function(){zf(this).replaceWith(this.childNodes)}))},clone:function(){var e=[];this.each((function(){e.push(this.cloneNode(true))}));return zf(e)},addClass:function(e){return this.toggleClass(e,true)},removeClass:function(e){return this.toggleClass(e,false)},toggleClass:function(e,t){var n=this;if(typeof e!=="string"){return n}if(e.indexOf(" ")!==-1){Ef(e.split(" "),(function(){n.toggleClass(this,t)}))}else{n.each((function(n,r){var o=hf(r,e);if(o!==t){var a=r.className;if(o){r.className=_f((" "+a+" ").replace(" "+e+" "," "))}else{r.className+=a?" "+e:e}}}))}return n},hasClass:function(e){return hf(this[0],e)},each:function(e){return Ef(this,e)},on:function(e,t){return this.each((function(){ff.bind(this,e,t)}))},off:function(e,t){return this.each((function(){ff.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){if(typeof e==="object"){ff.fire(this,e.type,e)}else{ff.fire(this,e)}}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return zf(uf.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n;var r=[];for(t=0,n=this.length;t<n;t++){zf.find(e,this[t],r)}return zf(r)},filter:function(e){if(typeof e==="function"){return zf(Df(this.toArray(),(function(t,n){return e(n,t)})))}return zf(zf.filter(e,this.toArray()))},closest:function(e){var t=[];if(e instanceof zf){e=e[0]}this.each((function(n,r){while(r){if(typeof e==="string"&&zf(r).is(e)){t.push(r);break}else if(r===e){t.push(r);break}r=r.parentNode}}));return zf(t)},offset:function(e){var t,n,r;var o=0,a=0,i;if(!e){t=this[0];if(t){n=t.ownerDocument;r=n.documentElement;if(t.getBoundingClientRect){i=t.getBoundingClientRect();o=i.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft;a=i.top+(r.scrollTop||n.body.scrollTop)-r.clientTop}}return{left:o,top:a}}return this.css(e)},push:af,sort:Array.prototype.sort,splice:Array.prototype.splice};mn.extend(kf,{extend:mn.extend,makeArray:function(e){if(df(e)||e.nodeType){return[e]}return mn.toArray(e)},inArray:Tf,isArray:mn.isArray,each:Ef,trim:_f,grep:Df,find:Vc,expr:Vc.selectors,unique:Vc.uniqueSort,text:Vc.getText,contains:Vc.contains,filter:function(e,t,n){var r=t.length;if(n){e=":not("+e+")"}while(r--){if(t[r].nodeType!==1){t.splice(r,1)}}if(t.length===1){t=zf.find.matchesSelector(t[0],e)?[t[0]]:[]}else{t=zf.find.matches(e,t)}return t}});var Nf=function(e,t,n){var r=[];var o=e[t];if(typeof n!=="string"&&n instanceof zf){n=n[0]}while(o&&o.nodeType!==9){if(n!==undefined){if(o===n){break}if(typeof n==="string"&&zf(o).is(n)){break}}if(o.nodeType===1){r.push(o)}o=o[t]}return r};var Mf=function(e,t,n,r){var o=[];if(r instanceof zf){r=r[0]}for(;e;e=e[t]){if(n&&e.nodeType!==n){continue}if(r!==undefined){if(e===r){break}if(typeof r==="string"&&zf(e).is(r)){break}}o.push(e)}return o};var Rf=function(e,t,n){for(e=e[t];e;e=e[t]){if(e.nodeType===n){return e}}return null};Ef({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return Nf(e,"parentNode")},next:function(e){return Rf(e,"nextSibling",1)},prev:function(e){return Rf(e,"previousSibling",1)},children:function(e){return Mf(e.firstChild,"nextSibling",1)},contents:function(e){return mn.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){kf.fn[e]=function(n){var r=this;var o=[];r.each((function(){var e=t.call(o,this,n,o);if(e){if(zf.isArray(e)){o.push.apply(o,e)}else{o.push(e)}}}));if(this.length>1){if(!sf[e]){o=zf.unique(o)}if(e.indexOf("parents")===0){o=o.reverse()}}var a=zf(o);if(n){return a.filter(n)}return a}}));Ef({parentsUntil:function(e,t){return Nf(e,"parentNode",t)},nextUntil:function(e,t){return Mf(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Mf(e,"previousSibling",1,t).slice(1)}},(function(e,t){kf.fn[e]=function(n,r){var o=this;var a=[];o.each((function(){var e=t.call(a,this,n,a);if(e){if(zf.isArray(e)){a.push.apply(a,e)}else{a.push(e)}}}));if(this.length>1){a=zf.unique(a);if(e.indexOf("parents")===0||e==="prevUntil"){a=a.reverse()}}var i=zf(a);if(r){return i.filter(r)}return i}}));kf.fn.is=function(e){return!!e&&this.filter(e).length>0};kf.fn.init.prototype=kf.fn;kf.overrideDefaults=function(e){var t;var n=function(r,o){t=t||e();if(arguments.length===0){r=t.element}if(!o){o=t.context}return new n.fn.init(r,o)};zf.extend(n,this);return n};kf.attrHooks=Cf;kf.cssHooks=Sf;var zf=kf;var Bf=mn.each;var Pf=mn.grep;var Lf=en.ie;var Hf=/^([a-z0-9],?)+$/i;var If=function(e,t,n){var r=t.keep_values;var o={set:function(e,r,o){if(t.url_converter&&r!==null){r=t.url_converter.call(t.url_converter_scope||n(),r,o,e[0])}e.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}};var a={style:{set:function(t,n){if(n!==null&&typeof n==="object"){t.css(n);return}if(r){t.attr("data-mce-style",n)}if(n!==null&&typeof n==="string"){t.removeAttr("style");t.css(e.parse(n))}else{t.attr("style",n)}},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");n=e.serialize(e.parse(n),t[0].nodeName);return n}}};if(r){a.href=a.src=o}return a};var Ff=function(e,t){var n=t.attr("style");var r=e.serialize(e.parse(n),t[0].nodeName);if(!r){r=null}t.attr("data-mce-style",r)};var Vf=function(e,t){var n=0,r,o;if(e){for(r=e.nodeType,e=e.previousSibling;e;e=e.previousSibling){o=e.nodeType;if(t&&o===3){if(o===r||!e.nodeValue.length){continue}}n++;r=o}}return n};var Uf=function(e,t){if(t===void 0){t={}}var n={};var r=window;var o={};var a=0;var i=true;var u=true;var c=xa.forElement(wn.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy});var f=[];var s=t.schema?t.schema:Su({});var l=Tu({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema);var v=t.ownEvents?new Iu:Iu.Event;var d=s.getBlockElements();var m=zf.overrideDefaults((function(){return{context:e,element:Ne.getRoot()}}));var g=function(e){if(typeof e==="string"){return!!d[e]}else if(e){var t=e.nodeType;if(t){return!!(t===1&&d[e.nodeName])}}return false};var h=function(t){return t&&e&&p(t)?e.getElementById(t):t};var b=function(e){return m(typeof e==="string"?h(e):e)};var y=function(e,t,n){var r,o;var a=b(e);if(a.length){r=Me[t];if(r&&r.get){o=r.get(a,t)}else{o=a.attr(t)}}if(typeof o==="undefined"){o=n||""}return o};var w=function(e){var t=h(e);if(!t){return[]}return t.attributes};var x=function(e,n,r){if(r===""){r=null}var o=b(e);var a=o.attr(n);if(!o.length){return}var i=Me[n];if(i&&i.set){i.set(o,r,n)}else{o.attr(n,r)}if(a!==r&&t.onSetAttrib){t.onSetAttrib({attrElm:o,attrName:n,attrValue:r})}};var C=function(t,n){if(!Lf||t.nodeType!==1||n){return t.cloneNode(n)}else{var r=e.createElement(t.nodeName);Bf(w(t),(function(e){x(r,e.nodeName,y(t,e.nodeName))}));return r}};var k=function(){return t.root_element||e.body};var T=function(e){var t=Fr(e);return{x:t.x,y:t.y,w:t.width,h:t.height}};var O=function(t,n){return Bo(e.body,h(t),n)};var E=function(e,n,r){var o=p(n)?b(e).css(n,r):b(e).css(n);if(t.update_styles){Ff(l,o)}};var D=function(e,n){var r=b(e).css(n);if(t.update_styles){Ff(l,r)}};var N=function(e,t,n){var r=b(e);if(n){return r.css(t)}t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}));if(t==="float"){t=en.browser.isIE()?"styleFloat":"cssFloat"}return r[0]&&r[0].style?r[0].style[t]:undefined};var M=function(e){var t,n;e=h(e);t=N(e,"width");n=N(e,"height");if(t.indexOf("px")===-1){t=0}if(n.indexOf("px")===-1){n=0}return{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}};var R=function(e){e=h(e);var t=O(e);var n=M(e);return{x:t.x,y:t.y,w:n.w,h:n.h}};var z=function(e,t){var n;if(!e){return false}if(!Array.isArray(e)){if(t==="*"){return e.nodeType===1}if(Hf.test(t)){var r=t.toLowerCase().split(/,/);var o=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--){if(r[n]===o){return true}}return false}if(e.nodeType&&e.nodeType!==1){return false}}var a=!Array.isArray(e)?[e]:e;return Vc(t,a[0].ownerDocument||a[0],null,a).length>0};var B=function(e,t,n,r){var o=[];var a;var i=h(e);r=r===undefined;n=n||(k().nodeName!=="BODY"?k().parentNode:null);if(mn.is(t,"string")){a=t;if(t==="*"){t=function(e){return e.nodeType===1}}else{t=function(e){return z(e,a)}}}while(i){if(i===n||S(i.nodeType)||to(i)||no(i)){break}if(!t||typeof t==="function"&&t(i)){if(r){o.push(i)}else{return[i]}}i=i.parentNode}return r?o:null};var P=function(e,t,n){var r=B(e,t,n,false);return r&&r.length>0?r[0]:null};var L=function(e,t,n){var r=t;if(e){if(typeof t==="string"){r=function(e){return z(e,t)}}for(e=e[n];e;e=e[n]){if(typeof r==="function"&&r(e)){return e}}}return null};var H=function(e,t){return L(e,t,"nextSibling")};var I=function(e,t){return L(e,t,"previousSibling")};var F=function(n,r){return Vc(n,h(r)||t.root_element||e,[])};var V=function(e,t,n){var r;var o=typeof e==="string"?h(e):e;if(!o){return false}if(mn.isArray(o)&&(o.length||o.length===0)){r=[];Bf(o,(function(e,o){if(e){r.push(t.call(n,typeof e==="string"?h(e):e,o))}}));return r}var a=n?n:this;return t.call(a,o)};var U=function(e,t){b(e).each((function(e,n){Bf(t,(function(e,t){x(n,t,e)}))}))};var j=function(e,t){var n=b(e);if(Lf){n.each((function(e,n){if(n.canHaveHTML===false){return}while(n.firstChild){n.removeChild(n.firstChild)}try{n.innerHTML="<br>"+t;n.removeChild(n.firstChild)}catch(e){zf("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}))}else{n.html(t)}};var W=function(t,n,r,o,a){return V(t,(function(t){var i=typeof n==="string"?e.createElement(n):n;U(i,r);if(o){if(typeof o!=="string"&&o.nodeType){i.appendChild(o)}else if(typeof o==="string"){j(i,o)}}return!a?t.appendChild(i):i}))};var q=function(t,n,r){return W(e.createElement(t),t,n,r,true)};var G=su.decode;var $=su.encodeAllRaw;var K=function(e,t,n){var r="",o;r+="<"+e;for(o in t){if(Re(t,o)){r+=" "+o+'="'+$(t[o])+'"'}}if(typeof n!=="undefined"){return r+">"+n+"</"+e+">"}return r+" />"};var X=function(t){var n;var r=e.createElement("div");var o=e.createDocumentFragment();o.appendChild(r);if(t){r.innerHTML=t}while(n=r.firstChild){o.appendChild(n)}o.removeChild(r);return o};var Y=function(e,t){var n=b(e);if(t){n.each((function(){var e;while(e=this.firstChild){if(e.nodeType===3&&e.data.length===0){this.removeChild(e)}else{this.parentNode.insertBefore(e,this)}}})).remove()}else{n.remove()}return n.length>1?n.toArray():n[0]};var J=function(e){return V(e,(function(e){var t;var n=e.attributes;for(t=n.length-1;t>=0;t--){e.removeAttributeNode(n.item(t))}}))};var Q=function(e){return l.parse(e)};var ee=function(e,t){return l.serialize(e,t)};var te=function(t){var r,o;if(Ne!==Uf.DOM&&e===document){if(n[t]){return}n[t]=true}o=e.getElementById("mceDefaultStyles");if(!o){o=e.createElement("style");o.id="mceDefaultStyles";o.type="text/css";r=e.getElementsByTagName("head")[0];if(r.firstChild){r.insertBefore(o,r.firstChild)}else{r.appendChild(o)}}if(o.styleSheet){o.styleSheet.cssText+=t}else{o.appendChild(e.createTextNode(t))}};var ne=function(e){if(!e){e=""}Z(e.split(","),(function(e){o[e]=true;c.load(e,_)}))};var re=function(e,t,n){b(e).toggleClass(t,n).each((function(){if(this.className===""){zf(this).attr("class",null)}}))};var oe=function(e,t){b(e).addClass(t)};var ae=function(e,t){re(e,t,false)};var ie=function(e,t){return b(e).hasClass(t)};var ue=function(e){b(e).show()};var ce=function(e){b(e).hide()};var fe=function(e){return b(e).css("display")==="none"};var se=function(e){return(!e?"mce_":e)+a++};var le=function(e){var t=typeof e==="string"?h(e):e;return jr(t)?t.outerHTML:zf("<div></div>").append(zf(t).clone()).html()};var ve=function(e,t){b(e).each((function(){try{if("outerHTML"in this){this.outerHTML=t;return}}catch(e){}Y(zf(this).html(t),true)}))};var de=function(e,t){var n=h(t);return V(e,(function(e){var t=n.parentNode;var r=n.nextSibling;if(r){t.insertBefore(e,r)}else{t.appendChild(e)}return e}))};var me=function(e,t,n){return V(t,(function(t){if(mn.is(t,"array")){e=e.cloneNode(true)}if(n){Bf(Pf(t.childNodes),(function(t){e.appendChild(t)}))}return t.parentNode.replaceChild(e,t)}))};var ge=function(e,t){var n;if(e.nodeName!==t.toUpperCase()){n=q(t);Bf(w(e),(function(t){x(n,t.nodeName,y(e,t.nodeName))}));me(n,e,true)}return n||e};var he=function(e,t){var n=e,r;while(n){r=t;while(r&&n!==r){r=r.parentNode}if(n===r){break}n=n.parentNode}if(!n&&e.ownerDocument){return e.ownerDocument.documentElement}return n};var pe=function(e){return l.toHex(mn.trim(e))};var be=function(e){if(jr(e)){var t=e.nodeName.toLowerCase()==="a"&&!y(e,"href")&&y(e,"id");if(y(e,"name")||y(e,"data-mce-bookmark")||t){return true}}return false};var ye=function(e,t){var n,r,o=0;if(be(e)){return false}e=e.firstChild;if(e){var a=new Ca(e,e.parentNode);var i=s?s.getWhiteSpaceElements():{};t=t||(s?s.getNonEmptyElements():null);do{n=e.nodeType;if(jr(e)){var u=e.getAttribute("data-mce-bogus");if(u){e=a.next(u==="all");continue}r=e.nodeName.toLowerCase();if(t&&t[r]){if(r==="br"){o++;e=a.next();continue}return false}if(be(e)){return false}}if(n===8){return false}if(n===3&&!Di(e.nodeValue)){return false}if(n===3&&e.parentNode&&i[e.parentNode.nodeName]&&Di(e.nodeValue)){return false}e=a.next()}while(e)}return o<=1};var we=function(){return e.createRange()};var xe=function(e,t,n){var r=we();var o;var a;var i;if(e&&t){r.setStart(e.parentNode,Vf(e));r.setEnd(t.parentNode,Vf(t));o=r.extractContents();r=we();r.setStart(t.parentNode,Vf(t)+1);r.setEnd(e.parentNode,Vf(e)+1);a=r.extractContents();i=e.parentNode;i.insertBefore(Gi(Ne,o),e);if(n){i.insertBefore(n,e)}else{i.insertBefore(t,e)}i.insertBefore(Gi(Ne,a),e);Y(e);return n||t}};var Se=function(n,o,a,i){if(mn.isArray(n)){var u=n.length;var c=[];while(u--){c[u]=Se(n[u],o,a,i)}return c}if(t.collect&&(n===e||n===r)){f.push([n,o,a,i])}var s=v.bind(n,o,a,i||Ne);return s};var ke=function(t,n,o){if(mn.isArray(t)){var a=t.length;var i=[];while(a--){i[a]=ke(t[a],n,o)}return i}else{if(f.length>0&&(t===e||t===r)){var a=f.length;while(a--){var u=f[a];if(t===u[0]&&(!n||n===u[1])&&(!o||o===u[2])){v.unbind(u[0],u[1],u[2])}}}return v.unbind(t,n,o)}};var Te=function(e,t,n){return v.fire(e,t,n)};var Oe=function(e){if(e&&jr(e)){var t=e.getAttribute("data-mce-contenteditable");if(t&&t!=="inherit"){return t}return e.contentEditable!=="inherit"?e.contentEditable:null}else{return null}};var _e=function(e){var t=k();var n=null;for(;e&&e!==t;e=e.parentNode){n=Oe(e);if(n!==null){break}}return n};var Ee=function(){if(f.length>0){var e=f.length;while(e--){var t=f[e];v.unbind(t[0],t[1],t[2])}}Ce(o,(function(e,t){c.unload(t);delete o[t]}));if(Vc.setDocument){Vc.setDocument()}};var De=function(e,t){if(!Lf){return e===t||t.contains(e)}else{while(e){if(t===e){return true}e=e.parentNode}return false}};var Ae=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset};var Ne={doc:e,settings:t,win:r,files:o,stdMode:i,boxModel:u,styleSheetLoader:c,boundEvents:f,styles:l,schema:s,events:v,isBlock:g,$:m,$$:b,root:null,clone:C,getRoot:k,getViewPort:T,getRect:R,getSize:M,getParent:P,getParents:B,get:h,getNext:H,getPrev:I,select:F,is:z,add:W,create:q,createHTML:K,createFragment:X,remove:Y,setStyle:E,getStyle:N,setStyles:D,removeAllAttribs:J,setAttrib:x,setAttribs:U,getAttrib:y,getPos:O,parseStyle:Q,serializeStyle:ee,addStyle:te,loadCSS:ne,addClass:oe,removeClass:ae,hasClass:ie,toggleClass:re,show:ue,hide:ce,isHidden:fe,uniqueId:se,setHTML:j,getOuterHTML:le,setOuterHTML:ve,decode:G,encode:$,insertAfter:de,replace:me,rename:ge,findCommonAncestor:he,toHex:pe,run:V,getAttribs:w,isEmpty:ye,createRng:we,nodeIndex:Vf,split:xe,bind:Se,unbind:ke,fire:Te,getContentEditable:Oe,getContentEditableParent:_e,destroy:Ee,isChildOf:De,dumpRng:Ae};var Me=If(l,t,A(Ne));return Ne};Uf.DOM=Uf(document);Uf.nodeIndex=Vf;var jf=Uf.DOM;var Wf=mn.each,qf=mn.grep;var Gf=0;var $f=1;var Kf=2;var Xf=3;var Yf=function(){function e(e){if(e===void 0){e={}}this.states={};this.queue=[];this.scriptLoadedCallbacks={};this.queueLoadedCallbacks=[];this.loading=0;this.settings=e}e.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e};e.prototype.loadScript=function(e,t,n){var r=jf;var o;var a=function(){r.remove(c);if(o){o.onerror=o.onload=o=null}};var i=function(){a();t()};var u=function(){a();if(T(n)){n()}else{if(typeof console!=="undefined"&&console.log){console.log("Failed to load script: "+e)}}};var c=r.uniqueId();o=document.createElement("script");o.id=c;o.type="text/javascript";o.src=mn._addCacheSuffix(e);if(this.settings.referrerPolicy){r.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy)}o.onload=i;o.onerror=u;(document.getElementsByTagName("head")[0]||document.body).appendChild(o)};e.prototype.isDone=function(e){return this.states[e]===Kf};e.prototype.markDone=function(e){this.states[e]=Kf};e.prototype.add=function(e,t,n,r){var o=this.states[e];this.queue.push(e);if(o===undefined){this.states[e]=Gf}if(t){if(!this.scriptLoadedCallbacks[e]){this.scriptLoadedCallbacks[e]=[]}this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this})}};e.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)};e.prototype.remove=function(e){delete this.states[e];delete this.scriptLoadedCallbacks[e]};e.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)};e.prototype.loadScripts=function(e,t,n,r){var o=this;var a=[];var i=function(e,t){Wf(o.scriptLoadedCallbacks[t],(function(t){if(T(t[e])){t[e].call(t.scope)}}));o.scriptLoadedCallbacks[t]=undefined};o.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this});var u=function(){var t=qf(e);e.length=0;Wf(t,(function(e){if(o.states[e]===Kf){i("success",e);return}if(o.states[e]===Xf){i("failure",e);return}if(o.states[e]!==$f){o.states[e]=$f;o.loading++;o.loadScript(e,(function(){o.states[e]=Kf;o.loading--;i("success",e);u()}),(function(){o.states[e]=Xf;o.loading--;a.push(e);i("failure",e);u()}))}}));if(!o.loading){var n=o.queueLoadedCallbacks.slice(0);o.queueLoadedCallbacks.length=0;Wf(n,(function(e){if(a.length===0){if(T(e.success)){e.success.call(e.scope)}}else{if(T(e.failure)){e.failure.call(e.scope,a)}}}))}};u()};e.ScriptLoader=new e;return e}();var Jf=function(e){var t=e;var n=function(){return t};var r=function(e){t=e};return{get:n,set:r}};var Qf=function(e){return b(e)&&Me(e,"raw")};var Zf=function(e){return y(e)&&e.length>1};var es={};var ts=Jf("en");var ns=function(){return Ne(es,ts.get())};var rs=function(){return Se(es,(function(e){return We({},e)}))};var os=function(e){if(e){ts.set(e)}};var as=function(){return ts.get()};var is=function(e,t){var n=es[e];if(!n){es[e]=n={}}Ce(t,(function(e,t){n[t.toLowerCase()]=e}))};var us=function(e){var t=ns().getOr({});var n=function(e){if(T(e)){return Object.prototype.toString.call(e)}return!r(e)?""+e:""};var r=function(e){return e===""||e===null||e===undefined};var o=function(e){var r=n(e);return Ne(t,r.toLowerCase()).map(n).getOr(r)};var a=function(e){return e.replace(/{context:\w+}$/,"")};if(r(e)){return""}if(Qf(e)){return n(e.raw)}if(Zf(e)){var i=e.slice(1);var u=o(e[0]).replace(/\{([0-9]+)\}/g,(function(e,t){return Me(i,t)?n(i[t]):e}));return a(u)}return a(o(e))};var cs=function(){return ns().bind((function(e){return Ne(e,"_dir")})).exists((function(e){return e==="rtl"}))};var fs=function(e){return Me(es,e)};var ss={getData:rs,setCode:os,getCode:as,add:is,translate:us,isRtl:cs,hasCode:fs};var ls=function(){var e=[];var t={};var n={};var r=[];var o=function(e,t){var n=ne(r,(function(n){return n.name===e&&n.state===t}));Z(n,(function(e){return e.callback()}))};var a=function(e){if(n[e]){return n[e].instance}return undefined};var i=function(e){var t;if(n[e]){t=n[e].dependencies}return t||[]};var u=function(e,n){if(ls.languageLoad!==false){m(e,(function(){var r=ss.getCode();var o=","+(n||"")+",";if(!r||n&&o.indexOf(","+r+",")===-1){return}Yf.ScriptLoader.add(t[e]+"/langs/"+r+".js")}),"loaded")}};var c=function(t,r,a){var i=r;e.push(i);n[t]={instance:i,dependencies:a};o(t,"added");return i};var f=function(e){delete t[e];delete n[e]};var s=function(e,t){if(typeof t==="object"){return t}return typeof e==="string"?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}};var l=function(e,n){var r=t[e];Z(n,(function(e){Yf.ScriptLoader.add(r+"/"+e)}))};var v=function(e,t,n,r){var o=i(e);Z(o,(function(e){var n=s(t,e);d(n.resource,n,undefined,undefined)}));if(n){if(r){n.call(r)}else{n.call(Yf)}}};var d=function(e,r,a,i,u){if(t[e]){return}var c=typeof r==="string"?r:r.prefix+r.resource+r.suffix;if(c.indexOf("/")!==0&&c.indexOf("://")===-1){c=ls.baseURL+"/"+c}t[e]=c.substring(0,c.lastIndexOf("/"));var f=function(){o(e,"loaded");v(e,r,a,i)};if(n[e]){f()}else{Yf.ScriptLoader.add(c,f,i,u)}};var m=function(e,o,a){if(a===void 0){a="added"}if(Me(n,e)&&a==="added"){o()}else if(Me(t,e)&&a==="loaded"){o()}else{r.push({name:e,state:a,callback:o})}};return{items:e,urls:t,lookup:n,_listeners:r,get:a,dependencies:i,requireLangPack:u,add:c,remove:f,createUrl:s,addComponents:l,load:d,waitFor:m}};ls.languageLoad=true;ls.baseURL="";ls.PluginManager=ls();ls.ThemeManager=ls();var vs=function(e){var t=Jf(W.none());var n=function(){return t.get().each(e)};var r=function(){n();t.set(W.none())};var o=function(){return t.get().isSome()};var a=function(){return t.get()};var i=function(e){n();t.set(W.some(e))};return{clear:r,isSet:o,get:a,set:i}};var ds=function(){var e=vs(_);var t=function(t){return e.get().each(t)};return We(We({},e),{on:t})};var ms=function(e,t){var n=null;var r=function(){if(!w(n)){clearTimeout(n);n=null}};var o=function(){var r=[];for(var o=0;o<arguments.length;o++){r[o]=arguments[o]}if(w(n)){n=setTimeout((function(){n=null;e.apply(null,r)}),t)}};return{cancel:r,throttle:o}};var gs=function(e,t){var n=null;var r=function(){if(!w(n)){clearTimeout(n);n=null}};var o=function(){var o=[];for(var a=0;a<arguments.length;a++){o[a]=arguments[a]}r();n=setTimeout((function(){n=null;e.apply(null,o)}),t)};return{cancel:r,throttle:o}};var hs=function(e,t){var n=yo(e,t);return n===undefined||n===""?[]:n.split(" ")};var ps=function(e,t,n){var r=hs(e,t);var o=r.concat([n]);po(e,t,o.join(" "));return true};var bs=function(e,t,n){var r=ne(hs(e,t),(function(e){return e!==n}));if(r.length>0){po(e,t,r.join(" "))}else{Co(e,t)}return false};var ys=function(e){return e.dom.classList!==undefined};var ws=function(e){return hs(e,"class")};var xs=function(e,t){return ps(e,"class",t)};var Cs=function(e,t){return bs(e,"class",t)};var Ss=function(e,t){if(ys(e)){e.dom.classList.add(t)}else{xs(e,t)}};var ks=function(e){var t=ys(e)?e.dom.classList:ws(e);if(t.length===0){Co(e,"class")}};var Ts=function(e,t){if(ys(e)){var n=e.dom.classList;n.remove(t)}else{Cs(e,t)}ks(e)};var Os=function(e,t){return ys(e)&&e.dom.classList.contains(t)};var _s=function(e,t){var n=[];Z(rr(e),(function(e){if(t(e)){n=n.concat([e])}n=n.concat(_s(e,t))}));return n};var Es=function(e,t){return Nn(t,e)};var Ds=A("mce-annotation");var As=A("data-mce-annotation");var Ns=A("data-mce-annotation-uid");var Ms=function(e,t){var n=e.selection.getRng();var r=wn.fromDom(n.startContainer);var o=wn.fromDom(e.getBody());var a=t.fold((function(){return"."+Ds()}),(function(e){return"["+As()+'="'+e+'"]'}));var i=or(r,n.startOffset).getOr(r);var u=fa(i,a,(function(e){return Rn(e,o)}));var c=function(e,t){if(xo(e,t)){return W.some(yo(e,t))}else{return W.none()}};return u.bind((function(t){return c(t,""+Ns()).bind((function(n){return c(t,""+As()).map((function(t){var r=zs(e,n);return{uid:n,name:t,elements:r}}))}))}))};var Rs=function(e){return Vn(e)&&Os(e,Ds())};var zs=function(e,t){var n=wn.fromDom(e.getBody());return Es(n,"["+Ns()+'="'+t+'"]')};var Bs=function(e,t){var n=wn.fromDom(e.getBody());var r=Es(n,"["+As()+'="'+t+'"]');var o={};Z(r,(function(e){var t=yo(e,Ns());var n=Ne(o,t).getOr([]);o[t]=n.concat([e])}));return o};var Ps=function(e,t){var n=Jf({});var r=function(){return{listeners:[],previous:ds()}};var o=function(e,t){a(e,(function(e){t(e);return e}))};var a=function(e,t){var o=n.get();var a=Ne(o,e).getOrThunk(r);var i=t(a);o[e]=i;n.set(o)};var i=function(e,t,n){o(e,(function(r){Z(r.listeners,(function(r){return r(true,e,{uid:t,nodes:Q(n,(function(e){return e.dom}))})}))}))};var u=function(e){o(e,(function(t){Z(t.listeners,(function(t){return t(false,e)}))}))};var c=gs((function(){var t=n.get();var r=me(we(t));Z(r,(function(t){a(t,(function(n){var r=n.previous.get();Ms(e,W.some(t)).fold((function(){if(r.isSome()){u(t);n.previous.clear()}}),(function(e){var t=e.uid,o=e.name,a=e.elements;if(!fo(r,t)){i(o,t,a);n.previous.set(t)}}));return{previous:n.previous,listeners:n.listeners}}))}))}),30);e.on("remove",(function(){c.cancel()}));e.on("NodeChange",(function(){c.throttle()}));var f=function(e,t){a(e,(function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}}))};return{addListener:f}};var Ls=function(e,t){var n=function(e){return W.from(e.attr(As())).bind(t.lookup)};e.on("init",(function(){e.serializer.addNodeFilter("span",(function(e){Z(e,(function(e){n(e).each((function(t){if(t.persistent===false){e.unwrap()}}))}))}))}))};var Hs=function(){var e={};var t=function(t,n){e[t]={name:t,settings:n}};var n=function(t){return Ne(e,t).map((function(e){return e.settings}))};return{register:t,lookup:n}};var Is=0;var Fs=function(e){var t=new Date;var n=t.getTime();var r=Math.floor(Math.random()*1e9);Is++;return e+"_"+r+Is+String(n)};var Vs=function(e,t){Z(t,(function(t){Ss(e,t)}))};var Us=function(e,t){var n=t||document;var r=n.createElement("div");r.innerHTML=e;return rr(wn.fromDom(r))};var js=function(e){return Q(e,wn.fromDom)};var Ws=function(e){return e.dom.innerHTML};var qs=function(e,t){var n=Gn(e);var r=n.dom;var o=wn.fromDom(r.createDocumentFragment());var a=Us(t,r);kr(o,a);Tr(e);xr(e,o)};var Gs=function(e,t){return wn.fromDom(e.dom.cloneNode(t))};var $s=function(e){return Gs(e,false)};var Ks=function(e){return Gs(e,true)};var Xs=function(e,t,n){if(n===void 0){n=H}var r=new Ca(e,t);var o=function(e){var t;do{t=r[e]()}while(t&&!Zr(t)&&!n(t));return W.from(t).filter(Zr)};return{current:function(){return W.from(r.current()).filter(Zr)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}};var Ys=function(e,t){var n=t?t:function(t){return e.isBlock(t)||ro(t)||io(t)};var r=function(e,t,n,o){if(Zr(e)){var a=o(e,t,e.data);if(a!==-1){return W.some({container:e,offset:a})}}return n().bind((function(e){return r(e.container,e.offset,n,o)}))};var o=function(e,t,o,a){var i=Xs(e,a,n);return r(e,t,(function(){return i.prev().map((function(e){return{container:e,offset:e.length}}))}),o).getOrNull()};var a=function(e,t,o,a){var i=Xs(e,a,n);return r(e,t,(function(){return i.next().map((function(e){return{container:e,offset:0}}))}),o).getOrNull()};return{backwards:o,forwards:a}};var Js=Math.round;var Qs=function(e){if(!e){return{left:0,top:0,bottom:0,right:0,width:0,height:0}}return{left:Js(e.left),top:Js(e.top),bottom:Js(e.bottom),right:Js(e.right),width:Js(e.width),height:Js(e.height)}};var Zs=function(e,t){e=Qs(e);if(t){e.right=e.left}else{e.left=e.left+e.width;e.right=e.left}e.width=0;return e};var el=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right};var tl=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2};var nl=function(e,t){var n=Math.min(t.height/2,e.height/2);if(e.bottom-n<t.top){return true}if(e.top>t.bottom){return false}return tl(t.top-e.bottom,e,t)};var rl=function(e,t){if(e.top>t.bottom){return true}if(e.bottom<t.top){return false}return tl(t.bottom-e.top,e,t)};var ol=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom};var al=function(e,t,n){return Math.min(Math.max(e,t),n)};var il=function(e){var t=e.startContainer,n=e.startOffset;if(t.hasChildNodes()&&e.endOffset===n+1){return t.childNodes[n]}return null};var ul=function(e,t){if(jr(e)&&e.hasChildNodes()){var n=e.childNodes;var r=al(t,0,n.length-1);return n[r]}else{return e}};var cl=function(e,t){if(t<0&&jr(e)&&e.hasChildNodes()){return undefined}else{return ul(e,t)}};var fl=new RegExp("[-------"+"-------"+"-------"+"-----"+"------"+"----"+"-----"+"-----"+"-----"+"-------"+"--------"+"-------"+"-------"+"-----"+"-------"+"-------"+"--------"+"--------"+"------"+"------"+"----]");var sl=function(e){return typeof e==="string"&&e.charCodeAt(0)>=768&&fl.test(e)};var ll=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return function(t){for(var n=0;n<e.length;n++){if(e[n](t)){return true}}return false}};var vl=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return function(t){for(var n=0;n<e.length;n++){if(!e[n](t)){return false}}return true}};var dl=jr;var ml=xi;var gl=qr("display","block table");var hl=qr("float","left right");var pl=vl(dl,ml,z(hl));var bl=z(qr("white-space","pre pre-line pre-wrap"));var yl=Zr;var wl=ro;var xl=Uf.nodeIndex;var Cl=cl;var Sl=function(e){return"createRange"in e?e.createRange():Uf.DOM.createRng()};var kl=function(e){return e&&/[\r\n\t ]/.test(e)};var Tl=function(e){return!!e.setStart&&!!e.setEnd};var Ol=function(e){var t=e.startContainer;var n=e.startOffset;if(kl(e.toString())&&bl(t.parentNode)&&Zr(t)){var r=t.data;if(kl(r[n-1])||kl(r[n+1])){return true}}return false};var _l=function(e){var t=e.ownerDocument;var n=Sl(t);var r=t.createTextNode(qa);var o=e.parentNode;o.insertBefore(r,e);n.setStart(r,0);n.setEnd(r,1);var a=Qs(n.getBoundingClientRect());o.removeChild(r);return a};var El=function(e){var t=e.startContainer;var n=e.endContainer;var r=e.startOffset;var o=e.endOffset;if(t===n&&Zr(n)&&r===0&&o===1){var a=e.cloneRange();a.setEndAfter(n);return Al(a)}else{return null}};var Dl=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0};var Al=function(e){var t;var n=e.getClientRects();if(n.length>0){t=Qs(n[0])}else{t=Qs(e.getBoundingClientRect())}if(!Tl(e)&&wl(e)&&Dl(t)){return _l(e)}if(Dl(t)&&Tl(e)){return El(e)}return t};var Nl=function(e,t){var n=Zs(e,t);n.width=1;n.right=n.left+1;return n};var Ml=function(e){var t=[];var n=function(e){if(e.height===0){return}if(t.length>0){if(el(e,t[t.length-1])){return}}t.push(e)};var r=function(e,r){var o=Sl(e.ownerDocument);if(r<e.data.length){if(sl(e.data[r])){return t}if(sl(e.data[r-1])){o.setStart(e,r);o.setEnd(e,r+1);if(!Ol(o)){n(Nl(Al(o),false));return t}}}if(r>0){o.setStart(e,r-1);o.setEnd(e,r);if(!Ol(o)){n(Nl(Al(o),false))}}if(r<e.data.length){o.setStart(e,r);o.setEnd(e,r+1);if(!Ol(o)){n(Nl(Al(o),true))}}};var o=e.container();var a=e.offset();if(yl(o)){r(o,a);return t}if(dl(o)){if(e.isAtEnd()){var i=Cl(o,a);if(yl(i)){r(i,i.data.length)}if(pl(i)&&!wl(i)){n(Nl(Al(i),false))}}else{var i=Cl(o,a);if(yl(i)){r(i,0)}if(pl(i)&&e.isAtEnd()){n(Nl(Al(i),false));return t}var u=Cl(e.container(),e.offset()-1);if(pl(u)&&!wl(u)){if(gl(u)||gl(i)||!pl(i)){n(Nl(Al(u),false))}}if(pl(i)){n(Nl(Al(i),true))}}}return t};var Rl=function(e,t,n){var r=function(){if(yl(e)){return t===0}return t===0};var o=function(){if(yl(e)){return t>=e.data.length}return t>=e.childNodes.length};var a=function(){var n=Sl(e.ownerDocument);n.setStart(e,t);n.setEnd(e,t);return n};var i=function(){if(!n){n=Ml(Rl(e,t))}return n};var u=function(){return i().length>0};var c=function(n){return n&&e===n.container()&&t===n.offset()};var f=function(n){return Cl(e,n?t-1:t)};return{container:A(e),offset:A(t),toRange:a,getClientRects:i,isVisible:u,isAtStart:r,isAtEnd:o,isEqual:c,getNode:f}};Rl.fromRangeStart=function(e){return Rl(e.startContainer,e.startOffset)};Rl.fromRangeEnd=function(e){return Rl(e.endContainer,e.endOffset)};Rl.after=function(e){return Rl(e.parentNode,xl(e)+1)};Rl.before=function(e){return Rl(e.parentNode,xl(e))};Rl.isAbove=function(e,t){return lo(he(t.getClientRects()),pe(e.getClientRects()),nl).getOr(false)};Rl.isBelow=function(e,t){return lo(pe(t.getClientRects()),he(e.getClientRects()),rl).getOr(false)};Rl.isAtStart=function(e){return e?e.isAtStart():false};Rl.isAtEnd=function(e){return e?e.isAtEnd():false};Rl.isTextPosition=function(e){return e?Zr(e.container()):false};Rl.isElementPosition=function(e){return Rl.isTextPosition(e)===false};var zl=function(e,t){if(Zr(t)&&t.data.length===0){e.remove(t)}};var Bl=function(e,t,n){t.insertNode(n);zl(e,n.previousSibling);zl(e,n.nextSibling)};var Pl=function(e,t,n){var r=W.from(n.firstChild);var o=W.from(n.lastChild);t.insertNode(n);r.each((function(t){return zl(e,t.previousSibling)}));o.each((function(t){return zl(e,t.nextSibling)}))};var Ll=function(e,t,n){if(no(n)){Pl(e,t,n)}else{Bl(e,t,n)}};var Hl=Zr;var Il=Kr;var Fl=Uf.nodeIndex;var Vl=function(e){var t=e.parentNode;if(Il(t)){return Vl(t)}return t};var Ul=function(e){if(!e){return[]}return Ve(e.childNodes,(function(e,t){if(Il(t)&&t.nodeName!=="BR"){e=e.concat(Ul(t))}else{e.push(t)}return e}),[])};var jl=function(e,t){while(e=e.previousSibling){if(!Hl(e)){break}t+=e.data.length}return t};var Wl=function(e){return function(t){return e===t}};var ql=function(e){var t,n;t=Ul(Vl(e));n=Ue(t,Wl(e),e);t=t.slice(0,n+1);var r=Ve(t,(function(e,n,r){if(Hl(n)&&Hl(t[r-1])){e++}return e}),0);t=Ie(t,Wr([e.nodeName]));n=Ue(t,Wl(e),e);return n-r};var Gl=function(e){var t;if(Hl(e)){t="text()"}else{t=e.nodeName.toLowerCase()}return t+"["+ql(e)+"]"};var $l=function(e,t,n){var r=[];for(t=t.parentNode;t!==e;t=t.parentNode){if(n&&n(t)){break}r.push(t)}return r};var Kl=function(e,t){var n,r,o=[],a,i,u;n=t.container();r=t.offset();if(Hl(n)){a=jl(n,r)}else{i=n.childNodes;if(r>=i.length){a="after";r=i.length-1}else{a="before"}n=i[r]}o.push(Gl(n));u=$l(e,n);u=Ie(u,z(Kr));o=o.concat(He(u,(function(e){return Gl(e)})));return o.reverse().join("/")+","+a};var Xl=function(e,t,n){var r=Ul(e);r=Ie(r,(function(e,t){return!Hl(e)||!Hl(r[t-1])}));r=Ie(r,Wr([t]));return r[n]};var Yl=function(e,t){var n=e,r=0,o;while(Hl(n)){o=n.data.length;if(t>=r&&t<=r+o){e=n;t=t-r;break}if(!Hl(n.nextSibling)){e=n;t=o;break}r+=o;n=n.nextSibling}if(Hl(e)&&t>e.data.length){t=e.data.length}return Rl(e,t)};var Jl=function(e,t){var n;if(!t){return null}var r=t.split(",");var o=r[0].split("/");n=r.length>1?r[1]:"before";var a=Ve(o,(function(e,t){var n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);if(!n){return null}if(n[1]==="text()"){n[1]="#text"}return Xl(e,n[1],parseInt(n[2],10))}),e);if(!a){return null}if(!Hl(a)){if(n==="after"){n=Fl(a)+1}else{n=Fl(a)}return Rl(a.parentNode,n)}return Yl(a,parseInt(n,10))};var Ql=io;var Zl=function(e,t,n){var r,o;o=e(t.data.slice(0,n)).length;for(r=t.previousSibling;r&&Zr(r);r=r.previousSibling){o+=e(r.data).length}return o};var ev=function(e,t,n,r,o){var a=r[o?"startContainer":"endContainer"];var i=r[o?"startOffset":"endOffset"];var u=[];var c,f=0;var s=e.getRoot();if(Zr(a)){u.push(n?Zl(t,a,i):i)}else{c=a.childNodes;if(i>=c.length&&c.length){f=1;i=Math.max(0,c.length-1)}u.push(e.nodeIndex(c[i],n)+f)}for(;a&&a!==s;a=a.parentNode){u.push(e.nodeIndex(a,n))}return u};var tv=function(e,t,n,r){var o=t.dom,a={};a.start=ev(o,e,n,r,true);if(!t.isCollapsed()){a.end=ev(o,e,n,r,false)}if(vi(r)){a.isFakeCaret=true}return a};var nv=function(e,t,n){var r=0;mn.each(e.select(t),(function(e){if(e.getAttribute("data-mce-bogus")==="all"){return}if(e===n){return false}r++}));return r};var rv=function(e,t){var n,r,o;var a=t?"start":"end";n=e[a+"Container"];r=e[a+"Offset"];if(jr(n)&&n.nodeName==="TR"){o=n.childNodes;n=o[Math.min(t?r:r-1,o.length-1)];if(n){r=t?0:n.childNodes.length;e["set"+(t?"Start":"End")](n,r)}}};var ov=function(e){rv(e,true);rv(e,false);return e};var av=function(e,t){var n;if(jr(e)){e=ul(e,t);if(Ql(e)){return e}}if(ti(e)){if(Zr(e)&&Za(e)){e=e.parentNode}n=e.previousSibling;if(Ql(n)){return n}n=e.nextSibling;if(Ql(n)){return n}}};var iv=function(e){return av(e.startContainer,e.startOffset)||av(e.endContainer,e.endOffset)};var uv=function(e,t,n){var r=n.getNode();var o=r?r.nodeName:null;var a=n.getRng();if(Ql(r)||o==="IMG"){return{name:o,index:nv(n.dom,o,r)}}var i=iv(a);if(i){o=i.tagName;return{name:o,index:nv(n.dom,o,i)}}return tv(e,n,t,a)};var cv=function(e){var t=e.getRng();return{start:Kl(e.dom.getRoot(),Rl.fromRangeStart(t)),end:Kl(e.dom.getRoot(),Rl.fromRangeEnd(t))}};var fv=function(e){return{rng:e.getRng()}};var sv=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)};var lv=function(e,t){var n=e.dom;var r=e.getRng();var o=n.uniqueId();var a=e.isCollapsed();var i=e.getNode();var u=i.nodeName;if(u==="IMG"){return{name:u,index:nv(n,u,i)}}var c=ov(r.cloneRange());if(!a){c.collapse(false);var f=sv(n,o+"_end",t);Ll(n,c,f)}r=ov(r);r.collapse(true);var s=sv(n,o+"_start",t);Ll(n,r,s);e.moveToBookmark({id:o,keep:true});return{id:o}};var vv=function(e,t,n){if(t===2){return uv(Ya,n,e)}else if(t===3){return cv(e)}else if(t){return fv(e)}else{return lv(e,false)}};var dv=R(uv,N,true);var mv=Uf.DOM;var gv="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow";var hv=function(e,t,n){var r=e.getParam(t,n);if(r.indexOf("=")!==-1){var o=e.getParam(t,"","hash");return Ne(o,e.id).getOr(n)}else{return r}};var pv=function(e){return e.getParam("iframe_attrs",{})};var bv=function(e){return e.getParam("doctype","<!DOCTYPE html>")};var yv=function(e){return e.getParam("document_base_url","")};var wv=function(e){return hv(e,"body_id","tinymce")};var xv=function(e){return hv(e,"body_class","")};var Cv=function(e){return e.getParam("content_security_policy","")};var Sv=function(e){return e.getParam("br_in_pre",true)};var kv=function(e){if(e.getParam("force_p_newlines",false)){return"p"}var t=e.getParam("forced_root_block","p");if(t===false){return""}else if(t===true){return"p"}else{return t}};var Tv=function(e){return e.getParam("forced_root_block_attrs",{})};var Ov=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")};var _v=function(e){return e.getParam("no_newline_selector","")};var Ev=function(e){return e.getParam("keep_styles",true)};var Dv=function(e){return e.getParam("end_container_on_empty_block",false)};var Av=function(e){return mn.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))};var Nv=function(e){return mn.explode(e.getParam("font_size_classes",""))};var Mv=function(e){return e.getParam("images_dataimg_filter",I,"function")};var Rv=function(e){return e.getParam("automatic_uploads",true,"boolean")};var zv=function(e){return e.getParam("images_reuse_filename",false,"boolean")};var Bv=function(e){return e.getParam("images_replace_blob_uris",true,"boolean")};var Pv=function(e){return e.getParam("icons","","string")};var Lv=function(e){return e.getParam("icons_url","","string")};var Hv=function(e){return e.getParam("images_upload_url","","string")};var Iv=function(e){return e.getParam("images_upload_base_path","","string")};var Fv=function(e){return e.getParam("images_upload_credentials",false,"boolean")};var Vv=function(e){return e.getParam("images_upload_handler",null,"function")};var Uv=function(e){return e.getParam("content_css_cors",false,"boolean")};var jv=function(e){return e.getParam("referrer_policy","","string")};var Wv=function(e){return e.getParam("language","en","string")};var qv=function(e){return e.getParam("language_url","","string")};var Gv=function(e){return e.getParam("indent_use_margin",false)};var $v=function(e){return e.getParam("indentation","40px","string")};var Kv=function(e){var t=e.getParam("content_css");if(p(t)){return Q(t.split(","),lt)}else if(y(t)){return t}else if(t===false||e.inline){return[]}else{return["default"]}};var Xv=function(e){var t=e.getParam("font_css",[]);return y(t)?t:Q(t.split(","),lt)};var Yv=function(e){return e.getParam("directionality",ss.isRtl()?"rtl":undefined)};var Jv=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")};var Qv=function(e){var t=e.getParam("object_resizing");if(t===false||en.iOS){return false}else{return p(t)?t:"table,img,figure.image,div,video,iframe"}};var Zv=function(e){return e.getParam("resize_img_proportional",true,"boolean")};var ed=function(e){return e.getParam("placeholder",mv.getAttrib(e.getElement(),"placeholder"),"string")};var td=function(e){return e.getParam("event_root")};var nd=function(e){return e.getParam("service_message")};var rd=function(e){return e.getParam("theme")};var od=function(e){return e.getParam("validate")};var ad=function(e){return e.getParam("inline_boundaries")!==false};var id=function(e){return e.getParam("formats")};var ud=function(e){var t=e.getParam("preview_styles",gv);if(p(t)){return t}else{return""}};var cd=function(e){return e.getParam("format_empty_lines",false,"boolean")};var fd=function(e){return e.getParam("custom_ui_selector","","string")};var sd=function(e){return e.getParam("theme_url")};var ld=function(e){return e.getParam("inline")};var vd=function(e){return e.getParam("hidden_input")};var dd=function(e){return e.getParam("submit_patch")};var md=function(e){return e.getParam("encoding")==="xml"};var gd=function(e){return e.getParam("add_form_submit_trigger")};var hd=function(e){return e.getParam("add_unload_trigger")};var pd=function(e){return kv(e)!==""};var bd=function(e){return e.getParam("custom_undo_redo_levels",0,"number")};var yd=function(e){return e.getParam("disable_nodechange")};var wd=function(e){return e.getParam("readonly")};var xd=function(e){return e.getParam("content_css_cors")};var Cd=function(e){return e.getParam("plugins","","string")};var Sd=function(e){return e.getParam("external_plugins")};var kd=function(e){return e.getParam("block_unsupported_drop",true,"boolean")};var Td=function(e){return e.getParam("visual",true,"boolean")};var Od=function(e){return e.getParam("visual_table_class","mce-item-table","string")};var _d=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")};var Ed=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")};var Dd=jr;var Ad=Zr;var Nd=function(e){var t=e.parentNode;if(t){t.removeChild(e)}};var Md=function(e){var t=Ya(e);return{count:e.length-t.length,text:t}};var Rd=function(e){var t;while((t=e.data.lastIndexOf(Ka))!==-1){e.deleteData(t,1)}};var zd=function(e,t){Fd(e);return t};var Bd=function(e,t){var n=Md(e.data.substr(0,t.offset()));var r=Md(e.data.substr(t.offset()));var o=n.text+r.text;if(o.length>0){Rd(e);return Rl(e,t.offset()-n.count)}else{return t}};var Pd=function(e,t){var n=t.container();var r=X(be(n.childNodes),e).map((function(e){return e<t.offset()?Rl(n,t.offset()-1):t})).getOr(t);Fd(e);return r};var Ld=function(e,t){return Ad(e)&&t.container()===e?Bd(e,t):zd(e,t)};var Hd=function(e,t){return t.container()===e.parentNode?Pd(e,t):zd(e,t)};var Id=function(e,t){return Rl.isTextPosition(t)?Ld(e,t):Hd(e,t)};var Fd=function(e){if(Dd(e)&&ti(e)){if(ni(e)){e.removeAttribute("data-mce-caret")}else{Nd(e)}}if(Ad(e)){Rd(e);if(e.data.length===0){Nd(e)}}};var Vd=qt().browser;var Ud=io;var jd=co;var Wd=uo;var qd="*[contentEditable=false],video,audio,embed,object";var Gd=function(e,t,n){var r=Zs(t.getBoundingClientRect(),n);var o;var a;if(e.tagName==="BODY"){var i=e.ownerDocument.documentElement;o=e.scrollLeft||i.scrollLeft;a=e.scrollTop||i.scrollTop}else{var u=e.getBoundingClientRect();o=e.scrollLeft-u.left;a=e.scrollTop-u.top}r.left+=o;r.right+=o;r.top+=a;r.bottom+=a;r.width=1;var c=t.offsetWidth-t.clientWidth;if(c>0){if(n){c*=-1}r.left+=c;r.right+=c}return r};var $d=function(e){var t=Es(wn.fromDom(e),qd);for(var n=0;n<t.length;n++){var r=t[n].dom;var o=r.previousSibling;if(fi(o)){var a=o.data;if(a.length===1){o.parentNode.removeChild(o)}else{o.deleteData(a.length-1,1)}}o=r.nextSibling;if(ci(o)){var a=o.data;if(a.length===1){o.parentNode.removeChild(o)}else{o.deleteData(0,1)}}}};var Kd=function(e,t,n,r){var o=ds();var a;var i;var u=kv(e);var c=u.length>0?u:"p";var f=function(e,r){var a;s();if(Wd(r)){return null}if(n(r)){i=ui(c,r,e);var u=Gd(t,r,e);zf(i).css("top",u.top);var f=zf('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(We({},u)).appendTo(t)[0];o.set({caret:f,element:r,before:e});if(e){zf(f).addClass("mce-visual-caret-before")}l();a=r.ownerDocument.createRange();a.setStart(i,0);a.setEnd(i,0)}else{i=ri(r,e);a=r.ownerDocument.createRange();if(Yd(i.nextSibling)){a.setStart(i,0);a.setEnd(i,0)}else{a.setStart(i,1);a.setEnd(i,1)}return a}return a};var s=function(){$d(t);if(i){Fd(i);i=null}o.on((function(e){zf(e.caret).remove();o.clear()}));if(a){ba.clearInterval(a);a=undefined}};var l=function(){a=ba.setInterval((function(){if(r()){zf("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden")}else{zf("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")}}),500)};var v=function(){o.on((function(e){var n=Gd(t,e.element,e.before);zf(e.caret).css(We({},n))}))};var d=function(){return ba.clearInterval(a)};var m=function(){return".mce-visual-caret {"+"position: absolute;"+"background-color: black;"+"background-color: currentcolor;"+"}"+".mce-visual-caret-hidden {"+"display: none;"+"}"+"*[data-mce-caret] {"+"position: absolute;"+"left: -1000px;"+"right: auto;"+"top: 0;"+"margin: 0;"+"padding: 0;"+"}"};return{show:f,hide:s,getCss:m,reposition:v,destroy:d}};var Xd=function(){return Vd.isIE()||Vd.isEdge()||Vd.isFirefox()};var Yd=function(e){return Ud(e)||jd(e)};var Jd=function(e){return Yd(e)||Yr(e)&&Xd()};var Qd=io;var Zd=co;var em=qr("display","block table table-cell table-caption list-item");var tm=ti;var nm=Za;var rm=jr;var om=xi;var am=function(e){return e>0};var im=function(e){return e<0};var um=function(e,t){var n;while(n=e(t)){if(!nm(n)){return n}}return null};var cm=function(e,t,n,r,o){var a=new Ca(e,r);var i=Qd(e)||nm(e);if(im(t)){if(i){e=um(a.prev.bind(a),true);if(n(e)){return e}}while(e=um(a.prev.bind(a),o)){if(n(e)){return e}}}if(am(t)){if(i){e=um(a.next.bind(a),true);if(n(e)){return e}}while(e=um(a.next.bind(a),o)){if(n(e)){return e}}}return null};var fm=function(e,t){while(e&&e!==t){if(em(e)){return e}e=e.parentNode}return null};var sm=function(e,t,n){return fm(e.container(),n)===fm(t.container(),n)};var lm=function(e,t){if(!t){return null}var n=t.container();var r=t.offset();if(!rm(n)){return null}return n.childNodes[r+e]};var vm=function(e,t){var n=t.ownerDocument.createRange();if(e){n.setStartBefore(t);n.setEndBefore(t)}else{n.setStartAfter(t);n.setEndAfter(t)}return n};var dm=function(e,t,n){return fm(t,e)===fm(n,e)};var mm=function(e,t,n){var r=e?"previousSibling":"nextSibling";while(n&&n!==t){var o=n[r];if(tm(o)){o=o[r]}if(Qd(o)||Zd(o)){if(dm(t,o,n)){return o}break}if(om(o)){break}n=n.parentNode}return null};var gm=R(vm,true);var hm=R(vm,false);var pm=function(e,t,n){var r;var o=R(mm,true,t);var a=R(mm,false,t);var i=n.startContainer;var u=n.startOffset;if(Za(i)){if(!rm(i)){i=i.parentNode}var c=i.getAttribute("data-mce-caret");if(c==="before"){r=i.nextSibling;if(Jd(r)){return gm(r)}}if(c==="after"){r=i.previousSibling;if(Jd(r)){return hm(r)}}}if(!n.collapsed){return n}if(Zr(i)){if(tm(i)){if(e===1){r=a(i);if(r){return gm(r)}r=o(i);if(r){return hm(r)}}if(e===-1){r=o(i);if(r){return hm(r)}r=a(i);if(r){return gm(r)}}return n}if(fi(i)&&u>=i.data.length-1){if(e===1){r=a(i);if(r){return gm(r)}}return n}if(ci(i)&&u<=1){if(e===-1){r=o(i);if(r){return hm(r)}}return n}if(u===i.data.length){r=a(i);if(r){return gm(r)}return n}if(u===0){r=o(i);if(r){return hm(r)}return n}}return n};var bm=function(e,t){return W.from(lm(e?0:-1,t)).filter(Qd)};var ym=function(e,t,n){var r=pm(e,t,n);if(e===-1){return Rl.fromRangeStart(r)}return Rl.fromRangeEnd(r)};var wm=function(e){return W.from(e.getNode()).map(wn.fromDom)};var xm=function(e){return W.from(e.getNode(true)).map(wn.fromDom)};var Cm=function(e,t){while(t=e(t)){if(t.isVisible()){return t}}return t};var Sm=function(e,t){var n=sm(e,t);if(!n&&ro(e.getNode())){return true}return n};var km;(function(e){e[e["Backwards"]=-1]="Backwards";e[e["Forwards"]=1]="Forwards"})(km||(km={}));var Tm=io;var Om=Zr;var _m=jr;var Em=ro;var Dm=xi;var Am=Oi;var Nm=_i;var Mm=function(e,t){var n=[];while(e&&e!==t){n.push(e);e=e.parentNode}return n};var Rm=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){return e.childNodes[t]}return null};var zm=function(e,t){if(am(e)){if(Dm(t.previousSibling)&&!Om(t.previousSibling)){return Rl.before(t)}if(Om(t)){return Rl(t,0)}}if(im(e)){if(Dm(t.nextSibling)&&!Om(t.nextSibling)){return Rl.after(t)}if(Om(t)){return Rl(t,t.data.length)}}if(im(e)){if(Em(t)){return Rl.before(t)}return Rl.after(t)}return Rl.before(t)};var Bm=function(e,t){var n=t.nextSibling;if(n&&Dm(n)){if(Om(n)){return Rl(n,0)}else{return Rl.before(n)}}else{return Pm(km.Forwards,Rl.after(t),e)}};var Pm=function(e,t,n){var r;var o;var a;var i;if(!_m(n)||!t){return null}if(t.isEqual(Rl.after(n))&&n.lastChild){i=Rl.after(n.lastChild);if(im(e)&&Dm(n.lastChild)&&_m(n.lastChild)){return Em(n.lastChild)?Rl.before(n.lastChild):i}}else{i=t}var u=i.container();var c=i.offset();if(Om(u)){if(im(e)&&c>0){return Rl(u,--c)}if(am(e)&&c<u.length){return Rl(u,++c)}r=u}else{if(im(e)&&c>0){o=Rm(u,c-1);if(Dm(o)){if(!Am(o)){a=cm(o,e,Nm,o);if(a){if(Om(a)){return Rl(a,a.data.length)}return Rl.after(a)}}if(Om(o)){return Rl(o,o.data.length)}return Rl.before(o)}}if(am(e)&&c<u.childNodes.length){o=Rm(u,c);if(Dm(o)){if(Em(o)){return Bm(n,o)}if(!Am(o)){a=cm(o,e,Nm,o);if(a){if(Om(a)){return Rl(a,0)}return Rl.before(a)}}if(Om(o)){return Rl(o,0)}return Rl.after(o)}}r=o?o:i.getNode()}if(am(e)&&i.isAtEnd()||im(e)&&i.isAtStart()){r=cm(r,e,I,n,true);if(Nm(r,n)){return zm(e,r)}}o=cm(r,e,Nm,n);var f=je(ne(Mm(u,n),Tm));if(f&&(!o||!f.contains(o))){if(am(e)){i=Rl.after(f)}else{i=Rl.before(f)}return i}if(o){return zm(e,o)}return null};var Lm=function(e){return{next:function(t){return Pm(km.Forwards,t,e)},prev:function(t){return Pm(km.Backwards,t,e)}}};var Hm=function(e,t,n){var r=e?Rl.before(n):Rl.after(n);return qm(e,t,r)};var Im=function(e){return ro(e)?Rl.before(e):Rl.after(e)};var Fm=function(e){if(Rl.isTextPosition(e)){return e.offset()===0}else{return xi(e.getNode())}};var Vm=function(e){if(Rl.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}else{return xi(e.getNode(true))}};var Um=function(e,t){return!Rl.isTextPosition(e)&&!Rl.isTextPosition(t)&&e.getNode()===t.getNode(true)};var jm=function(e){return!Rl.isTextPosition(e)&&ro(e.getNode())};var Wm=function(e,t,n){if(e){return!Um(t,n)&&!jm(t)&&Vm(t)&&Fm(n)}else{return!Um(n,t)&&Fm(t)&&Vm(n)}};var qm=function(e,t,n){var r=Lm(t);return W.from(e?r.next(n):r.prev(n))};var Gm=function(e,t,n){return qm(e,t,n).bind((function(r){if(sm(n,r,t)&&Wm(e,n,r)){return qm(e,t,r)}else{return W.some(r)}}))};var $m=function(e,t,n,r){return Gm(e,t,n).bind((function(n){return r(n)?$m(e,t,n,r):W.some(n)}))};var Km=function(e,t){var n=e?t.firstChild:t.lastChild;if(Zr(n)){return W.some(Rl(n,e?0:n.data.length))}else if(n){if(xi(n)){return W.some(e?Rl.before(n):Im(n))}else{return Hm(e,t,n)}}else{return W.none()}};var Xm=R(qm,true);var Ym=R(qm,false);var Jm=R(Km,true);var Qm=R(Km,false);var Zm="_mce_caret";var eg=function(e){return jr(e)&&e.id===Zm};var tg=function(e,t){while(t&&t!==e){if(t.id===Zm){return t}t=t.parentNode}return null};var ng=function(e){return p(e.start)};var rg=function(e){return Me(e,"rng")};var og=function(e){return Me(e,"id")};var ag=function(e){return Me(e,"name")};var ig=function(e){return mn.isArray(e.start)};var ug=function(e,t){if(jr(t)&&e.isBlock(t)&&!t.innerHTML&&!en.ie){t.innerHTML='<br data-mce-bogus="1" />'}return t};var cg=function(e,t){var n;var r=e.createRng();n=Jl(e.getRoot(),t.start);r.setStart(n.container(),n.offset());n=Jl(e.getRoot(),t.end);r.setEnd(n.container(),n.offset());return r};var fg=function(e,t){var n=e.ownerDocument.createTextNode(Ka);e.appendChild(n);t.setStart(n,0);t.setEnd(n,0)};var sg=function(e){return e.hasChildNodes()===false};var lg=function(e,t){return Qm(e).fold(H,(function(e){t.setStart(e.container(),e.offset());t.setEnd(e.container(),e.offset());return true}))};var vg=function(e,t,n){if(sg(t)&&tg(e,t)){fg(t,n);return true}else{return false}};var dg=function(e,t,n,r){var o=n[t?"start":"end"];var a,i,u,c;var f=e.getRoot();if(o){u=o[0];for(i=f,a=o.length-1;a>=1;a--){c=i.childNodes;if(vg(f,i,r)){return true}if(o[a]>c.length-1){if(vg(f,i,r)){return true}return lg(i,r)}i=c[o[a]]}if(i.nodeType===3){u=Math.min(o[0],i.nodeValue.length)}if(i.nodeType===1){u=Math.min(o[0],i.childNodes.length)}if(t){r.setStart(i,u)}else{r.setEnd(i,u)}}return true};var mg=function(e){return Zr(e)&&e.data.length>0};var gg=function(e,t,n){var r=e.get(n.id+"_"+t),o,a,i,u;var c=n.keep;var f,s;if(r){o=r.parentNode;if(t==="start"){if(!c){a=e.nodeIndex(r)}else{if(r.hasChildNodes()){o=r.firstChild;a=1}else if(mg(r.nextSibling)){o=r.nextSibling;a=0}else if(mg(r.previousSibling)){o=r.previousSibling;a=r.previousSibling.data.length}else{o=r.parentNode;a=e.nodeIndex(r)+1}}f=o;s=a}else{if(!c){a=e.nodeIndex(r)}else{if(r.hasChildNodes()){o=r.firstChild;a=1}else if(mg(r.previousSibling)){o=r.previousSibling;a=r.previousSibling.data.length}else{o=r.parentNode;a=e.nodeIndex(r)}}f=o;s=a}if(!c){u=r.previousSibling;i=r.nextSibling;mn.each(mn.grep(r.childNodes),(function(e){if(Zr(e)){e.nodeValue=e.nodeValue.replace(/\uFEFF/g,"")}}));while(r=e.get(n.id+"_"+t)){e.remove(r,true)}if(u&&i&&u.nodeType===i.nodeType&&Zr(u)&&!en.opera){a=u.nodeValue.length;u.appendData(i.nodeValue);e.remove(i);f=u;s=a}}return W.some(Rl(f,s))}else{return W.none()}};var hg=function(e,t){var n=e.createRng();if(dg(e,true,t,n)&&dg(e,false,t,n)){return W.some(n)}else{return W.none()}};var pg=function(e,t){var n=gg(e,"start",t);var r=gg(e,"end",t);return lo(n,r.or(n),(function(t,n){var r=e.createRng();r.setStart(ug(e,t.container()),t.offset());r.setEnd(ug(e,n.container()),n.offset());return r}))};var bg=function(e,t){return W.from(e.select(t.name)[t.index]).map((function(t){var n=e.createRng();n.selectNode(t);return n}))};var yg=function(e,t){var n=e.dom;if(t){if(ig(t)){return hg(n,t)}else if(ng(t)){return W.some(cg(n,t))}else if(og(t)){return pg(n,t)}else if(ag(t)){return bg(n,t)}else if(rg(t)){return W.some(t.rng)}}return W.none()};var wg=function(e,t,n){return vv(e,t,n)};var xg=function(e,t){yg(e,t).each((function(t){e.setRng(t)}))};var Cg=function(e){return jr(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"};var Sg=function(e){return function(t){return e===t}};var kg=Sg(qa);var Tg=function(e){return e!==""&&" \f\n\r\t\v".indexOf(e)!==-1};var Og=function(e){return!Tg(e)&&!kg(e)};var _g=function(e){return!!e.nodeType};var Eg=function(e){return e&&/^(IMG)$/.test(e.nodeName)};var Dg=function(e,t,n){var r=n.startOffset;var o=n.startContainer;if(o===n.endContainer){if(Eg(o.childNodes[r])){return}}if(jr(o)){var a=o.childNodes;var i=void 0;if(r<a.length){o=a[r];i=new Ca(o,e.getParent(o,e.isBlock))}else{o=a[a.length-1];i=new Ca(o,e.getParent(o,e.isBlock));i.next(true)}for(var u=i.current();u;u=i.next()){if(Zr(u)&&!Rg(u)){n.setStart(u,0);t.setRng(n);return}}}};var Ag=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r]){if(jr(e)||!Rg(e)){return e}}}};var Ng=function(e,t){if(_g(t)){t=t.nodeName}return!!e.schema.getTextBlockElements()[t.toLowerCase()]};var Mg=function(e,t,n){return e.schema.isValidChild(t,n)};var Rg=function(e,t){if(t===void 0){t=false}if(k(e)&&Zr(e)){var n=t?e.data.replace(/ /g,""):e.data;return Di(n)}else{return false}};var zg=function(e){return k(e)&&Zr(e)&&e.length===0};var Bg=function(e,t){if(T(e)){e=e(t)}else if(k(t)){e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e}))}return e};var Pg=function(e,t){e=e||"";t=t||"";e=""+(e.nodeName||e);t=""+(t.nodeName||t);return e.toLowerCase()===t.toLowerCase()};var Lg=function(e,t,n){if(n==="color"||n==="backgroundColor"){t=e.toHex(t)}if(n==="fontWeight"&&t===700){t="bold"}if(n==="fontFamily"){t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}return""+t};var Hg=function(e,t,n){return Lg(e,e.getStyle(t,n),n)};var Ig=function(e,t){var n;e.getParent(t,(function(t){n=e.getStyle(t,"text-decoration");return n&&n!=="none"}));return n};var Fg=function(e,t,n){return e.getParents(t,n,e.getRoot())};var Vg=function(e,t){var n=function(e){var t=function(e){return e.length>1&&e.charAt(0)==="%"};return J(["styles","attributes"],(function(n){return Ne(e,n).exists((function(e){var n=y(e)?e:Ae(e);return J(n,t)}))}))};return J(e.formatter.get(t),n)};var Ug=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"];var o=function(e){return Ee(e,(function(e,t){return J(r,(function(e){return e===t}))}))};return J(e.formatter.get(t),(function(t){var r=o(t);return J(e.formatter.get(n),(function(e){var t=o(e);return ze(r,t)}))}))};var jg=function(e){return Re(e,"block")};var Wg=function(e){return Re(e,"selector")};var qg=function(e){return Re(e,"inline")};var Gg=function(e){return Wg(e)&&qg(e)&&fo(Ne(e,"mixed"),true)};var $g=function(e){return Wg(e)&&e.expand!==false&&!qg(e)};var Kg=Cg;var Xg=Fg;var Yg=Rg;var Jg=Ng;var Qg=function(e){return ro(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling};var Zg=function(e,t){var n=t;while(n){if(jr(n)&&e.getContentEditable(n)){return e.getContentEditable(n)==="false"?n:t}n=n.parentNode}return t};var eh=function(e,t,n,r){var o=t.data;for(var a=n;e?a>=0:a<o.length;e?a--:a++){if(r(o.charAt(a))){return e?a+1:a}}return-1};var th=function(e,t,n){return eh(e,t,n,(function(e){return kg(e)||Tg(e)}))};var nh=function(e,t,n){return eh(e,t,n,Og)};var rh=function(e,t,n,r,o,a){var i;var u=e.getParent(n,e.isBlock)||t;var c=function(t,n,r){var a=Ys(e);var c=o?a.backwards:a.forwards;return W.from(c(t,n,(function(e,t){if(Kg(e.parentNode)){return-1}else{i=e;return r(o,e,t)}}),u))};var f=c(n,r,th);return f.bind((function(e){return a?c(e.container,e.offset+(o?-1:0),nh):W.some(e)})).orThunk((function(){return i?W.some({container:i,offset:o?0:i.length}):W.none()}))};var oh=function(e,t,n,r,o){if(Zr(r)&&gt(r.data)&&r[o]){r=r[o]}var a=Xg(e,r);for(var i=0;i<a.length;i++){for(var u=0;u<t.length;u++){var c=t[u];if(k(c.collapsed)&&c.collapsed!==n.collapsed){continue}if(Wg(c)&&e.is(a[i],c.selector)){return a[i]}}}return r};var ah=function(e,t,n,r){var o=n;var a=e.dom;var i=a.getRoot();var u=t[0];if(jg(u)){o=u.wrapper?null:a.getParent(n,u.block,i)}if(!o){var c=a.getParent(n,"LI,TD,TH");o=a.getParent(Zr(n)?n.parentNode:n,(function(t){return t!==i&&Jg(e,t)}),c)}if(o&&jg(u)&&u.wrapper){o=Xg(a,o,"ul,ol").reverse()[0]||o}if(!o){o=n;while(o[r]&&!a.isBlock(o[r])){o=o[r];if(Pg(o,"br")){break}}}return o||n};var ih=function(e,t,n,r){var o=n.parentNode;if(k(n[r])){return false}else if(o===t||S(o)||e.isBlock(o)){return true}else{return ih(e,t,o,r)}};var uh=function(e,t,n,r,o){var a=n;var i=o?"previousSibling":"nextSibling";var u=e.getRoot();if(Zr(n)&&!Yg(n)){if(o?r>0:r<n.data.length){return n}}while(true){if(!t[0].block_expand&&e.isBlock(a)){return a}for(var c=a[i];c;c=c[i]){var f=Zr(c)&&!ih(e,u,c,i);if(!Kg(c)&&!Qg(c)&&!Yg(c,f)){return a}}if(a===u||a.parentNode===u){n=a;break}a=a.parentNode}return n};var ch=function(e){return Kg(e.parentNode)||Kg(e)};var fh=function(e,t,n,r){if(r===void 0){r=false}var o=t.startContainer,a=t.startOffset,i=t.endContainer,u=t.endOffset;var c=e.dom;var f=n[0];if(jr(o)&&o.hasChildNodes()){o=ul(o,a);if(Zr(o)){a=0}}if(jr(i)&&i.hasChildNodes()){i=ul(i,t.collapsed?u:u-1);if(Zr(i)){u=i.nodeValue.length}}o=Zg(c,o);i=Zg(c,i);if(ch(o)){o=Kg(o)?o:o.parentNode;if(t.collapsed){o=o.previousSibling||o}else{o=o.nextSibling||o}if(Zr(o)){a=t.collapsed?o.length:0}}if(ch(i)){i=Kg(i)?i:i.parentNode;if(t.collapsed){i=i.nextSibling||i}else{i=i.previousSibling||i}if(Zr(i)){u=t.collapsed?0:i.length}}if(t.collapsed){var s=rh(c,e.getBody(),o,a,true,r);s.each((function(e){var t=e.container,n=e.offset;o=t;a=n}));var l=rh(c,e.getBody(),i,u,false,r);l.each((function(e){var t=e.container,n=e.offset;i=t;u=n}))}if(qg(f)||f.block_expand){if(!qg(f)||(!Zr(o)||a===0)){o=uh(c,n,o,a,true)}if(!qg(f)||(!Zr(i)||u===i.nodeValue.length)){i=uh(c,n,i,u,false)}}if($g(f)){o=oh(c,n,t,o,"previousSibling");i=oh(c,n,t,i,"nextSibling")}if(jg(f)||Wg(f)){o=ah(e,n,o,"previousSibling");i=ah(e,n,i,"nextSibling");if(jg(f)){if(!c.isBlock(o)){o=uh(c,n,o,a,true)}if(!c.isBlock(i)){i=uh(c,n,i,u,false)}}}if(jr(o)){a=c.nodeIndex(o);o=o.parentNode}if(jr(i)){u=c.nodeIndex(i)+1;i=i.parentNode}return{startContainer:o,startOffset:a,endContainer:i,endOffset:u}};var sh=function(e,t,n){var r=t.startOffset;var o=ul(t.startContainer,r);var a=t.endOffset;var i=ul(t.endContainer,a-1);var u=function(e){var t=e[0];if(Zr(t)&&t===o&&r>=t.data.length){e.splice(0,1)}var n=e[e.length-1];if(a===0&&e.length>0&&n===i&&Zr(n)){e.splice(e.length-1,1)}return e};var c=function(e,t,n){var r=[];for(;e&&e!==n;e=e[t]){r.push(e)}return r};var f=function(t,n){return e.getParent(t,(function(e){return e.parentNode===n}),n)};var s=function(e,t,r){var o=r?"nextSibling":"previousSibling";for(var a=e,i=a.parentNode;a&&a!==t;a=i){i=a.parentNode;var f=c(a===e?a:a[o],o);if(f.length){if(!r){f.reverse()}n(u(f))}}};if(o===i){return n(u([o]))}var l=e.findCommonAncestor(o,i);if(e.isChildOf(o,i)){return s(o,l,true)}if(e.isChildOf(i,o)){return s(i,l)}var v=f(o,l)||o;var d=f(i,l)||i;s(o,v,true);var m=c(v===o?v:v.nextSibling,"nextSibling",d===i?d.nextSibling:d);if(m.length){n(u(m))}s(i,d)};var lh=function(e){var t=[];if(e){for(var n=0;n<e.rangeCount;n++){t.push(e.getRangeAt(n))}}return t};var vh=function(e){return fe(e,(function(e){var t=il(e);return t?[wn.fromDom(t)]:[]}))};var dh=function(e){return lh(e).length>1};var mh=function(e){return ne(vh(e),Va)};var gh=function(e){return Es(e,"td[data-mce-selected],th[data-mce-selected]")};var hh=function(e,t){var n=gh(t);return n.length>0?n:mh(e)};var ph=function(e){return hh(lh(e.selection.getSel()),wn.fromDom(e.getBody()))};var bh=function(e,t){return ua(e,"table",t)};var yh=function(e){var t=e.startContainer,n=e.startOffset;if(Zr(t)){return n===0?W.some(wn.fromDom(t)):W.none()}else{return W.from(t.childNodes[n]).map(wn.fromDom)}};var wh=function(e){var t=e.endContainer,n=e.endOffset;if(Zr(t)){return n===t.data.length?W.some(wn.fromDom(t)):W.none()}else{return W.from(t.childNodes[n-1]).map(wn.fromDom)}};var xh=function(e){return ar(e).fold(A([e]),(function(t){return[e].concat(xh(t))}))};var Ch=function(e){return ir(e).fold(A([e]),(function(t){if(Ln(t)==="br"){return Zn(t).map((function(t){return[e].concat(Ch(t))})).getOr([])}else{return[e].concat(Ch(t))}}))};var Sh=function(e,t){return lo(yh(t),wh(t),(function(t,n){var r=ie(xh(e),R(Rn,t));var o=ie(Ch(e),R(Rn,n));return r.isSome()&&o.isSome()})).getOr(false)};var kh=function(e,t,n,r){var o=n,a=new Ca(n,o);var i=Ee(e.schema.getMoveCaretBeforeOnEnterElements(),(function(e,t){return!Y(["td","th","table"],t.toLowerCase())}));do{if(Zr(n)&&mn.trim(n.nodeValue).length!==0){if(r){t.setStart(n,0)}else{t.setEnd(n,n.nodeValue.length)}return}if(i[n.nodeName]){if(r){t.setStartBefore(n)}else{if(n.nodeName==="BR"){t.setEndBefore(n)}else{t.setEndAfter(n)}}return}}while(n=r?a.next():a.prev());if(o.nodeName==="BODY"){if(r){t.setStart(o,0)}else{t.setEnd(o,o.childNodes.length)}}};var Th=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0};var Oh=function(e,t){var n=ph(e);if(n.length>0){Z(n,(function(n){var r=n.dom;var o=e.dom.createRng();o.setStartBefore(r);o.setEndAfter(r);t(o,true)}))}else{t(e.selection.getRng(),false)}};var _h=function(e,t,n){var r=lv(e,t);n(r);e.moveToBookmark(r)};var Eh=function(e,t){var n=function(n){if(!e(n)){throw new Error("Can only get "+t+" value of a "+t+" node")}return r(n).getOr("")};var r=function(t){return e(t)?W.from(t.dom.nodeValue):W.none()};var o=function(n,r){if(!e(n)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}n.dom.nodeValue=r};return{get:n,getOption:r,set:o}};var Dh=Eh(Un,"text");var Ah=function(e){return Dh.get(e)};var Nh=function(e){return Un(e)&&Ah(e)===Ka};var Mh=function(e,t,n,r){return Yn(t).fold((function(){return"skipping"}),(function(o){if(r==="br"||Nh(t)){return"valid"}else if(Rs(t)){return"existing"}else if(eg(t.dom)){return"caret"}else if(!Mg(e,n,r)||!Mg(e,Ln(o),n)){return"invalid-child"}else{return"valid"}}))};var Rh=function(e,t){var n=fh(e,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset);t.setEnd(n.endContainer,n.endOffset);e.selection.setRng(t)};var zh=function(e,t,n,r){var o=t.uid,a=o===void 0?Fs("mce-annotation"):o,i=qe(t,["uid"]);var u=wn.fromTag("span",e);Ss(u,Ds());po(u,""+Ns(),a);po(u,""+As(),n);var c=r(a,i),f=c.attributes,s=f===void 0?{}:f,l=c.classes,v=l===void 0?[]:l;bo(u,s);Vs(u,v);return u};var Bh=function(e,t,n,r,o){var a=[];var i=zh(e.getDoc(),o,n,r);var u=ds();var c=function(){u.clear()};var f=function(){return u.get().getOrThunk((function(){var e=$s(i);a.push(e);u.set(e);return e}))};var s=function(e){Z(e,l)};var l=function(t){var n=Mh(e,t,"span",Ln(t));switch(n){case"invalid-child":{c();var r=rr(t);s(r);c();break}case"valid":{var o=f();Cr(t,o);break}}};var v=function(e){var t=Q(e,wn.fromDom);s(t)};sh(e.dom,t,(function(e){c();v(e)}));return a};var Ph=function(e,t,n,r){e.undoManager.transact((function(){var o=e.selection;var a=o.getRng();var i=ph(e).length>0;if(a.collapsed&&!i){Rh(e,a)}if(o.getRng().collapsed&&!i){var u=zh(e.getDoc(),r,t,n.decorate);qs(u,qa);o.getRng().insertNode(u.dom);o.select(u.dom)}else{_h(o,false,(function(){Oh(e,(function(o){Bh(e,o,t,n.decorate,r)}))}))}}))};var Lh=function(e){var t=Hs();Ls(e,t);var n=Ps(e);return{register:function(e,n){t.register(e,n)},annotate:function(n,r){t.lookup(n).each((function(t){Ph(e,n,t,r)}))},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){Ms(e,W.some(t)).each((function(e){var t=e.elements;Z(t,_r)}))},getAll:function(t){var n=Bs(e,t);return Se(n,(function(e){return Q(e,(function(e){return e.dom}))}))}}};var Hh=function(e){return{getBookmark:R(wg,e),moveToBookmark:R(xg,e)}};Hh.isBookmarkNode=Cg;var Ih=function(e,t){while(t&&t!==e){if(ao(t)||io(t)){return t}t=t.parentNode}return null};var Fh=function(e,t,n){if(n.collapsed){return false}if(en.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(jr(r)){return J(r.getClientRects(),(function(n){return ol(n,e,t)}))}}return J(n.getClientRects(),(function(n){return ol(n,e,t)}))};var Vh=function(e,t){return e.fire("PreProcess",t)};var Uh=function(e,t){return e.fire("PostProcess",t)};var jh=function(e){return e.fire("remove")};var Wh=function(e){return e.fire("detach")};var qh=function(e,t){return e.fire("SwitchMode",{mode:t})};var Gh=function(e,t,n,r,o){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:o})};var $h=function(e,t,n,r,o){e.fire("ObjectResized",{target:t,width:n,height:r,origin:o})};var Kh=function(e){return e.fire("PreInit")};var Xh=function(e){return e.fire("PostRender")};var Yh=function(e){return e.fire("Init")};var Jh=function(e,t){return e.fire("PlaceholderToggle",{state:t})};var Qh=function(e,t,n){return e.fire(t,n)};var Zh=function(e,t,n,r){return e.fire("FormatApply",{format:t,node:n,vars:r})};var ep=function(e,t,n,r){return e.fire("FormatRemove",{format:t,node:n,vars:r})};var tp={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||tp.metaKeyPressed(e)},metaKeyPressed:function(e){return en.mac?e.metaKey:e.ctrlKey&&!e.altKey}};var np=io;var rp=function(e,t){var n="data-mce-selected";var r=t.dom,o=mn.each;var a,i,u,c,f;var s,l,v,d,m,g,h,p;var b,y;var w=t.getDoc(),x=document;var C=Math.abs,S=Math.round,T=t.getBody();var O,_;var E={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var D=function(e){return e&&(e.nodeName==="IMG"||t.dom.is(e,"figure.image"))};var A=function(e){return co(e)||r.hasClass(e,"mce-preview-object")};var N=function(e,t){if(e.type==="longpress"||e.type.indexOf("touch")===0){var n=e.touches[0];return D(e.target)&&!Fh(n.clientX,n.clientY,t)}else{return D(e.target)&&!Fh(e.clientX,e.clientY,t)}};var M=function(e){var n=e.target;if(N(e,t.selection.getRng())&&!e.isDefaultPrevented()){t.selection.select(n)}};var R=function(e){if(r.is(e,"figure.image")){return[e.querySelector("img")]}else if(r.hasClass(e,"mce-preview-object")&&k(e.firstElementChild)){return[e,e.firstElementChild]}else{return[e]}};var z=function(e){var n=Qv(t);if(!n){return false}if(e.getAttribute("data-mce-resize")==="false"){return false}if(e===t.getBody()){return false}if(r.hasClass(e,"mce-preview-object")){return Dn(wn.fromDom(e.firstElementChild),n)}else{return Dn(wn.fromDom(e),n)}};var B=function(e){if(A(e)){return r.create("img",{src:en.transparentSrc})}else{return e.cloneNode(true)}};var P=function(e,n,o){if(k(o)){var a=R(e);Z(a,(function(e){if(e.style[n]||!t.schema.isValid(e.nodeName.toLowerCase(),n)){r.setStyle(e,n,o)}else{r.setAttrib(e,n,""+o)}}))}};var L=function(e,t,n){P(e,"width",t);P(e,"height",n)};var H=function(e){var n,o,f;var w,x;n=e.screenX-s;o=e.screenY-l;b=n*c[2]+m;y=o*c[3]+g;b=b<5?5:b;y=y<5?5:y;if((D(a)||A(a))&&Zv(t)!==false){f=!tp.modifierPressed(e)}else{f=tp.modifierPressed(e)}if(f){if(C(n)>C(o)){y=S(b*h);b=S(y/h)}else{b=S(y/h);y=S(b*h)}}L(i,b,y);w=c.startPos.x+n;x=c.startPos.y+o;w=w>0?w:0;x=x>0?x:0;r.setStyles(u,{left:w,top:x,display:"block"});u.innerHTML=b+" &times; "+y;if(c[2]<0&&i.clientWidth<=b){r.setStyle(i,"left",v+(m-b))}if(c[3]<0&&i.clientHeight<=y){r.setStyle(i,"top",d+(g-y))}n=T.scrollWidth-O;o=T.scrollHeight-_;if(n+o!==0){r.setStyles(u,{left:w-n,top:x-o})}if(!p){Gh(t,a,m,g,"corner-"+c.name);p=true}};var I=function(){var e=p;p=false;if(e){P(a,"width",b);P(a,"height",y)}r.unbind(w,"mousemove",H);r.unbind(w,"mouseup",I);if(x!==w){r.unbind(x,"mousemove",H);r.unbind(x,"mouseup",I)}r.remove(i);r.remove(u);r.remove(f);F(a);if(e){$h(t,a,b,y,"corner-"+c.name);r.setAttrib(a,"style",r.getAttrib(a,"style"))}t.nodeChanged()};var F=function(e){W();var v=r.getPos(e,T);var d=v.x;var p=v.y;var C=e.getBoundingClientRect();var S=C.width||C.right-C.left;var k=C.height||C.bottom-C.top;if(a!==e){V();a=e;b=y=0}var D=t.fire("ObjectSelected",{target:e});var A=r.getAttrib(a,n,"1");if(z(e)&&!D.isDefaultPrevented()){o(E,(function(e,t){var o;var v=function(o){var v=R(a)[0];s=o.screenX;l=o.screenY;m=v.clientWidth;g=v.clientHeight;h=g/m;c=e;c.name=t;c.startPos={x:S*e[0]+d,y:k*e[1]+p};O=T.scrollWidth;_=T.scrollHeight;f=r.add(T,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"});r.setStyles(f,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"});i=B(a);r.addClass(i,"mce-clonedresizable");r.setAttrib(i,"data-mce-bogus","all");i.contentEditable="false";r.setStyles(i,{left:d,top:p,margin:0});L(i,S,k);i.removeAttribute(n);T.appendChild(i);r.bind(w,"mousemove",H);r.bind(w,"mouseup",I);if(x!==w){r.bind(x,"mousemove",H);r.bind(x,"mouseup",I)}u=r.add(T,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},m+" &times; "+g)};o=r.get("mceResizeHandle"+t);if(o){r.remove(o)}o=r.add(T,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:true,style:"cursor:"+t+"-resize; margin:0; padding:0"});if(en.ie===11){o.contentEditable=false}r.bind(o,"mousedown",(function(e){e.stopImmediatePropagation();e.preventDefault();v(e)}));e.elm=o;r.setStyles(o,{left:S*e[0]+d-o.offsetWidth/2,top:k*e[1]+p-o.offsetHeight/2})}))}else{V()}if(!r.getAttrib(a,n)){a.setAttribute(n,A)}};var V=function(){W();if(a){a.removeAttribute(n)}Ce(E,(function(e,t){var n=r.get("mceResizeHandle"+t);if(n){r.unbind(n);r.remove(n)}}))};var U=function(a){var i,u;var c=function(e,t){if(e){do{if(e===t){return true}}while(e=e.parentNode)}};if(p||t.removed){return}o(r.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute(n)}));u=a.type==="mousedown"?a.target:e.getNode();u=r.$(u).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0];if(c(u,T)){q();i=e.getStart(true);if(c(i,u)&&c(e.getEnd(true),u)){F(u);return}}V()};var j=function(e){return np(Ih(t.getBody(),e))};var W=function(){Ce(E,(function(e){if(e.elm){r.unbind(e.elm);delete e.elm}}))};var q=function(){try{t.getDoc().execCommand("enableObjectResizing",false,"false")}catch(e){}};t.on("init",(function(){q();if(en.browser.isIE()||en.browser.isEdge()){t.on("mousedown click",(function(e){var n=e.target,r=n.nodeName;if(!p&&/^(TABLE|IMG|HR)$/.test(r)&&!j(n)){if(e.button!==2){t.selection.select(n,r==="TABLE")}if(e.type==="mousedown"){t.nodeChanged()}}}));var e=function(e){var n=function(e){ba.setEditorTimeout(t,(function(){return t.selection.select(e)}))};if(j(e.target)||co(e.target)){e.preventDefault();n(e.target);return}if(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)){e.preventDefault();if(e.target.tagName==="IMG"){n(e.target)}}};r.bind(T,"mscontrolselect",e);t.on("remove",(function(){return r.unbind(T,"mscontrolselect",e)}))}var n=ba.throttle((function(e){if(!t.composing){U(e)}}));t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",n);t.on("keyup compositionend",(function(e){if(a&&a.nodeName==="TABLE"){n(e)}}));t.on("hide blur",V);t.on("contextmenu longpress",M,true)}));t.on("remove",W);var G=function(){a=i=f=null};return{isResizable:z,showResizeRect:F,hideResizeRect:V,updateResizeRect:U,destroy:G}};var op=function(e){return ao(e)||io(e)};var ap=function(e,t,n){while(e&&e!==t){if(n(e)){return e}e=e.parentNode}return null};var ip=function(e,t,n){var r;var o=n.elementFromPoint(e,t);var a=n.body.createTextRange();if(!o||o.tagName==="HTML"){o=n.body}a.moveToElementText(o);r=mn.toArray(a.getClientRects());r=r.sort((function(e,n){e=Math.abs(Math.max(e.top-t,e.bottom-t));n=Math.abs(Math.max(n.top-t,n.bottom-t));return e-n}));if(r.length>0){t=(r[0].bottom+r[0].top)/2;try{a.moveToPoint(e,t);a.collapse(true);return a}catch(e){}}return null};var up=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return io(ap(n,t,op))?null:e};var cp=function(e,t,n){var r,o;var a=n;if(a.caretPositionFromPoint){o=a.caretPositionFromPoint(e,t);if(o){r=n.createRange();r.setStart(o.offsetNode,o.offset);r.collapse(true)}}else if(a.caretRangeFromPoint){r=a.caretRangeFromPoint(e,t)}else if(a.body.createTextRange){r=a.body.createTextRange();try{r.moveToPoint(e,t);r.collapse(true)}catch(o){r=ip(e,t,n)}return up(r,n.body)}return r};var fp=function(e,t){return e&&t&&(e.startContainer===t.startContainer&&e.startOffset===t.startOffset)&&(e.endContainer===t.endContainer&&e.endOffset===t.endOffset)};var sp=function(e,t,n){while(e&&e!==t){if(n(e)){return e}e=e.parentNode}return null};var lp=function(e,t,n){return sp(e,t,n)!==null};var vp=function(e,t,n){return lp(e,t,(function(e){return e.nodeName===n}))};var dp=function(e){return e&&e.nodeName==="TABLE"};var mp=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)};var gp=function(e,t){return ti(e)&&lp(e,t,eg)===false};var hp=function(e,t,n){var r=new Ca(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());while(t=r[n?"prev":"next"]()){if(ro(t)){return true}}};var pp=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t};var bp=function(e,t){while(t&&t!==e){if(io(t)){return true}t=t.parentNode}return false};var yp=function(e,t,n,r,o){var a;var i=e.getRoot();var u;var c=e.schema.getNonEmptyElements();var f=e.getParent(o.parentNode,e.isBlock)||i;if(r&&ro(o)&&t&&e.isEmpty(f)){return W.some(Rl(o.parentNode,e.nodeIndex(o)))}var s=new Ca(o,f);while(u=s[r?"prev":"next"]()){if(e.getContentEditableParent(u)==="false"||gp(u,i)){return W.none()}if(Zr(u)&&u.nodeValue.length>0){if(vp(u,i,"A")===false){return W.some(Rl(u,r?u.nodeValue.length:0))}return W.none()}if(e.isBlock(u)||c[u.nodeName.toLowerCase()]){return W.none()}a=u}if(n&&a){return W.some(Rl(a,0))}return W.none()};var wp=function(e,t,n,r){var o,a;var i=e.getRoot();var u;var c,f=false;o=r[(n?"start":"end")+"Container"];a=r[(n?"start":"end")+"Offset"];var s=jr(o)&&a===o.childNodes.length;var l=e.schema.getNonEmptyElements();c=n;if(ti(o)){return W.none()}if(jr(o)&&a>o.childNodes.length-1){c=false}if(to(o)){o=i;a=0}if(o===i){if(c){u=o.childNodes[a>0?a-1:0];if(u){if(ti(u)){return W.none()}if(l[u.nodeName]||dp(u)){return W.none()}}}if(o.hasChildNodes()){a=Math.min(!c&&a>0?a-1:a,o.childNodes.length-1);o=o.childNodes[a];a=Zr(o)&&s?o.data.length:0;if(!t&&o===i.lastChild&&dp(o)){return W.none()}if(bp(i,o)||ti(o)){return W.none()}if(o.hasChildNodes()&&dp(o)===false){u=o;var v=new Ca(o,i);do{if(io(u)||ti(u)){f=false;break}if(Zr(u)&&u.nodeValue.length>0){a=c?0:u.nodeValue.length;o=u;f=true;break}if(l[u.nodeName.toLowerCase()]&&!mp(u)){a=e.nodeIndex(u);o=u.parentNode;if(!c){a++}f=true;break}}while(u=c?v.next():v.prev())}}}if(t){if(Zr(o)&&a===0){yp(e,s,t,true,o).each((function(e){o=e.container();a=e.offset();f=true}))}if(jr(o)){u=o.childNodes[a];if(!u){u=o.childNodes[a-1]}if(u&&ro(u)&&!pp(u,"A")&&!hp(e,u,false)&&!hp(e,u,true)){yp(e,s,t,true,u).each((function(e){o=e.container();a=e.offset();f=true}))}}}if(c&&!t&&Zr(o)&&a===o.nodeValue.length){yp(e,s,t,false,o).each((function(e){o=e.container();a=e.offset();f=true}))}return f?W.some(Rl(o,a)):W.none()};var xp=function(e,t){var n=t.collapsed,r=t.cloneRange();var o=Rl.fromRangeStart(t);wp(e,n,true,r).each((function(e){if(!n||!Rl.isAbove(o,e)){r.setStart(e.container(),e.offset())}}));if(!n){wp(e,n,false,r).each((function(e){r.setEnd(e.container(),e.offset())}))}if(n){r.collapse(true)}return fp(t,r)?W.none():W.some(r)};var Cp=function(e,t){return e.splitText(t)};var Sp=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;if(t===r&&Zr(t)){if(n>0&&n<t.nodeValue.length){r=Cp(t,n);t=r.previousSibling;if(o>n){o=o-n;t=r=Cp(r,o).previousSibling;o=r.nodeValue.length;n=0}else{o=0}}}else{if(Zr(t)&&n>0&&n<t.nodeValue.length){t=Cp(t,n);n=0}if(Zr(r)&&o>0&&o<r.nodeValue.length){r=Cp(r,o).previousSibling;o=r.nodeValue.length}}return{startContainer:t,startOffset:n,endContainer:r,endOffset:o}};var kp=function(e){var t=function(t,n){return sh(e,t,n)};var n=Sp;var r=function(t){return xp(e,t).fold(H,(function(e){t.setStart(e.startContainer,e.startOffset);t.setEnd(e.endContainer,e.endOffset);return true}))};return{walk:t,split:n,normalize:r}};kp.compareRanges=fp;kp.getCaretRangeFromPoint=cp;kp.getSelectedNode=il;kp.getNode=ul;var Tp=function(e,t){var n=function(t,n){if(!O(n)&&!n.match(/^[0-9]+$/)){throw new Error(e+".set accepts only positive integer values. Value was "+n)}var r=t.dom;if(go(r)){r.style[e]=n+"px"}};var r=function(n){var r=t(n);if(r<=0||r===null){var o=Oo(n,e);return parseFloat(o)||0}return r};var o=r;var a=function(e,t){return oe(t,(function(t,n){var r=Oo(e,n);var o=r===undefined?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)};var i=function(e,t,n){var r=a(e,n);var o=t>r?t-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:a,max:i}};var Op=Tp("height",(function(e){var t=e.dom;return Er(e)?t.getBoundingClientRect().height:t.offsetHeight}));var _p=function(e){return Op.get(e)};var Ep=function(e,t){var n=e.view(t);return n.fold(A([]),(function(t){var n=e.owner(t);var r=Ep(e,n);return[t].concat(r)}))};var Dp=function(e,t){var n=t.owner(e);return Ep(t,n)};var Ap=function(e){var t;var n=e.dom===document?W.none():W.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return n.map(wn.fromDom)};var Np=function(e){return $n(e)};var Mp=Object.freeze({__proto__:null,view:Ap,owner:Np});var Rp=function(e){var t=wn.fromDom(document);var n=Br(t);var r=Dp(e,Mp);var o=zr(e);var a=re(r,(function(e,t){var n=zr(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Ar(a.left+o.left+n.left,a.top+o.top+n.top)};var zp=function(e){return Ln(e)==="textarea"};var Bp=function(e,t){var n=e.fire("ScrollIntoView",t);return n.isDefaultPrevented()};var Pp=function(e,t){e.fire("AfterScrollIntoView",t)};var Lp=function(e,t){var n=rr(e);if(n.length===0||zp(e)){return{element:e,offset:t}}else if(t<n.length&&!zp(n[t])){return{element:n[t],offset:0}}else{var r=n[n.length-1];if(zp(r)){return{element:e,offset:t}}else{if(Ln(r)==="img"){return{element:r,offset:1}}else if(Un(r)){return{element:r,offset:Ah(r).length}}else{return{element:r,offset:rr(r).length}}}}};var Hp=function(e,t){var n=Rr(e);var r=_p(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}};var Ip=function(e,t){var n=Lp(e,t);var r=wn.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ka+"</span>");br(n.element,r);return Hp(r,(function(){return Or(r)}))};var Fp=function(e){return Hp(wn.fromDom(e),_)};var Vp=function(e,t,n,r){qp(e,(function(o,a){return jp(e,t,n,r)}),n)};var Up=function(e,t,n,r,o){var a={elm:r.element.dom,alignToTop:o};if(Bp(e,a)){return}var i=Br(t).top;n(t,i,r,o);Pp(e,a)};var jp=function(e,t,n,r){var o=wn.fromDom(e.getBody());var a=wn.fromDom(e.getDoc());Ao(o);var i=Ip(wn.fromDom(n.startContainer),n.startOffset);Up(e,a,t,i,r);i.cleanup()};var Wp=function(e,t,n,r){var o=wn.fromDom(e.getDoc());Up(e,o,n,Fp(t),r)};var qp=function(e,t,n){var r=n.startContainer;var o=n.startOffset;var a=n.endContainer;var i=n.endOffset;t(wn.fromDom(r),wn.fromDom(a));var u=e.dom.createRng();u.setStart(r,o);u.setEnd(a,i);e.selection.setRng(n)};var Gp=function(e,t,n,r){var o=e.pos;if(n){Pr(o.left,o.top,r)}else{var a=o.top-t+e.height;Pr(o.left,a,r)}};var $p=function(e,t,n,r,o){var a=n+t;var i=r.pos.top;var u=r.bottom;var c=u-i>=n;if(i<t){Gp(r,n,o!==false,e)}else if(i>a){var f=c?o!==false:o===true;Gp(r,n,f,e)}else if(u>a&&!c){Gp(r,n,o===true,e)}};var Kp=function(e,t,n,r){var o=e.dom.defaultView.innerHeight;$p(e,t,o,n,r)};var Xp=function(e,t,n,r){var o=e.dom.defaultView.innerHeight;$p(e,t,o,n,r);var a=Rp(n.element);var i=Fr(window);if(a.top<i.y){Lr(n.element,r!==false)}else if(a.top>i.bottom){Lr(n.element,r===true)}};var Yp=function(e,t,n){return Vp(e,Kp,t,n)};var Jp=function(e,t,n){return Wp(e,t,Kp,n)};var Qp=function(e,t,n){return Vp(e,Xp,t,n)};var Zp=function(e,t,n){return Wp(e,t,Xp,n)};var eb=function(e,t,n){var r=e.inline?Jp:Zp;r(e,t,n)};var tb=function(e,t,n){var r=e.inline?Yp:Qp;r(e,t,n)};var nb=function(){return wn.fromDom(document)};var rb=function(e){return e.dom.focus()};var ob=function(e){var t=vr(e).dom;return e.dom===t.activeElement};var ab=function(e){if(e===void 0){e=nb()}return W.from(e.dom.activeElement).map(wn.fromDom)};var ib=function(e){return ab(vr(e)).filter((function(t){return e.dom.contains(t.dom)}))};var ub=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}};var cb={create:ub};var fb=ea.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);var sb=function(e,t,n,r){return e.fold(t,n,r)};var lb=function(e){return e.fold(N,N,N)};var vb=fb.before;var db=fb.on;var mb=fb.after;var gb={before:vb,on:db,after:mb,cata:sb,getStart:lb};var hb=ea.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]);var pb=function(e){return hb.exact(e.start,e.soffset,e.finish,e.foffset)};var bb=function(e){return e.match({domRange:function(e){return wn.fromDom(e.startContainer)},relative:function(e,t){return gb.getStart(e)},exact:function(e,t,n,r){return e}})};var yb=hb.domRange;var wb=hb.relative;var xb=hb.exact;var Cb=function(e){var t=bb(e);return Xn(t)};var Sb=cb.create;var kb={domRange:yb,relative:wb,exact:xb,exactFromRange:pb,getWin:Cb,range:Sb};var Tb=qt().browser;var Ob=function(e,t){var n=Un(t)?Ah(t).length:rr(t).length+1;if(e>n){return n}else if(e<0){return 0}return e};var _b=function(e){return kb.range(e.start,Ob(e.soffset,e.start),e.finish,Ob(e.foffset,e.finish))};var Eb=function(e,t){return!Ur(t.dom)&&(Pn(e,t)||Rn(e,t))};var Db=function(e){return function(t){return Eb(e,t.start)&&Eb(e,t.finish)}};var Ab=function(e){return e.inline===true||Tb.isIE()};var Nb=function(e){return kb.range(wn.fromDom(e.startContainer),e.startOffset,wn.fromDom(e.endContainer),e.endOffset)};var Mb=function(e){var t=e.getSelection();var n=!t||t.rangeCount===0?W.none():W.from(t.getRangeAt(0));return n.map(Nb)};var Rb=function(e){var t=Xn(e);return Mb(t.dom).filter(Db(e))};var zb=function(e,t){return W.from(t).filter(Db(e)).map(_b)};var Bb=function(e){var t=document.createRange();try{t.setStart(e.start.dom,e.soffset);t.setEnd(e.finish.dom,e.foffset);return W.some(t)}catch(e){return W.none()}};var Pb=function(e){var t=Ab(e)?Rb(wn.fromDom(e.getBody())):W.none();e.bookmark=t.isSome()?t:e.bookmark};var Lb=function(e,t){var n=wn.fromDom(e.getBody());var r=Ab(e)?W.from(t):W.none();var o=r.map(Nb).filter(Db(n));e.bookmark=o.isSome()?o:e.bookmark};var Hb=function(e){var t=e.bookmark?e.bookmark:W.none();return t.bind((function(t){return zb(wn.fromDom(e.getBody()),t)})).bind(Bb)};var Ib=function(e){Hb(e).each((function(t){return e.selection.setRng(t)}))};var Fb=function(e){var t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1};var Vb={isEditorUIElement:Fb};var Ub=function(e){return e.type==="nodechange"&&e.selectionChange};var jb=function(e,t){var n=function(){t.throttle()};Uf.DOM.bind(document,"mouseup",n);e.on("remove",(function(){Uf.DOM.unbind(document,"mouseup",n)}))};var Wb=function(e){e.on("focusout",(function(){Pb(e)}))};var qb=function(e,t){e.on("mouseup touchend",(function(e){t.throttle()}))};var Gb=function(e,t){var n=qt().browser;if(n.isIE()){Wb(e)}else{qb(e,t)}e.on("keyup NodeChange",(function(t){if(!Ub(t)){Pb(e)}}))};var $b=function(e){var t=ms((function(){Pb(e)}),0);e.on("init",(function(){if(e.inline){jb(e,t)}Gb(e,t)}));e.on("remove",(function(){t.cancel()}))};var Kb;var Xb=Uf.DOM;var Yb=function(e){return Vb.isEditorUIElement(e)};var Jb=function(e){var t=e.classList;if(t!==undefined){return t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body")}else{return false}};var Qb=function(e,t){var n=fd(e);var r=Xb.getParent(t,(function(t){return Yb(t)||(n?e.dom.is(t,n):false)}));return r!==null};var Zb=function(e){try{var t=vr(wn.fromDom(e.getElement()));return ab(t).fold((function(){return document.body}),(function(e){return e.dom}))}catch(e){return document.body}};var ey=function(e,t){var n=t.editor;$b(n);n.on("focusin",(function(){var t=e.focusedEditor;if(t!==n){if(t){t.fire("blur",{focusedEditor:n})}e.setActive(n);e.focusedEditor=n;n.fire("focus",{blurredEditor:t});n.focus(true)}}));n.on("focusout",(function(){ba.setEditorTimeout(n,(function(){var t=e.focusedEditor;if(!Qb(n,Zb(n))&&t===n){n.fire("blur",{focusedEditor:null});e.focusedEditor=null}}))}));if(!Kb){Kb=function(t){var n=e.activeEditor;if(n){hr(t).each((function(t){if(t.ownerDocument===document){if(t!==document.body&&!Qb(n,t)&&e.focusedEditor===n){n.fire("blur",{focusedEditor:null});e.focusedEditor=null}}}))}};Xb.bind(document,"focusin",Kb)}};var ty=function(e,t){if(e.focusedEditor===t.editor){e.focusedEditor=null}if(!e.activeEditor){Xb.unbind(document,"focusin",Kb);Kb=null}};var ny=function(e){e.on("AddEditor",R(ey,e));e.on("RemoveEditor",R(ty,e))};var ry=function(e,t){return e.dom.getParent(t,(function(t){return e.dom.getContentEditable(t)==="true"}))};var oy=function(e){return e.collapsed?W.from(ul(e.startContainer,e.startOffset)).map(wn.fromDom):W.none()};var ay=function(e,t){return oy(t).bind((function(t){if(Fa(t)){return W.some(t)}else if(Pn(e,t)===false){return W.some(e)}else{return W.none()}}))};var iy=function(e,t){ay(wn.fromDom(e.getBody()),t).bind((function(e){return Jm(e.dom)})).fold((function(){e.selection.normalize();return}),(function(t){return e.selection.setRng(t.toRange())}))};var uy=function(e){if(e.setActive){try{e.setActive()}catch(t){e.focus()}}else{e.focus()}};var cy=function(e){return ob(e)||ib(e).isSome()};var fy=function(e){return e.iframeElement&&ob(wn.fromDom(e.iframeElement))};var sy=function(e){var t=e.getBody();return t&&cy(wn.fromDom(t))};var ly=function(e){var t=vr(wn.fromDom(e.getElement()));return ab(t).filter((function(t){return!Jb(t.dom)&&Qb(e,t.dom)})).isSome()};var vy=function(e){return e.inline?sy(e):fy(e)};var dy=function(e){return vy(e)||ly(e)};var my=function(e){var t=e.selection;var n=e.getBody();var r=t.getRng();e.quirks.refreshContentEditable();if(e.bookmark!==undefined&&vy(e)===false){Hb(e).each((function(t){e.selection.setRng(t);r=t}))}var o=ry(e,t.getNode());if(e.$.contains(n,o)){uy(o);iy(e,r);gy(e);return}if(!e.inline){if(!en.opera){uy(n)}e.getWin().focus()}if(en.gecko||e.inline){uy(n);iy(e,r)}gy(e)};var gy=function(e){return e.editorManager.setActive(e)};var hy=function(e,t){if(e.removed){return}if(t){gy(e)}else{my(e)}};var py=function(e,t,n,r,o){var a=n?t.startContainer:t.endContainer;var i=n?t.startOffset:t.endOffset;return W.from(a).map(wn.fromDom).map((function(e){return!r||!t.collapsed?or(e,o(e,i)).getOr(e):e})).bind((function(e){return Vn(e)?W.some(e):Yn(e).filter(Vn)})).map((function(e){return e.dom})).getOr(e)};var by=function(e,t,n){return py(e,t,true,n,(function(e,t){return Math.min(ur(e),t)}))};var yy=function(e,t,n){return py(e,t,false,n,(function(e,t){return t>0?t-1:t}))};var wy=function(e,t){var n=e;while(e&&Zr(e)&&e.length===0){e=t?e.nextSibling:e.previousSibling}return e||n};var xy=function(e,t){var n,r,o;if(!t){return e}r=t.startContainer;o=t.endContainer;var a=t.startOffset;var i=t.endOffset;n=t.commonAncestorContainer;if(!t.collapsed){if(r===o){if(i-a<2){if(r.hasChildNodes()){n=r.childNodes[a]}}}if(r.nodeType===3&&o.nodeType===3){if(r.length===a){r=wy(r.nextSibling,true)}else{r=r.parentNode}if(i===0){o=wy(o.previousSibling,false)}else{o=o.parentNode}if(r&&r===o){return r}}}if(n&&n.nodeType===3){return n.parentNode}return n};var Cy=function(e,t,n,r){var o;var a=[];var i=e.getRoot();n=e.getParent(n||by(i,t,t.collapsed),e.isBlock);r=e.getParent(r||yy(i,t,t.collapsed),e.isBlock);if(n&&n!==i){a.push(n)}if(n&&r&&n!==r){o=n;var u=new Ca(n,i);while((o=u.next())&&o!==r){if(e.isBlock(o)){a.push(o)}}}if(r&&n!==r&&r!==i){a.push(r)}return a};var Sy=function(e,t,n){return W.from(t).map((function(t){var r=e.nodeIndex(t);var o=e.createRng();o.setStart(t.parentNode,r);o.setEnd(t.parentNode,r+1);if(n){kh(e,o,t,true);kh(e,o,t,false)}return o}))};var ky=function(e,t){return Q(t,(function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t}))};var Ty={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};var Oy=function(e,t,n){var r=n?"lastChild":"firstChild";var o=n?"prev":"next";if(e[r]){return e[r]}if(e!==t){var a=e[o];if(a){return a}for(var i=e.parent;i&&i!==t;i=i.parent){a=i[o];if(a){return a}}}};var _y=function(e){if(!Di(e.value)){return false}var t=e.parent;if(t&&(t.name!=="span"||t.attr("style"))&&/^[ ]+$/.test(e.value)){return false}return true};var Ey=function(e){var t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};var Dy=function(){function e(e,t){this.name=e;this.type=t;if(t===1){this.attributes=[];this.attributes.map={}}}e.create=function(t,n){var r=new e(t,Ty[t]||1);if(n){Ce(n,(function(e,t){r.attr(t,e)}))}return r};e.prototype.replace=function(e){var t=this;if(e.parent){e.remove()}t.insert(e,t);t.remove();return t};e.prototype.attr=function(e,t){var n=this;var r;if(typeof e!=="string"){if(e!==undefined&&e!==null){Ce(e,(function(e,t){n.attr(t,e)}))}return n}if(r=n.attributes){if(t!==undefined){if(t===null){if(e in r.map){delete r.map[e];var o=r.length;while(o--){if(r[o].name===e){r.splice(o,1);return n}}}return n}if(e in r.map){var o=r.length;while(o--){if(r[o].name===e){r[o].value=t;break}}}else{r.push({name:e,value:t})}r.map[e]=t;return n}return r.map[e]}};e.prototype.clone=function(){var t=this;var n=new e(t.name,t.type);var r;if(r=t.attributes){var o=[];o.map={};for(var a=0,i=r.length;a<i;a++){var u=r[a];if(u.name!=="id"){o[o.length]={name:u.name,value:u.value};o.map[u.name]=u.value}}n.attributes=o}n.value=t.value;n.shortEnded=t.shortEnded;return n};e.prototype.wrap=function(e){var t=this;t.parent.insert(e,t);e.append(t);return t};e.prototype.unwrap=function(){var e=this;for(var t=e.firstChild;t;){var n=t.next;e.insert(t,e,true);t=n}e.remove()};e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;if(t){if(t.firstChild===e){t.firstChild=n;if(n){n.prev=null}}else{r.next=n}if(t.lastChild===e){t.lastChild=r;if(r){r.next=null}}else{n.prev=r}e.parent=e.next=e.prev=null}return e};e.prototype.append=function(e){var t=this;if(e.parent){e.remove()}var n=t.lastChild;if(n){n.next=e;e.prev=n;t.lastChild=e}else{t.lastChild=t.firstChild=e}e.parent=t;return e};e.prototype.insert=function(e,t,n){if(e.parent){e.remove()}var r=t.parent||this;if(n){if(t===r.firstChild){r.firstChild=e}else{t.prev.next=e}e.prev=t.prev;e.next=t;t.prev=e}else{if(t===r.lastChild){r.lastChild=e}else{t.next.prev=e}e.next=t.next;e.prev=t;t.next=e}e.parent=r;return e};e.prototype.getAll=function(e){var t=this;var n=[];for(var r=t.firstChild;r;r=Oy(r,t)){if(r.name===e){n.push(r)}}return n};e.prototype.children=function(){var e=this;var t=[];for(var n=e.firstChild;n;n=n.next){t.push(n)}return t};e.prototype.empty=function(){var e=this;if(e.firstChild){var t=[];for(var n=e.firstChild;n;n=Oy(n,e)){t.push(n)}var r=t.length;while(r--){var n=t[r];n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}}e.firstChild=e.lastChild=null;return e};e.prototype.isEmpty=function(e,t,n){if(t===void 0){t={}}var r=this;var o=r.firstChild;if(Ey(r)){return false}if(o){do{if(o.type===1){if(o.attr("data-mce-bogus")){continue}if(e[o.name]){return false}if(Ey(o)){return false}}if(o.type===8){return false}if(o.type===3&&!_y(o)){return false}if(o.type===3&&o.parent&&t[o.parent.name]&&Di(o.value)){return false}if(n&&n(o)){return false}}while(o=Oy(o,r))}return true};e.prototype.walk=function(e){return Oy(this,null,e)};return e}();var Ay=function(e){var t=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi;var n=[];var r={};var o=Fs("img");var a;var i=0;var u=0;while(a=t.exec(e)){var c=a[0];var f=o+"_"+u++;r[f]=c;if(i<a.index){n.push(e.substr(i,a.index-i))}n.push(f);i=a.index+c.length}var s=new RegExp(o+"_[0-9]+","g");if(i===0){return{prefix:o,uris:r,html:e,re:s}}else{if(i<e.length){n.push(e.substr(i))}return{prefix:o,uris:r,html:n.join(""),re:s}}};var Ny=function(e,t){return e.replace(t.re,(function(e){return Ne(t.uris,e).getOr(e)}))};var My=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);if(t){return W.some({type:t[1],data:decodeURIComponent(t[2])})}else{return W.none()}};var Ry=mn.each,zy=mn.trim;var By="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");var Py={ftp:21,http:80,https:443,mailto:25};var Ly=["img","video"];var Hy=function(e,t){if(k(e)){return!e}else{return k(t)?!Y(Ly,t):true}};var Iy=function(e,t,n){if(e.allow_html_data_urls){return false}else if(/^data:image\//i.test(t)){return Hy(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(t)}else{return/^data:/i.test(t)}};var Fy=function(){function e(t,n){t=zy(t);this.settings=n||{};var r=this.settings.base_uri;var o=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){o.source=t;return}var a=t.indexOf("//")===0;if(t.indexOf("/")===0&&!a){t=(r?r.protocol||"http":"http")+"://mce_host"+t}if(!/^[\w\-]*:?\/\//.test(t)){var i=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol==""){t="//mce_host"+o.toAbsPath(i,t)}else{var u=/([^#?]*)([#?]?.*)/.exec(t);t=(r&&r.protocol||"http")+"://mce_host"+o.toAbsPath(i,u[1])+u[2]}}t=t.replace(/@@/g,"(mce_at)");var c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);Ry(By,(function(e,t){var n=c[t];if(n){n=n.replace(/\(mce_at\)/g,"@@")}o[e]=n}));if(r){if(!o.protocol){o.protocol=r.protocol}if(!o.userInfo){o.userInfo=r.userInfo}if(!o.port&&o.host==="mce_host"){o.port=r.port}if(!o.host||o.host==="mce_host"){o.host=r.host}o.source=""}if(a){o.protocol=""}}e.parseDataUri=function(e){var t;var n=decodeURIComponent(e).split(",");var r=/data:([^;]+)/.exec(n[0]);if(r){t=r[1]}return{type:t,data:n[1]}};e.isDomSafe=function(e,t,n){if(n===void 0){n={}}if(n.allow_script_urls){return true}else{var r=su.decode(e).replace(/[\s\u0000-\u001F]+/g,"");try{r=decodeURIComponent(r)}catch(e){r=unescape(r)}if(/((java|vb)script|mhtml):/i.test(r)){return false}return!Iy(n,r,t)}};e.getDocumentBaseUrl=function(e){var t;if(e.protocol.indexOf("http")!==0&&e.protocol!=="file:"){t=e.href}else{t=e.protocol+"//"+e.host+e.pathname}if(/^[^:]+:\/\/\/?[^\/]+\//.test(t)){t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(t)){t+="/"}}return t};e.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0];this.directory=t[1];this.file=t[2];this.source="";this.getURI()};e.prototype.toRelative=function(t){var n;if(t==="./"){return t}var r=new e(t,{base_uri:this});if(r.host!=="mce_host"&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&r.protocol!==""){return r.getURI()}var o=this.getURI(),a=r.getURI();if(o===a||o.charAt(o.length-1)==="/"&&o.substr(0,o.length-1)===a){return o}n=this.toRelPath(this.path,r.path);if(r.query){n+="?"+r.query}if(r.anchor){n+="#"+r.anchor}return n};e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))};e.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port){return true}var t=Py[this.protocol];if(t&&(this.port||t)==(e.port||t)){return true}}return false};e.prototype.toRelPath=function(e,t){var n=0,r="",o,a;var i=e.substring(0,e.lastIndexOf("/")).split("/");var u=t.split("/");if(i.length>=u.length){for(o=0,a=i.length;o<a;o++){if(o>=u.length||i[o]!==u[o]){n=o+1;break}}}if(i.length<u.length){for(o=0,a=u.length;o<a;o++){if(o>=i.length||i[o]!==u[o]){n=o+1;break}}}if(n===1){return t}for(o=0,a=i.length-(n-1);o<a;o++){r+="../"}for(o=n-1,a=u.length;o<a;o++){if(o!==n-1){r+="/"+u[o]}else{r+=u[o]}}return r};e.prototype.toAbsPath=function(e,t){var n,r=0,o=[],a;var i=/\/$/.test(t)?"/":"";var u=e.split("/");var c=t.split("/");Ry(u,(function(e){if(e){o.push(e)}}));u=o;for(n=c.length-1,o=[];n>=0;n--){if(c[n].length===0||c[n]==="."){continue}if(c[n]===".."){r++;continue}if(r>0){r--;continue}o.push(c[n])}n=u.length-r;if(n<=0){a=le(o).join("/")}else{a=u.slice(0,n).join("/")+"/"+le(o).join("/")}if(a.indexOf("/")!==0){a="/"+a}if(i&&a.lastIndexOf("/")!==a.length-1){a+=i}return a};e.prototype.getURI=function(e){if(e===void 0){e=false}var t;if(!this.source||e){t="";if(!e){if(this.protocol){t+=this.protocol+"://"}else{t+="//"}if(this.userInfo){t+=this.userInfo+"@"}if(this.host){t+=this.host}if(this.port){t+=":"+this.port}}if(this.path){t+=this.path}if(this.query){t+="?"+this.query}if(this.anchor){t+="#"+this.anchor}this.source=t}return this.source};return e}();var Vy=mn.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea");var Uy=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0};var jy=$e((function(){return document.implementation.createHTMLDocument("parser")}));var Wy=function(e,t,n){var r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g;var o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g;var a=e.getShortEndedElements();var i=1,u=n;while(i!==0){r.lastIndex=u;while(true){var c=r.exec(t);if(c===null){return u}else if(c[1]==="!"){if(ft(c[2],"--")){u=Gy(t,false,c.index+"!--".length)}else{u=Gy(t,true,c.index+1)}break}else{o.lastIndex=r.lastIndex;var f=o.exec(t);if(w(f)||f.index!==r.lastIndex){continue}if(c[1]==="/"){i-=1}else if(!Me(a,c[2])){i+=1}u=r.lastIndex+f[0].length;break}}}return u};var qy=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))};var Gy=function(e,t,n){if(n===void 0){n=0}var r=e.toLowerCase();if(r.indexOf("[if ",n)!==-1&&qy(r,n)){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}else{if(t){var a=r.indexOf(">",n);return a!==-1?a:r.length}else{var i=/--!?>/g;i.lastIndex=n;var u=i.exec(e);return u?u.index+u[0].length:r.length}}};var $y=function(e,t){var n=e.exec(t);if(n){var r=n[1];var o=n[2];return typeof r==="string"&&r.toLowerCase()==="data-mce-bogus"?o:null}else{return null}};var Ky=function(e,t){if(t===void 0){t=Su()}e=e||{};var n=jy();var r=n.createElement("form");if(e.fix_self_closing!==false){e.fix_self_closing=true}var o=e.comment?e.comment:_;var a=e.cdata?e.cdata:_;var i=e.text?e.text:_;var u=e.start?e.start:_;var c=e.end?e.end:_;var f=e.pi?e.pi:_;var s=e.doctype?e.doctype:_;var l=function(l,v){if(v===void 0){v="html"}var d=l.html;var m,g=0,h,p;var b=[];var y,w,x,C;var S,k;var T,O,_,E,D,A;var N,M,R;var z,B,P=0;var L=su.decode;var H=mn.makeMap("src,href,data,background,action,formaction,poster,xlink:href");var I=v==="html"?0:1;var F=function(e){var t,n;t=b.length;while(t--){if(b[t].name===e){break}}if(t>=0){for(n=b.length-1;n>=t;n--){e=b[n];if(e.valid){c(e.name)}}b.length=t}};var V=function(e,t){return i(Ny(e,l),t)};var U=function(t){if(t===""){return}if(t.charAt(0)===">"){t=" "+t}if(!e.allow_conditional_comments&&t.substr(0,3).toLowerCase()==="[if"){t=" "+t}o(Ny(t,l))};var j=function(e){return Ny(e,l)};var W=function(e,t){var n=e||"";var r=!ft(n,"--");var o=Gy(d,r,t);e=d.substr(t,o-t);U(r?n+e:e);return o+1};var q=function(t,o,a,i,u){o=o.toLowerCase();a=j(o in Y?o:L(a||i||u||""));if(J&&!S&&Uy(o)===false){var c=D[o];if(!c&&A){var f=A.length;while(f--){c=A[f];if(c.pattern.test(o)){break}}if(f===-1){c=null}}if(!c){return}if(c.validValues&&!(a in c.validValues)){return}}var s=o==="name"||o==="id";if(s&&t in Vy&&(a in n||a in r)){return}if(H[o]&&!Fy.isDomSafe(a,t,e)){return}if(S&&(o in H||o.indexOf("on")===0)){return}y.map[o]=a;y.push({name:o,value:a})};var G=new RegExp("<(?:"+"(?:!--([\\w\\W]*?)--!?>)|"+"(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|"+"(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|"+"(?:!(--)?)|"+"(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|"+"(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|"+"(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>)"+")","g");var $=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;var K=t.getShortEndedElements();var X=e.self_closing_elements||t.getSelfClosingElements();var Y=t.getBoolAttrs();var J=e.validate;var Q=e.remove_internals;var Z=e.fix_self_closing;var ee=t.getSpecialElements();var te=d+">";while(m=G.exec(te)){var ne=m[0];if(g<m.index){V(L(d.substr(g,m.index-g)))}if(h=m[7]){h=h.toLowerCase();if(h.charAt(0)===":"){h=h.substr(1)}F(h)}else if(h=m[8]){if(m.index+ne.length>d.length){V(L(d.substr(m.index)));g=m.index+ne.length;continue}h=h.toLowerCase();if(h.charAt(0)===":"){h=h.substr(1)}k=h in K;if(Z&&X[h]&&b.length>0&&b[b.length-1].name===h){F(h)}var re=$y($,m[9]);if(re!==null){if(re==="all"){g=Wy(t,d,G.lastIndex);G.lastIndex=g;continue}O=false}if(!J||(T=t.getElementRule(h))){O=true;if(J){D=T.attributes;A=T.attributePatterns}if(E=m[9]){S=E.indexOf("data-mce-type")!==-1;if(S&&Q){O=false}y=[];y.map={};E.replace($,(function(e,t,n,r,o){q(h,t,n,r,o);return""}))}else{y=[];y.map={}}if(J&&!S){N=T.attributesRequired;M=T.attributesDefault;R=T.attributesForced;z=T.removeEmptyAttrs;if(z&&!y.length){O=false}if(R){w=R.length;while(w--){_=R[w];C=_.name;B=_.value;if(B==="{$uid}"){B="mce_"+P++}y.map[C]=B;y.push({name:C,value:B})}}if(M){w=M.length;while(w--){_=M[w];C=_.name;if(!(C in y.map)){B=_.value;if(B==="{$uid}"){B="mce_"+P++}y.map[C]=B;y.push({name:C,value:B})}}}if(N){w=N.length;while(w--){if(N[w]in y.map){break}}if(w===-1){O=false}}if(_=y.map["data-mce-bogus"]){if(_==="all"){g=Wy(t,d,G.lastIndex);G.lastIndex=g;continue}O=false}}if(O){u(h,y,k)}}else{O=false}if(p=ee[h]){p.lastIndex=g=m.index+ne.length;if(m=p.exec(d)){if(O){x=d.substr(g,m.index-g)}g=m.index+m[0].length}else{x=d.substr(g);g=d.length}if(O){if(x.length>0){V(x,true)}c(h)}G.lastIndex=g;continue}if(!k){if(!E||E.indexOf("/")!==E.length-1){b.push({name:h,valid:O})}else if(O){c(h)}}}else if(h=m[1]){U(h)}else if(h=m[2]){var oe=I===1||e.preserve_cdata||b.length>0&&t.isValidChild(b[b.length-1].name,"#cdata");if(oe){a(h)}else{g=W("",m.index+2);G.lastIndex=g;continue}}else if(h=m[3]){s(h)}else if((h=m[4])||ne==="<!"){g=W(h,m.index+ne.length);G.lastIndex=g;continue}else if(h=m[5]){if(I===1){f(h,m[6])}else{g=W("?",m.index+2);G.lastIndex=g;continue}}g=m.index+ne.length}if(g<d.length){V(L(d.substr(g)))}for(w=b.length-1;w>=0;w--){h=b[w];if(h.valid){c(h.name)}}};var v=function(e,t){if(t===void 0){t="html"}l(Ay(e),t)};return{parse:v}};Ky.findEndTag=Wy;var Xy=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")};var Yy=function(e,t){var n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g;var r=e.schema;var o=Xy(e.getTempAttrs(),t);var a=r.getShortEndedElements();var i;while(i=n.exec(o)){var u=n.lastIndex;var c=i[0].length;var f=void 0;if(a[i[1]]){f=u}else{f=Ky.findEndTag(r,o,u)}o=o.substring(0,u-c)+o.substring(f);n.lastIndex=u-c}return Ya(o)};var Jy=Yy;var Qy=function(e,t){var n=kv(e);var r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")};var Zy=function(e,t){return We(We({},e),{format:t,get:true,getInner:true})};var ew=function(e,t,n,r){var o=Zy(t,n);var a=t.no_events?o:e.fire("BeforeGetContent",o);var i;if(a.format==="raw"){i=mn.trim(Jy(e.serializer,r.innerHTML))}else if(a.format==="text"){i=e.dom.isEmpty(r)?"":Ya(r.innerText||r.textContent)}else if(a.format==="tree"){i=e.serializer.serialize(r,a)}else{i=Qy(e,e.serializer.serialize(r,a))}if(!Y(["text","tree"],a.format)&&!Ua(wn.fromDom(r))){a.content=mn.trim(i)}else{a.content=i}if(a.no_events){return a.content}else{return e.fire("GetContent",a).content}};var tw=function(e,t,n){return W.from(e.getBody()).fold(A(t.format==="tree"?new Dy("body",11):""),(function(r){return ew(e,t,n,r)}))};var nw=mn.each;var rw=function(e){var t=function(t,n){if(t.nodeName!==n.nodeName){return false}var r=function(t){var n={};nw(e.getAttribs(t),(function(r){var o=r.nodeName.toLowerCase();if(o.indexOf("_")!==0&&o!=="style"&&o.indexOf("data-")!==0){n[o]=e.getAttrib(t,o)}}));return n};var o=function(e,t){var n,r;for(r in e){if(Me(e,r)){n=t[r];if(typeof n==="undefined"){return false}if(e[r]!==n){return false}delete t[r]}}for(r in t){if(Me(t,r)){return false}}return true};if(!o(r(t),r(n))){return false}if(!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))){return false}return!Cg(t)&&!Cg(n)};return{compare:t}};var ow=mn.makeMap;var aw=function(e){var t=[];e=e||{};var n=e.indent;var r=ow(e.indent_before||"");var o=ow(e.indent_after||"");var a=su.getEncodeFunc(e.entity_encoding||"raw",e.entities);var i=e.element_format==="html";return{start:function(e,u,c){var f,s,l,v;if(n&&r[e]&&t.length>0){v=t[t.length-1];if(v.length>0&&v!=="\n"){t.push("\n")}}t.push("<",e);if(u){for(f=0,s=u.length;f<s;f++){l=u[f];t.push(" ",l.name,'="',a(l.value,true),'"')}}if(!c||i){t[t.length]=">"}else{t[t.length]=" />"}if(c&&n&&o[e]&&t.length>0){v=t[t.length-1];if(v.length>0&&v!=="\n"){t.push("\n")}}},end:function(e){var r;t.push("</",e,">");if(n&&o[e]&&t.length>0){r=t[t.length-1];if(r.length>0&&r!=="\n"){t.push("\n")}}},text:function(e,n){if(e.length>0){t[t.length]=n?e:a(e)}},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,r){if(r){t.push("<?",e," ",a(r),"?>")}else{t.push("<?",e,"?>")}if(n){t.push("\n")}},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}};var iw=function(e,t){if(t===void 0){t=Su()}var n=aw(e);e=e||{};e.validate="validate"in e?e.validate:true;var r=function(r){var o=e.validate;var a={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild){do{i(e)}while(e=e.next)}}};n.reset();var i=function(e){var r=a[e.type];if(!r){var u=e.name;var c=e.shortEnded;var f=e.attributes;if(o&&f&&f.length>1){var s=[];s.map={};var l=t.getElementRule(e.name);if(l){for(var v=0,d=l.attributesOrder.length;v<d;v++){var m=l.attributesOrder[v];if(m in f.map){var g=f.map[m];s.map[m]=g;s.push({name:m,value:g})}}for(var v=0,d=f.length;v<d;v++){var m=f[v].name;if(!(m in s.map)){var g=f.map[m];s.map[m]=g;s.push({name:m,value:g})}}f=s}}n.start(e.name,f,c);if(!c){if(e=e.firstChild){do{i(e)}while(e=e.next)}n.end(u)}}else{r(e)}};if(r.type===1&&!e.inner){i(r)}else{a[11](r)}return n.getContent()};return{serialize:r}};var uw=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Z(e,(function(e){uw.add(e)}))})();var cw=["font","text-decoration","text-emphasis"];var fw=function(e,t){return we(e.parseStyle(e.getAttrib(t,"style")))};var sw=function(e){return uw.has(e)};var lw=function(e,t){return se(fw(e,t),(function(e){return!sw(e)}))};var vw=function(e){return ne(e,(function(e){return J(cw,(function(t){return ft(e,t)}))}))};var dw=function(e,t,n){var r=fw(e,t);var o=fw(e,n);var a=function(r){var o=e.getStyle(t,r);var a=e.getStyle(n,r);return mt(o)&&mt(a)&&o!==a};return J(r,(function(e){var t=function(t){return J(t,(function(t){return t===e}))};if(!t(o)&&t(cw)){var n=vw(o);return J(n,a)}else{return a(e)}}))};var mw=function(e,t,n){return W.from(n.container()).filter(Zr).exists((function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))}))};var gw=R(mw,true,Tg);var hw=R(mw,false,Tg);var pw=function(e){var t=e.container();return Zr(t)&&(t.data.length===0||Xa(t.data)&&Hh.isBookmarkNode(t.parentNode))};var bw=function(e,t){return function(n){return W.from(lm(e?0:-1,n)).filter(t).isSome()}};var yw=function(e){return oo(e)&&Oo(wn.fromDom(e),"display")==="block"};var ww=function(e){return io(e)&&!Xr(e)};var xw=bw(true,yw);var Cw=bw(false,yw);var Sw=bw(true,co);var kw=bw(false,co);var Tw=bw(true,Yr);var Ow=bw(false,Yr);var _w=bw(true,ww);var Ew=bw(false,ww);var Dw=function(e){var t=[];var n=e.dom;while(n){t.push(wn.fromDom(n));n=n.lastChild}return t};var Aw=function(e){var t=Es(e,"br");var n=ne(Dw(e).slice(-1),Pa);if(t.length===n.length){Z(n,Or)}};var Nw=function(e){Tr(e);xr(e,wn.fromHtml('<br data-mce-bogus="1">'))};var Mw=function(e){ir(e).each((function(t){Zn(t).each((function(n){if(Ra(e)&&Pa(t)&&Ra(n)){Or(t)}}))}))};var Rw=function(e){return e.slice(0,-1)};var zw=function(e,t,n){if(Pn(t,e)){return Rw(Jn(e,(function(e){return n(e)||Rn(e,t)})))}else{return[]}};var Bw=function(e,t){return zw(e,t,H)};var Pw=function(e,t){return[e].concat(Bw(e,t))};var Lw=function(e,t,n){return $m(e,t,n,pw)};var Hw=function(e,t){return ie(Pw(wn.fromDom(t.container()),e),Ra)};var Iw=function(e,t,n){return Lw(e,t.dom,n).forall((function(e){return Hw(t,n).fold((function(){return sm(e,n,t.dom)===false}),(function(r){return sm(e,n,t.dom)===false&&Pn(r,wn.fromDom(e.container()))}))}))};var Fw=function(e,t,n){return Hw(t,n).fold((function(){return Lw(e,t.dom,n).forall((function(e){return sm(e,n,t.dom)===false}))}),(function(t){return Lw(e,t.dom,n).isNone()}))};var Vw=R(Fw,false);var Uw=R(Fw,true);var jw=R(Iw,false);var Ww=R(Iw,true);var qw=function(e){return wm(e).exists(Pa)};var Gw=function(e,t,n){var r=ne(Pw(wn.fromDom(n.container()),t),Ra);var o=he(r).getOr(t);return qm(e,o.dom,n).filter(qw)};var $w=function(e,t){return wm(t).exists(Pa)||Gw(true,e,t).isSome()};var Kw=function(e,t){return xm(t).exists(Pa)||Gw(false,e,t).isSome()};var Xw=R(Gw,false);var Yw=R(Gw,true);var Jw=function(e){return Rl.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()};var Qw=function(e,t){var n=ne(Pw(wn.fromDom(t.container()),e),Ra);return he(n).getOr(e)};var Zw=function(e,t){if(Jw(t)){return hw(t)}else{return hw(t)||Ym(Qw(e,t).dom,t).exists(hw)}};var ex=function(e,t){if(Jw(t)){return gw(t)}else{return gw(t)||Xm(Qw(e,t).dom,t).exists(gw)}};var tx=function(e){return Y(["pre","pre-wrap"],e)};var nx=function(e){return wm(e).bind((function(e){return oa(e,Vn)})).exists((function(e){return tx(Oo(e,"white-space"))}))};var rx=function(e,t){return Ym(e.dom,t).isNone()};var ox=function(e,t){return Xm(e.dom,t).isNone()};var ax=function(e,t){return rx(e,t)||ox(e,t)||Vw(e,t)||Uw(e,t)||Kw(e,t)||$w(e,t)};var ix=function(e,t){if(nx(t)){return false}else{return ax(e,t)||Zw(e,t)||ex(e,t)}};var ux=function(e,t){if(nx(t)){return false}else{return Vw(e,t)||jw(e,t)||Kw(e,t)||Zw(e,t)}};var cx=function(e){var t=e.container();var n=e.offset();if(Zr(t)&&n<t.data.length){return Rl(t,n+1)}else{return e}};var fx=function(e,t){if(nx(t)){return false}else{return Uw(e,t)||Ww(e,t)||$w(e,t)||ex(e,t)}};var sx=function(e,t){return ux(e,t)||fx(e,cx(t))};var lx=function(e,t){return kg(e.charAt(t))};var vx=function(e){var t=e.container();return Zr(t)&&ct(t.data,qa)};var dx=function(e){var t=e.split("");return Q(t,(function(e,n){if(kg(e)&&n>0&&n<t.length-1&&Og(t[n-1])&&Og(t[n+1])){return" "}else{return e}})).join("")};var mx=function(e,t){var n=t.data;var r=Rl(t,0);if(lx(n,0)&&!sx(e,r)){t.data=" "+n.slice(1);return true}else{return false}};var gx=function(e){var t=e.data;var n=dx(t);if(n!==t){e.data=n;return true}else{return false}};var hx=function(e,t){var n=t.data;var r=Rl(t,n.length-1);if(lx(n,n.length-1)&&!sx(e,r)){t.data=n.slice(0,-1)+" ";return true}else{return false}};var px=function(e,t){return W.some(t).filter(vx).bind((function(t){var n=t.container();var r=mx(e,n)||gx(n)||hx(e,n);return r?W.some(t):W.none()}))};var bx=function(e){var t=wn.fromDom(e.getBody());if(e.selection.isCollapsed()){px(t,Rl.fromRangeStart(e.selection.getRng())).each((function(t){e.selection.setRng(t.toRange())}))}};var yx=function(e,t,n){var r=oe(e,(function(r,o){if(Tg(o)||kg(o)){if(r.previousCharIsSpace||r.str===""&&t||r.str.length===e.length-1&&n){return{previousCharIsSpace:false,str:r.str+qa}}else{return{previousCharIsSpace:true,str:r.str+" "}}}else{return{previousCharIsSpace:false,str:r.str+o}}}),{previousCharIsSpace:false,str:""});return r.str};var wx=function(e,t,n){if(n===0){return}var r=wn.fromDom(e);var o=ra(r,Ra).getOr(r);var a=e.data.slice(t,t+n);var i=t+n>=e.data.length&&fx(o,Rl(e,e.data.length));var u=t===0&&ux(o,Rl(e,0));e.replaceData(t,n,yx(a,u,i))};var xx=function(e,t){var n=e.data.slice(t);var r=n.length-vt(n).length;wx(e,t,r)};var Cx=function(e,t){var n=e.data.slice(0,t);var r=n.length-dt(n).length;wx(e,t-r,r)};var Sx=function(e,t,n,r){if(r===void 0){r=true}var o=dt(e.data).length;var a=r?e:t;var i=r?t:e;if(r){a.appendData(i.data)}else{a.insertData(0,i.data)}Or(wn.fromDom(i));if(n){xx(a,o)}return a};var kx=function(e,t){var n=e.container();var r=e.offset();return Rl.isTextPosition(e)===false&&n===t.parentNode&&r>Rl.before(t).offset()};var Tx=function(e,t){return kx(t,e)?Rl(t.container(),t.offset()-1):t};var Ox=function(e){return Zr(e)?Rl(e,0):Rl.before(e)};var _x=function(e){return Zr(e)?Rl(e,e.data.length):Rl.after(e)};var Ex=function(e){if(xi(e.previousSibling)){return W.some(_x(e.previousSibling))}else{return e.previousSibling?Qm(e.previousSibling):W.none()}};var Dx=function(e){if(xi(e.nextSibling)){return W.some(Ox(e.nextSibling))}else{return e.nextSibling?Jm(e.nextSibling):W.none()}};var Ax=function(e,t){var n=Rl.before(t.previousSibling?t.previousSibling:t.parentNode);return Ym(e,n).fold((function(){return Xm(e,Rl.after(t))}),W.some)};var Nx=function(e,t){return Xm(e,Rl.after(t)).fold((function(){return Ym(e,Rl.before(t))}),W.some)};var Mx=function(e,t){return Ex(t).orThunk((function(){return Dx(t)})).orThunk((function(){return Ax(e,t)}))};var Rx=function(e,t){return Dx(t).orThunk((function(){return Ex(t)})).orThunk((function(){return Nx(e,t)}))};var zx=function(e,t,n){return e?Rx(t,n):Mx(t,n)};var Bx=function(e,t,n){return zx(e,t,n).map(R(Tx,n))};var Px=function(e,t,n){n.fold((function(){e.focus()}),(function(n){e.selection.setRng(n.toRange(),t)}))};var Lx=function(e){return function(t){return t.dom===e}};var Hx=function(e,t){return t&&Me(e.schema.getBlockElements(),Ln(t))};var Ix=function(e){if(Hi(e)){var t=wn.fromHtml('<br data-mce-bogus="1">');Tr(e);xr(e,t);return W.some(Rl.before(t.dom))}else{return W.none()}};var Fx=function(e,t,n){var r=Zn(e).filter(Un);var o=er(e).filter(Un);Or(e);return vo(r,o,t,(function(e,t,r){var o=e.dom,a=t.dom;var i=o.data.length;Sx(o,a,n);return r.container()===a?Rl(o,i):r})).orThunk((function(){if(n){r.each((function(e){return Cx(e.dom,e.dom.length)}));o.each((function(e){return xx(e.dom,0)}))}return t}))};var Vx=function(e,t){return Me(e.schema.getTextInlineElements(),Ln(t))};var Ux=function(e,t,n,r){if(r===void 0){r=true}var o=Bx(t,e.getBody(),n.dom);var a=ra(n,R(Hx,e),Lx(e.getBody()));var i=Fx(n,o,Vx(e,n));if(e.dom.isEmpty(e.getBody())){e.setContent("");e.selection.setCursorLocation()}else{a.bind(Ix).fold((function(){if(r){Px(e,t,i)}}),(function(n){if(r){Px(e,t,W.some(n))}}))}};var jx=function(e){return function(t){return Rn(e,t)}};var Wx=function(e){return Es(e,"td,th")};var qx=function(e,t){var n=function(e){return bh(wn.fromDom(e),t)};var r=n(e.startContainer);var o=n(e.endContainer);var a=r.isSome();var i=o.isSome();var u=lo(r,o,Rn).getOr(false);var c=!u&&a&&i;return{startTable:r,endTable:o,isStartInTable:a,isEndInTable:i,isSameTable:u,isMultiTable:c}};var Gx=function(e,t){return{start:e,end:t}};var $x=function(e,t,n){return{rng:e,table:t,cells:n}};var Kx=ea.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]);var Xx=function(e,t){return fa(wn.fromDom(e),"td,th",t)};var Yx=function(e){return!Rn(e.start,e.end)};var Jx=function(e,t){return bh(e.start,t).bind((function(n){return bh(e.end,t).bind((function(e){return mo(Rn(n,e),n)}))}))};var Qx=function(e,t){return!Yx(e)&&Jx(e,t).exists((function(e){var t=e.dom.rows;return t.length===1&&t[0].cells.length===1}))};var Zx=function(e,t){var n=Xx(e.startContainer,t);var r=Xx(e.endContainer,t);return lo(n,r,Gx)};var eC=function(e){return function(t){return bh(t,e).bind((function(e){return pe(Wx(e)).map((function(e){return Gx(t,e)}))}))}};var tC=function(e){return function(t){return bh(t,e).bind((function(e){return he(Wx(e)).map((function(e){return Gx(e,t)}))}))}};var nC=function(e){return function(t){return Jx(t,e).map((function(e){return $x(t,e,Wx(e))}))}};var rC=function(e,t,n,r){if(n.collapsed||!e.forall(Yx)){return W.none()}else if(t.isSameTable){var o=e.bind(nC(r));return W.some({start:o,end:o})}else{var a=Xx(n.startContainer,r);var i=Xx(n.endContainer,r);var u=a.bind(eC(r)).bind(nC(r));var c=i.bind(tC(r)).bind(nC(r));return W.some({start:u,end:c})}};var oC=function(e,t){return ue(e,(function(e){return Rn(e,t)}))};var aC=function(e){return lo(oC(e.cells,e.rng.start),oC(e.cells,e.rng.end),(function(t,n){return e.cells.slice(t,n+1)}))};var iC=function(e,t,n){return e.exists((function(e){return Qx(e,n)&&Sh(e.start,t)}))};var uC=function(e,t){var n=t.startTable,r=t.endTable;var o=e.cloneRange();n.each((function(e){return o.setStartAfter(e.dom)}));r.each((function(e){return o.setEndBefore(e.dom)}));return o};var cC=function(e,t,n,r){return rC(e,t,n,r).bind((function(e){var t=e.start,n=e.end;return t.or(n)})).bind((function(e){var r=t.isSameTable;var o=aC(e).getOr([]);if(r&&e.cells.length===o.length){return W.some(Kx.fullTable(e.table))}else if(o.length>0){if(r){return W.some(Kx.partialTable(o,W.none()))}else{var a=uC(n,t);return W.some(Kx.partialTable(o,W.some(We(We({},t),{rng:a}))))}}else{return W.none()}}))};var fC=function(e,t,n,r){return rC(e,t,n,r).bind((function(e){var r=e.start,o=e.end;var a=r.bind(aC).getOr([]);var i=o.bind(aC).getOr([]);if(a.length>0&&i.length>0){var u=uC(n,t);return W.some(Kx.multiTable(a,i,u))}else{return W.none()}}))};var sC=function(e,t){var n=jx(e);var r=Zx(t,n);var o=qx(t,n);if(iC(r,t,n)){return r.map((function(e){return Kx.singleCellTable(t,e.start)}))}else if(o.isMultiTable){return fC(r,o,t,n)}else{return cC(r,o,t,n)}};var lC=function(e){var t=Fn(e)?Zn(e):ir(e);return t.bind(lC).orThunk((function(){return W.some(e)}))};var vC=function(e){return Z(e,(function(e){Co(e,"contenteditable");Nw(e)}))};var dC=function(e,t){return W.from(e.dom.getParent(t,e.dom.isBlock)).map(wn.fromDom)};var mC=function(e,t,n){n.each((function(n){if(t){Or(n)}else{Nw(n);e.selection.setCursorLocation(n.dom,0)}}))};var gC=function(e,t,n,r){var o=n.cloneRange();if(r){o.setStart(n.startContainer,n.startOffset);o.setEndAfter(t.dom.lastChild)}else{o.setStartBefore(t.dom.firstChild);o.setEnd(n.endContainer,n.endOffset)}yC(e,o,t,false)};var hC=function(e){var t=ph(e);var n=wn.fromDom(e.selection.getNode());if(uo(n.dom)&&Hi(n)){e.selection.setCursorLocation(n.dom,0)}else{e.selection.collapse(true)}if(t.length>1&&J(t,(function(e){return Rn(e,n)}))){po(n,"data-mce-selected","1")}};var pC=function(e,t,n){var r=e.selection.getRng();var o=n.bind((function(n){var o=n.rng,a=n.isStartInTable;var i=dC(e,a?o.endContainer:o.startContainer);o.deleteContents();mC(e,a,i.filter(Hi));var u=a?t[0]:t[t.length-1];gC(e,u,r,a);if(!Hi(u)){return W.some(a?t.slice(1):t.slice(0,-1))}else{return W.none()}})).getOr(t);vC(o);hC(e);return true};var bC=function(e,t,n,r){var o=e.selection.getRng();var a=t[0];var i=n[n.length-1];gC(e,a,o,true);gC(e,i,o,false);var u=Hi(a)?t:t.slice(1);var c=Hi(i)?n:n.slice(0,-1);vC(u.concat(c));r.deleteContents();hC(e);return true};var yC=function(e,t,n,r){if(r===void 0){r=true}t.deleteContents();var o=lC(n).getOr(n);var a=wn.fromDom(e.dom.getParent(o.dom,e.dom.isBlock));if(Hi(a)){Nw(a);if(r){e.selection.setCursorLocation(a.dom,0)}}if(!Rn(n,a)){var i=fo(Yn(a),n)?[]:Qn(a);Z(i.concat(rr(n)),(function(e){if(!Rn(e,a)&&!Pn(e,a)&&Hi(e)){Or(e)}}))}return true};var wC=function(e,t){Ux(e,false,t);return true};var xC=function(e,t,n){return sC(t,n).map((function(t){return t.fold(R(yC,e),R(wC,e),R(pC,e),R(bC,e))}))};var CC=function(e,t){return EC(e,t)};var SC=function(e,t,n,r){return OC(t,r).fold((function(){return xC(e,t,n)}),(function(t){return CC(e,t)})).getOr(false)};var kC=function(e,t,n){var r=wn.fromDom(e.getBody());var o=e.selection.getRng();return n.length!==0?pC(e,n,W.none()):SC(e,r,o,t)};var TC=function(e,t){return ie(Pw(t,e),Va)};var OC=function(e,t){return ie(Pw(t,e),qn("caption"))};var _C=function(e,t,n,r,o){return Gm(n,e.getBody(),o).bind((function(e){return TC(t,wn.fromDom(e.getNode())).map((function(e){return Rn(e,r)===false}))}))};var EC=function(e,t){Nw(t);e.selection.setCursorLocation(t.dom,0);return W.some(true)};var DC=function(e,t,n,r){return Jm(e.dom).bind((function(o){return Qm(e.dom).map((function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)}))})).getOr(true)};var AC=function(e,t){return EC(e,t)};var NC=function(e,t,n){return OC(e,wn.fromDom(n.getNode())).map((function(e){return Rn(e,t)===false}))};var MC=function(e,t,n,r,o){return Gm(n,e.getBody(),o).bind((function(a){return DC(r,n,o,a)?AC(e,r):NC(t,r,a)})).or(W.some(true))};var RC=function(e,t,n,r){var o=Rl.fromRangeStart(e.selection.getRng());return TC(n,r).bind((function(r){return Hi(r)?EC(e,r):_C(e,n,t,r,o)})).getOr(false)};var zC=function(e,t,n,r){var o=Rl.fromRangeStart(e.selection.getRng());return Hi(r)?EC(e,r):MC(e,n,t,r,o)};var BC=function(e,t){return e?Tw(t):Ow(t)};var PC=function(e,t){var n=Rl.fromRangeStart(e.selection.getRng());return BC(t,n)||qm(t,e.getBody(),n).exists((function(e){return BC(t,e)}))};var LC=function(e,t,n){var r=wn.fromDom(e.getBody());return OC(r,n).fold((function(){return RC(e,t,r,n)||PC(e,t)}),(function(n){return zC(e,t,r,n).getOr(false)}))};var HC=function(e,t){var n=wn.fromDom(e.selection.getStart(true));var r=ph(e);return e.selection.isCollapsed()&&r.length===0?LC(e,t,n):kC(e,n,r)};var IC=function(e,t,n,r){var o=document.createRange();o.setStart(e,t);o.setEnd(n,r);return o};var FC=function(e){var t=Rl.fromRangeStart(e);var n=Rl.fromRangeEnd(e);var r=e.commonAncestorContainer;return qm(false,r,n).map((function(o){if(!sm(t,n,r)&&sm(t,o,r)){return IC(t.container(),t.offset(),o.container(),o.offset())}else{return e}})).getOr(e)};var VC=function(e){return e.collapsed?e:FC(e)};var UC=function(e){return e.firstChild&&e.firstChild===e.lastChild};var jC=function(e){return e.name==="br"||e.value===qa};var WC=function(e,t){var n=e.getBlockElements();return n[t.name]&&UC(t)&&jC(t.firstChild)};var qC=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||WC(e,t))};var GC=function(e,t){var n=t.firstChild;var r=t.lastChild;if(n&&n.name==="meta"){n=n.next}if(r&&r.attr("id")==="mce_marker"){r=r.prev}if(qC(e,r)){r=r.prev}if(!n||n!==r){return false}return n.name==="ul"||n.name==="ol"};var $C=function(e){var t=e.firstChild;var n=e.lastChild;if(t&&t.nodeName==="META"){t.parentNode.removeChild(t)}if(n&&n.id==="mce_marker"){n.parentNode.removeChild(n)}return e};var KC=function(e,t,n){var r=t.serialize(n);var o=e.createFragment(r);return $C(o)};var XC=function(e){return ne(e.childNodes,(function(e){return e.nodeName==="LI"}))};var YC=function(e){return e.data===qa||ro(e)};var JC=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&YC(e.firstChild)};var QC=function(e){return!e.firstChild||JC(e)};var ZC=function(e){return e.length>0&&QC(e[e.length-1])?e.slice(0,-1):e};var eS=function(e,t){var n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null};var tS=function(e,t){return!!eS(e,t)};var nS=function(e,t){var n=t.cloneRange();var r=t.cloneRange();n.setStartBefore(e);r.setEndAfter(e);return[n.cloneContents(),r.cloneContents()]};var rS=function(e,t){var n=Rl.before(e);var r=Lm(t);var o=r.next(n);return o?o.toRange():null};var oS=function(e,t){var n=Rl.after(e);var r=Lm(t);var o=r.prev(n);return o?o.toRange():null};var aS=function(e,t,n,r){var o=nS(e,r);var a=e.parentNode;a.insertBefore(o[0],e);mn.each(t,(function(t){a.insertBefore(t,e)}));a.insertBefore(o[1],e);a.removeChild(e);return oS(t[t.length-1],n)};var iS=function(e,t,n){var r=e.parentNode;mn.each(t,(function(t){r.insertBefore(t,e)}));return rS(e,n)};var uS=function(e,t,n,r){r.insertAfter(t.reverse(),e);return oS(t[0],n)};var cS=function(e,t,n,r){var o=KC(t,e,r);var a=eS(t,n.startContainer);var i=ZC(XC(o.firstChild));var u=1,c=2;var f=t.getRoot();var s=function(e){var r=Rl.fromRangeStart(n);var o=Lm(t.getRoot());var i=e===u?o.prev(r):o.next(r);return i?eS(t,i.getNode())!==a:true};if(s(u)){return iS(a,i,f)}else if(s(c)){return uS(a,i,f,t)}return aS(a,i,f,n)};var fS=function(e,t,n){var r=wn.fromDom(e.getRoot());if(ux(r,Rl.fromRangeStart(t))){n=n.replace(/^ /,"&nbsp;")}else{n=n.replace(/^&nbsp;/," ")}if(fx(r,Rl.fromRangeEnd(t))){n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;")}else{n=n.replace(/&nbsp;(<br( \/)?>)?$/," ")}return n};var sS=uo;var lS=function(e,t,n){if(n!==null){var r=e.getParent(t.endContainer,sS);return n===r&&Sh(wn.fromDom(n),t)}else{return false}};var vS=function(e,t,n){if(n.getAttribute("data-mce-bogus")==="all"){n.parentNode.insertBefore(e.dom.createFragment(t),n)}else{var r=n.firstChild;var o=n.lastChild;if(!r||r===o&&r.nodeName==="BR"){e.dom.setHTML(n,t)}else{e.selection.setContent(t)}}};var dS=function(e,t){W.from(e.getParent(t,"td,th")).map(wn.fromDom).each(Mw)};var mS=function(e,t){var n=e.schema.getTextInlineElements();var r=e.dom;if(t){var o=e.getBody();var a=rw(r);mn.each(r.select("*[data-mce-fragment]"),(function(e){var t=k(n[e.nodeName.toLowerCase()]);if(t&&lw(r,e)){for(var i=e.parentNode;k(i)&&i!==o;i=i.parentNode){var u=dw(r,e,i);if(u){break}if(a.compare(i,e)){r.remove(e,true);break}}}}))}};var gS=function(e){var t=e;while(t=t.walk()){if(t.type===1){t.attr("data-mce-fragment","1")}}};var hS=function(e){mn.each(e.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")}))};var pS=function(e){return!!e.getAttribute("data-mce-fragment")};var bS=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]};var yS=function(e,t){var n;var r=e.dom;var o=e.selection;if(!t){return}o.scrollIntoView(t);var a=Ih(e.getBody(),t);if(r.getContentEditable(a)==="false"){r.remove(t);o.select(a);return}var i=r.createRng();var u=t.previousSibling;if(Zr(u)){i.setStart(u,u.nodeValue.length);if(!en.ie){var c=t.nextSibling;if(Zr(c)){u.appendData(c.data);c.parentNode.removeChild(c)}}}else{i.setStartBefore(t);i.setEndBefore(t)}var f=function(t){var n=Rl.fromRangeStart(t);var r=Lm(e.getBody());n=r.next(n);if(n){return n.toRange()}};var s=r.getParent(t,r.isBlock);r.remove(t);if(s&&r.isEmpty(s)){e.$(s).empty();i.setStart(s,0);i.setEnd(s,0);if(!sS(s)&&!pS(s)&&(n=f(i))){i=n;r.remove(s)}else{r.add(s,r.create("br",{"data-mce-bogus":"1"}))}}o.setRng(i)};var wS=function(e){var t=e.dom;var n=VC(e.selection.getRng());e.selection.setRng(n);var r=t.getParent(n.startContainer,sS);if(lS(t,n,r)){yC(e,n,wn.fromDom(r))}else{e.getDoc().execCommand("Delete",false,null)}};var xS=function(e,t,n){var r;var o,a;var i=e.selection;var u=e.dom;if(/^ | $/.test(t)){t=fS(u,i.getRng(),t)}var c=e.parser;var f=n.merge;var s=iw({validate:od(e)},e.schema);var l='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';var v=e.fire("BeforeSetContent",{content:t,format:"html",selection:true,paste:n.paste});if(v.isDefaultPrevented()){e.fire("SetContent",{content:v.content,format:"html",selection:true,paste:n.paste});return}t=v.content;if(t.indexOf("{$caret}")===-1){t+="{$caret}"}t=t.replace(/\{\$caret\}/,l);o=i.getRng();var d=o.startContainer||(o.parentElement?o.parentElement():null);var m=e.getBody();if(d===m&&i.isCollapsed()){if(u.isBlock(m.firstChild)&&bS(e,m.firstChild)&&u.isEmpty(m.firstChild)){o=u.createRng();o.setStart(m.firstChild,0);o.setEnd(m.firstChild,0);i.setRng(o)}}if(!i.isCollapsed()){wS(e)}r=i.getNode();var g={context:r.nodeName.toLowerCase(),data:n.data,insert:true};var h=c.parse(t,g);if(n.paste===true&&GC(e.schema,h)&&tS(u,r)){o=cS(s,u,i.getRng(),h);i.setRng(o);e.fire("SetContent",v);return}gS(h);a=h.lastChild;if(a.attr("id")==="mce_marker"){var p=a;for(a=a.prev;a;a=a.walk(true)){if(a.type===3||!u.isBlock(a.name)){if(e.schema.isValidChild(a.parent.name,"span")){a.parent.insert(p,a,a.name==="br")}break}}}e._selectionOverrides.showBlockCaretContainer(r);if(!g.invalid){t=s.serialize(h);vS(e,t,r)}else{e.selection.setContent(l);r=i.getNode();var b=e.getBody();if(r.nodeType===9){r=a=b}else{a=r}while(a!==b){r=a;a=a.parentNode}t=r===b?b.innerHTML:u.getOuterHTML(r);t=s.serialize(c.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return s.serialize(h)}))));if(r===b){u.setHTML(b,t)}else{u.setOuterHTML(r,t)}}mS(e,f);yS(e,u.get("mce_marker"));hS(e.getBody());dS(u,i.getStart());e.fire("SetContent",v);e.addVisual()};var CS=function(e,t){t(e);if(e.firstChild){CS(e.firstChild,t)}if(e.next){CS(e.next,t)}};var SS=function(e,t,n){var r={};var o={};var a=[];if(n.firstChild){CS(n.firstChild,(function(n){Z(e,(function(e){if(e.name===n.name){if(r[e.name]){r[e.name].nodes.push(n)}else{r[e.name]={filter:e,nodes:[n]}}}}));Z(t,(function(e){if(typeof n.attr(e.name)==="string"){if(o[e.name]){o[e.name].nodes.push(n)}else{o[e.name]={filter:e,nodes:[n]}}}}))}))}for(var i in r){if(Me(r,i)){a.push(r[i])}}for(var u in o){if(Me(o,u)){a.push(o[u])}}return a};var kS=function(e,t,n){var r=SS(e,t,n);Z(r,(function(e){Z(e.filter.callbacks,(function(t){t(e.nodes,e.filter.name,{})}))}))};var TS="html";var OS=function(e){return e instanceof Dy};var _S=function(e){if(vy(e)){Jm(e.getBody()).each((function(t){var n=t.getNode();var r=Yr(n)?Jm(n).getOr(t):t;e.selection.setRng(r.toRange())}))}};var ES=function(e,t,n){e.dom.setHTML(e.getBody(),t);if(n!==true){_S(e)}};var DS=function(e,t,n,r){if(n.length===0||/^\s+$/.test(n)){var o='<br data-mce-bogus="1">';if(t.nodeName==="TABLE"){n="<tr><td>"+o+"</td></tr>"}else if(/^(UL|OL)$/.test(t.nodeName)){n="<li>"+o+"</li>"}var a=kv(e);if(a&&e.schema.isValidChild(t.nodeName.toLowerCase(),a.toLowerCase())){n=o;n=e.dom.createHTML(a,Tv(e),n)}else if(!n){n='<br data-mce-bogus="1">'}ES(e,n,r.no_selection);e.fire("SetContent",r)}else{if(r.format!=="raw"){n=iw({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:true,insert:true}))}r.content=Ua(wn.fromDom(t))?n:mn.trim(n);ES(e,r.content,r.no_selection);if(!r.no_events){e.fire("SetContent",r)}}return r.content};var AS=function(e,t,n,r){kS(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=iw({validate:e.validate},e.schema).serialize(n);r.content=Ua(wn.fromDom(t))?o:mn.trim(o);ES(e,r.content,r.no_selection);if(!r.no_events){e.fire("SetContent",r)}return n};var NS=function(e,t){return We(We({format:TS},e),{set:true,content:OS(t)?"":t})};var MS=function(e,t,n){var r=NS(n,t);var o=n.no_events?r:e.fire("BeforeSetContent",r);if(!OS(t)){t=o.content}return W.from(e.getBody()).fold(A(t),(function(n){return OS(t)?AS(e,n,t,o):DS(e,n,t,o)}))};var RS=function(e,t){return aa(e,t).isSome()};var zS=function(e){return T(e)?e:H};var BS=function(e,t,n){var r=e.dom;var o=zS(n);while(r.parentNode){r=r.parentNode;var a=wn.fromDom(r);var i=t(a);if(i.isSome()){return i}else if(o(a)){break}}return W.none()};var PS=function(e,t,n){var r=t(e);var o=zS(n);return r.orThunk((function(){return o(e)?W.none():BS(e,t,o)}))};var LS=Pg;var HS=function(e,t,n){var r=e.formatter.get(n);if(r){for(var o=0;o<r.length;o++){var a=r[o];if(Wg(a)&&a.inherit===false&&e.dom.is(t,a.selector)){return true}}}return false};var IS=function(e,t,n,r,o){var a=e.dom.getRoot();if(t===a){return false}t=e.dom.getParent(t,(function(t){if(HS(e,t,n)){return true}return t.parentNode===a||!!US(e,t,n,r,true)}));return!!US(e,t,n,r,o)};var FS=function(e,t,n){if(LS(t,n.inline)){return true}if(LS(t,n.block)){return true}if(n.selector){return t.nodeType===1&&e.is(t,n.selector)}};var VS=function(e,t,n,r,o,a){var i=n[r];if(T(n.onmatch)){return n.onmatch(t,n,r)}if(i){if(C(i.length)){for(var u in i){if(Me(i,u)){var c=r==="attributes"?e.getAttrib(t,u):Hg(e,t,u);var f=Bg(i[u],a);var s=S(c)||gt(c);if(s&&S(f)){continue}if(o&&s&&!n.exact){return false}if((!o||n.exact)&&!LS(c,Lg(e,f,u))){return false}}}}else{for(var l=0;l<i.length;l++){if(r==="attributes"?e.getAttrib(t,i[l]):Hg(e,t,i[l])){return true}}}}return true};var US=function(e,t,n,r,o){var a=e.formatter.get(n);var i=e.dom;if(a&&t){for(var u=0;u<a.length;u++){var c=a[u];if(FS(e.dom,t,c)&&VS(i,t,c,"attributes",o,r)&&VS(i,t,c,"styles",o,r)){var f=c.classes;if(f){for(var s=0;s<f.length;s++){if(!e.dom.hasClass(t,Bg(f[s],r))){return}}}return c}}}};var jS=function(e,t,n,r,o){if(r){return IS(e,r,t,n,o)}r=e.selection.getNode();if(IS(e,r,t,n,o)){return true}var a=e.selection.getStart();if(a!==r){if(IS(e,a,t,n,o)){return true}}return false};var WS=function(e,t,n){var r=[];var o={};var a=e.selection.getStart();e.dom.getParent(a,(function(a){for(var i=0;i<t.length;i++){var u=t[i];if(!o[u]&&US(e,a,u,n)){o[u]=true;r.push(u)}}}),e.dom.getRoot());return r};var qS=function(e,t){var n=function(t){return Rn(t,wn.fromDom(e.getBody()))};var r=function(t,n){return US(e,t.dom,n)?W.some(n):W.none()};return W.from(e.selection.getStart(true)).bind((function(e){return PS(wn.fromDom(e),(function(e){return ye(t,(function(t){return r(e,t)}))}),n)})).getOrNull()};var GS=function(e,t){var n=e.formatter.get(t);var r=e.dom;if(n){var o=e.selection.getStart();var a=Fg(r,o);for(var i=n.length-1;i>=0;i--){var u=n[i];if(!Wg(u)||k(u.defaultBlock)){return true}for(var c=a.length-1;c>=0;c--){if(r.is(a[c],u.selector)){return true}}}}return false};var $S=function(e,t,n){return oe(n,(function(n,r){var o=Vg(e,r);if(e.formatter.matchNode(t,r,{},o)){return n.concat([r])}else{return n}}),[])};var KS=Ka,XS="_mce_caret";var YS=function(e,t){return e.importNode(t,true)};var JS=function(e){var t=[];while(e){if(e.nodeType===3&&e.nodeValue!==KS||e.childNodes.length>1){return[]}if(e.nodeType===1){t.push(e)}e=e.firstChild}return t};var QS=function(e){return JS(e).length>0};var ZS=function(e){if(e){var t=new Ca(e,e);for(e=t.current();e;e=t.next()){if(Zr(e)){return e}}}return null};var ek=function(e){var t=wn.fromTag("span");bo(t,{id:XS,"data-mce-bogus":"1","data-mce-type":"format-caret"});if(e){xr(t,wn.fromText(KS))}return t};var tk=function(e){var t=ZS(e);if(t&&t.nodeValue.charAt(0)===KS){t.deleteData(0,1)}return t};var nk=function(e,t,n){if(n===void 0){n=true}var r=e.dom,o=e.selection;if(QS(t)){Ux(e,false,wn.fromDom(t),n)}else{var a=o.getRng();var i=r.getParent(t,r.isBlock);var u=a.startContainer;var c=a.startOffset;var f=a.endContainer;var s=a.endOffset;var l=tk(t);r.remove(t,true);if(u===l&&c>0){a.setStart(l,c-1)}if(f===l&&s>0){a.setEnd(l,s-1)}if(i&&r.isEmpty(i)){Nw(wn.fromDom(i))}o.setRng(a)}};var rk=function(e,t,n){if(n===void 0){n=true}var r=e.dom,o=e.selection;if(!t){t=tg(e.getBody(),o.getStart());if(!t){while(t=r.get(XS)){nk(e,t,false)}}}else{nk(e,t,n)}};var ok=function(e,t,n){var r=e.dom,o=r.getParent(n,R(Ng,e));if(o&&r.isEmpty(o)){n.parentNode.replaceChild(t,n)}else{Aw(wn.fromDom(n));if(r.isEmpty(n)){n.parentNode.replaceChild(t,n)}else{r.insertAfter(t,n)}}};var ak=function(e,t){e.appendChild(t);return t};var ik=function(e,t){var n=re(e,(function(e,t){return ak(e,t.cloneNode(false))}),t);return ak(n,n.ownerDocument.createTextNode(KS))};var uk=function(e,t,n,r,o,a){var i=e.formatter;var u=e.dom;var c=ne(we(i.get()),(function(e){return e!==r&&!ct(e,"removeformat")}));var f=$S(e,n,c);var s=ne(f,(function(t){return!Ug(e,t,r)}));if(s.length>0){var l=n.cloneNode(false);u.add(t,l);i.remove(r,o,l,a);u.remove(l);return W.some(l)}else{return W.none()}};var ck=function(e,t,n){var r,o;var a=e.selection;var i=a.getRng();var u=i.startOffset;var c=i.startContainer;var f=c.nodeValue;r=tg(e.getBody(),a.getStart());if(r){o=ZS(r)}var s=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(f&&u>0&&u<f.length&&s.test(f.charAt(u))&&s.test(f.charAt(u-1))){var l=a.getBookmark();i.collapse(true);var v=fh(e,i,e.formatter.get(t));v=Sp(v);e.formatter.apply(t,n,v);a.moveToBookmark(l)}else{if(!r||o.nodeValue!==KS){r=YS(e.getDoc(),ek(true).dom);o=r.firstChild;i.insertNode(r);u=1;e.formatter.apply(t,n,r)}else{e.formatter.apply(t,n,r)}a.setCursorLocation(o,u)}};var fk=function(e,t,n,r){var o=e.dom;var a=e.selection;var i,u,c;var f=[];var s=a.getRng();var l=s.startContainer;var v=s.startOffset;u=l;if(l.nodeType===3){if(v!==l.nodeValue.length){i=true}u=u.parentNode}while(u){if(US(e,u,t,n,r)){c=u;break}if(u.nextSibling){i=true}f.push(u);u=u.parentNode}if(!c){return}if(i){var d=a.getBookmark();s.collapse(true);var m=fh(e,s,e.formatter.get(t),true);m=Sp(m);e.formatter.remove(t,n,m,r);a.moveToBookmark(d)}else{var g=tg(e.getBody(),c);var h=ek(false).dom;ok(e,h,g!==null?g:c);var p=uk(e,h,c,t,n,r);var b=ik(f.concat(p.toArray()),h);nk(e,g,false);a.setCursorLocation(b,1);if(o.isEmpty(c)){o.remove(c)}}};var sk=function(e,t){var n=e.selection,r=e.getBody();rk(e,null,false);if((t===8||t===46)&&n.isCollapsed()&&n.getStart().innerHTML===KS){rk(e,tg(r,n.getStart()))}if(t===37||t===39){rk(e,tg(r,n.getStart()))}};var lk=function(e){e.on("mouseup keydown",(function(t){sk(e,t.keyCode)}))};var vk=function(e,t){var n=ek(false);var r=ik(t,n.dom);br(wn.fromDom(e),n);Or(wn.fromDom(e));return Rl(r,0)};var dk=function(e,t){var n=e.schema.getTextInlineElements();return Me(n,Ln(t))&&!eg(t.dom)&&!Kr(t.dom)};var mk=function(e){return eg(e.dom)&&QS(e.dom)};var gk={};var hk=Ie;var pk=Le;var bk=function(e,t){var n=gk[e];if(!n){gk[e]=[]}gk[e].push(t)};var yk=function(e,t){pk(gk[e],(function(e){e(t)}))};bk("pre",(function(e){var t=e.selection.getRng();var n;var r=function(e){return a(e.previousSibling)&&Fe(n,e.previousSibling)!==-1};var o=function(e,t){zf(t).remove();zf(e).append("<br><br>").append(t.childNodes)};var a=Wr(["pre"]);if(!t.collapsed){n=e.selection.getSelectedBlocks();pk(hk(hk(n,a),r),(function(e){o(e.previousSibling,e)}))}}));var wk=mn.each;var xk=function(e){return jr(e)&&!Cg(e)&&!eg(e)&&!Kr(e)};var Ck=function(e,t){for(var n=e;n;n=n[t]){if(Zr(n)&&mt(n.data)){return e}if(jr(n)&&!Cg(n)){return n}}return e};var Sk=function(e,t,n){var r=rw(e);if(t&&n){t=Ck(t,"previousSibling");n=Ck(n,"nextSibling");if(r.compare(t,n)){for(var o=t.nextSibling;o&&o!==n;){var a=o;o=o.nextSibling;t.appendChild(a)}e.remove(n);mn.each(mn.grep(n.childNodes),(function(e){t.appendChild(e)}));return t}}return n};var kk=function(e,t,n,r){if(r&&t.merge_siblings!==false){var o=Sk(e,Ag(r),r);Sk(e,o,Ag(o,true))}};var Tk=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";wk(e.select(r,n),(function(n){if(xk(n)){wk(t.styles,(function(t,r){e.setStyle(n,r,"")}))}}))}};var Ok=function(e,t,n){wk(e.childNodes,(function(e){if(xk(e)){if(t(e)){n(e)}if(e.hasChildNodes()){Ok(e,t,n)}}}))};var _k=function(e,t){if(t.nodeName==="SPAN"&&e.getAttribs(t).length===0){e.remove(t,true)}};var Ek=function(e,t){return function(n){return!!(n&&Hg(e,n,t))}};var Dk=function(e,t,n){return function(r){e.setStyle(r,t,n);if(r.getAttribute("style")===""){r.removeAttribute("style")}_k(e,r)}};var Ak=ea.generate([{keep:[]},{rename:["name"]},{removed:[]}]);var Nk=/^(src|href|style)$/;var Mk=mn.each;var Rk=Pg;var zk=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)};var Bk=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)};var Pk=function(e,t,n){var r=t[n?"startContainer":"endContainer"];var o=t[n?"startOffset":"endOffset"];if(jr(r)){var a=r.childNodes.length-1;if(!n&&o){o--}r=r.childNodes[o>a?a:o]}if(Zr(r)&&n&&o>=r.nodeValue.length){r=new Ca(r,e.getBody()).next()||r}if(Zr(r)&&!n&&o===0){r=new Ca(r,e.getBody()).prev()||r}return r};var Lk=function(e,t){var n=t?"firstChild":"lastChild";if(zk(e)&&e[n]){var r=e[n];if(e.nodeName==="TR"){return r[n]||r}else{return r}}return e};var Hk=function(e,t,n,r){var o=e.create(n,r);t.parentNode.insertBefore(o,t);o.appendChild(t);return o};var Ik=function(e,t,n,r,o){var a=wn.fromDom(t);var i=wn.fromDom(e.create(r,o));var u=n?nr(a):tr(a);kr(i,u);if(n){br(a,i);wr(i,a)}else{yr(a,i);xr(i,a)}return i.dom};var Fk=function(e,t,n){if(qg(n)&&Rk(t,n.inline)){return true}if(jg(n)&&Rk(t,n.block)){return true}if(Wg(n)){return jr(t)&&e.is(t,n.selector)}};var Vk=function(e,t){return t.links&&e.nodeName==="A"};var Uk=function(e,t,n,r){var o=Ag(t,n,r);return S(o)||o.nodeName==="BR"||e.isBlock(o)};var jk=function(e,t,n){var r=t.parentNode;var o;var a=e.dom,i=kv(e);if(jg(n)){if(!i){if(a.isBlock(t)&&!a.isBlock(r)){if(!Uk(a,t,false)&&!Uk(a,t.firstChild,true,true)){t.insertBefore(a.create("br"),t.firstChild)}if(!Uk(a,t,true)&&!Uk(a,t.lastChild,false,true)){t.appendChild(a.create("br"))}}}else{if(r===a.getRoot()){if(!n.list_block||!Rk(t,n.list_block)){Z(be(t.childNodes),(function(t){if(Mg(e,i,t.nodeName.toLowerCase())){if(!o){o=Hk(a,t,i);a.setAttribs(o,e.settings.forced_root_block_attrs)}else{o.appendChild(t)}}else{o=null}}))}}}}if(Gg(n)&&!Rk(n.inline,t)){return}a.remove(t,true)};var Wk=function(e,t,n,r,o){var a;var i=e.dom;if(!Fk(i,r,t)&&!Vk(r,t)){return Ak.keep()}var u=r;if(qg(t)&&t.remove==="all"&&y(t.preserve_attributes)){var c=ne(i.getAttribs(u),(function(e){return Y(t.preserve_attributes,e.name.toLowerCase())}));i.removeAllAttribs(u);Z(c,(function(e){return i.setAttrib(u,e.name,e.value)}));if(c.length>0){return Ak.rename("span")}}if(t.remove!=="all"){Mk(t.styles,(function(e,r){e=Lg(i,Bg(e,n),r+"");if(O(r)){r=e;o=null}if(t.remove_similar||(!o||Rk(Hg(i,o,r),e))){i.setStyle(u,r,"")}a=true}));if(a&&i.getAttrib(u,"style")===""){u.removeAttribute("style");u.removeAttribute("data-mce-style")}Mk(t.attributes,(function(e,r){var a;e=Bg(e,n);if(O(r)){r=e;o=null}if(t.remove_similar||(!o||Rk(i.getAttrib(o,r),e))){if(r==="class"){e=i.getAttrib(u,r);if(e){a="";Z(e.split(/\s+/),(function(e){if(/mce\-\w+/.test(e)){a+=(a?" ":"")+e}}));if(a){i.setAttrib(u,r,a);return}}}if(Nk.test(r)){u.removeAttribute("data-mce-"+r)}if(r==="style"&&Wr(["li"])(u)&&i.getStyle(u,"list-style-type")==="none"){u.removeAttribute(r);i.setStyle(u,"list-style-type","none");return}if(r==="class"){u.removeAttribute("className")}u.removeAttribute(r)}}));Mk(t.classes,(function(e){e=Bg(e,n);if(!o||i.hasClass(o,e)){i.removeClass(u,e)}}));var f=i.getAttribs(u);for(var s=0;s<f.length;s++){var l=f[s].nodeName;if(l.indexOf("_")!==0&&l.indexOf("data-")!==0){return Ak.keep()}}}if(t.remove!=="none"){jk(e,u,t);return Ak.removed()}return Ak.keep()};var qk=function(e,t,n,r,o){return Wk(e,t,n,r,o).fold(H,(function(t){e.dom.rename(r,t);return true}),I)};var Gk=function(e,t,n,r,o){var a;Z(Fg(e.dom,t.parentNode).reverse(),(function(t){if(!a&&t.id!=="_start"&&t.id!=="_end"){var i=US(e,t,n,r,o);if(i&&i.split!==false){a=t}}}));return a};var $k=function(e,t,n,r){return Wk(e,t,n,r,r).fold(A(r),(function(t){var n=e.dom.createFragment();n.appendChild(r);return e.dom.rename(r,t)}),A(null))};var Kk=function(e,t,n,r,o,a,i,u){var c,f,s;var l=e.dom;if(n){var v=n.parentNode;for(var d=r.parentNode;d&&d!==v;d=d.parentNode){c=l.clone(d,false);for(var m=0;m<t.length;m++){c=$k(e,t[m],u,c);if(c===null){break}}if(c){if(f){c.appendChild(f)}if(!s){s=c}f=c}}if(a&&(!i.mixed||!l.isBlock(n))){r=l.split(n,r)}if(f){o.parentNode.insertBefore(f,o);s.appendChild(o);if(qg(i)){kk(l,i,u,f)}}}return r};var Xk=function(e,t,n,r,o){var a=e.formatter.get(t);var i=a[0];var u=true;var c=e.dom;var f=e.selection;var s=function(r){var u=Gk(e,r,t,n,o);return Kk(e,a,u,r,r,true,i,n)};var l=function(e){return Cg(e)&&jr(e)&&(e.id==="_start"||e.id==="_end")};var v=function(t){return J(a,(function(r){return qk(e,r,n,t,t)}))};var d=function(t){var n=true;var r=false;if(jr(t)&&c.getContentEditable(t)){n=u;u=c.getContentEditable(t)==="true";r=true}var o=be(t.childNodes);if(u&&!r){var f=v(t);var s=f||J(a,(function(e){return FS(c,t,e)}));var l=t.parentNode;if(!s&&k(l)&&$g(i)){v(l)}}if(i.deep){if(o.length){for(var m=0;m<o.length;m++){d(o[m])}if(r){u=n}}}var g=["underline","line-through","overline"];Z(g,(function(n){if(jr(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&Ig(c,t.parentNode)===n){qk(e,{deep:false,exact:true,inline:"span",styles:{textDecoration:n}},null,t)}}))};var m=function(e){var t=c.get(e?"_start":"_end");var n=t[e?"firstChild":"lastChild"];if(l(n)){n=n[e?"firstChild":"lastChild"]}if(Zr(n)&&n.data.length===0){n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling}c.remove(t,true);return n};var g=function(t){var n,r;var o=fh(e,t,a,t.collapsed);if(i.split){o=Sp(o);n=Pk(e,o,true);r=Pk(e,o);if(n!==r){n=Lk(n,true);r=Lk(r,false);if(Bk(c,n,r)){var u=W.from(n.firstChild).getOr(n);s(Ik(c,u,true,"span",{id:"_start","data-mce-type":"bookmark"}));m(true);return}if(Bk(c,r,n)){var u=W.from(r.lastChild).getOr(r);s(Ik(c,u,false,"span",{id:"_end","data-mce-type":"bookmark"}));m(false);return}n=Hk(c,n,"span",{id:"_start","data-mce-type":"bookmark"});r=Hk(c,r,"span",{id:"_end","data-mce-type":"bookmark"});var f=c.createRng();f.setStartAfter(n);f.setEndBefore(r);sh(c,f,(function(e){Z(e,(function(e){if(!Cg(e)&&!Cg(e.parentNode)){s(e)}}))}));s(n);s(r);n=m(true);r=m()}else{n=r=s(n)}o.startContainer=n.parentNode?n.parentNode:n;o.startOffset=c.nodeIndex(n);o.endContainer=r.parentNode?r.parentNode:r;o.endOffset=c.nodeIndex(r)+1}sh(c,o,(function(e){Z(e,d)}))};if(r){if(_g(r)){var h=c.createRng();h.setStartBefore(r);h.setEndAfter(r);g(h)}else{g(r)}ep(e,t,r,n);return}if(c.getContentEditable(f.getNode())==="false"){r=f.getNode();for(var p=0;p<a.length;p++){if(a[p].ceFalseOverride){if(qk(e,a[p],n,r,r)){break}}}ep(e,t,r,n);return}if(!f.isCollapsed()||!qg(i)||ph(e).length){_h(f,true,(function(){Oh(e,g)}));if(qg(i)&&jS(e,t,n,f.getStart())){Dg(c,f,f.getRng())}e.nodeChanged()}else{fk(e,t,n,o)}ep(e,t,r,n)};var Yk=mn.each;var Jk=function(e,t,n,r){var o=function(t){if(t.nodeType===1&&t.parentNode&&t.parentNode.nodeType===1){var n=Ig(e,t.parentNode);if(e.getStyle(t,"color")&&n){e.setStyle(t,"text-decoration",n)}else if(e.getStyle(t,"text-decoration")===n){e.setStyle(t,"text-decoration",null)}}};if(t.styles&&(t.styles.color||t.styles.textDecoration)){mn.walk(r,o,"childNodes");o(r)}};var Qk=function(e,t,n,r){if(t.styles&&t.styles.backgroundColor){Ok(r,Ek(e,"fontSize"),Dk(e,"backgroundColor",Bg(t.styles.backgroundColor,n)))}};var Zk=function(e,t,n,r){if(qg(t)&&(t.inline==="sub"||t.inline==="sup")){Ok(r,Ek(e,"fontSize"),Dk(e,"fontSize",""));e.remove(e.select(t.inline==="sup"?"sub":"sup",r),true)}};var eT=function(e,t,n,r){Yk(t,(function(t){if(qg(t)){Yk(e.dom.select(t.inline,r),(function(r){if(!xk(r)){return}qk(e,t,n,r,t.exact?r:null)}))}Tk(e.dom,t,r)}))};var tT=function(e,t,n,r,o){if(US(e,o.parentNode,n,r)){if(qk(e,t,r,o)){return}}if(t.merge_with_parents){e.dom.getParent(o.parentNode,(function(a){if(US(e,a,n,r)){qk(e,t,r,o);return true}}))}};var nT=mn.each;var rT=function(e){return jr(e)&&!Cg(e)&&!eg(e)&&!Kr(e)};var oT=function(e,t,n,r){if(cd(e)&&qg(t)){var o=wu(e.schema);var a=RS(wn.fromDom(n),(function(e){return eg(e.dom)}));return Re(o,r)&&Hi(wn.fromDom(n.parentNode),false)&&!a}else{return false}};var aT=function(e,t,n,r){var o=e.formatter.get(t);var a=o[0];var i=!r&&e.selection.isCollapsed();var u=e.dom;var c=e.selection;var f=function(e,t){if(t===void 0){t=a}if(T(t.onformat)){t.onformat(e,t,n,r)}nT(t.styles,(function(t,r){u.setStyle(e,r,Bg(t,n))}));if(t.styles){var o=u.getAttrib(e,"style");if(o){u.setAttrib(e,"data-mce-style",o)}}nT(t.attributes,(function(t,r){u.setAttrib(e,r,Bg(t,n))}));nT(t.classes,(function(t){t=Bg(t,n);if(!u.hasClass(e,t)){u.addClass(e,t)}}))};var s=function(e,t){var n=false;nT(e,(function(e){if(!Wg(e)){return false}if(k(e.collapsed)&&e.collapsed!==i){return}if(u.is(t,e.selector)&&!eg(t)){f(t,e);n=true;return false}}));return n};var l=function(e){if(p(e)){var t=u.create(e);f(t);return t}else{return null}};var v=function(r,i,u){var c=[];var v=true;var d=a.inline||a.block;var m=l(d);sh(r,i,(function(i){var l;var g=function(i){var h=false;var p=v;var b=i.nodeName.toLowerCase();var y=i.parentNode;var w=y.nodeName.toLowerCase();if(jr(i)&&r.getContentEditable(i)){p=v;v=r.getContentEditable(i)==="true";h=true}if(ro(i)&&!oT(e,a,i,w)){l=null;if(jg(a)){r.remove(i)}return}if(jg(a)&&a.wrapper&&US(e,i,t,n)){l=null;return}if(v&&!h&&jg(a)&&!a.wrapper&&Ng(e,b)&&Mg(e,w,d)){var x=r.rename(i,d);f(x);c.push(x);l=null;return}if(Wg(a)){var C=s(o,i);if(!C&&k(y)&&$g(a)){C=s(o,y)}if(!qg(a)||C){l=null;return}}if(v&&!h&&Mg(e,d,b)&&Mg(e,w,d)&&!(!u&&Zr(i)&&Xa(i.data))&&!eg(i)&&(!qg(a)||!r.isBlock(i))){if(!l){l=r.clone(m,false);i.parentNode.insertBefore(l,i);c.push(l)}l.appendChild(i)}else{l=null;Z(be(i.childNodes),g);if(h){v=p}l=null}};Z(i,g)}));if(a.links===true){Z(c,(function(e){var t=function(e){if(e.nodeName==="A"){f(e,a)}Z(be(e.childNodes),t)};t(e)}))}Z(c,(function(i){var u=function(e){var t=0;Z(e.childNodes,(function(e){if(!zg(e)&&!Cg(e)){t++}}));return t};var s=function(e){var t=ie(e.childNodes,rT).filter((function(e){return FS(r,e,a)}));return t.map((function(t){var n=r.clone(t,false);f(n);r.replace(n,e,true);r.remove(t,true);return n})).getOr(e)};var l=u(i);if((c.length>1||!r.isBlock(i))&&l===0){r.remove(i,true);return}if(qg(a)||jg(a)&&a.wrapper){if(!a.exact&&l===1){i=s(i)}eT(e,o,n,i);tT(e,a,t,n,i);Qk(r,a,n,i);Jk(r,a,n,i);Zk(r,a,n,i);kk(r,a,n,i)}}))};if(u.getContentEditable(c.getNode())==="false"){r=c.getNode();for(var d=0,m=o.length;d<m;d++){var g=o[d];if(g.ceFalseOverride&&Wg(g)&&u.is(r,g.selector)){f(r,g);break}}Zh(e,t,r,n);return}if(a){if(r){if(_g(r)){if(!s(o,r)){var h=u.createRng();h.setStartBefore(r);h.setEndAfter(r);v(u,fh(e,h,o),true)}}else{v(u,r,true)}}else{if(!i||!qg(a)||ph(e).length){var b=c.getNode();var y=o[0];if(!e.settings.forced_root_block&&y.defaultBlock&&!u.getParent(b,u.isBlock)){aT(e,y.defaultBlock)}c.setRng(VC(c.getRng()));_h(c,true,(function(){Oh(e,(function(t,n){var r=n?t:fh(e,t,o);v(u,r,false)}))}));Dg(u,c,c.getRng());e.nodeChanged()}else{ck(e,t,n)}}yk(t,e)}Zh(e,t,r,n)};var iT=function(e){return Me(e,"vars")};var uT=function(e,t){e.set({});t.on("NodeChange",(function(n){lT(t,n.element,e.get())}));t.on("FormatApply FormatRemove",(function(n){var r=W.from(n.node).map((function(e){return _g(e)?e:e.startContainer})).bind((function(e){return jr(e)?W.some(e):W.from(e.parentElement)})).getOrThunk((function(){return cT(t)}));lT(t,r,e.get())}))};var cT=function(e){return e.selection.getStart()};var fT=function(e,t,n,r,o){var a=function(t){var a=e.formatter.matchNode(t,n,o!==null&&o!==void 0?o:{},r);return!C(a)};var i=function(t){if(HS(e,t,n)){return true}else{if(!r){return k(e.formatter.matchNode(t,n,o,true))}else{return false}}};return ae(t,a,i)};var sT=function(e,t){var n=t!==null&&t!==void 0?t:cT(e);return ne(Fg(e.dom,n),(function(e){return jr(e)&&!Kr(e)}))};var lT=function(e,t,n){var r=sT(e,t);Ce(n,(function(n,o){var a=function(n){var a=fT(e,r,o,n.similar,iT(n)?n.vars:undefined);var i=a.isSome();if(n.state.get()!==i){n.state.set(i);var u=a.getOr(t);if(iT(n)){n.callback(i,{node:u,format:o,parents:r})}else{Z(n.callbacks,(function(e){return e(i,{node:u,format:o,parents:r})}))}}};Z([n.withSimilar,n.withoutSimilar],a);Z(n.withVars,a)}))};var vT=function(e,t,n,r,o,a){var i=t.get();Z(n.split(","),(function(t){var n=Ne(i,t).getOrThunk((function(){var e={withSimilar:{state:Jf(false),similar:true,callbacks:[]},withoutSimilar:{state:Jf(false),similar:false,callbacks:[]},withVars:[]};i[t]=e;return e}));var u=function(){var n=sT(e);return fT(e,n,t,o,a).isSome()};if(C(a)){var c=o?n.withSimilar:n.withoutSimilar;c.callbacks.push(r);if(c.callbacks.length===1){c.state.set(u())}}else{n.withVars.push({state:Jf(u()),similar:o,vars:a,callback:r})}}));t.set(i)};var dT=function(e,t,n){var r=e.get();Z(t.split(","),(function(e){return Ne(r,e).each((function(t){r[e]={withSimilar:We(We({},t.withSimilar),{callbacks:ne(t.withSimilar.callbacks,(function(e){return e!==n}))}),withoutSimilar:We(We({},t.withoutSimilar),{callbacks:ne(t.withoutSimilar.callbacks,(function(e){return e!==n}))}),withVars:ne(t.withVars,(function(e){return e.callback!==n}))}}))}));e.set(r)};var mT=function(e,t,n,r,o,a){if(t.get()===null){uT(t,e)}vT(e,t,n,r,o,a);return{unbind:function(){return dT(t,n,r)}}};var gT=function(e,t,n,r){var o=e.formatter.get(t);if(jS(e,t,n,r)&&(!("toggle"in o[0])||o[0].toggle)){Xk(e,t,n,r)}else{aT(e,t,n,r)}};var hT=function(e,t){var n=t||document;var r=n.createDocumentFragment();Z(e,(function(e){r.appendChild(e.dom)}));return wn.fromDom(r)};var pT=function(e,t,n){return{element:e,width:t,rows:n}};var bT=function(e,t){return{element:e,cells:t}};var yT=function(e,t){return{x:e,y:t}};var wT=function(e,t){var n=parseInt(yo(e,t),10);return isNaN(n)?1:n};var xT=function(e,t,n,r,o){var a=wT(o,"rowspan");var i=wT(o,"colspan");var u=e.rows;for(var c=n;c<n+a;c++){if(!u[c]){u[c]=bT(Ks(r),[])}for(var f=t;f<t+i;f++){var s=u[c].cells;s[f]=c===n&&f===t?o:$s(o)}}};var CT=function(e,t,n){var r=e.rows;var o=r[n]?r[n].cells:[];return!!o[t]};var ST=function(e,t,n){while(CT(e,t,n)){t++}return t};var kT=function(e){return oe(e,(function(e,t){return t.cells.length>e?t.cells.length:e}),0)};var TT=function(e,t){var n=e.rows;for(var r=0;r<n.length;r++){var o=n[r].cells;for(var a=0;a<o.length;a++){if(Rn(o[a],t)){return W.some(yT(a,r))}}}return W.none()};var OT=function(e,t,n,r,o){var a=[];var i=e.rows;for(var u=n;u<=o;u++){var c=i[u].cells;var f=t<r?c.slice(t,r+1):c.slice(r,t+1);a.push(bT(i[u].element,f))}return a};var _T=function(e,t,n){var r=t.x,o=t.y;var a=n.x,i=n.y;var u=o<i?OT(e,r,o,a,i):OT(e,r,i,a,o);return pT(e.element,kT(u),u)};var ET=function(e,t){var n=$s(e.element);var r=wn.fromTag("tbody");kr(r,t);xr(n,r);return n};var DT=function(e){return Q(e.rows,(function(e){var t=Q(e.cells,(function(e){var t=Ks(e);Co(t,"colspan");Co(t,"rowspan");return t}));var n=$s(e.element);kr(n,t);return n}))};var AT=function(e){var t=pT($s(e),0,[]);Z(Es(e,"tr"),(function(e,n){Z(Es(e,"td,th"),(function(r,o){xT(t,ST(t,o,n),n,e,r)}))}));return pT(t.element,kT(t.rows),t.rows)};var NT=function(e){return ET(e,DT(e))};var MT=function(e,t,n){return TT(e,t).bind((function(t){return TT(e,n).map((function(n){return _T(e,t,n)}))}))};var RT=function(e){return ie(e,(function(e){return Ln(e)==="ul"||Ln(e)==="ol"}))};var zT=function(e,t){return ie(e,(function(e){return Ln(e)==="li"&&Sh(e,t)})).fold(A([]),(function(t){return RT(e).map((function(e){var t=wn.fromTag(Ln(e));var n=Ee(Do(e),(function(e,t){return ft(t,"list-style")}));To(t,n);return[wn.fromTag("li"),t]})).getOr([])}))};var BT=function(e,t){var n=oe(t,(function(e,t){xr(t,e);return t}),e);return t.length>0?hT([n]):n};var PT=function(e){if(Ia(e)){return Yn(e).filter(Ha).fold(A([]),(function(t){return[e,t]}))}else{return Ha(e)?[e]:[]}};var LT=function(e,t){var n=wn.fromDom(t.commonAncestorContainer);var r=Pw(n,e);var o=ne(r,(function(e){return Ba(e)||Ma(e)}));var a=zT(r,t);var i=o.concat(a.length?a:PT(n));return Q(i,$s)};var HT=function(){return hT([])};var IT=function(e,t){return BT(wn.fromDom(t.cloneContents()),LT(e,t))};var FT=function(e,t){return ua(t,"table",R(Rn,e))};var VT=function(e,t){return FT(e,t[0]).bind((function(e){var n=t[0];var r=t[t.length-1];var o=AT(e);return MT(o,n,r).map((function(e){return hT([NT(e)])}))})).getOrThunk(HT)};var UT=function(e,t){return t.length>0&&t[0].collapsed?HT():IT(e,t[0])};var jT=function(e,t){var n=hh(t,e);return n.length>0?VT(e,n):UT(e,t)};var WT=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")};var qT=function(e,t){return t>=0&&t<e.length&&Tg(e.charAt(t))};var GT=function(e,t){var n=Ya(e.innerText);return t?WT(n):n};var $T=function(e){return e.map((function(e){return e.nodeName})).getOr("div").toLowerCase()};var KT=function(e){return W.from(e.selection.getRng()).map((function(t){var n=W.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock));var r=e.getBody();var o=$T(n);var a=en.browser.isIE()&&o!=="pre";var i=e.dom.add(r,o,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents());var u=GT(i,a);var c=Ya(i.textContent);e.dom.remove(i);if(qT(c,0)||qT(c,c.length-1)){var f=n.getOr(r);var s=GT(f,a);var l=s.indexOf(u);if(l===-1){return u}else{var v=qT(s,l-1);var d=qT(s,l+u.length);return(v?" ":"")+u+(d?" ":"")}}else{return u}})).getOr("")};var XT=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body");var o=e.selection.getSel();var a=ky(e,lh(o));var i=t.contextual?jT(wn.fromDom(e.getBody()),a).dom:n.cloneContents();if(i){r.appendChild(i)}return e.selection.serializer.serialize(r,t)};var YT=function(e,t){return We(We({},e),{format:t,get:true,selection:true})};var JT=function(e,t,n){if(n===void 0){n={}}var r=YT(n,t);var o=e.fire("BeforeGetContent",r);if(o.isDefaultPrevented()){e.fire("GetContent",o);return o.content}if(o.format==="text"){return KT(e)}else{o.getInner=true;var a=XT(e,o);if(o.format==="tree"){return a}else{o.content=e.selection.isCollapsed()?"":a;e.fire("GetContent",o);return o.content}}};var QT=0,ZT=1,eO=2;var tO=function(e,t){var n=e.length+t.length+2;var r=new Array(n);var o=new Array(n);var a=function(e,t,n){return{start:e,end:t,diag:n}};var i=function(n,r,o,a,u){var f=c(n,r,o,a);if(f===null||f.start===r&&f.diag===r-a||f.end===n&&f.diag===n-o){var s=n;var l=o;while(s<r||l<a){if(s<r&&l<a&&e[s]===t[l]){u.push([QT,e[s]]);++s;++l}else{if(r-n>a-o){u.push([eO,e[s]]);++s}else{u.push([ZT,t[l]]);++l}}}}else{i(n,f.start,o,f.start-f.diag,u);for(var v=f.start;v<f.end;++v){u.push([QT,e[v]])}i(f.end,r,f.end-f.diag,a,u)}};var u=function(n,r,o,i){var u=n;while(u-r<i&&u<o&&e[u]===t[u-r]){++u}return a(n,u,r)};var c=function(n,a,i,c){var f=a-n;var s=c-i;if(f===0||s===0){return null}var l=f-s;var v=s+f;var d=(v%2===0?v:v+1)/2;r[1+d]=n;o[1+d]=a+1;var m,g,h,p,b;for(m=0;m<=d;++m){for(g=-m;g<=m;g+=2){h=g+d;if(g===-m||g!==m&&r[h-1]<r[h+1]){r[h]=r[h+1]}else{r[h]=r[h-1]+1}p=r[h];b=p-n+i-g;while(p<a&&b<c&&e[p]===t[b]){r[h]=++p;++b}if(l%2!==0&&l-m<=g&&g<=l+m){if(o[h-l]<=r[h]){return u(o[h-l],g+n-i,a,c)}}}for(g=l-m;g<=l+m;g+=2){h=g+d-l;if(g===l-m||g!==l+m&&o[h+1]<=o[h-1]){o[h]=o[h+1]-1}else{o[h]=o[h-1]}p=o[h]-1;b=p-n+i-g;while(p>=n&&b>=i&&e[p]===t[b]){o[h]=p--;b--}if(l%2===0&&-m<=g&&g<=m){if(o[h]<=r[h+l]){return u(o[h],g+n-i,a,c)}}}}};var f=[];i(0,e.length,0,t.length,f);return f};var nO=function(e){if(jr(e)){return e.outerHTML}else if(Zr(e)){return su.encodeRaw(e.data,false)}else if(eo(e)){return"\x3c!--"+e.data+"--\x3e"}return""};var rO=function(e){var t;var n=document.createElement("div");var r=document.createDocumentFragment();if(e){n.innerHTML=e}while(t=n.firstChild){r.appendChild(t)}return r};var oO=function(e,t,n){var r=rO(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else{e.appendChild(r)}};var aO=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}};var iO=function(e,t){var n=0;Z(e,(function(e){if(e[0]===QT){n++}else if(e[0]===ZT){oO(t,e[1],n);n++}else if(e[0]===eO){aO(t,n)}}))};var uO=function(e){return ne(Q(be(e.childNodes),nO),(function(e){return e.length>0}))};var cO=function(e,t){var n=Q(be(t.childNodes),nO);iO(tO(n,e),t);return t};var fO=$e((function(){return document.implementation.createHTMLDocument("undo")}));var sO=function(e){return e.indexOf("</iframe>")!==-1};var lO=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}};var vO=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}};var dO=function(e){var t=uO(e.getBody());var n=fe(t,(function(t){var n=Yy(e.serializer,t);return n.length>0?[n]:[]}));var r=n.join("");return sO(r)?lO(n):vO(r)};var mO=function(e,t,n){var r=n?t.beforeBookmark:t.bookmark;if(t.type==="fragmented"){cO(t.fragments,e.getBody())}else{e.setContent(t.content,{format:"raw",no_selection:k(r)&&ig(r)?!r.isFakeCaret:true})}e.selection.moveToBookmark(r)};var gO=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content};var hO=function(e){var t=wn.fromTag("body",fO());qs(t,gO(e));Z(Es(t,"*[data-mce-bogus]"),_r);return Ws(t)};var pO=function(e,t){return gO(e)===gO(t)};var bO=function(e,t){return hO(e)===hO(t)};var yO=function(e,t){if(!e||!t){return false}else if(pO(e,t)){return true}else{return bO(e,t)}};var wO=function(e){return e.get()===0};var xO=function(e,t,n){if(wO(n)){e.typing=t}};var CO=function(e,t){if(e.typing){xO(e,false,t);e.add()}};var SO=function(e){if(e.typing){e.typing=false;e.add()}};var kO=function(e,t,n){if(wO(t)){n.set(dv(e.selection))}};var TO=function(e,t,n,r,o,a,i){var u=dO(e);a=a||{};a=mn.extend(a,u);if(wO(r)===false||e.removed){return null}var c=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:a,lastLevel:c,originalEvent:i}).isDefaultPrevented()){return null}if(c&&yO(c,a)){return null}if(t.data[n.get()]){o.get().each((function(e){t.data[n.get()].beforeBookmark=e}))}var f=bd(e);if(f){if(t.data.length>f){for(var s=0;s<t.data.length-1;s++){t.data[s]=t.data[s+1]}t.data.length--;n.set(t.data.length)}}a.bookmark=dv(e.selection);if(n.get()<t.data.length-1){t.data.length=n.get()+1}t.data.push(a);n.set(t.data.length-1);var l={level:a,lastLevel:c,originalEvent:i};if(n.get()>0){e.setDirty(true);e.fire("AddUndo",l);e.fire("change",l)}else{e.fire("AddUndo",l)}return a};var OO=function(e,t,n){t.data=[];n.set(0);t.typing=false;e.fire("ClearUndos")};var _O=function(e,t,n,r,o){if(t.transact(r)){var a=t.data[n.get()].bookmark;var i=t.data[n.get()-1];mO(e,i,true);if(t.transact(o)){t.data[n.get()-1].beforeBookmark=a}}};var EO=function(e,t,n){var r;if(t.get()<n.length-1){t.set(t.get()+1);r=n[t.get()];mO(e,r,false);e.setDirty(true);e.fire("Redo",{level:r})}return r};var DO=function(e,t,n,r){var o;if(t.typing){t.add();t.typing=false;xO(t,false,n)}if(r.get()>0){r.set(r.get()-1);o=t.data[r.get()];mO(e,o,true);e.setDirty(true);e.fire("Undo",{level:o})}return o};var AO=function(e){e.clear();e.add()};var NO=function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!yO(dO(e),t.data[0])};var MO=function(e,t){return t.get()<e.data.length-1&&!e.typing};var RO=function(e,t,n){CO(e,t);e.beforeChange();e.ignore(n);return e.add()};var zO=function(e,t){try{e.set(e.get()+1);t()}finally{e.set(e.get()-1)}};var BO=function(e,t){var n=e.dom;var r=k(t)?t:e.getBody();if(C(e.hasVisual)){e.hasVisual=Td(e)}Z(n.select("table,a",r),(function(t){switch(t.nodeName){case"TABLE":var r=Od(e);var o=n.getAttrib(t,"border");if((!o||o==="0")&&e.hasVisual){n.addClass(t,r)}else{n.removeClass(t,r)}break;case"A":if(!n.getAttrib(t,"href")){var a=n.getAttrib(t,"name")||t.id;var i=_d(e);if(a&&e.hasVisual){n.addClass(t,i)}else{n.removeClass(t,i)}}break}}));e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})};var PO=function(e){return{undoManager:{beforeChange:function(t,n){return kO(e,t,n)},add:function(t,n,r,o,a,i){return TO(e,t,n,r,o,a,i)},undo:function(t,n,r){return DO(e,t,n,r)},redo:function(t,n){return EO(e,t,n)},clear:function(t,n){return OO(e,t,n)},reset:function(e){return AO(e)},hasUndo:function(t,n){return NO(e,t,n)},hasRedo:function(e,t){return MO(e,t)},transact:function(e,t,n){return RO(e,t,n)},ignore:function(e,t){return zO(e,t)},extra:function(t,n,r,o){return _O(e,t,n,r,o)}},formatter:{match:function(t,n,r,o){return jS(e,t,n,r,o)},matchAll:function(t,n){return WS(e,t,n)},matchNode:function(t,n,r,o){return US(e,t,n,r,o)},canApply:function(t){return GS(e,t)},closest:function(t){return qS(e,t)},apply:function(t,n,r){return aT(e,t,n,r)},remove:function(t,n,r,o){return Xk(e,t,n,r,o)},toggle:function(t,n,r){return gT(e,t,n,r)},formatChanged:function(t,n,r,o,a){return mT(e,t,n,r,o,a)}},editor:{getContent:function(t,n){return tw(e,t,n)},setContent:function(t,n){return MS(e,t,n)},insertContent:function(t,n){return xS(e,t,n)},addVisual:function(t){return BO(e,t)}},selection:{getContent:function(t,n){return JT(e,t,n)}},raw:{getModel:function(){return W.none()}}}};var LO=function(e){var t=function(e){return b(e)?e:{}};var n=e.undoManager,r=e.formatter,o=e.editor,a=e.selection,i=e.raw;return{undoManager:{beforeChange:n.beforeChange,add:n.add,undo:n.undo,redo:n.redo,clear:n.clear,reset:n.reset,hasUndo:n.hasUndo,hasRedo:n.hasRedo,transact:function(e,t,r){return n.transact(r)},ignore:function(e,t){return n.ignore(t)},extra:function(e,t,r,o){return n.extra(r,o)}},formatter:{match:function(e,n,o,a){return r.match(e,t(n),a)},matchAll:r.matchAll,matchNode:r.matchNode,canApply:function(e){return r.canApply(e)},closest:function(e){return r.closest(e)},apply:function(e,n,o){return r.apply(e,t(n))},remove:function(e,n,o,a){return r.remove(e,t(n))},toggle:function(e,n,o){return r.toggle(e,t(n))},formatChanged:function(e,t,n,o,a){return r.formatChanged(t,n,o,a)}},editor:{getContent:function(e,t){return o.getContent(e)},setContent:function(e,t){return o.setContent(e,t)},insertContent:function(e,t){return o.insertContent(e)},addVisual:o.addVisual},selection:{getContent:function(e,t){return a.getContent(t)}},raw:{getModel:function(){return W.some(i.getRawModel())}}}};var HO=function(){var e=A(null);var t=A("");return{undoManager:{beforeChange:_,add:e,undo:e,redo:e,clear:_,reset:_,hasUndo:H,hasRedo:H,transact:e,ignore:_,extra:_},formatter:{match:H,matchAll:A([]),matchNode:A(undefined),canApply:H,closest:t,apply:_,remove:_,toggle:_,formatChanged:A({unbind:_})},editor:{getContent:t,setContent:t,insertContent:_,addVisual:_},selection:{getContent:t},raw:{getModel:A(W.none())}}};var IO=function(e){return Me(e.plugins,"rtc")};var FO=function(e){return Ne(e.plugins,"rtc").bind((function(e){return W.from(e.setup)}))};var VO=function(e){var t=e;return FO(e).fold((function(){t.rtcInstance=PO(e);return W.none()}),(function(e){t.rtcInstance=HO();return W.some((function(){return e().then((function(e){t.rtcInstance=LO(e);return e.rtc.isRemote}))}))}))};var UO=function(e){return e.rtcInstance?e.rtcInstance:PO(e)};var jO=function(e){var t=e.rtcInstance;if(!t){throw new Error("Failed to get RTC instance not yet initialized.")}else{return t}};var WO=function(e,t,n){jO(e).undoManager.beforeChange(t,n)};var qO=function(e,t,n,r,o,a,i){return jO(e).undoManager.add(t,n,r,o,a,i)};var GO=function(e,t,n,r){return jO(e).undoManager.undo(t,n,r)};var $O=function(e,t,n){return jO(e).undoManager.redo(t,n)};var KO=function(e,t,n){jO(e).undoManager.clear(t,n)};var XO=function(e,t){jO(e).undoManager.reset(t)};var YO=function(e,t,n){return jO(e).undoManager.hasUndo(t,n)};var JO=function(e,t,n){return jO(e).undoManager.hasRedo(t,n)};var QO=function(e,t,n,r){return jO(e).undoManager.transact(t,n,r)};var ZO=function(e,t,n){jO(e).undoManager.ignore(t,n)};var e_=function(e,t,n,r,o){jO(e).undoManager.extra(t,n,r,o)};var t_=function(e,t,n,r,o){return jO(e).formatter.match(t,n,r,o)};var n_=function(e,t,n){return jO(e).formatter.matchAll(t,n)};var r_=function(e,t,n,r,o){return jO(e).formatter.matchNode(t,n,r,o)};var o_=function(e,t){return jO(e).formatter.canApply(t)};var a_=function(e,t){return jO(e).formatter.closest(t)};var i_=function(e,t,n,r){jO(e).formatter.apply(t,n,r)};var u_=function(e,t,n,r,o){jO(e).formatter.remove(t,n,r,o)};var c_=function(e,t,n,r){jO(e).formatter.toggle(t,n,r)};var f_=function(e,t,n,r,o,a){return jO(e).formatter.formatChanged(t,n,r,o,a)};var s_=function(e,t,n){return UO(e).editor.getContent(t,n)};var l_=function(e,t,n){return UO(e).editor.setContent(t,n)};var v_=function(e,t,n){return UO(e).editor.insertContent(t,n)};var d_=function(e,t,n){return jO(e).selection.getContent(t,n)};var m_=function(e,t){return jO(e).editor.addVisual(t)};var g_=function(e,t){if(t===void 0){t={}}var n=t.format?t.format:"html";return d_(e,n,t)};var h_=function(e){if(e.dom.length===0){Or(e);return W.none()}else{return W.some(e)}};var p_=function(e,t){return e.filter((function(e){return Hh.isBookmarkNode(e.dom)})).bind(t?er:Zn)};var b_=function(e,t,n,r){var o=e.dom;var a=t.dom;var i=r?o.length:a.length;if(r){Sx(o,a,false,!r);n.setStart(a,i)}else{Sx(a,o,false,!r);n.setEnd(a,i)}};var y_=function(e,t){Yn(e).each((function(n){var r=e.dom;if(t&&ux(n,Rl(r,0))){xx(r,0)}else if(!t&&fx(n,Rl(r,r.length))){Cx(r,r.length)}}))};var w_=function(e,t,n,r){e.bind((function(e){var o=r?Cx:xx;o(e.dom,r?e.dom.length:0);return t.filter(Un).map((function(t){return b_(e,t,n,r)}))})).orThunk((function(){var e=p_(t,r).or(t).filter(Un);return e.map((function(e){return y_(e,r)}))}))};var x_=function(e,t){var n=W.from(t.firstChild).map(wn.fromDom);var r=W.from(t.lastChild).map(wn.fromDom);e.deleteContents();e.insertNode(t);var o=n.bind(Zn).filter(Un).bind(h_);var a=r.bind(er).filter(Un).bind(h_);w_(o,n,e,true);w_(a,r,e,false);e.collapse(false)};var C_=function(e,t){return We(We({format:"html"},e),{set:true,selection:true,content:t})};var S_=function(e,t){if(t.format!=="raw"){var n=e.selection.getRng();var r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock);var o=r?{context:r.nodeName.toLowerCase()}:{};var a=e.parser.parse(t.content,We(We({isRootContent:true,forced_root_block:false},o),t));return iw({validate:e.validate},e.schema).serialize(a)}else{return t.content}};var k_=function(e,t,n){if(n===void 0){n={}}var r=C_(n,t);var o=r;if(!r.no_events){var a=e.fire("BeforeSetContent",r);if(a.isDefaultPrevented()){e.fire("SetContent",a);return}else{o=a}}o.content=S_(e,o);var i=e.selection.getRng();x_(i,i.createContextualFragment(o.content));e.selection.setRng(i);tb(e,i);if(!o.no_events){e.fire("SetContent",o)}};var T_=function(e,t,n){if(e&&Me(e,t)){var r=ne(e[t],(function(e){return e!==n}));if(r.length===0){delete e[t]}else{e[t]=r}}};function O_(e,t){var n;var r;var o=function(t,n){return ie(n,(function(n){return e.is(n,t)}))};var a=function(t){return e.getParents(t,null,e.getRoot())};return{selectorChangedWithUnbind:function(e,i){if(!n){n={};r={};t.on("NodeChange",(function(e){var t=e.element;var i=a(t);var u={};mn.each(n,(function(e,t){o(t,i).each((function(n){if(!r[t]){Z(e,(function(e){e(true,{node:n,selector:t,parents:i})}));r[t]=e}u[t]=e}))}));mn.each(r,(function(e,n){if(!u[n]){delete r[n];mn.each(e,(function(e){e(false,{node:t,selector:n,parents:i})}))}}))}))}if(!n[e]){n[e]=[]}n[e].push(i);o(e,a(t.selection.getStart())).each((function(){r[e]=n[e]}));return{unbind:function(){T_(n,e,i);T_(r,e,i)}}}}}var __=function(e){return!!e.select};var E_=function(e){return!!(e&&e.ownerDocument)&&Pn(wn.fromDom(e.ownerDocument),wn.fromDom(e))};var D_=function(e){if(!e){return false}else if(__(e)){return true}else{return E_(e.startContainer)&&E_(e.endContainer)}};var A_=function(e,t,n,r){var o;var a;var i=O_(e,r).selectorChangedWithUnbind;var u=function(t,n){var o=e.createRng();if(k(t)&&k(n)){o.setStart(t,n);o.setEnd(t,n);y(o);h(false)}else{kh(e,o,r.getBody(),true);y(o)}};var c=function(e){return g_(r,e)};var f=function(e,t){return k_(r,e,t)};var s=function(e){return by(r.getBody(),b(),e)};var l=function(e){return yy(r.getBody(),b(),e)};var v=function(e,t){return R.getBookmark(e,t)};var d=function(e){return R.moveToBookmark(e)};var m=function(t,n){Sy(e,t,n).each(y);return t};var g=function(){var e=b(),t=p();if(!e||e.item){return false}if(e.compareEndPoints){return e.compareEndPoints("StartToEnd",e)===0}return!t||e.collapsed};var h=function(e){var t=b();t.collapse(!!e);y(t)};var p=function(){return t.getSelection?t.getSelection():t.document.selection};var b=function(){var n,i,u;var c=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};var f=t.document;if(r.bookmark!==undefined&&vy(r)===false){var s=Hb(r);if(s.isSome()){return s.map((function(e){return ky(r,[e])[0]})).getOr(f.createRange())}}try{if((n=p())&&!Ur(n.anchorNode)){if(n.rangeCount>0){i=n.getRangeAt(0)}else{i=n.createRange?n.createRange():f.createRange()}i=ky(r,[i])[0]}}catch(e){}if(!i){i=f.createRange?f.createRange():f.body.createTextRange()}if(i.setStart&&i.startContainer.nodeType===9&&i.collapsed){u=e.getRoot();i.setStart(u,0);i.setEnd(u,0)}if(o&&a){if(c(i.START_TO_START,i,o)===0&&c(i.END_TO_END,i,o)===0){i=a}else{o=null;a=null}}return i};var y=function(e,t){var n;if(!D_(e)){return}var i=__(e)?e:null;if(i){a=null;try{i.select()}catch(e){}return}var u=p();var c=r.fire("SetSelectionRange",{range:e,forward:t});e=c.range;if(u){a=e;try{u.removeAllRanges();u.addRange(e)}catch(e){}if(t===false&&u.extend){u.collapse(e.endContainer,e.endOffset);u.extend(e.startContainer,e.startOffset)}o=u.rangeCount>0?u.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&u.setBaseAndExtent&&!en.ie){if(e.endOffset-e.startOffset<2){if(e.startContainer.hasChildNodes()){n=e.startContainer.childNodes[e.startOffset];if(n&&n.tagName==="IMG"){u.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset);if(u.anchorNode!==e.startContainer||u.focusNode!==e.endContainer){u.setBaseAndExtent(n,0,n,1)}}}}}r.fire("AfterSetSelectionRange",{range:e,forward:t})};var w=function(t){f(e.getOuterHTML(t));return t};var x=function(){return xy(r.getBody(),b())};var C=function(t,n){return Cy(e,b(),t,n)};var S=function(){var t=p();var n=t===null||t===void 0?void 0:t.anchorNode;var r=t===null||t===void 0?void 0:t.focusNode;if(!t||!n||!r||Ur(n)||Ur(r)){return true}var o=e.createRng();o.setStart(n,t.anchorOffset);o.collapse(true);var a=e.createRng();a.setStart(r,t.focusOffset);a.collapse(true);return o.compareBoundaryPoints(o.START_TO_START,a)<=0};var T=function(){var t=b();var n=p();if(!dh(n)&&Th(r)){var o=xp(e,t);o.each((function(e){y(e,S())}));return o.getOr(t)}return t};var O=function(e,t){i(e,t);return M};var _=function(){var t;var n=e.getRoot();while(n&&n.nodeName!=="BODY"){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t};var E=function(e,t){if(k(e)){eb(r,e,t)}else{tb(r,b(),t)}};var D=function(e,t){return y(cp(e,t,r.getDoc()))};var A=function(){var e=b();return e.collapsed?Rl.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()};var N=function(){t=o=a=null;z.destroy()};var M={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:h,setCursorLocation:u,getContent:c,setContent:f,getBookmark:v,moveToBookmark:d,select:m,isCollapsed:g,isForward:S,setNode:w,getNode:x,getSel:p,setRng:y,getRng:b,getStart:s,getEnd:l,getSelectedBlocks:C,normalize:T,selectorChanged:O,selectorChangedWithUnbind:i,getScrollContainer:_,scrollIntoView:E,placeCaretAt:D,getBoundingClientRect:A,destroy:N};var R=Hh(M);var z=rp(M,r);M.bookmarkManager=R;M.controlSelection=z;return M};var N_=function(e,t){Z(t,(function(t){e.attr(t,null)}))};var M_=function(e,t,n){e.addNodeFilter("font",(function(e){Z(e,(function(e){var r=t.parse(e.attr("style"));var o=e.attr("color");var a=e.attr("face");var i=e.attr("size");if(o){r.color=o}if(a){r["font-family"]=a}if(i){r["font-size"]=n[parseInt(e.attr("size"),10)-1]}e.name="span";e.attr("style",t.serialize(r));N_(e,["color","face","size"])}))}))};var R_=function(e,t){e.addNodeFilter("strike",(function(e){Z(e,(function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through";e.name="span";e.attr("style",t.serialize(n))}))}))};var z_=function(e,t){var n=Tu();if(t.convert_fonts_to_spans){M_(e,n,mn.explode(t.font_size_legacy_values))}R_(e,n)};var B_=function(e,t){if(t.inline_styles){z_(e,t)}};var P_=function(e){return new sa((function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new XMLHttpRequest;o.open("GET",e,true);o.responseType="blob";o.onload=function(){if(o.status===200){t(o.response)}else{r()}};o.onerror=r;o.send()}catch(e){r()}}))};var L_=function(e){var t;var n=decodeURIComponent(e).split(",");var r=/data:([^;]+)/.exec(n[0]);if(r){t=r[1]}return{type:t,data:n[1]}};var H_=function(e,t){var n;try{n=atob(t)}catch(e){return W.none()}var r=new Uint8Array(n.length);for(var o=0;o<r.length;o++){r[o]=n.charCodeAt(o)}return W.some(new Blob([r],{type:e}))};var I_=function(e){return new sa((function(t){var n=L_(e),r=n.type,o=n.data;H_(r,o).fold((function(){return t(new Blob([]))}),t)}))};var F_=function(e){if(e.indexOf("blob:")===0){return P_(e)}if(e.indexOf("data:")===0){return I_(e)}return null};var V_=function(e){return new sa((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)};n.readAsDataURL(e)}))};var U_=0;var j_=function(e){return(e||"blobid")+U_++};var W_=function(e,t,n,r){var o,a;if(t.src.indexOf("blob:")===0){a=e.getByUri(t.src);if(a){n({image:t,blobInfo:a})}else{F_(t.src).then((function(r){V_(r).then((function(i){o=L_(i).data;a=e.create(j_(),r,o);e.add(a);n({image:t,blobInfo:a})}))}),(function(e){r(e)}))}return}var i=L_(t.src),u=i.data,c=i.type;o=u;a=e.getByData(o,c);if(a){n({image:t,blobInfo:a})}else{F_(t.src).then((function(r){a=e.create(j_(),r,o);e.add(a);n({image:t,blobInfo:a})}),(function(e){r(e)}))}};var q_=function(e){return e?be(e.getElementsByTagName("img")):[]};var G_=function(e,t){var n={};var r=function(r,o){if(!o){o=I}var a=ne(q_(r),(function(t){var n=t.src;if(!en.fileApi){return false}if(t.hasAttribute("data-mce-bogus")){return false}if(t.hasAttribute("data-mce-placeholder")){return false}if(!n||n===en.transparentSrc){return false}if(n.indexOf("blob:")===0){return!e.isUploaded(n)&&o(t)}if(n.indexOf("data:")===0){return o(t)}return false}));var i=Q(a,(function(e){if(n[e.src]!==undefined){return new sa((function(t){n[e.src].then((function(n){if(typeof n==="string"){return n}t({image:e,blobInfo:n.blobInfo})}))}))}var r=new sa((function(n,r){W_(t,e,n,r)})).then((function(e){delete n[e.image.src];return e})).catch((function(t){delete n[e.src];return t}));n[e.src]=r;return r}));return sa.all(i)};return{findAll:r}};var $_=function(e,t,n,r){var o=e.padd_empty_with_br||t.insert;if(o&&n[r.name]){r.empty().append(new Dy("br",1)).shortEnded=true}else{r.empty().append(new Dy("#text",3)).value=qa}};var K_=function(e){return X_(e,"#text")&&e.firstChild.value===qa};var X_=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t};var Y_=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty};var J_=function(e,t,n,r){return r.isEmpty(t,n,(function(t){return Y_(e,t)}))};var Q_=function(e,t){return e&&(Me(t,e.name)||e.name==="br")};var Z_=function(e){return k(e.attr("data-mce-bogus"))};var eE=function(e){return e.attr("src")===en.transparentSrc||k(e.attr("data-mce-placeholder"))};var tE=function(e,t){if(t.images_dataimg_filter){var n=new Image;n.src=e.attr("src");Ce(e.attributes.map,(function(e,t){n.setAttribute(t,e)}));return t.images_dataimg_filter(n)}else{return true}};var nE=function(e,t){var n=t.blob_cache;var r=function(e){var r=e.attr("src");if(eE(e)||Z_(e)){return}My(r).filter((function(){return tE(e,t)})).bind((function(e){var t=e.type,r=e.data;return W.from(n.getByData(r,t)).orThunk((function(){return H_(t,r).map((function(e){var t=n.create(j_(),e,r);n.add(t);return t}))}))})).each((function(t){e.attr("src",t.blobUri())}))};if(n){e.addAttributeFilter("src",(function(e){return Z(e,r)}))}};var rE=function(e,t){var n=e.schema;if(t.remove_trailing_brs){e.addNodeFilter("br",(function(e,r,o){var a;var i=e.length;var u;var c=mn.extend({},n.getBlockElements());var f=n.getNonEmptyElements();var s,l,v,d;var m=n.getWhiteSpaceElements();var g,h;c.body=1;for(a=0;a<i;a++){u=e[a];s=u.parent;if(c[u.parent.name]&&u===s.lastChild){v=u.prev;while(v){d=v.name;if(d!=="span"||v.attr("data-mce-type")!=="bookmark"){if(d==="br"){u=null}break}v=v.prev}if(u){u.remove();if(J_(n,f,m,s)){g=n.getElementRule(s.name);if(g){if(g.removeEmpty){s.remove()}else if(g.paddEmpty){$_(t,o,c,s)}}}}}else{l=u;while(s&&s.firstChild===l&&s.lastChild===l){l=s;if(c[s.name]){break}s=s.parent}if(l===s&&t.padd_empty_with_br!==true){h=new Dy("#text",3);h.value=qa;u.replace(h)}}}}))}e.addAttributeFilter("href",(function(e){var n=e.length;var r=function(e){var t=e.split(" ").filter((function(e){return e.length>0}));return t.concat(["noopener"]).sort().join(" ")};var o=function(e){var t=e?mn.trim(e):"";if(!/\b(noopener)\b/g.test(t)){return r(t)}else{return t}};if(!t.allow_unsafe_link_target){while(n--){var a=e[n];if(a.name==="a"&&a.attr("target")==="_blank"){a.attr("rel",o(a.attr("rel")))}}}}));if(!t.allow_html_in_named_anchor){e.addAttributeFilter("id,name",(function(e){var t=e.length,n,r,o,a;while(t--){a=e[t];if(a.name==="a"&&a.firstChild&&!a.attr("href")){o=a.parent;n=a.lastChild;do{r=n.prev;o.insert(n,a);n=r}while(n)}}}))}if(t.fix_list_elements){e.addNodeFilter("ul,ol",(function(e){var t=e.length,n,r;while(t--){n=e[t];r=n.parent;if(r.name==="ul"||r.name==="ol"){if(n.prev&&n.prev.name==="li"){n.prev.append(n)}else{var o=new Dy("li",1);o.attr("style","list-style-type: none");n.wrap(o)}}}}))}if(t.validate&&n.getValidClasses()){e.addAttributeFilter("class",(function(e){var t=n.getValidClasses();var r=e.length;while(r--){var o=e[r];var a=o.attr("class").split(" ");var i="";for(var u=0;u<a.length;u++){var c=a[u];var f=false;var s=t["*"];if(s&&s[c]){f=true}s=t[o.name];if(!f&&s&&s[c]){f=true}if(f){if(i){i+=" "}i+=c}}if(!i.length){i=null}o.attr("class",i)}}))}nE(e,t)};var oE=mn.makeMap,aE=mn.each,iE=mn.explode,uE=mn.extend;var cE=function(e,t){if(t===void 0){t=Su()}var n={};var r=[];var o={};var a={};e=e||{};e.validate="validate"in e?e.validate:true;e.root_name=e.root_name||"body";var i=function(e){var n=oE("tr,td,th,tbody,thead,tfoot,table");var r=t.getNonEmptyElements();var o=t.getWhiteSpaceElements();var a=t.getTextBlockElements();var i=t.getSpecialElements();var c=function(e,n){if(n===void 0){n=e.parent}if(i[e.name]){e.empty().remove()}else{var r=e.children();for(var o=0,a=r;o<a.length;o++){var u=a[o];if(!t.isValidChild(n.name,u.name)){c(u,n)}}e.unwrap()}};for(var f=0;f<e.length;f++){var s=e[f];var l=void 0,v=void 0,d=void 0;if(!s.parent||s.fixed){continue}if(a[s.name]&&s.parent.name==="li"){var m=s.next;while(m){if(a[m.name]){m.name="li";m.fixed=true;s.parent.insert(m,s.parent)}else{break}m=m.next}s.unwrap();continue}var g=[s];for(l=s.parent;l&&!t.isValidChild(l.name,s.name)&&!n[l.name];l=l.parent){g.push(l)}if(l&&g.length>1){if(t.isValidChild(l.name,s.name)){g.reverse();v=u(g[0].clone());var h=v;for(var p=0;p<g.length-1;p++){if(t.isValidChild(h.name,g[p].name)){d=u(g[p].clone());h.append(d)}else{d=h}for(var b=g[p].firstChild;b&&b!==g[p+1];){var y=b.next;d.append(b);b=y}h=d}if(!J_(t,r,o,v)){l.insert(v,g[0],true);l.insert(s,v)}else{l.insert(s,g[0],true)}l=g[0];if(J_(t,r,o,l)||X_(l,"br")){l.empty().remove()}}else{c(s)}}else if(s.parent){if(s.name==="li"){var m=s.prev;if(m&&(m.name==="ul"||m.name==="ol")){m.append(s);continue}m=s.next;if(m&&(m.name==="ul"||m.name==="ol")){m.insert(s,m.firstChild,true);continue}s.wrap(u(new Dy("ul",1)));continue}if(t.isValidChild(s.parent.name,"div")&&t.isValidChild("div",s.name)){s.wrap(u(new Dy("div",1)))}else{c(s)}}}};var u=function(e){var t=e.name;if(t in n){var i=o[t];if(i){i.push(e)}else{o[t]=[e]}}var u=r.length;while(u--){var c=r[u].name;if(c in e.attributes.map){var i=a[c];if(i){i.push(e)}else{a[c]=[e]}}}return e};var c=function(e,t){aE(iE(e),(function(e){var r=n[e];if(!r){n[e]=r=[]}r.push(t)}))};var f=function(){var e=[];for(var t in n){if(Me(n,t)){e.push({name:t,callbacks:n[t]})}}return e};var s=function(e,t){aE(iE(e),(function(e){var n;for(n=0;n<r.length;n++){if(r[n].name===e){r[n].callbacks.push(t);return}}r.push({name:e,callbacks:[t]})}))};var l=function(){return[].concat(r)};var v=function(u,c){var f,s,l,v,d,m,g;var h=[];var p;var b=function(e){if(e===false){return""}else if(e===true){return"p"}else{return e}};c=c||{};o={};a={};var y=uE(oE("script,style,head,html,body,title,meta,param"),t.getBlockElements());var w=wu(t);var x=t.getNonEmptyElements();var C=t.children;var S=e.validate;var T="forced_root_block"in c?c.forced_root_block:e.forced_root_block;var O=b(T);var _=t.getWhiteSpaceElements();var E=/^[ \t\r\n]+/;var D=/[ \t\r\n]+$/;var A=/[ \t\r\n]+/g;var N=/^[ \t\r\n]+$/;var M=Me(_,c.context)||Me(_,e.root_name);var R=function(){var n=I.firstChild,r=null;var o=function(e){if(e){n=e.firstChild;if(n&&n.type===3){n.value=n.value.replace(E,"")}n=e.lastChild;if(n&&n.type===3){n.value=n.value.replace(D,"")}}};if(!t.isValidChild(I.name,O.toLowerCase())){return}while(n){var a=n.next;if(n.type===3||n.type===1&&n.name!=="p"&&!y[n.name]&&!n.attr("data-mce-type")){if(!r){r=z(O,1);r.attr(e.forced_root_block_attrs);I.insert(r,n);r.append(n)}else{r.append(n)}}else{o(r);r=null}n=a}o(r)};var z=function(e,t){var r=new Dy(e,t);var a;if(e in n){a=o[e];if(a){a.push(r)}else{o[e]=[r]}}return r};var B=function(e){var n=t.getBlockElements();for(var r=e.prev;r&&r.type===3;){var o=r.value.replace(D,"");if(o.length>0){r.value=o;return}var a=r.next;if(a){if(a.type===3&&a.value.length){r=r.prev;continue}if(!n[a.name]&&a.name!=="script"&&a.name!=="style"){r=r.prev;continue}}var i=r.prev;r.remove();r=i}};var P=function(e){var t={};for(var n in e){if(n!=="li"&&n!=="p"){t[n]=e[n]}}return t};var L=function(e){var n=e;while(k(n)){if(n.name in w){return J_(t,x,_,n)}else{n=n.parent}}return false};var H=Ky({validate:S,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:P(t.getSelfClosingElements()),cdata:function(e){p.append(z("#cdata",4)).value=e},text:function(e,t){var n;if(!M){e=e.replace(A," ");if(Q_(p.lastChild,y)){e=e.replace(E,"")}}if(e.length!==0){n=z("#text",3);n.raw=!!t;p.append(n).value=e}},comment:function(e){p.append(z("#comment",8)).value=e},pi:function(e,t){p.append(z(e,7)).value=t;B(p)},doctype:function(e){var t=p.append(z("#doctype",10));t.value=e;B(p)},start:function(e,n,o){var i=S?t.getElementRule(e):{};if(i){var u=z(i.outputName||e,1);u.attributes=n;u.shortEnded=o;p.append(u);var c=C[p.name];if(c&&C[u.name]&&!c[u.name]){h.push(u)}var f=r.length;while(f--){var s=r[f].name;if(s in n.map){m=a[s];if(m){m.push(u)}else{a[s]=[u]}}}if(y[e]){B(u)}if(!o){p=u}if(!M&&_[e]){M=true}}},end:function(n){var r,o,a;var i=S?t.getElementRule(n):{};if(i){if(y[n]){if(!M){r=p.firstChild;if(r&&r.type===3){o=r.value.replace(E,"");if(o.length>0){r.value=o;r=r.next}else{a=r.next;r.remove();r=a;while(r&&r.type===3){o=r.value;a=r.next;if(o.length===0||N.test(o)){r.remove();r=a}r=a}}}r=p.lastChild;if(r&&r.type===3){o=r.value.replace(D,"");if(o.length>0){r.value=o;r=r.prev}else{a=r.prev;r.remove();r=a;while(r&&r.type===3){o=r.value;a=r.prev;if(o.length===0||N.test(o)){r.remove();r=a}r=a}}}}}if(M&&_[n]){M=false}var u=J_(t,x,_,p);var f=p.parent;if(i.paddInEmptyBlock&&u&&L(p)){$_(e,c,y,p)}else if(i.removeEmpty&&u){if(y[p.name]){p.empty().remove()}else{p.unwrap()}}else if(i.paddEmpty&&(K_(p)||u)){$_(e,c,y,p)}p=f}}},t);var I=p=new Dy(c.context||e.root_name,11);H.parse(u,c.format);if(S&&h.length){if(!c.context){i(h)}else{c.invalid=true}}if(O&&(I.name==="body"||c.isRootContent)){R()}if(!c.invalid){for(g in o){if(!Me(o,g)){continue}m=n[g];f=o[g];v=f.length;while(v--){if(!f[v].parent){f.splice(v,1)}}for(s=0,l=m.length;s<l;s++){m[s](f,g,c)}}for(s=0,l=r.length;s<l;s++){m=r[s];if(m.name in a){f=a[m.name];v=f.length;while(v--){if(!f[v].parent){f.splice(v,1)}}for(v=0,d=m.callbacks.length;v<d;v++){m.callbacks[v](f,m.name,c)}}}}return I};var d={schema:t,addAttributeFilter:s,getAttributeFilters:l,addNodeFilter:c,getNodeFilters:f,filterNode:u,parse:v};rE(d,e);B_(d,e);return d};var fE=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",(function(e,t){var n=e.length;while(n--){var r=e[n];r.attr("tabindex",r.attr("data-mce-tabindex"));r.attr(t,null)}}));e.addAttributeFilter("src,href,style",(function(e,r){var o="data-mce-"+r;var a=t.url_converter;var i=t.url_converter_scope;var u=e.length;while(u--){var c=e[u];var f=c.attr(o);if(f!==undefined){c.attr(r,f.length>0?f:null);c.attr(o,null)}else{f=c.attr(r);if(r==="style"){f=n.serializeStyle(n.parseStyle(f),c.name)}else if(a){f=a.call(i,f,r,c.name)}c.attr(r,f.length>0?f:null)}}}));e.addAttributeFilter("class",(function(e){var t=e.length;while(t--){var n=e[t];var r=n.attr("class");if(r){r=n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,"");n.attr("class",r.length>0?r:null)}}}));e.addAttributeFilter("data-mce-type",(function(e,t,n){var r=e.length;while(r--){var o=e[r];if(o.attr("data-mce-type")==="bookmark"&&!n.cleanup){var a=W.from(o.firstChild).exists((function(e){return!Xa(e.value)}));if(a){o.unwrap()}else{o.remove()}}}}));e.addNodeFilter("noscript",(function(e){var t=e.length;while(t--){var n=e[t].firstChild;if(n){n.value=su.decode(n.value)}}}));e.addNodeFilter("script,style",(function(e,n){var r=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};var o=e.length;while(o--){var a=e[o];var i=a.firstChild?a.firstChild.value:"";if(n==="script"){var u=a.attr("type");if(u){a.attr("type",u==="mce-no/type"?null:u.replace(/^mce\-/,""))}if(t.element_format==="xhtml"&&i.length>0){a.firstChild.value="// <![CDATA[\n"+r(i)+"\n// ]]>"}}else{if(t.element_format==="xhtml"&&i.length>0){a.firstChild.value="\x3c!--\n"+r(i)+"\n--\x3e"}}}}));e.addNodeFilter("#comment",(function(e){var r=e.length;while(r--){var o=e[r];if(t.preserve_cdata&&o.value.indexOf("[CDATA[")===0){o.name="#cdata";o.type=4;o.value=n.decode(o.value.replace(/^\[CDATA\[|\]\]$/g,""))}else if(o.value.indexOf("mce:protected ")===0){o.name="#text";o.type=3;o.raw=true;o.value=unescape(o.value).substr(14)}}}));e.addNodeFilter("xml:namespace,input",(function(e,t){var n=e.length;while(n--){var r=e[n];if(r.type===7){r.remove()}else if(r.type===1){if(t==="input"&&!r.attr("type")){r.attr("type","text")}}}}));e.addAttributeFilter("data-mce-type",(function(t){Z(t,(function(t){if(t.attr("data-mce-type")==="format-caret"){if(t.isEmpty(e.schema.getNonEmptyElements())){t.remove()}else{t.unwrap()}}}))}));e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,"+"data-mce-selected,data-mce-expando,"+"data-mce-type,data-mce-resize,data-mce-placeholder",(function(e,t){var n=e.length;while(n--){e[n].attr(t,null)}}))};var sE=function(e){var t=function(e){return e&&e.name==="br"};var n=e.lastChild;if(t(n)){var r=n.prev;if(t(r)){n.remove();r.remove()}}};var lE=function(e,t,n){var r;var o=e.dom;var a=t.cloneNode(true);var i=document.implementation;if(i.createHTMLDocument){var u=i.createHTMLDocument("");mn.each(a.nodeName==="BODY"?a.childNodes:[a],(function(e){u.body.appendChild(u.importNode(e,true))}));if(a.nodeName!=="BODY"){a=u.body.firstChild}else{a=u.body}r=o.doc;o.doc=u}Vh(e,We(We({},n),{node:a}));if(r){o.doc=r}return a};var vE=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events};var dE=function(e,t,n){return vE(e,n)?lE(e,t,n):t};var mE=function(e,t,n){if(mn.inArray(t,n)===-1){e.addAttributeFilter(n,(function(e,t){var n=e.length;while(n--){e[n].attr(t,null)}}));t.push(n)}};var gE=function(e,t,n){if(!t.no_events&&e){var r=Uh(e,We(We({},t),{content:n}));return r.content}else{return n}};var hE=function(e,t,n){var r=Ya(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Ua(wn.fromDom(t))?r:mn.trim(r)};var pE=function(e,t,n){var r=n.selection?We({forced_root_block:false},n):n;var o=e.parse(t,r);sE(o);return o};var bE=function(e,t,n){var r=iw(e,t);return r.serialize(n)};var yE=function(e,t,n,r,o){var a=bE(t,n,r);return gE(e,o,a)};var wE=function(e,t){var n=["data-mce-selected"];var r=t&&t.dom?t.dom:Uf.DOM;var o=t&&t.schema?t.schema:Su(e);e.entity_encoding=e.entity_encoding||"named";e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:true;var a=cE(e,o);fE(a,e,r);var i=function(n,i){if(i===void 0){i={}}var u=We({format:"html"},i);var c=dE(t,n,u);var f=hE(r,c,u);var s=pE(a,f,u);return u.format==="tree"?s:yE(t,e,o,s,u)};return{schema:o,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:i,addRules:o.addValidElements,setRules:o.setValidElements,addTempAttr:R(mE,a,n),getTempAttrs:A(n),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}};var xE=function(e,t){var n=wE(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}};var CE="html";var SE=function(e,t){if(t===void 0){t={}}var n=t.format?t.format:CE;return s_(e,t,n)};var kE=function(e,t,n){if(n===void 0){n={}}return l_(e,t,n)};var TE=Uf.DOM;var OE=function(e){TE.setStyle(e.id,"display",e.orgDisplay)};var _E=function(e){return W.from(e).each((function(e){return e.destroy()}))};var EE=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null;e.bodyElement=e.contentDocument=e.contentWindow=null;e.iframeElement=e.targetElm=null;if(e.selection){e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null}};var DE=function(e){var t=e.formElement;if(t){if(t._mceOldSubmit){t.submit=t._mceOldSubmit;t._mceOldSubmit=null}TE.unbind(t,"submit reset",e.formEventDelegate)}};var AE=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload;var r=e.getBody();var o=e.getElement();if(r){e.save({is_removing:true})}e.removed=true;e.unbindAllNativeEvents();if(e.hasHiddenInput&&o){TE.remove(o.nextSibling)}jh(e);e.editorManager.remove(e);if(!e.inline&&r){OE(e)}Wh(e);TE.remove(e.getContainer());_E(t);_E(n);e.destroy()}};var NE=function(e,t){var n=e.selection,r=e.dom;if(e.destroyed){return}if(!t&&!e.removed){e.remove();return}if(!t){e.editorManager.off("beforeunload",e._beforeUnload);if(e.theme&&e.theme.destroy){e.theme.destroy()}_E(n);_E(r)}DE(e);EE(e);e.destroyed=true};var ME=function(e,t){var n=b(e)&&b(t);return n?zE(e,t):t};var RE=function(e){return function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}if(t.length===0){throw new Error("Can't merge zero objects")}var r={};for(var o=0;o<t.length;o++){var a=t[o];for(var i in a){if(Me(a,i)){r[i]=e(r[i],a[i])}}}return r}};var zE=RE(ME);var BE=("autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,"+"boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,"+"force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,"+"non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,"+"tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,"+"paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists").split(",");var PE="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(",");var LE="imagetools,toc".split(",");var HE=function(e){var t=ne(BE,(function(t){return Me(e,t)}));var n=e.forced_root_block;if(n===false||n===""){t.push("forced_root_block (false only)")}return me(t)};var IE=function(e){var t=mn.makeMap(e.plugins," ");var n=function(e){return Me(t,e)};var r=Ge(Ge([],ne(PE,n),true),fe(LE,(function(e){return n(e)?[e+" (moving to premium)"]:[]})),true);return me(r)};var FE=function(e,t){var n=HE(e);var r=IE(t);var o=r.length>0;var a=n.length>0;var i=t.theme==="mobile";if(o||a||i){var u="\n- ";var c=i?"\n\nThemes:"+u+"mobile":"";var f=o?"\n\nPlugins:"+u+r.join(u):"";var s=a?"\n\nSettings:"+u+n.join(u):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. "+"See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+c+f+s)}};var VE=function(e,t){return{sections:A(e),settings:A(t)}};var UE=qt().deviceType;var jE=UE.isTouch();var WE=UE.isPhone();var qE=UE.isTablet();var GE=["lists","autolink","autosave"];var $E={table_grid:false,object_resizing:false,resize:false};var KE=function(e){var t=y(e)?e.join(" "):e;var n=Q(p(t)?t.split(" "):[],lt);return ne(n,(function(e){return e.length>0}))};var XE=function(e){return ne(e,R(Y,GE))};var YE=function(e,t){var n=_e(t,(function(t,n){return Y(e,n)}));return VE(n.t,n.f)};var JE=function(e,t,n){if(n===void 0){n={}}var r=e.sections();var o=Ne(r,t).getOr({});return mn.extend({},n,o)};var QE=function(e,t){return Me(e.sections(),t)};var ZE=function(e,t,n){var r=e.sections();return QE(e,t)&&r[t].theme===n};var eD=function(e,t){return QE(e,t)?e.sections()[t]:{}};var tD=function(e,t){return Ne(e,"toolbar_mode").orThunk((function(){return Ne(e,"toolbar_drawer").map((function(e){return e===false?"wrap":e}))})).getOr(t)};var nD=function(e,t,n,r,o){var a={id:t,theme:"silver",toolbar_mode:tD(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:true,submit_patch:true,add_unload_trigger:true,convert_urls:true,relative_urls:true,remove_script_host:true,object_resizing:true,doctype:"<!DOCTYPE html>",visual:true,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:true,inline_styles:true,convert_fonts_to_spans:true,indent:true,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,"+"tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,"+"tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o};return We(We({},a),r?$E:{})};var rD=function(e,t){var n={resize:false,toolbar_mode:tD(e,"scrolling"),toolbar_sticky:false};var r={menubar:false};return We(We(We({},$E),n),t?r:{})};var oD=function(e,t){var n=t.external_plugins?t.external_plugins:{};if(e&&e.external_plugins){return mn.extend({},e.external_plugins,n)}else{return n}};var aD=function(e,t){return[].concat(KE(e)).concat(KE(t))};var iD=function(e,t,n,r){if(e&&ZE(t,"mobile","mobile")){return XE(r)}else if(e&&QE(t,"mobile")){return r}else{return n}};var uD=function(e,t,n,r){var o=KE(n.forced_plugins);var a=KE(r.plugins);var i=eD(t,"mobile");var u=i.plugins?KE(i.plugins):a;var c=iD(e,t,a,u);var f=aD(o,c);if(en.browser.isIE()&&Y(f,"rtc")){throw new Error("RTC plugin is not supported on IE 11.")}return mn.extend(r,{plugins:f.join(" ")})};var cD=function(e,t){return e&&QE(t,"mobile")};var fD=function(e,t,n,r,o){var a=e?{mobile:rD(o.mobile||{},t)}:{};var i=YE(["mobile"],zE(a,o));var u=mn.extend(n,r,i.settings(),cD(e,i)?JE(i,"mobile"):{},{validate:true,external_plugins:oD(r,i.settings())});return uD(e,i,r,u)};var sD=function(e,t,n,r,o){var a=nD(o,t,n,jE,e);var i=fD(WE||qE,WE,a,r,o);if(i.deprecation_warnings!==false){FE(o,i)}return i};var lD=function(e,t,n){return W.from(t.settings[n]).filter(e)};var vD=function(e){var t={};if(typeof e==="string"){Z(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),(function(e){var n=e.split("=");if(n.length>1){t[mn.trim(n[0])]=mn.trim(n[1])}else{t[mn.trim(n[0])]=mn.trim(n[0])}}))}else{t=e}return t};var dD=function(e){return function(t){return y(t)&&se(t,e)}};var mD=function(e,t,n,r){var o=t in e.settings?e.settings[t]:n;if(r==="hash"){return vD(o)}else if(r==="string"){return lD(p,e,t).getOr(n)}else if(r==="number"){return lD(O,e,t).getOr(n)}else if(r==="boolean"){return lD(x,e,t).getOr(n)}else if(r==="object"){return lD(b,e,t).getOr(n)}else if(r==="array"){return lD(y,e,t).getOr(n)}else if(r==="string[]"){return lD(dD(p),e,t).getOr(n)}else if(r==="function"){return lD(T,e,t).getOr(n)}else{return o}};var gD=function(){var e={};var t=function(t,n){e[t]=n};var n=function(t){if(e[t]){return e[t]}return{icons:{}}};var r=function(t){return Me(e,t)};return{add:t,get:n,has:r}};var hD=gD();var pD=function(e,t){var n=t.dom;return n[e]};var bD=function(e,t){return parseInt(Oo(t,e),10)};var yD=R(pD,"clientWidth");var wD=R(pD,"clientHeight");var xD=R(bD,"margin-top");var CD=R(bD,"margin-left");var SD=function(e){return e.dom.getBoundingClientRect()};var kD=function(e,t,n){var r=yD(e);var o=wD(e);return t>=0&&n>=0&&t<=r&&n<=o};var TD=function(e,t,n,r){var o=SD(t);var a=e?o.left+t.dom.clientLeft+CD(t):0;var i=e?o.top+t.dom.clientTop+xD(t):0;var u=n-a;var c=r-i;return{x:u,y:c}};var OD=function(e,t,n){var r=wn.fromDom(e.getBody());var o=e.inline?r:Kn(r);var a=TD(e.inline,o,t,n);return kD(o,a.x,a.y)};var _D=function(e){return W.from(e).map(wn.fromDom)};var ED=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return _D(t).map(Er).getOr(false)};var DD=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}};var AD=function(e){var t=[];var n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():DD()};var r=function(){return W.from(t[0])};var o=function(e,t){return e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout};var a=function(){if(t.length>0){n().reposition(t)}};var i=function(e){t.push(e)};var u=function(e){ue(t,(function(t){return t===e})).each((function(e){t.splice(e,1)}))};var c=function(c,f){if(f===void 0){f=true}if(e.removed||!ED(e)){return}if(f){e.fire("BeforeOpenNotification",{notification:c})}return ie(t,(function(e){return o(n().getArgs(e),c)})).getOrThunk((function(){e.editorManager.setActive(e);var t=n().open(c,(function(){u(t);a();r().fold((function(){return e.focus()}),(function(e){return rb(wn.fromDom(e.getEl()))}))}));i(t);a();e.fire("OpenNotification",{notification:We({},t)});return t}))};var f=function(){r().each((function(e){n().close(e);u(e);a()}))};var s=A(t);var l=function(e){e.on("SkinLoaded",(function(){var t=nd(e);if(t){c({text:t,type:"warning",timeout:0},false)}a()}));e.on("show ResizeEditor ResizeWindow NodeChange",(function(){ba.requestAnimationFrame(a)}));e.on("remove",(function(){Z(t.slice(),(function(e){n().close(e)}))}))};l(e);return{open:c,close:f,getNotifications:s}};var ND=ls.PluginManager;var MD=ls.ThemeManager;function RD(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var zD=function(e){var t=[];var n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():RD()};var r=function(e,t){return function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}return t?t.apply(e,n):undefined}};var o=function(t){e.fire("OpenWindow",{dialog:t})};var a=function(t){e.fire("CloseWindow",{dialog:t})};var i=function(e){t.push(e);o(e)};var u=function(n){a(n);t=ne(t,(function(e){return e!==n}));if(t.length===0){e.focus()}};var c=function(){return W.from(t[t.length-1])};var f=function(t){e.editorManager.setActive(e);Pb(e);var n=t();i(n);return n};var s=function(e,t){return f((function(){return n().open(e,t,u)}))};var l=function(e){return f((function(){return n().openUrl(e,u)}))};var v=function(e,t,o){var a=n();a.alert(e,r(o?o:a,t))};var d=function(e,t,o){var a=n();a.confirm(e,r(o?o:a,t))};var m=function(){c().each((function(e){n().close(e);u(e)}))};e.on("remove",(function(){Z(t,(function(e){n().close(e)}))}));return{open:s,openUrl:l,alert:v,confirm:d,close:m}};var BD=function(e,t){e.notificationManager.open({type:"error",text:t})};var PD=function(e,t){if(e._skinLoaded){BD(e,t)}else{e.on("SkinLoaded",(function(){BD(e,t)}))}};var LD=function(e,t){PD(e,ss.translate(["Failed to upload image: {0}",t]))};var HD=function(e,t,n){Qh(e,t,{message:n});console.error(n)};var ID=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t};var FD=function(e,t,n){HD(e,"PluginLoadError",ID("plugin",t,n))};var VD=function(e,t,n){HD(e,"IconsLoadError",ID("icons",t,n))};var UD=function(e,t,n){HD(e,"LanguageLoadError",ID("language",t,n))};var jD=function(e,t,n){var r=ss.translate(["Failed to initialize plugin: {0}",t]);Qh(e,"PluginLoadError",{message:r});WD(r,n);PD(e,r)};var WD=function(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}var r=window.console;if(r){if(r.error){r.error.apply(r,Ge([e],t,false))}else{r.log.apply(r,Ge([e],t,false))}}};var qD=function(e){return/^[a-z0-9\-]+$/i.test(e)};var GD=function(e){return KD(e,Kv(e))};var $D=function(e){return KD(e,Xv(e))};var KD=function(e,t){var n=e.editorManager.baseURL+"/skins/content";var r=e.editorManager.suffix;var o="content"+r+".css";var a=e.inline===true;return Q(t,(function(t){if(qD(t)&&!a){return n+"/"+t+"/"+o}else{return e.documentBaseURI.toAbsolute(t)}}))};var XD=function(e){e.contentCSS=e.contentCSS.concat(GD(e),$D(e))};var YD=function(){var e=1,t=2;var n={};var r=function(e,t){return{status:e,resultUri:t}};var o=function(e){return e in n};var a=function(e){var t=n[e];return t?t.resultUri:null};var i=function(t){return o(t)?n[t].status===e:false};var u=function(e){return o(e)?n[e].status===t:false};var c=function(t){n[t]=r(e,null)};var f=function(e,o){n[e]=r(t,o)};var s=function(e){delete n[e]};var l=function(){n={}};return{hasBlobUri:o,getResultUri:a,isPending:i,isUploaded:u,markPending:c,markUploaded:f,removeFailed:s,destroy:l}};var JD=0;var QD=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)};var t=(new Date).getTime();return"s"+t.toString(36)+e()+e()+e()};var ZD=function(e){return e+JD+++QD()};var eA=function(){var e=[];var t=function(e){var t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return t[e.toLowerCase()]||"dat"};var n=function(e,t,n,o,a){if(p(e)){var i=e;return r({id:i,name:o,filename:a,blob:t,base64:n})}else if(b(e)){return r(e)}else{throw new Error("Unknown input type")}};var r=function(e){if(!e.blob||!e.base64){throw new Error("blob and base64 representations of the image are required for BlobInfo to be created")}var n=e.id||ZD("blobid");var r=e.name||n;var o=e.blob;return{id:A(n),name:A(r),filename:A(e.filename||r+"."+t(o.type)),blob:A(o),base64:A(e.base64),blobUri:A(e.blobUri||URL.createObjectURL(o)),uri:A(e.uri)}};var o=function(t){if(!i(t.id())){e.push(t)}};var a=function(t){return ie(e,t).getOrUndefined()};var i=function(e){return a((function(t){return t.id()===e}))};var u=function(e){return a((function(t){return t.blobUri()===e}))};var c=function(e,t){return a((function(n){return n.base64()===e&&n.blob().type===t}))};var f=function(t){e=ne(e,(function(e){if(e.blobUri()===t){URL.revokeObjectURL(e.blobUri());return false}return true}))};var s=function(){Z(e,(function(e){URL.revokeObjectURL(e.blobUri())}));e=[]};return{create:n,add:o,get:i,getByUri:u,getByData:c,findFirst:a,removeByUri:f,destroy:s}};var tA=function(e,t){var n={};var r=function(e,t){if(e){return e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")}return t};var o=function(e,n,o,a){var i=new XMLHttpRequest;i.open("POST",t.url);i.withCredentials=t.credentials;i.upload.onprogress=function(e){a(e.loaded/e.total*100)};i.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+i.status)};i.onload=function(){if(i.status<200||i.status>=300){o("HTTP Error: "+i.status);return}var e=JSON.parse(i.responseText);if(!e||typeof e.location!=="string"){o("Invalid JSON: "+i.responseText);return}n(r(t.basePath,e.location))};var u=new FormData;u.append("file",e.blob(),e.filename());i.send(u)};var a=function(){return new sa((function(e){e([])}))};var i=function(e,t){return{url:t,blobInfo:e,status:true}};var u=function(e,t,n){return{url:"",blobInfo:e,status:false,error:{message:t,options:n}}};var c=function(e,t){mn.each(n[e],(function(e){e(t)}));delete n[e]};var f=function(t,n,r){e.markPending(t.blobUri());return new sa((function(o){var a,f;try{var s=function(){if(a){a.close();f=_}};var l=function(n){s();e.markUploaded(t.blobUri(),n);c(t.blobUri(),i(t,n));o(i(t,n))};var v=function(n,r){var a=r?r:{};s();e.removeFailed(t.blobUri());c(t.blobUri(),u(t,n,a));o(u(t,n,a))};f=function(e){if(e<0||e>100){return}W.from(a).orThunk((function(){return W.from(r).map(P)})).each((function(t){a=t;t.progressBar.value(e)}))};n(t,l,v,f)}catch(e){o(u(t,e.message,{}))}}))};var s=function(e){return e===o};var l=function(e){var t=e.blobUri();return new sa((function(e){n[t]=n[t]||[];n[t].push(e)}))};var v=function(n,r){n=mn.grep(n,(function(t){return!e.isUploaded(t.blobUri())}));return sa.all(mn.map(n,(function(n){return e.isPending(n.blobUri())?l(n):f(n,t.handler,r)})))};var d=function(e,n){return!t.url&&s(t.handler)?a():v(e,n)};if(T(t.handler)===false){t.handler=o}return{upload:d}};var nA=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:true})}};var rA=function(e,t){return tA(t,{url:Hv(e),basePath:Iv(e),credentials:Fv(e),handler:Vv(e)})};var oA=function(e){var t=YD();var n=rA(e,t);return{upload:function(t,r){if(r===void 0){r=true}return n.upload(t,r?nA(e):undefined)}}};var aA=function(e){var t=Jf(null);e.on("change AddUndo",(function(e){t.set(We({},e.level))}));var n=function(){var n=e.undoManager.data;pe(n).filter((function(e){return!yO(t.get(),e)})).each((function(t){e.setDirty(true);e.fire("change",{level:t,lastLevel:ge(n,n.length-2).getOrNull()})}))};return{fireIfChanged:n}};var iA=function(e){var t=eA();var n,r;var o=YD();var a=[];var i=aA(e);var u=function(t){return function(n){if(e.selection){return t(n)}return[]}};var c=function(e){return e+(e.indexOf("?")===-1?"?":"&")+(new Date).getTime()};var f=function(e,t,n){var r=0;do{r=e.indexOf(t,r);if(r!==-1){e=e.substring(0,r)+n+e.substr(r+t.length);r+=n.length-t.length+1}}while(r!==-1);return e};var s=function(e,t,n){var r='src="'+n+'"'+(n===en.transparentSrc?' data-mce-placeholder="1"':"");e=f(e,'src="'+t+'"',r);e=f(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"');return e};var l=function(t,n){Z(e.undoManager.data,(function(e){if(e.type==="fragmented"){e.fragments=Q(e.fragments,(function(e){return s(e,t,n)}))}else{e.content=s(e.content,t,n)}}))};var v=function(t,n){var r=e.convertURL(n,"src");l(t.src,n);e.$(t).attr({src:zv(e)?c(n):n,"data-mce-src":r})};var d=function(r){if(!n){n=rA(e,o)}return p().then(u((function(o){var a=Q(o,(function(e){return e.blobInfo}));return n.upload(a,nA(e)).then(u((function(n){var a=[];var u=Q(n,(function(n,r){var i=o[r].blobInfo;var u=o[r].image;if(n.status&&Bv(e)){t.removeByUri(u.src);if(IO(e));else{v(u,n.url)}}else if(n.error){if(n.error.options.remove){l(u.getAttribute("src"),en.transparentSrc);a.push(u)}LD(e,n.error.message)}return{element:u,status:n.status,uploadUri:n.url,blobInfo:i}}));if(u.length>0){i.fireIfChanged()}if(a.length>0){if(IO(e)){console.error("Removing images on failed uploads is currently unsupported for RTC")}else{e.undoManager.transact((function(){Z(a,(function(n){e.dom.remove(n);t.removeByUri(n.src)}))}))}}if(r){r(u)}return u})))})))};var m=function(t){if(Rv(e)){return d(t)}};var g=function(t){if(se(a,(function(e){return e(t)}))===false){return false}if(t.getAttribute("src").indexOf("data:")===0){var n=Mv(e);return n(t)}return true};var h=function(e){a.push(e)};var p=function(){if(!r){r=G_(o,t)}return r.findAll(e.getBody(),g).then(u((function(t){t=ne(t,(function(t){if(typeof t==="string"){PD(e,t);return false}return true}));if(IO(e));else{Z(t,(function(e){l(e.image.src,e.blobInfo.blobUri());e.image.src=e.blobInfo.blobUri();e.image.removeAttribute("data-mce-src")}))}return t})))};var b=function(){t.destroy();o.destroy();r=n=null};var y=function(n){return n.replace(/src="(blob:[^"]+)"/g,(function(n,r){var a=o.getResultUri(r);if(a){return'src="'+a+'"'}var i=t.getByUri(r);if(!i){i=oe(e.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(r)}),null)}if(i){var u=i.blob();return'src="data:'+u.type+";base64,"+i.base64()+'"'}return n}))};e.on("SetContent",(function(){if(Rv(e)){m()}else{p()}}));e.on("RawSaveContent",(function(e){e.content=y(e.content)}));e.on("GetContent",(function(e){if(e.source_view||e.format==="raw"||e.format==="tree"){return}e.content=y(e.content)}));e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(e){Z(e,(function(e){var n=e.attr("src");if(t.getByUri(n)){return}var r=o.getResultUri(n);if(r){e.attr("src",r)}}))}))}));return{blobCache:t,addFilter:h,uploadImages:d,uploadImagesAuto:m,scanForImages:p,destroy:b}};var uA=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:false,classes:"align-left",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:false,preview:false,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:false,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:false,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:false,classes:"align-center",ceFalseOverride:true,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:false},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:false,classes:"align-right",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:false,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:false,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:false,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:true,remove_similar:true,clear_child_styles:true},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:true,remove_similar:true,clear_child_styles:true},fontname:{inline:"span",toggle:false,styles:{fontFamily:"%value"},clear_child_styles:true},fontsize:{inline:"span",toggle:false,styles:{fontSize:"%value"},clear_child_styles:true},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:true,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:function(e,t,n){return jr(e)&&e.hasAttribute("href")},onformat:function(t,n,r){mn.each(r,(function(n,r){e.setAttrib(t,r,n)}))}},lang:{inline:"span",clear_child_styles:true,remove_similar:true,attributes:{lang:"%value","data-mce-lang":function(e){var t;return(t=e===null||e===void 0?void 0:e.customValue)!==null&&t!==void 0?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]};mn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(function(e){t[e]={block:e,remove:"all"}}));return t};var cA=function(e){var t={};var n=function(e){return k(e)?t[e]:t};var r=function(e){return Me(t,e)};var o=function(e,n){if(e){if(!p(e)){Ce(e,(function(e,t){o(t,e)}))}else{if(!y(n)){n=[n]}Z(n,(function(e){if(C(e.deep)){e.deep=!Wg(e)}if(C(e.split)){e.split=!Wg(e)||qg(e)}if(C(e.remove)&&Wg(e)&&!qg(e)){e.remove="none"}if(Wg(e)&&qg(e)){e.mixed=true;e.block_expand=true}if(p(e.classes)){e.classes=e.classes.split(/\s+/)}}));t[e]=n}}};var a=function(e){if(e&&t[e]){delete t[e]}return t};o(uA(e.dom));o(id(e));return{get:n,has:r,register:o,unregister:a}};var fA=mn.each;var sA=Uf.DOM;var lA=function(e,t){var n,r,o;var a=t&&t.schema||Su({});var i=function(e,t){if(t.classes.length){sA.addClass(e,t.classes.join(" "))}sA.setAttribs(e,t.attrs)};var u=function(e){r=typeof e==="string"?{name:e,classes:[],attrs:{}}:e;var t=sA.create(r.name);i(t,r);return t};var c=function(e,t){var n=typeof e!=="string"?e.nodeName.toLowerCase():e;var r=a.getElementRule(n);var o=r&&r.parentsRequired;if(o&&o.length){return t&&mn.inArray(o,t)!==-1?t:o[0]}else{return false}};var f=function(e,t,n){var r,o;var a=t.length>0&&t[0];var i=a&&a.name;var s=c(e,i);if(s){if(i===s){o=t[0];t=t.slice(1)}else{o=s}}else if(a){o=t[0];t=t.slice(1)}else if(!n){return e}if(o){r=u(o);r.appendChild(e)}if(n){if(!r){r=sA.create("div");r.appendChild(e)}mn.each(n,(function(t){var n=u(t);r.insertBefore(n,e)}))}return f(r,t,o&&o.siblings)};if(e&&e.length){r=e[0];n=u(r);o=sA.create("div");o.appendChild(f(n,e.slice(1),r.siblings));return o}else{return""}};var vA=function(e){var t;var n={classes:[],attrs:{}};e=n.selector=mn.trim(e);if(e!=="*"){t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,t,r,o,a){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":if(mn.inArray("checked disabled enabled read-only required".split(" "),r)!==-1){n.attrs[r]=r}break}if(o==="["){var i=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);if(i){n.attrs[i[1]]=i[2]}}return""}))}n.name=t||"div";return n};var dA=function(e){if(!e||typeof e!=="string"){return[]}e=e.split(/\s*,\s*/)[0];e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1");return mn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var t=mn.map(e.split(/(?:~\+|~|\+)/),vA);var n=t.pop();if(t.length){n.siblings=t}return n})).reverse()};var mA=function(e,t){var n,r;var o="",a;var i=ud(e);if(i===""){return""}var u=function(e){return e.replace(/%(\w+)/g,"")};if(typeof t==="string"){t=e.formatter.get(t);if(!t){return}t=t[0]}if("preview"in t){var c=Ne(t,"preview");if(fo(c,false)){return""}else{i=c.getOr(i)}}n=t.block||t.inline||"span";var f=dA(t.selector);if(f.length){if(!f[0].name){f[0].name=n}n=t.selector;r=lA(f,e)}else{r=lA([n],e)}var s=sA.select(n,r)[0]||r.firstChild;fA(t.styles,(function(e,t){var n=u(e);if(n){sA.setStyle(s,t,n)}}));fA(t.attributes,(function(e,t){var n=u(e);if(n){sA.setAttrib(s,t,n)}}));fA(t.classes,(function(e){var t=u(e);if(!sA.hasClass(s,t)){sA.addClass(s,t)}}));e.fire("PreviewFormats");sA.setStyles(r,{position:"absolute",left:-65535});e.getBody().appendChild(r);a=sA.getStyle(e.getBody(),"fontSize",true);a=/px$/.test(a)?parseInt(a,10):0;fA(i.split(" "),(function(t){var n=sA.getStyle(s,t,true);if(t==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)){n=sA.getStyle(e.getBody(),t,true);if(sA.toHex(n).toLowerCase()==="#ffffff"){return}}if(t==="color"){if(sA.toHex(n).toLowerCase()==="#000000"){return}}if(t==="font-size"){if(/em|%$/.test(n)){if(a===0){return}var r=parseFloat(n)/(/%$/.test(n)?100:1);n=r*a+"px"}}if(t==="border"&&n){o+="padding:0 2px;"}o+=t+":"+n+";"}));e.fire("AfterPreviewFormats");sA.remove(r);return o};var gA=function(e){e.addShortcut("meta+b","","Bold");e.addShortcut("meta+i","","Italic");e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++){e.addShortcut("access+"+t,"",["FormatBlock",false,"h"+t])}e.addShortcut("access+7","",["FormatBlock",false,"p"]);e.addShortcut("access+8","",["FormatBlock",false,"div"]);e.addShortcut("access+9","",["FormatBlock",false,"address"])};var hA=function(e){var t=cA(e);var n=Jf(null);gA(e);lk(e);return{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(t,n,r){i_(e,t,n,r)},remove:function(t,n,r,o){u_(e,t,n,r,o)},toggle:function(t,n,r){c_(e,t,n,r)},match:function(t,n,r,o){return t_(e,t,n,r,o)},closest:function(t){return a_(e,t)},matchAll:function(t,n){return n_(e,t,n)},matchNode:function(t,n,r,o){return r_(e,t,n,r,o)},canApply:function(t){return o_(e,t)},formatChanged:function(t,r,o,a){return f_(e,n,t,r,o,a)},getCssText:R(mA,e)}};var pA=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return true;default:return false}};var bA=function(e,t,n){var r=Jf(false);var o=function(e){xO(t,false,n);t.add({},e)};e.on("init",(function(){t.add()}));e.on("BeforeExecCommand",(function(e){var r=e.command;if(!pA(r)){CO(t,n);t.beforeChange()}}));e.on("ExecCommand",(function(e){var t=e.command;if(!pA(t)){o(e)}}));e.on("ObjectResizeStart cut",(function(){t.beforeChange()}));e.on("SaveContent ObjectResized blur",o);e.on("dragend",o);e.on("keyup",(function(n){var a=n.keyCode;if(n.isDefaultPrevented()){return}if(a>=33&&a<=36||a>=37&&a<=40||a===45||n.ctrlKey){o();e.nodeChanged()}if(a===46||a===8){e.nodeChanged()}if(r.get()&&t.typing&&yO(dO(e),t.data[0])===false){if(e.isDirty()===false){e.setDirty(true);e.fire("change",{level:t.data[0],lastLevel:null})}e.fire("TypingUndo");r.set(false);e.nodeChanged()}}));e.on("keydown",(function(e){var a=e.keyCode;if(e.isDefaultPrevented()){return}if(a>=33&&a<=36||a>=37&&a<=40||a===45){if(t.typing){o(e)}return}var i=e.ctrlKey&&!e.altKey||e.metaKey;if((a<16||a>20)&&a!==224&&a!==91&&!t.typing&&!i){t.beforeChange();xO(t,true,n);t.add({},e);r.set(true)}}));e.on("mousedown",(function(e){if(t.typing){o(e)}}));var a=function(e){return e.inputType==="insertReplacementText"};var i=function(e){return e.inputType==="insertText"&&e.data===null};var u=function(e){return e.inputType==="insertFromPaste"||e.inputType==="insertFromDrop"};e.on("input",(function(e){if(e.inputType&&(a(e)||i(e)||u(e))){o(e)}}));e.on("AddUndo Undo Redo ClearUndos",(function(t){if(!t.isDefaultPrevented()){e.nodeChanged()}}))};var yA=function(e){e.addShortcut("meta+z","","Undo");e.addShortcut("meta+y,meta+shift+z","","Redo")};var wA=function(e){var t=ds();var n=Jf(0);var r=Jf(0);var o={data:[],typing:false,beforeChange:function(){WO(e,n,t)},add:function(a,i){return qO(e,o,r,n,t,a,i)},undo:function(){return GO(e,o,n,r)},redo:function(){return $O(e,r,o.data)},clear:function(){KO(e,o,r)},reset:function(){XO(e,o)},hasUndo:function(){return YO(e,o,r)},hasRedo:function(){return JO(e,o,r)},transact:function(t){return QO(e,o,n,t)},ignore:function(t){ZO(e,n,t)},extra:function(t,n){e_(e,o,r,t,n)}};if(!IO(e)){bA(e,o,n)}yA(e);return o};var xA=[9,27,tp.HOME,tp.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,tp.DOWN,tp.UP,tp.LEFT,tp.RIGHT].concat(en.browser.isFirefox()?[224]:[]);var CA="data-mce-placeholder";var SA=function(e){return e.type==="keydown"||e.type==="keyup"};var kA=function(e){var t=e.keyCode;return t===tp.BACKSPACE||t===tp.DELETE};var TA=function(e){if(SA(e)){var t=e.keyCode;return!kA(e)&&(tp.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Y(xA,t))}else{return false}};var OA=function(e){return SA(e)&&!(kA(e)||e.type==="keyup"&&e.keyCode===229)};var _A=function(e,t,n){if(Hi(wn.fromDom(t),false)){var r=n==="";var o=t.firstElementChild;if(!o){return true}else if(e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")){return false}else{return r?!e.isBlock(o):n===o.nodeName.toLowerCase()}}else{return false}};var EA=function(e){var t=e.dom;var n=kv(e);var r=ed(e);var o=function(a,i){if(TA(a)){return}var u=e.getBody();var c=OA(a)?false:_A(t,u,n);var f=t.getAttrib(u,CA)!=="";if(f!==c||i){t.setAttrib(u,CA,c?r:null);t.setAttrib(u,"aria-placeholder",c?r:null);Jh(e,c);e.on(c?"keydown":"keyup",o);e.off(c?"keyup":"keydown",o)}};if(r){e.on("init",(function(t){o(t,true);e.on("change SetContent ExecCommand",o);e.on("paste",(function(t){return ba.setEditorTimeout(e,(function(){return o(t)}))}))}))}};var DA=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;var AA=function(e){return DA.test(e)};var NA=function(e,t){return Dn(wn.fromDom(t),Jv(e))};var MA=function(e){return Uf.DOM.getStyle(e,"direction",true)==="rtl"||AA(e.textContent)};var RA=function(e,t,n){return ne(Uf.DOM.getParents(n.container(),"*",t),e)};var zA=function(e,t,n){var r=RA(e,t,n);return W.from(r[r.length-1])};var BA=function(e,t,n){var r=fm(t,e);var o=fm(n,e);return r&&r===o};var PA=function(e){return oi(e)||ai(e)};var LA=function(e,t){if(!t){return t}var n=t.container(),r=t.offset();if(e){if(ei(n)){if(Zr(n.nextSibling)){return Rl(n.nextSibling,0)}else{return Rl.after(n)}}else{return oi(t)?Rl(n,r+1):t}}else{if(ei(n)){if(Zr(n.previousSibling)){return Rl(n.previousSibling,n.previousSibling.data.length)}else{return Rl.before(n)}}else{return ai(t)?Rl(n,r-1):t}}};var HA=R(LA,true);var IA=R(LA,false);var FA=function(e){return function(t){return Rn(e,wn.fromDom(t.dom.parentNode))}};var VA=function(e){return La(e)||Ia(e)};var UA=function(e,t){if(Pn(e,t)){return oa(t,VA,FA(e))}else{return W.none()}};var jA=function(e){var t=e.getBody();var n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)};var WA=function(e){if(e.dom.isEmpty(e.getBody())){e.setContent("");jA(e)}};var qA=function(e,t,n){return lo(Jm(n),Qm(n),(function(r,o){var a=LA(true,r);var i=LA(false,o);var u=LA(false,t);if(e){return Xm(n,u).exists((function(e){return e.isEqual(i)&&t.isEqual(a)}))}else{return Ym(n,u).exists((function(e){return e.isEqual(a)&&t.isEqual(i)}))}})).getOr(true)};var GA=function(e,t){return{block:e,position:t}};var $A=function(e,t){return{from:e,to:t}};var KA=function(e,t){var n=wn.fromDom(e);var r=wn.fromDom(t.container());return UA(n,r).map((function(e){return GA(e,t)}))};var XA=function(e){return Rn(e.from.block,e.to.block)===false};var YA=function(e){return Yn(e.from.block).bind((function(t){return Yn(e.to.block).filter((function(e){return Rn(t,e)}))})).isSome()};var JA=function(e){return io(e.from.block.dom)===false&&io(e.to.block.dom)===false};var QA=function(e,t,n){if(ro(n.position.getNode())&&Hi(n.block)===false){return Km(false,n.block.dom).bind((function(r){if(r.isEqual(n.position)){return qm(t,e,r).bind((function(t){return KA(e,t)}))}else{return W.some(n)}})).getOr(n)}else{return n}};var ZA=function(e,t,n){var r=KA(e,Rl.fromRangeStart(n));var o=r.bind((function(n){return qm(t,e,n.position).bind((function(n){return KA(e,n).map((function(n){return QA(e,t,n)}))}))}));return lo(r,o,$A).filter((function(e){return XA(e)&&YA(e)&&JA(e)}))};var eN=function(e,t,n){return n.collapsed?ZA(e,t,n):W.none()};var tN=function(e){var t=rr(e);return ue(t,Ra).fold(A(t),(function(e){return t.slice(0,e)}))};var nN=function(e){var t=tN(e);Z(t,Or);return t};var rN=function(e,t){var n=Pw(t,e);return ie(n.reverse(),(function(e){return Hi(e)})).each(Or)};var oN=function(e){return ne(tr(e),(function(e){return!Hi(e)})).length===0};var aN=function(e,t,n,r){if(Hi(n)){Nw(n);return Jm(n.dom)}if(oN(r)&&Hi(t)){br(r,wn.fromTag("br"))}var o=Ym(n.dom,Rl.before(r.dom));Z(nN(t),(function(e){br(r,e)}));rN(e,t);return o};var iN=function(e,t,n){if(Hi(n)){Or(n);if(Hi(t)){Nw(t)}return Jm(t.dom)}var r=Qm(n.dom);Z(nN(t),(function(e){xr(n,e)}));rN(e,t);return r};var uN=function(e,t){var n=Pw(t,e);return W.from(n[n.length-1])};var cN=function(e,t){return Pn(t,e)?uN(t,e):W.none()};var fN=function(e,t){Km(e,t.dom).map((function(e){return e.getNode()})).map(wn.fromDom).filter(Pa).each(Or)};var sN=function(e,t,n){fN(true,t);fN(false,n);return cN(t,n).fold(R(iN,e,t,n),R(aN,e,t,n))};var lN=function(e,t,n,r){return t?sN(e,r,n):sN(e,n,r)};var vN=function(e,t){var n=wn.fromDom(e.getBody());var r=eN(n.dom,t,e.selection.getRng()).bind((function(e){return lN(n,t,e.from.block,e.to.block)}));r.each((function(t){e.selection.setRng(t.toRange())}));return r.isSome()};var dN=function(e,t){var n=t.getRng();return lo(UA(e,wn.fromDom(n.startContainer)),UA(e,wn.fromDom(n.endContainer)),(function(r,o){if(Rn(r,o)===false){n.deleteContents();lN(e,true,r,o).each((function(e){t.setRng(e.toRange())}));return true}else{return false}})).getOr(false)};var mN=function(e,t){var n=wn.fromDom(t);var r=R(Rn,e);return ra(n,Va,r).isSome()};var gN=function(e,t){return mN(e,t.startContainer)||mN(e,t.endContainer)};var hN=function(e,t){var n=Ym(e.dom,Rl.fromRangeStart(t)).isNone();var r=Xm(e.dom,Rl.fromRangeEnd(t)).isNone();return!gN(e,t)&&n&&r};var pN=function(e){e.setContent("");e.selection.setCursorLocation();return true};var bN=function(e){var t=wn.fromDom(e.getBody());var n=e.selection.getRng();return hN(t,n)?pN(e):dN(t,e.selection)};var yN=function(e,t){return e.selection.isCollapsed()?false:bN(e)};var wN=ao;var xN=io;var CN=function(e,t,n,r,o){return W.from(t._selectionOverrides.showCaret(e,n,r,o))};var SN=function(e){var t=e.ownerDocument.createRange();t.selectNode(e);return t};var kN=function(e,t){var n=e.fire("BeforeObjectSelected",{target:t});if(n.isDefaultPrevented()){return W.none()}return W.some(SN(t))};var TN=function(e,t,n){var r=pm(1,e.getBody(),t);var o=Rl.fromRangeStart(r);var a=o.getNode();if(Yd(a)){return CN(1,e,a,!o.isAtEnd(),false)}var i=o.getNode(true);if(Yd(i)){return CN(1,e,i,false,false)}var u=e.dom.getParent(o.getNode(),(function(e){return xN(e)||wN(e)}));if(Yd(u)){return CN(1,e,u,false,n)}return W.none()};var ON=function(e,t,n){return t.collapsed?TN(e,t,n).getOr(t):t};var _N=function(e){return _w(e)||Sw(e)};var EN=function(e){return Ew(e)||kw(e)};var DN=function(e,t){if(Zr(t)&&t.data.length===0){e.remove(t)}};var AN=function(e,t,n,r,o,a){CN(r,e,a.getNode(!o),o,true).each((function(n){if(t.collapsed){var r=t.cloneRange();if(o){r.setEnd(n.startContainer,n.startOffset)}else{r.setStart(n.endContainer,n.endOffset)}r.deleteContents()}else{t.deleteContents()}e.selection.setRng(n)}));DN(e.dom,n);return true};var NN=function(e,t){var n=e.selection.getRng();if(!Zr(n.commonAncestorContainer)){return false}var r=t?km.Forwards:km.Backwards;var o=Lm(e.getBody());var a=R(Cm,t?o.next:o.prev);var i=t?_N:EN;var u=ym(r,e.getBody(),n);var c=LA(t,a(u));if(!c||!Sm(u,c)){return false}else if(i(c)){return AN(e,n,u.getNode(),r,t,c)}var f=a(c);if(f&&i(f)){if(Sm(c,f)){return AN(e,n,u.getNode(),r,t,f)}}return false};var MN=function(e,t){return NN(e,t)};var RN=function(e){return Va(wn.fromDom(e))||Ia(wn.fromDom(e))};var zN=ea.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]);var BN=function(e,t){var n=t.getNode(e===false);var r=e?"after":"before";return jr(n)&&n.getAttribute("data-mce-caret")===r};var PN=function(e,t,n,r){var o=function(t){return Ba(wn.fromDom(t))&&!sm(n,r,e)};return bm(!t,n).fold((function(){return bm(t,r).fold(H,o)}),o)};var LN=function(e,t,n,r){var o=r.getNode(t===false);return UA(wn.fromDom(e),wn.fromDom(n.getNode())).map((function(e){return Hi(e)?zN.remove(e.dom):zN.moveToElement(o)})).orThunk((function(){return W.some(zN.moveToElement(o))}))};var HN=function(e,t,n){return qm(t,e,n).bind((function(r){if(RN(r.getNode())){return W.none()}else if(PN(e,t,n,r)){return W.none()}else if(t&&io(r.getNode())){return LN(e,t,n,r)}else if(t===false&&io(r.getNode(true))){return LN(e,t,n,r)}else if(t&&Ew(n)){return W.some(zN.moveToPosition(r))}else if(t===false&&_w(n)){return W.some(zN.moveToPosition(r))}else{return W.none()}}))};var IN=function(e,t){if(e&&io(t.nextSibling)){return W.some(zN.moveToElement(t.nextSibling))}else if(e===false&&io(t.previousSibling)){return W.some(zN.moveToElement(t.previousSibling))}else{return W.none()}};var FN=function(e,t,n){return n.fold((function(e){return W.some(zN.remove(e))}),(function(e){return W.some(zN.moveToElement(e))}),(function(n){if(sm(t,n,e)){return W.none()}else{return W.some(zN.moveToPosition(n))}}))};var VN=function(e,t,n){if(BN(t,n)){return IN(t,n.getNode(t===false)).fold((function(){return HN(e,t,n)}),W.some)}else{return HN(e,t,n).bind((function(t){return FN(e,n,t)}))}};var UN=function(e,t,n){var r=pm(t?1:-1,e,n);var o=Rl.fromRangeStart(r);var a=wn.fromDom(e);if(t===false&&Ew(o)){return W.some(zN.remove(o.getNode(true)))}else if(t&&_w(o)){return W.some(zN.remove(o.getNode()))}else if(t===false&&_w(o)&&Kw(a,o)){return Xw(a,o).map((function(e){return zN.remove(e.getNode())}))}else if(t&&Ew(o)&&$w(a,o)){return Yw(a,o).map((function(e){return zN.remove(e.getNode())}))}else{return VN(e,t,o)}};var jN=function(e,t){return function(n){e._selectionOverrides.hideFakeCaret();Ux(e,t,wn.fromDom(n));return true}};var WN=function(e,t){return function(n){var r=t?Rl.before(n):Rl.after(n);e.selection.setRng(r.toRange());return true}};var qN=function(e){return function(t){e.selection.setRng(t.toRange());return true}};var GN=function(e,t){return W.from(Ih(e.getBody(),t))};var $N=function(e,t){var n=e.selection.getNode();return GN(e,n).filter(io).fold((function(){return UN(e.getBody(),t,e.selection.getRng()).exists((function(n){return n.fold(jN(e,t),WN(e,t),qN(e))}))}),I)};var KN=function(e){Z(Es(e,".mce-offscreen-selection"),Or)};var XN=function(e,t){var n=e.selection.getNode();if(io(n)&&!uo(n)){var r=GN(e,n.parentNode).filter(io);return r.fold((function(){KN(wn.fromDom(e.getBody()));Ux(e,t,wn.fromDom(e.selection.getNode()));WA(e);return true}),I)}return false};var YN=function(e){var t=e.dom,n=e.selection;var r=Ih(e.getBody(),n.getNode());if(ao(r)&&t.isBlock(r)&&t.isEmpty(r)){var o=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,"");r.appendChild(o);n.setRng(Rl.before(o).toRange())}return true};var JN=function(e,t){if(e.selection.isCollapsed()){return $N(e,t)}else{return XN(e,t)}};var QN=function(e,t){var n=Rl.fromRangeStart(e.selection.getRng());return qm(t,e.getBody(),n).filter((function(e){return t?xw(e):Cw(e)})).bind((function(e){return W.from(lm(t?0:-1,e))})).exists((function(t){e.selection.select(t);return true}))};var ZN=function(e,t){return e.selection.isCollapsed()?QN(e,t):false};var eM=Zr;var tM=function(e){return eM(e)&&e.data[0]===Ka};var nM=function(e){return eM(e)&&e.data[e.data.length-1]===Ka};var rM=function(e){return e.ownerDocument.createTextNode(Ka)};var oM=function(e){if(eM(e.previousSibling)){if(nM(e.previousSibling)){return e.previousSibling}else{e.previousSibling.appendData(Ka);return e.previousSibling}}else if(eM(e)){if(tM(e)){return e}else{e.insertData(0,Ka);return e}}else{var t=rM(e);e.parentNode.insertBefore(t,e);return t}};var aM=function(e){if(eM(e.nextSibling)){if(tM(e.nextSibling)){return e.nextSibling}else{e.nextSibling.insertData(0,Ka);return e.nextSibling}}else if(eM(e)){if(nM(e)){return e}else{e.appendData(Ka);return e}}else{var t=rM(e);if(e.nextSibling){e.parentNode.insertBefore(t,e.nextSibling)}else{e.parentNode.appendChild(t)}return t}};var iM=function(e,t){return e?oM(t):aM(t)};var uM=R(iM,true);var cM=R(iM,false);var fM=function(e,t){if(Zr(e.container())){return iM(t,e.container())}else{return iM(t,e.getNode())}};var sM=function(e,t){var n=t.get();return n&&e.container()===n&&ei(n)};var lM=function(e,t){return t.fold((function(t){Fd(e.get());var n=uM(t);e.set(n);return W.some(Rl(n,n.length-1))}),(function(t){return Jm(t).map((function(t){if(!sM(t,e)){Fd(e.get());var n=fM(t,true);e.set(n);return Rl(n,1)}else{return Rl(e.get(),1)}}))}),(function(t){return Qm(t).map((function(t){if(!sM(t,e)){Fd(e.get());var n=fM(t,false);e.set(n);return Rl(n,n.length-1)}else{return Rl(e.get(),e.get().length-1)}}))}),(function(t){Fd(e.get());var n=cM(t);e.set(n);return W.some(Rl(n,1))}))};var vM=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome()){return r}}return W.none()};var dM=ea.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]);var mM=function(e,t){var n=fm(t,e);return n?n:e};var gM=function(e,t,n){var r=HA(n);var o=mM(t,r.container());return zA(e,o,r).fold((function(){return Xm(o,r).bind(R(zA,e,o)).map((function(e){return dM.before(e)}))}),W.none)};var hM=function(e,t){return tg(e,t)===null};var pM=function(e,t,n){return zA(e,t,n).filter(R(hM,t))};var bM=function(e,t,n){var r=IA(n);return pM(e,t,r).bind((function(e){var t=Ym(e,r);return t.isNone()?W.some(dM.start(e)):W.none()}))};var yM=function(e,t,n){var r=HA(n);return pM(e,t,r).bind((function(e){var t=Xm(e,r);return t.isNone()?W.some(dM.end(e)):W.none()}))};var wM=function(e,t,n){var r=IA(n);var o=mM(t,r.container());return zA(e,o,r).fold((function(){return Ym(o,r).bind(R(zA,e,o)).map((function(e){return dM.after(e)}))}),W.none)};var xM=function(e){return MA(SM(e))===false};var CM=function(e,t,n){var r=vM([gM,bM,yM,wM],[e,t,n]);return r.filter(xM)};var SM=function(e){return e.fold(N,N,N,N)};var kM=function(e){return e.fold(A("before"),A("start"),A("end"),A("after"))};var TM=function(e){return e.fold(dM.before,dM.before,dM.after,dM.after)};var OM=function(e){return e.fold(dM.start,dM.start,dM.end,dM.end)};var _M=function(e,t){return kM(e)===kM(t)&&SM(e)===SM(t)};var EM=function(e,t,n,r,o,a){return lo(zA(t,n,r),zA(t,n,o),(function(t,r){if(t!==r&&BA(n,t,r)){return dM.after(e?t:r)}else{return a}})).getOr(a)};var DM=function(e,t){return e.fold(I,(function(e){return!_M(e,t)}))};var AM=function(e,t,n,r,o){var a=LA(e,o);var i=qm(e,n,a).map(R(LA,e));var u=i.fold((function(){return r.map(TM)}),(function(o){return CM(t,n,o).map(R(EM,e,t,n,a,o)).filter(R(DM,r))}));return u.filter(xM)};var NM=function(e,t){if(e){return t.fold(E(W.some,dM.start),W.none,E(W.some,dM.after),W.none)}else{return t.fold(W.none,E(W.some,dM.before),W.none,E(W.some,dM.end))}};var MM=function(e,t,n,r){var o=LA(e,r);var a=CM(t,n,o);return CM(t,n,o).bind(R(NM,e)).orThunk((function(){return AM(e,t,n,a,r)}))};R(MM,false);R(MM,true);var RM=function(e){return T(e.selection.getSel().modify)};var zM=function(e,t,n){var r=e?1:-1;t.setRng(Rl(n.container(),n.offset()+r).toRange());t.getSel().modify("move",e?"forward":"backward","word");return true};var BM=function(e,t){var n=t.selection.getRng();var r=e?Rl.fromRangeEnd(n):Rl.fromRangeStart(n);if(!RM(t)){return false}else if(e&&oi(r)){return zM(true,t.selection,r)}else if(!e&&ai(r)){return zM(false,t.selection,r)}else{return false}};var PM;(function(e){e[e["Br"]=0]="Br";e[e["Block"]=1]="Block";e[e["Wrap"]=2]="Wrap";e[e["Eol"]=3]="Eol"})(PM||(PM={}));var LM=function(e,t){return e===km.Backwards?le(t):t};var HM=function(e,t,n){return e===km.Forwards?t.next(n):t.prev(n)};var IM=function(e,t,n,r){if(ro(r.getNode(t===km.Forwards))){return PM.Br}else if(sm(n,r)===false){return PM.Block}else{return PM.Wrap}};var FM=function(e,t,n,r){var o=Lm(n);var a=r;var i=[];while(a){var u=HM(t,o,a);if(!u){break}if(ro(u.getNode(false))){if(t===km.Forwards){return{positions:LM(t,i).concat([u]),breakType:PM.Br,breakAt:W.some(u)}}else{return{positions:LM(t,i),breakType:PM.Br,breakAt:W.some(u)}}}if(!u.isVisible()){a=u;continue}if(e(a,u)){var c=IM(n,t,a,u);return{positions:LM(t,i),breakType:c,breakAt:W.some(u)}}i.push(u);a=u}return{positions:LM(t,i),breakType:PM.Eol,breakAt:W.none()}};var VM=function(e,t,n,r){return t(n,r).breakAt.map((function(r){var o=t(n,r).positions;return e===km.Backwards?o.concat(r):[r].concat(o)})).getOr([])};var UM=function(e,t){return oe(e,(function(e,n){return e.fold((function(){return W.some(n)}),(function(r){return lo(he(r.getClientRects()),he(n.getClientRects()),(function(e,o){var a=Math.abs(t-e.left);var i=Math.abs(t-o.left);return i<=a?n:r})).or(e)}))}),W.none())};var jM=function(e,t){return he(t.getClientRects()).bind((function(t){return UM(e,t.left)}))};var WM=R(FM,Rl.isAbove,-1);var qM=R(FM,Rl.isBelow,1);var GM=R(VM,-1,WM);var $M=R(VM,1,qM);var KM=function(e,t){return WM(e,t).breakAt.isNone()};var XM=function(e,t){return qM(e,t).breakAt.isNone()};var YM=function(e){return Jm(e).map((function(t){return[t].concat(qM(e,t).positions)})).getOr([])};var JM=function(e){return Qm(e).map((function(t){return WM(e,t).positions.concat(t)})).getOr([])};var QM=function(e){var t=function(t){return Q(t,(function(t){var n=Qs(t);n.node=e;return n}))};if(jr(e)){return t(e.getClientRects())}if(Zr(e)){var n=e.ownerDocument.createRange();n.setStart(e,0);n.setEnd(e,e.data.length);return t(n.getClientRects())}};var ZM=function(e){return fe(e,QM)};var eR;(function(e){e[e["Up"]=-1]="Up";e[e["Down"]=1]="Down"})(eR||(eR={}));var tR=function(e,t,n,r){while(r=cm(r,e,_i,t)){if(n(r)){return}}};var nR=function(e,t,n,r,o,a){var i=0;var u=[];var c=function(r){var a=ZM([r]);if(e===-1){a=a.reverse()}for(var c=0;c<a.length;c++){var s=a[c];if(n(s,f)){continue}if(u.length>0&&t(s,je(u))){i++}s.line=i;if(o(s)){return true}u.push(s)}};var f=je(a.getClientRects());if(!f){return u}var s=a.getNode();c(s);tR(e,r,c,s);return u};var rR=function(e,t){return t.line>e};var oR=function(e,t){return t.line===e};var aR=R(nR,eR.Up,nl,rl);var iR=R(nR,eR.Down,rl,nl);var uR=function(e,t,n,r){var o=Lm(t);var a;var i;var u;var c;var f=[];var s=0;var l=function(t){if(e===1){return je(t.getClientRects())}return je(t.getClientRects())};if(e===1){a=o.next;i=rl;u=nl;c=Rl.after(r)}else{a=o.prev;i=nl;u=rl;c=Rl.before(r)}var v=l(c);do{if(!c.isVisible()){continue}var d=l(c);if(u(d,v)){continue}if(f.length>0&&i(d,je(f))){s++}var m=Qs(d);m.position=c;m.line=s;if(n(m)){return f}f.push(m)}while(c=a(c));return f};var cR=function(e){return function(t){return rR(e,t)}};var fR=function(e){return function(t){return oR(e,t)}};var sR=io;var lR=cm;var vR=function(e,t){return Math.abs(e.left-t)};var dR=function(e,t){return Math.abs(e.right-t)};var mR=function(e,t){return e>=t.left&&e<=t.right};var gR=function(e,t){return e>=t.top&&e<=t.bottom};var hR=function(e){return Re(e,"node")};var pR=function(e,t,n){if(n===void 0){n=I}return Ve(e,(function(e,r){if(mR(t,r)){return n(r)?r:e}if(mR(t,e)){return n(e)?e:r}var o=Math.min(vR(e,t),dR(e,t));var a=Math.min(vR(r,t),dR(r,t));if(a===o&&hR(r)&&sR(r.node)){return r}if(a<o){return r}return e}))};var bR=function(e,t,n,r,o){var a=lR(r,e,_i,t,!o);do{if(!a||n(a)){return}}while(a=lR(a,e,_i,t))};var yR=function(e,t,n){if(n===void 0){n=true}var r=[];var o=function(e,n){var o=ne(ZM([n]),(function(n){return!e(n,t)}));r=r.concat(o);return o.length===0};r.push(t);bR(eR.Up,e,R(o,nl),t.node,n);bR(eR.Down,e,R(o,rl),t.node,n);return r};var wR=function(e){return ne(be(e.getElementsByTagName("*")),Jd)};var xR=function(e,t){return{node:e.node,before:vR(e,t)<dR(e,t)}};var CR=function(e,t,n){var r=ZM(wR(e));var o=ne(r,R(gR,n));var a=function(e){return!Yr(e.node)&&!co(e.node)};var i=pR(o,t,a);if(i){var u=a(i);i=pR(yR(e,i,u),t,a);if(i&&Jd(i.node)){return xR(i,t)}}return null};var SR=function(e,t){e.selection.setRng(t);tb(e,e.selection.getRng())};var kR=function(e,t,n){return W.some(ON(e,t,n))};var TR=function(e,t,n,r,o,a){var i=t===km.Forwards;var u=Lm(e.getBody());var c=R(Cm,i?u.next:u.prev);var f=i?r:o;if(!n.collapsed){var s=il(n);if(a(s)){return CN(t,e,s,t===km.Backwards,false)}}var l=ym(t,e.getBody(),n);if(f(l)){return kN(e,l.getNode(!i))}var v=LA(i,c(l));var d=vi(n);if(!v){return d?W.some(n):W.none()}if(f(v)){return CN(t,e,v.getNode(!i),i,false)}var m=c(v);if(m&&f(m)){if(Sm(v,m)){return CN(t,e,m.getNode(!i),i,false)}}if(d){return kR(e,v.toRange(),false)}return W.none()};var OR=function(e,t,n,r,o,a){var i=ym(t,e.getBody(),n);var u=je(i.getClientRects());var c=t===eR.Down;if(!u){return W.none()}var f=c?iR:aR;var s=f(e.getBody(),cR(1),i);var l=ne(s,fR(1));var v=u.left;var d=pR(l,v);if(d&&a(d.node)){var m=Math.abs(v-d.left);var g=Math.abs(v-d.right);return CN(t,e,d.node,m<g,false)}var h;if(r(i)){h=i.getNode()}else if(o(i)){h=i.getNode(true)}else{h=il(n)}if(h){var p=uR(t,e.getBody(),cR(1),h);var b=pR(ne(p,fR(1)),v);if(b){return kR(e,b.position.toRange(),false)}b=je(ne(p,fR(0)));if(b){return kR(e,b.position.toRange(),false)}}if(l.length===0){return _R(e,c).filter(c?o:r).map((function(t){return ON(e,t.toRange(),false)}))}return W.none()};var _R=function(e,t){var n=e.selection.getRng();var r=e.getBody();if(t){var o=Rl.fromRangeEnd(n);var a=qM(r,o);return pe(a.positions)}else{var o=Rl.fromRangeStart(n);var a=WM(r,o);return he(a.positions)}};var ER=function(e,t,n){return _R(e,t).filter(n).exists((function(t){e.selection.setRng(t.toRange());return true}))};var DR=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset());n.setEnd(t.container(),t.offset());e.selection.setRng(n)};var AR=function(e,t){if(e){t.setAttribute("data-mce-selected","inline-boundary")}else{t.removeAttribute("data-mce-selected")}};var NR=function(e,t,n){return lM(t,n).map((function(t){DR(e,t);return n}))};var MR=function(e,t,n){var r=e.getBody();var o=Rl.fromRangeStart(e.selection.getRng());var a=R(NA,e);var i=MM(n,a,r,o);return i.bind((function(n){return NR(e,t,n)}))};var RR=function(e,t,n){var r=Q(Es(wn.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(e){return e.dom}));var o=ne(r,e);var a=ne(n,e);Z(ve(o,a),R(AR,false));Z(ve(a,o),R(AR,true))};var zR=function(e,t){if(e.selection.isCollapsed()&&e.composing!==true&&t.get()){var n=Rl.fromRangeStart(e.selection.getRng());if(Rl.isTextPosition(n)&&PA(n)===false){DR(e,Id(t.get(),n));t.set(null)}}};var BR=function(e,t,n,r){if(t.selection.isCollapsed()){var o=ne(r,e);Z(o,(function(r){var o=Rl.fromRangeStart(t.selection.getRng());CM(e,t.getBody(),o).bind((function(e){return NR(t,n,e)}))}))}};var PR=function(e,t,n){return ad(e)?MR(e,t,n).isSome():false};var LR=function(e,t,n){return ad(t)?BM(e,t):false};var HR=function(e){var t=Jf(null);var n=R(NA,e);e.on("NodeChange",(function(r){if(ad(e)&&!(en.browser.isIE()&&r.initial)){RR(n,e.dom,r.parents);zR(e,t);BR(n,e,t,r.parents)}}));return t};var IR=R(LR,true);var FR=R(LR,false);var VR=function(e,t,n){if(ad(e)){var r=_R(e,t).getOrThunk((function(){var n=e.selection.getRng();return t?Rl.fromRangeEnd(n):Rl.fromRangeStart(n)}));return CM(R(NA,e),e.getBody(),r).exists((function(t){var r=TM(t);return lM(n,r).exists((function(t){DR(e,t);return true}))}))}else{return false}};var UR=function(e,t){var n=document.createRange();n.setStart(e.container(),e.offset());n.setEnd(t.container(),t.offset());return n};var jR=function(e){return lo(Jm(e),Qm(e),(function(t,n){var r=LA(true,t);var o=LA(false,n);return Xm(e,r).forall((function(e){return e.isEqual(o)}))})).getOr(true)};var WR=function(e,t){return function(n){return lM(t,n).exists((function(t){DR(e,t);return true}))}};var qR=function(e,t,n,r){var o=e.getBody();var a=R(NA,e);e.undoManager.ignore((function(){e.selection.setRng(UR(n,r));e.execCommand("Delete");CM(a,o,Rl.fromRangeStart(e.selection.getRng())).map(OM).map(WR(e,t))}));e.nodeChanged()};var GR=function(e,t){var n=fm(t,e);return n?n:e};var $R=function(e,t,n,r){var o=GR(e.getBody(),r.container());var a=R(NA,e);var i=CM(a,o,r);return i.bind((function(e){if(n){return e.fold(A(W.some(OM(e))),W.none,A(W.some(TM(e))),W.none)}else{return e.fold(W.none,A(W.some(TM(e))),W.none,A(W.some(OM(e))))}})).map(WR(e,t)).getOrThunk((function(){var u=Gm(n,o,r);var c=u.bind((function(e){return CM(a,o,e)}));return lo(i,c,(function(){return zA(a,o,r).exists((function(t){if(jR(t)){Ux(e,n,wn.fromDom(t));return true}else{return false}}))})).orThunk((function(){return c.bind((function(o){return u.map((function(o){if(n){qR(e,t,r,o)}else{qR(e,t,o,r)}return true}))}))})).getOr(false)}))};var KR=function(e,t,n){if(e.selection.isCollapsed()&&ad(e)){var r=Rl.fromRangeStart(e.selection.getRng());return $R(e,t,n,r)}return false};var XR=function(e,t){var n=Pw(t,e);return ue(n,Ra).fold(A(n),(function(e){return n.slice(0,e)}))};var YR=function(e){return ur(e)===1};var JR=function(e,t,n,r){var o=R(dk,t);var a=Q(ne(r,o),(function(e){return e.dom}));if(a.length===0){Ux(t,e,n)}else{var i=vk(n.dom,a);t.selection.setRng(i.toRange())}};var QR=function(e,t){var n=wn.fromDom(e.getBody());var r=wn.fromDom(e.selection.getStart());var o=ne(XR(n,r),YR);return pe(o).exists((function(n){var r=Rl.fromRangeStart(e.selection.getRng());if(qA(t,r,n.dom)&&!mk(n)){JR(t,e,n,o);return true}else{return false}}))};var ZR=function(e,t){return e.selection.isCollapsed()?QR(e,t):false};var ez=function(e,t,n){e._selectionOverrides.hideFakeCaret();Ux(e,t,wn.fromDom(n));return true};var tz=function(e,t){var n=t?Sw:kw;var r=t?km.Forwards:km.Backwards;var o=ym(r,e.getBody(),e.selection.getRng());if(n(o)){return ez(e,t,o.getNode(!t))}else{return W.from(LA(t,o)).filter((function(e){return n(e)&&Sm(o,e)})).exists((function(n){return ez(e,t,n.getNode(!t))}))}};var nz=function(e,t){var n=e.selection.getNode();return co(n)?ez(e,t,n):false};var rz=function(e,t){return e.selection.isCollapsed()?tz(e,t):nz(e,t)};var oz=function(e){return oa(e,(function(e){return ao(e.dom)||io(e.dom)})).exists((function(e){return ao(e.dom)}))};var az=function(e){var t=parseInt(e,10);return isNaN(t)?0:t};var iz=function(e,t){var n=e||za(t)?"margin":"padding";var r=Oo(t,"direction")==="rtl"?"-right":"-left";return n+r};var uz=function(e,t,n,r,o,a){var i=iz(n,wn.fromDom(a));if(t==="outdent"){var u=Math.max(0,az(a.style[i])-r);e.setStyle(a,i,u?u+o:"")}else{var u=az(a.style[i])+r+o;e.setStyle(a,i,u)}};var cz=function(e,t){return se(t,(function(t){var n=iz(Gv(e),t);var r=Eo(t,n).map(az).getOr(0);var o=e.dom.getContentEditable(t.dom);return o!=="false"&&r>0}))};var fz=function(e){var t=vz(e);return!e.mode.isReadOnly()&&(t.length>1||cz(e,t))};var sz=function(e){return Ha(e)||Ia(e)};var lz=function(e){return Yn(e).exists(sz)};var vz=function(e){return ne(js(e.selection.getSelectedBlocks()),(function(e){return!sz(e)&&!lz(e)&&oz(e)}))};var dz=function(e,t){var n=e.dom,r=e.selection,o=e.formatter;var a=$v(e);var i=/[a-z%]+$/i.exec(a)[0];var u=parseInt(a,10);var c=Gv(e);var f=kv(e);if(!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")){if(f===""&&!n.getParent(r.getNode(),n.isBlock)){o.apply("div")}}Z(vz(e),(function(e){uz(n,t,c,u,i,e.dom)}))};var mz=function(e,t){if(e.selection.isCollapsed()&&fz(e)){var n=e.dom;var r=e.selection.getRng();var o=Rl.fromRangeStart(r);var a=n.getParent(r.startContainer,n.isBlock);if(a!==null&&Vw(wn.fromDom(a),o)){dz(e,"outdent");return true}}return false};var gz=function(e,t){e.getDoc().execCommand(t,false,null)};var hz=function(e,t){if(mz(e)){return}else if(JN(e,false)){return}else if(MN(e,false)){return}else if(KR(e,t,false)){return}else if(vN(e,false)){return}else if(HC(e)){return}else if(ZN(e,false)){return}else if(rz(e,false)){return}else if(yN(e)){return}else if(ZR(e,false)){return}else{gz(e,"Delete");WA(e)}};var pz=function(e,t){if(JN(e,true)){return}else if(MN(e,true)){return}else if(KR(e,t,true)){return}else if(vN(e,true)){return}else if(HC(e)){return}else if(ZN(e,true)){return}else if(rz(e,true)){return}else if(yN(e)){return}else if(ZR(e,true)){return}else{gz(e,"ForwardDelete")}};var bz=function(e,t){e.addCommand("delete",(function(){hz(e,t)}));e.addCommand("forwardDelete",(function(){pz(e,t)}))};var yz=5;var wz=400;var xz=function(e){if(e.touches===undefined||e.touches.length!==1){return W.none()}return W.some(e.touches[0])};var Cz=function(e,t){var n=Math.abs(e.clientX-t.x);var r=Math.abs(e.clientY-t.y);return n>yz||r>yz};var Sz=function(e){var t=ds();var n=Jf(false);var r=gs((function(t){e.fire("longpress",We(We({},t),{type:"longpress"}));n.set(true)}),wz);e.on("touchstart",(function(e){xz(e).each((function(o){r.cancel();var a={x:o.clientX,y:o.clientY,target:e.target};r.throttle(e);n.set(false);t.set(a)}))}),true);e.on("touchmove",(function(o){r.cancel();xz(o).each((function(r){t.on((function(o){if(Cz(r,o)){t.clear();n.set(false);e.fire("longpresscancel")}}))}))}),true);e.on("touchend touchcancel",(function(o){r.cancel();if(o.type==="touchcancel"){return}t.get().filter((function(e){return e.target.isEqualNode(o.target)})).each((function(){if(n.get()){o.preventDefault()}else{e.fire("tap",We(We({},o),{type:"tap"}))}}))}),true)};var kz=function(e,t){return Me(e,t.nodeName)};var Tz=function(e,t){if(Zr(t)){return true}else if(jr(t)){return!kz(e,t)&&!Cg(t)}else{return false}};var Oz=function(e,t,n){return J(Bw(wn.fromDom(n),wn.fromDom(t)),(function(t){return kz(e,t.dom)}))};var _z=function(e,t){if(Zr(t)){if(t.nodeValue.length===0){return true}else if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||kz(e,t.nextSibling))){return true}}return false};var Ez=function(e){var t=e.dom,n=e.selection;var r=e.schema,o=r.getBlockElements();var a=n.getStart();var i=e.getBody();var u,c,f;var s=kv(e);if(!a||!jr(a)||!s){return}var l=i.nodeName.toLowerCase();if(!r.isValidChild(l,s.toLowerCase())||Oz(o,i,a)){return}var v=n.getRng();var d=v.startContainer;var m=v.startOffset;var g=v.endContainer;var h=v.endOffset;var p=vy(e);a=i.firstChild;while(a){if(Tz(o,a)){if(_z(o,a)){c=a;a=a.nextSibling;t.remove(c);continue}if(!u){u=t.create(s,Tv(e));a.parentNode.insertBefore(u,a);f=true}c=a;a=a.nextSibling;u.appendChild(c)}else{u=null;a=a.nextSibling}}if(f&&p){v.setStart(d,m);v.setEnd(g,h);n.setRng(v);e.nodeChanged()}};var Dz=function(e){if(kv(e)){e.on("NodeChange",R(Ez,e))}};var Az=function(e){return ca(wn.fromDom(e.getBody()),"*[data-mce-caret]").map((function(e){return e.dom})).getOrNull()};var Nz=function(e){e.selection.setRng(e.selection.getRng())};var Mz=function(e,t){if(t.hasAttribute("data-mce-caret")){li(t);Nz(e);e.selection.scrollIntoView(t)}};var Rz=function(e,t){var n=Az(e);if(!n){return}if(t.type==="compositionstart"){t.preventDefault();t.stopPropagation();Mz(e,n);return}if(ni(n)){Mz(e,n);e.undoManager.add()}};var zz=function(e){e.on("keyup compositionstart",R(Rz,e))};var Bz=io;var Pz=function(e,t,n){return TR(t,e,n,_w,Ew,Bz)};var Lz=function(e,t,n){var r=function(e){return _w(e)||Tw(e)};var o=function(e){return Ew(e)||Ow(e)};return OR(t,e,n,r,o,Bz)};var Hz=function(e){var t=e.dom.create(kv(e));if(!en.ie||en.ie>=11){t.innerHTML='<br data-mce-bogus="1">'}return t};var Iz=function(e,t,n){var r=Lm(e.getBody());var o=R(Cm,t===1?r.next:r.prev);if(n.collapsed&&pd(e)){var a=e.dom.getParent(n.startContainer,"PRE");if(!a){return}var i=o(Rl.fromRangeStart(n));if(!i){var u=Hz(e);if(t===1){e.$(a).after(u)}else{e.$(a).before(u)}e.selection.select(u,true);e.selection.collapse()}}};var Fz=function(e,t){var n=t?km.Forwards:km.Backwards;var r=e.selection.getRng();return Pz(n,e,r).orThunk((function(){Iz(e,n,r);return W.none()}))};var Vz=function(e,t){var n=t?1:-1;var r=e.selection.getRng();return Lz(n,e,r).orThunk((function(){Iz(e,n,r);return W.none()}))};var Uz=function(e,t){return Fz(e,t).exists((function(t){SR(e,t);return true}))};var jz=function(e,t){return Vz(e,t).exists((function(t){SR(e,t);return true}))};var Wz=function(e,t){var n=t?Ew:_w;return ER(e,t,n)};var qz=function(e){return Y(["figcaption"],Ln(e))};var Gz=function(e){var t=document.createRange();t.setStartBefore(e.dom);t.setEndBefore(e.dom);return t};var $z=function(e,t,n){if(n){xr(e,t)}else{wr(e,t)}};var Kz=function(e,t){var n=wn.fromTag("br");$z(e,n,t);return Gz(n)};var Xz=function(e,t,n,r){var o=wn.fromTag(n);var a=wn.fromTag("br");bo(o,r);xr(o,a);$z(e,o,t);return Gz(a)};var Yz=function(e,t,n,r){if(t===""){return Kz(e,r)}else{return Xz(e,r,t,n)}};var Jz=function(e,t){var n=R(Rn,t);return oa(wn.fromDom(e.container()),Ra,n).filter(qz)};var Qz=function(e,t,n){return t?XM(e.dom,n):KM(e.dom,n)};var Zz=function(e,t){var n=wn.fromDom(e.getBody());var r=Rl.fromRangeStart(e.selection.getRng());var o=kv(e);var a=Tv(e);return Jz(r,n).exists((function(){if(Qz(n,t,r)){var i=Yz(n,o,a,t);e.selection.setRng(i);return true}else{return false}}))};var eB=function(e,t){if(e.selection.isCollapsed()){return Zz(e,t)}else{return false}};var tB=function(e){return Q(e,(function(e){return We({shiftKey:false,altKey:false,ctrlKey:false,metaKey:false,keyCode:0,action:_},e)}))};var nB=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey};var rB=function(e,t){return fe(tB(e),(function(e){return nB(e,t)?[e]:[]}))};var oB=function(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}return function(){return e.apply(null,t)}};var aB=function(e,t){return ie(rB(e,t),(function(e){return e.action()}))};var iB=function(e,t){var n=t?km.Forwards:km.Backwards;var r=e.selection.getRng();return TR(e,n,r,Sw,kw,co).exists((function(t){SR(e,t);return true}))};var uB=function(e,t){var n=t?1:-1;var r=e.selection.getRng();return OR(e,n,r,Sw,kw,co).exists((function(t){SR(e,t);return true}))};var cB=function(e,t){var n=t?kw:Sw;return ER(e,t,n)};var fB=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}};var sB=function(e,t){return fe(t,(function(t){var n=fB(Qs(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]}))};var lB=function(e,t,n){return oe(e,(function(e,r){return e.fold((function(){return W.some(r)}),(function(e){var o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n));var a=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return W.some(a<o?r:e)}))}),W.none())};var vB=function(e,t,n,r,o){var a=Es(wn.fromDom(n),"td,th,caption").map((function(e){return e.dom}));var i=ne(sB(e,a),(function(e){return t(e,o)}));return lB(i,r,o).map((function(e){return e.cell}))};var dB=function(e){return e.bottom};var mB=function(e){return e.top};var gB=function(e,t){return e.y<t};var hB=function(e,t){return e.y>t};var pB=R(vB,dB,gB);var bB=R(vB,mB,hB);var yB=function(e,t){return he(t.getClientRects()).bind((function(t){return pB(e,t.left,t.top)})).bind((function(e){return jM(JM(e),t)}))};var wB=function(e,t){return pe(t.getClientRects()).bind((function(t){return bB(e,t.left,t.top)})).bind((function(e){return jM(YM(e),t)}))};var xB=function(e,t,n){return n.breakAt.exists((function(n){return e(t,n).breakAt.isSome()}))};var CB=function(e){return e.breakType===PM.Wrap&&e.positions.length===0};var SB=function(e){return e.breakType===PM.Br&&e.positions.length===1};var kB=function(e,t,n){var r=e(t,n);if(CB(r)||!ro(n.getNode())&&SB(r)){return!xB(e,t,r)}else{return r.breakAt.isNone()}};var TB=R(kB,WM);var OB=R(kB,qM);var _B=function(e,t,n){var r=Rl.fromRangeStart(t);return Km(!e,n).exists((function(e){return e.isEqual(r)}))};var EB=function(e,t,n,r){var o=e.selection.getRng();var a=t?1:-1;if(Xd()&&_B(t,o,n)){CN(a,e,n,!t,false).each((function(t){SR(e,t)}));return true}return false};var DB=function(e,t,n){return yB(t,n).orThunk((function(){return he(n.getClientRects()).bind((function(n){return UM(GM(e,Rl.before(t)),n.left)}))})).getOr(Rl.before(t))};var AB=function(e,t,n){return wB(t,n).orThunk((function(){return he(n.getClientRects()).bind((function(n){return UM($M(e,Rl.after(t)),n.left)}))})).getOr(Rl.after(t))};var NB=function(e,t){var n=t.getNode(e);return jr(n)&&n.nodeName==="TABLE"?W.some(n):W.none()};var MB=function(e,t,n,r){var o=kv(t);if(o){t.undoManager.transact((function(){var r=wn.fromTag(o);bo(r,Tv(t));xr(r,wn.fromTag("br"));if(e){yr(wn.fromDom(n),r)}else{br(wn.fromDom(n),r)}var a=t.dom.createRng();a.setStart(r.dom,0);a.setEnd(r.dom,0);SR(t,a)}))}else{SR(t,r.toRange())}};var RB=function(e,t,n){var r=t?NB(true,n):NB(false,n);var o=t===false;r.fold((function(){return SR(e,n.toRange())}),(function(r){return Km(o,e.getBody()).filter((function(e){return e.isEqual(n)})).fold((function(){return SR(e,n.toRange())}),(function(o){return MB(t,e,r,n)}))}))};var zB=function(e,t,n,r){var o=e.selection.getRng();var a=Rl.fromRangeStart(o);var i=e.getBody();if(!t&&TB(r,a)){var u=DB(i,n,a);RB(e,t,u);return true}else if(t&&OB(r,a)){var u=AB(i,n,a);RB(e,t,u);return true}else{return false}};var BB=function(e,t,n){return W.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(r){return W.from(e.dom.getParent(r,"table")).map((function(o){return n(e,t,o,r)}))})).getOr(false)};var PB=function(e,t){return BB(e,t,EB)};var LB=function(e,t){return BB(e,t,zB)};var HB=function(e,t,n){var r=qt().os;aB([{keyCode:tp.RIGHT,action:oB(Uz,e,true)},{keyCode:tp.LEFT,action:oB(Uz,e,false)},{keyCode:tp.UP,action:oB(jz,e,false)},{keyCode:tp.DOWN,action:oB(jz,e,true)},{keyCode:tp.RIGHT,action:oB(PB,e,true)},{keyCode:tp.LEFT,action:oB(PB,e,false)},{keyCode:tp.UP,action:oB(LB,e,false)},{keyCode:tp.DOWN,action:oB(LB,e,true)},{keyCode:tp.RIGHT,action:oB(iB,e,true)},{keyCode:tp.LEFT,action:oB(iB,e,false)},{keyCode:tp.UP,action:oB(uB,e,false)},{keyCode:tp.DOWN,action:oB(uB,e,true)},{keyCode:tp.RIGHT,action:oB(PR,e,t,true)},{keyCode:tp.LEFT,action:oB(PR,e,t,false)},{keyCode:tp.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:oB(IR,e,t)},{keyCode:tp.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:oB(FR,e,t)},{keyCode:tp.UP,action:oB(eB,e,false)},{keyCode:tp.DOWN,action:oB(eB,e,true)}],n).each((function(e){n.preventDefault()}))};var IB=function(e,t){e.on("keydown",(function(n){if(n.isDefaultPrevented()===false){HB(e,t,n)}}))};var FB=function(e,t,n){aB([{keyCode:tp.BACKSPACE,action:oB(mz,e,false)},{keyCode:tp.BACKSPACE,action:oB(JN,e,false)},{keyCode:tp.DELETE,action:oB(JN,e,true)},{keyCode:tp.BACKSPACE,action:oB(MN,e,false)},{keyCode:tp.DELETE,action:oB(MN,e,true)},{keyCode:tp.BACKSPACE,action:oB(KR,e,t,false)},{keyCode:tp.DELETE,action:oB(KR,e,t,true)},{keyCode:tp.BACKSPACE,action:oB(HC,e,false)},{keyCode:tp.DELETE,action:oB(HC,e,true)},{keyCode:tp.BACKSPACE,action:oB(ZN,e,false)},{keyCode:tp.DELETE,action:oB(ZN,e,true)},{keyCode:tp.BACKSPACE,action:oB(rz,e,false)},{keyCode:tp.DELETE,action:oB(rz,e,true)},{keyCode:tp.BACKSPACE,action:oB(yN,e,false)},{keyCode:tp.DELETE,action:oB(yN,e,true)},{keyCode:tp.BACKSPACE,action:oB(vN,e,false)},{keyCode:tp.DELETE,action:oB(vN,e,true)},{keyCode:tp.BACKSPACE,action:oB(ZR,e,false)},{keyCode:tp.DELETE,action:oB(ZR,e,true)}],n).each((function(e){n.preventDefault()}))};var VB=function(e,t){aB([{keyCode:tp.BACKSPACE,action:oB(YN,e)},{keyCode:tp.DELETE,action:oB(YN,e)}],t)};var UB=function(e,t){e.on("keydown",(function(n){if(n.isDefaultPrevented()===false){FB(e,t,n)}}));e.on("keyup",(function(t){if(t.isDefaultPrevented()===false){VB(e,t)}}))};var jB=function(e){while(e){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data)){return e}e=e.nextSibling}};var WB=function(e,t){var n,r=t;var o=e.dom;var a=e.schema.getMoveCaretBeforeOnEnterElements();if(!t){return}if(/^(LI|DT|DD)$/.test(t.nodeName)){var i=jB(t.firstChild);if(i&&/^(UL|OL|DL)$/.test(i.nodeName)){t.insertBefore(o.doc.createTextNode(qa),t.firstChild)}}var u=o.createRng();t.normalize();if(t.hasChildNodes()){var c=new Ca(t,t);while(n=c.current()){if(Zr(n)){u.setStart(n,0);u.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){u.setStartBefore(n);u.setEndBefore(n);break}r=n;n=c.next()}if(!n){u.setStart(r,0);u.setEnd(r,0)}}else{if(ro(t)){if(t.nextSibling&&o.isBlock(t.nextSibling)){u.setStartBefore(t);u.setEndBefore(t)}else{u.setStartAfter(t);u.setEndAfter(t)}}else{u.setStart(t,0);u.setEnd(t,0)}}e.selection.setRng(u);tb(e,u)};var qB=function(e,t){var n=e.getRoot();var r,o;r=t;while(r!==n&&e.getContentEditable(r)!=="false"){if(e.getContentEditable(r)==="true"){o=r}r=r.parentNode}return r!==n?o:n};var GB=function(e){return W.from(e.dom.getParent(e.selection.getStart(true),e.dom.isBlock))};var $B=function(e){return GB(e).fold(A(""),(function(e){return e.nodeName.toUpperCase()}))};var KB=function(e){return GB(e).filter((function(e){return Ia(wn.fromDom(e))})).isSome()};var XB=function(e,t){return e.firstChild&&e.firstChild.nodeName===t};var YB=function(e){var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e};var JB=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t};var QB=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)};var ZB=function(e){return QB(e)&&QB(e.parentNode)};var eP=function(e){var t=e.parentNode;if(/^(LI|DT|DD)$/.test(t.nodeName)){return t}return e};var tP=function(e,t,n){var r=e[n?"firstChild":"lastChild"];while(r){if(jr(r)){break}r=r[n?"nextSibling":"previousSibling"]}return r===t};var nP=function(e,t,n,r,o){var a=e.dom;var i=e.selection.getRng();if(n===e.getBody()){return}if(ZB(n)){o="LI"}var u=o?t(o):a.create("BR");if(tP(n,r,true)&&tP(n,r,false)){if(JB(n,"LI")){var c=eP(n);a.insertAfter(u,c);if(YB(n)){a.remove(c)}else{a.remove(n)}}else{a.replace(u,n)}}else if(tP(n,r,true)){if(JB(n,"LI")){a.insertAfter(u,eP(n));u.appendChild(a.doc.createTextNode(" "));u.appendChild(n)}else{n.parentNode.insertBefore(u,n)}a.remove(r)}else if(tP(n,r,false)){a.insertAfter(u,eP(n));a.remove(r)}else{n=eP(n);var f=i.cloneRange();f.setStartAfter(r);f.setEndAfter(n);var s=f.extractContents();if(o==="LI"&&XB(s,"LI")){u=s.firstChild;a.insertAfter(s,n)}else{a.insertAfter(s,n);a.insertAfter(u,n)}a.remove(r)}WB(e,u)};var rP=function(e){Z(_s(wn.fromDom(e),Un),(function(e){var t=e.dom;t.nodeValue=Ya(t.nodeValue)}))};var oP=function(e,t){return t&&t.nodeName==="A"&&e.isEmpty(t)};var aP=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)};var iP=function(e){e.innerHTML='<br data-mce-bogus="1">'};var uP=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t};var cP=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.getContentEditable(t)!=="true"};var fP=function(e,t,n){var r=n;var o=[];var a;if(!r){return}while(r=r.firstChild){if(e.isBlock(r)){return}if(jr(r)&&!t[r.nodeName.toLowerCase()]){o.push(r)}}a=o.length;while(a--){r=o[a];if(!r.hasChildNodes()||r.firstChild===r.lastChild&&r.firstChild.nodeValue===""){e.remove(r)}else{if(oP(e,r)){e.remove(r)}}}};var sP=function(e,t,n){if(Zr(t)===false){return n}else if(e){return n===1&&t.data.charAt(n-1)===Ka?0:n}else{return n===t.data.length-1&&t.data.charAt(n)===Ka?t.data.length:n}};var lP=function(e){var t=e.cloneRange();t.setStart(e.startContainer,sP(true,e.startContainer,e.startOffset));t.setEnd(e.endContainer,sP(false,e.endContainer,e.endOffset));return t};var vP=function(e){do{if(Zr(e)){e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")}e=e.firstChild}while(e)};var dP=function(e,t){var n=e.getRoot();var r,o;r=t;while(r!==n&&e.getContentEditable(r)!=="false"){if(e.getContentEditable(r)==="true"){o=r}r=r.parentNode}return r!==n?o:n};var mP=function(e,t,n){var r=e.dom;W.from(n.style).map(r.parseStyle).each((function(e){var n=Do(wn.fromDom(t));var o=We(We({},n),e);r.setStyles(t,o)}));var o=W.from(n.class).map((function(e){return e.split(/\s+/)}));var a=W.from(t.className).map((function(e){return ne(e.split(/\s+/),(function(e){return e!==""}))}));lo(o,a,(function(e,n){var o=ne(n,(function(t){return!Y(e,t)}));var a=Ge(Ge([],e,true),o,true);r.setAttrib(t,"class",a.join(" "))}));var i=["style","class"];var u=Ee(n,(function(e,t){return!Y(i,t)}));r.setAttribs(t,u)};var gP=function(e,t){var n=kv(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=Tv(e);mP(e,t,r)}};var hP=function(e,t,n,r,o){var a,i,u,c,f,s;var l=t||"P";var v=e.dom,d=dP(v,r);i=v.getParent(r,v.isBlock);if(!i||!cP(v,i)){i=i||d;if(i===e.getBody()||aP(i)){s=i.nodeName.toLowerCase()}else{s=i.parentNode.nodeName.toLowerCase()}if(!i.hasChildNodes()){a=v.create(l);gP(e,a);i.appendChild(a);n.setStart(a,0);n.setEnd(a,0);return a}c=r;while(c.parentNode!==i){c=c.parentNode}while(c&&!v.isBlock(c)){u=c;c=c.previousSibling}if(u&&e.schema.isValidChild(s,l.toLowerCase())){a=v.create(l);gP(e,a);u.parentNode.insertBefore(a,u);c=u;while(c&&!v.isBlock(c)){f=c.nextSibling;a.appendChild(c);c=f}n.setStart(r,o);n.setEnd(r,o)}}return r};var pP=function(e,t){t.normalize();var n=t.lastChild;if(!n||/^(left|right)$/gi.test(e.getStyle(n,"float",true))){e.add(t,"br")}};var bP=function(e,t){var n,r,o,a;var i,u,c,f,s,l;var v=e.dom;var d=e.schema,m=d.getNonEmptyElements();var g=e.selection.getRng();var h=function(t){var n=r,o,i,u;var c=d.getTextInlineElements();if(t||f==="TABLE"||f==="HR"){o=v.create(t||s)}else{o=a.cloneNode(false)}u=o;if(Ev(e)===false){v.setAttrib(o,"style",null);v.setAttrib(o,"class",null)}else{do{if(c[n.nodeName]){if(eg(n)||Cg(n)){continue}i=n.cloneNode(false);v.setAttrib(i,"id","");if(o.hasChildNodes()){i.appendChild(o.firstChild);o.appendChild(i)}else{u=i;o.appendChild(i)}}}while((n=n.parentNode)&&n!==x)}gP(e,o);iP(u);return o};var p=function(e){var t,n;var i=sP(e,r,o);if(Zr(r)&&(e?i>0:i<r.nodeValue.length)){return false}if(r.parentNode===a&&l&&!e){return true}if(e&&jr(r)&&r===a.firstChild){return true}if(uP(r,"TABLE")||uP(r,"HR")){return l&&!e||!l&&e}var u=new Ca(r,a);if(Zr(r)){if(e&&i===0){u.prev()}else if(!e&&i===r.nodeValue.length){u.next()}}while(t=u.current()){if(jr(t)){if(!t.getAttribute("data-mce-bogus")){n=t.nodeName.toLowerCase();if(m[n]&&n!=="br"){return false}}}else if(Zr(t)&&!Di(t.nodeValue)){return false}if(e){u.prev()}else{u.next()}}return true};var b=function(){if(/^(H[1-6]|PRE|FIGURE)$/.test(f)&&C!=="HGROUP"){i=h(s)}else{i=h()}if(Dv(e)&&cP(v,c)&&v.isEmpty(a)){i=v.split(c,a)}else{v.insertAfter(i,a)}WB(e,i)};xp(v,g).each((function(e){g.setStart(e.startContainer,e.startOffset);g.setEnd(e.endContainer,e.endOffset)}));r=g.startContainer;o=g.startOffset;s=kv(e);var y=!!(t&&t.shiftKey);var w=!!(t&&t.ctrlKey);if(jr(r)&&r.hasChildNodes()){l=o>r.childNodes.length-1;r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r;if(l&&Zr(r)){o=r.nodeValue.length}else{o=0}}var x=dP(v,r);if(!x){return}if(s&&!y||!s&&y){r=hP(e,s,g,r,o)}a=v.getParent(r,v.isBlock);c=a?v.getParent(a.parentNode,v.isBlock):null;f=a?a.nodeName.toUpperCase():"";var C=c?c.nodeName.toUpperCase():"";if(C==="LI"&&!w){a=c;c=c.parentNode;f=C}if(/^(LI|DT|DD)$/.test(f)){if(v.isEmpty(a)){nP(e,h,c,a,s);return}}if(s&&a===e.getBody()){return}s=s||"P";if(Za(a)){i=li(a);if(v.isEmpty(a)){iP(a)}gP(e,i);WB(e,i)}else if(p()){b()}else if(p(true)){i=a.parentNode.insertBefore(h(),a);WB(e,uP(a,"HR")?i:a)}else{n=lP(g).cloneRange();n.setEndAfter(a);u=n.extractContents();rP(u);vP(u);i=u.firstChild;v.insertAfter(u,a);fP(v,m,i);pP(v,a);if(v.isEmpty(a)){iP(a)}i.normalize();if(v.isEmpty(i)){v.remove(i);b()}else{gP(e,i);WB(e,i)}}v.setAttrib(i,"id","");e.fire("NewBlock",{newBlock:i})};var yP=function(e,t,n){var r=new Ca(t,n);var o;var a=e.getNonEmptyElements();while(o=r.next()){if(a[o.nodeName.toLowerCase()]||o.length>0){return true}}};var wP=function(e,t,n){var r=e.dom.createRng();if(!n){r.setStartAfter(t);r.setEndAfter(t)}else{r.setStartBefore(t);r.setEndBefore(t)}e.selection.setRng(r);tb(e,r)};var xP=function(e,t){var n=e.selection;var r=e.dom;var o=n.getRng();var a;var i;xp(r,o).each((function(e){o.setStart(e.startContainer,e.startOffset);o.setEnd(e.endContainer,e.endOffset)}));var u=o.startOffset;var c=o.startContainer;if(c.nodeType===1&&c.hasChildNodes()){var f=u>c.childNodes.length-1;c=c.childNodes[Math.min(u,c.childNodes.length-1)]||c;if(f&&c.nodeType===3){u=c.nodeValue.length}else{u=0}}var s=r.getParent(c,r.isBlock);var l=s?r.getParent(s.parentNode,r.isBlock):null;var v=l?l.nodeName.toUpperCase():"";var d=!!(t&&t.ctrlKey);if(v==="LI"&&!d){s=l}if(c&&c.nodeType===3&&u>=c.nodeValue.length){if(!yP(e.schema,c,s)){a=r.create("br");o.insertNode(a);o.setStartAfter(a);o.setEndAfter(a);i=true}}a=r.create("br");Ll(r,o,a);wP(e,a,i);e.undoManager.add()};var CP=function(e,t){var n=wn.fromTag("br");br(wn.fromDom(t),n);e.undoManager.add()};var SP=function(e,t){if(!TP(e.getBody(),t)){yr(wn.fromDom(t),wn.fromTag("br"))}var n=wn.fromTag("br");yr(wn.fromDom(t),n);wP(e,n.dom,false);e.undoManager.add()};var kP=function(e){return ro(e.getNode())};var TP=function(e,t){if(kP(Rl.after(t))){return true}else{return Xm(e,Rl.after(t)).map((function(e){return ro(e.getNode())})).getOr(false)}};var OP=function(e){return e&&e.nodeName==="A"&&"href"in e};var _P=function(e){return e.fold(H,OP,OP,H)};var EP=function(e){var t=R(NA,e);var n=Rl.fromRangeStart(e.selection.getRng());return CM(t,e.getBody(),n).filter(_P)};var DP=function(e,t){t.fold(_,R(CP,e),R(SP,e),_)};var AP=function(e,t){var n=EP(e);if(n.isSome()){n.each(R(DP,e))}else{xP(e,t)}};var NP=function(e,t){return GB(e).filter((function(e){return t.length>0&&Dn(wn.fromDom(e),t)})).isSome()};var MP=function(e){return NP(e,Ov(e))};var RP=function(e){return NP(e,_v(e))};var zP=ea.generate([{br:[]},{block:[]},{none:[]}]);var BP=function(e,t){return RP(e)};var PP=function(e){return function(t,n){var r=kv(t)==="";return r===e}};var LP=function(e){return function(t,n){return KB(t)===e}};var HP=function(e,t){return function(n,r){var o=$B(n)===e.toUpperCase();return o===t}};var IP=function(e){return HP("pre",e)};var FP=function(){return HP("summary",true)};var VP=function(e){return function(t,n){return Sv(t)===e}};var UP=function(e,t){return MP(e)};var jP=function(e,t){return t};var WP=function(e){var t=kv(e);var n=qB(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t?t:"P")};var qP=function(e,t){return function(n,r){var o=oe(e,(function(e,t){return e&&t(n,r)}),true);return o?W.some(t):W.none()}};var GP=function(e,t){return vM([qP([BP],zP.none()),qP([FP()],zP.br()),qP([IP(true),VP(false),jP],zP.br()),qP([IP(true),VP(false)],zP.block()),qP([IP(true),VP(true),jP],zP.block()),qP([IP(true),VP(true)],zP.br()),qP([LP(true),jP],zP.br()),qP([LP(true)],zP.block()),qP([PP(true),jP,WP],zP.block()),qP([PP(true)],zP.br()),qP([UP],zP.br()),qP([PP(false),jP],zP.br()),qP([WP],zP.block())],[e,!!(t&&t.shiftKey)]).getOr(zP.none())};var $P=function(e,t){GP(e,t).fold((function(){AP(e,t)}),(function(){bP(e,t)}),_)};var KP=function(e,t){if(t.isDefaultPrevented()){return}t.preventDefault();SO(e.undoManager);e.undoManager.transact((function(){if(e.selection.isCollapsed()===false){e.execCommand("Delete")}$P(e,t)}))};var XP=function(e){e.on("keydown",(function(t){if(t.keyCode===tp.ENTER){KP(e,t)}}))};var YP=function(e,t,n){aB([{keyCode:tp.END,action:oB(Wz,e,true)},{keyCode:tp.HOME,action:oB(Wz,e,false)},{keyCode:tp.END,action:oB(cB,e,true)},{keyCode:tp.HOME,action:oB(cB,e,false)},{keyCode:tp.END,action:oB(VR,e,true,t)},{keyCode:tp.HOME,action:oB(VR,e,false,t)}],n).each((function(e){n.preventDefault()}))};var JP=function(e,t){e.on("keydown",(function(n){if(n.isDefaultPrevented()===false){YP(e,t,n)}}))};var QP=qt().browser;var ZP=function(e){var t=ms((function(){if(!e.composing){bx(e)}}),0);if(QP.isIE()){e.on("keypress",(function(e){t.throttle()}));e.on("remove",(function(e){t.cancel()}))}};var eL=function(e){ZP(e);e.on("input",(function(t){if(t.isComposing===false){bx(e)}}))};var tL=qt();var nL=function(e,t,n){aB([{keyCode:tp.PAGE_UP,action:oB(VR,e,false,t)},{keyCode:tp.PAGE_DOWN,action:oB(VR,e,true,t)}],n)};var rL=function(e){return e.stopImmediatePropagation()};var oL=function(e){return e.keyCode===tp.PAGE_UP||e.keyCode===tp.PAGE_DOWN};var aL=function(e,t,n){if(n&&!e.get()){t.on("NodeChange",rL,true)}else if(!n&&e.get()){t.off("NodeChange",rL)}e.set(n)};var iL=function(e,t){if(tL.os.isOSX()){return}var n=Jf(false);e.on("keydown",(function(t){if(oL(t)){aL(n,e,true)}}));e.on("keyup",(function(r){if(r.isDefaultPrevented()===false){nL(e,t,r)}if(oL(r)&&n.get()){aL(n,e,false);e.nodeChanged()}}))};var uL=function(e,t){var n=t.container();var r=t.offset();if(Zr(n)){n.insertData(r,e);return W.some(Rl(n,r+e.length))}else{return wm(t).map((function(n){var r=wn.fromText(e);if(t.isAtEnd()){yr(n,r)}else{br(n,r)}return Rl(r.dom,e.length)}))}};var cL=R(uL,qa);var fL=R(uL," ");var sL=function(e){return function(t){return t.fold((function(t){return Ym(e.dom,Rl.before(t))}),(function(e){return Jm(e)}),(function(e){return Qm(e)}),(function(t){return Xm(e.dom,Rl.after(t))}))}};var lL=function(e,t){return function(n){return ix(e,n)?cL(t):fL(t)}};var vL=function(e){return function(t){e.selection.setRng(t.toRange());e.nodeChanged();return true}};var dL=function(e){var t=Rl.fromRangeStart(e.selection.getRng());var n=wn.fromDom(e.getBody());if(e.selection.isCollapsed()){var r=R(NA,e);var o=Rl.fromRangeStart(e.selection.getRng());return CM(r,e.getBody(),o).bind(sL(n)).bind(lL(n,t)).exists(vL(e))}else{return false}};var mL=function(e,t){aB([{keyCode:tp.SPACEBAR,action:oB(dL,e)}],t).each((function(e){t.preventDefault()}))};var gL=function(e){e.on("keydown",(function(t){if(t.isDefaultPrevented()===false){mL(e,t)}}))};var hL=function(e){var t=HR(e);zz(e);IB(e,t);UB(e,t);XP(e);gL(e);eL(e);JP(e,t);iL(e,t);return t};var pL=function(e){if(!IO(e)){return hL(e)}else{return Jf(null)}};var bL=function(){function e(e){this.lastPath=[];this.editor=e;var t;var n=this;if(!("onselectionchange"in e.getDoc())){e.on("NodeChange click mouseup keyup focus",(function(n){var r=e.selection.getRng();var o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};if(n.type==="nodechange"||!fp(o,t)){e.fire("SelectionChange")}t=o}))}e.on("contextmenu",(function(){e.fire("SelectionChange")}));e.on("SelectionChange",(function(){var t=e.selection.getStart(true);if(!t||!en.range&&e.selection.isCollapsed()){return}if(Th(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())){e.nodeChanged({selectionChange:true})}}));e.on("mouseup",(function(t){if(!t.isDefaultPrevented()&&Th(e)){if(e.selection.getNode().nodeName==="IMG"){ba.setEditorTimeout(e,(function(){e.nodeChanged()}))}else{e.nodeChanged()}}}))}e.prototype.nodeChanged=function(e){var t=this.editor.selection;var n,r,o;if(this.editor.initialized&&t&&!yd(this.editor)&&!this.editor.mode.isReadOnly()){o=this.editor.getBody();n=t.getStart(true)||o;if(n.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(n,o)){n=o}r=[];this.editor.dom.getParent(n,(function(e){if(e===o){return true}r.push(e)}));e=e||{};e.element=n;e.parents=r;this.editor.fire("NodeChange",e)}};e.prototype.isSameElementPath=function(e){var t;var n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;t>=0;t--){if(n[t]!==this.lastPath[t]){break}}if(t===-1){this.lastPath=n;return true}}this.lastPath=n;return false};return e}();var yL=function(e){e.on("click",(function(t){if(e.dom.getParent(t.target,"details")){t.preventDefault()}}))};var wL=function(e){e.parser.addNodeFilter("details",(function(e){Z(e,(function(e){e.attr("data-mce-open",e.attr("open"));e.attr("open","open")}))}));e.serializer.addNodeFilter("details",(function(e){Z(e,(function(e){var t=e.attr("data-mce-open");e.attr("open",p(t)?t:null);e.attr("data-mce-open",null)}))}))};var xL=function(e){yL(e);wL(e)};var CL=function(e){return jr(e)&&La(wn.fromDom(e))};var SL=function(e){var t=e.selection.getRng();var n=Rl.fromRangeStart(t);var r=Rl.fromRangeEnd(t);if(Rl.isElementPosition(n)){var o=n.container();if(CL(o)){Jm(o).each((function(e){return t.setStart(e.container(),e.offset())}))}}if(Rl.isElementPosition(r)){var o=n.container();if(CL(o)){Qm(o).each((function(e){return t.setEnd(e.container(),e.offset())}))}}e.selection.setRng(VC(t))};var kL=function(e){e.on("click",(function(t){if(t.detail>=3){SL(e)}}))};var TL=function(e){var t=e.getBoundingClientRect();var n=e.ownerDocument;var r=n.documentElement;var o=n.defaultView;return{top:t.top+o.pageYOffset-r.clientTop,left:t.left+o.pageXOffset-r.clientLeft}};var OL=function(e){return e.inline?TL(e.getBody()):{left:0,top:0}};var _L=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}};var EL=function(e){var t=e.getBody(),n=e.getDoc().documentElement;var r={left:t.scrollLeft,top:t.scrollTop};var o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o};var DL=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=TL(e.getContentAreaContainer());var r=EL(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}};var AL=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}};var NL=function(e,t){return AL(OL(e),_L(e),DL(e,t))};var ML=io,RL=ao;var zL=function(e,t){return ML(t)&&t!==e};var BL=function(e,t,n){if(t===n||e.dom.isChildOf(t,n)){return false}return!ML(t)};var PL=function(e){var t=e.cloneNode(true);t.removeAttribute("data-mce-selected");return t};var LL=function(e,t,n,r){var o=e.dom;var a=t.cloneNode(true);o.setStyles(a,{width:n,height:r});o.setAttrib(a,"data-mce-selected",null);var i=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});o.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r});o.setStyles(a,{margin:0,boxSizing:"border-box"});i.appendChild(a);return i};var HL=function(e,t){if(e.parentNode!==t){t.appendChild(e)}};var IL=function(e,t,n,r,o,a){var i=0,u=0;e.style.left=t.pageX+"px";e.style.top=t.pageY+"px";if(t.pageX+n>o){i=t.pageX+n-o}if(t.pageY+r>a){u=t.pageY+r-a}e.style.width=n-i+"px";e.style.height=r-u+"px"};var FL=function(e){if(e&&e.parentNode){e.parentNode.removeChild(e)}};var VL=function(e){return e.button===0};var UL=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}};var jL=function(e,t){return function(n){if(VL(n)){var r=ie(t.dom.getParents(n.target),ll(ML,RL)).getOr(null);if(zL(t.getBody(),r)){var o=t.dom.getPos(r);var a=t.getBody();var i=t.getDoc().documentElement;e.set({element:r,dragging:false,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?a.scrollWidth:i.offsetWidth)-2,maxY:(t.inline?a.scrollHeight:i.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:r.offsetWidth,height:r.offsetHeight,ghost:LL(t,r,r.offsetWidth,r.offsetHeight)})}}}};var WL=function(e,t){var n=ba.throttle((function(e,n){t._selectionOverrides.hideFakeCaret();t.selection.placeCaretAt(e,n)}),0);t.on("remove",n.stop);return function(r){return e.on((function(e){var o=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(!e.dragging&&o>10){var a=t.fire("dragstart",{target:e.element});if(a.isDefaultPrevented()){return}e.dragging=true;t.focus()}if(e.dragging){var i=UL(e,NL(t,r));HL(e.ghost,t.getBody());IL(e.ghost,i,e.width,e.height,e.maxX,e.maxY);n(r.clientX,r.clientY)}}))}};var qL=function(e){var t=e.getSel().getRangeAt(0);var n=t.startContainer;return n.nodeType===3?n.parentNode:n};var GL=function(e,t){return function(n){e.on((function(e){if(e.dragging){if(BL(t,qL(t.selection),e.element)){var r=PL(e.element);var o=t.fire("drop",{clientX:n.clientX,clientY:n.clientY});if(!o.isDefaultPrevented()){t.undoManager.transact((function(){FL(e.element);t.insertContent(t.dom.getOuterHTML(r));t._selectionOverrides.hideFakeCaret()}))}}t.fire("dragend")}}));KL(e)}};var $L=function(e,t){return function(){e.on((function(e){if(e.dragging){t.fire("dragend")}}));KL(e)}};var KL=function(e){e.on((function(e){FL(e.ghost)}));e.clear()};var XL=function(e){var t=ds();var n=Uf.DOM;var r=document;var o=jL(t,e);var a=WL(t,e);var i=GL(t,e);var u=$L(t,e);e.on("mousedown",o);e.on("mousemove",a);e.on("mouseup",i);n.bind(r,"mousemove",a);n.bind(r,"mouseup",u);e.on("remove",(function(){n.unbind(r,"mousemove",a);n.unbind(r,"mouseup",u)}));e.on("keydown",(function(e){if(e.keyCode===tp.ESC){u()}}))};var YL=function(e){e.on("drop",(function(t){var n=typeof t.clientX!=="undefined"?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;if(ML(n)||e.dom.getContentEditableParent(n)==="false"){t.preventDefault()}}))};var JL=function(e){var t=function(t){if(!t.isDefaultPrevented()){var n=t.dataTransfer;if(n&&(Y(n.types,"Files")||n.files.length>0)){t.preventDefault();if(t.type==="drop"){PD(e,"Dropped file type is not supported")}}}};var n=function(n){if(Qb(e,n.target)){t(n)}};var r=function(){var r=Uf.DOM;var o=e.dom;var a=document;var i=e.inline?e.getBody():e.getDoc();var u=["drop","dragover"];Z(u,(function(e){r.bind(a,e,n);o.bind(i,e,t)}));e.on("remove",(function(){Z(u,(function(e){r.unbind(a,e,n);o.unbind(i,e,t)}))}))};e.on("init",(function(){ba.setEditorTimeout(e,r,0)}))};var QL=function(e){XL(e);YL(e);if(kd(e)){JL(e)}};var ZL=function(e){var t=ms((function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var t=e.selection.getRng();if(t.collapsed){var n=ON(e,t,false);e.selection.setRng(n)}}}),0);e.on("focus",(function(){t.throttle()}));e.on("blur",(function(){t.cancel()}))};var eH=function(e){e.on("init",(function(){e.on("focusin",(function(t){var n=t.target;if(co(n)){var r=Ih(e.getBody(),n);var o=io(r)?r:n;if(e.selection.getNode()!==o){kN(e,o).each((function(t){return e.selection.setRng(t)}))}}}))}))};var tH=ao;var nH=io;var rH=function(e,t){return Ih(e.getBody(),t)};var oH=function(e){var t=e.selection,n=e.dom;var r=n.isBlock;var o=e.getBody();var a=Kd(e,o,r,(function(){return vy(e)}));var i="sel-"+n.uniqueId();var u="data-mce-selected";var c;var f=function(e){return n.hasClass(e,"mce-offscreen-selection")};var s=function(e){return e!==o&&(nH(e)||co(e))&&n.isChildOf(e,o)};var l=function(e){return _w(e)||Ew(e)||Sw(e)||kw(e)};var v=function(){var e=n.get(i);return e?e.getElementsByTagName("*")[0]:e};var d=function(e){if(e){t.setRng(e)}};var m=t.getRng;var g=function(n,r,o,i){if(i===void 0){i=true}var u=e.fire("ShowCaret",{target:r,direction:n,before:o});if(u.isDefaultPrevented()){return null}if(i){t.scrollIntoView(r,n===-1)}return a.show(o,r)};var h=function(e){if(e.hasAttribute("data-mce-caret")){li(e);d(m());t.scrollIntoView(e)}};var p=function(){e.on("mouseup",(function(t){var n=m();if(n.collapsed&&OD(e,t.clientX,t.clientY)){TN(e,n,false).each(d)}}));e.on("click",(function(r){var o=rH(e,r.target);if(o){if(nH(o)){r.preventDefault();e.focus()}if(tH(o)){if(n.isChildOf(o,t.getNode())){T()}}}}));e.on("blur NewBlock",T);e.on("ResizeWindow FullscreenStateChanged",a.reposition);var i=function(e){var t=e.firstChild;if(S(t)){return false}var n=Rl.before(t);if(ro(n.getNode())&&e.childNodes.length===1){return!l(n)}else{var r=Lm(e);var o=r.next(n);return o&&!l(o)}};var u=function(e,t){var o=n.getParent(e,r);var a=n.getParent(t,r);return o===a};var h=function(t,o){var a=n.getParent(t,r);var c=n.getParent(o,r);if(S(a)){return false}if(t!==c&&n.isChildOf(a,c)&&nH(rH(e,a))===false){return true}return!n.isChildOf(c,a)&&!u(a,c)&&i(a)};e.on("tap",(function(t){var n=t.target;var r=rH(e,n);if(nH(r)){t.preventDefault();kN(e,r).each(k)}else if(s(n)){kN(e,n).each(k)}}),true);e.on("mousedown",(function(r){var a=r.target;if(a!==o&&a.nodeName!=="HTML"&&!n.isChildOf(a,o)){return}if(OD(e,r.clientX,r.clientY)===false){return}var i=rH(e,a);if(i){if(nH(i)){r.preventDefault();kN(e,i).each(k)}else{T();if(!(tH(i)&&r.shiftKey)&&!Fh(r.clientX,r.clientY,t.getRng())){_();t.placeCaretAt(r.clientX,r.clientY)}}}else if(s(a)){kN(e,a).each(k)}else if(Jd(a)===false){T();_();var u=CR(o,r.clientX,r.clientY);if(u){if(!h(a,u.node)){r.preventDefault();var c=g(1,u.node,u.before,false);d(c);e.getBody().focus()}}}}));e.on("keypress",(function(e){if(tp.modifierPressed(e)){return}if(nH(t.getNode())){e.preventDefault()}}));e.on("GetSelectionRange",(function(e){var t=e.range;if(c){if(!c.parentNode){c=null;return}t=t.cloneRange();t.selectNode(c);e.range=t}}));e.on("SetSelectionRange",(function(e){e.range=w(e.range);var t=k(e.range,e.forward);if(t){e.range=t}}));var p=function(e){return e.id==="mcepastebin"};e.on("AfterSetSelectionRange",(function(e){var t=e.range;var n=t.startContainer.parentNode;if(!y(t)&&!p(n)){_()}if(!f(n)){T()}}));e.on("copy",(function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!en.ie){var n=v();if(n){e.preventDefault();t.clearData();t.setData("text/html",n.outerHTML);t.setData("text/plain",n.outerText||n.innerText)}}}));QL(e);ZL(e);eH(e)};var b=function(e){return ti(e)||ci(e)||fi(e)};var y=function(e){return b(e.startContainer)||b(e.endContainer)};var w=function(t){var r=e.schema.getShortEndedElements();var o=n.createRng();var a=t.startContainer;var i=t.startOffset;var u=t.endContainer;var c=t.endOffset;if(Me(r,a.nodeName.toLowerCase())){if(i===0){o.setStartBefore(a)}else{o.setStartAfter(a)}}else{o.setStart(a,i)}if(Me(r,u.nodeName.toLowerCase())){if(c===0){o.setEndBefore(u)}else{o.setEndAfter(u)}}else{o.setEnd(u,c)}return o};var x=function(r,o,a){var u=e.$;var c=ca(wn.fromDom(e.getBody()),"#"+i).fold((function(){return u([])}),(function(e){return u([e.dom])}));if(c.length===0){c=u('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",i);c.appendTo(e.getBody())}var f=n.createRng();if(o===a&&en.ie){c.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(o);f.setStartAfter(c[0].firstChild.firstChild);f.setEndAfter(o)}else{c.empty().append(qa).append(o).append(qa);f.setStart(c[0].firstChild,1);f.setEnd(c[0].lastChild,0)}c.css({top:n.getPos(r,e.getBody()).y});c[0].focus();var s=t.getSel();s.removeAllRanges();s.addRange(f);return f};var C=function(t){var r=t.cloneNode(true);var o=e.fire("ObjectSelected",{target:t,targetClone:r});if(o.isDefaultPrevented()){return null}var a=x(t,o.targetClone,r);var i=wn.fromDom(t);Z(Es(wn.fromDom(e.getBody()),"*[data-mce-selected]"),(function(e){if(!Rn(i,e)){Co(e,u)}}));if(!n.getAttrib(t,u)){t.setAttribute(u,"1")}c=t;_();return a};var k=function(e,t){if(!e){return null}if(e.collapsed){if(!y(e)){var r=t?1:-1;var a=ym(r,o,e);var i=a.getNode(!t);if(Jd(i)){return g(r,i,t?!a.isAtEnd():false,false)}var u=a.getNode(t);if(Jd(u)){return g(r,u,t?false:!a.isAtEnd(),false)}}return null}var c=e.startContainer;var f=e.startOffset;var l=e.endOffset;if(c.nodeType===3&&f===0&&nH(c.parentNode)){c=c.parentNode;f=n.nodeIndex(c);c=c.parentNode}if(c.nodeType!==1){return null}if(l===f+1&&c===e.endContainer){var v=c.childNodes[f];if(s(v)){return C(v)}}return null};var T=function(){if(c){c.removeAttribute(u)}ca(wn.fromDom(e.getBody()),"#"+i).each(Or);c=null};var O=function(){a.destroy();c=null};var _=function(){a.hide()};if(en.ceFalse&&!IO(e)){p()}return{showCaret:g,showBlockCaretContainer:h,hideFakeCaret:_,destroy:O}};var aH=function(e){var t=mn.each;var n=tp.BACKSPACE,r=tp.DELETE,o=e.dom,a=e.selection,i=e.parser;var u=en.gecko,c=en.ie,f=en.webkit;var s="data:text/mce-internal,";var l=c?"Text":"URL";var v=function(t,n){try{e.getDoc().execCommand(t,false,n)}catch(e){}};var d=function(e){return e.isDefaultPrevented()};var m=function(t){var n,r;if(t.dataTransfer){if(e.selection.isCollapsed()&&t.target.tagName==="IMG"){a.select(t.target)}n=e.selection.getContent();if(n.length>0){r=s+escape(e.id)+","+escape(n);t.dataTransfer.setData(l,r)}}};var g=function(e){var t;if(e.dataTransfer){t=e.dataTransfer.getData(l);if(t&&t.indexOf(s)>=0){t=t.substr(s.length).split(",");return{id:unescape(t[0]),html:unescape(t[1])}}}return null};var h=function(t,n){if(e.queryCommandSupported("mceInsertClipboardContent")){e.execCommand("mceInsertClipboardContent",false,{content:t,internal:n})}else{e.execCommand("mceInsertContent",false,t)}};var p=function(){var t=function(e){var t=o.create("body");var n=e.cloneContents();t.appendChild(n);return a.serializer.serialize(t,{format:"html"})};var i=function(n){var r=t(n);var a=o.createRng();a.selectNode(e.getBody());var i=t(a);return r===i};e.on("keydown",(function(t){var a=t.keyCode;var u,c;if(!d(t)&&(a===r||a===n)){u=e.selection.isCollapsed();c=e.getBody();if(u&&!o.isEmpty(c)){return}if(!u&&!i(e.selection.getRng())){return}t.preventDefault();e.setContent("");if(c.firstChild&&o.isBlock(c.firstChild)){e.selection.setCursorLocation(c.firstChild,0)}else{e.selection.setCursorLocation(c,0)}e.nodeChanged()}}))};var b=function(){e.shortcuts.add("meta+a",null,"SelectAll")};var y=function(){if(!e.inline){o.bind(e.getDoc(),"mousedown mouseup",(function(t){var n;if(t.target===e.getDoc().documentElement){n=a.getRng();e.getBody().focus();if(t.type==="mousedown"){if(ti(n.startContainer)){return}a.placeCaretAt(t.clientX,t.clientY)}else{a.setRng(n)}}}))}};var w=function(){e.on("keydown",(function(t){if(!d(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length){return}if(a.isCollapsed()&&a.getRng().startOffset===0){var r=a.getNode();var i=r.previousSibling;if(r.nodeName==="HR"){o.remove(r);t.preventDefault();return}if(i&&i.nodeName&&i.nodeName.toLowerCase()==="hr"){o.remove(i);t.preventDefault()}}}}))};var x=function(){if(!Range.prototype.getClientRects){e.on("mousedown",(function(t){if(!d(t)&&t.target.nodeName==="HTML"){var n=e.getBody();n.blur();ba.setEditorTimeout(e,(function(){n.focus()}))}}))}};var C=function(){e.on("click",(function(t){var n=t.target;if(/^(IMG|HR)$/.test(n.nodeName)&&o.getContentEditableParent(n)!=="false"){t.preventDefault();e.selection.select(n);e.nodeChanged()}if(n.nodeName==="A"&&o.hasClass(n,"mce-item-anchor")){t.preventDefault();a.select(n)}}))};var S=function(){var n=function(){var n=o.getAttribs(a.getStart().cloneNode(false));return function(){var r=a.getStart();if(r!==e.getBody()){o.setAttrib(r,"style",null);t(n,(function(e){r.setAttributeNode(e.cloneNode(true))}))}}};var r=function(){return!a.isCollapsed()&&o.getParent(a.getStart(),o.isBlock)!==o.getParent(a.getEnd(),o.isBlock)};e.on("keypress",(function(t){var o;if(!d(t)&&(t.keyCode===8||t.keyCode===46)&&r()){o=n();e.getDoc().execCommand("delete",false,null);o();t.preventDefault();return false}}));o.bind(e.getDoc(),"cut",(function(t){var o;if(!d(t)&&r()){o=n();ba.setEditorTimeout(e,(function(){o()}))}}))};var k=function(){e.on("keydown",(function(e){if(!d(e)&&e.keyCode===n){if(a.isCollapsed()&&a.getRng().startOffset===0){var t=a.getNode().previousSibling;if(t&&t.nodeName&&t.nodeName.toLowerCase()==="table"){e.preventDefault();return false}}}}))};var T=function(){e.on("keydown",(function(t){var n,r;if(d(t)||t.keyCode!==tp.BACKSPACE){return}n=a.getRng();var i=n.startContainer;var u=n.startOffset;var c=o.getRoot();r=i;if(!n.collapsed||u!==0){return}while(r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==c){r=r.parentNode}if(r.tagName==="BLOCKQUOTE"){e.formatter.toggle("blockquote",null,r);n=o.createRng();n.setStart(i,0);n.setEnd(i,0);a.setRng(n)}}))};var O=function(){var t=function(){v("StyleWithCSS",false);v("enableInlineTableEditing",false);if(!Qv(e)){v("enableObjectResizing",false)}};if(!wd(e)){e.on("BeforeExecCommand mousedown",t)}};var E=function(){var n=function(){t(o.select("a"),(function(e){var t=e.parentNode;var n=o.getRoot();if(t.lastChild===e){while(t&&!o.isBlock(t)){if(t.parentNode.lastChild!==t||t===n){return}t=t.parentNode}o.add(t,"br",{"data-mce-bogus":1})}}))};e.on("SetContent ExecCommand",(function(e){if(e.type==="setcontent"||e.command==="mceInsertLink"){n()}}))};var D=function(){if(kv(e)){e.on("init",(function(){v("DefaultParagraphSeparator",kv(e))}))}};var A=function(){e.on("keyup focusin mouseup",(function(e){if(!tp.modifierPressed(e)){a.normalize()}}),true)};var N=function(){e.contentStyles.push("img:-moz-broken {"+"-moz-force-broken-image-icon:1;"+"min-width:24px;"+"min-height:24px"+"}")};var M=function(){if(!e.inline){e.on("keydown",(function(){if(document.activeElement===document.body){e.getWin().focus()}}))}};var R=function(){if(!e.inline){e.contentStyles.push("body {min-height: 150px}");e.on("click",(function(t){var n;if(t.target.nodeName==="HTML"){if(en.ie>11){e.getBody().focus();return}n=e.selection.getRng();e.getBody().focus();e.selection.setRng(n);e.selection.normalize();e.nodeChanged()}}))}};var z=function(){if(en.mac){e.on("keydown",(function(t){if(tp.metaKeyPressed(t)&&!t.shiftKey&&(t.keyCode===37||t.keyCode===39)){t.preventDefault();var n=e.selection.getSel();n.modify("move",t.keyCode===37?"backward":"forward","lineboundary")}}))}};var B=function(){v("AutoUrlDetect",false)};var P=function(){e.on("click",(function(e){var t=e.target;do{if(t.tagName==="A"){e.preventDefault();return}}while(t=t.parentNode)}));e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")};var L=function(){e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(e){e.preventDefault()}))}))};var H=function(){i.addNodeFilter("br",(function(e){var t=e.length;while(t--){if(e[t].attr("class")==="Apple-interchange-newline"){e[t].remove()}}}))};var I=function(){e.on("dragstart",(function(e){m(e)}));e.on("drop",(function(t){if(!d(t)){var n=g(t);if(n&&n.id!==e.id){t.preventDefault();var r=cp(t.x,t.y,e.getDoc());a.setRng(r);h(n.html,true)}}}))};var F=_;var V=function(){if(!u||e.removed){return false}var t=e.selection.getSel();return!t||!t.rangeCount||t.rangeCount===0};var U=function(){if(f){y();C();L();b();if(en.iOS){M();R();P()}}if(u){x();O();N();z()}};var j=function(){T();p();if(!en.windowsPhone){A()}if(f){y();C();D();L();k();H();if(en.iOS){M();R();P()}else{b()}}if(en.ie>=11){R();k()}if(en.ie){b();B();I()}if(u){w();x();S();O();E();N();z();k()}};if(IO(e)){U()}else{j()}return{refreshContentEditable:F,isHidden:V}};var iH=Uf.DOM;var uH=function(e,t){var n=wn.fromDom(e.getBody());var r=dr(vr(n));var o=wn.fromTag("style");po(o,"type","text/css");xr(o,wn.fromText(t));xr(r,o);e.on("remove",(function(){Or(o)}))};var cH=function(e){return e.inline?e.getElement().nodeName.toLowerCase():undefined};var fH=function(e){return Ee(e,(function(e){return C(e)===false}))};var sH=function(e){var t=e.settings;return fH({block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements,padd_empty_block_inline_children:t.format_empty_lines})};var lH=function(e){var t=e.settings;var n=e.editorUpload.blobCache;return fH({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:cH(e),validate:true,blob_cache:n,document:e.getDoc(),images_dataimg_filter:t.images_dataimg_filter})};var vH=function(e){var t=e.settings;return We(We(We({},lH(e)),sH(e)),fH({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before}))};var dH=function(e){var t=cE(lH(e),e.schema);t.addAttributeFilter("src,href,style,tabindex",(function(t,n){var r=t.length,o,a;var i=e.dom;var u="data-mce-"+n;while(r--){o=t[r];a=o.attr(n);if(a&&!o.attr(u)){if(a.indexOf("data:")===0||a.indexOf("blob:")===0){continue}if(n==="style"){a=i.serializeStyle(i.parseStyle(a),o.name);if(!a.length){a=null}o.attr(u,a);o.attr(n,a)}else if(n==="tabindex"){o.attr(u,a);o.attr(n,null)}else{o.attr(u,e.convertURL(a,n,o.name))}}}}));t.addNodeFilter("script",(function(e){var t=e.length;while(t--){var n=e[t];var r=n.attr("type")||"no/type";if(r.indexOf("mce-")!==0){n.attr("type","mce-"+r)}}}));if(e.settings.preserve_cdata){t.addNodeFilter("#cdata",(function(t){var n=t.length;while(n--){var r=t[n];r.type=8;r.name="#comment";r.value="[CDATA["+e.dom.encode(r.value)+"]]"}}))}t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(t){var n=t.length;var r=e.schema.getNonEmptyElements();while(n--){var o=t[n];if(o.isEmpty(r)&&o.getAll("br").length===0){o.append(new Dy("br",1)).shortEnded=true}}}));return t};var mH=function(e){if(e.settings.auto_focus){ba.setEditorTimeout(e,(function(){var t;if(e.settings.auto_focus===true){t=e}else{t=e.editorManager.get(e.settings.auto_focus)}if(!t.destroyed){t.focus()}}),100)}};var gH=function(e){var t=e.dom.getRoot();if(!e.inline&&(!Th(e)||e.selection.getStart(true)===t)){Jm(t).each((function(t){var n=t.getNode();var r=Yr(n)?Jm(n).getOr(t):t;if(en.browser.isIE()){Lb(e,r.toRange())}else{e.selection.setRng(r.toRange())}}))}};var hH=function(e){e.bindPendingEventDelegates();e.initialized=true;Yh(e);e.focus(true);gH(e);e.nodeChanged({initial:true});e.execCallback("init_instance_callback",e);mH(e)};var pH=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader};var bH=function(e,t,n){var r=[new sa((function(n,r){return pH(e).loadAll(t,n,r)}))];if(e.inline){return r}else{return r.concat([new sa((function(t,r){return e.ui.styleSheetLoader.loadAll(n,t,r)}))])}};var yH=function(e){var t=pH(e);var n=Xv(e);var r=e.contentCSS;var o=function(){t.unloadAll(r);if(!e.inline){e.ui.styleSheetLoader.unloadAll(n)}};var a=function(){if(e.removed){o()}else{e.on("remove",o)}};if(e.contentStyles.length>0){var i="";mn.each(e.contentStyles,(function(e){i+=e+"\r\n"}));e.dom.addStyle(i)}var u=sa.all(bH(e,r,n)).then(a).catch(a);if(e.settings.content_style){uH(e,e.settings.content_style)}return u};var wH=function(e){var t=e.settings,n=e.getDoc(),r=e.getBody();Kh(e);if(!t.browser_spellcheck&&!t.gecko_spellcheck){n.body.spellcheck=false;iH.setAttrib(r,"spellcheck","false")}e.quirks=aH(e);Xh(e);var o=Yv(e);if(o!==undefined){r.dir=o}if(t.protect){e.on("BeforeSetContent",(function(e){mn.each(t.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))}))}e.on("SetContent",(function(){e.addVisual(e.getBody())}));e.on("compositionstart compositionend",(function(t){e.composing=t.type==="compositionstart"}))};var xH=function(e){if(!IO(e)){e.load({initial:true,format:"html"})}e.startContent=e.getContent({format:"raw"})};var CH=function(e){if(e.removed!==true){xH(e);hH(e)}};var SH=function(e,t){var n=e.settings;var r=e.getElement();var o=e.getDoc();if(!n.inline){e.getElement().style.visibility=e.orgVisibility}if(!t&&!e.inline){o.open();o.write(e.iframeHTML);o.close()}if(e.inline){iH.addClass(r,"mce-content-body");e.contentDocument=o=document;e.contentWindow=window;e.bodyElement=r;e.contentAreaContainer=r}var a=e.getBody();a.disabled=true;e.readonly=!!n.readonly;if(!e.readonly){if(e.inline&&iH.getStyle(a,"position",true)==="static"){a.style.position="relative"}a.contentEditable=e.getParam("content_editable_state",true)}a.disabled=false;e.editorUpload=iA(e);e.schema=Su(sH(e));e.dom=Uf(o,{keep_values:true,url_converter:e.convertURL,url_converter_scope:e,hex_colors:n.force_hex_style_colors,update_styles:true,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:Uv(e),referrerPolicy:jv(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}});e.parser=dH(e);e.serializer=xE(vH(e),e);e.selection=A_(e.dom,e.getWin(),e.serializer,e);e.annotator=Lh(e);e.formatter=hA(e);e.undoManager=wA(e);e._nodeChangeDispatcher=new bL(e);e._selectionOverrides=oH(e);Sz(e);xL(e);if(!IO(e)){kL(e)}var i=pL(e);bz(e,i);Dz(e);EA(e);var u=VO(e);wH(e);u.fold((function(){yH(e).then((function(){return CH(e)}))}),(function(t){e.setProgressState(true);yH(e).then((function(){t().then((function(t){e.setProgressState(false);CH(e)}),(function(t){e.notificationManager.open({type:"error",text:String(t)});CH(e)}))}))}))};var kH=Uf.DOM;var TH=function(e,t){if(document.domain!==window.location.hostname&&en.browser.isIE()){var n=ZD("mce");e[n]=function(){SH(e)};var r="javascript:(function(){"+'document.open();document.domain="'+document.domain+'";'+'var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);'+"document.close();ed."+n+"(true);})()";kH.setAttrib(t,"src",r);return true}return false};var OH=function(e,t,n,r){var o=wn.fromTag("iframe");bo(o,r);bo(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t});Ss(o,"tox-edit-area__iframe");return o};var _H=function(e){var t=bv(e)+"<html><head>";if(yv(e)!==e.documentBaseUrl){t+='<base href="'+e.documentBaseURI.getURI()+'" />'}t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=wv(e);var r=xv(e);var o=e.translate(Ed(e));if(Cv(e)){t+='<meta http-equiv="Content-Security-Policy" content="'+Cv(e)+'" />'}t+="</head>"+('<body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'" aria-label="'+o+'">')+"<br>"+"</body></html>";return t};var EH=function(e,t){var n=e.translate("Rich Text Area");var r=OH(e.id,n,t.height,pv(e)).dom;r.onload=function(){r.onload=null;e.fire("load")};var o=TH(e,r);e.contentAreaContainer=t.iframeContainer;e.iframeElement=r;e.iframeHTML=_H(e);kH.add(t.iframeContainer,r);return o};var DH=function(e,t){var n=EH(e,t);if(t.editorContainer){kH.get(t.editorContainer).style.display=e.orgDisplay;e.hidden=kH.isHidden(t.editorContainer)}e.getElement().style.display="none";kH.setAttrib(e.id,"aria-hidden","true");if(!n){SH(e)}};var AH=Uf.DOM;var NH=function(e,t,n){var r=ND.get(n);var o=ND.urls[n]||e.documentBaseUrl.replace(/\/$/,"");n=mn.trim(n);if(r&&mn.inArray(t,n)===-1){mn.each(ND.dependencies(n),(function(n){NH(e,t,n)}));if(e.plugins[n]){return}try{var a=new r(e,o,e.$);e.plugins[n]=a;if(a.init){a.init(e,o);t.push(n)}}catch(t){jD(e,n,t)}}};var MH=function(e){return e.replace(/^\-/,"")};var RH=function(e){var t=[];mn.each(Cd(e).split(/[ ,]/),(function(n){NH(e,t,MH(n))}))};var zH=function(e){var t=mn.trim(Pv(e));var n=e.ui.registry.getAll().icons;var r=We(We({},hD.get("default").icons),hD.get(t).icons);Ce(r,(function(t,r){if(!Me(n,r)){e.ui.registry.addIcon(r,t)}}))};var BH=function(e){var t=rd(e);if(p(t)){e.settings.theme=MH(t);var n=MD.get(t);e.theme=new n(e,MD.urls[t]);if(e.theme.init){e.theme.init(e,MD.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}}else{e.theme={}}};var PH=function(e){return e.theme.renderUI()};var LH=function(e){var t=e.getElement();var n=rd(e);var r=n(e,t);if(r.editorContainer.nodeType){r.editorContainer.id=r.editorContainer.id||e.id+"_parent"}if(r.iframeContainer&&r.iframeContainer.nodeType){r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"}r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight;return r};var HH=function(e){return{editorContainer:e,iframeContainer:e,api:{}}};var IH=function(e){var t=AH.create("div");AH.insertAfter(t,e);return HH(t)};var FH=function(e){var t=e.getElement();return e.inline?HH(null):IH(t)};var VH=function(e){var t=e.getElement();e.orgDisplay=t.style.display;if(p(rd(e))){return PH(e)}else if(T(rd(e))){return LH(e)}else{return FH(e)}};var UH=function(e,t){var n={show:W.from(t.show).getOr(_),hide:W.from(t.hide).getOr(_),disable:W.from(t.disable).getOr(_),isDisabled:W.from(t.isDisabled).getOr(H),enable:function(){if(!e.mode.isReadOnly()){W.from(t.enable).map(L)}}};e.ui=We(We({},e.ui),n)};var jH=function(e){e.fire("ScriptsLoaded");zH(e);BH(e);RH(e);var t=VH(e);UH(e,W.from(t.api).getOr({}));var n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};e.editorContainer=n.editorContainer?n.editorContainer:null;XD(e);if(e.inline){return SH(e)}else{return DH(e,n)}};var WH=Uf.DOM;var qH=function(e){return e.charAt(0)==="-"};var GH=function(e,t){var n=Wv(t);var r=qv(t);if(ss.hasCode(n)===false&&n!=="en"){var o=r!==""?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(o,_,undefined,(function(){UD(t,o,n)}))}};var $H=function(e,t,n,r){var o=rd(t);if(p(o)){if(!qH(o)&&!Me(MD.urls,o)){var a=sd(t);if(a){MD.load(o,t.documentBaseURI.toAbsolute(a))}else{MD.load(o,"themes/"+o+"/theme"+n+".js")}}e.loadQueue((function(){MD.waitFor(o,r)}))}else{r()}};var KH=function(e){return W.from(Lv(e)).filter((function(e){return e.length>0})).map((function(e){return{url:e,name:W.none()}}))};var XH=function(e,t,n){return W.from(t).filter((function(e){return e.length>0&&!hD.has(e)})).map((function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+n+".js",name:W.some(t)}}))};var YH=function(e,t,n){var r=XH(t,"default",n);var o=KH(t).orThunk((function(){return XH(t,Pv(t),"")}));Z(so([r,o]),(function(n){e.add(n.url,_,undefined,(function(){VD(t,n.url,n.name.getOrUndefined())}))}))};var JH=function(e,t){mn.each(Sd(e),(function(t,n){ND.load(n,t,_,undefined,(function(){FD(e,t,n)}));e.settings.plugins+=" "+n}));mn.each(Cd(e).split(/[ ,]/),(function(n){n=mn.trim(n);if(n&&!ND.urls[n]){if(qH(n)){n=n.substr(1,n.length);var r=ND.dependencies(n);mn.each(r,(function(n){var r={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};var o=ND.createUrl(r,n);ND.load(o.resource,o,_,undefined,(function(){FD(e,o.prefix+o.resource+o.suffix,o.resource)}))}))}else{var o={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};ND.load(n,o,_,undefined,(function(){FD(e,o.prefix+o.resource+o.suffix,n)}))}}}))};var QH=function(e,t){var n=Yf.ScriptLoader;$H(n,e,t,(function(){GH(n,e);YH(n,e,t);JH(e,t);n.loadQueue((function(){if(!e.removed){jH(e)}}),e,(function(){if(!e.removed){jH(e)}}))}))};var ZH=function(e,t){return xa.forElement(e,{contentCssCors:xd(t),referrerPolicy:jv(t)})};var eI=function(e){var t=e.id;ss.setCode(Wv(e));var n=function(){WH.unbind(window,"ready",n);e.render()};if(!Iu.Event.domLoaded){WH.bind(window,"ready",n);return}if(!e.getElement()){return}if(!en.contentEditable){return}var r=wn.fromDom(e.getElement());var o=So(r);e.on("remove",(function(){ee(r.dom.attributes,(function(e){return Co(r,e.name)}));bo(r,o)}));e.ui.styleSheetLoader=ZH(r,e);if(!ld(e)){e.orgVisibility=e.getElement().style.visibility;e.getElement().style.visibility="hidden"}else{e.inline=true}var a=e.getElement().form||WH.getParent(t,"form");if(a){e.formElement=a;if(vd(e)&&!Qr(e.getElement())){WH.insertAfter(WH.create("input",{type:"hidden",name:t}),t);e.hasHiddenInput=true}e.formEventDelegate=function(t){e.fire(t.type,t)};WH.bind(a,"submit reset",e.formEventDelegate);e.on("reset",(function(){e.resetContent()}));if(dd(e)&&!a.submit.nodeType&&!a.submit.length&&!a._mceOldSubmit){a._mceOldSubmit=a.submit;a.submit=function(){e.editorManager.triggerSave();e.setDirty(false);return a._mceOldSubmit(a)}}}e.windowManager=zD(e);e.notificationManager=AD(e);if(md(e)){e.on("GetContent",(function(e){if(e.save){e.content=WH.encode(e.content)}}))}if(gd(e)){e.on("submit",(function(){if(e.initialized){e.save()}}))}if(hd(e)){e._beforeUnload=function(){if(e.initialized&&!e.destroyed&&!e.isHidden()){e.save({format:"raw",no_events:true,set_dirty:false})}};e.editorManager.on("BeforeUnload",e._beforeUnload)}e.editorManager.add(e);QH(e,e.suffix)};var tI=function(e,t){return m_(e,t)};var nI={"font-size":"size","font-family":"face"};var rI=function(e,t,n){var r=function(t){return Eo(t,e).orThunk((function(){if(Ln(t)==="font"){return Ne(nI,e).bind((function(e){return wo(t,e)}))}else{return W.none()}}))};var o=function(e){return Rn(wn.fromDom(t),e)};return PS(wn.fromDom(n),(function(e){return r(e)}),o)};var oI=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")};var aI=function(e,t){return W.from(Uf.DOM.getStyle(t,e,true))};var iI=function(e){return function(t,n){return W.from(n).map(wn.fromDom).filter(Vn).bind((function(n){return rI(e,t,n.dom).or(aI(e,n.dom))})).getOr("")}};var uI=iI("font-size");var cI=E(oI,iI("font-family"));var fI=function(e){return Jm(e.getBody()).map((function(e){var t=e.container();return Zr(t)?t.parentNode:t}))};var sI=function(e){return W.from(e.selection.getRng()).bind((function(t){var n=e.getBody();var r=t.startContainer===n&&t.startOffset===0;return r?W.none():W.from(e.selection.getStart(true))}))};var lI=function(e,t){return sI(e).orThunk(R(fI,e)).map(wn.fromDom).filter(Vn).bind(t)};var vI=function(e,t){return lI(e,D(W.some,t))};var dI=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=Av(e);var o=Nv(e);if(o){return o[n-1]||t}else{return r[n-1]||t}}else{return t}}else{return t}};var mI=function(e){var t=e.split(/\s*,\s*/);return Q(t,(function(e){if(e.indexOf(" ")!==-1&&!(ft(e,'"')||ft(e,"'"))){return"'"+e+"'"}else{return e}})).join(",")};var gI=function(e,t){var n=dI(e,t);e.formatter.toggle("fontname",{value:mI(n)});e.nodeChanged()};var hI=function(e){return vI(e,(function(t){return cI(e.getBody(),t.dom)})).getOr("")};var pI=function(e,t){e.formatter.toggle("fontsize",{value:dI(e,t)});e.nodeChanged()};var bI=function(e){return vI(e,(function(t){return uI(e.getBody(),t.dom)})).getOr("")};var yI=function(e){return vI(e,(function(t){var n=wn.fromDom(e.getBody());var r=PS(t,(function(e){return Eo(e,"line-height")}),R(Rn,n));var o=function(){var e=parseFloat(Oo(t,"line-height"));var n=parseFloat(Oo(t,"font-size"));return String(e/n)};return r.getOrThunk(o)})).getOr("")};var wI=function(e,t){e.formatter.toggle("lineheight",{value:String(t)});e.nodeChanged()};var xI=function(e){if(typeof e!=="string"){var t=mn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}};var CI=function(e,t){var n=xI(t);v_(e,n.content,n.details)};var SI=mn.each;var kI=mn.map,TI=mn.inArray;var OI=function(){function e(e){this.commands={state:{},exec:{},value:{}};this.editor=e;this.setupCommands(e)}e.prototype.execCommand=function(e,t,n,r){var o,a=false;var i=this;if(i.editor.removed){return}if(e.toLowerCase()!=="mcefocus"){if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)&&(!r||!r.skip_focus)){i.editor.focus()}else{Ib(i.editor)}}r=i.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n});if(r.isDefaultPrevented()){return false}var u=e.toLowerCase();if(o=i.commands.exec[u]){o(u,t,n);i.editor.fire("ExecCommand",{command:e,ui:t,value:n});return true}SI(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(e,t,n)){i.editor.fire("ExecCommand",{command:e,ui:t,value:n});a=true;return false}}));if(a){return a}if(i.editor.theme&&i.editor.theme.execCommand&&i.editor.theme.execCommand(e,t,n)){i.editor.fire("ExecCommand",{command:e,ui:t,value:n});return true}try{a=i.editor.getDoc().execCommand(e,t,n)}catch(e){}if(a){i.editor.fire("ExecCommand",{command:e,ui:t,value:n});return true}return false};e.prototype.queryCommandState=function(e){var t;if(this.editor.quirks.isHidden()||this.editor.removed){return}e=e.toLowerCase();if(t=this.commands.state[e]){return t(e)}try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return false};e.prototype.queryCommandValue=function(e){var t;if(this.editor.quirks.isHidden()||this.editor.removed){return}e=e.toLowerCase();if(t=this.commands.value[e]){return t(e)}try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}};e.prototype.addCommands=function(e,t){if(t===void 0){t="exec"}var n=this;SI(e,(function(e,r){SI(r.toLowerCase().split(","),(function(r){n.commands[t][r]=e}))}))};e.prototype.addCommand=function(e,t,n){var r=this;e=e.toLowerCase();this.commands.exec[e]=function(e,o,a,i){return t.call(n||r.editor,o,a,i)}};e.prototype.queryCommandSupported=function(e){e=e.toLowerCase();if(this.commands.exec[e]){return true}try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return false};e.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase();this.commands.state[e]=function(){return t.call(n||r.editor)}};e.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase();this.commands.value[e]=function(){return t.call(n||r.editor)}};e.prototype.hasCustomCommand=function(e){e=e.toLowerCase();return!!this.commands.exec[e]};e.prototype.execNativeCommand=function(e,t,n){if(t===undefined){t=false}if(n===undefined){n=null}return this.editor.getDoc().execCommand(e,t,n)};e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)};e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t);this.editor.nodeChanged()};e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)};e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)};e.prototype.setupCommands=function(e){var t=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":_,"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},mceFocus:function(t,n,r){hy(e,r)},"Cut,Copy,Paste":function(n){var r=e.getDoc();var o;try{t.execNativeCommand(n)}catch(e){o=true}if(n==="paste"&&!r.queryCommandEnabled(n)){o=true}if(o||!r.queryCommandSupported(n)){var a=e.translate("Your browser doesn't support direct access to the clipboard. "+"Please use the Ctrl+X/C/V keyboard shortcuts instead.");if(en.mac){a=a.replace(/Ctrl\+/g,"+")}e.notificationManager.open({text:a,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");if(t){e.dom.remove(t,true)}return}e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);if(r==="full"){r="justify"}SI("left,center,right,justify".split(","),(function(t){if(r!==t){e.formatter.remove("align"+t)}}));if(r!=="none"){t.toggleFormat("align"+r)}},"InsertUnorderedList,InsertOrderedList":function(n){var r;t.execNativeCommand(n);var o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){r=o.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){t.storeSelection();e.dom.split(r,o);t.restoreSelection()}}},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,r){t.toggleFormat(e,{value:r})},FontName:function(t,n,r){gI(e,r)},FontSize:function(t,n,r){pI(e,r)},LineHeight:function(t,n,r){wI(e,r)},Lang:function(e,n,r){t.toggleFormat(e,{value:r.code,customValue:r.customCode})},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,r){return t.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent());e.selection.moveToBookmark(t)},mceRemoveNode:function(n,r,o){var a=o||e.selection.getNode();if(a!==e.getBody()){t.storeSelection();e.dom.remove(a,true);t.restoreSelection()}},mceSelectNodeDepth:function(t,n,r){var o=0;e.dom.getParent(e.selection.getNode(),(function(t){if(t.nodeType===1&&o++===r){e.selection.select(t);return false}}),e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){CI(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(t,n,r){$P(e,r)},mceToggleFormat:function(e,n,r){t.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){dz(e,t)},mceRepaint:_,InsertHorizontalRule:function(){e.execCommand("mceInsertContent",false,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual;e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",false,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){if(typeof r==="string"){r={href:r}}var o=e.dom.getParent(e.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20");if(!o||!r.href){e.formatter.remove("link")}if(r.href){e.formatter.apply("link",r,o)}},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),ao);if(t){var n=e.dom.createRng();n.selectNodeContents(t);e.selection.setRng(n)}},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){AP(e,r);return true}});var n=function(t){return function(){var n=e.selection;var r=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks();var o=kI(r,(function(n){return!!e.formatter.matchNode(n,t)}));return TI(o,true)!==-1}};t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return fz(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&(t==="insertunorderedlist"&&n.tagName==="UL"||t==="insertorderedlist"&&n.tagName==="OL")}},"state");t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}});t.addQueryValueHandler("FontName",(function(){return hI(e)}),this);t.addQueryValueHandler("FontSize",(function(){return bI(e)}),this);t.addQueryValueHandler("LineHeight",(function(){return yI(e)}),this)};return e}();var _I="data-mce-contenteditable";var EI=function(e,t,n){if(Os(e,t)&&n===false){Ts(e,t)}else if(n){Ss(e,t)}};var DI=function(e,t,n){try{e.getDoc().execCommand(t,false,String(n))}catch(e){}};var AI=function(e,t){e.dom.contentEditable=t?"true":"false"};var NI=function(e){Z(Es(e,'*[contenteditable="true"]'),(function(e){po(e,_I,"true");AI(e,false)}))};var MI=function(e){Z(Es(e,"*["+_I+'="true"]'),(function(e){Co(e,_I);AI(e,true)}))};var RI=function(e){W.from(e.selection.getNode()).each((function(e){e.removeAttribute("data-mce-selected")}))};var zI=function(e){e.selection.setRng(e.selection.getRng())};var BI=function(e,t){var n=wn.fromDom(e.getBody());EI(n,"mce-content-readonly",t);if(t){e.selection.controlSelection.hideResizeRect();e._selectionOverrides.hideFakeCaret();RI(e);e.readonly=true;AI(n,false);NI(n)}else{e.readonly=false;AI(n,true);MI(n);DI(e,"StyleWithCSS",false);DI(e,"enableInlineTableEditing",false);DI(e,"enableObjectResizing",false);if(dy(e)){e.focus()}zI(e);e.nodeChanged()}};var PI=function(e){return e.readonly};var LI=function(e){e.parser.addAttributeFilter("contenteditable",(function(t){if(PI(e)){Z(t,(function(e){e.attr(_I,e.attr("contenteditable"));e.attr("contenteditable","false")}))}}));e.serializer.addAttributeFilter(_I,(function(t){if(PI(e)){Z(t,(function(e){e.attr("contenteditable",e.attr(_I))}))}}));e.serializer.addTempAttr(_I)};var HI=function(e){if(e.serializer){LI(e)}else{e.on("PreInit",(function(){LI(e)}))}};var II=function(e){return e.type==="click"};var FI=function(e,t){var n=function(t){return Rn(t,wn.fromDom(e.getBody()))};return fa(t,"a",n).bind((function(e){return wo(e,"href")}))};var VI=function(e,t){if(II(t)&&!tp.metaKeyPressed(t)){var n=wn.fromDom(t.target);FI(e,n).each((function(n){t.preventDefault();if(/^#/.test(n)){var r=e.dom.select(n+',[name="'+ut(n,"#")+'"]');if(r.length){e.selection.scrollIntoView(r[0],true)}}else{window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}}))}};var UI=function(e){e.on("ShowCaret",(function(t){if(PI(e)){t.preventDefault()}}));e.on("ObjectSelected",(function(t){if(PI(e)){t.preventDefault()}}))};var jI=mn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange "+"mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover "+"draggesture dragdrop drop drag submit "+"compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");var WI=function(){function e(e){this.bindings={};this.settings=e||{};this.scope=this.settings.scope||this;this.toggleEvent=this.settings.toggleEvent||H}e.isNative=function(e){return!!jI[e.toLowerCase()]};e.prototype.fire=function(e,t){var n=e.toLowerCase();var r=Nu(n,t||{},this.scope);if(this.settings.beforeFire){this.settings.beforeFire(r)}var o=this.bindings[n];if(o){for(var a=0,i=o.length;a<i;a++){var u=o[a];if(u.removed){continue}if(u.once){this.off(n,u.func)}if(r.isImmediatePropagationStopped()){return r}if(u.func.call(this.scope,r)===false){r.preventDefault();return r}}}return r};e.prototype.on=function(e,t,n,r){if(t===false){t=H}if(t){var o={func:t,removed:false};if(r){mn.extend(o,r)}var a=e.toLowerCase().split(" ");var i=a.length;while(i--){var u=a[i];var c=this.bindings[u];if(!c){c=[];this.toggleEvent(u,true)}if(n){c=Ge([o],c,true)}else{c=Ge(Ge([],c,true),[o],false)}this.bindings[u]=c}}return this};e.prototype.off=function(e,t){var n=this;if(e){var r=e.toLowerCase().split(" ");var o=r.length;while(o--){var a=r[o];var i=this.bindings[a];if(!a){Ce(this.bindings,(function(e,t){n.toggleEvent(t,false);delete n.bindings[t]}));return this}if(i){if(!t){i.length=0}else{var u=te(i,(function(e){return e.func===t}));i=u.fail;this.bindings[a]=i;Z(u.pass,(function(e){e.removed=true}))}if(!i.length){this.toggleEvent(e,false);delete this.bindings[a]}}}}else{Ce(this.bindings,(function(e,t){n.toggleEvent(t,false)}));this.bindings={}}return this};e.prototype.once=function(e,t,n){return this.on(e,t,n,{once:true})};e.prototype.has=function(e){e=e.toLowerCase();return!(!this.bindings[e]||this.bindings[e].length===0)};return e}();var qI=function(e){if(!e._eventDispatcher){e._eventDispatcher=new WI({scope:e,toggleEvent:function(t,n){if(WI.isNative(t)&&e.toggleNativeEvent){e.toggleNativeEvent(t,n)}}})}return e._eventDispatcher};var GI={fire:function(e,t,n){var r=this;if(r.removed&&e!=="remove"&&e!=="detach"){return t}var o=qI(r).fire(e,t);if(n!==false&&r.parent){var a=r.parent();while(a&&!o.isPropagationStopped()){a.fire(e,o,false);a=a.parent()}}return o},on:function(e,t,n){return qI(this).on(e,t,n)},off:function(e,t){return qI(this).off(e,t)},once:function(e,t){return qI(this).once(e,t)},hasEventListeners:function(e){return qI(this).has(e)}};var $I=Uf.DOM;var KI;var XI=function(e,t){if(t==="selectionchange"){return e.getDoc()}if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)){return e.getDoc().documentElement}var n=td(e);if(n){if(!e.eventRoot){e.eventRoot=$I.select(n)[0]}return e.eventRoot}return e.getBody()};var YI=function(e){return!e.hidden&&!PI(e)};var JI=function(e,t,n){if(YI(e)){e.fire(t,n)}else if(PI(e)){VI(e,n)}};var QI=function(e,t){var n;if(!e.delegates){e.delegates={}}if(e.delegates[t]||e.removed){return}var r=XI(e,t);if(td(e)){if(!KI){KI={};e.editorManager.on("removeEditor",(function(){if(!e.editorManager.activeEditor){if(KI){Ce(KI,(function(t,n){e.dom.unbind(XI(e,n))}));KI=null}}}))}if(KI[t]){return}n=function(n){var r=n.target;var o=e.editorManager.get();var a=o.length;while(a--){var i=o[a].getBody();if(i===r||$I.isChildOf(r,i)){JI(o[a],t,n)}}};KI[t]=n;$I.bind(r,t,n)}else{n=function(n){JI(e,t,n)};$I.bind(r,t,n);e.delegates[t]=n}};var ZI=We(We({},GI),{bindPendingEventDelegates:function(){var e=this;mn.each(e._pendingNativeEvents,(function(t){QI(e,t)}))},toggleNativeEvent:function(e,t){var n=this;if(e==="focus"||e==="blur"){return}if(n.removed){return}if(t){if(n.initialized){QI(n,e)}else{if(!n._pendingNativeEvents){n._pendingNativeEvents=[e]}else{n._pendingNativeEvents.push(e)}}}else if(n.initialized){n.dom.unbind(XI(n,e),e,n.delegates[e]);delete n.delegates[e]}},unbindAllNativeEvents:function(){var e=this;var t=e.getBody();var n=e.dom;if(e.delegates){Ce(e.delegates,(function(t,n){e.dom.unbind(XI(e,n),n,t)}));delete e.delegates}if(!e.inline&&t&&n){t.onload=null;n.unbind(e.getWin());n.unbind(e.getDoc())}if(n){n.unbind(t);n.unbind(e.getContainer())}}});var eF=["design","readonly"];var tF=function(e,t,n,r){var o=n[t.get()];var a=n[r];try{a.activate()}catch(e){console.error("problem while activating editor mode "+r+":",e);return}o.deactivate();if(o.editorReadOnly!==a.editorReadOnly){BI(e,a.editorReadOnly)}t.set(r);qh(e,r)};var nF=function(e,t,n,r){if(r===n.get()){return}else if(!Me(t,r)){throw new Error("Editor mode '"+r+"' is invalid")}if(e.initialized){tF(e,n,t,r)}else{e.on("init",(function(){return tF(e,n,t,r)}))}};var rF=function(e,t,n){var r;if(Y(eF,t)){throw new Error("Cannot override default mode "+t)}return We(We({},e),(r={},r[t]=We(We({},n),{deactivate:function(){try{n.deactivate()}catch(e){console.error("problem while deactivating editor mode "+t+":",e)}}}),r))};var oF=function(e){var t=Jf("design");var n=Jf({design:{activate:_,deactivate:_,editorReadOnly:false},readonly:{activate:_,deactivate:_,editorReadOnly:true}});HI(e);UI(e);return{isReadOnly:function(){return PI(e)},set:function(r){return nF(e,n.get(),t,r)},get:function(){return t.get()},register:function(e,t){n.set(rF(n.get(),e,t))}}};var aF=mn.each,iF=mn.explode;var uF={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123};var cF=mn.makeMap("alt,ctrl,shift,meta,access");var fF=function(e){var t;var n={};aF(iF(e.toLowerCase(),"+"),(function(e){if(e in cF){n[e]=true}else{if(/^[0-9]{2,}$/.test(e)){n.keyCode=parseInt(e,10)}else{n.charCode=e.charCodeAt(0);n.keyCode=uF[e]||e.toUpperCase().charCodeAt(0)}}}));var r=[n.keyCode];for(t in cF){if(n[t]){r.push(t)}else{n[t]=false}}n.id=r.join(",");if(n.access){n.alt=true;if(en.mac){n.ctrl=true}else{n.shift=true}}if(n.meta){if(en.mac){n.meta=true}else{n.ctrl=true;n.meta=false}}return n};var sF=function(){function e(e){this.shortcuts={};this.pendingPatterns=[];this.editor=e;var t=this;e.on("keyup keypress keydown",(function(e){if((t.hasModifier(e)||t.isFunctionKey(e))&&!e.isDefaultPrevented()){aF(t.shortcuts,(function(n){if(t.matchShortcut(e,n)){t.pendingPatterns=n.subpatterns.slice(0);if(e.type==="keydown"){t.executeShortcutAction(n)}return true}}));if(t.matchShortcut(e,t.pendingPatterns[0])){if(t.pendingPatterns.length===1){if(e.type==="keydown"){t.executeShortcutAction(t.pendingPatterns[0])}}t.pendingPatterns.shift()}}}))}e.prototype.add=function(e,t,n,r){var o=this;var a=o.normalizeCommandFunc(n);aF(iF(mn.trim(e)),(function(e){var n=o.createShortcut(e,t,a,r);o.shortcuts[n.id]=n}));return true};e.prototype.remove=function(e){var t=this.createShortcut(e);if(this.shortcuts[t.id]){delete this.shortcuts[t.id];return true}return false};e.prototype.normalizeCommandFunc=function(e){var t=this;var n=e;if(typeof n==="string"){return function(){t.editor.execCommand(n,false,null)}}else if(mn.isArray(n)){return function(){t.editor.execCommand(n[0],n[1],n[2])}}else{return n}};e.prototype.createShortcut=function(e,t,n,r){var o=mn.map(iF(e,">"),fF);o[o.length-1]=mn.extend(o[o.length-1],{func:n,scope:r||this.editor});return mn.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})};e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey};e.prototype.isFunctionKey=function(e){return e.type==="keydown"&&e.keyCode>=112&&e.keyCode<=123};e.prototype.matchShortcut=function(e,t){if(!t){return false}if(t.ctrl!==e.ctrlKey||t.meta!==e.metaKey){return false}if(t.alt!==e.altKey||t.shift!==e.shiftKey){return false}if(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode){e.preventDefault();return true}return false};e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null};return e}();var lF=function(){var e={};var t={};var n={};var r={};var o={};var a={};var i={};var u=function(e,t){return function(n,r){return e[n.toLowerCase()]=We(We({},r),{type:t})}};var c=function(e,t){return r[e.toLowerCase()]=t};return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(o,"contextmenu"),addContextToolbar:u(a,"contexttoolbar"),addContextForm:u(a,"contextform"),addSidebar:u(i,"sidebar"),addIcon:c,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:a,sidebars:i}}}};var vF=function(){var e=lF();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}};var dF=Uf.DOM;var mF=mn.extend,gF=mn.each;var hF=mn.resolve;var pF=en.ie;var bF=function(){function e(e,t,n){var r=this;this.plugins={};this.contentCSS=[];this.contentStyles=[];this.loadedCSS={};this.isNotDirty=false;this.editorManager=n;this.documentBaseUrl=n.documentBaseURL;mF(this,ZI);this.settings=sD(this,e,this.documentBaseUrl,n.defaultSettings,t);if(this.settings.suffix){n.suffix=this.settings.suffix}this.suffix=n.suffix;if(this.settings.base_url){n._setBaseUrl(this.settings.base_url)}this.baseUri=n.baseURI;if(this.settings.referrer_policy){Yf.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy);Uf.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)}ls.languageLoad=this.settings.language_load;ls.baseURL=n.baseURL;this.id=e;this.setDirty(false);this.documentBaseURI=new Fy(this.settings.document_base_url,{base_uri:this.baseUri});this.baseURI=this.baseUri;this.inline=!!this.settings.inline;this.shortcuts=new sF(this);this.editorCommands=new OI(this);if(this.settings.cache_suffix){en.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")}this.ui={registry:vF(),styleSheetLoader:undefined,show:_,hide:_,enable:_,disable:_,isDisabled:H};var o=this;var a=oF(o);this.mode=a;this.setMode=a.set;n.fire("SetupEditor",{editor:this});this.execCallback("setup",this);this.$=zf.overrideDefaults((function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}}))}e.prototype.render=function(){eI(this)};e.prototype.focus=function(e){this.execCommand("mceFocus",false,e)};e.prototype.hasFocus=function(){return vy(this)};e.prototype.execCallback=function(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}var r=this;var o=r.settings[e],a;if(!o){return}if(r.callbackLookup&&(a=r.callbackLookup[e])){o=a.func;a=a.scope}if(typeof o==="string"){a=o.replace(/\.\w+$/,"");a=a?hF(a):0;o=hF(o);r.callbackLookup=r.callbackLookup||{};r.callbackLookup[e]={func:o,scope:a}}return o.apply(a||r,t)};e.prototype.translate=function(e){return ss.translate(e)};e.prototype.getParam=function(e,t,n){return mD(this,e,t,n)};e.prototype.hasPlugin=function(e,t){var n=Y(Cd(this).split(/[ ,]/),e);if(n){return t?ND.get(e)!==undefined:true}else{return false}};e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)};e.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)};e.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)};e.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)};e.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)};e.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)};e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)};e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)};e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)};e.prototype.show=function(){var e=this;if(e.hidden){e.hidden=false;if(e.inline){e.getBody().contentEditable="true"}else{dF.show(e.getContainer());dF.hide(e.id)}e.load();e.fire("show")}};e.prototype.hide=function(){var e=this,t=e.getDoc();if(!e.hidden){if(pF&&t&&!e.inline){t.execCommand("SelectAll")}e.save();if(e.inline){e.getBody().contentEditable="false";if(e===e.editorManager.focusedEditor){e.editorManager.focusedEditor=null}}else{dF.hide(e.getContainer());dF.setStyle(e.id,"display",e.orgDisplay)}e.hidden=true;e.fire("hide")}};e.prototype.isHidden=function(){return!!this.hidden};e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})};e.prototype.load=function(e){var t=this;var n=t.getElement(),r;if(t.removed){return""}if(n){e=e||{};e.load=true;var o=Qr(n)?n.value:n.innerHTML;r=t.setContent(o,e);e.element=n;if(!e.no_events){t.fire("LoadContent",e)}e.element=n=null;return r}};e.prototype.save=function(e){var t=this;var n=t.getElement(),r,o;if(!n||!t.initialized||t.removed){return}e=e||{};e.save=true;e.element=n;r=e.content=t.getContent(e);if(!e.no_events){t.fire("SaveContent",e)}if(e.format==="raw"){t.fire("RawSaveContent",e)}r=e.content;if(!Qr(n)){if(e.is_removing||!t.inline){n.innerHTML=r}if(o=dF.getParent(t.id,"form")){gF(o.elements,(function(e){if(e.name===t.id){e.value=r;return false}}))}}else{n.value=r}e.element=n=null;if(e.set_dirty!==false){t.setDirty(false)}return r};e.prototype.setContent=function(e,t){return kE(this,e,t)};e.prototype.getContent=function(e){return SE(this,e)};e.prototype.insertContent=function(e,t){if(t){e=mF({content:e},t)}this.execCommand("mceInsertContent",false,e)};e.prototype.resetContent=function(e){if(e===undefined){kE(this,this.startContent,{format:"raw"})}else{kE(this,e)}this.undoManager.reset();this.setDirty(false);this.nodeChanged()};e.prototype.isDirty=function(){return!this.isNotDirty};e.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e;if(e&&e!==t){this.fire("dirty")}};e.prototype.getContainer=function(){var e=this;if(!e.container){e.container=dF.get(e.editorContainer||e.id+"_parent")}return e.container};e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer};e.prototype.getElement=function(){if(!this.targetElm){this.targetElm=dF.get(this.id)}return this.targetElm};e.prototype.getWin=function(){var e=this;var t;if(!e.contentWindow){t=e.iframeElement;if(t){e.contentWindow=t.contentWindow}}return e.contentWindow};e.prototype.getDoc=function(){var e=this;var t;if(!e.contentDocument){t=e.getWin();if(t){e.contentDocument=t.document}}return e.contentDocument};e.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)};e.prototype.convertURL=function(e,t,n){var r=this,o=r.settings;if(o.urlconverter_callback){return r.execCallback("urlconverter_callback",e,n,true,t)}if(!o.convert_urls||n&&n.nodeName==="LINK"||e.indexOf("file:")===0||e.length===0){return e}if(o.relative_urls){return r.documentBaseURI.toRelative(e)}e=r.documentBaseURI.toAbsolute(e,o.remove_script_host);return e};e.prototype.addVisual=function(e){tI(this,e)};e.prototype.remove=function(){AE(this)};e.prototype.destroy=function(e){NE(this,e)};e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)};e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()};e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")};e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")};e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")};e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")};return e}();var yF=Uf.DOM;var wF=mn.explode,xF=mn.each,CF=mn.extend;var SF=0,kF=false;var TF;var OF=[];var _F=[];var EF=function(e){return e!=="length"};var DF=function(e){var t=e.type;xF(zF.get(),(function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e);break}}))};var AF=function(e){if(e!==kF){if(e){zf(window).on("resize scroll",DF)}else{zf(window).off("resize scroll",DF)}kF=e}};var NF=function(e){var t=_F;delete OF[e.id];for(var n=0;n<OF.length;n++){if(OF[n]===e){OF.splice(n,1);break}}_F=ne(_F,(function(t){return e!==t}));if(zF.activeEditor===e){zF.activeEditor=_F.length>0?_F[0]:null}if(zF.focusedEditor===e){zF.focusedEditor=null}return t.length!==_F.length};var MF=function(e){if(e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode){NF(e);e.unbindAllNativeEvents();e.destroy(true);e.removed=true;e=null}return e};var RF=document.compatMode!=="CSS1Compat";var zF=We(We({},GI),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:zf,majorVersion:"5",minorVersion:"10.7",releaseDate:"2022-12-06",editors:OF,i18n:ss,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this;var t,n,r="";n=Fy.getDocumentBaseUrl(document.location);if(/^[^:]+:\/\/\/?[^\/]+\//.test(n)){n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(n)){n+="/"}}var o=window.tinymce||window.tinyMCEPreInit;if(o){t=o.base||o.baseURL;r=o.suffix}else{var a=document.getElementsByTagName("script");for(var i=0;i<a.length;i++){var u=a[i].src||"";if(u===""){continue}var c=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){if(c.indexOf(".min")!==-1){r=".min"}t=u.substring(0,u.lastIndexOf("/"));break}}if(!t&&document.currentScript){var u=document.currentScript.src;if(u.indexOf(".min")!==-1){r=".min"}t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new Fy(n).toAbsolute(t);e.documentBaseURL=n;e.baseURI=new Fy(e.baseURL);e.suffix=r;ny(e)},overrideDefaults:function(e){var t=e.base_url;if(t){this._setBaseUrl(t)}var n=e.suffix;if(e.suffix){this.suffix=n}this.defaultSettings=e;var r=e.plugin_base_urls;if(r!==undefined){Ce(r,(function(e,t){ls.PluginManager.urls[t]=e}))}},init:function(e){var t=this;var n;var r=mn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track "+"colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");var o=function(e,t){return e.inline&&t.tagName.toLowerCase()in r};var a=function(e){var t=e.id;if(!t){t=Ne(e,"name").filter((function(e){return!yF.get(e)})).getOrThunk(yF.uniqueId);e.setAttribute("id",t)}return t};var i=function(n){var r=e[n];if(!r){return}return r.apply(t,[])};var u=function(e,t){return t.constructor===RegExp?t.test(e.className):yF.hasClass(e,t)};var c=function(e){var t=[];if(en.browser.isIE()&&en.browser.version.major<11){WD("TinyMCE does not support the browser you are using. For a list of supported"+" browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/");return[]}else if(RF){WD("Failed to initialize the editor as the document is not in standards mode. "+"TinyMCE requires standards mode.");return[]}if(e.types){xF(e.types,(function(e){t=t.concat(yF.select(e.selector))}));return t}else if(e.selector){return yF.select(e.selector)}else if(e.target){return[e.target]}switch(e.mode){case"exact":var n=e.elements||"";if(n.length>0){xF(wF(n),(function(e){var n=yF.get(e);if(n){t.push(n)}else{xF(document.forms,(function(n){xF(n.elements,(function(n){if(n.name===e){e="mce_editor_"+SF++;yF.setAttrib(n,"id",e);t.push(n)}}))}))}}))}break;case"textareas":case"specific_textareas":xF(yF.select("textarea"),(function(n){if(e.editor_deselector&&u(n,e.editor_deselector)){return}if(!e.editor_selector||u(n,e.editor_selector)){t.push(n)}}));break}return t};var f=function(e){n=e};var s=function(){var n=0;var r=[];var u;var l=function(e,o,a){var i=new bF(e,o,t);r.push(i);i.on("init",(function(){if(++n===u.length){f(r)}}));i.targetElm=i.targetElm||a;i.render()};yF.unbind(window,"ready",s);i("onpageload");u=zf.unique(c(e));if(e.types){xF(e.types,(function(t){mn.each(u,(function(n){if(yF.is(n,t.selector)){l(a(n),CF({},e,t),n);return false}return true}))}));return}mn.each(u,(function(e){MF(t.get(e.id))}));u=mn.grep(u,(function(e){return!t.get(e.id)}));if(u.length===0){f([])}else{xF(u,(function(t){if(o(e,t)){WD("Could not initialize inline editor on invalid inline target element",t)}else{l(a(t),e,t)}}))}};t.settings=e;yF.bind(window,"ready",s);return new sa((function(e){if(n){e(n)}else{f=function(t){e(t)}}}))},get:function(e){if(arguments.length===0){return _F.slice(0)}else if(p(e)){return ie(_F,(function(t){return t.id===e})).getOr(null)}else if(O(e)){return _F[e]?_F[e]:null}else{return null}},add:function(e){var t=this;var n=OF[e.id];if(n===e){return e}if(t.get(e.id)===null){if(EF(e.id)){OF[e.id]=e}OF.push(e);_F.push(e)}AF(true);t.activeEditor=e;t.fire("AddEditor",{editor:e});if(!TF){TF=function(e){var n=t.fire("BeforeUnload");if(n.returnValue){e.preventDefault();e.returnValue=n.returnValue;return n.returnValue}};window.addEventListener("beforeunload",TF)}return e},createEditor:function(e,t){return this.add(new bF(e,t,this))},remove:function(e){var t=this;var n,r;if(!e){for(n=_F.length-1;n>=0;n--){t.remove(_F[n])}return}if(p(e)){xF(yF.select(e),(function(e){r=t.get(e.id);if(r){t.remove(r)}}));return}r=e;if(w(t.get(r.id))){return null}if(NF(r)){t.fire("RemoveEditor",{editor:r})}if(_F.length===0){window.removeEventListener("beforeunload",TF)}r.remove();AF(_F.length>0);return r},execCommand:function(e,t,n){var r=this,o=r.get(n);switch(e){case"mceAddEditor":if(!r.get(n)){new bF(n,r.settings,r).render()}return true;case"mceRemoveEditor":if(o){o.remove()}return true;case"mceToggleEditor":if(!o){r.execCommand("mceAddEditor",false,n);return true}if(o.isHidden()){o.show()}else{o.hide()}return true}if(r.activeEditor){return r.activeEditor.execCommand(e,t,n)}return false},triggerSave:function(){xF(_F,(function(e){e.save()}))},addI18n:function(e,t){ss.add(e,t)},translate:function(e){return ss.translate(e)},setActive:function(e){var t=this.activeEditor;if(this.activeEditor!==e){if(t){t.fire("deactivate",{relatedTarget:e})}e.fire("activate",{relatedTarget:t})}this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Fy(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,""));this.baseURI=new Fy(this.baseURL)}});zF.setup();var BF=Math.min,PF=Math.max,LF=Math.round;var HF=function(e,t,n){var r=t.x;var o=t.y;var a=e.w;var i=e.h;var u=t.w;var c=t.h;var f=(n||"").split("");if(f[0]==="b"){o+=c}if(f[1]==="r"){r+=u}if(f[0]==="c"){o+=LF(c/2)}if(f[1]==="c"){r+=LF(u/2)}if(f[3]==="b"){o-=i}if(f[4]==="r"){r-=a}if(f[3]==="c"){o-=LF(i/2)}if(f[4]==="c"){r-=LF(a/2)}return jF(r,o,a,i)};var IF=function(e,t,n,r){var o,a;for(a=0;a<r.length;a++){o=HF(e,t,r[a]);if(o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y){return r[a]}}return null};var FF=function(e,t,n){return jF(e.x-t,e.y-n,e.w+t*2,e.h+n*2)};var VF=function(e,t){var n=PF(e.x,t.x);var r=PF(e.y,t.y);var o=BF(e.x+e.w,t.x+t.w);var a=BF(e.y+e.h,t.y+t.h);if(o-n<0||a-r<0){return null}return jF(n,r,o-n,a-r)};var UF=function(e,t,n){var r=e.x;var o=e.y;var a=e.x+e.w;var i=e.y+e.h;var u=t.x+t.w;var c=t.y+t.h;var f=PF(0,t.x-r);var s=PF(0,t.y-o);var l=PF(0,a-u);var v=PF(0,i-c);r+=f;o+=s;if(n){a+=f;i+=s;r-=l;o-=v}a-=l;i-=v;return jF(r,o,a-r,i-o)};var jF=function(e,t,n,r){return{x:e,y:t,w:n,h:r}};var WF=function(e){return jF(e.left,e.top,e.width,e.height)};var qF={inflate:FF,relativePosition:HF,findBestRelativePosition:IF,intersect:VF,clamp:UF,create:jF,fromClientRect:WF};var GF=function(e,t,n){if(n===void 0){n=1e3}var r=false;var o=null;var a=function(e){return function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}if(!r){r=true;if(o!==null){clearTimeout(o);o=null}e.apply(null,t)}}};var i=a(e);var u=a(t);var c=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(!r&&o===null){o=setTimeout((function(){return u.apply(null,e)}),n)}};return{start:c,resolve:i,reject:u}};var $F=function(){var e={};var t={};var n=function(n,r){var o='Script at URL "'+r+'" failed to load';var a='Script at URL "'+r+"\" did not call `tinymce.Resource.add('"+n+"', data)` within 1 second";if(e[n]!==undefined){return e[n]}else{var i=new sa((function(e,i){var u=GF(e,i);t[n]=u.resolve;Yf.ScriptLoader.loadScript(r,(function(){return u.start(a)}),(function(){return u.reject(o)}))}));e[n]=i;return i}};var r=function(n,r){if(t[n]!==undefined){t[n](r);delete t[n]}e[n]=sa.resolve(r)};return{load:n,add:r}};var KF=$F();var XF=mn.each,YF=mn.extend;var JF,QF;var ZF=function(){};ZF.extend=JF=function(e){var t=this;var n=t.prototype;var r=function(){var e,t,n;var r=this;if(!QF){if(r.init){r.init.apply(r,arguments)}t=r.Mixins;if(t){e=t.length;while(e--){n=t[e];if(n.init){n.init.apply(r,arguments)}}}}};var o=function(){return this};var a=function(e,t){return function(){var r=this;var o=r._super;r._super=n[e];var a=t.apply(r,arguments);r._super=o;return a}};QF=true;var i=new t;QF=false;if(e.Mixins){XF(e.Mixins,(function(t){for(var n in t){if(n!=="init"){e[n]=t[n]}}}));if(n.Mixins){e.Mixins=n.Mixins.concat(e.Mixins)}}if(e.Methods){XF(e.Methods.split(","),(function(t){e[t]=o}))}if(e.Properties){XF(e.Properties.split(","),(function(t){var n="_"+t;e[t]=function(e){var t=this;if(e!==undefined){t[n]=e;return t}return t[n]}}))}if(e.Statics){XF(e.Statics,(function(e,t){r[t]=e}))}if(e.Defaults&&n.Defaults){e.Defaults=YF({},n.Defaults,e.Defaults)}Ce(e,(function(e,t){if(typeof e==="function"&&n[t]){i[t]=a(t,e)}else{i[t]=e}}));r.prototype=i;r.constructor=r;r.extend=JF;return r};var eV=Math.min,tV=Math.max,nV=Math.round;var rV=function(e){var t={};var n=0,r=0,o=0;var a=function(e,t,n){var r,o,a;r=0;o=0;a=0;e=e/255;t=t/255;n=n/255;var i=eV(e,eV(t,n));var u=tV(e,tV(t,n));if(i===u){a=i;return{h:0,s:0,v:a*100}}var c=e===i?t-n:n===i?e-t:n-e;r=e===i?3:n===i?1:5;r=60*(r-c/(u-i));o=(u-i)/u;a=u;return{h:nV(r),s:nV(o*100),v:nV(a*100)}};var i=function(e,t,a){e=(parseInt(e,10)||0)%360;t=parseInt(t,10)/100;a=parseInt(a,10)/100;t=tV(0,eV(t,1));a=tV(0,eV(a,1));if(t===0){n=r=o=nV(255*a);return}var i=e/60;var u=a*t;var c=u*(1-Math.abs(i%2-1));var f=a-u;switch(Math.floor(i)){case 0:n=u;r=c;o=0;break;case 1:n=c;r=u;o=0;break;case 2:n=0;r=u;o=c;break;case 3:n=0;r=c;o=u;break;case 4:n=c;r=0;o=u;break;case 5:n=u;r=0;o=c;break;default:n=r=o=0}n=nV(255*(n+f));r=nV(255*(r+f));o=nV(255*(o+f))};var u=function(){var e=function(e){e=parseInt(e,10).toString(16);return e.length>1?e:"0"+e};return"#"+e(n)+e(r)+e(o)};var c=function(){return{r:n,g:r,b:o}};var f=function(){return a(n,r,o)};var s=function(e){var a;if(typeof e==="object"){if("r"in e){n=e.r;r=e.g;o=e.b}else if("v"in e){i(e.h,e.s,e.v)}}else{if(a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e)){n=parseInt(a[1],10);r=parseInt(a[2],10);o=parseInt(a[3],10)}else if(a=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e)){n=parseInt(a[1],16);r=parseInt(a[2],16);o=parseInt(a[3],16)}else if(a=/#([0-F])([0-F])([0-F])/gi.exec(e)){n=parseInt(a[1]+a[1],16);r=parseInt(a[2]+a[2],16);o=parseInt(a[3]+a[3],16)}}n=n<0?0:n>255?255:n;r=r<0?0:r>255?255:r;o=o<0?0:o>255?255:o;return t};if(e){s(e)}t.toRgb=c;t.toHsv=f;t.toHex=u;t.parse=s;return t};var oV=function(e){var t=JSON.stringify(e);if(!p(t)){return t}return t.replace(/[\u0080-\uFFFF]/g,(function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t}))};var aV={serialize:oV,parse:function(e){try{return JSON.parse(e)}catch(e){}}};var iV={callbacks:{},count:0,send:function(e){var t=this,n=Uf.DOM,r=e.count!==undefined?e.count:t.count;var o="tinymce_jsonp_"+r;t.callbacks[r]=function(a){n.remove(o);delete t.callbacks[r];e.callback(a)};n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"});t.count++}};var uV=We(We({},GI),{send:function(e){var t,n=0;var r=function(){if(!e.async||t.readyState===4||n++>1e4){if(e.success&&n<1e4&&t.status===200){e.success.call(e.success_scope,""+t.responseText,t,e)}else if(e.error){e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e)}t=null}else{ba.setTimeout(r,10)}};e.scope=e.scope||this;e.success_scope=e.success_scope||e.scope;e.error_scope=e.error_scope||e.scope;e.async=e.async!==false;e.data=e.data||"";uV.fire("beforeInitialize",{settings:e});t=new XMLHttpRequest;if(t.overrideMimeType){t.overrideMimeType(e.content_type)}t.open(e.type||(e.data?"POST":"GET"),e.url,e.async);if(e.crossDomain){t.withCredentials=true}if(e.content_type){t.setRequestHeader("Content-Type",e.content_type)}if(e.requestheaders){mn.each(e.requestheaders,(function(e){t.setRequestHeader(e.key,e.value)}))}t.setRequestHeader("X-Requested-With","XMLHttpRequest");t=uV.fire("beforeSend",{xhr:t,settings:e}).xhr;t.send(e.data);if(!e.async){return r()}ba.setTimeout(r,10)}});var cV=mn.extend;var fV=function(){function e(e){this.settings=cV({},e);this.count=0}e.sendRPC=function(t){return(new e).send(t)};e.prototype.send=function(e){var t=e.error,n=e.success;var r=cV(this.settings,e);r.success=function(e,o){e=aV.parse(e);if(typeof e==="undefined"){e={error:"JSON Parse error."}}if(e.error){t.call(r.error_scope||r.scope,e.error,o)}else{n.call(r.success_scope||r.scope,e.result)}};r.error=function(e,n){if(t){t.call(r.error_scope||r.scope,e,n)}};r.data=aV.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params});r.content_type="application/json";uV.send(r)};return e}();var sV=function(){return function(){var e={};var t=[];var n={getItem:function(t){var n=e[t];return n?n:null},setItem:function(n,r){t.push(n);e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter((function(e){return e===n}));delete e[n]},clear:function(){t=[];e={}},length:0};Object.defineProperty(n,"length",{get:function(){return t.length},configurable:false,enumerable:false});return n}()};var lV;try{var vV="__storage_test__";lV=window.localStorage;lV.setItem(vV,vV);lV.removeItem(vV)}catch(e){lV=sV()}var dV=lV;var mV={geom:{Rect:qF},util:{Promise:sa,Delay:ba,Tools:mn,VK:tp,URI:Fy,Class:ZF,EventDispatcher:WI,Observable:GI,I18n:ss,XHR:uV,JSON:aV,JSONRequest:fV,JSONP:iV,LocalStorage:dV,Color:rV,ImageUploader:oA},dom:{EventUtils:Iu,Sizzle:Vc,DomQuery:zf,TreeWalker:Ca,TextSeeker:Ys,DOMUtils:Uf,ScriptLoader:Yf,RangeUtils:kp,Serializer:xE,StyleSheetLoader:ya,ControlSelection:rp,BookmarkManager:Hh,Selection:A_,Event:Iu.Event},html:{Styles:Tu,Entities:su,Node:Dy,Schema:Su,SaxParser:Ky,DomParser:cE,Writer:aw,Serializer:iw},Env:en,AddOnManager:ls,Annotator:Lh,Formatter:hA,UndoManager:wA,EditorCommands:OI,WindowManager:zD,NotificationManager:AD,EditorObservable:ZI,Shortcuts:sF,Editor:bF,FocusManager:Vb,EditorManager:zF,DOM:Uf.DOM,ScriptLoader:Yf.ScriptLoader,PluginManager:ND,ThemeManager:MD,IconManager:hD,Resource:KF,trim:mn.trim,isArray:mn.isArray,is:mn.is,toArray:mn.toArray,makeMap:mn.makeMap,each:mn.each,map:mn.map,grep:mn.grep,inArray:mn.inArray,extend:mn.extend,create:mn.create,walk:mn.walk,createNS:mn.createNS,resolve:mn.resolve,explode:mn.explode,_addCacheSuffix:mn._addCacheSuffix,isOpera:en.opera,isWebKit:en.webkit,isIE:en.ie,isGecko:en.gecko,isMac:en.mac};var gV=mn.extend(zF,mV);var hV=function(t){if(true){try{e.exports=t}catch(e){}}};var pV=function(e){window.tinymce=e;window.tinyMCE=e};pV(gV);hV(gV)})()}};var t={};function n(r){var o=t[r];if(o!==undefined){return o.exports}var a=t[r]={exports:{}};e[r](a,a.exports,n);return a.exports}(()=>{n.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()})();var r={};(()=>{window.tinymce=window.tinyMCE=n(558);n(559);n(560);n(561);n(563);n(565);n(567);n(569);n(571);n(573);n(575);n(577);n(579);n(581);n(583);n(585)})()})();