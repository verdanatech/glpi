(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery","./jquery.fileupload-process"],e)}else if(typeof exports==="object"){e(require("jquery"),require("./jquery.fileupload-process"))}else{e(window.jQuery)}})((function(e){"use strict";e.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:true,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"});e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{getNumberOfFiles:e.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(i,l){if(l.disabled){return i}var r=e.Deferred(),s=this.options,t=i.files[i.index],o;if(l.minFileSize||l.maxFileSize){o=t.size}if(e.type(l.maxNumberOfFiles)==="number"&&(s.getNumberOfFiles()||0)+i.files.length>l.maxNumberOfFiles){t.error=s.i18n("maxNumberOfFiles")}else if(l.acceptFileTypes&&!(l.acceptFileTypes.test(t.type)||l.acceptFileTypes.test(t.name))){t.error=s.i18n("acceptFileTypes")}else if(o>l.maxFileSize){t.error=s.i18n("maxFileSize")}else if(e.type(o)==="number"&&o<l.minFileSize){t.error=s.i18n("minFileSize")}else{delete t.error}if(t.error||i.files.error){i.files.error=true;r.rejectWith(this,[i])}else{r.resolveWith(this,[i])}return r.promise()}}})}));